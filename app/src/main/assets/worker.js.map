{"version":3,"file":"worker.js","mappings":"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IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;EACxgD,IAAIC,EAAE,GAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC;;EAExgD;EACA,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;;EAEzgG;EACA,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;;EAEzgG;EACA,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EACzgG,IAAIC,EAAE,GAAG,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC;EAEzgG,SAASC,cAAcA,CAACn/C,K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AM20E,QAAQ,GAAGC,aAAa,CAACl2E,IAAI,CAAC;IAEpC,IAAIg2E,OAAO,EAAE;MACX,MAAMpM,MAAM,GAAGoM,OAAO,CAAC36G,GAAG,CAAC46G,QAAQ,CAAC;MACpC,IAAIrM,MAAM,EAAE;QACV,OAAOA,MAAM;MACf;IACF,CAAC,MAAM;MACLoM,OAAO,GAAG,IAAIt8E,GAAG,CAAC,CAAC;MACnByR,KAAK,CAACpkB,GAAG,CAACga,EAAE,EAAEi1E,OAAO,CAAC;IACxB;IAEA,MAAMn5E,QAAQ,GAAG,MAAMkE,EAAE,CAAC,GAAGf,IAAI,CAAC;IAElC,IAAI+1E,WAAW,CAACl5E,QAAQ,CAAC,EAAE;MACzBm5E,OAAO,CAACjvF,GAAG,CAACkvF,QAAQ,EAAEp5E,QAAQ,CAAC;IACjC;IAEA,OAAOA,QAAQ;EACjB,CAAC;AACH;AAEA,SAASq5E,aAAaA,CAACl2E,IAAW,EAAE;EAClC,OAAOA,IAAI,CAAC3d,MAAM,CAAC,CAAC4zF,QAAQ,EAAE9vD,GAAG,KAAK;IACpC,OAAQ,GAAE8vD,QAAS,IAAG,OAAO9vD,GAAG,KAAK,QAAQ,GAAGvmC,IAAI,CAACC,SAAS,CAACmgB,IAAI,CAAC,GAAGmmB,GAAI,EAAC;EAC9E,CAAC,EAAE,EAAE,CAAC;AACR;;;;;;;;;;ACjCA;;;;;;;;;;ACAA;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;;;;WClCA;WACA;WACA;WACA;WACA,+BAA+B,wCAAwC;WACvE;WACA;WACA;WACA;WACA,iBAAiB,qBAAqB;WACtC;WACA;WACA,kBAAkB,qBAAqB;WACvC;WACA;WACA,KAAK;WACL;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WC3BA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,aAAa;WACb;WACA;WACA;WACA;;WAEA;WACA;WACA;;WAEA;;WAEA;;;;;WCpCA;WACA;WACA;WACA;;;;;UEHA;UACA","sources":["webpack://api/webpack/universalModuleDefinition","webpack://api/./src/api/blockchains/index.ts","webpack://api/./src/api/blockchains/ton/address.ts","webpack://api/./src/api/blockchains/ton/auth.ts","webpack://api/./src/api/blockchains/ton/constants.ts","webpack://api/./src/api/blockchains/ton/contracts/DnsItem.ts","webpack://api/./src/api/blockchains/ton/contracts/JettonConstants.ts","webpack://api/./src/api/blockchains/ton/contracts/JettonMaster.ts","webpack://api/./src/api/blockchains/ton/contracts/JettonWallet.ts","webpack://api/./src/api/blockchains/ton/contracts/NominatorPool.ts","webpack://api/./src/api/blockchains/ton/index.ts","webpack://api/./src/api/blockchains/ton/nfts.ts","webpack://api/./src/api/blockchains/ton/other.ts","webpack://api/./src/api/blockchains/ton/staking.ts","webpack://api/./src/api/blockchains/ton/swap.ts","webpack://api/./src/api/blockchains/ton/tokens.ts","webpack://api/./src/api/blockchains/ton/transactions.ts","webpack://api/./src/api/blockchains/ton/util/TonClient.ts","webpack://api/./src/api/blockchains/ton/util/apiV3.ts","webpack://api/./src/api/blockchains/ton/util/diesel.ts","webpack://api/./src/api/blockchains/ton/util/dns.ts","webpack://api/./src/api/blockchains/ton/util/encryption.ts","webpack://api/./src/api/blockchains/ton/util/index.ts","webpack://api/./src/api/blockchains/ton/util/metadata.ts","webpack://api/./src/api/blockchains/ton/util/sendExternal.ts","webpack://api/./src/api/blockchains/ton/util/tonCore.ts","webpack://api/./src/api/blockchains/ton/util/tonapiio.ts","webpack://api/./src/api/blockchains/ton/wallet.ts","webpack://api/./src/api/common/accounts.ts","webpack://api/./src/api/common/addresses.ts","webpack://api/./src/api/common/backend.ts","webpack://api/./src/api/common/cache.ts","webpack://api/./src/api/common/dappPromises.ts","webpack://api/./src/api/common/helpers.ts","webpack://api/./src/api/common/txCallbacks.ts","webpack://api/./src/api/common/utils.ts","webpack://api/./src/api/db.ts","webpack://api/./src/api/environment.ts","webpack://api/./src/api/errors.ts","webpack://api/./src/api/hooks.ts","webpack://api/./src/api/methods/accounts.ts","webpack://api/./src/api/methods/auth.ts","webpack://api/./src/api/methods/dapps.ts","webpack://api/./src/api/methods/index.ts","webpack://api/./src/api/methods/init.ts","webpack://api/./src/api/methods/nfts.ts","webpack://api/./src/api/methods/other.ts","webpack://api/./src/api/methods/polling.ts","webpack://api/./src/api/methods/preload.ts","webpack://api/./src/api/methods/prices.ts","webpack://api/./src/api/methods/staking.ts","webpack://api/./src/api/methods/swap.ts","webpack://api/./src/api/methods/tokens.ts","webpack://api/./src/api/methods/transactions.ts","webpack://api/./src/api/methods/vesting.ts","webpack://api/./src/api/methods/wallet.ts","webpack://api/./src/api/providers/worker/provider.ts","webpack://api/./src/api/storages/capacitorStorage.ts","webpack://api/./src/api/storages/extension.ts","webpack://api/./src/api/storages/idb.ts","webpack://api/./src/api/storages/index.ts","webpack://api/./src/api/storages/localStorage.ts","webpack://api/./src/api/storages/types.ts","webpack://api/./src/api/tonConnect/errors.ts","webpack://api/./src/api/tonConnect/index.ts","webpack://api/./src/api/tonConnect/sse.ts","webpack://api/./src/api/tonConnect/types/index.ts","webpack://api/./src/api/tonConnect/utils.ts","webpack://api/./src/api/types/activity.ts","webpack://api/./src/api/types/backend.ts","webpack://api/./src/api/types/errors.ts","webpack://api/./src/api/types/index.ts","webpack://api/./src/api/types/misc.ts","webpack://api/./src/api/types/payload.ts","webpack://api/./src/api/types/storage.ts","webpack://api/./src/api/types/updates.ts","webpack://api/./src/config.ts","webpack://api/./src/lib/aes-js/index.js","webpack://api/./src/lib/axios-fetch-adapter/index.js","webpack://api/./src/lib/axios-retry/index.js","webpack://api/./src/lib/big.js/index.js","webpack://api/./src/lib/confusables/characters.ts","webpack://api/./src/lib/confusables/index.ts","webpack://api/./src/lib/confusables/util.ts","webpack://api/./src/lib/dexie/dexie.js","webpack://api/./src/lib/is-retry-allowed/index.js","webpack://api/./src/lib/noble-ed25519/index.js","webpack://api/./src/util/Deferred.ts","webpack://api/./src/util/PostMessageConnector.ts","webpack://api/./src/util/account.ts","webpack://api/./src/util/areDeepEqual.ts","webpack://api/./src/util/assert.ts","webpack://api/./src/util/bigint.ts","webpack://api/./src/util/bigintPatch.ts","webpack://api/./src/util/callbacks.ts","webpack://api/./src/util/capacitorStorageProxy/connector.ts","webpack://api/./src/util/compareActivities.ts","webpack://api/./src/util/createPostMessageInterface.ts","webpack://api/./src/util/decimals.ts","webpack://api/./src/util/dns.ts","webpack://api/./src/util/fetch.ts","webpack://api/./src/util/generateUniqueId.ts","webpack://api/./src/util/handleError.ts","webpack://api/./src/util/isMnemonicPrivateKey.ts","webpack://api/./src/util/iteratees.ts","webpack://api/./src/util/ledger/tab.ts","webpack://api/./src/util/logs.ts","webpack://api/./src/util/metadata.ts","webpack://api/./src/util/pauseOrFocus.ts","webpack://api/./src/util/random.ts","webpack://api/./src/util/safeExec.ts","webpack://api/./src/util/schedulers.ts","webpack://api/./src/util/swap/buildSwapId.ts","webpack://api/./src/util/withCacheAsync.ts","webpack://api/ignored|/media/hdd/Projects/Pet/Android/mytonwallet1/node_modules/tweetnacl-util|buffer","webpack://api/ignored|/media/hdd/Projects/Pet/Android/mytonwallet1/node_modules/tweetnacl|crypto","webpack://api/webpack/bootstrap","webpack://api/webpack/runtime/chunk loaded","webpack://api/webpack/runtime/compat get default export","webpack://api/webpack/runtime/define property getters","webpack://api/webpack/runtime/ensure chunk","webpack://api/webpack/runtime/get javascript chunk filename","webpack://api/webpack/runtime/get mini-css chunk filename","webpack://api/webpack/runtime/global","webpack://api/webpack/runtime/hasOwnProperty shorthand","webpack://api/webpack/runtime/make namespace object","webpack://api/webpack/runtime/publicPath","webpack://api/webpack/runtime/importScripts chunk loading","webpack://api/webpack/runtime/startup chunk dependencies","webpack://api/webpack/before-startup","webpack://api/webpack/startup","webpack://api/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"api\"] = factory();\n\telse\n\t\troot[\"api\"] = factory();\n})(this, () => {\nreturn ","import * as ton from './ton';\n\nexport default {\n  ton,\n};\n","import { Address } from '@ton/core';\n\nimport type { ApiNetwork } from '../../types';\n\nimport dns from '../../../util/dns';\nimport { fetchAddressBook } from './util/apiV3';\nimport { dnsResolve } from './util/dns';\nimport { getTonClient, toBase64Address } from './util/tonCore';\nimport { getKnownAddressInfo } from '../../common/addresses';\nimport { DnsCategory } from './constants';\n\nconst TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\nconst VIP_DNS_COLLECTION = 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS';\nconst GRAM_DNS_COLLECTION = 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ';\n\nexport async function resolveAddress(network: ApiNetwork, address: string): Promise<{\n  address: string;\n  name?: string;\n  isMemoRequired?: boolean;\n  isScam?: boolean;\n} | undefined> {\n  const isDomain = dns.isDnsDomain(address);\n  let domain: string | undefined;\n\n  if (isDomain) {\n    const resolvedAddress = await resolveAddressByDomain(network, address);\n    if (!resolvedAddress) {\n      return undefined;\n    }\n\n    const addressBook = await fetchAddressBook(network, [resolvedAddress]);\n\n    domain = address;\n    address = addressBook[resolvedAddress].user_friendly;\n  }\n\n  const normalizedAddress = normalizeAddress(address);\n  const known = getKnownAddressInfo(normalizedAddress);\n\n  if (known) {\n    return {\n      address,\n      ...known,\n      name: domain ?? known.name,\n    };\n  }\n\n  return { address, name: domain };\n}\n\nasync function resolveAddressByDomain(network: ApiNetwork, domain: string) {\n  try {\n    let base: string;\n    let collection: string;\n    if (dns.isVipDnsDomain(domain)) {\n      base = dns.removeVipZone(domain)!;\n      collection = VIP_DNS_COLLECTION;\n    } else if (dns.isGramDnsDomain(domain)) {\n      base = dns.removeGramZone(domain)!;\n      collection = GRAM_DNS_COLLECTION;\n    } else {\n      base = dns.removeTonZone(domain);\n      collection = TON_DNS_COLLECTION;\n    }\n\n    const result = await dnsResolve(\n      getTonClient(network),\n      collection,\n      base,\n      DnsCategory.Wallet,\n    );\n\n    if (!(result instanceof Address)) {\n      return undefined;\n    }\n\n    return toBase64Address(result, undefined, network);\n  } catch (err: any) {\n    if (!err.message?.includes('exit_code')) {\n      throw err;\n    }\n    return undefined;\n  }\n}\n\nexport function normalizeAddress(address: string, network?: ApiNetwork) {\n  return toBase64Address(address, true, network);\n}\n","import * as tonWebMnemonic from 'tonweb-mnemonic';\nimport nacl from 'tweetnacl';\n\nimport { ApiCommonError } from '../../types';\n\nimport isMnemonicPrivateKey from '../../../util/isMnemonicPrivateKey';\nimport { logDebugError } from '../../../util/logs';\nimport { getAccountValue, setAccountValue } from '../../common/accounts';\nimport { bytesToHex, hexToBytes } from '../../common/utils';\n\nconst PBKDF2_IMPORT_KEY_ARGS = [\n  { name: 'PBKDF2' },\n  false,\n  ['deriveBits', 'deriveKey'],\n] as const;\n\nconst PBKDF2_DERIVE_KEY_ARGS = {\n  name: 'PBKDF2',\n  iterations: 100000, // Higher is more secure but slower\n  hash: 'SHA-256',\n};\n\nconst PBKDF2_DERIVE_KEY_TYPE = { name: 'AES-GCM', length: 256 };\n\nexport function generateMnemonic() {\n  return tonWebMnemonic.generateMnemonic();\n}\n\nexport function validateMnemonic(mnemonic: string[]) {\n  return tonWebMnemonic.validateMnemonic(mnemonic);\n}\n\nexport function privateKeyHexToKeyPair(privateKeyHex: string) {\n  return nacl.sign.keyPair.fromSeed(hexToBytes(privateKeyHex));\n}\n\nexport function mnemonicToKeyPair(mnemonic: string[]) {\n  return tonWebMnemonic.mnemonicToKeyPair(mnemonic);\n}\n\nexport async function encryptMnemonic(mnemonic: string[], password: string) {\n  const plaintext = mnemonic.join(',');\n  const salt = crypto.getRandomValues(new Uint8Array(16)); // generate a 128-bit salt\n  const keyMaterial = await crypto.subtle.importKey(\n    'raw',\n    new TextEncoder().encode(password),\n    ...PBKDF2_IMPORT_KEY_ARGS,\n  );\n  const key = await crypto.subtle.deriveKey(\n    {\n      salt,\n      ...PBKDF2_DERIVE_KEY_ARGS,\n    },\n    keyMaterial,\n    PBKDF2_DERIVE_KEY_TYPE,\n    false,\n    ['encrypt'],\n  );\n  const iv = crypto.getRandomValues(new Uint8Array(12)); // get 96-bit random iv\n  const ptUint8 = new TextEncoder().encode(plaintext); // encode plaintext as UTF-8\n  const ctBuffer = await crypto.subtle.encrypt({ name: 'AES-GCM', iv }, key, ptUint8); // encrypt plaintext using key\n  const ctArray = Array.from(new Uint8Array(ctBuffer)); // ciphertext as byte array\n  const ctBase64 = btoa(String.fromCharCode(...ctArray)); // encode ciphertext as base64\n  const ivHex = Array.from(iv).map((b) => (`00${b.toString(16)}`).slice(-2)).join(''); // iv as hex string\n  const saltHex = Array.from(salt).map((b) => (`00${b.toString(16)}`).slice(-2)).join(''); // salt as hex string\n\n  return `${saltHex}:${ivHex}:${ctBase64}`;\n}\n\nexport async function decryptMnemonic(encrypted: string, password: string) {\n  if (!encrypted.includes(':')) {\n    return decryptMnemonicLegacy(encrypted, password);\n  }\n\n  const [saltHex, ivHex, encryptedData] = encrypted.split(':');\n  const salt = new Uint8Array(saltHex.match(/.{2}/g)!.map((b) => parseInt(b, 16)));\n  const iv = new Uint8Array(ivHex.match(/.{2}/g)!.map((b) => parseInt(b, 16)));\n  const keyMaterial = await crypto.subtle.importKey(\n    'raw',\n    new TextEncoder().encode(password),\n    ...PBKDF2_IMPORT_KEY_ARGS,\n  );\n  const key = await crypto.subtle.deriveKey(\n    { salt, ...PBKDF2_DERIVE_KEY_ARGS },\n    keyMaterial,\n    PBKDF2_DERIVE_KEY_TYPE,\n    false,\n    ['decrypt'],\n  );\n  const ctStr = atob(encryptedData); // decode base64 ciphertext\n  const ctUint8 = new Uint8Array(ctStr.match(/[\\s\\S]/g)!.map((ch) => ch.charCodeAt(0))); // ciphertext as Uint8Array\n  const plainBuffer = await crypto.subtle.decrypt({ name: 'AES-GCM', iv }, key, ctUint8); // decrypt ciphertext using key\n  const plaintext = new TextDecoder().decode(plainBuffer); // decode password from UTF-8\n\n  return plaintext.split(',');\n}\n\nasync function decryptMnemonicLegacy(encrypted: string, password: string) {\n  const pwUtf8 = new TextEncoder().encode(password); // encode password as UTF-8\n  const pwHash = await crypto.subtle.digest('SHA-256', pwUtf8); // hash the password\n  const iv = encrypted.slice(0, 24).match(/.{2}/g)!.map((byte) => parseInt(byte, 16)); // get iv from ciphertext\n  const alg = { name: 'AES-GCM', iv: new Uint8Array(iv) }; // specify algorithm to use\n  const key = await crypto.subtle.importKey('raw', pwHash, alg, false, ['decrypt']); // use pw to generate key\n  const ctStr = atob(encrypted.slice(24)); // decode base64 ciphertext\n  const ctUint8 = new Uint8Array(ctStr.match(/[\\s\\S]/g)!.map((ch) => ch.charCodeAt(0))); // ciphertext as Uint8Array\n  const plainBuffer = await crypto.subtle.decrypt(alg, key, ctUint8); // decrypt ciphertext using key\n  const plaintext = new TextDecoder().decode(plainBuffer); // decode password from UTF-8\n\n  return plaintext.split(',');\n}\n\nexport async function fetchMnemonic(accountId: string, password: string) {\n  try {\n    const mnemonicEncrypted = await getAccountValue(accountId, 'mnemonicsEncrypted') as string;\n    const mnemonic = await decryptMnemonic(mnemonicEncrypted, password);\n\n    if (!mnemonicEncrypted.includes(':')) {\n      await tryMigratingMnemonicEncryption(accountId, mnemonic, password);\n    }\n\n    return mnemonic;\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n\n    return undefined;\n  }\n}\n\nasync function tryMigratingMnemonicEncryption(accountId: string, mnemonic: string[], password: string) {\n  try {\n    const mnemonicEncrypted = await encryptMnemonic(mnemonic, password);\n\n    // This is a defensive approach against potential corrupted encryption reported by some users\n    const decryptedMnemonic = await decryptMnemonic(mnemonicEncrypted, password)\n      .catch(() => undefined);\n\n    if (!password || !decryptedMnemonic) {\n      return { error: ApiCommonError.DebugError };\n    }\n\n    await Promise.all([\n      setAccountValue(accountId, 'mnemonicsEncrypted', mnemonicEncrypted),\n    ]);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n  }\n\n  return undefined;\n}\n\nexport async function fetchPrivateKey(accountId: string, password: string) {\n  try {\n    const { secretKey: privateKey } = await fetchKeyPair(accountId, password) || {};\n\n    return privateKey;\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n\n    return undefined;\n  }\n}\n\nexport async function fetchKeyPair(accountId: string, password: string) {\n  try {\n    const mnemonic = await fetchMnemonic(accountId, password);\n    if (!mnemonic) {\n      return undefined;\n    }\n\n    return isMnemonicPrivateKey(mnemonic) ? privateKeyHexToKeyPair(mnemonic[0]) : await mnemonicToKeyPair(mnemonic);\n  } catch (err) {\n    logDebugError('fetchKeyPair', err);\n\n    return undefined;\n  }\n}\n\nexport async function rawSign(accountId: string, password: string, dataHex: string) {\n  const privateKey = await fetchPrivateKey(accountId, password);\n  if (!privateKey) {\n    return undefined;\n  }\n\n  const signature = nacl.sign.detached(hexToBytes(dataHex), privateKey);\n\n  return bytesToHex(signature);\n}\n\nexport async function verifyPassword(accountId: string, password: string) {\n  return Boolean(await fetchMnemonic(accountId, password));\n}\n","import type { ApiWalletVersion } from '../../types';\nimport type { ContractInfo, ContractName } from './types';\nimport { Workchain } from '../../types';\n\nexport const TOKEN_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON\nexport const TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON\nexport const NFT_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON\nexport const NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON\n\nexport const STAKE_COMMENT = 'd';\nexport const UNSTAKE_COMMENT = 'w';\n\nexport const ATTEMPTS = 5;\n\nexport const DEFAULT_DECIMALS = 9;\nexport const DEFAULT_IS_BOUNCEABLE = true;\nexport const WALLET_IS_BOUNCEABLE = false;\n\n// Fee may change, so we add 5% for more reliability. This is only safe for low-fee blockchains such as TON.\nexport const FEE_FACTOR = 1.05;\n\nexport const ALL_WALLET_VERSIONS: ApiWalletVersion[] = [\n  'simpleR1', 'simpleR2', 'simpleR3', 'v2R1', 'v2R2', 'v3R1', 'v3R2', 'v4R2', 'W5',\n];\n\nexport const WORKCHAIN = Workchain.BaseChain;\nexport const TRANSFER_TIMEOUT_SEC = 600; // 10 min.\n\nexport enum OpCode {\n  Comment = 0,\n  Encrypted = 0x2167da4b,\n}\n\nexport enum JettonOpCode {\n  Transfer = 0xf8a7ea5,\n  TransferNotification = 0x7362d09c,\n  InternalTransfer = 0x178d4519,\n  Excesses = 0xd53276db,\n  Burn = 0x595f07bc,\n  BurnNotification = 0x7bdd97de,\n}\n\nexport enum NftOpCode {\n  TransferOwnership = 0x5fcc3d14,\n  OwnershipAssigned = 0x05138d91,\n}\n\nexport enum LiquidStakingOpCode {\n  // Pool\n  RequestLoan = 0xe642c965,\n  LoanRepayment = 0xdfdca27b,\n  Deposit = 0x47d54391,\n  Withdraw = 0x319B0CDC,\n  Withdrawal = 0x0a77535c,\n  DeployController = 0xb27edcad,\n  Touch = 0x4bc7c2df,\n  Donate = 0x73affe21,\n  // NFT\n  DistributedAsset = 0xdb3b8abd,\n  // Jetton\n  Vote = 0x69fb306c,\n}\n\nexport enum VestingV1OpCode {\n  AddWhitelist = 0x7258a69b,\n}\n\nexport enum SingleNominatorOpCode {\n  Withdraw = 0x1000,\n  ChangeValidator = 0x1001,\n}\n\nexport enum DnsOpCode {\n  ChangeRecord = 0x4eb1f0f9,\n}\n\nexport enum OtherOpCode {\n  TokenBridgePaySwap = 0x8,\n}\n\nexport enum ContractType {\n  Wallet = 'wallet',\n  Staking = 'staking',\n}\n\nexport enum DnsCategory {\n  DnsNextResolver = 'dns_next_resolver',\n  Wallet = 'wallet',\n  Site = 'site',\n  BagId = 'storage',\n  Unknown = 'unknown',\n}\n\nexport const DNS_CATEGORY_HASH_MAP = {\n  dns_next_resolver: '19f02441ee588fdb26ee24b2568dd035c3c9206e11ab979be62e55558a1d17ff',\n  wallet: 'e8d44050873dba865aa7c170ab4cce64d90839a34dcfd6cf71d14e0205443b1b',\n  site: 'fbae041b02c41ed0fd8a4efb039bc780dd6af4a1f0c420f42561ae705dda43fe',\n  storage: '49a25f9feefaffecad0fcd30c50dc9331cff8b55ece53def6285c09e17e6f5d7',\n} as const;\n\nexport const DNS_ZONES_MAP = {\n  '.t.me': 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',\n  '.ton': 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',\n  '.vip': 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',\n  '.gram': 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ',\n} as const;\n\nexport const KnownContracts: Record<ContractName, ContractInfo> = {\n  simpleR1: {\n    name: 'simpleR1',\n    hash: '3232dc55b02b3d2a9485adc151cf29c50b94c374d3571cb59390d761b87af8bd',\n    type: ContractType.Wallet,\n  },\n  simpleR2: {\n    name: 'simpleR2',\n    hash: '672ce2b01d2fd487a5e0528611e7e4fc11867148cc13ff772bd773b72fb368df',\n    type: ContractType.Wallet,\n  },\n  simpleR3: {\n    name: 'simpleR3',\n    hash: 'd95417233f66ae218317f533630cbbddc677d6d893d5722be6947c8fad8e9d52',\n    type: ContractType.Wallet,\n  },\n  v2R1: {\n    name: 'v2R1',\n    hash: 'fb3bd539b7e50166f1cfdc0bbd298b1c88f6b261fe5ee61343ea47ab4b256029',\n    type: ContractType.Wallet,\n  },\n  v2R2: {\n    name: 'v2R2',\n    hash: 'b584b6106753b7f34709df505be603e463a44ff6a85adf7fec4e26453c325983',\n    type: ContractType.Wallet,\n  },\n  v3R1: {\n    name: 'v3R1',\n    hash: '11d123ed5c2055128e75a9ef4cf1e837e6d14a9c079c39939885c78dc13626e6',\n    type: ContractType.Wallet,\n  },\n  v3R2: {\n    name: 'v3R2',\n    hash: 'df7bf014ee7ac0c38da19ef1b7fa054e2cc7a4513df1f1aa295109cf3606ac14',\n    type: ContractType.Wallet,\n  },\n  v4R1: {\n    name: 'v4R1',\n    hash: '1bc0dfa40956c911616f8a5db09ecc217601bae48d7d3f9311562c5afcb66dcf',\n    type: ContractType.Wallet,\n  },\n  v4R2: {\n    name: 'v4R2',\n    hash: '5659ce2300f4a09a37b0bdee41246ded52474f032c1d6ffce0d7d31b18b7b2b1',\n    type: ContractType.Wallet,\n  },\n  W5: {\n    name: 'W5',\n    hash: '7e94eaaeaaa423b9396e79747038c42edc4fe98dce65094071f0e0ad2df22fd5',\n    type: ContractType.Wallet,\n  },\n  highloadV2: {\n    name: 'highloadV2',\n    hash: 'fcd7d1f3b3847f0b9bd44bc64a2256c03450979dd1646a24fbc874b075392d6e',\n    type: ContractType.Wallet,\n  },\n  nominatorPool: {\n    name: 'nominatorPool',\n    hash: '26faa2d0fd2a8197ea36ded8dc50ad081cce5244207e9b05c08c1bb655527bff',\n    type: ContractType.Staking,\n  },\n  multisig: {\n    name: 'multisig',\n    hash: '45d890485cdd6b152bcbbe3fb2e16d2df82f6da840440a5b9f34ea13cb0b92d2',\n    type: ContractType.Wallet,\n  },\n  multisigV2: {\n    name: 'multisigV2',\n    hash: 'eb1323c5544d5bf26248dc427d108d722d5c2922dd97dd0bdf903c4cea73ca97',\n    type: ContractType.Wallet,\n  },\n  vesting: {\n    name: 'vesting',\n    hash: '69dc931958f7aa203c4a7bfcf263d25d2d828d573184b542a65dd55c8398ad83',\n    type: ContractType.Wallet,\n  },\n  multisigNew: {\n    name: 'multisigNew',\n    hash: '7cb3678880388acff45d74b2e7e7544caa8039d20b49f57c75b53c051b6fa30f',\n    type: ContractType.Wallet,\n  },\n  dedustPool: {\n    name: 'dedustPool',\n    hash: 'f216ded2b43d32e2d487db6fa6e4d2387f0ef1d7b53ec1ad85f0b4feb8e4ed62',\n    isSwapAllowed: true,\n  },\n  dedustVaultNative: {\n    name: 'dedustVaultNative',\n    hash: '64a42ad66688097422901ae6188670f0d6292ad3bdb4139289666f24187e86cb',\n    isSwapAllowed: true,\n  },\n  dedustVaultJetton: {\n    name: 'dedustVaultJetton',\n    hash: '5bc82f0c5972ccc6732e98cbe31ea4795da818f9e06c991331568182a8362307',\n    isSwapAllowed: true,\n  },\n  stonPtonWallet: {\n    name: 'stonPtonWallet',\n    hash: '6ccbf71a3ed9c7355f84a698a44a7406574bfb8aa34d4bbd86ab75ee9c994880',\n    isSwapAllowed: true,\n  },\n  stonRouter: {\n    name: 'stonRouter',\n    hash: '14ce618a0e9a94adc99fa6e975219ddd675425b30dfa9728f98714c8dc55f9da',\n    isSwapAllowed: true,\n  },\n  megatonWtonMaster: {\n    name: 'megatonWtonMaster',\n    hash: '4c9790d808ea4470614e021f76c40529efe2fbce8138da4284a29b5f1943ef19',\n    isSwapAllowed: true,\n  },\n  megatonRouter: {\n    name: 'megatonRouter',\n    hash: '5d5f0e3ed9602d1ba96006ead98cb5e9b53f49ce4a5cf675e06e4d440b7d267c',\n    isSwapAllowed: true,\n  },\n};\n","import type {\n  Address, Cell, Contract, ContractProvider,\n} from '@ton/core';\nimport {\n  beginCell, contractAddress,\n} from '@ton/core';\n\nexport type DnsItemConfig = {};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function dnsItemConfigToCell(config: DnsItemConfig): Cell {\n  return beginCell().endCell();\n}\n\nexport class DnsItem implements Contract {\n  constructor(\n    readonly address: Address,\n    readonly init?: { code: Cell; data: Cell },\n  ) {}\n\n  static createFromAddress(address: Address) {\n    return new DnsItem(address);\n  }\n\n  static createFromConfig(config: DnsItemConfig, code: Cell, workchain = 0) {\n    const data = dnsItemConfigToCell(config);\n    const init = { code, data };\n    return new DnsItem(contractAddress(workchain, init), init);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getDomain(provider: ContractProvider) {\n    const res = await provider.get('get_domain', []);\n    const domain = res.stack.readString();\n    return domain;\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getTelemintDomain(provider: ContractProvider) {\n    const res = await provider.get('get_domain_full', []);\n    const domain = res.stack.readString();\n    const parts = domain.replace(/\\\\u0000/g, '.').replace(/\\.$/, '').split('.');\n    parts.reverse();\n    return parts.join('.');\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getNftData(provider: ContractProvider) {\n    const res = await provider.get('get_nft_data', []);\n    const index = res.stack.readBigNumber();\n    const collectionAddress = res.stack.readAddress();\n    const owner = res.stack.readAddressOpt();\n\n    return {\n      index,\n      collectionAddress,\n      owner,\n    };\n  }\n}\n","// eslint-disable-next-line max-classes-per-file\nexport abstract class Op {\n  static transfer = 0xf8a7ea5;\n\n  static transfer_notification = 0x7362d09c;\n\n  static internal_transfer = 0x178d4519;\n\n  static excesses = 0xd53276db;\n\n  static burn = 0x595f07bc;\n\n  static burn_notification = 0x7bdd97de;\n\n  static provide_wallet_address = 0x2c76b973;\n\n  static take_wallet_address = 0xd1735400;\n\n  static mint = 21;\n\n  static change_admin = 3;\n\n  static change_content = 4;\n}\n\nexport abstract class Errors {\n  static invalid_op = 709;\n\n  static not_admin = 73;\n\n  static unouthorized_burn = 74;\n\n  static discovery_fee_not_matched = 75;\n\n  static wrong_op = 0xffff;\n\n  static not_owner = 705;\n\n  static not_enough_ton = 709;\n\n  static not_enough_gas = 707;\n\n  static not_valid_wallet = 707;\n\n  static wrong_workchain = 333;\n\n  static balance_error = 706;\n}\n","import type {\n  Address, Cell, Contract, ContractProvider, Sender,\n} from '@ton/core';\nimport {\n  beginCell, contractAddress, SendMode, toNano,\n} from '@ton/core';\n\nimport { Op } from './JettonConstants';\n\nexport type JettonMinterContent = {\n  type:0 | 1;\n  uri:string;\n};\n\nexport type JettonMinterConfig = { admin: Address; content: Cell; wallet_code: Cell };\n\nexport function jettonMinterConfigToCell(config: JettonMinterConfig): Cell {\n  return beginCell()\n    .storeCoins(0)\n    .storeAddress(config.admin)\n    .storeRef(config.content)\n    .storeRef(config.wallet_code)\n    .endCell();\n}\n\nexport function jettonContentToCell(content:JettonMinterContent) {\n  return beginCell()\n    .storeUint(content.type, 8)\n    .storeStringTail(content.uri) // Snake logic under the hood\n    .endCell();\n}\n\nexport class JettonMinter implements Contract {\n  constructor(readonly address: Address, readonly init?: { code: Cell; data: Cell }) {}\n\n  static createFromAddress(address: Address) {\n    return new JettonMinter(address);\n  }\n\n  static createFromConfig(config: JettonMinterConfig, code: Cell, workchain = 0) {\n    const data = jettonMinterConfigToCell(config);\n    const init = { code, data };\n    return new JettonMinter(contractAddress(workchain, init), init);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendDeploy(provider: ContractProvider, via: Sender, value: bigint) {\n    await provider.internal(via, {\n      value,\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: beginCell().endCell(),\n    });\n  }\n\n  protected static jettonInternalTransfer(jetton_amount: bigint,\n    forward_ton_amount: bigint,\n    response_addr?: Address,\n    query_id: number | bigint = 0) {\n    return beginCell()\n      .storeUint(Op.internal_transfer, 32)\n      .storeUint(query_id, 64)\n      .storeCoins(jetton_amount)\n      .storeAddress(undefined)\n      .storeAddress(response_addr)\n      .storeCoins(forward_ton_amount)\n      .storeBit(false)\n      .endCell();\n  }\n\n  static mintMessage(\n    from: Address,\n    to: Address,\n    jetton_amount: bigint,\n    forward_ton_amount: bigint,\n    total_ton_amount: bigint,\n    query_id: number | bigint = 0,\n  ) {\n    const mintMsg = beginCell().storeUint(Op.internal_transfer, 32)\n      .storeUint(0, 64)\n      .storeCoins(jetton_amount)\n      .storeAddress(undefined)\n      .storeAddress(from) // Response addr\n      .storeCoins(forward_ton_amount)\n      .storeMaybeRef(undefined)\n      .endCell();\n\n    return beginCell().storeUint(Op.mint, 32).storeUint(query_id, 64) // op, queryId\n      .storeAddress(to)\n      .storeCoins(total_ton_amount)\n      .storeCoins(jetton_amount)\n      .storeRef(mintMsg)\n      .endCell();\n  }\n\n  async sendMint(\n    provider: ContractProvider,\n    via: Sender,\n    to: Address,\n    jetton_amount: bigint,\n    forward_ton_amount: bigint,\n    total_ton_amount: bigint,\n  ) {\n    if (total_ton_amount <= forward_ton_amount) {\n      throw new Error('Total ton amount should be > forward amount');\n    }\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonMinter.mintMessage(this.address, to, jetton_amount, forward_ton_amount, total_ton_amount),\n      value: total_ton_amount + toNano('0.015'),\n    });\n  }\n\n  /* provide_wallet_address#2c76b973 query_id:uint64 owner_address:MsgAddress include_address:Bool = InternalMsgBody;\n  */\n  static discoveryMessage(owner: Address, include_address: boolean) {\n    return beginCell().storeUint(0x2c76b973, 32).storeUint(0, 64) // op, queryId\n      .storeAddress(owner)\n      .storeBit(include_address)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendDiscovery(\n    provider: ContractProvider,\n    via: Sender,\n    owner: Address,\n    include_address: boolean,\n    value:bigint = toNano('0.1'),\n  ) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonMinter.discoveryMessage(owner, include_address),\n      value,\n    });\n  }\n\n  static changeAdminMessage(newOwner: Address) {\n    return beginCell().storeUint(Op.change_admin, 32).storeUint(0, 64) // op, queryId\n      .storeAddress(newOwner)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendChangeAdmin(provider: ContractProvider, via: Sender, newOwner: Address) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonMinter.changeAdminMessage(newOwner),\n      value: toNano('0.05'),\n    });\n  }\n\n  static changeContentMessage(content: Cell) {\n    return beginCell().storeUint(Op.change_content, 32).storeUint(0, 64) // op, queryId\n      .storeRef(content)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendChangeContent(provider: ContractProvider, via: Sender, content: Cell) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonMinter.changeContentMessage(content),\n      value: toNano('0.05'),\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getWalletAddress(provider: ContractProvider, owner: Address): Promise<Address> {\n    const res = await provider.get('get_wallet_address', [{\n      type: 'slice', cell: beginCell().storeAddress(owner).endCell(),\n    }]);\n    return res.stack.readAddress();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getJettonData(provider: ContractProvider) {\n    const res = await provider.get('get_jetton_data', []);\n    const totalSupply = res.stack.readBigNumber();\n    const mintable = res.stack.readBoolean();\n    const adminAddress = res.stack.readAddress();\n    const content = res.stack.readCell();\n    const walletCode = res.stack.readCell();\n    return {\n      totalSupply,\n      mintable,\n      adminAddress,\n      content,\n      walletCode,\n    };\n  }\n\n  async getTotalSupply(provider: ContractProvider) {\n    const res = await this.getJettonData(provider);\n    return res.totalSupply;\n  }\n\n  async getAdminAddress(provider: ContractProvider) {\n    const res = await this.getJettonData(provider);\n    return res.adminAddress;\n  }\n\n  async getContent(provider: ContractProvider) {\n    const res = await this.getJettonData(provider);\n    return res.content;\n  }\n}\n","import type {\n  Address, Cell, Contract, ContractProvider, Sender,\n} from '@ton/core';\nimport {\n  beginCell, contractAddress, SendMode, toNano,\n} from '@ton/core';\n\nexport type JettonWalletConfig = {};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function jettonWalletConfigToCell(config: JettonWalletConfig): Cell {\n  return beginCell().endCell();\n}\n\nexport class JettonWallet implements Contract {\n  constructor(readonly address: Address, readonly init?: { code: Cell; data: Cell }) {}\n\n  static createFromAddress(address: Address) {\n    return new JettonWallet(address);\n  }\n\n  static createFromConfig(config: JettonWalletConfig, code: Cell, workchain = 0) {\n    const data = jettonWalletConfigToCell(config);\n    const init = { code, data };\n    return new JettonWallet(contractAddress(workchain, init), init);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendDeploy(provider: ContractProvider, via: Sender, value: bigint) {\n    await provider.internal(via, {\n      value,\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: beginCell().endCell(),\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getJettonBalance(provider: ContractProvider) {\n    const state = await provider.getState();\n    if (state.state.type !== 'active') {\n      return 0n;\n    }\n    const res = await provider.get('get_wallet_data', []);\n    return res.stack.readBigNumber();\n  }\n\n  static transferMessage(\n    jetton_amount: bigint,\n    to: Address,\n    responseAddress:Address,\n    customPayload: Cell | null,\n    forward_ton_amount: bigint,\n    forwardPayload: Cell | null,\n  ) {\n    return beginCell().storeUint(0xf8a7ea5, 32).storeUint(0, 64) // op, queryId\n      .storeCoins(jetton_amount)\n      .storeAddress(to)\n      .storeAddress(responseAddress)\n      .storeMaybeRef(customPayload)\n      .storeCoins(forward_ton_amount)\n      .storeMaybeRef(forwardPayload)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendTransfer(\n    provider: ContractProvider,\n    via: Sender,\n    value: bigint,\n    jetton_amount: bigint, to: Address,\n    responseAddress:Address,\n    customPayload: Cell,\n    forward_ton_amount: bigint,\n    forwardPayload: Cell,\n  ) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonWallet.transferMessage(\n        jetton_amount, to, responseAddress, customPayload, forward_ton_amount, forwardPayload,\n      ),\n      value,\n    });\n  }\n\n  /*\n    burn#595f07bc query_id:uint64 amount:(VarUInteger 16)\n                  response_destination:MsgAddress custom_payload:(Maybe ^Cell)\n                  = InternalMsgBody;\n  */\n  static burnMessage(jetton_amount: bigint,\n    responseAddress:Address,\n    customPayload: Cell | null) {\n    return beginCell().storeUint(0x595f07bc, 32).storeUint(0, 64) // op, queryId\n      .storeCoins(jetton_amount)\n      .storeAddress(responseAddress)\n      .storeMaybeRef(customPayload)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendBurn(provider: ContractProvider, via: Sender, value: bigint,\n    jetton_amount: bigint,\n    responseAddress:Address,\n    customPayload: Cell) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonWallet.burnMessage(jetton_amount, responseAddress, customPayload),\n      value,\n    });\n  }\n\n  /*\n    withdraw_tons#107c49ef query_id:uint64 = InternalMsgBody;\n  */\n  static withdrawTonsMessage() {\n    return beginCell().storeUint(0x6d8e5e3c, 32).storeUint(0, 64) // op, queryId\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendWithdrawTons(provider: ContractProvider, via: Sender) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonWallet.withdrawTonsMessage(),\n      value: toNano('0.1'),\n    });\n  }\n\n  /*\n    withdraw_jettons#10 query_id:uint64 wallet:MsgAddressInt amount:Coins = InternalMsgBody;\n  */\n  static withdrawJettonsMessage(from:Address, amount:bigint) {\n    return beginCell().storeUint(0x768a50b2, 32).storeUint(0, 64) // op, queryId\n      .storeAddress(from)\n      .storeCoins(amount)\n      .storeMaybeRef(undefined)\n      .endCell();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async sendWithdrawJettons(provider: ContractProvider, via: Sender, from:Address, amount:bigint) {\n    await provider.internal(via, {\n      sendMode: SendMode.PAY_GAS_SEPARATELY,\n      body: JettonWallet.withdrawJettonsMessage(from, amount),\n      value: toNano('0.1'),\n    });\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getWalletData(provider: ContractProvider) {\n    const res = await provider.get('get_wallet_data', []);\n    const balance = res.stack.readBigNumber();\n    const owner = res.stack.readAddress();\n    const minter = res.stack.readAddress();\n    const code = res.stack.readCell();\n\n    return {\n      balance, owner, minter, code,\n    };\n  }\n}\n","import type {\n  Cell, Contract, ContractProvider,\n} from '@ton/core';\nimport {\n  Address, beginCell, contractAddress, TupleReader,\n} from '@ton/core';\n\nexport type NominatorPoolConfig = {};\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function nominatorPoolConfigToCell(config: NominatorPoolConfig): Cell {\n  return beginCell().endCell();\n}\n\nexport class NominatorPool implements Contract {\n  constructor(readonly address: Address, readonly init?: { code: Cell; data: Cell }) {}\n\n  static createFromAddress(address: Address) {\n    return new NominatorPool(address);\n  }\n\n  static createFromConfig(config: NominatorPoolConfig, code: Cell, workchain = 0) {\n    const data = nominatorPoolConfigToCell(config);\n    const init = { code, data };\n    return new NominatorPool(contractAddress(workchain, init), init);\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  async getListNominators(provider: ContractProvider): Promise<{\n    address: Address;\n    amount: bigint;\n    pendingDepositAmount: bigint;\n    withdrawRequested: boolean;\n  }[]> {\n    const res = await provider.get('list_nominators', []);\n    const tupleReader = (res.stack as TupleReader).readTuple();\n    const itemsArray = (tupleReader as any).items as bigint[][];\n\n    return itemsArray.map((items: bigint[]) => {\n      const tupleItems = items.map((value) => ({ type: 'int' as const, value }));\n      const tuple = new TupleReader(tupleItems);\n\n      const hash = tuple.readBigNumber().toString(16).padStart(64, '0');\n      const address = Address.parse(`0:${hash}`);\n      const amount = tuple.readBigNumber();\n      const pendingDepositAmount = tuple.readBigNumber();\n      const withdrawRequested = Boolean(tuple.readNumber());\n\n      return {\n        address,\n        amount,\n        pendingDepositAmount,\n        withdrawRequested,\n      };\n    });\n  }\n}\n","export {\n  encryptMnemonic,\n  decryptMnemonic,\n  fetchMnemonic,\n  generateMnemonic,\n  rawSign,\n  mnemonicToKeyPair,\n  validateMnemonic,\n  verifyPassword,\n  fetchPrivateKey,\n} from './auth';\nexport {\n  getAccountNfts,\n  getNftUpdates,\n  checkNftTransferDraft,\n  submitNftTransfers,\n} from './nfts';\nexport { oneCellFromBoc } from './util/tonCore';\nexport { buildTokenSlug } from './util';\nexport {\n  checkTransactionDraft,\n  getAccountNewestTxId,\n  getAccountTransactionSlice,\n  getTokenTransactionSlice,\n  submitTransfer,\n  waitPendingTransfer,\n  checkMultiTransactionDraft,\n  submitMultiTransfer,\n  getMergedTransactionSlice,\n  sendSignedMessage,\n  sendSignedMessages,\n  decryptComment,\n  waitUntilTransactionAppears,\n  fixTokenActivitiesAddressForm,\n  submitTransferWithDiesel,\n  fetchEstimateDiesel,\n} from './transactions';\nexport {\n  getAccountBalance,\n  pickAccountWallet,\n  pickBestWallet,\n  publicKeyToAddress,\n  resolveWalletVersion,\n  getWalletStateInit,\n  getWalletBalance,\n  getWalletSeqno,\n  isAddressInitialized,\n  isActiveSmartContract,\n  getWalletInfo,\n  pickWalletByAddress,\n  getWalletVersions,\n  getWalletVersionInfos,\n  getContractInfo,\n} from './wallet';\nexport {\n  checkStakeDraft,\n  checkUnstakeDraft,\n  submitStake,\n  submitUnstake,\n  getStakingState,\n} from './staking';\nexport {\n  packPayloadToBoc,\n  checkApiAvailability,\n} from './other';\nexport {\n  getAccountTokenBalances,\n  getTokenBalances,\n  getAddressTokenBalances,\n  fetchToken,\n  resolveTokenBySlug,\n} from './tokens';\nexport {\n  resolveTokenWalletAddress,\n  resolveTokenMinterAddress,\n} from './util/tonCore';\nexport {\n  parsePayloadBase64,\n} from './util/metadata';\nexport {\n  normalizeAddress,\n} from './address';\nexport {\n  validateDexSwapTransfers,\n} from './swap';\n","import type { NftItem } from 'tonapi-sdk-js';\nimport type { Cell } from '@ton/core';\nimport { Address, Builder } from '@ton/core';\n\nimport type { ApiNft, ApiNftUpdate } from '../../types';\nimport type { ApiCheckTransactionDraftResult } from './types';\n\nimport {\n  BURN_ADDRESS,\n  NFT_BATCH_SIZE,\n  NOTCOIN_EXCHANGERS,\n  NOTCOIN_FORWARD_TON_AMOUNT,\n  NOTCOIN_VOUCHERS_ADDRESS,\n} from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport { compact } from '../../../util/iteratees';\nimport { generateQueryId } from './util';\nimport { buildNft } from './util/metadata';\nimport { fetchAccountEvents, fetchAccountNfts, fetchNftItems } from './util/tonapiio';\nimport { commentToBytes, packBytesAsSnake, toBase64Address } from './util/tonCore';\nimport { fetchStoredAccount, fetchStoredAddress } from '../../common/accounts';\nimport { NFT_TRANSFER_TONCOIN_AMOUNT, NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT, NftOpCode } from './constants';\nimport { checkMultiTransactionDraft, checkToAddress, submitMultiTransfer } from './transactions';\nimport { isActiveSmartContract } from './wallet';\n\nexport async function getAccountNfts(accountId: string, offset?: number, limit?: number): Promise<ApiNft[]> {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  const rawNfts = await fetchAccountNfts(network, address, { offset, limit });\n  return compact(rawNfts.map((rawNft) => buildNft(network, rawNft)));\n}\n\nexport async function getNftUpdates(accountId: string, fromSec: number) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  const events = await fetchAccountEvents(network, address, fromSec);\n  fromSec = events[0]?.timestamp ?? fromSec;\n  events.reverse();\n  const updates: ApiNftUpdate[] = [];\n\n  for (const event of events) {\n    for (const action of event.actions) {\n      let to: string;\n      let nftAddress: string;\n      let rawNft: NftItem | undefined;\n      const isPurchase = !!action.NftPurchase;\n\n      if (action.NftItemTransfer) {\n        const { sender, recipient, nft: rawNftAddress } = action.NftItemTransfer;\n        if (!sender || !recipient) continue;\n        to = toBase64Address(recipient.address, undefined, network);\n        nftAddress = toBase64Address(rawNftAddress, true, network);\n      } else if (action.NftPurchase) {\n        const { buyer } = action.NftPurchase;\n        to = toBase64Address(buyer.address, undefined, network);\n        rawNft = action.NftPurchase.nft;\n        if (!rawNft) {\n          continue;\n        }\n        nftAddress = toBase64Address(rawNft.address, true, network);\n      } else {\n        continue;\n      }\n\n      if (to === address) {\n        if (!rawNft) {\n          [rawNft] = await fetchNftItems(network, [nftAddress]);\n        }\n\n        if (rawNft) {\n          const nft = buildNft(network, rawNft);\n\n          if (nft) {\n            updates.push({\n              type: 'nftReceived',\n              accountId,\n              nftAddress,\n              nft,\n            });\n          }\n        }\n      } else if (!isPurchase && await isActiveSmartContract(network, to)) {\n        updates.push({\n          type: 'nftPutUpForSale',\n          accountId,\n          nftAddress,\n        });\n      } else {\n        updates.push({\n          type: 'nftSent',\n          accountId,\n          nftAddress,\n        });\n      }\n    }\n  }\n\n  return [fromSec, updates] as [number, ApiNftUpdate[]];\n}\n\nexport async function checkNftTransferDraft(options: {\n  accountId: string;\n  nftAddresses: string[];\n  toAddress: string;\n  comment?: string;\n}): Promise<ApiCheckTransactionDraftResult> {\n  const { accountId, nftAddresses, comment } = options;\n  let { toAddress } = options;\n\n  const { network } = parseAccountId(accountId);\n  const { address: fromAddress } = await fetchStoredAccount(accountId);\n\n  const checkAddressResult = await checkToAddress(network, toAddress);\n\n  if ('error' in checkAddressResult) {\n    return checkAddressResult;\n  }\n\n  toAddress = checkAddressResult.resolvedAddress!;\n\n  // We only need to check the first batch of a multi-transaction\n  const messages = nftAddresses.slice(0, NFT_BATCH_SIZE).map((nftAddress) => {\n    return {\n      payload: buildNftTransferPayload(fromAddress, toAddress, comment),\n      amount: NFT_TRANSFER_TONCOIN_AMOUNT,\n      toAddress: nftAddress,\n    };\n  });\n\n  const result = await checkMultiTransactionDraft(accountId, messages);\n\n  if ('error' in result) {\n    return result;\n  }\n\n  return {\n    ...result,\n    ...checkAddressResult,\n  };\n}\n\nexport async function submitNftTransfers(options: {\n  accountId: string;\n  password: string;\n  nftAddresses: string[];\n  toAddress: string;\n  comment?: string;\n  nfts?: ApiNft[];\n}) {\n  const {\n    accountId, password, nftAddresses, toAddress, comment, nfts,\n  } = options;\n\n  const fromAddress = await fetchStoredAddress(accountId);\n\n  const messages = nftAddresses.map((nftAddress, index) => {\n    const nft = nfts?.[index];\n    const isNotcoinBurn = nft?.collectionAddress === NOTCOIN_VOUCHERS_ADDRESS\n      && (toAddress === BURN_ADDRESS || NOTCOIN_EXCHANGERS.includes(toAddress as any));\n    const payload = isNotcoinBurn\n      ? buildNotcoinVoucherExchange(fromAddress, nftAddress, nft!.index)\n      : buildNftTransferPayload(fromAddress, toAddress, comment);\n\n    return {\n      payload,\n      amount: NFT_TRANSFER_TONCOIN_AMOUNT,\n      toAddress: nftAddress,\n    };\n  });\n\n  return submitMultiTransfer(accountId, password, messages);\n}\n\nfunction buildNotcoinVoucherExchange(fromAddress: string, nftAddress: string, nftIndex: number) {\n  // eslint-disable-next-line no-bitwise\n  const first4Bits = Address.parse(nftAddress).hash.readUint8() >> 4;\n  const toAddress = NOTCOIN_EXCHANGERS[first4Bits];\n\n  const payload = new Builder()\n    .storeUint(0x5fec6642, 32)\n    .storeUint(nftIndex, 64)\n    .endCell();\n\n  return buildNftTransferPayload(fromAddress, toAddress, payload, NOTCOIN_FORWARD_TON_AMOUNT);\n}\n\nfunction buildNftTransferPayload(\n  fromAddress: string,\n  toAddress: string,\n  payload?: string | Cell,\n  forwardAmount = NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT,\n) {\n  let builder = new Builder()\n    .storeUint(NftOpCode.TransferOwnership, 32)\n    .storeUint(generateQueryId(), 64)\n    .storeAddress(Address.parse(toAddress))\n    .storeAddress(Address.parse(fromAddress))\n    .storeBit(false) // null custom_payload\n    .storeCoins(forwardAmount);\n\n  let forwardPayload: Cell | Uint8Array | undefined;\n\n  if (payload) {\n    if (typeof payload === 'string') {\n      const bytes = commentToBytes(payload);\n      const freeBytes = Math.floor(builder.availableBits / 8);\n      forwardPayload = packBytesAsSnake(bytes, freeBytes);\n    } else {\n      forwardPayload = payload;\n    }\n  }\n\n  if (forwardPayload instanceof Uint8Array) {\n    builder.storeBit(0);\n    builder = builder.storeBuffer(Buffer.from(forwardPayload));\n  } else {\n    builder = builder.storeMaybeRef(forwardPayload);\n  }\n\n  return builder.endCell();\n}\n","import { Builder, Cell } from '@ton/core';\n\nimport type { ApiNetwork } from '../../types';\n\nimport { getTonClient } from './util/tonCore';\n\nexport function packPayloadToBoc(payload: string | Uint8Array) {\n  let cell = new Cell();\n  if (payload) {\n    if (payload instanceof Cell) {\n      cell = payload;\n    } else if (typeof payload === 'string') {\n      if (payload.length > 0) {\n        cell = new Builder()\n          .storeUint(0, 32)\n          .storeStringTail(payload)\n          .asCell();\n      }\n    } else {\n      cell = new Builder()\n        .storeBuffer(Buffer.from(payload))\n        .asCell();\n    }\n  }\n  return cell.toBoc().toString('base64');\n}\n\nexport async function checkApiAvailability(network: ApiNetwork) {\n  try {\n    await getTonClient(network).getMasterchainInfo();\n    return true;\n  } catch (err: any) {\n    return false;\n  }\n}\n","import { Address } from '@ton/core';\n\nimport type {\n  ApiBackendStakingState,\n  ApiNetwork,\n  ApiStakingState,\n  ApiStakingType,\n} from '../../types';\nimport type { ApiCheckTransactionDraftResult, ApiSubmitTransferResult, TonTransferParams } from './types';\nimport { ApiCommonError, ApiLiquidUnstakeMode, ApiTransactionDraftError } from '../../types';\n\nimport {\n  LIQUID_JETTON, LIQUID_POOL, ONE_TON, VALIDATION_PERIOD_MS,\n} from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport { bigintDivideToNumber, bigintMultiplyToNumber } from '../../../util/bigint';\nimport { fromDecimal } from '../../../util/decimals';\nimport {\n  buildLiquidStakingDepositBody,\n  buildLiquidStakingWithdrawBody,\n  getTokenBalance,\n  getTonClient,\n  resolveTokenWalletAddress,\n  toBase64Address,\n} from './util/tonCore';\nimport { NominatorPool } from './contracts/NominatorPool';\nimport { fetchStoredAddress } from '../../common/accounts';\nimport { getAccountCache, getStakingCommonCache, updateAccountCache } from '../../common/cache';\nimport { apiDb } from '../../db';\nimport { STAKE_COMMENT, UNSTAKE_COMMENT } from './constants';\nimport { checkTransactionDraft, submitTransfer } from './transactions';\nimport { isAddressInitialized } from './wallet';\n\nexport async function checkStakeDraft(\n  accountId: string,\n  amount: bigint,\n  backendState: ApiBackendStakingState,\n) {\n  const staked = await getStakingState(accountId, backendState);\n\n  let type: ApiStakingType;\n  let result: ApiCheckTransactionDraftResult;\n\n  if (staked?.type === 'nominators' && amount >= ONE_TON) {\n    type = 'nominators';\n\n    const poolAddress = backendState.nominatorsPool.address;\n    amount += ONE_TON;\n\n    result = await checkTransactionDraft({\n      accountId,\n      toAddress: poolAddress,\n      amount,\n      data: STAKE_COMMENT,\n    });\n  } else if (amount < ONE_TON) {\n    return { error: ApiTransactionDraftError.InvalidAmount };\n  } else {\n    type = 'liquid';\n\n    const body = buildLiquidStakingDepositBody();\n    result = await checkTransactionDraft({\n      accountId,\n      toAddress: LIQUID_POOL,\n      amount,\n      data: body,\n    });\n  }\n\n  return {\n    ...result,\n    type,\n  };\n}\n\nexport async function checkUnstakeDraft(\n  accountId: string,\n  amount: bigint,\n  backendState: ApiBackendStakingState,\n) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n  const commonData = getStakingCommonCache();\n  const staked = await getStakingState(accountId, backendState);\n\n  let type: ApiStakingType;\n  let result: ApiCheckTransactionDraftResult;\n  let tokenAmount: bigint | undefined;\n\n  if (staked.type === 'nominators') {\n    type = 'nominators';\n\n    const poolAddress = backendState.nominatorsPool.address;\n    result = await checkTransactionDraft({\n      accountId,\n      toAddress: poolAddress,\n      amount: ONE_TON,\n      data: UNSTAKE_COMMENT,\n    });\n  } else if (staked.type === 'liquid') {\n    type = 'liquid';\n\n    if (amount > staked.amount) {\n      return { error: ApiTransactionDraftError.InsufficientBalance };\n    } else if (amount === staked.amount) {\n      tokenAmount = staked.tokenAmount;\n    } else {\n      tokenAmount = bigintDivideToNumber(amount, commonData.liquid.currentRate);\n    }\n\n    const params = await buildLiquidStakingWithdraw(network, address, tokenAmount);\n    result = await checkTransactionDraft({\n      accountId,\n      toAddress: params.toAddress,\n      amount: params.amount,\n      data: params.payload,\n    });\n  } else {\n    return { error: ApiCommonError.Unexpected };\n  }\n\n  return {\n    ...result,\n    type,\n    tokenAmount,\n  };\n}\n\nexport async function submitStake(\n  accountId: string,\n  password: string,\n  amount: bigint,\n  type: ApiStakingType,\n  backendState: ApiBackendStakingState,\n) {\n  let result: ApiSubmitTransferResult;\n\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  if (type === 'liquid') {\n    amount += ONE_TON;\n    result = await submitTransfer({\n      accountId,\n      password,\n      toAddress: LIQUID_POOL,\n      amount,\n      data: buildLiquidStakingDepositBody(),\n    });\n  } else {\n    const poolAddress = backendState.nominatorsPool.address;\n    result = await submitTransfer({\n      accountId,\n      password,\n      toAddress: toBase64Address(poolAddress, true, network),\n      amount,\n      data: STAKE_COMMENT,\n    });\n  }\n\n  if (!('error' in result)) {\n    updateAccountCache(accountId, address, { stakedAt: Date.now() });\n  }\n\n  return result;\n}\n\nexport async function submitUnstake(\n  accountId: string,\n  password: string,\n  type: ApiStakingType,\n  amount: bigint,\n  backendState: ApiBackendStakingState,\n) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  const staked = await getStakingState(accountId, backendState);\n\n  let result: ApiSubmitTransferResult;\n\n  if (type === 'liquid') {\n    const mode = staked.type === 'liquid' && !staked.instantAvailable\n      ? ApiLiquidUnstakeMode.BestRate\n      : ApiLiquidUnstakeMode.Default;\n\n    const params = await buildLiquidStakingWithdraw(network, address, amount, mode);\n\n    result = await submitTransfer({\n      accountId,\n      password,\n      toAddress: params.toAddress,\n      amount: params.amount,\n      data: params.payload,\n    });\n  } else {\n    const poolAddress = backendState.nominatorsPool.address;\n    result = await submitTransfer({\n      accountId,\n      password,\n      toAddress: toBase64Address(poolAddress, true, network),\n      amount: ONE_TON,\n      data: UNSTAKE_COMMENT,\n    });\n  }\n\n  return result;\n}\n\nexport async function buildLiquidStakingWithdraw(\n  network: ApiNetwork,\n  address: string,\n  amount: bigint,\n  mode: ApiLiquidUnstakeMode = ApiLiquidUnstakeMode.Default,\n): Promise<TonTransferParams> {\n  const tokenWalletAddress = await resolveTokenWalletAddress(network, address, LIQUID_JETTON);\n\n  const payload = buildLiquidStakingWithdrawBody({\n    amount,\n    responseAddress: address,\n    fillOrKill: mode === ApiLiquidUnstakeMode.Instant,\n    waitTillRoundEnd: mode === ApiLiquidUnstakeMode.BestRate,\n  });\n\n  return {\n    amount: ONE_TON,\n    toAddress: tokenWalletAddress,\n    payload,\n  };\n}\n\nexport async function getStakingState(\n  accountId: string,\n  backendState: ApiBackendStakingState,\n): Promise<ApiStakingState> {\n  const commonData = getStakingCommonCache();\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  const { currentRate, collection } = commonData.liquid;\n  const tokenBalance = await getLiquidStakingTokenBalance(accountId);\n  let unstakeAmount = 0n;\n\n  if (collection) {\n    const nfts = await apiDb.nfts.where({\n      accountId,\n      collectionAddress: collection,\n    }).toArray();\n\n    for (const nft of nfts) {\n      const billAmount = nft.name?.match(/Bill for (?<amount>[\\d.]+) Pool Jetton/)?.groups?.amount;\n      if (billAmount) {\n        unstakeAmount += fromDecimal(billAmount);\n      }\n    }\n  }\n\n  const { loyaltyType, shouldUseNominators } = backendState;\n\n  const accountCache = getAccountCache(accountId, address);\n  const stakedAt = Math.max(accountCache.stakedAt ?? 0, backendState.stakedAt ?? 0);\n\n  const isInstantUnstake = Date.now() - stakedAt > VALIDATION_PERIOD_MS;\n  const liquidAvailable = isInstantUnstake ? commonData.liquid.available : 0n;\n\n  let liquidApy = commonData.liquid.apy;\n  if (loyaltyType && loyaltyType in commonData.liquid.loyaltyApy) {\n    liquidApy = commonData.liquid.loyaltyApy[loyaltyType];\n  }\n\n  if (tokenBalance > 0n || unstakeAmount > 0n) {\n    const fullTokenAmount = tokenBalance + unstakeAmount;\n    const amount = bigintMultiplyToNumber(fullTokenAmount, currentRate);\n\n    return {\n      type: 'liquid',\n      tokenAmount: tokenBalance,\n      amount,\n      unstakeRequestAmount: unstakeAmount,\n      apy: liquidApy,\n      instantAvailable: liquidAvailable,\n    };\n  }\n\n  const poolAddress = backendState.nominatorsPool.address;\n\n  if (backendState.type === 'nominators') {\n    const nominatorPool = getPoolContract(network, poolAddress);\n    const nominators = await nominatorPool.getListNominators();\n    const addressObject = Address.parse(address);\n    const currentNominator = nominators.find((n) => n.address.equals(addressObject));\n\n    if (currentNominator) {\n      return {\n        type: 'nominators',\n        amount: backendState.balance,\n        pendingDepositAmount: currentNominator.pendingDepositAmount,\n        isUnstakeRequested: currentNominator.withdrawRequested,\n      };\n    }\n  }\n\n  if (shouldUseNominators) {\n    return {\n      type: 'nominators',\n      amount: 0n,\n      pendingDepositAmount: 0n,\n      isUnstakeRequested: false,\n    };\n  } else {\n    return {\n      type: 'liquid',\n      tokenAmount: 0n,\n      amount: 0n,\n      unstakeRequestAmount: 0n,\n      apy: liquidApy,\n      instantAvailable: liquidAvailable,\n    };\n  }\n}\n\nfunction getPoolContract(network: ApiNetwork, poolAddress: string) {\n  return getTonClient(network).open(new NominatorPool(Address.parse(poolAddress)));\n}\n\nasync function getLiquidStakingTokenBalance(accountId: string) {\n  const { network } = parseAccountId(accountId);\n  if (network !== 'mainnet') {\n    return 0n;\n  }\n\n  const address = await fetchStoredAddress(accountId);\n  const walletAddress = await resolveTokenWalletAddress(network, address, LIQUID_JETTON);\n  const isInitialized = await isAddressInitialized(network, walletAddress);\n\n  if (!isInitialized) {\n    return 0n;\n  }\n\n  return getTokenBalance(network, walletAddress);\n}\n","import type { ApiNetwork, ApiSwapBuildRequest, ApiTokensTransferPayload } from '../../types';\nimport type { TonTransferParams } from './types';\n\nimport { SWAP_FEE_ADDRESS, TON_SYMBOL } from '../../../config';\nimport { assert } from '../../../util/assert';\nimport { fromDecimal } from '../../../util/decimals';\nimport { parsePayloadBase64 } from './util/metadata';\nimport { resolveTokenWalletAddress, toBase64Address } from './util/tonCore';\nimport { findTokenByMinter } from './tokens';\nimport { getContractInfo } from './wallet';\n\nconst MEGATON_WTON_MINTER = 'EQCajaUU1XXSAjTD-xOV7pE49fGtg4q8kF3ELCOJtGvQFQ2C';\nconst MAX_NETWORK_FEE = 1000000000n; // 1 TON\n\nexport async function validateDexSwapTransfers(\n  network: ApiNetwork,\n  address: string,\n  request: ApiSwapBuildRequest,\n  transfers: TonTransferParams[],\n) {\n  assert(transfers.length <= 2);\n\n  const [mainTransfer, feeTransfer] = transfers;\n\n  if (request.from === TON_SYMBOL) {\n    const maxAmount = fromDecimal(request.fromAmount) + MAX_NETWORK_FEE;\n    const { isSwapAllowed, codeHash } = await getContractInfo(network, mainTransfer.toAddress);\n\n    assert(!!isSwapAllowed, `Not allowed swap contract: ${codeHash} ${mainTransfer.toAddress}`);\n    assert(mainTransfer.amount <= maxAmount);\n\n    if (feeTransfer) {\n      assert(feeTransfer.amount <= mainTransfer.amount);\n      assert(feeTransfer.amount + mainTransfer.amount < maxAmount);\n      assert(toBase64Address(feeTransfer.toAddress, false) === SWAP_FEE_ADDRESS);\n    }\n  } else {\n    const token = findTokenByMinter(request.from)!;\n    assert(!!token);\n\n    const maxAmount = fromDecimal(request.fromAmount, token.decimals);\n    const maxTonAmount = MAX_NETWORK_FEE;\n\n    const walletAddress = await resolveTokenWalletAddress(network, address, token.minterAddress!);\n    const parsedPayload = await parsePayloadBase64(network, mainTransfer.toAddress, mainTransfer.payload as string);\n\n    let destination: string;\n    let tokenAmount = 0n;\n\n    if (mainTransfer.toAddress === MEGATON_WTON_MINTER) {\n      destination = mainTransfer.toAddress;\n      assert(mainTransfer.toAddress === token.minterAddress);\n    } else {\n      assert(mainTransfer.toAddress === walletAddress);\n      assert(['tokens:transfer', 'tokens:transfer-non-standard'].includes(parsedPayload.type));\n\n      ({ amount: tokenAmount, destination } = parsedPayload as ApiTokensTransferPayload);\n      assert(tokenAmount <= maxAmount);\n    }\n\n    assert(mainTransfer.amount < maxTonAmount);\n\n    const { isSwapAllowed } = await getContractInfo(network, destination);\n\n    assert(!!isSwapAllowed);\n\n    if (feeTransfer) {\n      const feePayload = await parsePayloadBase64(network, feeTransfer.toAddress, feeTransfer.payload as string);\n\n      assert(feeTransfer.amount + mainTransfer.amount < maxTonAmount);\n      assert(feeTransfer.toAddress === walletAddress);\n      assert(['tokens:transfer', 'tokens:transfer-non-standard'].includes(feePayload.type));\n\n      const { amount: tokenFeeAmount, destination: feeDestination } = feePayload as ApiTokensTransferPayload;\n\n      assert(tokenAmount + tokenFeeAmount <= maxAmount);\n      assert(toBase64Address(feeDestination, false) === SWAP_FEE_ADDRESS);\n    }\n  }\n}\n","import type { JettonBalance } from 'tonapi-sdk-js';\nimport { Address } from '@ton/core';\n\nimport type {\n  ApiBaseToken, ApiNetwork, ApiToken, ApiTokenSimple,\n} from '../../types';\nimport type { AnyPayload, ApiTransactionExtra, JettonMetadata } from './types';\n\nimport { DEFAULT_DECIMAL_PLACES, TON_SYMBOL, TONCOIN_SLUG } from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport { logDebugError } from '../../../util/logs';\nimport { fixIpfsUrl } from '../../../util/metadata';\nimport { buildTokenSlug } from './util';\nimport {\n  fetchJettonMetadata,\n  fixBase64ImageData,\n  parseJettonWalletMsgBody,\n} from './util/metadata';\nimport { fetchJettonBalances } from './util/tonapiio';\nimport {\n  buildTokenTransferBody,\n  getTonClient,\n  resolveTokenMinterAddress,\n  resolveTokenWalletAddress,\n  toBase64Address,\n} from './util/tonCore';\nimport { JettonWallet } from './contracts/JettonWallet';\nimport { fetchStoredAddress } from '../../common/accounts';\nimport {\n  DEFAULT_DECIMALS,\n  TOKEN_TRANSFER_TONCOIN_AMOUNT,\n  TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT,\n} from './constants';\n\nexport type TokenBalanceParsed = {\n  slug: string;\n  balance: bigint;\n  token: ApiTokenSimple;\n  jettonWallet: string;\n};\n\nconst KNOWN_TOKENS: ApiBaseToken[] = [\n  {\n    slug: TONCOIN_SLUG,\n    name: 'Toncoin',\n    cmcSlug: TONCOIN_SLUG,\n    symbol: TON_SYMBOL,\n    decimals: DEFAULT_DECIMAL_PLACES,\n  },\n];\n\nconst knownTokens = {} as Record<string, ApiToken>;\naddKnownTokens(KNOWN_TOKENS);\n\nexport async function getAccountTokenBalances(accountId: string) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  return getTokenBalances(network, address);\n}\n\nexport async function getTokenBalances(network: ApiNetwork, address: string) {\n  const balancesRaw: Array<JettonBalance> = await fetchJettonBalances(network, address);\n  return balancesRaw.map((balance) => parseTokenBalance(network, balance)).filter(Boolean);\n}\n\nexport async function getAddressTokenBalances(address: string, network: ApiNetwork) {\n  const balancesRaw: Array<JettonBalance> = await fetchJettonBalances(network, address);\n  return balancesRaw.map((balance) => parseTokenBalance(network, balance)).filter(Boolean);\n}\n\nfunction parseTokenBalance(network: ApiNetwork, balanceRaw: JettonBalance): TokenBalanceParsed | undefined {\n  if (!balanceRaw.jetton) {\n    return undefined;\n  }\n\n  try {\n    const { balance, jetton, wallet_address: walletAddress } = balanceRaw;\n    const minterAddress = toBase64Address(jetton.address, true, network);\n    const token = buildTokenByMetadata(minterAddress, jetton);\n\n    return {\n      slug: token.slug,\n      balance: BigInt(balance),\n      token,\n      jettonWallet: toBase64Address(walletAddress.address, undefined, network),\n    };\n  } catch (err) {\n    logDebugError('parseTokenBalance', err);\n    return undefined;\n  }\n}\n\nexport function parseTokenTransaction(\n  network: ApiNetwork,\n  tx: ApiTransactionExtra,\n  slug: string,\n  walletAddress: string,\n): ApiTransactionExtra | undefined {\n  const { extraData } = tx;\n  if (!extraData?.body) {\n    return undefined;\n  }\n\n  const parsedData = parseJettonWalletMsgBody(network, extraData.body);\n  if (!parsedData) {\n    return undefined;\n  }\n\n  const {\n    operation, jettonAmount, address, comment, encryptedComment,\n  } = parsedData;\n  const isIncoming = operation === 'InternalTransfer';\n\n  const fromAddress = isIncoming ? (address ?? tx.fromAddress) : walletAddress;\n  const toAddress = isIncoming ? walletAddress : address!;\n  const normalizedAddress = toBase64Address(isIncoming ? fromAddress : toAddress, true);\n\n  return {\n    ...tx,\n    slug,\n    fromAddress,\n    toAddress,\n    normalizedAddress,\n    amount: isIncoming ? jettonAmount : -jettonAmount,\n    comment,\n    encryptedComment,\n    isIncoming,\n  };\n}\n\nexport async function buildTokenTransfer(\n  network: ApiNetwork,\n  tokenAddress: string,\n  fromAddress: string,\n  toAddress: string,\n  amount: bigint,\n  payload?: AnyPayload,\n) {\n  const tokenWalletAddress = await resolveTokenWalletAddress(network, fromAddress, tokenAddress);\n  const realTokenAddress = await resolveTokenMinterAddress(network, tokenWalletAddress);\n  if (tokenAddress !== realTokenAddress) {\n    throw new Error('Invalid contract');\n  }\n\n  const tokenWallet = getTokenWallet(network, tokenWalletAddress);\n\n  payload = buildTokenTransferBody({\n    tokenAmount: amount,\n    toAddress,\n    forwardAmount: TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT,\n    forwardPayload: payload,\n    responseAddress: fromAddress,\n  });\n\n  return {\n    tokenWallet,\n    amount: TOKEN_TRANSFER_TONCOIN_AMOUNT,\n    toAddress: tokenWalletAddress,\n    payload,\n  };\n}\n\nexport function resolveTokenBySlug(slug: string) {\n  return knownTokens[slug]!;\n}\n\nexport function findTokenByMinter(minter: string) {\n  return Object.values(knownTokens).find((token) => token.minterAddress === minter);\n}\n\nexport function getTokenWallet(network: ApiNetwork, tokenAddress: string) {\n  return getTonClient(network).open(new JettonWallet(Address.parse(tokenAddress)));\n}\n\nexport function getKnownTokens() {\n  return knownTokens;\n}\n\nexport function addKnownTokens(tokens: ApiBaseToken[]) {\n  for (const token of tokens) {\n    if (token.slug in knownTokens) continue;\n\n    addKnownToken({\n      ...token,\n      quote: {\n        slug: token.slug,\n        price: 0,\n        priceUsd: 0,\n        percentChange24h: 0,\n      },\n    });\n  }\n}\n\nexport function addKnownToken(token: ApiToken) {\n  knownTokens[token.slug] = token;\n}\n\nexport async function fetchToken(network: ApiNetwork, address: string) {\n  const metadata = await fetchJettonMetadata(network, address);\n\n  return buildTokenByMetadata(address, metadata);\n}\n\nfunction buildTokenByMetadata(address: string, metadata: JettonMetadata): ApiBaseToken {\n  const {\n    name,\n    symbol,\n    image,\n    image_data: imageData,\n    decimals,\n  } = metadata;\n\n  return {\n    slug: buildTokenSlug(address),\n    name,\n    symbol,\n    decimals: decimals === undefined ? DEFAULT_DECIMALS : Number(decimals),\n    minterAddress: address,\n    image: (image && fixIpfsUrl(image)) || (imageData && fixBase64ImageData(imageData)) || undefined,\n  };\n}\n","import type { OpenedContract } from '@ton/core';\nimport {\n  beginCell, Cell, external, internal, SendMode, storeMessage,\n} from '@ton/core';\n\nimport type { DieselStatus } from '../../../global/types';\nimport type {\n  ApiActivity,\n  ApiAnyDisplayError,\n  ApiNetwork,\n  ApiNft,\n  ApiSignedTransfer,\n  ApiTransaction,\n  ApiTransactionActivity,\n  ApiTransactionType,\n  ApiTxIdBySlug,\n} from '../../types';\nimport type { JettonWallet } from './contracts/JettonWallet';\nimport type {\n  AnyPayload,\n  ApiCheckTransactionDraftResult,\n  ApiSubmitMultiTransferResult,\n  ApiSubmitTransferResult,\n  ApiSubmitTransferWithDieselResult,\n  ApiTransactionExtra,\n  TonTransferParams,\n} from './types';\nimport type { TonWallet } from './util/tonCore';\nimport { ApiCommonError, ApiTransactionDraftError, ApiTransactionError } from '../../types';\n\nimport { DIESEL_ADDRESS, ONE_TON, TONCOIN_SLUG } from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport { bigintMultiplyToNumber } from '../../../util/bigint';\nimport { compareActivities } from '../../../util/compareActivities';\nimport { fromDecimal } from '../../../util/decimals';\nimport { buildCollectionByKey, omit } from '../../../util/iteratees';\nimport { logDebugError } from '../../../util/logs';\nimport { pause } from '../../../util/schedulers';\nimport withCacheAsync from '../../../util/withCacheAsync';\nimport { parseTxId } from './util';\nimport { fetchAddressBook, fetchLatestTxId, fetchTransactions } from './util/apiV3';\nimport { decryptMessageComment, encryptMessageComment } from './util/encryption';\nimport { buildNft, parseWalletTransactionBody } from './util/metadata';\nimport { sendExternal } from './util/sendExternal';\nimport { fetchNftItems } from './util/tonapiio';\nimport {\n  commentToBytes,\n  getTonClient,\n  getTonWalletContract,\n  getWalletPublicKey,\n  packBytesAsSnake,\n  packBytesAsSnakeForEncryptedData,\n  parseAddress,\n  parseBase64,\n  resolveTokenWalletAddress,\n  toBase64Address,\n} from './util/tonCore';\nimport { fetchStoredAccount, fetchStoredAddress } from '../../common/accounts';\nimport { callBackendGet } from '../../common/backend';\nimport { updateTransactionMetadata } from '../../common/helpers';\nimport { base64ToBytes, isKnownStakingPool } from '../../common/utils';\nimport { ApiServerError, handleServerError } from '../../errors';\nimport { resolveAddress } from './address';\nimport { fetchKeyPair, fetchPrivateKey } from './auth';\nimport {\n  ATTEMPTS, FEE_FACTOR, STAKE_COMMENT, TRANSFER_TIMEOUT_SEC, UNSTAKE_COMMENT,\n} from './constants';\nimport {\n  buildTokenTransfer, findTokenByMinter, parseTokenTransaction, resolveTokenBySlug,\n} from './tokens';\nimport {\n  getContractInfo, getWalletBalance, getWalletInfo, pickAccountWallet,\n} from './wallet';\n\nconst GET_TRANSACTIONS_LIMIT = 50;\nconst GET_TRANSACTIONS_MAX_LIMIT = 100;\nconst WAIT_TRANSFER_TIMEOUT = 5 * 60 * 1000; // 5 min\nconst WAIT_TRANSFER_PAUSE = 1000; // 1 sec.\nconst WAIT_TRANSACTION_PAUSE = 500; // 0.5 sec.\n\nconst MAX_BALANCE_WITH_CHECK_DIESEL = 220000000n; // 0.22 TON\nconst PENDING_DIESEL_TIMEOUT = 15 * 60 * 1000; // 15 min\n\nconst pendingTransfers: Record<string, {\n  timestamp: number;\n  seqno: number;\n  promise: Promise<any>;\n}> = {};\n\nexport const checkHasTransaction = withCacheAsync(async (network: ApiNetwork, address: string) => {\n  const transactions = await fetchTransactions(network, address, 1);\n  return Boolean(transactions.length);\n});\n\nexport async function checkTransactionDraft(\n  options: {\n    accountId: string;\n    toAddress: string;\n    amount: bigint;\n    tokenAddress?: string;\n    data?: AnyPayload;\n    stateInit?: Cell;\n    shouldEncrypt?: boolean;\n    isBase64Data?: boolean;\n  },\n): Promise<ApiCheckTransactionDraftResult> {\n  const {\n    accountId,\n    tokenAddress,\n    stateInit,\n    shouldEncrypt,\n    isBase64Data,\n  } = options;\n  let { toAddress, amount, data } = options;\n\n  const { network } = parseAccountId(accountId);\n\n  let result: ApiCheckTransactionDraftResult = {};\n\n  try {\n    result = await checkToAddress(network, toAddress);\n\n    if ('error' in result) {\n      return result;\n    }\n\n    toAddress = result.resolvedAddress!;\n\n    const { isInitialized } = await getContractInfo(network, toAddress);\n\n    if (result.isBounceable && !isInitialized) {\n      result.isToAddressNew = !(await checkHasTransaction(network, toAddress));\n      return {\n        ...result,\n        error: ApiTransactionDraftError.InactiveContract,\n      };\n    }\n\n    result.resolvedAddress = toAddress;\n\n    if (amount < 0n) {\n      return {\n        ...result,\n        error: ApiTransactionDraftError.InvalidAmount,\n      };\n    }\n\n    const wallet = await pickAccountWallet(accountId);\n    if (!wallet) {\n      return {\n        ...result,\n        error: ApiCommonError.Unexpected,\n      };\n    }\n\n    if (typeof data === 'string' && isBase64Data) {\n      data = base64ToBytes(data);\n    }\n\n    if (data && typeof data === 'string' && shouldEncrypt) {\n      const toPublicKey = await getWalletPublicKey(network, toAddress);\n      if (!toPublicKey) {\n        return {\n          ...result,\n          error: ApiTransactionDraftError.WalletNotInitialized,\n        };\n      }\n    }\n\n    const account = await fetchStoredAccount(accountId);\n    const { address } = account;\n\n    if (data && typeof data === 'string' && !isBase64Data) {\n      data = commentToBytes(data);\n    }\n\n    let tokenBalance: bigint | undefined;\n\n    if (!tokenAddress) {\n      if (data instanceof Uint8Array) {\n        data = shouldEncrypt ? packBytesAsSnakeForEncryptedData(data) : packBytesAsSnake(data);\n      }\n    } else {\n      const tokenAmount: bigint = amount;\n      let tokenWallet: OpenedContract<JettonWallet>;\n      ({\n        tokenWallet,\n        amount,\n        toAddress,\n        payload: data,\n      } = await buildTokenTransfer(network, tokenAddress, address, toAddress, amount, data));\n\n      tokenBalance = await tokenWallet!.getJettonBalance();\n      if (tokenBalance < tokenAmount!) {\n        return {\n          ...result,\n          error: ApiTransactionDraftError.InsufficientBalance,\n        };\n      }\n    }\n\n    const { transaction } = await signTransaction({\n      network,\n      wallet,\n      toAddress,\n      amount,\n      payload: data,\n      stateInit,\n      shouldEncrypt,\n    });\n\n    const realFee = await calculateFee(network, wallet, transaction, account.isInitialized);\n    result.fee = bigintMultiplyToNumber(realFee, FEE_FACTOR);\n\n    const balance = await getWalletBalance(network, wallet);\n\n    const isFullTonBalance = !tokenAddress && balance === amount;\n    const isEnoughBalance = isFullTonBalance\n      ? balance > realFee\n      : balance >= amount + realFee;\n\n    if (network === 'mainnet' && tokenAddress && balance < MAX_BALANCE_WITH_CHECK_DIESEL) {\n      const {\n        status: dieselStatus,\n        amount: dieselAmount,\n        isAwaitingNotExpiredPrevious,\n      } = await fetchEstimateDiesel(accountId, tokenAddress) || {};\n\n      if (!isEnoughBalance || isAwaitingNotExpiredPrevious) {\n        result.dieselStatus = dieselStatus;\n        result.dieselAmount = dieselAmount;\n\n        if (dieselStatus !== 'not-available') {\n          return result;\n        }\n      }\n    }\n\n    if (!isEnoughBalance) {\n      return {\n        ...result,\n        error: ApiTransactionDraftError.InsufficientBalance,\n      };\n    }\n\n    return result;\n  } catch (err: any) {\n    return {\n      ...handleServerError(err),\n      ...result,\n    };\n  }\n}\n\nfunction estimateDiesel(address: string, tokenAddress: string) {\n  return callBackendGet<{\n    status: DieselStatus;\n    amount?: string;\n    pendingCreatedAt?: string;\n  }>('/diesel/estimate', { address, tokenAddress });\n}\n\nexport async function checkToAddress(network: ApiNetwork, toAddress: string) {\n  const result: {\n    addressName?: string;\n    isScam?: boolean;\n    resolvedAddress?: string;\n    isToAddressNew?: boolean;\n    isBounceable?: boolean;\n    isMemoRequired?: boolean;\n  } = {};\n\n  const resolved = await resolveAddress(network, toAddress);\n  if (resolved) {\n    result.addressName = resolved.name;\n    result.resolvedAddress = resolved.address;\n    result.isMemoRequired = resolved.isMemoRequired;\n    result.isScam = resolved.isScam;\n    toAddress = resolved.address;\n  } else {\n    return {\n      ...result,\n      error: ApiTransactionDraftError.DomainNotResolved,\n    };\n  }\n\n  const {\n    isValid, isUserFriendly, isTestOnly, isBounceable,\n  } = parseAddress(toAddress);\n\n  result.isBounceable = isBounceable;\n\n  if (!isValid) {\n    return {\n      ...result,\n      error: ApiTransactionDraftError.InvalidToAddress,\n    };\n  }\n\n  const regex = /[+=/]/;\n  const isUrlSafe = !regex.test(toAddress);\n\n  if (!isUserFriendly || !isUrlSafe || (network === 'mainnet' && isTestOnly)) {\n    return {\n      ...result,\n      error: ApiTransactionDraftError.InvalidAddressFormat,\n    };\n  }\n\n  return result;\n}\n\nexport async function submitTransfer(options: {\n  accountId: string;\n  password: string;\n  toAddress: string;\n  amount: bigint;\n  data?: AnyPayload;\n  tokenAddress?: string;\n  stateInit?: Cell;\n  shouldEncrypt?: boolean;\n  isBase64Data?: boolean;\n}): Promise<ApiSubmitTransferResult> {\n  const {\n    accountId,\n    password,\n    tokenAddress,\n    stateInit,\n    shouldEncrypt,\n    isBase64Data,\n  } = options;\n\n  let { toAddress, amount, data } = options;\n\n  const { network } = parseAccountId(accountId);\n\n  try {\n    const [wallet, account, keyPair] = await Promise.all([\n      pickAccountWallet(accountId),\n      fetchStoredAccount(accountId),\n      fetchKeyPair(accountId, password),\n    ]);\n    const { address: fromAddress } = account;\n    const { publicKey, secretKey } = keyPair!;\n\n    let encryptedComment: string | undefined;\n\n    if (typeof data === 'string') {\n      ({ payload: data, encryptedComment } = await stringToPayload({\n        network, toAddress, fromAddress, data, secretKey, publicKey, shouldEncrypt, isBase64Data,\n      }));\n    }\n\n    if (!tokenAddress) {\n      if (data instanceof Uint8Array) {\n        data = shouldEncrypt ? packBytesAsSnakeForEncryptedData(data) : packBytesAsSnake(data);\n      }\n    } else {\n      ({\n        amount,\n        toAddress,\n        payload: data,\n      } = await buildTokenTransfer(network, tokenAddress, fromAddress, toAddress, amount, data));\n    }\n\n    await waitPendingTransfer(network, fromAddress);\n\n    const { balance } = await getWalletInfo(network, wallet!);\n    const isFullTonBalance = !tokenAddress && balance === amount;\n\n    const { seqno, transaction } = await signTransaction({\n      network,\n      wallet,\n      toAddress,\n      amount,\n      payload: data,\n      stateInit,\n      privateKey: secretKey,\n      isFullBalance: isFullTonBalance,\n      shouldEncrypt,\n    });\n\n    const fee = await calculateFee(network, wallet!, transaction, account.isInitialized);\n\n    const isEnoughBalance = isFullTonBalance\n      ? balance > fee\n      : balance >= amount + fee;\n\n    if (!isEnoughBalance) {\n      return { error: ApiTransactionError.InsufficientBalance };\n    }\n\n    const client = getTonClient(network);\n    const { msgHash, boc } = await sendExternal(client, wallet!, transaction);\n\n    addPendingTransfer(network, fromAddress, seqno, boc);\n\n    return {\n      amount, seqno, encryptedComment, toAddress, msgHash,\n    };\n  } catch (err: any) {\n    logDebugError('submitTransfer', err);\n\n    return { error: resolveTransactionError(err) };\n  }\n}\n\nexport async function submitTransferWithDiesel(options: {\n  accountId: string;\n  password: string;\n  toAddress: string;\n  amount: bigint;\n  data?: AnyPayload;\n  tokenAddress: string;\n  shouldEncrypt?: boolean;\n  dieselAmount: bigint;\n}): Promise<ApiSubmitTransferWithDieselResult> {\n  const {\n    toAddress,\n    amount,\n    accountId,\n    password,\n    tokenAddress,\n    shouldEncrypt,\n    dieselAmount,\n  } = options;\n\n  let { data } = options;\n\n  const { network } = parseAccountId(accountId);\n\n  const [account, keyPair] = await Promise.all([\n    fetchStoredAccount(accountId),\n    fetchKeyPair(accountId, password),\n  ]);\n\n  const { address: fromAddress } = account;\n  const { publicKey, secretKey } = keyPair!;\n\n  let encryptedComment: string | undefined;\n\n  if (typeof data === 'string') {\n    ({ payload: data, encryptedComment } = await stringToPayload({\n      network, toAddress, fromAddress, data, secretKey, publicKey, shouldEncrypt,\n    }));\n  }\n\n  const messages: TonTransferParams[] = [\n    omit(await buildTokenTransfer(network, tokenAddress, fromAddress, toAddress, amount, data), ['tokenWallet']),\n    omit(await buildTokenTransfer(network, tokenAddress, fromAddress, DIESEL_ADDRESS, dieselAmount), ['tokenWallet']),\n  ];\n\n  const result = await submitMultiTransfer(accountId, password, messages, undefined, true);\n\n  return { ...result, encryptedComment };\n}\n\nasync function stringToPayload({\n  network, toAddress, data, shouldEncrypt, publicKey, secretKey, fromAddress, isBase64Data,\n}: {\n  network: ApiNetwork;\n  data: string;\n  shouldEncrypt?: boolean;\n  toAddress: string;\n  publicKey: Uint8Array;\n  secretKey: Uint8Array;\n  fromAddress: string;\n  isBase64Data?: boolean;\n}): Promise<{\n    payload?: Uint8Array | Cell;\n    encryptedComment?: string;\n  }> {\n  let payload: Uint8Array | Cell | undefined;\n  let encryptedComment: string | undefined;\n\n  if (!data) {\n    payload = undefined;\n  } else if (isBase64Data) {\n    payload = parseBase64(data);\n  } else if (shouldEncrypt) {\n    const toPublicKey = (await getWalletPublicKey(network, toAddress))!;\n    payload = await encryptMessageComment(data, publicKey, toPublicKey, secretKey, fromAddress);\n    encryptedComment = Buffer.from(payload.slice(4)).toString('base64');\n  } else {\n    payload = commentToBytes(data);\n  }\n\n  return { payload, encryptedComment };\n}\n\nexport function resolveTransactionError(error: any): ApiAnyDisplayError | string {\n  if (error instanceof ApiServerError) {\n    if (error.message.includes('exitcode=35,')) {\n      return ApiTransactionError.IncorrectDeviceTime;\n    } else if (error.statusCode === 400) {\n      return error.message;\n    } else if (error.displayError) {\n      return error.displayError;\n    }\n  }\n  return ApiTransactionError.UnsuccesfulTransfer;\n}\n\nasync function signTransaction({\n  network,\n  wallet,\n  toAddress,\n  amount,\n  payload,\n  stateInit,\n  privateKey = new Uint8Array(64),\n  isFullBalance,\n  expireAt,\n  shouldEncrypt,\n}: {\n  network: ApiNetwork;\n  wallet: TonWallet;\n  toAddress: string;\n  amount: bigint;\n  payload?: AnyPayload;\n  stateInit?: Cell;\n  privateKey?: Uint8Array;\n  isFullBalance?: boolean;\n  expireAt?: number;\n  shouldEncrypt?: boolean;\n}) {\n  const { seqno } = await getWalletInfo(network, wallet);\n\n  if (!expireAt) {\n    expireAt = Math.round(Date.now() / 1000) + TRANSFER_TIMEOUT_SEC;\n  }\n\n  if (payload instanceof Uint8Array) {\n    payload = shouldEncrypt\n      ? packBytesAsSnakeForEncryptedData(payload) as Cell\n      : packBytesAsSnake(payload, 0) as Cell;\n  }\n\n  const init = stateInit ? {\n    code: stateInit.refs[0],\n    data: stateInit.refs[1],\n  } : undefined;\n\n  const sendMode = isFullBalance\n    ? SendMode.CARRY_ALL_REMAINING_BALANCE\n    : SendMode.PAY_GAS_SEPARATELY + SendMode.IGNORE_ERRORS;\n\n  const transaction = wallet.createTransfer({\n    seqno,\n    secretKey: Buffer.from(privateKey),\n    messages: [internal({\n      value: amount,\n      to: toAddress,\n      body: payload,\n      init,\n      bounce: parseAddress(toAddress).isBounceable,\n    })],\n    sendMode,\n    timeout: expireAt,\n  });\n\n  return { seqno, transaction };\n}\n\nexport async function getAccountNewestTxId(accountId: string) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  return fetchNewestTxId(network, address);\n}\n\nexport async function getAccountTransactionSlice(\n  accountId: string,\n  toTxId?: string,\n  fromTxId?: string,\n  limit?: number,\n) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  let transactions = await fetchTransactions(\n    network, address, limit ?? GET_TRANSACTIONS_LIMIT, toTxId, fromTxId,\n  );\n\n  transactions = await Promise.all(\n    transactions.map((transaction) => parseWalletTransactionBody(network, transaction)),\n  );\n\n  await populateTransactions(network, transactions);\n\n  return transactions\n    .map(updateTransactionType)\n    .map(updateTransactionMetadata)\n    .map(omitExtraData)\n    .map(transactionToActivity);\n}\n\nasync function populateTransactions(network: ApiNetwork, transactions: ApiTransactionExtra[]) {\n  const nftAddresses = new Set<string>();\n  const addressesForFixFormat = new Set<string>();\n\n  for (const { extraData: { parsedPayload } } of transactions) {\n    if (parsedPayload?.type === 'nft:ownership-assigned') {\n      nftAddresses.add(parsedPayload.nftAddress);\n      addressesForFixFormat.add(parsedPayload.prevOwner);\n    } else if (parsedPayload?.type === 'nft:transfer') {\n      nftAddresses.add(parsedPayload.nftAddress);\n      addressesForFixFormat.add(parsedPayload.newOwner);\n    }\n  }\n\n  if (nftAddresses.size) {\n    const [rawNfts, addressBook] = await Promise.all([\n      fetchNftItems(network, [...nftAddresses]),\n      fetchAddressBook(network, [...addressesForFixFormat]),\n    ]);\n\n    const nfts = rawNfts\n      .map((rawNft) => buildNft(network, rawNft))\n      .filter(Boolean) as ApiNft[];\n\n    const nftsByAddress = buildCollectionByKey(nfts, 'address');\n\n    for (const transaction of transactions) {\n      const { extraData: { parsedPayload } } = transaction;\n\n      if (parsedPayload?.type === 'nft:ownership-assigned') {\n        const nft = nftsByAddress[parsedPayload.nftAddress];\n        transaction.nft = nft;\n        if (nft?.isScam) {\n          transaction.metadata = { ...transaction.metadata, isScam: true };\n        } else {\n          transaction.fromAddress = addressBook[parsedPayload.prevOwner].user_friendly;\n        }\n      } else if (parsedPayload?.type === 'nft:transfer') {\n        const nft = nftsByAddress[parsedPayload.nftAddress];\n        transaction.nft = nft;\n        if (nft?.isScam) {\n          transaction.metadata = { ...transaction.metadata, isScam: true };\n        } else {\n          transaction.toAddress = addressBook[parsedPayload.newOwner].user_friendly;\n        }\n      }\n    }\n  }\n}\n\nexport async function getMergedTransactionSlice(accountId: string, lastTxIds: ApiTxIdBySlug, limit: number) {\n  // eslint-disable-next-line prefer-const\n  let { toncoin: lastTonTxId, ...tokenLastTxIds } = lastTxIds;\n  const tonTxs = await getAccountTransactionSlice(accountId, lastTonTxId, undefined, limit);\n\n  if (!tonTxs.length) {\n    return [];\n  }\n\n  lastTonTxId = tonTxs[tonTxs.length - 1].txId;\n  const lastTonTxLt = parseTxId(lastTonTxId).lt;\n\n  const results = await Promise.all(Object.entries(tokenLastTxIds).map(([slug, lastTxId]) => {\n    if (lastTxId && parseTxId(lastTxId).lt < lastTonTxLt) {\n      return [];\n    }\n\n    return getTokenTransactionSlice(accountId, slug, lastTxId, lastTonTxId, GET_TRANSACTIONS_MAX_LIMIT);\n  }));\n\n  const allTxs = [...tonTxs, ...results.flat()];\n  allTxs.sort(compareActivities);\n\n  return allTxs;\n}\n\nexport async function getTokenTransactionSlice(\n  accountId: string,\n  tokenSlug: string,\n  toTxId?: string,\n  fromTxId?: string,\n  limit?: number,\n): Promise<ApiTransactionActivity[]> {\n  if (tokenSlug === TONCOIN_SLUG) {\n    return getAccountTransactionSlice(accountId, toTxId, fromTxId, limit);\n  }\n\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  const minterAddress = resolveTokenBySlug(tokenSlug).minterAddress!;\n  const tokenWalletAddress = await resolveTokenWalletAddress(network, address, minterAddress);\n\n  const transactions = await fetchTransactions(\n    network, tokenWalletAddress, limit ?? GET_TRANSACTIONS_LIMIT, toTxId, fromTxId,\n  );\n\n  return transactions\n    .map((tx) => parseTokenTransaction(network, tx, tokenSlug, address))\n    .filter(Boolean)\n    .map(updateTransactionMetadata)\n    .map(omitExtraData)\n    .map(transactionToActivity);\n}\n\nfunction omitExtraData(tx: ApiTransactionExtra): ApiTransaction {\n  return omit(tx, ['extraData']);\n}\n\nfunction updateTransactionType(transaction: ApiTransactionExtra) {\n  const { amount, extraData } = transaction;\n  let { comment } = transaction;\n\n  const normalizedFromAddress = toBase64Address(transaction.fromAddress, true);\n  const normalizedToAddress = toBase64Address(transaction.toAddress, true);\n\n  let type: ApiTransactionType | undefined;\n\n  if (isKnownStakingPool(normalizedFromAddress) && amount > ONE_TON) {\n    type = 'unstake';\n  } else if (isKnownStakingPool(normalizedToAddress)) {\n    if (comment === STAKE_COMMENT) {\n      type = 'stake';\n    } else if (comment === UNSTAKE_COMMENT) {\n      type = 'unstakeRequest';\n    }\n  } else if (extraData?.parsedPayload && !transaction.metadata?.isScam) {\n    const payload = extraData.parsedPayload;\n\n    if (payload.type === 'tokens:burn' && payload.isLiquidUnstakeRequest) {\n      type = 'unstakeRequest';\n    } else if (payload.type === 'liquid-staking:deposit') {\n      type = 'stake';\n    } else if (payload.type === 'liquid-staking:withdrawal' || payload.type === 'liquid-staking:withdrawal-nft') {\n      type = 'unstake';\n    } else if (payload.type === 'nft:transfer') {\n      type = 'nftTransferred';\n      comment = payload.comment;\n    } else if (payload.type === 'nft:ownership-assigned') {\n      type = 'nftReceived';\n      comment = payload.comment;\n    }\n  }\n\n  return {\n    ...transaction,\n    type,\n    comment,\n  };\n}\n\nfunction transactionToActivity(transaction: ApiTransaction): ApiTransactionActivity {\n  return {\n    ...transaction,\n    kind: 'transaction',\n    id: transaction.txId,\n  };\n}\n\nexport async function checkMultiTransactionDraft(\n  accountId: string,\n  messages: TonTransferParams[],\n  withDiesel = false,\n) {\n  const { network } = parseAccountId(accountId);\n\n  const result: {\n    fee?: bigint;\n    totalAmount?: bigint;\n  } = {};\n\n  let totalAmount: bigint = 0n;\n\n  const account = await fetchStoredAccount(accountId);\n\n  try {\n    for (const { toAddress, amount } of messages) {\n      if (amount < 0n) {\n        return { ...result, error: ApiTransactionDraftError.InvalidAmount };\n      }\n\n      const isMainnet = network === 'mainnet';\n      const { isValid, isTestOnly } = parseAddress(toAddress);\n\n      if (!isValid || (isMainnet && isTestOnly)) {\n        return { ...result, error: ApiTransactionDraftError.InvalidToAddress };\n      }\n      totalAmount += amount;\n    }\n\n    const wallet = await pickAccountWallet(accountId);\n\n    if (!wallet) {\n      return { ...result, error: ApiCommonError.Unexpected };\n    }\n\n    const { balance } = await getWalletInfo(network, wallet);\n\n    const { transaction } = await signMultiTransaction(network, wallet, messages);\n\n    const realFee = await calculateFee(network, wallet, transaction, account.isInitialized);\n\n    // TODO Should be `0` for `withDiesel`?\n    result.totalAmount = totalAmount;\n    result.fee = bigintMultiplyToNumber(realFee, FEE_FACTOR);\n\n    if (!withDiesel && balance < totalAmount + realFee) {\n      return { ...result, error: ApiTransactionDraftError.InsufficientBalance };\n    }\n\n    return result as { fee: bigint; totalAmount: bigint };\n  } catch (err: any) {\n    return handleServerError(err);\n  }\n}\n\nexport async function submitMultiTransfer(\n  accountId: string,\n  password: string,\n  messages: TonTransferParams[],\n  expireAt?: number,\n  withDiesel = false,\n): Promise<ApiSubmitMultiTransferResult> {\n  const { network } = parseAccountId(accountId);\n\n  try {\n    const [wallet, account, privateKey] = await Promise.all([\n      pickAccountWallet(accountId),\n      fetchStoredAccount(accountId),\n      fetchPrivateKey(accountId, password),\n    ]);\n\n    const { address: fromAddress } = account;\n\n    let totalAmount = 0n;\n    messages.forEach((message) => {\n      totalAmount += BigInt(message.amount);\n    });\n\n    await waitPendingTransfer(network, fromAddress);\n\n    const { balance } = await getWalletInfo(network, wallet!);\n\n    const { seqno, transaction } = await signMultiTransaction(\n      network, wallet!, messages, privateKey, expireAt,\n    );\n\n    if (!withDiesel) {\n      const fee = await calculateFee(network, wallet!, transaction, account.isInitialized);\n      if (balance < totalAmount + fee) {\n        return { error: ApiTransactionError.InsufficientBalance };\n      }\n    }\n\n    const client = getTonClient(network);\n    const { msgHash, boc } = await sendExternal(client, wallet!, transaction, withDiesel);\n\n    if (!withDiesel) {\n      addPendingTransfer(network, fromAddress, seqno, boc);\n    }\n\n    const clearedMessages = messages.map((message) => {\n      if (typeof message.payload !== 'string' && typeof message.payload !== 'undefined') {\n        return omit(message, ['payload']);\n      }\n      return message;\n    });\n\n    return {\n      seqno,\n      amount: totalAmount.toString(),\n      messages: clearedMessages,\n      boc,\n      msgHash,\n    };\n  } catch (err) {\n    logDebugError('submitMultiTransfer', err);\n    return { error: resolveTransactionError(err) };\n  }\n}\n\nasync function signMultiTransaction(\n  network: ApiNetwork,\n  wallet: TonWallet,\n  messages: TonTransferParams[],\n  privateKey: Uint8Array = new Uint8Array(64),\n  expireAt?: number,\n) {\n  const { seqno } = await getWalletInfo(network, wallet);\n  if (!expireAt) {\n    expireAt = Math.round(Date.now() / 1000) + TRANSFER_TIMEOUT_SEC;\n  }\n\n  const preparedMessages = messages.map((message) => {\n    const {\n      amount, toAddress, stateInit, isBase64Payload,\n    } = message;\n    let { payload } = message;\n\n    if (isBase64Payload && typeof payload === 'string') {\n      payload = Cell.fromBase64(payload);\n    }\n\n    const init = stateInit ? {\n      code: stateInit.refs[0],\n      data: stateInit.refs[1],\n    } : undefined;\n\n    return internal({\n      value: amount,\n      to: toAddress,\n      body: payload as Cell | string | undefined, // TODO Fix Uint8Array type\n      bounce: parseAddress(toAddress).isBounceable,\n      init,\n    });\n  });\n\n  const transaction = wallet.createTransfer({\n    seqno,\n    secretKey: Buffer.from(privateKey),\n    messages: preparedMessages,\n    sendMode: SendMode.PAY_GAS_SEPARATELY + SendMode.IGNORE_ERRORS,\n    timeout: expireAt,\n  });\n\n  const externalMessage = toExternalMessage(wallet, seqno, transaction);\n\n  return { seqno, transaction, externalMessage };\n}\n\nfunction toExternalMessage(\n  contract: TonWallet,\n  seqno: number,\n  body: Cell,\n) {\n  return beginCell()\n    .storeWritable(\n      storeMessage(\n        external({\n          to: contract.address,\n          init: seqno === 0 ? contract.init : undefined,\n          body,\n        }),\n      ),\n    )\n    .endCell();\n}\n\nfunction addPendingTransfer(network: ApiNetwork, address: string, seqno: number, boc: string) {\n  const key = buildPendingTransferKey(network, address);\n  const timestamp = Date.now();\n  const promise = retrySendBoc({\n    network, address, boc, seqno, timestamp,\n  });\n\n  pendingTransfers[key] = {\n    timestamp,\n    seqno,\n    promise,\n  };\n}\n\nasync function retrySendBoc({\n  network, address, boc, seqno, timestamp,\n}: {\n  network: ApiNetwork;\n  address: string;\n  boc: string;\n  seqno: number;\n  timestamp: number;\n}) {\n  const tonClient = getTonClient(network);\n  const waitUntil = timestamp + WAIT_TRANSFER_TIMEOUT;\n\n  while (Date.now() < waitUntil) {\n    const error = await tonClient.sendFile(boc).catch((err) => String(err));\n\n    // Errors mean that `seqno` was changed or not enough of balance\n    if (error?.includes('exitcode=33') || error?.includes('inbound external message rejected by account')) {\n      return;\n    }\n\n    await pause(WAIT_TRANSFER_PAUSE);\n    const walletInfo = await getWalletInfo(network, address).catch(() => undefined);\n\n    // seqno here may change before exit code appears\n    if (walletInfo && walletInfo.seqno > seqno) {\n      return;\n    }\n\n    await pause(WAIT_TRANSFER_PAUSE);\n  }\n}\n\nexport async function waitPendingTransfer(network: ApiNetwork, address: string) {\n  const key = buildPendingTransferKey(network, address);\n  const pendingTransfer = pendingTransfers[key];\n  if (!pendingTransfer) return;\n\n  await pendingTransfer.promise;\n\n  delete pendingTransfers[key];\n}\n\nfunction buildPendingTransferKey(network: ApiNetwork, address: string) {\n  return `${network}:${address}`;\n}\n\nasync function calculateFee(network: ApiNetwork, wallet: TonWallet, transaction: Cell, isInitialized?: boolean) {\n  // eslint-disable-next-line no-null/no-null\n  const { code = null, data = null } = !isInitialized ? wallet.init : {};\n\n  const { source_fees: fees } = await getTonClient(network).estimateExternalMessageFee(wallet.address, {\n    body: transaction,\n    initCode: code,\n    initData: data,\n    ignoreSignature: true,\n  });\n\n  return BigInt(fees.in_fwd_fee + fees.storage_fee + fees.gas_fee + fees.fwd_fee);\n}\n\nexport async function sendSignedMessage(accountId: string, message: ApiSignedTransfer) {\n  const { network } = parseAccountId(accountId);\n  const { address: fromAddress, publicKey, version } = await fetchStoredAccount(accountId);\n  const client = getTonClient(network);\n  const wallet = client.open(getTonWalletContract(publicKey, version!));\n\n  const { base64, seqno } = message;\n  const { msgHash, boc } = await sendExternal(client, wallet, Cell.fromBase64(base64));\n\n  addPendingTransfer(network, fromAddress, seqno, boc);\n\n  return msgHash;\n}\n\nexport async function sendSignedMessages(accountId: string, messages: ApiSignedTransfer[]) {\n  const { network } = parseAccountId(accountId);\n  const { address: fromAddress, publicKey, version } = await fetchStoredAccount(accountId);\n  const client = getTonClient(network);\n  const wallet = client.open(getTonWalletContract(publicKey, version!));\n\n  const attempts = ATTEMPTS + messages.length;\n  let index = 0;\n  let attempt = 0;\n\n  let firstBoc: string | undefined;\n\n  const msgHashes: string[] = [];\n  while (index < messages.length && attempt < attempts) {\n    const { base64, seqno } = messages[index];\n    try {\n      await waitPendingTransfer(network, fromAddress);\n\n      const { msgHash, boc } = await sendExternal(client, wallet, Cell.fromBase64(base64));\n      msgHashes.push(msgHash);\n\n      if (index === 0) {\n        firstBoc = boc;\n      }\n\n      addPendingTransfer(network, fromAddress, seqno, boc);\n\n      index++;\n    } catch (err) {\n      logDebugError('sendSignedMessages', err);\n    }\n    attempt++;\n  }\n\n  return { successNumber: index, firstBoc, msgHashes };\n}\n\nexport async function decryptComment(\n  accountId: string, encryptedComment: string, fromAddress: string, password: string,\n) {\n  const keyPair = await fetchKeyPair(accountId, password);\n  if (!keyPair) {\n    return undefined;\n  }\n\n  const { secretKey, publicKey } = keyPair;\n\n  const buffer = Buffer.from(encryptedComment, 'base64');\n\n  return decryptMessageComment(buffer, publicKey, secretKey, fromAddress);\n}\n\nexport async function waitUntilTransactionAppears(network: ApiNetwork, address: string, txId: string) {\n  const { lt } = parseTxId(txId);\n\n  if (lt === 0) {\n    return;\n  }\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const latestTxId = await fetchLatestTxId(network, address);\n    if (latestTxId && parseTxId(latestTxId).lt >= lt) {\n      return;\n    }\n    await pause(WAIT_TRANSACTION_PAUSE);\n  }\n}\n\nexport async function fetchNewestTxId(network: ApiNetwork, address: string) {\n  const transactions = await fetchTransactions(network, address, 1);\n\n  if (!transactions.length) {\n    return undefined;\n  }\n\n  return transactions[0].txId;\n}\n\nexport async function fixTokenActivitiesAddressForm(network: ApiNetwork, activities: ApiActivity[]) {\n  const tokenAddresses: Set<string> = new Set();\n\n  for (const activity of activities) {\n    if (activity.kind === 'transaction' && activity.slug !== TONCOIN_SLUG) {\n      tokenAddresses.add(activity.fromAddress);\n      tokenAddresses.add(activity.toAddress);\n    }\n  }\n\n  if (!tokenAddresses.size) {\n    return;\n  }\n\n  const addressBook = await fetchAddressBook(network, Array.from(tokenAddresses));\n\n  for (const activity of activities) {\n    if (activity.kind === 'transaction' && activity.slug !== TONCOIN_SLUG) {\n      activity.fromAddress = addressBook[activity.fromAddress].user_friendly;\n      activity.toAddress = addressBook[activity.toAddress].user_friendly;\n    }\n  }\n}\n\nexport async function fetchEstimateDiesel(accountId: string, tokenAddress: string) {\n  const { network } = parseAccountId(accountId);\n  if (network !== 'mainnet') return undefined;\n\n  const wallet = await pickAccountWallet(accountId);\n  if (!wallet) return undefined;\n\n  const account = await fetchStoredAccount(accountId);\n  const { address } = account;\n  const balance = await getWalletBalance(network, wallet);\n\n  if (balance >= MAX_BALANCE_WITH_CHECK_DIESEL) return undefined;\n\n  const {\n    status,\n    amount,\n    pendingCreatedAt,\n  } = await estimateDiesel(address, tokenAddress);\n  const { decimals } = findTokenByMinter(tokenAddress)!;\n\n  const isAwaitingNotExpiredPrevious = Boolean(\n    pendingCreatedAt\n      && Date.now() - new Date(pendingCreatedAt).getTime() > PENDING_DIESEL_TIMEOUT,\n  );\n\n  return {\n    status,\n    amount: amount ? fromDecimal(amount, decimals) : undefined,\n    pendingCreatedAt,\n    isAwaitingNotExpiredPrevious,\n  };\n}\n","import axios from 'axios';\nimport type { TonClientParameters } from '@ton/ton/dist/client/TonClient';\nimport { TonClient as TonCoreClient } from '@ton/ton/dist/client/TonClient';\n\nimport type { GetAddressInfoResponse } from '../types';\n\nimport { DEFAULT_ERROR_PAUSE, DEFAULT_RETRIES } from '../../../../config';\nimport axiosRetry from '../../../../lib/axios-retry';\nimport { fetchWithRetry } from '../../../../util/fetch';\nimport { logDebug } from '../../../../util/logs';\n\naxiosRetry(axios, {\n  retries: DEFAULT_RETRIES,\n  shouldResetTimeout: true,\n  retryDelay: (retryCount) => {\n    return retryCount * DEFAULT_ERROR_PAUSE;\n  },\n  onRetry: (retryNumber, error, requestConfig) => {\n    logDebug(`Retry request #${retryNumber}:`, requestConfig.url, error.response?.status);\n  },\n});\n\ntype Parameters = TonClientParameters & {\n  headers?: AnyLiteral;\n};\n\nexport class TonClient extends TonCoreClient {\n  private initParameters: Parameters;\n\n  constructor(parameters: Parameters) {\n    super(parameters);\n    this.initParameters = parameters;\n  }\n\n  getWalletInfo(address: string) {\n    return this.callRpc('getWalletInformation', { address });\n  }\n\n  getAddressInfo(address: string): Promise<GetAddressInfoResponse> {\n    return this.callRpc('getAddressInformation', { address });\n  }\n\n  callRpc(method: string, params: any): Promise<any> {\n    return this.sendRequest(this.parameters.endpoint, {\n      id: 1, jsonrpc: '2.0', method, params,\n    });\n  }\n\n  async sendFile(src: Buffer | string): Promise<void> {\n    const boc = typeof src === 'object' ? src.toString('base64') : src;\n    await this.callRpc('sendBocReturnHashNoError', { boc });\n  }\n\n  async sendRequest(apiUrl: string, request: any) {\n    const method: string = request.method;\n\n    const headers: AnyLiteral = {\n      ...this.initParameters.headers,\n      'Content-Type': 'application/json',\n    };\n    if (this.parameters.apiKey) {\n      headers['X-API-Key'] = this.parameters.apiKey;\n    }\n    const body = JSON.stringify(request);\n\n    const response = await fetchWithRetry(apiUrl, {\n      method: 'POST',\n      body,\n      headers,\n    }, {\n      shouldSkipRetryFn: (message, statusCode) => isNotTemporaryError(method, message, statusCode),\n    });\n\n    const data = await response.json();\n\n    return data.result;\n  }\n}\n\nfunction isNotTemporaryError(method: string, message?: string, statusCode?: number) {\n  return Boolean(statusCode === 422 || message?.match(/(exit code|exitcode=|duplicate message)/));\n}\n","import type { ApiNetwork } from '../../../types';\nimport type { ApiTransactionExtra } from '../types';\n\nimport {\n  TONCOIN_SLUG,\n  TONHTTPAPI_V3_MAINNET_API_URL,\n  TONHTTPAPI_V3_TESTNET_API_URL,\n} from '../../../../config';\nimport { fetchJson } from '../../../../util/fetch';\nimport { omitUndefined, split } from '../../../../util/iteratees';\nimport { getEnvironment } from '../../../environment';\nimport { parseTxId, stringifyTxId } from './index';\nimport { toBase64Address } from './tonCore';\n\ntype AddressBook = Record<string, { user_friendly: string }>;\n\nconst ADDRESS_BOOK_CHUNK_SIZE = 128;\n\nexport async function fetchTransactions(\n  network: ApiNetwork,\n  address: string,\n  limit: number,\n  toTxId?: string,\n  fromTxId?: string,\n): Promise<ApiTransactionExtra[]> {\n  const fromLt = fromTxId ? parseTxId(fromTxId).lt.toString() : undefined;\n  const toLt = toTxId ? parseTxId(toTxId).lt.toString() : undefined;\n\n  const data: {\n    transactions: any[];\n    address_book: AddressBook;\n  } = await callApiV3(network, '/transactions', {\n    account: address,\n    limit,\n    start_lt: fromLt,\n    end_lt: toLt,\n    sort: 'desc',\n  });\n\n  let { transactions: rawTransactions } = data;\n  const { address_book: addressBook } = data;\n\n  if (!rawTransactions.length) {\n    return [];\n  }\n\n  if (limit > 1) {\n    if (fromLt && rawTransactions[rawTransactions.length - 1].lt === fromLt) {\n      rawTransactions.pop();\n    }\n\n    if (toLt && rawTransactions[0]?.lt === toLt) {\n      rawTransactions = rawTransactions.slice(1);\n    }\n  }\n\n  return rawTransactions\n    .map((rawTx) => parseRawTransaction(network, rawTx, addressBook))\n    .flat();\n}\n\nfunction parseRawTransaction(network: ApiNetwork, rawTx: any, addressBook: AddressBook): ApiTransactionExtra[] {\n  const {\n    now,\n    lt,\n    hash,\n    total_fees: fee,\n    description: {\n      compute_ph: {\n        exit_code: exitCode,\n      },\n    },\n  } = rawTx;\n\n  const txId = stringifyTxId({ lt, hash });\n  const timestamp = now as number * 1000;\n  const isIncoming = !!rawTx.in_msg.source;\n  const inMsgHash = rawTx.in_msg.hash;\n  const msgs: any[] = isIncoming ? [rawTx.in_msg] : rawTx.out_msgs;\n\n  if (!msgs.length) return [];\n\n  return msgs.map((msg, i) => {\n    const { source, destination, value } = msg;\n    const fromAddress = addressBook[source].user_friendly;\n    const toAddress = addressBook[destination].user_friendly;\n    const normalizedAddress = toBase64Address(isIncoming ? source : destination, true, network);\n\n    return omitUndefined({\n      txId: msgs.length > 1 ? `${txId}:${i + 1}` : txId,\n      timestamp,\n      isIncoming,\n      fromAddress,\n      toAddress,\n      amount: isIncoming ? BigInt(value) : -BigInt(value),\n      slug: TONCOIN_SLUG,\n      fee: BigInt(fee),\n      inMsgHash,\n      normalizedAddress,\n      shouldHide: exitCode ? true : undefined,\n      extraData: {\n        body: getRawBody(msg),\n      },\n    });\n  });\n}\n\nexport async function fetchLatestTxId(network: ApiNetwork, address: string): Promise<string | undefined> {\n  const { transactions }: { transactions: any[] } = await callApiV3(network, '/transactions', {\n    account: address,\n    limit: 1,\n    sort: 'desc',\n  });\n\n  if (!transactions.length) {\n    return undefined;\n  }\n\n  const { lt, hash } = transactions[0];\n\n  return stringifyTxId({ lt, hash });\n}\n\nfunction getRawBody(msg: any) {\n  if (!msg.message_content) return undefined;\n  return msg.message_content.body;\n}\n\nexport async function fetchAddressBook(network: ApiNetwork, addresses: string[]): Promise<AddressBook> {\n  const chunks = split(addresses, ADDRESS_BOOK_CHUNK_SIZE);\n\n  const results = await Promise.all(chunks.map((chunk) => {\n    return callApiV3(network, '/addressBook', {\n      address: chunk,\n    });\n  }));\n\n  return results.reduce((acc, value) => {\n    return Object.assign(acc, value);\n  }, {} as AddressBook);\n}\n\nexport async function fixAddressFormat(network: ApiNetwork, address: string): Promise<string> {\n  const result: { address_book: Record<string, string> } = await callApiV3(network, '/addressBook', { address });\n  return result.address_book[address];\n}\n\nfunction callApiV3(network: ApiNetwork, path: string, data?: AnyLiteral) {\n  const { apiHeaders, tonhttpapiMainnetKey, tonhttpapiTestnetKey } = getEnvironment();\n  const baseUrl = network === 'testnet' ? TONHTTPAPI_V3_TESTNET_API_URL : TONHTTPAPI_V3_MAINNET_API_URL;\n  const apiKey = network === 'testnet' ? tonhttpapiTestnetKey : tonhttpapiMainnetKey;\n\n  return fetchJson(`${baseUrl}${path}`, data, {\n    headers: {\n      ...(apiKey && { 'X-Api-Key': apiKey }),\n      ...apiHeaders,\n    },\n  });\n}\n","import { callBackendPost } from '../../../common/backend';\n\nconst DIESEL_URL = '/diesel';\n\nexport function dieselSendBoc(boc: string) {\n  return callBackendPost(`${DIESEL_URL}/sendBoc`, { boc });\n}\n","/* Source https://github.com/toncenter/tonweb/blob/master/src/contract/dns/DnsUtils.js */\nimport type { Cell, Slice } from '@ton/core';\nimport { Address, Builder } from '@ton/core';\n\nimport type { TonClient } from './TonClient';\n\nimport { sha256 } from '../../../common/utils';\nimport { DnsCategory } from '../constants';\n\nexport type DnsResult = Cell | Address | string | undefined;\n\nasync function categoryToBigInt(category?: string) {\n  if (!category) return 0n; // all categories\n  const categoryBytes = new TextEncoder().encode(category);\n  const categoryHashHex = Buffer.from(await sha256(categoryBytes)).toString('hex');\n  return BigInt(`0x${categoryHashHex}`);\n}\n\nfunction parseSmartContractAddressImpl(cell: Cell, prefix0: number, prefix1: number): Address | undefined {\n  const slice = cell.asSlice();\n\n  const byte0 = slice.loadUint(8);\n  const byte1 = slice.loadUint(8);\n\n  if (byte0 !== prefix0 || byte1 !== prefix1) {\n    throw new Error('Invalid dns record value prefix');\n  }\n\n  return parseAddress(slice);\n}\n\nfunction parseSmartContractAddressRecord(cell: Cell): Address | undefined {\n  return parseSmartContractAddressImpl(cell, 0x9f, 0xd3);\n}\n\nfunction parseNextResolverRecord(cell: Cell): Address | undefined {\n  return parseSmartContractAddressImpl(cell, 0xba, 0x93);\n}\n\nfunction parseStorageBagIdRecord(cell: Cell): string {\n  const slice = cell.asSlice();\n  const byte0 = slice.loadUint(8);\n  const byte1 = slice.loadUint(8);\n\n  if (byte0 !== 0x74 || byte1 !== 0x73) {\n    throw new Error('Invalid dns record value prefix');\n  }\n\n  const buffer = slice.loadBuffer(4);\n  return buffer.toString('hex');\n}\n\nfunction parseSiteRecord(cell: Cell): string {\n  const slice = cell.asSlice();\n  const byte0 = slice.loadUint(8);\n  const byte1 = slice.loadUint(8);\n\n  if (byte0 === 0xad || byte1 === 0x01) {\n    return parseAdnlAddressRecord(cell);\n  } else {\n    return parseStorageBagIdRecord(cell);\n  }\n}\n\nfunction parseAdnlAddressRecord(cell: Cell): string {\n  const slice = cell.asSlice();\n  const byte0 = slice.loadUint(8);\n  const byte1 = slice.loadUint(8);\n\n  if (byte0 !== 0xad || byte1 !== 0x01) {\n    throw new Error('Invalid dns record value prefix');\n  }\n\n  const buffer = slice.loadBuffer(4);\n  return buffer.toString('hex');\n}\n\nasync function dnsResolveImpl(\n  client: TonClient,\n  dnsAddress: string,\n  rawDomainBytes: Uint8Array,\n  category?: DnsCategory,\n  oneStep?: boolean,\n): Promise<DnsResult> {\n  const len = rawDomainBytes.length * 8;\n\n  const domainCell = new Builder()\n    .storeBuffer(Buffer.from(rawDomainBytes))\n    .asCell();\n\n  const categoryBN = await categoryToBigInt(category);\n  const { stack } = await client.callGetMethod(Address.parse(dnsAddress), 'dnsresolve', [\n    { type: 'slice', cell: domainCell },\n    { type: 'int', value: BigInt(categoryBN.toString()) },\n  ]);\n\n  const resultLen = stack.readNumber();\n\n  let cell: Cell | undefined;\n\n  try {\n    cell = stack.readCell();\n  } catch (err) {\n    // Do nothing\n  }\n\n  if (resultLen === 0) {\n    return undefined; // domain cannot be resolved\n  }\n\n  if (resultLen % 8 !== 0) {\n    throw new Error('domain split not at a component boundary');\n  }\n  // if (rawDomainBytes[resultLen] !== 0) {\n  //     throw new Error('domain split not at a component boundary');\n  // }\n  if (resultLen > len) {\n    throw new Error(`invalid response ${resultLen}/${len}`);\n  } else if (resultLen === len) {\n    if (category === DnsCategory.DnsNextResolver) {\n      return cell ? parseNextResolverRecord(cell) : undefined;\n    } else if (category === DnsCategory.Wallet) {\n      return cell ? parseSmartContractAddressRecord(cell) : undefined;\n    } else if (category === DnsCategory.Site) {\n      return cell ? parseSiteRecord(cell) : undefined;\n    } else if (category === DnsCategory.BagId) {\n      return cell ? parseStorageBagIdRecord(cell) : undefined;\n    } else {\n      return cell;\n    }\n  } else if (!cell) {\n    return undefined; // domain cannot be resolved\n  } else {\n    const nextAddress = parseNextResolverRecord(cell)!;\n    if (oneStep) {\n      if (category === DnsCategory.DnsNextResolver) {\n        return nextAddress;\n      } else {\n        return undefined;\n      }\n    } else {\n      return dnsResolveImpl(client, nextAddress.toString(), rawDomainBytes.slice(resultLen / 8), category, false);\n    }\n  }\n}\n\nfunction domainToBytes(domain: string): Uint8Array {\n  if (!domain || !domain.length) {\n    throw new Error('empty domain');\n  }\n  if (domain === '.') {\n    return new Uint8Array([0]);\n  }\n\n  domain = domain.toLowerCase();\n\n  for (let i = 0; i < domain.length; i++) {\n    if (domain.charCodeAt(i) <= 32) {\n      throw new Error('bytes in range 0..32 are not allowed in domain names');\n    }\n  }\n\n  for (let i = 0; i < domain.length; i++) {\n    const s = domain.substring(i, i + 1);\n    for (let c = 127; c <= 159; c++) { // another control codes range\n      if (s === String.fromCharCode(c)) {\n        throw new Error('bytes in range 127..159 are not allowed in domain names');\n      }\n    }\n  }\n\n  const arr = domain.split('.');\n\n  arr.forEach((part) => {\n    if (!part.length) {\n      throw new Error('domain name cannot have an empty component');\n    }\n  });\n\n  let rawDomain = `${arr.reverse().join('\\0')}\\0`;\n  if (rawDomain.length < 126) {\n    rawDomain = `\\0${rawDomain}`;\n  }\n\n  return new TextEncoder().encode(rawDomain);\n}\n\nexport function dnsResolve(\n  client: TonClient,\n  rootDnsAddress: string,\n  domain: string,\n  category?: DnsCategory,\n  oneStep?: boolean,\n): Promise<DnsResult> {\n  const rawDomainBytes = domainToBytes(domain);\n\n  return dnsResolveImpl(client, rootDnsAddress, rawDomainBytes, category, oneStep);\n}\n\nfunction parseAddress(slice: Slice): Address | undefined {\n  slice.loadUint(3);\n  let n = slice.loadUintBig(8);\n  if (n > 127n) { // Maybe it's not necessary?\n    n -= 256n;\n  }\n\n  const hashPart = slice.loadUintBig(256);\n  if (`${n.toString(10)}:${hashPart.toString(16)}` === '0:0') {\n    return undefined;\n  }\n  const s = `${n.toString(10)}:${hashPart.toString(16).padStart(64, '0')}`;\n  return Address.parse(s);\n}\n","// This JS library implements TON message comment encryption and decryption for Web\n// Reference C++ code - SimpleEncryptionV2 - https://github.com/ton-blockchain/ton/blob/cc0eb453cb3bf69f92693160103d33112856c056/tonlib/tonlib/keys/SimpleEncryption.cpp#L110\n// Dependencies:\n// - TonWeb 0.0.60\n// - aes-js - 3.1.2 - https://github.com/ricmoo/aes-js/releases/tag/v3.1.2 - for aes-cbc without padding\n// - noble-ed25519 - 1.7.3 - // https://github.com/paulmillr/noble-ed25519/releases/tag/1.7.3 - for getSharedKey\n\nimport type { Address } from '@ton/core';\n\nimport { OpCode } from '../constants';\nimport { toBase64Address } from './tonCore';\n\nconst ed25519 = require('../../../../lib/noble-ed25519');\nconst aesjs = require('../../../../lib/aes-js');\n\nasync function hmacSha512(key: Uint8Array, data: Uint8Array): Promise<Uint8Array> {\n  const hmacAlgo = { name: 'HMAC', hash: 'SHA-512' };\n  const hmacKey = await crypto.subtle.importKey('raw', key, hmacAlgo, false, ['sign']);\n  const signature = await crypto.subtle.sign(hmacAlgo, hmacKey, data);\n  const result = new Uint8Array(signature);\n  if (result.length !== 512 / 8) throw new Error();\n  return result;\n}\n\nfunction getAesCbcState(hash: Uint8Array): Promise<any> {\n  if (hash.length < 48) throw new Error();\n  const key = hash.slice(0, 32);\n  const iv = hash.slice(32, 32 + 16);\n\n  // Note that native crypto.subtle AES-CBC not suitable here because\n  // even if the data IS a multiple of 16 bytes, padding will still be added\n  // So we use aes-js\n\n  // eslint-disable-next-line new-cap\n  return new aesjs.ModeOfOperation.cbc(key, iv);\n}\n\nfunction getRandomPrefix(dataLength: number, minPadding: number): Uint8Array {\n  // eslint-disable-next-line no-bitwise\n  const prefixLength = ((minPadding + 15 + dataLength) & -16) - dataLength;\n  const prefix = crypto.getRandomValues(new Uint8Array(prefixLength));\n  prefix[0] = prefixLength;\n  if ((prefixLength + dataLength) % 16 !== 0) throw new Error();\n  return prefix;\n}\n\nfunction combineSecrets(a: Uint8Array, b: Uint8Array) {\n  return hmacSha512(a, b);\n}\n\nasync function encryptDataWithPrefix(data: Uint8Array, sharedSecret: Uint8Array, salt: Uint8Array) {\n  if (data.length % 16 !== 0) throw new Error();\n  const dataHash = await combineSecrets(salt, data);\n  const msgKey = dataHash.slice(0, 16);\n\n  const res = new Uint8Array(data.length + 16);\n  res.set(msgKey, 0);\n\n  const cbcStateSecret = await combineSecrets(sharedSecret, msgKey);\n  const encrypted = (await getAesCbcState(cbcStateSecret)).encrypt(data);\n  res.set(encrypted, 16);\n\n  return res;\n}\n\nasync function encryptDataImpl(data: Uint8Array, sharedSecret: Uint8Array, salt: Uint8Array) {\n  const prefix = await getRandomPrefix(data.length, 16);\n  const combined = new Uint8Array(prefix.length + data.length);\n  combined.set(prefix, 0);\n  combined.set(data, prefix.length);\n  return encryptDataWithPrefix(combined, sharedSecret, salt);\n}\n\nexport async function encryptData(\n  data: Uint8Array, myPublicKey: Uint8Array, theirPublicKey: Uint8Array, privateKey: Uint8Array, salt: Uint8Array,\n) {\n  const sharedSecret = await ed25519.getSharedSecret(privateKey, theirPublicKey);\n\n  const encrypted = await encryptDataImpl(data, sharedSecret, salt);\n  const prefixedEncrypted = new Uint8Array(myPublicKey.length + encrypted.length);\n  for (let i = 0; i < myPublicKey.length; i++) {\n    // eslint-disable-next-line no-bitwise\n    prefixedEncrypted[i] = theirPublicKey[i] ^ myPublicKey[i];\n  }\n  prefixedEncrypted.set(encrypted, myPublicKey.length);\n  return prefixedEncrypted;\n}\n\nexport async function encryptMessageComment(\n  comment: string,\n  myPublicKey: Uint8Array,\n  theirPublicKey: Uint8Array,\n  myPrivateKey: Uint8Array,\n  senderAddress: Address | string,\n) {\n  if (!comment || !comment.length) throw new Error('empty comment');\n\n  if (myPrivateKey.length === 64) {\n    myPrivateKey = myPrivateKey.slice(0, 32); // convert nacl private key\n  }\n\n  const commentBytes = new TextEncoder().encode(comment);\n\n  const salt = new TextEncoder().encode(toBase64Address(senderAddress, true));\n\n  const encryptedBytes = await encryptData(commentBytes, myPublicKey, theirPublicKey, myPrivateKey, salt);\n\n  const payload = new Uint8Array(encryptedBytes.length + 4);\n\n  const buffer = Buffer.alloc(4);\n  buffer.writeUInt32BE(OpCode.Encrypted);\n\n  payload.set(buffer, 0);\n  payload.set(encryptedBytes, 4);\n\n  return payload;\n}\n\nasync function doDecrypt(\n  cbcStateSecret: Uint8Array, msgKey: Uint8Array, encryptedData: Uint8Array, salt: Uint8Array,\n): Promise<Uint8Array> {\n  const decryptedData = (await getAesCbcState(cbcStateSecret)).decrypt(encryptedData);\n  const dataHash = await combineSecrets(salt, decryptedData);\n  const gotMsgKey = dataHash.slice(0, 16);\n  if (msgKey.join(',') !== gotMsgKey.join(',')) {\n    throw new Error('Failed to decrypt: hash mismatch');\n  }\n  const prefixLength = decryptedData[0];\n  if (prefixLength > decryptedData.length || prefixLength < 16) {\n    throw new Error('Failed to decrypt: invalid prefix size');\n  }\n  return decryptedData.slice(prefixLength);\n}\n\nasync function decryptDataImpl(\n  encryptedData: Uint8Array, sharedSecret: Uint8Array, salt: Uint8Array,\n): Promise<Uint8Array> {\n  if (encryptedData.length < 16) throw new Error('Failed to decrypt: data is too small');\n  if (encryptedData.length % 16 !== 0) throw new Error('Failed to decrypt: data size is not divisible by 16');\n  const msgKey = encryptedData.slice(0, 16);\n  const data = encryptedData.slice(16);\n  const cbcStateSecret = await combineSecrets(sharedSecret, msgKey);\n  const res = await doDecrypt(cbcStateSecret, msgKey, data, salt);\n  return res;\n}\n\nexport async function decryptData(data: Uint8Array, publicKey: Uint8Array, privateKey: Uint8Array, salt: Uint8Array) {\n  if (data.length < publicKey.length) {\n    throw new Error('Failed to decrypt: data is too small');\n  }\n  const theirPublicKey = new Uint8Array(publicKey.length);\n  for (let i = 0; i < publicKey.length; i++) {\n    // eslint-disable-next-line no-bitwise\n    theirPublicKey[i] = data[i] ^ publicKey[i];\n  }\n  const sharedSecret = await ed25519.getSharedSecret(privateKey, theirPublicKey);\n\n  const decrypted = await decryptDataImpl(data.slice(publicKey.length), sharedSecret, salt);\n  return decrypted;\n}\n\nexport async function decryptMessageComment(\n  encryptedData: Uint8Array, myPublicKey: Uint8Array, myPrivateKey: Uint8Array, senderAddress: Address | string,\n) {\n  if (myPrivateKey.length === 64) {\n    myPrivateKey = myPrivateKey.slice(0, 32); // convert nacl private key\n  }\n\n  const salt = new TextEncoder().encode(toBase64Address(senderAddress, true));\n\n  const decryptedBytes = await decryptData(encryptedData, myPublicKey, myPrivateKey, salt);\n  return new TextDecoder().decode(decryptedBytes);\n}\n","import { bigintRandom, bigintReviver } from '../../../../util/bigint';\n\nexport function cloneDeep<T>(value: T): T {\n  return JSON.parse(JSON.stringify(value), bigintReviver);\n}\n\nexport function stringifyTxId({ lt, hash }: { lt: number | string; hash: string }) {\n  return `${lt}:${hash}`;\n}\n\nexport function parseTxId(txId: string): { lt: number; hash: string } {\n  const [lt, hash] = txId.split(':');\n  return { lt: Number(lt), hash };\n}\n\nexport function buildTokenSlug(minterAddress: string) {\n  const addressPart = minterAddress.replace(/[^a-z\\d]/gi, '').slice(0, 10);\n  return `ton-${addressPart}`.toLowerCase();\n}\n\nexport function generateQueryId() {\n  return bigintRandom(8);\n}\n","import type { NftItem } from 'tonapi-sdk-js';\nimport type { DictionaryValue } from '@ton/core';\nimport { BitReader } from '@ton/core/dist/boc/BitReader';\nimport { BitString } from '@ton/core/dist/boc/BitString';\nimport { Builder } from '@ton/core/dist/boc/Builder';\nimport { Cell } from '@ton/core/dist/boc/Cell';\nimport { Slice } from '@ton/core/dist/boc/Slice';\nimport { Dictionary } from '@ton/core/dist/dict/Dictionary';\n\nimport type { ApiNetwork, ApiNft, ApiParsedPayload } from '../../../types';\nimport type { DnsCategory } from '../constants';\nimport type { ApiTransactionExtra, JettonMetadata } from '../types';\n\nimport {\n  DEBUG,\n  LIQUID_JETTON,\n  NFT_FRAGMENT_COLLECTIONS,\n} from '../../../../config';\nimport { pick, range } from '../../../../util/iteratees';\nimport { logDebugError } from '../../../../util/logs';\nimport { fetchJsonMetadata, fixIpfsUrl } from '../../../../util/metadata';\nimport { checkHasScamLink, checkIsTrustedCollection } from '../../../common/addresses';\nimport { base64ToString, sha256 } from '../../../common/utils';\nimport {\n  DNS_CATEGORY_HASH_MAP,\n  DnsOpCode,\n  JettonOpCode,\n  LiquidStakingOpCode,\n  NftOpCode,\n  OpCode,\n  OtherOpCode,\n  SingleNominatorOpCode,\n  VestingV1OpCode,\n} from '../constants';\nimport { fixAddressFormat } from './apiV3';\nimport { buildTokenSlug } from './index';\nimport { fetchNftItems } from './tonapiio';\nimport {\n  getDnsItemDomain, getJettonMinterData, resolveTokenMinterAddress, toBase64Address,\n} from './tonCore';\n\nconst OFFCHAIN_CONTENT_PREFIX = 0x01;\nconst SNAKE_PREFIX = 0x00;\n\nexport function parseJettonWalletMsgBody(network: ApiNetwork, body?: string) {\n  if (!body) return undefined;\n\n  try {\n    let slice = Cell.fromBase64(body).beginParse();\n    const opCode = slice.loadUint(32);\n    const queryId = slice.loadUint(64);\n\n    if (opCode !== JettonOpCode.Transfer && opCode !== JettonOpCode.InternalTransfer) {\n      return undefined;\n    }\n\n    const jettonAmount = slice.loadCoins();\n    const address = slice.loadMaybeAddress();\n    const responseAddress = slice.loadMaybeAddress();\n    let forwardAmount: bigint | undefined;\n    let comment: string | undefined;\n    let encryptedComment: string | undefined;\n\n    if (responseAddress) {\n      if (opCode === JettonOpCode.Transfer) {\n        slice.loadBit();\n      }\n      forwardAmount = slice.loadCoins();\n      const isSeparateCell = slice.remainingBits && slice.loadBit();\n      if (isSeparateCell && slice.remainingRefs) {\n        slice = slice.loadRef().beginParse();\n      }\n      if (slice.remainingBits > 32) {\n        const forwardOpCode = slice.loadUint(32);\n        if (forwardOpCode === OpCode.Comment) {\n          const buffer = readSnakeBytes(slice);\n          comment = buffer.toString('utf-8');\n        } else if (forwardOpCode === OpCode.Encrypted) {\n          const buffer = readSnakeBytes(slice);\n          encryptedComment = buffer.toString('base64');\n        }\n      }\n    }\n\n    return {\n      operation: JettonOpCode[opCode] as keyof typeof JettonOpCode,\n      queryId,\n      jettonAmount,\n      responseAddress,\n      address: address ? toBase64Address(address, undefined, network) : undefined,\n      forwardAmount,\n      comment,\n      encryptedComment,\n    };\n  } catch (err) {\n    logDebugError('parseJettonWalletMsgBody', err);\n  }\n\n  return undefined;\n}\n\nexport function fixBase64ImageData(data: string) {\n  const decodedData = base64ToString(data);\n  if (decodedData.includes('<svg')) {\n    return `data:image/svg+xml;base64,${data}`;\n  }\n  return `data:image/png;base64,${data}`;\n}\n\nconst dictSnakeBufferValue: DictionaryValue<Buffer> = {\n  parse: (slice) => {\n    const buffer = Buffer.from('');\n\n    const sliceToVal = (s: Slice, v: Buffer, isFirst: boolean) => {\n      if (isFirst && s.loadUint(8) !== SNAKE_PREFIX) {\n        throw new Error('Only snake format is supported');\n      }\n\n      v = Buffer.concat([v, s.loadBuffer(s.remainingBits / 8)]);\n      if (s.remainingRefs === 1) {\n        v = sliceToVal(s.loadRef().beginParse(), v, false);\n      }\n\n      return v;\n    };\n\n    return sliceToVal(slice.loadRef().beginParse() as any, buffer, true);\n  },\n  serialize: () => {\n    // pass\n  },\n};\n\nconst jettonOnChainMetadataSpec: {\n  [key in keyof JettonMetadata]: 'utf8' | 'ascii' | undefined;\n} = {\n  uri: 'ascii',\n  name: 'utf8',\n  description: 'utf8',\n  image: 'ascii',\n  symbol: 'utf8',\n  decimals: 'utf8',\n};\n\nexport async function fetchJettonMetadata(network: ApiNetwork, address: string) {\n  const { content } = await getJettonMinterData(network, address);\n\n  let metadata: JettonMetadata;\n\n  const slice = content.asSlice();\n  const prefix = slice.loadUint(8);\n\n  if (prefix === OFFCHAIN_CONTENT_PREFIX) {\n    const bytes = readSnakeBytes(slice);\n    const contentUri = bytes.toString('utf-8');\n    metadata = await fetchJettonOffchainMetadata(contentUri);\n  } else {\n    // On-chain content\n    metadata = await parseJettonOnchainMetadata(slice);\n    if (metadata.uri) {\n      // Semi-chain content\n      const offchainMetadata = await fetchJettonOffchainMetadata(metadata.uri);\n      metadata = { ...offchainMetadata, ...metadata };\n    }\n  }\n\n  return metadata;\n}\n\nexport async function parseJettonOnchainMetadata(slice: Slice): Promise<JettonMetadata> {\n  const dict = slice.loadDict(Dictionary.Keys.Buffer(32), dictSnakeBufferValue);\n\n  const res: { [s in keyof JettonMetadata]?: string } = {};\n\n  for (const [key, value] of Object.entries(jettonOnChainMetadataSpec)) {\n    const sha256Key = Buffer.from(await sha256(Buffer.from(key, 'ascii')));\n    const val = dict.get(sha256Key)?.toString(value);\n\n    if (val) {\n      res[key as keyof JettonMetadata] = val;\n    }\n  }\n\n  return res as JettonMetadata;\n}\n\nexport async function fetchJettonOffchainMetadata(uri: string): Promise<JettonMetadata> {\n  const metadata = await fetchJsonMetadata(uri);\n  return pick(metadata, ['name', 'description', 'symbol', 'decimals', 'image', 'image_data']);\n}\n\nexport async function parseWalletTransactionBody(\n  network: ApiNetwork, transaction: ApiTransactionExtra,\n): Promise<ApiTransactionExtra> {\n  const body = transaction.extraData?.body;\n  if (!body || transaction.comment || transaction.encryptedComment) {\n    return transaction;\n  }\n\n  try {\n    const slice = dataToSlice(body);\n\n    if (slice.remainingBits > 32) {\n      const address = transaction.isIncoming ? transaction.fromAddress : transaction.toAddress;\n\n      const parsedPayload = await parsePayloadSlice(\n        network, address, slice, false, transaction,\n      );\n      transaction.extraData!.parsedPayload = parsedPayload;\n\n      if (parsedPayload?.type === 'comment') {\n        transaction = {\n          ...transaction,\n          comment: parsedPayload.comment,\n        };\n      } else if (parsedPayload?.type === 'encrypted-comment') {\n        transaction = {\n          ...transaction,\n          encryptedComment: parsedPayload.encryptedComment,\n        };\n      }\n    }\n  } catch (err) {\n    logDebugError('parseTransactionBody', err);\n  }\n\n  return transaction;\n}\n\nexport async function parsePayloadBase64(\n  network: ApiNetwork,\n  address: string,\n  base64: string,\n): Promise<ApiParsedPayload> {\n  const slice = dataToSlice(base64);\n  const result: ApiParsedPayload = { type: 'unknown', base64 };\n\n  if (!slice) return result;\n\n  return await parsePayloadSlice(network, address, slice, true) ?? result;\n}\n\nexport async function parsePayloadSlice(\n  network: ApiNetwork,\n  address: string,\n  slice: Slice,\n  shouldLoadItems?: boolean,\n  transactionDebug?: ApiTransactionExtra,\n): Promise<ApiParsedPayload | undefined> {\n  let opCode: number | undefined;\n  try {\n    opCode = slice.loadUint(32);\n\n    if (opCode === OpCode.Comment) {\n      const buffer = readSnakeBytes(slice);\n      const comment = buffer.toString('utf-8');\n      return { type: 'comment', comment };\n    } else if (opCode === OpCode.Encrypted) {\n      const buffer = readSnakeBytes(slice);\n      const encryptedComment = buffer.toString('base64');\n      return { type: 'encrypted-comment', encryptedComment };\n    } else if (slice.remainingBits < 64) {\n      return undefined;\n    }\n\n    const queryId = slice.loadUintBig(64);\n\n    switch (opCode) {\n      case JettonOpCode.Transfer: {\n        const minterAddress = await resolveTokenMinterAddress(network, address);\n        const slug = buildTokenSlug(minterAddress);\n\n        const amount = slice.loadCoins();\n        const destination = slice.loadAddress();\n        const responseDestination = slice.loadMaybeAddress();\n\n        if (!responseDestination) {\n          return {\n            type: 'tokens:transfer-non-standard',\n            queryId,\n            destination: toBase64Address(destination, undefined, network),\n            amount,\n            slug,\n          };\n        }\n\n        const customPayload = slice.loadMaybeRef();\n        const forwardAmount = slice.loadCoins();\n        let forwardPayload = slice.loadMaybeRef();\n        if (!forwardPayload && slice.remainingBits) {\n          const builder = new Builder().storeBits(slice.loadBits(slice.remainingBits));\n          range(0, slice.remainingRefs).forEach(() => {\n            builder.storeRef(slice.loadRef());\n          });\n          forwardPayload = builder.endCell();\n        }\n\n        return {\n          type: 'tokens:transfer',\n          queryId,\n          amount,\n          destination: toBase64Address(destination, undefined, network),\n          responseDestination: toBase64Address(responseDestination, undefined, network),\n          customPayload: customPayload?.toBoc().toString('base64'),\n          forwardAmount,\n          forwardPayload: forwardPayload?.toBoc().toString('base64'),\n          slug,\n        };\n      }\n      case NftOpCode.TransferOwnership: {\n        const newOwner = slice.loadAddress();\n        const responseDestination = slice.loadAddress();\n        const customPayload = slice.loadMaybeRef();\n        const forwardAmount = slice.loadCoins();\n        const forwardPayload = readForwardPayloadCell(slice);\n        const comment = forwardPayload ? readComment(forwardPayload.asSlice()) : undefined;\n\n        let nft: ApiNft | undefined;\n        if (shouldLoadItems) {\n          const [rawNft] = await fetchNftItems(network, [address]);\n          if (rawNft) {\n            nft = buildNft(network, rawNft);\n          }\n        }\n\n        return {\n          type: 'nft:transfer',\n          queryId,\n          newOwner: toBase64Address(newOwner, undefined, network),\n          responseDestination: toBase64Address(responseDestination, undefined, network),\n          customPayload: customPayload?.toBoc().toString('base64'),\n          forwardAmount,\n          forwardPayload: forwardPayload?.toBoc().toString('base64'),\n          nftAddress: address,\n          nftName: nft?.name,\n          nft,\n          comment,\n        };\n      }\n      case NftOpCode.OwnershipAssigned: {\n        const prevOwner = slice.loadAddress();\n        const forwardPayload = readForwardPayloadCell(slice);\n        const comment = forwardPayload ? readComment(forwardPayload.asSlice()) : undefined;\n\n        let nft: ApiNft | undefined;\n        if (shouldLoadItems) {\n          const [rawNft] = await fetchNftItems(network, [address]);\n          if (rawNft) {\n            nft = buildNft(network, rawNft);\n          }\n        }\n\n        return {\n          type: 'nft:ownership-assigned',\n          queryId,\n          prevOwner: toBase64Address(prevOwner, undefined, network),\n          comment,\n          nftAddress: address,\n          nft,\n        };\n      }\n      case JettonOpCode.Burn: {\n        const minterAddress = await resolveTokenMinterAddress(network, address);\n        const slug = buildTokenSlug(minterAddress);\n\n        const amount = slice.loadCoins();\n        const addressObj = slice.loadAddress();\n        const customPayload = slice.loadMaybeRef();\n        const isLiquidUnstakeRequest = minterAddress === LIQUID_JETTON;\n\n        return {\n          type: 'tokens:burn',\n          queryId,\n          amount,\n          address: toBase64Address(addressObj, undefined, network),\n          customPayload: customPayload?.toBoc().toString('base64'),\n          slug,\n          isLiquidUnstakeRequest,\n        };\n      }\n      case LiquidStakingOpCode.DistributedAsset: {\n        return {\n          type: 'liquid-staking:withdrawal-nft',\n          queryId,\n        };\n      }\n      case LiquidStakingOpCode.Withdrawal: {\n        return {\n          type: 'liquid-staking:withdrawal',\n          queryId,\n        };\n      }\n      case LiquidStakingOpCode.Deposit: {\n        let appId: bigint | undefined;\n        if (slice.remainingBits > 0) {\n          appId = slice.loadUintBig(64);\n        }\n        return {\n          type: 'liquid-staking:deposit',\n          queryId,\n          appId,\n        };\n      }\n      case VestingV1OpCode.AddWhitelist: {\n        const toAddress = slice.loadAddress();\n        const addressString = shouldLoadItems\n          ? await fixAddressFormat(network, toAddress.toRawString())\n          : '';\n\n        return {\n          type: 'vesting:add-whitelist',\n          queryId,\n          address: addressString,\n        };\n      }\n      case SingleNominatorOpCode.Withdraw: {\n        const amount = slice.loadCoins();\n        return {\n          type: 'single-nominator:withdraw',\n          queryId,\n          amount,\n        };\n      }\n      case SingleNominatorOpCode.ChangeValidator: {\n        const toAddress = slice.loadAddress();\n        const addressString = shouldLoadItems\n          ? await fixAddressFormat(network, toAddress.toRawString())\n          : '';\n\n        return {\n          type: 'single-nominator:change-validator',\n          queryId,\n          address: addressString,\n        };\n      }\n      case LiquidStakingOpCode.Vote: {\n        const votingAddress = slice.loadAddress();\n        const expirationDate = slice.loadUint(48);\n        const vote = slice.loadBit();\n        const needConfirmation = slice.loadBit();\n\n        return {\n          type: 'liquid-staking:vote',\n          queryId,\n          votingAddress: toBase64Address(votingAddress, true),\n          expirationDate,\n          vote,\n          needConfirmation,\n        };\n      }\n      case DnsOpCode.ChangeRecord: {\n        const hash = slice.loadBuffer(32).toString('hex');\n        const category = Object.entries(DNS_CATEGORY_HASH_MAP)\n          .find(([, value]) => hash === value)?.[0] as DnsCategory ?? 'unknown';\n        const toAddress = slice.loadAddress();\n        const domain = shouldLoadItems\n          ? await getDnsItemDomain(network, toAddress)\n          : '';\n\n        if (category === 'wallet') {\n          if (slice.remainingRefs > 0) {\n            const dataSlice = slice.loadRef().beginParse();\n            slice.endParse();\n\n            const dataAddress = dataSlice.loadAddress();\n            const flags = dataSlice.loadUint(8);\n\n            const addressString = shouldLoadItems\n              ? await fixAddressFormat(network, dataAddress.toRawString())\n              : '';\n\n            return {\n              type: 'dns:change-record',\n              queryId,\n              record: {\n                type: 'wallet',\n                value: addressString,\n                flags,\n              },\n              domain,\n            };\n          } else {\n            return {\n              type: 'dns:change-record',\n              queryId,\n              record: {\n                type: 'wallet',\n                value: undefined,\n              },\n              domain,\n            };\n          }\n        } else if (slice.remainingRefs > 0) {\n          const value = slice.loadRef();\n          return {\n            type: 'dns:change-record',\n            queryId,\n            record: category === 'unknown' ? {\n              type: 'unknown',\n              key: hash,\n              value: value.toBoc().toString('base64'),\n            } : {\n              type: category,\n              value: value.toBoc().toString('base64'),\n            },\n            domain,\n          };\n        } else {\n          return {\n            type: 'dns:change-record',\n            queryId,\n            record: category === 'unknown' ? {\n              type: 'unknown',\n              key: hash,\n            } : {\n              type: category,\n            },\n            domain,\n          };\n        }\n      }\n      case OtherOpCode.TokenBridgePaySwap: {\n        const swapId = slice.loadBuffer(32).toString('hex');\n        return {\n          type: 'token-bridge:pay-swap',\n          queryId,\n          swapId,\n        };\n      }\n    }\n  } catch (err) {\n    if (DEBUG) {\n      const debugTxString = transactionDebug\n        && `${transactionDebug.txId} ${new Date(transactionDebug.timestamp)}`;\n      const opCodeHex = `0x${opCode?.toString(16).padStart(8, '0')}`;\n      logDebugError('parsePayload', opCodeHex, debugTxString, '\\n', err);\n    }\n  }\n\n  return undefined;\n}\n\nfunction dataToSlice(data: string | Buffer | Uint8Array): Slice {\n  let buffer: Buffer;\n  if (typeof data === 'string') {\n    buffer = Buffer.from(data, 'base64');\n  } else if (data instanceof Buffer) {\n    buffer = data;\n  } else {\n    buffer = Buffer.from(data);\n  }\n\n  try {\n    return Cell.fromBoc(buffer)[0].beginParse();\n  } catch (err: any) {\n    if (err?.message !== 'Invalid magic') {\n      throw err;\n    }\n  }\n\n  return new Slice(new BitReader(new BitString(buffer, 0, buffer.length * 8)), []);\n}\n\nfunction readComment(slice: Slice) {\n  if (slice.remainingBits < 32) {\n    return undefined;\n  }\n\n  const opCode = slice.loadUint(32);\n  if (opCode !== OpCode.Comment || (!slice.remainingBits && !slice.remainingRefs)) {\n    return undefined;\n  }\n\n  const buffer = readSnakeBytes(slice);\n  return buffer.toString('utf-8');\n}\n\nfunction readForwardPayloadCell(slice: Slice) {\n  let forwardPayload = slice.loadBit() && slice.remainingRefs ? slice.loadRef() : undefined;\n\n  if (!forwardPayload && slice.remainingBits) {\n    const builder = new Builder().storeBits(slice.loadBits(slice.remainingBits));\n    range(0, slice.remainingRefs).forEach(() => {\n      builder.storeRef(slice.loadRef());\n    });\n    forwardPayload = builder.endCell();\n  }\n\n  return forwardPayload ?? undefined;\n}\n\nexport function readSnakeBytes(slice: Slice) {\n  let buffer = Buffer.alloc(0);\n\n  while (slice.remainingBits >= 8) {\n    buffer = Buffer.concat([buffer, slice.loadBuffer(slice.remainingBits / 8)]);\n    if (slice.remainingRefs) {\n      slice = slice.loadRef().beginParse();\n    } else {\n      break;\n    }\n  }\n\n  return buffer;\n}\n\nexport function buildNft(network: ApiNetwork, rawNft: NftItem): ApiNft | undefined {\n  if (!rawNft.metadata) {\n    return undefined;\n  }\n\n  try {\n    const {\n      address,\n      index,\n      collection,\n      metadata,\n      previews,\n      sale,\n      trust,\n    } = rawNft;\n\n    const {\n      name, image, description, render_type: renderType,\n    } = metadata as {\n      name?: string;\n      image?: string;\n      description?: string;\n      render_type?: string;\n    };\n\n    const collectionAddress = collection && toBase64Address(collection.address, true, network);\n    let hasScamLink = false;\n\n    if (!collectionAddress || !checkIsTrustedCollection(collectionAddress)) {\n      for (const text of [name, description].filter(Boolean)) {\n        if (checkHasScamLink(text)) {\n          hasScamLink = true;\n        }\n      }\n    }\n\n    const isScam = hasScamLink || description === 'SCAM' || trust === 'blacklist';\n    const isHidden = renderType === 'hidden' || isScam;\n    const imageFromPreview = previews!.find((x) => x.resolution === '1500x1500')!.url;\n\n    return {\n      index,\n      name,\n      address: toBase64Address(address, true, network),\n      image: fixIpfsUrl(imageFromPreview || image || ''),\n      thumbnail: previews!.find((x) => x.resolution === '500x500')!.url,\n      isOnSale: Boolean(sale),\n      isHidden,\n      isScam,\n      description,\n      ...(collection && {\n        collectionAddress: toBase64Address(collection.address, true, network),\n        collectionName: collection.name,\n        isOnFragment: NFT_FRAGMENT_COLLECTIONS.has(collection.address),\n      }),\n    };\n  } catch (err) {\n    logDebugError('buildNft', err);\n    return undefined;\n  }\n}\n","import type { Cell } from '@ton/core';\nimport { beginCell, external, storeMessage } from '@ton/core';\n\nimport type { TonClient } from './TonClient';\nimport type { TonWallet } from './tonCore';\n\nimport { dieselSendBoc } from './diesel';\n\nexport async function sendExternal(\n  client: TonClient,\n  wallet: TonWallet,\n  message: Cell,\n  withDiesel?: boolean,\n) {\n  const {\n    address,\n    init,\n  } = wallet;\n\n  let neededInit: { data: Cell; code: Cell } | undefined;\n  if (init && !await client.isContractDeployed(address)) {\n    neededInit = init;\n  }\n\n  const ext = external({\n    to: address,\n    init: neededInit ? {\n      code: neededInit.code,\n      data: neededInit.data,\n    } : undefined,\n    body: message,\n  });\n\n  const cell = beginCell()\n    .store(storeMessage(ext))\n    .endCell();\n\n  const msgHash = cell.hash().toString('base64');\n  const boc = cell.toBoc().toString('base64');\n\n  if (withDiesel) {\n    await dieselSendBoc(boc);\n  } else {\n    await client.sendFile(boc);\n  }\n\n  return {\n    boc,\n    msgHash,\n  };\n}\n","import type { OpenedContract } from '@ton/core';\nimport { Address, Builder, Cell } from '@ton/core';\nimport axios from 'axios';\nimport { WalletContractV1R1 } from '@ton/ton/dist/wallets/WalletContractV1R1';\nimport { WalletContractV1R2 } from '@ton/ton/dist/wallets/WalletContractV1R2';\nimport { WalletContractV1R3 } from '@ton/ton/dist/wallets/WalletContractV1R3';\nimport { WalletContractV2R1 } from '@ton/ton/dist/wallets/WalletContractV2R1';\nimport { WalletContractV2R2 } from '@ton/ton/dist/wallets/WalletContractV2R2';\nimport { WalletContractV3R1 } from '@ton/ton/dist/wallets/WalletContractV3R1';\nimport { WalletContractV3R2 } from '@ton/ton/dist/wallets/WalletContractV3R2';\nimport { WalletContractV4 } from '@ton/ton/dist/wallets/WalletContractV4';\nimport { WalletContractV5R1 } from '@ton/ton/dist/wallets/WalletContractV5R1';\n\nimport type { ApiDnsZone, ApiNetwork, ApiWalletVersion } from '../../../types';\nimport type { TokenTransferBodyParams } from '../types';\n\nimport {\n  DEFAULT_TIMEOUT,\n  TONHTTPAPI_MAINNET_API_KEY,\n  TONHTTPAPI_MAINNET_URL,\n  TONHTTPAPI_TESTNET_API_KEY,\n  TONHTTPAPI_TESTNET_URL,\n} from '../../../../config';\nimport axiosFetchAdapter from '../../../../lib/axios-fetch-adapter';\nimport { logDebugError } from '../../../../util/logs';\nimport withCacheAsync from '../../../../util/withCacheAsync';\nimport { DnsItem } from '../contracts/DnsItem';\nimport { JettonMinter } from '../contracts/JettonMaster';\nimport { JettonWallet } from '../contracts/JettonWallet';\nimport { hexToBytes } from '../../../common/utils';\nimport { getEnvironment } from '../../../environment';\nimport {\n  DEFAULT_IS_BOUNCEABLE,\n  DNS_ZONES_MAP,\n  JettonOpCode,\n  LiquidStakingOpCode,\n  OpCode,\n  WORKCHAIN,\n} from '../constants';\nimport { generateQueryId } from './index';\n\nimport { TonClient } from './TonClient';\n\nexport type TonWalletType = typeof WalletContractV1R1\n| typeof WalletContractV1R2\n| typeof WalletContractV1R3\n| typeof WalletContractV2R1\n| typeof WalletContractV2R2\n| typeof WalletContractV3R1\n| typeof WalletContractV3R2\n| typeof WalletContractV4\n| typeof WalletContractV5R1;\n\nexport type TonWallet = OpenedContract<WalletContractV1R1\n| WalletContractV1R2\n| WalletContractV1R3\n| WalletContractV2R1\n| WalletContractV2R2\n| WalletContractV3R1\n| WalletContractV3R2\n| WalletContractV4\n| WalletContractV5R1>;\n\naxios.defaults.adapter = axiosFetchAdapter;\n\nconst TON_MAX_COMMENT_BYTES = 127;\n\nlet clientByNetwork: Record<ApiNetwork, TonClient> | undefined;\n\nexport const walletClassMap: Record<ApiWalletVersion, TonWalletType> = {\n  simpleR1: WalletContractV1R1,\n  simpleR2: WalletContractV1R2,\n  simpleR3: WalletContractV1R3,\n  v2R1: WalletContractV2R1,\n  v2R2: WalletContractV2R2,\n  v3R1: WalletContractV3R1,\n  v3R2: WalletContractV3R2,\n  v4R2: WalletContractV4,\n  W5: WalletContractV5R1,\n};\n\nexport function getTonClient(network: ApiNetwork = 'mainnet') {\n  if (!clientByNetwork) {\n    clientByNetwork = {\n      mainnet: new TonClient({\n        endpoint: TONHTTPAPI_MAINNET_URL,\n        timeout: DEFAULT_TIMEOUT,\n        apiKey: TONHTTPAPI_MAINNET_API_KEY,\n        headers: getEnvironment().apiHeaders,\n      }),\n      testnet: new TonClient({\n        endpoint: TONHTTPAPI_TESTNET_URL,\n        timeout: DEFAULT_TIMEOUT,\n        apiKey: TONHTTPAPI_TESTNET_API_KEY,\n        headers: getEnvironment().apiHeaders,\n      }),\n    };\n  }\n\n  return clientByNetwork[network];\n}\n\nexport function getTonWalletContract(publicKeyHex: string, version: ApiWalletVersion) {\n  const walletClass = walletClassMap[version];\n  if (!walletClass) {\n    throw new Error('Unsupported wallet contract version');\n  }\n\n  const publicKey = Buffer.from(hexToBytes(publicKeyHex));\n  return walletClass.create({ workchain: WORKCHAIN, publicKey });\n}\n\nexport const resolveTokenWalletAddress = withCacheAsync(\n  async (network: ApiNetwork, address: string, minterAddress: string) => {\n    const minter = getTonClient(network).open(new JettonMinter(Address.parse(minterAddress)));\n    const walletAddress = await minter.getWalletAddress(Address.parse(address));\n    return toBase64Address(walletAddress, true, network);\n  },\n);\n\nexport const resolveTokenMinterAddress = withCacheAsync(async (network: ApiNetwork, tokenWalletAddress: string) => {\n  const tokenWallet = getTonClient(network).open(new JettonWallet(Address.parse(tokenWalletAddress)));\n  const data = await tokenWallet.getWalletData();\n  return toBase64Address(data.minter, true, network);\n});\n\nexport const getWalletPublicKey = withCacheAsync(async (network: ApiNetwork, address: string) => {\n  try {\n    const res = await getTonClient(network).callGetMethod(Address.parse(address), 'get_public_key');\n    const bigintKey = res.stack.readBigNumber();\n    const hex = bigintKey.toString(16).padStart(64, '0');\n    return hexToBytes(hex);\n  } catch (err) {\n    logDebugError('getWalletPublicKey', err);\n    return undefined;\n  }\n});\n\nexport function getJettonMinterData(network: ApiNetwork, address: string) {\n  const contract = getTonClient(network).open(new JettonMinter(Address.parse(address)));\n  return contract.getJettonData();\n}\n\nexport function oneCellFromBoc(bytes: Uint8Array) {\n  return Cell.fromBoc(Buffer.from(bytes));\n}\n\nexport function toBase64Address(address: Address | string, isBounceable = DEFAULT_IS_BOUNCEABLE, network?: ApiNetwork) {\n  if (typeof address === 'string') {\n    address = Address.parse(address);\n  }\n  return address.toString({\n    urlSafe: true,\n    bounceable: isBounceable,\n    testOnly: network === 'testnet',\n  });\n}\n\nexport function toRawAddress(address: Address | string) {\n  if (typeof address === 'string') {\n    address = Address.parse(address);\n  }\n  return address.toRawString();\n}\n\nexport function buildTokenTransferBody(params: TokenTransferBodyParams) {\n  const {\n    queryId, tokenAmount, toAddress, responseAddress, forwardAmount,\n  } = params;\n  let forwardPayload = params.forwardPayload;\n\n  let builder = new Builder()\n    .storeUint(JettonOpCode.Transfer, 32)\n    .storeUint(queryId || generateQueryId(), 64)\n    .storeCoins(tokenAmount)\n    .storeAddress(Address.parse(toAddress))\n    .storeAddress(Address.parse(responseAddress))\n    .storeBit(false)\n    .storeCoins(forwardAmount ?? 0n);\n\n  if (forwardPayload instanceof Uint8Array) {\n    const freeBytes = Math.round(builder.availableBits / 8);\n    forwardPayload = packBytesAsSnake(forwardPayload, freeBytes);\n  }\n\n  if (!forwardPayload) {\n    builder.storeBit(false);\n  } else if (typeof forwardPayload === 'string') {\n    builder = builder.storeBit(false)\n      .storeUint(0, 32)\n      .storeBuffer(Buffer.from(forwardPayload));\n  } else if (forwardPayload instanceof Uint8Array) {\n    builder = builder.storeBit(false)\n      .storeBuffer(Buffer.from(forwardPayload));\n  } else {\n    builder = builder.storeBit(true)\n      .storeRef(forwardPayload);\n  }\n\n  return builder.endCell();\n}\n\nexport function parseBase64(base64: string) {\n  try {\n    return Cell.fromBase64(base64);\n  } catch (err) {\n    logDebugError('parseBase64', err);\n    return Uint8Array.from(Buffer.from(base64, 'base64'));\n  }\n}\n\nexport function commentToBytes(comment: string): Uint8Array {\n  const buffer = Buffer.from(comment);\n  const bytes = new Uint8Array(buffer.length + 4);\n\n  const startBuffer = Buffer.alloc(4);\n  startBuffer.writeUInt32BE(OpCode.Comment);\n  bytes.set(startBuffer, 0);\n  bytes.set(buffer, 4);\n\n  return bytes;\n}\n\nexport function packBytesAsSnake(bytes: Uint8Array, maxBytes = TON_MAX_COMMENT_BYTES): Uint8Array | Cell {\n  const buffer = Buffer.from(bytes);\n  if (buffer.length <= maxBytes) {\n    return bytes;\n  }\n\n  return packBytesAsSnakeCell(bytes);\n}\n\nexport function packBytesAsSnakeCell(bytes: Uint8Array): Cell {\n  const buffer = Buffer.from(bytes);\n\n  const mainBuilder = new Builder();\n  let prevBuilder: Builder | undefined;\n  let currentBuilder = mainBuilder;\n\n  for (const [i, byte] of buffer.entries()) {\n    if (currentBuilder.availableBits < 8) {\n      prevBuilder?.storeRef(currentBuilder);\n\n      prevBuilder = currentBuilder;\n      currentBuilder = new Builder();\n    }\n\n    currentBuilder = currentBuilder.storeUint(byte, 8);\n\n    if (i === buffer.length - 1) {\n      prevBuilder?.storeRef(currentBuilder);\n    }\n  }\n\n  return mainBuilder.asCell();\n}\n\nfunction createNestedCell(data: Uint8Array, maxCellSize: number): Cell {\n  const builder = new Builder();\n  const dataSlice = Buffer.from(data.slice(0, maxCellSize));\n\n  builder.storeBuffer(dataSlice);\n\n  if (data.length > maxCellSize) {\n    const remainingData = data.slice(maxCellSize);\n    builder.storeRef(createNestedCell(remainingData, maxCellSize));\n  }\n\n  return builder.endCell();\n}\n\nexport function packBytesAsSnakeForEncryptedData(data: Uint8Array): Uint8Array | Cell {\n  const ROOT_BUILDER_BYTES = 39;\n  const MAX_CELLS_AMOUNT = 16;\n\n  const rootBuilder = new Builder();\n  rootBuilder.storeBuffer(Buffer.from(data.slice(0, Math.min(data.length, ROOT_BUILDER_BYTES))));\n\n  if (data.length > ROOT_BUILDER_BYTES + MAX_CELLS_AMOUNT * TON_MAX_COMMENT_BYTES) {\n    throw new Error('Input text is too long');\n  }\n\n  rootBuilder.storeRef(createNestedCell(Buffer.from(data.slice(ROOT_BUILDER_BYTES)), TON_MAX_COMMENT_BYTES));\n\n  return rootBuilder.endCell();\n}\n\nexport function buildLiquidStakingDepositBody(queryId?: number) {\n  return new Builder()\n    .storeUint(LiquidStakingOpCode.Deposit, 32)\n    .storeUint(queryId || 0, 64)\n    .asCell();\n}\n\nexport function buildLiquidStakingWithdrawBody(options: {\n  queryId?: number;\n  amount: bigint;\n  responseAddress: string;\n  waitTillRoundEnd?: boolean; // opposite of request_immediate_withdrawal\n  fillOrKill?: boolean;\n}) {\n  const {\n    queryId, amount, responseAddress, waitTillRoundEnd, fillOrKill,\n  } = options;\n\n  const customPayload = buildLiquidStakingWithdrawCustomPayload(waitTillRoundEnd, fillOrKill);\n\n  return new Builder()\n    .storeUint(JettonOpCode.Burn, 32)\n    .storeUint(queryId ?? 0, 64)\n    .storeCoins(amount)\n    .storeAddress(Address.parse(responseAddress))\n    .storeBit(1)\n    .storeRef(customPayload)\n    .asCell();\n}\n\nexport function buildLiquidStakingWithdrawCustomPayload(waitTillRoundEnd?: boolean, fillOrKill?: boolean) {\n  return new Builder()\n    .storeUint(Number(waitTillRoundEnd), 1)\n    .storeUint(Number(fillOrKill), 1)\n    .asCell();\n}\n\nexport function getTokenBalance(network: ApiNetwork, walletAddress: string) {\n  const tokenWallet = getTonClient(network).open(new JettonWallet(Address.parse(walletAddress)));\n  return tokenWallet.getJettonBalance();\n}\n\nexport function parseAddress(address: string): {\n  isValid: boolean;\n  isRaw?: boolean;\n  isUserFriendly?: boolean;\n  isBounceable?: boolean;\n  isTestOnly?: boolean;\n  address?: Address;\n} {\n  try {\n    if (Address.isRaw(address)) {\n      return {\n        address: Address.parseRaw(address),\n        isRaw: true,\n        isValid: true,\n      };\n    } else if (Address.isFriendly(address)) {\n      return {\n        ...Address.parseFriendly(address),\n        isUserFriendly: true,\n        isValid: true,\n      };\n    }\n  } catch (err) {\n    // Do nothing\n  }\n\n  return { isValid: false };\n}\n\nexport function getIsRawAddress(address: string) {\n  return Boolean(parseAddress(address).isRaw);\n}\n\nexport async function getDnsItemDomain(network: ApiNetwork, address: Address | string) {\n  if (typeof address === 'string') address = Address.parse(address);\n\n  const contract = getTonClient(network)\n    .open(new DnsItem(address));\n  const nftData = await contract.getNftData();\n  const collectionAddress = toBase64Address(nftData.collectionAddress, true);\n\n  const zone = Object.entries(DNS_ZONES_MAP)\n    .find(([, collection]) => collection === collectionAddress)?.[0] as ApiDnsZone | undefined;\n\n  const base = zone === '.t.me'\n    ? await contract.getTelemintDomain()\n    : await contract.getDomain();\n\n  return `${base}${zone}`;\n}\n","import { Api, HttpClient } from 'tonapi-sdk-js';\n\nimport type { ApiNetwork } from '../../../types';\n\nimport { TONAPIIO_MAINNET_URL, TONAPIIO_TESTNET_URL } from '../../../../config';\nimport { fetchWithRetry } from '../../../../util/fetch';\nimport { getEnvironment } from '../../../environment';\n\nconst MAX_LIMIT = 500;\nconst EVENTS_LIMIT = 100;\n\nlet apiByNetwork: Record<ApiNetwork, Api<unknown>> | undefined;\n\nfunction getApi(network: ApiNetwork) {\n  if (!apiByNetwork) {\n    const headers = {\n      ...getEnvironment().apiHeaders,\n      'Content-Type': 'application/json',\n    };\n\n    apiByNetwork = {\n      mainnet: new Api(new HttpClient({\n        baseUrl: TONAPIIO_MAINNET_URL,\n        baseApiParams: { headers },\n        customFetch: fetchWithRetry as typeof fetch,\n      })),\n      testnet: new Api(new HttpClient({\n        baseUrl: TONAPIIO_TESTNET_URL,\n        baseApiParams: { headers },\n        customFetch: fetchWithRetry as typeof fetch,\n      })),\n    };\n  }\n\n  return apiByNetwork[network];\n}\n\nexport async function fetchJettonBalances(network: ApiNetwork, account: string) {\n  return (await getApi(network).accounts.getAccountJettonsBalances(account)).balances;\n}\n\nexport async function fetchNftItems(network: ApiNetwork, addresses: string[]) {\n  return (await getApi(network).nft.getNftItemsByAddresses({\n    account_ids: addresses,\n  })).nft_items;\n}\n\nexport async function fetchAccountNfts(network: ApiNetwork, address: string, options?: {\n  collection?: string;\n  offset?: number;\n  limit?: number;\n}) {\n  const { collection, offset, limit } = options ?? {};\n\n  return (await getApi(network).accounts.getAccountNftItems(\n    address,\n    {\n      offset: offset ?? 0,\n      limit: limit ?? MAX_LIMIT,\n      indirect_ownership: true,\n      collection,\n    },\n  )).nft_items;\n}\n\nexport async function fetchAccountEvents(network: ApiNetwork, address: string, fromSec: number, limit?: number) {\n  return (await getApi(network).accounts.getAccountEvents(address, {\n    limit: limit ?? EVENTS_LIMIT,\n    start_date: fromSec,\n  })).events;\n}\n","import { beginCell, storeStateInit } from '@ton/core';\n\nimport type { ApiNetwork, ApiWalletVersion } from '../../types';\nimport type { ContractInfo, WalletInfo } from './types';\nimport type { TonWallet } from './util/tonCore';\n\nimport { DEFAULT_WALLET_VERSION } from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport { pick } from '../../../util/iteratees';\nimport withCacheAsync from '../../../util/withCacheAsync';\nimport { stringifyTxId } from './util';\nimport { fetchJettonBalances } from './util/tonapiio';\nimport {\n  getTonClient, toBase64Address, walletClassMap,\n} from './util/tonCore';\nimport { fetchStoredAccount, fetchStoredAddress } from '../../common/accounts';\nimport { base64ToBytes, hexToBytes, sha256 } from '../../common/utils';\nimport { ALL_WALLET_VERSIONS, KnownContracts, WORKCHAIN } from './constants';\n\nexport const isAddressInitialized = withCacheAsync(\n  async (network: ApiNetwork, walletOrAddress: TonWallet | string) => {\n    return (await getWalletInfo(network, walletOrAddress)).isInitialized;\n  },\n);\n\nexport const isActiveSmartContract = withCacheAsync(async (network: ApiNetwork, address: string) => {\n  const { isInitialized, isWallet } = await getWalletInfo(network, address);\n  return isInitialized ? !isWallet : undefined;\n}, (value) => value !== undefined);\n\nexport function publicKeyToAddress(\n  network: ApiNetwork,\n  publicKey: Uint8Array,\n  walletVersion: ApiWalletVersion,\n) {\n  const wallet = buildWallet(network, publicKey, walletVersion);\n  return toBase64Address(wallet.address, false, network);\n}\n\nexport function buildWallet(network: ApiNetwork, publicKey: Uint8Array, walletVersion: ApiWalletVersion): TonWallet {\n  const client = getTonClient(network);\n  const WalletClass = walletClassMap[walletVersion]!;\n  return client.open(\n    WalletClass.create({\n      publicKey: Buffer.from(publicKey),\n      workchain: WORKCHAIN,\n    }),\n  );\n}\n\nexport async function getWalletInfo(network: ApiNetwork, walletOrAddress: TonWallet | string): Promise<{\n  isInitialized: boolean;\n  isWallet: boolean;\n  seqno: number;\n  balance: bigint;\n  lastTxId?: string;\n}> {\n  const address = typeof walletOrAddress === 'string'\n    ? walletOrAddress\n    : toBase64Address(walletOrAddress.address, undefined, network);\n\n  const {\n    account_state: accountState,\n    wallet: isWallet,\n    seqno = 0,\n    balance,\n    last_transaction_id: {\n      lt,\n      hash,\n    },\n  } = await getTonClient(network).getWalletInfo(address);\n\n  return {\n    isInitialized: accountState === 'active',\n    isWallet,\n    seqno,\n    balance: BigInt(balance || '0'),\n    lastTxId: lt === '0'\n      ? undefined\n      : stringifyTxId({ lt, hash }),\n  };\n}\n\nexport async function getContractInfo(network: ApiNetwork, address: string): Promise<{\n  isInitialized: boolean;\n  isSwapAllowed?: boolean;\n  isWallet?: boolean;\n  contractInfo?: ContractInfo;\n  codeHash?: string;\n}> {\n  const data = await getTonClient(network).getAddressInfo(address);\n\n  const { code, state } = data;\n\n  const codeHash = Buffer.from(await sha256(base64ToBytes(code))).toString('hex');\n  const contractInfo = Object.values(KnownContracts).find((info) => info.hash === codeHash);\n\n  const isInitialized = state === 'active';\n  const isWallet = state === 'active' ? contractInfo?.type === 'wallet' : undefined;\n  const isSwapAllowed = contractInfo?.isSwapAllowed;\n\n  return {\n    isInitialized,\n    isWallet,\n    isSwapAllowed,\n    contractInfo,\n    codeHash,\n  };\n}\n\nexport async function getAccountBalance(accountId: string) {\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  return getWalletBalance(network, address);\n}\n\nexport async function getWalletBalance(network: ApiNetwork, walletOrAddress: TonWallet | string): Promise<bigint> {\n  return (await getWalletInfo(network, walletOrAddress)).balance;\n}\n\nexport async function getWalletSeqno(network: ApiNetwork, walletOrAddress: TonWallet | string): Promise<number> {\n  const { seqno } = await getWalletInfo(network, walletOrAddress);\n  return seqno || 0;\n}\n\nexport async function pickBestWallet(network: ApiNetwork, publicKey: Uint8Array): Promise<{\n  wallet: TonWallet;\n  version: ApiWalletVersion;\n  balance: bigint;\n}> {\n  const allWallets = await getWalletVersionInfos(network, publicKey);\n  const defaultWallet = allWallets.filter(({ version }) => version === DEFAULT_WALLET_VERSION)[0];\n\n  if (defaultWallet.lastTxId) {\n    return defaultWallet;\n  }\n\n  const withBiggestBalance = allWallets.reduce<typeof allWallets[0] | undefined>((best, current) => {\n    return current.balance > (best?.balance ?? 0n) ? current : best;\n  }, undefined);\n\n  if (withBiggestBalance) {\n    return withBiggestBalance;\n  }\n\n  const withLastTx = allWallets.find(({ lastTxId }) => !!lastTxId);\n\n  if (withLastTx) {\n    return withLastTx;\n  }\n\n  // Workaround for NOT holders who do not have transactions\n  const v4Wallet = allWallets.find(({ version }) => version === 'v4R2')!;\n  const v4JettonBalances = await fetchJettonBalances(network, v4Wallet.address);\n  if (v4JettonBalances.length > 0) {\n    return v4Wallet;\n  }\n\n  return defaultWallet;\n}\n\nexport function getWalletVersionInfos(\n  network: ApiNetwork,\n  publicKey: Uint8Array,\n  versions: ApiWalletVersion[] = ALL_WALLET_VERSIONS,\n): Promise<WalletInfo[]> {\n  return Promise.all(versions.map(async (version) => {\n    const wallet = buildWallet(network, publicKey, version);\n    const address = toBase64Address(wallet.address, false, network);\n    const walletInfo = await getWalletInfo(network, wallet);\n\n    return {\n      wallet,\n      address,\n      version,\n      ...pick(walletInfo, ['isInitialized', 'balance', 'lastTxId']),\n    };\n  }));\n}\n\nexport function getWalletVersions(\n  network: ApiNetwork,\n  publicKey: Uint8Array,\n  versions: ApiWalletVersion[] = ALL_WALLET_VERSIONS,\n): {\n    wallet: TonWallet;\n    address: string;\n    version: ApiWalletVersion;\n  }[] {\n  return versions.map((version) => {\n    const wallet = buildWallet(network, publicKey, version);\n    const address = toBase64Address(wallet.address, false, network);\n\n    return {\n      wallet,\n      address,\n      version,\n    };\n  });\n}\n\nexport async function getWalletStateInit(accountId: string) {\n  const wallet = await pickAccountWallet(accountId);\n\n  return beginCell()\n    .storeWritable(storeStateInit(wallet!.init))\n    .endCell();\n}\n\nexport function pickWalletByAddress(network: ApiNetwork, publicKey: Uint8Array, address: string) {\n  address = toBase64Address(address, false, network);\n\n  const allWallets = getWalletVersions(network, publicKey);\n\n  return allWallets.find((w) => w.address === address)!;\n}\n\nexport async function pickAccountWallet(accountId: string) {\n  const { network } = parseAccountId(accountId);\n\n  const { publicKey, version } = await fetchStoredAccount(accountId);\n\n  const publicKeyBytes = hexToBytes(publicKey);\n\n  return buildWallet(network, publicKeyBytes, version);\n}\n\nexport function resolveWalletVersion(wallet: TonWallet) {\n  return Object.entries(walletClassMap)\n    .find(([, walletClass]) => wallet instanceof walletClass)?.[0];\n}\n","import type { StorageKey } from '../storages/types';\nimport type { ApiAccount, ApiNetwork } from '../types';\n\nimport { buildAccountId, parseAccountId } from '../../util/account';\nimport { storage } from '../storages';\n\nconst MIN_ACCOUNT_NUMBER = 0;\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let loginResolve: AnyFunction;\nconst loginPromise = new Promise<void>((resolve) => {\n  loginResolve = resolve;\n});\n\nexport async function getAccountIds(): Promise<string[]> {\n  return Object.keys(await storage.getItem('accounts') || {});\n}\n\nexport async function getAccountIdWithMnemonic() {\n  const byId = await fetchStoredAccounts();\n\n  return Object.entries(byId).find(([,account]) => !account.ledger)?.[0];\n}\n\nexport async function getNewAccountId(network: ApiNetwork) {\n  const ids = (await getAccountIds()).map((accountId) => parseAccountId(accountId).id);\n  const id = ids.length === 0 ? MIN_ACCOUNT_NUMBER : Math.max(...ids) + 1;\n  return buildAccountId({\n    id,\n    network,\n    blockchain: 'ton',\n  });\n}\n\nexport async function fetchStoredPublicKey(accountId: string): Promise<string> {\n  return (await fetchStoredAccount(accountId)).publicKey;\n}\n\nexport async function fetchStoredAddress(accountId: string): Promise<string> {\n  return (await fetchStoredAccount(accountId)).address;\n}\n\nexport function fetchStoredAccount(accountId: string): Promise<ApiAccount> {\n  return getAccountValue(accountId, 'accounts');\n}\n\nexport function fetchStoredAccounts(): Promise<Record<string, ApiAccount>> {\n  return storage.getItem('accounts');\n}\n\nexport async function updateStoredAccount(accountId: string, partial: Partial<ApiAccount>): Promise<void> {\n  const account = await fetchStoredAccount(accountId);\n  return setAccountValue(accountId, 'accounts', {\n    ...account,\n    ...partial,\n  });\n}\n\nexport async function getAccountValue(accountId: string, key: StorageKey) {\n  return (await storage.getItem(key))?.[accountId];\n}\n\nexport async function removeAccountValue(accountId: string, key: StorageKey) {\n  const data = await storage.getItem(key);\n  if (!data) return;\n\n  const { [accountId]: removedValue, ...restData } = data;\n  await storage.setItem(key, restData);\n}\n\nexport async function setAccountValue(accountId: string, key: StorageKey, value: any) {\n  const data = await storage.getItem(key);\n  await storage.setItem(key, { ...data, [accountId]: value });\n}\n\nexport async function removeNetworkAccountsValue(network: string, key: StorageKey) {\n  const data = await storage.getItem(key);\n  if (!data) return;\n\n  for (const accountId of Object.keys(data)) {\n    if (parseAccountId(accountId).network === network) {\n      delete data[accountId];\n    }\n  }\n\n  await storage.setItem(key, data);\n}\n\nexport async function getCurrentNetwork() {\n  const accountId = await getCurrentAccountId();\n  if (!accountId) return undefined;\n  return parseAccountId(accountId).network;\n}\n\nexport async function getCurrentAccountIdOrFail() {\n  const accountId = await getCurrentAccountId();\n  if (!accountId) {\n    throw new Error('The user is not authorized in the wallet');\n  }\n  return accountId;\n}\n\nexport function getCurrentAccountId(): Promise<string | undefined> {\n  return storage.getItem('currentAccountId');\n}\n\nexport function waitLogin() {\n  return loginPromise;\n}\n","import type { ApiAddressInfo, ApiKnownAddresses } from '../types';\n\nimport { RE_LINK_TEMPLATE, RE_TG_BOT_MENTION } from '../../config';\nimport { cleanText } from '../../lib/confusables';\nimport { logDebugError } from '../../util/logs';\nimport { callBackendGet } from './backend';\n\nlet knownAddresses: ApiKnownAddresses = {};\nlet scamMarkers: RegExp[] = [];\nlet trustedSites: Set<string> = new Set();\nlet trustedCollections: Set<string> = new Set();\n\nexport async function tryUpdateKnownAddresses() {\n  try {\n    const data = await callBackendGet<{\n      knownAddresses: Record<string, ApiKnownAddresses>;\n      scamMarkers: string[];\n      trustedSites: string[];\n      trustedCollections: string[];\n    }>('/known-addresses');\n\n    knownAddresses = data.knownAddresses;\n    scamMarkers = data.scamMarkers.map((x) => new RegExp(x, 'i'));\n    trustedSites = new Set(data.trustedSites);\n    trustedCollections = new Set(data.trustedCollections);\n  } catch (err) {\n    logDebugError('tryUpdateKnownAddresses', err);\n  }\n}\n\nexport function getKnownAddresses() {\n  return knownAddresses;\n}\n\nexport function getScamMarkers() {\n  return scamMarkers;\n}\n\nexport function getKnownAddressInfo(address: string): ApiAddressInfo | undefined {\n  return knownAddresses[address];\n}\n\nexport function checkIsTrustedSite(domain: string) {\n  return trustedSites.has(domain.toLowerCase());\n}\n\nexport function checkIsTrustedCollection(address: string) {\n  return trustedCollections.has(address);\n}\n\nexport function checkHasScamLink(text: string) {\n  const matches = cleanText(text).matchAll(RE_LINK_TEMPLATE);\n\n  for (const match of matches) {\n    const host = match.groups?.host;\n    if (host && !checkIsTrustedSite(host)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexport function checkHasTelegramBotMention(text: string) {\n  return RE_TG_BOT_MENTION.test(cleanText(text));\n}\n","import { BRILLIANT_API_BASE_URL } from '../../config';\nimport { fetchJson, handleFetchErrors } from '../../util/fetch';\n\nconst BAD_REQUEST_CODE = 400;\n\nexport async function callBackendPost<T>(path: string, data: AnyLiteral, options?: {\n  authToken?: string;\n  isAllowBadRequest?: boolean;\n  method?: string;\n}): Promise<T> {\n  const { authToken, isAllowBadRequest, method } = options ?? {};\n\n  const response = await fetch(`${BRILLIANT_API_BASE_URL}${path}`, {\n    method: method ?? 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      ...(authToken && { 'X-Auth-Token': authToken }),\n    },\n    body: JSON.stringify(data),\n  });\n\n  await handleFetchErrors(response, isAllowBadRequest ? [BAD_REQUEST_CODE] : undefined);\n\n  return response.json();\n}\n\nexport function callBackendGet<T = any>(path: string, data?: AnyLiteral, headers?: HeadersInit): Promise<T> {\n  const url = new URL(`${BRILLIANT_API_BASE_URL}${path}`);\n\n  return fetchJson(url, data, { headers });\n}\n","import type { ApiStakingCommonData } from '../types';\n\nexport type AccountCache = { stakedAt?: number };\n\nlet stakingCommonCache: ApiStakingCommonData;\nconst accountCache: Record<string, AccountCache> = {};\n\nexport function getAccountCache(accountId: string, address: string) {\n  return accountCache[`${accountId}:${address}`] ?? {};\n}\n\nexport function updateAccountCache(accountId: string, address: string, partial: Partial<AccountCache>) {\n  const key = `${accountId}:${address}`;\n  accountCache[key] = { ...accountCache[key], ...partial };\n}\n\nexport function setStakingCommonCache(data: ApiStakingCommonData) {\n  stakingCommonCache = data;\n}\n\nexport function getStakingCommonCache() {\n  return stakingCommonCache;\n}\n","import generateUniqueId from '../../util/generateUniqueId';\nimport { ApiUserRejectsError } from '../errors';\n\nconst deferreds = new Map<string, Deferred>();\n\nclass Deferred<T = any> {\n  resolve!: AnyToVoidFunction;\n\n  reject!: AnyToVoidFunction;\n\n  promise = new Promise<T>((resolve, reject) => {\n    this.resolve = resolve;\n    this.reject = reject;\n  });\n}\n\nexport function createDappPromise(promiseId = generateUniqueId()) {\n  const deferred = new Deferred();\n\n  deferreds.set(promiseId, deferred);\n\n  const { promise } = deferred;\n\n  return { promiseId, promise };\n}\n\nexport function resolveDappPromise(promiseId: string, value?: any) {\n  const deferred = deferreds.get(promiseId);\n  if (!deferred) {\n    return;\n  }\n\n  deferred.resolve(value);\n  deferreds.delete(promiseId);\n}\n\nexport function rejectDappPromise(promiseId: string, reason: string = 'Unknown rejection reason') {\n  const deferred = deferreds.get(promiseId);\n  if (!deferred) {\n    return;\n  }\n\n  deferred.reject(new ApiUserRejectsError(reason));\n  deferreds.delete(promiseId);\n}\n\nexport function rejectAllDappPromises(message: string) {\n  Array.from(deferreds.keys()).forEach((id) => {\n    rejectDappPromise(id, message);\n  });\n}\n","import type blockchains from '../blockchains';\nimport type { ApiTransactionExtra } from '../blockchains/ton/types';\nimport type { ApiDbSseConnection } from '../db';\nimport type { StorageKey } from '../storages/types';\nimport type {\n  AccountIdParsed,\n  ApiAccount,\n  ApiLocalTransactionParams,\n  ApiTransaction,\n  ApiTransactionActivity,\n  OnApiUpdate,\n} from '../types';\n\nimport { IS_CAPACITOR, IS_EXTENSION, MAIN_ACCOUNT_ID } from '../../config';\nimport { buildAccountId, parseAccountId } from '../../util/account';\nimport { areDeepEqual } from '../../util/areDeepEqual';\nimport { assert } from '../../util/assert';\nimport { logDebugError } from '../../util/logs';\nimport { toBase64Address } from '../blockchains/ton/util/tonCore';\nimport { getEnvironment } from '../environment';\nimport { storage } from '../storages';\nimport capacitorStorage from '../storages/capacitorStorage';\nimport idbStorage from '../storages/idb';\nimport {\n  checkHasScamLink, checkHasTelegramBotMention, getKnownAddresses, getScamMarkers,\n} from './addresses';\nimport { hexToBytes } from './utils';\n\nlet localCounter = 0;\nconst getNextLocalId = () => `${Date.now()}|${localCounter++}`;\n\nconst actualStateVersion = 16;\nlet migrationEnsurePromise: Promise<void>;\n\nexport function resolveBlockchainKey(accountId: string) {\n  return parseAccountId(accountId).blockchain;\n}\n\nexport function toInternalAccountId(accountId: string) {\n  return buildInternalAccountId(parseAccountId(accountId));\n}\n\nexport function buildInternalAccountId(account: Omit<AccountIdParsed, 'network'>) {\n  const { id, blockchain } = account;\n  return `${id}-${blockchain}`;\n}\n\nexport function buildLocalTransaction(\n  params: ApiLocalTransactionParams,\n  normalizedAddress: string,\n): ApiTransactionActivity {\n  const { amount, ...restParams } = params;\n\n  const transaction: ApiTransaction = updateTransactionMetadata({\n    ...restParams,\n    txId: getNextLocalId(),\n    timestamp: Date.now(),\n    isIncoming: false,\n    amount: -amount,\n    normalizedAddress,\n    extraData: {},\n  });\n\n  return {\n    ...transaction,\n    id: transaction.txId,\n    kind: 'transaction',\n  };\n}\n\nexport function updateTransactionMetadata(transaction: ApiTransactionExtra): ApiTransactionExtra {\n  const {\n    normalizedAddress, comment, type, isIncoming, nft,\n  } = transaction;\n  let { metadata = {} } = transaction;\n\n  const isNftTransfer = type === 'nftTransferred' || type === 'nftReceived' || Boolean(nft);\n  const knownAddresses = getKnownAddresses();\n  const hasScamMarkers = comment ? getScamMarkers().some((sm) => sm.test(comment)) : false;\n  const shouldCheckComment = !hasScamMarkers && comment && isIncoming\n    && (isNftTransfer || comment.toLowerCase().includes('claim'));\n  const hasScamInComment = shouldCheckComment\n    ? (checkHasScamLink(comment) || checkHasTelegramBotMention(comment))\n    : false;\n\n  if (normalizedAddress in knownAddresses) {\n    metadata = { ...metadata, ...knownAddresses[normalizedAddress] };\n  }\n\n  if (hasScamMarkers || hasScamInComment) {\n    metadata.isScam = true;\n  }\n\n  return { ...transaction, metadata };\n}\n\nlet currentOnUpdate: OnApiUpdate | undefined;\n\nexport function connectUpdater(onUpdate: OnApiUpdate) {\n  currentOnUpdate = onUpdate;\n}\n\nexport function disconnectUpdater() {\n  currentOnUpdate = undefined;\n}\n\nexport function isUpdaterAlive(onUpdate: OnApiUpdate) {\n  return currentOnUpdate === onUpdate;\n}\n\nexport function startStorageMigration(onUpdate: OnApiUpdate, ton: typeof blockchains.ton) {\n  migrationEnsurePromise = migrateStorage(onUpdate, ton)\n    .catch((err) => {\n      logDebugError('Migration error', err);\n      currentOnUpdate?.({\n        type: 'showError',\n        error: 'Migration error',\n      });\n    });\n  return migrationEnsurePromise;\n}\n\nexport function waitStorageMigration() {\n  return migrationEnsurePromise;\n}\n\nexport async function migrateStorage(onUpdate: OnApiUpdate, ton: typeof blockchains.ton) {\n  let version = Number(await storage.getItem('stateVersion', true));\n\n  if (version === actualStateVersion) {\n    return;\n  }\n\n  if (IS_CAPACITOR && !version) {\n    if (await storage.getItem('accounts' as StorageKey, true)) {\n      // Fix broken version\n      version = 10;\n    } else {\n      // Prepare for migration to secure storage\n      const idbVersion = await idbStorage.getItem('stateVersion');\n      if (idbVersion) {\n        version = Number(idbVersion);\n      }\n    }\n  }\n\n  // Migration to chrome.storage\n  if (IS_EXTENSION && !version && !(await storage.getItem('addresses' as StorageKey))) {\n    version = await idbStorage.getItem('stateVersion');\n\n    if (version) {\n      // Switching from IndexedDB to `chrome.storage.local`\n      const idbData = await idbStorage.getAll!();\n      await storage.setMany!(idbData);\n    }\n  }\n\n  if (!version) {\n    await storage.setItem('stateVersion', actualStateVersion);\n    return;\n  }\n\n  // First version (v1)\n  if (!version) {\n    // Support multi-accounts\n    const mnemonicEncrypted = await storage.getItem('mnemonicEncrypted' as StorageKey);\n    if (mnemonicEncrypted) {\n      await storage.setItem('mnemonicsEncrypted', JSON.stringify({\n        [MAIN_ACCOUNT_ID]: mnemonicEncrypted,\n      }));\n      await storage.removeItem('mnemonicEncrypted' as StorageKey);\n    }\n\n    // Change accountId format ('0' -> '0-ton', '1-ton-mainnet' -> '1-ton')\n    if (!mnemonicEncrypted) {\n      for (const field of ['mnemonicsEncrypted', 'addresses', 'publicKeys'] as StorageKey[]) {\n        const raw = await storage.getItem(field);\n        if (!raw) continue;\n\n        const oldItem = JSON.parse(raw);\n        const newItem = Object.entries(oldItem).reduce((prevValue, [accountId, data]) => {\n          prevValue[toInternalAccountId(accountId)] = data;\n          return prevValue;\n        }, {} as any);\n\n        await storage.setItem(field, JSON.stringify(newItem));\n      }\n    }\n\n    version = 1;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 1) {\n    const addresses = await storage.getItem('addresses' as StorageKey) as string | undefined;\n    if (addresses && addresses.includes('-undefined')) {\n      for (const field of ['mnemonicsEncrypted', 'addresses', 'publicKeys'] as StorageKey[]) {\n        const newValue = (await storage.getItem(field) as string).replace('-undefined', '-ton');\n        await storage.setItem(field, newValue);\n      }\n    }\n\n    version = 2;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version >= 2 && version <= 4) {\n    for (const key of ['addresses', 'mnemonicsEncrypted', 'publicKeys', 'dapps'] as StorageKey[]) {\n      const rawData = await storage.getItem(key);\n      if (typeof rawData === 'string') {\n        await storage.setItem(key, JSON.parse(rawData));\n      }\n    }\n\n    version = 5;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 5) {\n    const dapps = await storage.getItem('dapps');\n    if (dapps) {\n      for (const accountDapps of Object.values(dapps) as any[]) {\n        for (const dapp of Object.values(accountDapps) as any[]) {\n          dapp.connectedAt = 1;\n        }\n      }\n      await storage.setItem('dapps', dapps);\n    }\n\n    version = 6;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 6) {\n    for (const key of ['addresses', 'mnemonicsEncrypted', 'publicKeys', 'accounts', 'dapps'] as StorageKey[]) {\n      let data = await storage.getItem(key) as AnyLiteral;\n      if (!data) continue;\n\n      data = Object.entries(data).reduce((byAccountId, [internalAccountId, accountData]) => {\n        const parsed = parseAccountId(internalAccountId);\n        const mainnetAccountId = buildAccountId({ ...parsed, network: 'mainnet' });\n        const testnetAccountId = buildAccountId({ ...parsed, network: 'testnet' });\n        return {\n          ...byAccountId,\n          [mainnetAccountId]: accountData,\n          [testnetAccountId]: accountData,\n        };\n      }, {} as AnyLiteral);\n\n      await storage.setItem(key, data);\n    }\n\n    version = 7;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 7) {\n    const addresses = (await storage.getItem('addresses' as StorageKey)) as Record<string, string> | undefined;\n\n    if (addresses) {\n      const publicKeys = (await storage.getItem('publicKeys' as StorageKey)) as Record<string, string>;\n      const accounts = (await storage.getItem('accounts') ?? {}) as Record<string, ApiAccount>;\n\n      for (const [accountId, oldAddress] of Object.entries(addresses)) {\n        const newAddress = toBase64Address(oldAddress, false);\n\n        accounts[accountId] = {\n          ...accounts[accountId],\n          address: newAddress,\n          publicKey: publicKeys[accountId],\n        };\n\n        onUpdate({\n          type: 'updateAccount',\n          accountId,\n          partial: {\n            address: newAddress,\n          },\n        });\n      }\n\n      await storage.setItem('accounts', accounts);\n\n      await storage.removeItem('addresses' as StorageKey);\n      await storage.removeItem('publicKeys' as StorageKey);\n    }\n\n    version = 8;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 8) {\n    if (getEnvironment().isSseSupported) {\n      const dapps = await storage.getItem('dapps');\n\n      if (dapps) {\n        const items: ApiDbSseConnection[] = [];\n\n        for (const accountDapps of Object.values(dapps) as any[]) {\n          for (const dapp of Object.values(accountDapps) as any[]) {\n            if (dapp.sse?.appClientId) {\n              items.push({ clientId: dapp.sse?.appClientId });\n            }\n          }\n        }\n      }\n    }\n\n    version = 9;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 9) {\n    if (IS_CAPACITOR) {\n      const data = await idbStorage.getAll!();\n\n      for (const [key, value] of Object.entries(data)) {\n        await capacitorStorage.setItem(key as StorageKey, value);\n        const newValue = await capacitorStorage.getItem(key as StorageKey, true);\n\n        if (!areDeepEqual(value, newValue)) {\n          throw new Error('Migration error!');\n        }\n      }\n      await idbStorage.clear();\n    }\n\n    version = 10;\n    await storage.setItem('stateVersion', version);\n  }\n\n  let isIosKeychainModeMigrated = false;\n  if (getEnvironment().isIosApp && version >= 10 && version <= 13) {\n    await iosBackupAndMigrateKeychainMode();\n    isIosKeychainModeMigrated = true;\n  }\n\n  if (version === 10 || version === 11 || version === 12) {\n    const accounts: Record<string, {\n      publicKey: string;\n      address: string;\n      version?: string;\n    }> | undefined = await storage.getItem('accounts', true);\n\n    if (accounts) {\n      for (const account of Object.values(accounts)) {\n        const { publicKey, address, version: walletVersion } = account;\n\n        if (walletVersion || !publicKey) continue;\n\n        const publicKeyBytes = hexToBytes(publicKey);\n        const walletInfo = ton.pickWalletByAddress('mainnet', publicKeyBytes, address);\n\n        account.version = walletInfo.version;\n      }\n\n      await storage.setItem('accounts', accounts);\n    }\n\n    version = 13;\n    await storage.setItem('stateVersion', version);\n  }\n\n  if (version === 13) {\n    const accounts: Record<string, {\n      publicKey: string;\n      address: string;\n      version?: string;\n    }> | undefined = await storage.getItem('accounts', true);\n\n    if (accounts) {\n      for (const [accountId, account] of Object.entries(accounts)) {\n        const { network } = parseAccountId(accountId);\n        if (network === 'testnet') {\n          account.address = toBase64Address(account.address, false, network);\n\n          onUpdate({\n            type: 'updateAccount',\n            accountId,\n            partial: {\n              address: account.address,\n            },\n          });\n        }\n      }\n\n      await storage.setItem('accounts', accounts);\n    }\n  }\n\n  if (version === 14 || version === 15) {\n    if (getEnvironment().isIosApp && !isIosKeychainModeMigrated) {\n      await iosBackupAndMigrateKeychainMode();\n    }\n\n    version = 16;\n    await storage.setItem('stateVersion', version);\n  }\n}\n\nasync function iosBackupAndMigrateKeychainMode() {\n  const keys = await capacitorStorage.getKeys();\n\n  if (keys?.length) {\n    const items: [string, any][] = [];\n\n    for (const key of keys) {\n      if (key.startsWith('backup_')) {\n        continue;\n      }\n\n      const backupKey = `backup_${key}` as StorageKey;\n      const value = await capacitorStorage.getItem(key as StorageKey, true);\n\n      assert(value !== undefined, 'Empty value!');\n      await capacitorStorage.setItem(backupKey, value);\n      const backupValue = await capacitorStorage.getItem(backupKey);\n      assert(areDeepEqual(value, backupValue), 'Data has not been saved!');\n\n      items.push([key, value]);\n    }\n\n    for (const [key, value] of items) {\n      let shouldRewrite = false;\n      await capacitorStorage.setItem(key as StorageKey, value).catch(() => {\n        shouldRewrite = true;\n      });\n\n      if (shouldRewrite) {\n        await capacitorStorage.removeItem(key as StorageKey);\n        await capacitorStorage.setItem(key as StorageKey, value);\n      }\n    }\n  }\n}\n","import type { ApiTransactionActivity } from '../types';\n\nimport { createCallbackManager } from '../../util/callbacks';\n\nexport const txCallbacks = createCallbackManager();\n\nexport function whenTxComplete(normalizedAddress: string, amount: bigint) {\n  return new Promise<{ result: boolean; transaction: ApiTransactionActivity }>((resolve) => {\n    txCallbacks.addCallback(\n      function callback(transaction: ApiTransactionActivity) {\n        if (transaction.normalizedAddress === normalizedAddress && transaction.amount === -amount) {\n          txCallbacks.removeCallback(callback);\n          resolve({ result: true, transaction });\n        }\n      },\n    );\n  });\n}\n","import { STAKING_POOLS } from '../../config';\n\nexport function sha256(bytes: Uint8Array) {\n  return crypto.subtle.digest('SHA-256', bytes);\n}\n\nexport function bytesToHex(bytes: Uint8Array) {\n  return Buffer.from(bytes).toString('hex');\n}\n\nexport function hexToBytes(hex: string) {\n  return Uint8Array.from(Buffer.from(hex, 'hex'));\n}\n\nexport function bytesToBase64(bytes: Uint8Array) {\n  return Buffer.from(bytes).toString('base64');\n}\n\nexport function base64ToBytes(base64: string) {\n  return Uint8Array.from(Buffer.from(base64, 'base64'));\n}\n\nexport function base64ToString(base64: string) {\n  return Buffer.from(base64, 'base64').toString('utf-8');\n}\n\nexport function isKnownStakingPool(address: string) {\n  return STAKING_POOLS.some((poolPart) => address.endsWith(poolPart));\n}\n","import type { ApiNft } from './types';\n\nimport Dexie from '../lib/dexie/dexie';\nimport Table = Dexie.Table;\n\nexport type ApiDbNft = ApiNft & {\n  accountId: string;\n  collectionAddress: string;\n};\n\nexport type ApiDbSseConnection = {\n  clientId: string;\n};\n\nconst DB_NANE = 'tables';\n\nexport class ApiDb extends Dexie {\n  nfts!: Table<ApiDbNft>;\n\n  constructor() {\n    super(DB_NANE);\n    this.version(1).stores({\n      nfts: '[accountId+address], accountId, address, collectionAddress',\n    });\n    this.version(2).stores({\n      sseConnections: '&clientId',\n    });\n  }\n}\n\nexport const apiDb = new ApiDb();\n","/*\n * This module is to be used instead of /src/util/environment.ts\n * when `window` is not available (e.g. in a web worker).\n */\nimport type { ApiInitArgs } from './types';\n\nimport {\n  ELECTRON_TONHTTPAPI_MAINNET_API_KEY,\n  ELECTRON_TONHTTPAPI_TESTNET_API_KEY,\n  IS_CAPACITOR,\n  IS_EXTENSION,\n  TONHTTPAPI_MAINNET_API_KEY,\n  TONHTTPAPI_TESTNET_API_KEY,\n} from '../config';\n\nconst ELECTRON_ORIGIN = 'file://';\n\nlet environment: ApiInitArgs & {\n  isDappSupported: boolean;\n  isSseSupported: boolean;\n  apiHeaders?: AnyLiteral;\n  tonhttpapiMainnetKey?: string;\n  tonhttpapiTestnetKey?: string;\n};\n\nexport function setEnvironment(args: ApiInitArgs) {\n  environment = {\n    ...args,\n    isDappSupported: IS_EXTENSION || IS_CAPACITOR || args.isElectron,\n    isSseSupported: args.isElectron || (IS_CAPACITOR && !args.isNativeBottomSheet),\n    // eslint-disable-next-line no-restricted-globals\n    apiHeaders: { 'X-App-Origin': args.isElectron ? ELECTRON_ORIGIN : self?.origin },\n    tonhttpapiMainnetKey: args.isElectron ? ELECTRON_TONHTTPAPI_MAINNET_API_KEY : TONHTTPAPI_MAINNET_API_KEY,\n    tonhttpapiTestnetKey: args.isElectron ? ELECTRON_TONHTTPAPI_TESTNET_API_KEY : TONHTTPAPI_TESTNET_API_KEY,\n  };\n  return environment;\n}\n\nexport function getEnvironment() {\n  return environment;\n}\n","// eslint-disable-next-line max-classes-per-file\nimport type { ApiAnyDisplayError } from './types';\nimport { ApiCommonError, ApiTransactionError } from './types';\n\nexport class ApiBaseError extends Error {\n  constructor(message?: string, public displayError?: ApiAnyDisplayError) {\n    super(message);\n    this.name = this.constructor.name;\n  }\n}\n\nexport class ApiUserRejectsError extends ApiBaseError {\n  constructor(message: string = 'Canceled by the user') {\n    super(message);\n  }\n}\n\nexport class ApiServerError extends ApiBaseError {\n  constructor(message: string, public statusCode?: number) {\n    super(message, ApiCommonError.ServerError);\n  }\n}\n\nexport class ApiUnsupportedVersionError extends ApiBaseError {\n  constructor(message: string) {\n    super(message, ApiCommonError.UnsupportedVersion);\n  }\n}\n\nexport class ApiHardwareBlindSigningNotEnabled extends ApiBaseError {\n  constructor(message: string = 'Blind signing not enabled') {\n    super(message, ApiTransactionError.HardwareBlindSigningNotEnabled);\n  }\n}\n\nexport class AbortOperationError extends ApiBaseError {\n  constructor(message: string = 'Abort operation') {\n    super(message);\n  }\n}\n\nexport function maybeApiErrors(fn: AnyAsyncFunction) {\n  return async (...args: any) => {\n    try {\n      return await fn(...args);\n    } catch (err) {\n      return handleServerError(err);\n    }\n  };\n}\n\nexport function handleServerError(err: any) {\n  if (err instanceof ApiServerError) {\n    return { error: err.displayError! };\n  }\n  throw err;\n}\n","import { logDebugError } from '../util/logs';\n\ninterface Hooks {\n  onFirstLogin: AnyFunction;\n  onFullLogout: AnyFunction;\n  onWindowNeeded: AnyFunction;\n  onDappDisconnected: (accountId: string, origin: string) => any;\n  onDappsChanged: AnyFunction;\n  onSwapCreated: (accountId: string, fromTimestamp: number) => any;\n}\n\nconst hooks: Partial<{\n  [K in keyof Hooks]: Hooks[K][];\n}> = {};\n\nexport function addHooks(partial: Partial<Hooks>) {\n  for (const [name, hook] of Object.entries(partial) as Entries<Hooks>) {\n    hooks[name] = (hooks[name] ?? []).concat([hook]);\n  }\n}\n\nexport async function callHook<T extends keyof Hooks>(name: T, ...args: Parameters<Hooks[T]>) {\n  for (const hook of hooks[name] ?? []) {\n    try {\n      // @ts-ignore\n      await hook(...args);\n    } catch (err) {\n      logDebugError(`callHooks:${name}`, err);\n    }\n  }\n}\n","import type { ApiAccount, ApiTxIdBySlug } from '../types';\n\nimport { IS_EXTENSION } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { fetchStoredAccount, loginResolve } from '../common/accounts';\nimport { waitStorageMigration } from '../common/helpers';\nimport { callHook } from '../hooks';\nimport { storage } from '../storages';\nimport { deactivateAccountDapp, deactivateAllDapps, onActiveDappAccountUpdated } from './dapps';\nimport {\n  sendUpdateTokens,\n  setupBalanceBasedPolling,\n  setupStakingPolling,\n  setupVestingPolling,\n  setupWalletVersionsPolling,\n} from './polling';\n\nlet activeAccountId: string | undefined;\n\nexport async function activateAccount(accountId: string, newestTxIds?: ApiTxIdBySlug) {\n  await waitStorageMigration();\n\n  const prevAccountId = activeAccountId;\n  const isFirstLogin = !prevAccountId;\n\n  activeAccountId = accountId;\n  await storage.setItem('currentAccountId', accountId);\n  loginResolve();\n\n  if (IS_EXTENSION) {\n    if (prevAccountId && parseAccountId(prevAccountId).network !== parseAccountId(accountId).network) {\n      deactivateAllDapps();\n    }\n\n    void callHook('onFirstLogin');\n\n    onActiveDappAccountUpdated(accountId);\n  }\n\n  if (isFirstLogin) {\n    sendUpdateTokens();\n  }\n\n  void setupBalanceBasedPolling(accountId, newestTxIds);\n  void setupStakingPolling(accountId);\n  void setupWalletVersionsPolling(accountId);\n  void setupVestingPolling(accountId);\n}\n\nexport function deactivateAllAccounts() {\n  deactivateCurrentAccount();\n  activeAccountId = undefined;\n\n  if (IS_EXTENSION) {\n    deactivateAllDapps();\n    void callHook('onFullLogout');\n  }\n}\n\nexport function deactivateCurrentAccount() {\n  if (IS_EXTENSION) {\n    deactivateAccountDapp(activeAccountId!);\n  }\n}\n\nexport function isAccountActive(accountId: string) {\n  return activeAccountId === accountId;\n}\n\nexport function fetchAccount(accountId: string): Promise<ApiAccount> {\n  return fetchStoredAccount(accountId);\n}\n\nexport function getActiveAccountId() {\n  return activeAccountId;\n}\n","import type { LedgerWalletInfo } from '../../util/ledger/types';\nimport type { TonWallet } from '../blockchains/ton/util/tonCore';\nimport type {\n  ApiAccount, ApiNetwork, ApiTxIdBySlug, ApiWalletVersion,\n} from '../types';\nimport { ApiCommonError } from '../types';\n\nimport { DEFAULT_WALLET_VERSION } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport isMnemonicPrivateKey from '../../util/isMnemonicPrivateKey';\nimport blockchains from '../blockchains';\nimport { privateKeyHexToKeyPair } from '../blockchains/ton/auth';\nimport { toBase64Address } from '../blockchains/ton/util/tonCore';\nimport {\n  fetchStoredAccount,\n  getAccountIds,\n  getAccountValue,\n  getNewAccountId,\n  removeAccountValue,\n  removeNetworkAccountsValue,\n  setAccountValue,\n} from '../common/accounts';\nimport { bytesToHex, hexToBytes } from '../common/utils';\nimport { apiDb } from '../db';\nimport { getEnvironment } from '../environment';\nimport { handleServerError } from '../errors';\nimport { storage } from '../storages';\nimport { activateAccount, deactivateAllAccounts, deactivateCurrentAccount } from './accounts';\nimport { removeAccountDapps, removeAllDapps, removeNetworkDapps } from './dapps';\n\nexport function generateMnemonic() {\n  return blockchains.ton.generateMnemonic();\n}\n\nexport async function createWallet(\n  network: ApiNetwork,\n  mnemonic: string[],\n  password: string,\n  version?: ApiWalletVersion,\n) {\n  if (!version) version = DEFAULT_WALLET_VERSION;\n\n  const {\n    mnemonicToKeyPair,\n    publicKeyToAddress,\n  } = blockchains.ton;\n\n  if (!await validateMnemonic(mnemonic)) {\n    throw new Error('Invalid mnemonic');\n  }\n\n  const { publicKey } = await mnemonicToKeyPair(mnemonic);\n  const address = publicKeyToAddress(network, publicKey, version);\n\n  const accountId = await getNewAccountId(network);\n  const result = await storeAccount(accountId, mnemonic, password, {\n    address,\n    publicKey: bytesToHex(publicKey),\n    version,\n  });\n\n  if ('error' in result) {\n    return result as { error: string };\n  }\n\n  void activateAccount(accountId);\n\n  return {\n    accountId,\n    address,\n  };\n}\n\nexport function validateMnemonic(mnemonic: string[]) {\n  return blockchains.ton.validateMnemonic(mnemonic);\n}\n\nexport async function importMnemonic(network: ApiNetwork, mnemonic: string[], password: string) {\n  const {\n    mnemonicToKeyPair,\n    pickBestWallet,\n  } = blockchains.ton;\n\n  const isPrivateKey = isMnemonicPrivateKey(mnemonic);\n\n  if (!isMnemonicPrivateKey(mnemonic) && !await validateMnemonic(mnemonic)) {\n    throw new Error('Invalid mnemonic');\n  }\n\n  const { publicKey } = isPrivateKey ? privateKeyHexToKeyPair(mnemonic[0]) : await mnemonicToKeyPair(mnemonic);\n  let wallet: TonWallet;\n  let version: ApiWalletVersion;\n\n  try {\n    ({ wallet, version } = await pickBestWallet(network, publicKey));\n  } catch (err: any) {\n    return handleServerError(err);\n  }\n\n  const address = toBase64Address(wallet.address, false, network);\n\n  const accountId: string = await getNewAccountId(network);\n  const result = await storeAccount(accountId, mnemonic, password, {\n    publicKey: bytesToHex(publicKey),\n    address,\n    version,\n  });\n\n  if ('error' in result) {\n    return result as { error: string };\n  }\n\n  void activateAccount(accountId);\n\n  return {\n    accountId,\n    address,\n  };\n}\n\nexport async function importLedgerWallet(network: ApiNetwork, walletInfo: LedgerWalletInfo) {\n  const accountId: string = await getNewAccountId(network);\n  const {\n    publicKey, address, index, driver, deviceId, deviceName, version,\n  } = walletInfo;\n\n  await storeHardwareAccount(accountId, {\n    address,\n    publicKey,\n    version,\n    ledger: {\n      index,\n      driver,\n      deviceId,\n      deviceName,\n    },\n  });\n  void activateAccount(accountId);\n\n  return { accountId, address, walletInfo };\n}\n\nexport async function importNewWalletVersion(accountId: string, version: ApiWalletVersion) {\n  const { publicKeyToAddress } = blockchains.ton;\n  const { network } = parseAccountId(accountId);\n\n  const account = await fetchStoredAccount(accountId);\n  const mnemonicEncrypted = await getAccountValue(accountId, 'mnemonicsEncrypted');\n  const publicKey = hexToBytes(account.publicKey);\n\n  const newAddress = publicKeyToAddress(network, publicKey, version);\n  const newAccountId = await getNewAccountId(network);\n  const newAccount: ApiAccount = {\n    address: newAddress,\n    publicKey: account.publicKey,\n    version,\n  };\n\n  await Promise.all([\n    setAccountValue(newAccountId, 'mnemonicsEncrypted', mnemonicEncrypted),\n    setAccountValue(newAccountId, 'accounts', newAccount),\n  ]);\n\n  void activateAccount(newAccountId);\n\n  return {\n    accountId: newAccountId,\n    address: newAddress,\n  };\n}\n\nfunction storeHardwareAccount(accountId: string, account?: ApiAccount) {\n  return setAccountValue(accountId, 'accounts', account);\n}\n\nasync function storeAccount(accountId: string, mnemonic: string[], password: string, account: ApiAccount) {\n  const mnemonicEncrypted = await blockchains.ton.encryptMnemonic(mnemonic, password);\n\n  // This is a defensive approach against potential corrupted encryption reported by some users\n  const decryptedMnemonic = await blockchains.ton.decryptMnemonic(mnemonicEncrypted, password)\n    .catch(() => undefined);\n\n  if (!password || !decryptedMnemonic) {\n    return { error: ApiCommonError.DebugError };\n  }\n\n  await Promise.all([\n    setAccountValue(accountId, 'mnemonicsEncrypted', mnemonicEncrypted),\n    setAccountValue(accountId, 'accounts', account),\n  ]);\n\n  return {};\n}\n\nexport async function removeNetworkAccounts(network: ApiNetwork) {\n  deactivateAllAccounts();\n\n  await Promise.all([\n    removeNetworkAccountsValue(network, 'mnemonicsEncrypted'),\n    removeNetworkAccountsValue(network, 'accounts'),\n    getEnvironment().isDappSupported && removeNetworkDapps(network),\n  ]);\n}\n\nexport async function resetAccounts() {\n  deactivateAllAccounts();\n\n  await Promise.all([\n    storage.removeItem('mnemonicsEncrypted'),\n    storage.removeItem('accounts'),\n    storage.removeItem('currentAccountId'),\n    getEnvironment().isDappSupported && removeAllDapps(),\n    apiDb.nfts.clear(),\n  ]);\n}\n\nexport async function removeAccount(accountId: string, nextAccountId: string, newestTxIds?: ApiTxIdBySlug) {\n  await Promise.all([\n    removeAccountValue(accountId, 'mnemonicsEncrypted'),\n    removeAccountValue(accountId, 'accounts'),\n    getEnvironment().isDappSupported && removeAccountDapps(accountId),\n    apiDb.nfts.where({ accountId }).delete(),\n  ]);\n\n  deactivateCurrentAccount();\n  await activateAccount(nextAccountId, newestTxIds);\n}\n\nexport async function changePassword(oldPassword: string, password: string) {\n  for (const accountId of await getAccountIds()) {\n    const mnemonic = await blockchains.ton.fetchMnemonic(accountId, oldPassword);\n    if (!mnemonic) {\n      throw new Error('Incorrect password');\n    }\n\n    const encryptedMnemonic = await blockchains.ton.encryptMnemonic(mnemonic, password);\n    await setAccountValue(accountId, 'mnemonicsEncrypted', encryptedMnemonic);\n  }\n}\n","import type {\n  ApiDapp, ApiDappsState, ApiNetwork, ApiSite, OnApiUpdate,\n} from '../types';\n\nimport { buildAccountId, parseAccountId } from '../../util/account';\nimport {\n  getAccountValue, removeAccountValue, removeNetworkAccountsValue, setAccountValue,\n} from '../common/accounts';\nimport { callBackendGet } from '../common/backend';\nimport { isUpdaterAlive } from '../common/helpers';\nimport { callHook } from '../hooks';\nimport { storage } from '../storages';\n\nconst activeDappByAccountId: Record<string, string> = {};\n\nlet onUpdate: OnApiUpdate;\n\nexport function initDapps(_onUpdate: OnApiUpdate) {\n  onUpdate = _onUpdate;\n}\n\nexport function onActiveDappAccountUpdated(accountId: string) {\n  const activeDappOrigin = getActiveDapp(accountId);\n\n  onUpdate({\n    type: 'updateActiveDapp',\n    accountId,\n    origin: activeDappOrigin,\n  });\n}\n\nexport function activateDapp(accountId: string, origin: string) {\n  const oldAccountId = findActiveDappAccount(origin);\n  activeDappByAccountId[accountId] = origin;\n\n  // The method can be called in headless mode (tonConnect:reconnect)\n  if (!onUpdate || !isUpdaterAlive(onUpdate)) {\n    return;\n  }\n\n  if (oldAccountId) {\n    onUpdate({\n      type: 'updateActiveDapp',\n      accountId: oldAccountId,\n    });\n  }\n\n  onUpdate({\n    type: 'updateActiveDapp',\n    accountId,\n    origin,\n  });\n}\n\nexport function getActiveDapp(accountId: string) {\n  return activeDappByAccountId[accountId];\n}\n\nexport function deactivateDapp(origin: string) {\n  const accountId = findActiveDappAccount(origin);\n  if (!accountId) {\n    return false;\n  }\n\n  deactivateAccountDapp(accountId);\n\n  return true;\n}\n\nexport function findActiveDappAccount(origin: string) {\n  return Object.keys(activeDappByAccountId).find((acc) => origin === activeDappByAccountId[acc]);\n}\n\nexport function deactivateAccountDapp(accountId: string) {\n  const activeOrigin = activeDappByAccountId[accountId];\n  if (!activeOrigin) {\n    return false;\n  }\n\n  delete activeDappByAccountId[accountId];\n\n  if (onUpdate && isUpdaterAlive(onUpdate)) {\n    onUpdate({\n      type: 'updateActiveDapp',\n      accountId,\n    });\n  }\n\n  return true;\n}\n\nexport function deactivateAllDapps() {\n  for (const [accountId, value] of Object.entries(activeDappByAccountId)) {\n    if (!value) {\n      continue;\n    }\n\n    delete activeDappByAccountId[accountId];\n\n    onUpdate({\n      type: 'updateActiveDapp',\n      accountId,\n    });\n  }\n}\n\nexport function isDappActive(accountId: string, origin: string) {\n  return activeDappByAccountId[accountId] === origin;\n}\n\nexport async function updateDapp(accountId: string, origin: string, updater: (dapp: ApiDapp) => ApiDapp) {\n  const dapp = await getDapp(accountId, origin);\n  await addDapp(accountId, updater(dapp!));\n}\n\nexport async function getDapp(accountId: string, origin: string): Promise<ApiDapp | undefined> {\n  return (await getAccountValue(accountId, 'dapps'))[origin];\n}\n\nexport async function addDapp(accountId: string, dapp: ApiDapp) {\n  const dapps = await getDappsByOrigin(accountId);\n  dapps[dapp.origin] = dapp;\n  await setAccountValue(accountId, 'dapps', dapps);\n}\n\nexport async function deleteDapp(accountId: string, origin: string, dontNotifyDapp?: boolean) {\n  const dapps = await getDappsByOrigin(accountId);\n  if (!(origin in dapps)) {\n    return false;\n  }\n\n  if (isDappActive(accountId, origin)) {\n    deactivateAccountDapp(accountId);\n  }\n\n  delete dapps[origin];\n  await setAccountValue(accountId, 'dapps', dapps);\n\n  if (onUpdate && isUpdaterAlive(onUpdate)) {\n    onUpdate({\n      type: 'dappDisconnect',\n      accountId,\n      origin,\n    });\n  }\n\n  if (!dontNotifyDapp) {\n    await callHook('onDappDisconnected', accountId, origin);\n  }\n\n  await callHook('onDappsChanged');\n\n  return true;\n}\n\nexport async function deleteAllDapps(accountId: string) {\n  deactivateAccountDapp(accountId);\n\n  const origins = Object.keys(await getDappsByOrigin(accountId));\n  await setAccountValue(accountId, 'dapps', {});\n\n  origins.forEach((origin) => {\n    onUpdate({\n      type: 'dappDisconnect',\n      accountId,\n      origin,\n    });\n    void callHook('onDappDisconnected', accountId, origin);\n  });\n\n  await callHook('onDappsChanged');\n}\n\nexport async function getDapps(accountId: string): Promise<ApiDapp[]> {\n  return Object.values(await getDappsByOrigin(accountId));\n}\n\nexport async function getDappsByOrigin(accountId: string): Promise<Record<string, ApiDapp>> {\n  return await getAccountValue(accountId, 'dapps') || {};\n}\n\nexport async function findLastConnectedAccount(network: ApiNetwork, origin: string) {\n  const dapps = await getDappsState() || {};\n\n  let connectedAt = 0;\n  let lastConnectedAccountId: string | undefined;\n\n  Object.entries(dapps).forEach(([accountId, byOrigin]) => {\n    if (!(origin in byOrigin)) return;\n\n    if ((byOrigin[origin].connectedAt) > connectedAt) {\n      connectedAt = byOrigin[origin].connectedAt;\n      lastConnectedAccountId = accountId;\n    }\n  });\n\n  if (!lastConnectedAccountId) {\n    return undefined;\n  }\n\n  return buildAccountId({ ...parseAccountId(lastConnectedAccountId), network });\n}\n\nexport function getDappsState(): Promise<ApiDappsState | undefined> {\n  return storage.getItem('dapps');\n}\n\nexport async function removeAccountDapps(accountId: string) {\n  await removeAccountValue(accountId, 'dapps');\n\n  void callHook('onDappsChanged');\n}\n\nexport async function removeAllDapps() {\n  await storage.removeItem('dapps');\n\n  await callHook('onDappsChanged');\n}\n\nexport function removeNetworkDapps(network: ApiNetwork) {\n  return removeNetworkAccountsValue(network, 'dapps');\n}\n\nexport function getSseLastEventId(): Promise<string | undefined> {\n  return storage.getItem('sseLastEventId');\n}\n\nexport function setSseLastEventId(lastEventId: string) {\n  return storage.setItem('sseLastEventId', lastEventId);\n}\n\nexport function loadExploreSites(): Promise<ApiSite[]> {\n  return callBackendGet('/dapp/catalog');\n}\n","import '../../util/bigintPatch';\n\nexport * from './auth';\nexport * from './wallet';\nexport * from './transactions';\nexport * from './nfts';\nexport * from './polling';\nexport * from './accounts';\nexport * from './staking';\nexport * from './tokens';\nexport {\n  initDapps,\n  getActiveDapp,\n  getDapps,\n  getDappsByOrigin,\n  deleteDapp,\n  deleteAllDapps,\n  deactivateDapp,\n  loadExploreSites,\n} from './dapps';\nexport {\n  startSseConnection,\n} from '../tonConnect/sse';\nexport * from './swap';\nexport * from './other';\nexport * from './prices';\nexport * from './preload';\nexport * from './vesting';\n","import type { ApiInitArgs, OnApiUpdate } from '../types';\n\nimport { IS_CAPACITOR } from '../../config';\nimport { initWindowConnector } from '../../util/capacitorStorageProxy/connector';\nimport blockchains from '../blockchains';\nimport { connectUpdater, startStorageMigration } from '../common/helpers';\nimport { setEnvironment } from '../environment';\nimport { addHooks } from '../hooks';\nimport * as tonConnect from '../tonConnect';\nimport * as tonConnectSse from '../tonConnect/sse';\nimport * as methods from '.';\n\naddHooks({\n  onDappDisconnected: tonConnectSse.sendSseDisconnect,\n  onDappsChanged: tonConnectSse.resetupSseConnection,\n});\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport default async function init(onUpdate: OnApiUpdate, args: ApiInitArgs) {\n  connectUpdater(onUpdate);\n  const environment = setEnvironment(args);\n\n  if (IS_CAPACITOR) {\n    initWindowConnector();\n  }\n\n  methods.initPolling(onUpdate, methods.isAccountActive);\n  methods.initTransactions(onUpdate);\n  methods.initStaking();\n  methods.initSwap(onUpdate);\n  methods.initNfts(onUpdate);\n\n  if (environment.isDappSupported) {\n    methods.initDapps(onUpdate);\n    tonConnect.initTonConnect(onUpdate);\n  }\n\n  if (environment.isSseSupported) {\n    tonConnectSse.initSse(onUpdate);\n  }\n\n  await startStorageMigration(onUpdate, blockchains.ton);\n\n  if (environment.isSseSupported) {\n    void tonConnectSse.resetupSseConnection();\n  }\n}\n","import type { ApiDbNft } from '../db';\nimport type { ApiNft, ApiUpdate, OnApiUpdate } from '../types';\n\nimport { TONCOIN_SLUG } from '../../config';\nimport blockchains from '../blockchains';\nimport { fetchStoredAddress } from '../common/accounts';\nimport { resolveBlockchainKey } from '../common/helpers';\nimport { apiDb } from '../db';\nimport { createLocalTransaction } from './transactions';\n\nlet onUpdate: OnApiUpdate;\n\nexport function initNfts(_onUpdate: OnApiUpdate) {\n  onUpdate = _onUpdate;\n}\n\nexport function fetchNfts(accountId: string) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  return blockchain.getAccountNfts(accountId);\n}\n\nexport async function processNftUpdates(accountId: string, updates: ApiUpdate[]) {\n  updates.filter((update) => !(update.type === 'nftReceived' && update.nft.isHidden)).forEach(onUpdate);\n\n  for (const update of updates) {\n    if (update.type === 'nftSent') {\n      const key = [accountId, update.nftAddress];\n      await apiDb.nfts.delete(key);\n    } else if (update.type === 'nftReceived') {\n      const dbNft = convertToDbEntity(accountId, update.nft);\n      await apiDb.nfts.put(dbNft);\n    } else if (update.type === 'nftPutUpForSale') {\n      const key = [accountId, update.nftAddress];\n      await apiDb.nfts.update(key, { isOnSale: true });\n    }\n  }\n}\n\nexport async function updateAccountNfts(accountId: string, nfts: ApiNft[]) {\n  onUpdate({\n    type: 'updateNfts',\n    accountId,\n    nfts,\n  });\n\n  const dbNfts = nfts.map((nft) => convertToDbEntity(accountId, nft));\n\n  await apiDb.nfts.where({ accountId }).delete();\n  await apiDb.nfts.bulkPut(dbNfts);\n}\n\nfunction convertToDbEntity(accountId: string, nft: ApiNft): ApiDbNft {\n  return {\n    ...nft,\n    collectionAddress: nft.collectionAddress ?? '',\n    accountId,\n  };\n}\n\nexport function checkNftTransferDraft(options: {\n  accountId: string;\n  nftAddresses: string[];\n  toAddress: string;\n  comment?: string;\n}) {\n  const blockchain = blockchains[resolveBlockchainKey(options.accountId)!];\n\n  return blockchain.checkNftTransferDraft(options);\n}\n\nexport async function submitNftTransfers(\n  accountId: string,\n  password: string,\n  nftAddresses: string[],\n  toAddress: string,\n  comment?: string,\n  nfts?: ApiNft[],\n  fee = 0n,\n) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n  const fromAddress = await fetchStoredAddress(accountId);\n\n  const result = await blockchain.submitNftTransfers({\n    accountId, password, nftAddresses, toAddress, comment, nfts,\n  });\n\n  if ('error' in result) {\n    return result;\n  }\n\n  for (const [i, message] of result.messages.entries()) {\n    createLocalTransaction(accountId, {\n      amount: message.amount,\n      fromAddress,\n      toAddress: message.toAddress,\n      comment,\n      fee,\n      slug: TONCOIN_SLUG,\n      inMsgHash: result.msgHash,\n      type: 'nftTransferred',\n      nft: nfts?.[i],\n    });\n  }\n\n  return result;\n}\n","import nacl, { randomBytes } from 'tweetnacl';\n\nimport type { AccountCache } from '../common/cache';\nimport type { ApiBlockchainKey, ApiNetwork } from '../types';\n\nimport { parseAccountId } from '../../util/account';\nimport { setIsAppFocused } from '../../util/pauseOrFocus';\nimport blockchains from '../blockchains';\nimport { fetchStoredAccount, fetchStoredAccounts, updateStoredAccount } from '../common/accounts';\nimport { updateAccountCache } from '../common/cache';\nimport { storage } from '../storages';\n\nconst SIGN_MESSAGE = Buffer.from('MyTonWallet_AuthToken_n6i0k4w8pb');\nlet clientId: string | undefined;\n\nexport function checkApiAvailability(options: {\n  accountId: string;\n} | {\n  network: ApiNetwork;\n  blockchainKey: ApiBlockchainKey;\n}) {\n  let network: ApiNetwork;\n  let blockchainKey: ApiBlockchainKey;\n  if ('network' in options) {\n    ({ network, blockchainKey } = options);\n  } else {\n    ({ network, blockchain: blockchainKey } = parseAccountId(options.accountId));\n  }\n\n  const blockchain = blockchains[blockchainKey];\n\n  return blockchain.checkApiAvailability(network);\n}\n\nexport async function getBackendAuthToken(accountId: string, password: string) {\n  const account = await fetchStoredAccount(accountId);\n  let authToken = account.authToken;\n\n  if (!authToken) {\n    const privateKey = await blockchains.ton.fetchPrivateKey(accountId, password);\n    const signature = nacl.sign.detached(SIGN_MESSAGE, privateKey!);\n    authToken = Buffer.from(signature).toString('base64');\n\n    await updateStoredAccount(accountId, { authToken });\n  }\n\n  if (!account.isInitialized) {\n    authToken += `:${account.publicKey}`;\n  }\n\n  return authToken;\n}\n\nexport async function getClientId() {\n  clientId = await storage.getItem('clientId');\n  if (!clientId) {\n    clientId = Buffer.from(randomBytes(10)).toString('hex');\n    await storage.setItem('clientId', clientId);\n  }\n  return clientId;\n}\n\nexport async function fetchAccountConfigForDebugPurposesOnly() {\n  try {\n    const [accounts, mnemonicsEncrypted, stateVersion] = await Promise.all([\n      fetchStoredAccounts(),\n      storage.getItem('mnemonicsEncrypted'),\n      storage.getItem('stateVersion'),\n    ]);\n\n    return JSON.stringify({ accounts, mnemonicsEncrypted, stateVersion });\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n\n    return undefined;\n  }\n}\n\nexport function ping() {\n  return true;\n}\n\nexport function updateAccountMemoryCache(accountId: string, address: string, partial: Partial<AccountCache>) {\n  updateAccountCache(accountId, address, partial);\n}\n\nexport { setIsAppFocused };\n","import type { TokenBalanceParsed } from '../blockchains/ton/tokens';\nimport type {\n  ApiBackendStakingState,\n  ApiBalanceBySlug,\n  ApiBaseCurrency,\n  ApiBaseToken,\n  ApiCountryCode,\n  ApiNftUpdate,\n  ApiStakingCommonData,\n  ApiStakingState,\n  ApiSwapAsset,\n  ApiTokenPrice,\n  ApiTransactionActivity,\n  ApiTxIdBySlug,\n  ApiVestingInfo,\n  ApiWalletInfo,\n  OnApiUpdate,\n} from '../types';\n\nimport { DEFAULT_PRICE_CURRENCY, POPULAR_WALLET_VERSIONS, TONCOIN_SLUG } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { areDeepEqual } from '../../util/areDeepEqual';\nimport { compareActivities } from '../../util/compareActivities';\nimport { buildCollectionByKey, omit } from '../../util/iteratees';\nimport { logDebugError } from '../../util/logs';\nimport { pauseOrFocus } from '../../util/pauseOrFocus';\nimport blockchains from '../blockchains';\nimport { addKnownToken, addKnownTokens, getKnownTokens } from '../blockchains/ton/tokens';\nimport { fetchStoredAccount, updateStoredAccount } from '../common/accounts';\nimport { tryUpdateKnownAddresses } from '../common/addresses';\nimport { callBackendGet } from '../common/backend';\nimport { getStakingCommonCache } from '../common/cache';\nimport { isUpdaterAlive, resolveBlockchainKey } from '../common/helpers';\nimport { txCallbacks } from '../common/txCallbacks';\nimport { hexToBytes } from '../common/utils';\nimport { AbortOperationError } from '../errors';\nimport { processNftUpdates, updateAccountNfts } from './nfts';\nimport { resolveDataPreloadPromise } from './preload';\nimport { getBaseCurrency } from './prices';\nimport { getBackendStakingState, tryUpdateStakingCommonData } from './staking';\nimport { swapGetAssets, swapReplaceTransactionsByRanges } from './swap';\nimport { fetchVestings } from './vesting';\n\ntype IsAccountActiveFn = (accountId: string) => boolean;\n\ntype AccountBalanceCache = {\n  balance?: bigint;\n  tokenBalances?: ApiBalanceBySlug;\n};\n\nconst SEC = 1000;\nconst BALANCE_BASED_INTERVAL = 1.1 * SEC;\nconst BALANCE_BASED_INTERVAL_WHEN_NOT_FOCUSED = 10 * SEC;\nconst STAKING_INTERVAL = 5 * SEC;\nconst STAKING_INTERVAL_WHEN_NOT_FOCUSED = 10 * SEC;\nconst BACKEND_INTERVAL = 30 * SEC;\nconst LONG_BACKEND_INTERVAL = 60 * SEC;\nconst NFT_FULL_INTERVAL = 60 * SEC;\nconst VERSIONS_INTERVAL = 5 * 60 * SEC;\nconst VERSIONS_INTERVAL_WHEN_NOT_FOCUSED = 15 * 60 * SEC;\nconst VESTING_INTERVAL = 10 * SEC;\nconst VESTING_INTERVAL_WHEN_NOT_FOCUSED = 60 * SEC;\nconst INCORRECT_TIME_DIFF = 30 * SEC;\n\nconst FIRST_TRANSACTIONS_LIMIT = 50;\nconst DOUBLE_CHECK_TOKENS_PAUSE = 30 * SEC;\n\nlet onUpdate: OnApiUpdate;\nlet isAccountActive: IsAccountActiveFn;\n\nconst prices: {\n  baseCurrency: ApiBaseCurrency;\n  bySlug: Record<string, ApiTokenPrice>;\n} = {\n  baseCurrency: DEFAULT_PRICE_CURRENCY,\n  bySlug: {},\n};\n\nconst lastBalanceCache: Record<string, AccountBalanceCache> = {};\n\nexport async function initPolling(_onUpdate: OnApiUpdate, _isAccountActive: IsAccountActiveFn) {\n  onUpdate = _onUpdate;\n  isAccountActive = _isAccountActive;\n\n  await tryUpdatePrices();\n\n  Promise.allSettled([\n    tryUpdateKnownAddresses(),\n    tryUpdateTokens(_onUpdate),\n    tryLoadSwapTokens(_onUpdate),\n    tryUpdateStakingCommonData(),\n  ]).then(() => resolveDataPreloadPromise());\n\n  void tryUpdateConfig(_onUpdate);\n\n  void setupBackendPolling();\n  void setupLongBackendPolling();\n}\n\nfunction registerNewTokens(tokenBalances: TokenBalanceParsed[]) {\n  const tokens = getKnownTokens();\n  let areNewTokensFound = false;\n\n  for (const { token } of tokenBalances.filter(Boolean)) {\n    if (token.slug in tokens) continue;\n\n    areNewTokensFound = true;\n    addKnownToken({\n      ...token,\n      quote: prices.bySlug[token.slug] || {\n        slug: token.slug,\n        price: 0.0,\n        priceUsd: 0.0,\n        percentChange24h: 0.0,\n      },\n    });\n  }\n\n  if (areNewTokensFound) {\n    sendUpdateTokens();\n  }\n}\n\nexport async function setupBalanceBasedPolling(accountId: string, newestTxIds: ApiTxIdBySlug = {}) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  delete lastBalanceCache[accountId];\n\n  const { network } = parseAccountId(accountId);\n  const account = await fetchStoredAccount(accountId);\n  const { address } = account;\n  let { isInitialized } = account;\n\n  let nftFromSec = Math.round(Date.now() / 1000);\n  let nftUpdates: ApiNftUpdate[];\n  let lastNftFullUpdate = 0;\n  let doubleCheckTokensTime: number | undefined;\n  let tokenBalances: TokenBalanceParsed[] | undefined;\n\n  const localOnUpdate = onUpdate;\n\n  async function updateBalance(cache: AccountBalanceCache) {\n    const walletInfo = await blockchain.getWalletInfo(network, address);\n    const { balance, lastTxId } = walletInfo ?? {};\n    const isToncoinBalanceChanged = balance !== undefined && balance !== cache?.balance;\n    const balancesToUpdate: ApiBalanceBySlug = {};\n\n    if (isToncoinBalanceChanged) {\n      balancesToUpdate[TONCOIN_SLUG] = balance;\n\n      lastBalanceCache[accountId] = {\n        ...lastBalanceCache[accountId],\n        balance,\n      };\n    }\n\n    return {\n      lastTxId, isToncoinBalanceChanged, balancesToUpdate,\n    };\n  }\n\n  async function updateNfts(isToncoinBalanceChanged: boolean) {\n    if (Date.now() - lastNftFullUpdate < NFT_FULL_INTERVAL) {\n      // Partial update\n      if (isToncoinBalanceChanged) {\n        const nftResult = await blockchain.getNftUpdates(accountId, nftFromSec).catch(logAndRescue);\n\n        throwErrorIfUpdaterNotAlive(localOnUpdate, accountId);\n\n        if (nftResult) {\n          [nftFromSec, nftUpdates] = nftResult;\n          void processNftUpdates(accountId, nftUpdates);\n        }\n      }\n    } else {\n      // Full update\n      const nfts = await blockchain.getAccountNfts(accountId).catch(logAndRescue);\n      lastNftFullUpdate = Date.now();\n\n      throwErrorIfUpdaterNotAlive(localOnUpdate, accountId);\n\n      if (nfts) {\n        nftFromSec = Math.round(Date.now() / 1000);\n        void updateAccountNfts(accountId, nfts);\n      }\n    }\n  }\n\n  async function updateTokenBalances(\n    isToncoinBalanceChanged: boolean,\n    cache: AccountBalanceCache,\n    balancesToUpdate: ApiBalanceBySlug,\n  ) {\n    const changedTokenSlugs: string[] = [];\n\n    if (isToncoinBalanceChanged || (doubleCheckTokensTime && doubleCheckTokensTime < Date.now())) {\n      doubleCheckTokensTime = isToncoinBalanceChanged ? Date.now() + DOUBLE_CHECK_TOKENS_PAUSE : undefined;\n      tokenBalances = await blockchain.getAccountTokenBalances(accountId).catch(logAndRescue);\n\n      throwErrorIfUpdaterNotAlive(localOnUpdate, accountId);\n\n      if (tokenBalances) {\n        registerNewTokens(tokenBalances);\n\n        tokenBalances.forEach(({ slug, balance: tokenBalance }) => {\n          const cachedBalance = cache?.tokenBalances && cache.tokenBalances[slug];\n          if (cachedBalance === tokenBalance) return;\n\n          changedTokenSlugs.push(slug);\n          balancesToUpdate[slug] = tokenBalance;\n        });\n\n        lastBalanceCache[accountId] = {\n          ...lastBalanceCache[accountId],\n          tokenBalances: Object.fromEntries(tokenBalances.map(\n            ({ slug, balance: tokenBalance }) => [slug, tokenBalance],\n          )),\n        };\n      }\n\n      if (Object.keys(balancesToUpdate).length > 0) {\n        onUpdate({\n          type: 'updateBalances',\n          accountId,\n          balancesToUpdate,\n        });\n      }\n    }\n\n    onUpdate({ type: 'updatingStatus', kind: 'balance', isUpdating: false });\n\n    return changedTokenSlugs;\n  }\n\n  async function updateActivities(isToncoinBalanceChanged: boolean, changedTokenSlugs: string[], lastTxId?: string) {\n    if (isToncoinBalanceChanged || changedTokenSlugs.length) {\n      if (lastTxId) {\n        await blockchain.waitUntilTransactionAppears(network, address, lastTxId);\n      }\n\n      const newTxIds = await processNewActivities(accountId, newestTxIds, changedTokenSlugs, tokenBalances);\n      newestTxIds = { ...newestTxIds, ...newTxIds };\n    }\n\n    onUpdate({ type: 'updatingStatus', kind: 'activities', isUpdating: false });\n  }\n\n  while (isAlive(localOnUpdate, accountId)) {\n    try {\n      onUpdate({ type: 'updatingStatus', kind: 'activities', isUpdating: true });\n      onUpdate({ type: 'updatingStatus', kind: 'balance', isUpdating: true });\n\n      const cache = lastBalanceCache[accountId];\n\n      const {\n        lastTxId,\n        isToncoinBalanceChanged,\n        balancesToUpdate,\n      } = await updateBalance(cache);\n\n      throwErrorIfUpdaterNotAlive(localOnUpdate, accountId);\n\n      const changedTokenSlugs = await updateTokenBalances(isToncoinBalanceChanged, cache, balancesToUpdate);\n\n      await Promise.all([\n        updateActivities(isToncoinBalanceChanged, changedTokenSlugs, lastTxId),\n        updateNfts(isToncoinBalanceChanged),\n      ]);\n\n      if (isToncoinBalanceChanged && !isInitialized && await blockchain.isAddressInitialized(network, address)) {\n        isInitialized = true;\n        await updateStoredAccount(accountId, { isInitialized });\n      }\n    } catch (err) {\n      if (err instanceof AbortOperationError) {\n        return;\n      }\n      logDebugError('setupBalanceBasedPolling', err);\n    }\n\n    await pauseOrFocus(BALANCE_BASED_INTERVAL, BALANCE_BASED_INTERVAL_WHEN_NOT_FOCUSED);\n  }\n}\n\nfunction throwErrorIfUpdaterNotAlive(localOnUpdate: OnApiUpdate, accountId: string) {\n  if (!isAlive(localOnUpdate, accountId)) {\n    throw new AbortOperationError();\n  }\n}\n\nexport async function setupStakingPolling(accountId: string) {\n  const { blockchain: blockchainKey, network } = parseAccountId(accountId);\n  const blockchain = blockchains[blockchainKey];\n\n  if (network !== 'mainnet') {\n    return;\n  }\n\n  const localOnUpdate = onUpdate;\n  let lastState: {\n    stakingCommonData: ApiStakingCommonData;\n    backendStakingState: ApiBackendStakingState;\n    stakingState: ApiStakingState;\n  } | undefined;\n\n  while (isAlive(localOnUpdate, accountId)) {\n    try {\n      const stakingCommonData = getStakingCommonCache();\n      const backendStakingState = await getBackendStakingState(accountId);\n      const stakingState = await blockchain.getStakingState(accountId, backendStakingState);\n\n      if (!isAlive(localOnUpdate, accountId)) return;\n\n      const state = {\n        stakingCommonData,\n        backendStakingState,\n        stakingState,\n      };\n\n      if (!areDeepEqual(state, lastState)) {\n        lastState = state;\n        onUpdate({\n          type: 'updateStaking',\n          accountId,\n          ...state,\n        });\n      }\n    } catch (err) {\n      logDebugError('setupStakingPolling', err);\n    }\n\n    await pauseOrFocus(STAKING_INTERVAL, STAKING_INTERVAL_WHEN_NOT_FOCUSED);\n  }\n}\n\nasync function processNewActivities(\n  accountId: string,\n  newestTxIds: ApiTxIdBySlug,\n  tokenSlugs: string[],\n  tokenBalances?: TokenBalanceParsed[],\n): Promise<ApiTxIdBySlug> {\n  const { network, blockchain } = parseAccountId(accountId);\n  const activeBlockchain = blockchains[blockchain];\n\n  const chunks: ApiTransactionActivity[][] = [];\n  const result: [string, string | undefined][] = [];\n\n  // Process TON transactions first\n  {\n    const slug = TONCOIN_SLUG;\n    let newestTxId = newestTxIds[slug];\n\n    const transactions = await activeBlockchain.getTokenTransactionSlice(\n      accountId, slug, undefined, newestTxId, FIRST_TRANSACTIONS_LIMIT,\n    );\n\n    if (transactions.length) {\n      newestTxId = transactions[0]!.txId;\n      chunks.push(transactions);\n    }\n\n    result.push([slug, newestTxId]);\n\n    // Find affected token wallets\n    const tokenBalanceByAddress = buildCollectionByKey(tokenBalances ?? [], 'jettonWallet');\n    transactions.forEach(({ isIncoming, toAddress, fromAddress }) => {\n      const address = isIncoming ? fromAddress : toAddress;\n      const tokenBalance: TokenBalanceParsed | undefined = tokenBalanceByAddress[address];\n\n      if (tokenBalance && !tokenSlugs.includes(tokenBalance.slug)) {\n        tokenSlugs = tokenSlugs.concat([tokenBalance.slug]);\n      }\n    });\n  }\n\n  // Process token transactions\n  await Promise.all(tokenSlugs.map(async (slug) => {\n    let newestTxId = newestTxIds[slug];\n\n    const transactions = await activeBlockchain.getTokenTransactionSlice(\n      accountId, slug, undefined, newestTxId, FIRST_TRANSACTIONS_LIMIT,\n    );\n\n    if (transactions.length) {\n      newestTxId = transactions[0]!.txId;\n      chunks.push(transactions);\n    }\n\n    result.push([slug, newestTxId]);\n  }));\n\n  const allTransactions = chunks.flat().sort(compareActivities);\n\n  const isFirstRun = !Object.keys(newestTxIds).length;\n  const activities = await swapReplaceTransactionsByRanges(accountId, allTransactions, chunks, isFirstRun);\n\n  allTransactions.slice().reverse().forEach((transaction) => {\n    txCallbacks.runCallbacks(transaction);\n  });\n\n  await activeBlockchain.fixTokenActivitiesAddressForm(network, activities);\n\n  onUpdate({\n    type: 'newActivities',\n    activities,\n    accountId,\n  });\n\n  return Object.fromEntries(result);\n}\n\nexport async function setupBackendPolling() {\n  const localOnUpdate = onUpdate;\n\n  while (isUpdaterAlive(localOnUpdate)) {\n    await pauseOrFocus(BACKEND_INTERVAL);\n    if (!isUpdaterAlive(localOnUpdate)) return;\n\n    try {\n      await tryUpdatePrices(localOnUpdate);\n      await tryUpdateTokens(localOnUpdate);\n    } catch (err) {\n      logDebugError('setupBackendPolling', err);\n    }\n  }\n}\n\nexport async function setupLongBackendPolling() {\n  const localOnUpdate = onUpdate;\n\n  while (isUpdaterAlive(localOnUpdate)) {\n    await pauseOrFocus(LONG_BACKEND_INTERVAL);\n\n    await Promise.all([\n      tryUpdateKnownAddresses(),\n      tryUpdateStakingCommonData(),\n      tryUpdateConfig(localOnUpdate),\n    ]);\n  }\n}\n\nexport async function tryUpdatePrices(localOnUpdate?: OnApiUpdate) {\n  if (!localOnUpdate) {\n    localOnUpdate = onUpdate;\n  }\n\n  try {\n    const baseCurrency = await getBaseCurrency();\n    const pricesData = await callBackendGet<Record<string, ApiTokenPrice>>('/prices/current', {\n      base: baseCurrency,\n    });\n\n    if (!isUpdaterAlive(localOnUpdate)) return;\n\n    prices.bySlug = buildCollectionByKey(Object.values(pricesData), 'slug');\n    prices.baseCurrency = baseCurrency;\n  } catch (err) {\n    logDebugError('tryUpdatePrices', err);\n  }\n}\n\nexport async function tryUpdateTokens(localOnUpdate?: OnApiUpdate) {\n  if (!localOnUpdate) {\n    localOnUpdate = onUpdate;\n  }\n\n  try {\n    const tokens = await callBackendGet<ApiBaseToken[]>('/known-tokens');\n\n    if (!isUpdaterAlive(localOnUpdate)) return;\n\n    addKnownTokens(tokens);\n\n    sendUpdateTokens();\n  } catch (err) {\n    logDebugError('tryUpdateTokens', err);\n  }\n}\n\nexport async function tryLoadSwapTokens(localOnUpdate?: OnApiUpdate) {\n  if (!localOnUpdate) {\n    localOnUpdate = onUpdate;\n  }\n\n  try {\n    const assets = await swapGetAssets();\n\n    if (!isUpdaterAlive(localOnUpdate)) return;\n\n    const tokens = assets.reduce((acc: Record<string, ApiSwapAsset>, asset) => {\n      acc[asset.slug] = {\n        ...asset,\n        contract: asset.contract ?? asset.slug,\n        price: prices.bySlug[asset.slug]?.price ?? 0,\n      };\n      return acc;\n    }, {});\n\n    onUpdate({\n      type: 'updateSwapTokens',\n      tokens,\n    });\n  } catch (err) {\n    logDebugError('tryLoadSwapTokens', err);\n  }\n}\n\nexport async function tryUpdateConfig(localOnUpdate: OnApiUpdate) {\n  try {\n    const {\n      isLimited,\n      isCopyStorageEnabled = false,\n      supportAccountsCount = 1,\n      now: serverUtc,\n      country: countryCode,\n    } = await callBackendGet<{\n      isLimited: boolean;\n      isCopyStorageEnabled?: boolean;\n      supportAccountsCount?: number;\n      now: number;\n      country: ApiCountryCode;\n    }>('/utils/get-config');\n\n    if (!isUpdaterAlive(localOnUpdate)) return;\n\n    onUpdate({\n      type: 'updateConfig',\n      isLimited,\n      isCopyStorageEnabled,\n      supportAccountsCount,\n      countryCode,\n    });\n\n    const localUtc = (new Date()).getTime();\n    if (Math.abs(serverUtc - localUtc) > INCORRECT_TIME_DIFF) {\n      onUpdate({\n        type: 'incorrectTime',\n      });\n    }\n  } catch (err) {\n    logDebugError('tryUpdateRegion', err);\n  }\n}\n\nexport function sendUpdateTokens() {\n  const tokens = getKnownTokens();\n  Object.values(tokens).forEach((token) => {\n    if (token.slug in prices.bySlug) {\n      token.quote = prices.bySlug[token.slug];\n    }\n  });\n\n  onUpdate({\n    type: 'updateTokens',\n    tokens,\n    baseCurrency: prices.baseCurrency,\n  });\n}\n\nfunction isAlive(localOnUpdate: OnApiUpdate, accountId: string) {\n  return isUpdaterAlive(localOnUpdate) && isAccountActive(accountId);\n}\n\nfunction logAndRescue(err: Error) {\n  logDebugError('Polling error', err);\n\n  return undefined;\n}\n\nexport async function setupWalletVersionsPolling(accountId: string) {\n  const { ton } = blockchains;\n\n  const localOnUpdate = onUpdate;\n\n  const {\n    address, publicKey, version, isInitialized,\n  } = await fetchStoredAccount(accountId);\n  const publicKeyBytes = hexToBytes(publicKey);\n  const { network } = parseAccountId(accountId);\n\n  const versions = POPULAR_WALLET_VERSIONS.filter((value) => value !== version);\n  let lastResult: ApiWalletInfo[] | undefined;\n\n  let shouldCheckV4 = false;\n  let v4HasTokens: boolean | undefined;\n\n  if (version === 'W5' && !isInitialized) {\n    const { lastTxId } = await ton.getWalletInfo(network, address);\n    shouldCheckV4 = !lastTxId;\n  }\n\n  while (isAlive(localOnUpdate, accountId)) {\n    try {\n      const allWalletInfos = (await ton.getWalletVersionInfos(network, publicKeyBytes, versions))\n        .map((versionInfo) => omit(versionInfo, ['wallet']));\n      const filteredInfos: ApiWalletInfo[] = [];\n\n      for (const walletInfo of allWalletInfos) {\n        if (!!walletInfo.lastTxId || walletInfo.version === 'W5') {\n          filteredInfos.push(walletInfo);\n        } else if (walletInfo.version === 'v4R2' && !walletInfo.lastTxId && shouldCheckV4) {\n          if (v4HasTokens === undefined) {\n            v4HasTokens = !!(await ton.getTokenBalances(network, walletInfo.address)).length;\n          }\n\n          if (v4HasTokens) {\n            filteredInfos.push(walletInfo);\n          }\n        }\n      }\n\n      if (!isAlive(localOnUpdate, accountId)) return;\n\n      if (!areDeepEqual(allWalletInfos, lastResult)) {\n        lastResult = allWalletInfos;\n        onUpdate({\n          type: 'updateWalletVersions',\n          accountId,\n          currentVersion: version,\n          versions: filteredInfos,\n        });\n      }\n    } catch (err) {\n      logDebugError('setupWalletVersionsPolling', err);\n    }\n\n    await pauseOrFocus(VERSIONS_INTERVAL, VERSIONS_INTERVAL_WHEN_NOT_FOCUSED);\n  }\n}\n\nexport async function setupVestingPolling(accountId: string) {\n  const localOnUpdate = onUpdate;\n  let lastVestingInfo: ApiVestingInfo[] | undefined;\n\n  while (isAlive(localOnUpdate, accountId)) {\n    try {\n      const vestingInfo = await fetchVestings(accountId);\n\n      if (!isAlive(localOnUpdate, accountId)) return;\n      if (!areDeepEqual(lastVestingInfo, vestingInfo)) {\n        lastVestingInfo = vestingInfo;\n        onUpdate({\n          type: 'updateVesting',\n          accountId,\n          vestingInfo,\n        });\n      }\n    } catch (err) {\n      logDebugError('setupVestingPolling', err);\n    }\n\n    await pauseOrFocus(VESTING_INTERVAL, VESTING_INTERVAL_WHEN_NOT_FOCUSED);\n  }\n}\n","let resolvePromise: Function;\nconst preloadPromise = new Promise((resolve) => {\n  resolvePromise = resolve;\n});\n\nexport function resolveDataPreloadPromise() {\n  resolvePromise();\n}\n\nexport async function waitDataPreload() {\n  await preloadPromise;\n}\n","import type { ApiBaseCurrency, ApiHistoryList, ApiPriceHistoryPeriod } from '../types';\n\nimport { DEFAULT_PRICE_CURRENCY, TON_SYMBOL } from '../../config';\nimport { callBackendGet } from '../common/backend';\nimport { storage } from '../storages';\nimport { waitDataPreload } from './preload';\nimport { resolveTokenBySlug } from './tokens';\n\nexport async function getBaseCurrency() {\n  return (await storage.getItem('baseCurrency')) ?? DEFAULT_PRICE_CURRENCY;\n}\n\nexport function setBaseCurrency(currency: ApiBaseCurrency) {\n  return storage.setItem('baseCurrency', currency);\n}\n\nexport async function fetchPriceHistory(\n  slug: string,\n  period: ApiPriceHistoryPeriod,\n  baseCurrency: ApiBaseCurrency = DEFAULT_PRICE_CURRENCY,\n): Promise<ApiHistoryList | undefined> {\n  await waitDataPreload();\n  const token = resolveTokenBySlug(slug);\n\n  if (!token) {\n    return [];\n  }\n\n  return callBackendGet(`/prices/chart/${token.minterAddress ?? TON_SYMBOL}`, {\n    base: baseCurrency,\n    period,\n  });\n}\n","import type {\n  ApiBackendStakingState,\n  ApiStakingCommonData,\n  ApiStakingHistory,\n  ApiStakingType,\n} from '../types';\n\nimport { APP_ENV, APP_VERSION, TONCOIN_SLUG } from '../../config';\nimport { fromDecimal } from '../../util/decimals';\nimport { logDebugError } from '../../util/logs';\nimport blockchains from '../blockchains';\nimport { STAKE_COMMENT, UNSTAKE_COMMENT } from '../blockchains/ton/constants';\nimport { fetchStoredAccount, fetchStoredAddress } from '../common/accounts';\nimport { callBackendGet } from '../common/backend';\nimport { setStakingCommonCache } from '../common/cache';\nimport { resolveBlockchainKey } from '../common/helpers';\nimport { isKnownStakingPool } from '../common/utils';\nimport { getEnvironment } from '../environment';\nimport { getClientId } from './other';\nimport { createLocalTransaction } from './transactions';\n\nconst CACHE_TTL = 5000; // 5 s.\nlet backendStakingStateByAddress: Record<string, [number, ApiBackendStakingState]> = {};\n\n// let onUpdate: OnApiUpdate;\n\nexport function initStaking() {\n  // onUpdate = _onUpdate;\n}\n\nexport async function checkStakeDraft(accountId: string, amount: bigint) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  const backendState = await getBackendStakingState(accountId);\n  return blockchain.checkStakeDraft(accountId, amount, backendState!);\n}\n\nexport async function checkUnstakeDraft(accountId: string, amount: bigint) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  const backendState = await getBackendStakingState(accountId);\n  return blockchain.checkUnstakeDraft(accountId, amount, backendState!);\n}\n\nexport async function submitStake(\n  accountId: string, password: string, amount: bigint, type: ApiStakingType, fee?: bigint,\n) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n  const fromAddress = await fetchStoredAddress(accountId);\n\n  const backendState = await getBackendStakingState(accountId);\n  const result = await blockchain.submitStake(\n    accountId, password, amount, type, backendState!,\n  );\n  if ('error' in result) {\n    return false;\n  }\n\n  onStakingChangeExpected();\n\n  const localTransaction = createLocalTransaction(accountId, {\n    amount: result.amount,\n    fromAddress,\n    toAddress: result.toAddress,\n    comment: STAKE_COMMENT,\n    fee: fee || 0n,\n    type: 'stake',\n    slug: TONCOIN_SLUG,\n    inMsgHash: result.msgHash,\n  });\n\n  return {\n    ...result,\n    txId: localTransaction.txId,\n  };\n}\n\nexport async function submitUnstake(\n  accountId: string,\n  password: string,\n  type: ApiStakingType,\n  amount: bigint,\n  fee?: bigint,\n) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n  const fromAddress = await fetchStoredAddress(accountId);\n\n  const backendState = await getBackendStakingState(accountId);\n  const result = await blockchain.submitUnstake(accountId, password, type, amount, backendState!);\n  if ('error' in result) {\n    return false;\n  }\n\n  onStakingChangeExpected();\n\n  const localTransaction = createLocalTransaction(accountId, {\n    amount: result.amount,\n    fromAddress,\n    toAddress: result.toAddress,\n    comment: UNSTAKE_COMMENT,\n    fee: fee || 0n,\n    type: 'unstakeRequest',\n    slug: TONCOIN_SLUG,\n    inMsgHash: result.msgHash,\n  });\n\n  return {\n    ...result,\n    txId: localTransaction.txId,\n  };\n}\n\nexport async function getBackendStakingState(accountId: string): Promise<ApiBackendStakingState> {\n  const { address } = await fetchStoredAccount(accountId);\n  const state = await fetchBackendStakingState(address);\n  return {\n    ...state,\n    nominatorsPool: {\n      ...state.nominatorsPool,\n      start: state.nominatorsPool.start * 1000,\n      end: state.nominatorsPool.end * 1000,\n    },\n  };\n}\n\nexport async function fetchBackendStakingState(address: string): Promise<ApiBackendStakingState> {\n  const cacheItem = backendStakingStateByAddress[address];\n  if (cacheItem && cacheItem[0] > Date.now()) {\n    return cacheItem[1];\n  }\n\n  const headers: AnyLiteral = {\n    ...getEnvironment().apiHeaders,\n    'X-App-Version': APP_VERSION,\n    'X-App-ClientID': await getClientId(),\n    'X-App-Env': APP_ENV,\n  };\n\n  const stakingState = await callBackendGet(`/staking/state/${address}`, undefined, headers);\n  stakingState.balance = fromDecimal(stakingState.balance);\n  stakingState.totalProfit = fromDecimal(stakingState.totalProfit);\n\n  if (!isKnownStakingPool(stakingState.nominatorsPool.address)) {\n    throw Error('Unexpected pool address, likely a malicious activity');\n  }\n\n  backendStakingStateByAddress[address] = [Date.now() + CACHE_TTL, stakingState];\n\n  return stakingState;\n}\n\nexport async function getStakingHistory(\n  accountId: string, limit?: number, offset?: number,\n): Promise<ApiStakingHistory> {\n  const address = await fetchStoredAddress(accountId);\n  return callBackendGet(`/staking/profits/${address}`, { limit, offset });\n}\n\nexport function onStakingChangeExpected() {\n  backendStakingStateByAddress = {};\n}\n\nexport async function tryUpdateStakingCommonData() {\n  try {\n    const data = await callBackendGet('/staking/common');\n    data.round.start *= 1000;\n    data.round.end *= 1000;\n    data.round.unlock *= 1000;\n    data.prevRound.start *= 1000;\n    data.prevRound.end *= 1000;\n    data.prevRound.unlock *= 1000;\n    data.liquid.available = fromDecimal(data.liquid.available);\n\n    setStakingCommonCache(data as ApiStakingCommonData);\n  } catch (err) {\n    logDebugError('tryUpdateLiquidStakingState', err);\n  }\n}\n\nexport async function getStakingState(accountId: string) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n  const backendState = await getBackendStakingState(accountId);\n  const state = await blockchain.getStakingState(accountId, backendState);\n\n  return { backendState, state };\n}\n","import type { TonTransferParams } from '../blockchains/ton/types';\nimport type {\n  ApiActivity,\n  ApiNetwork,\n  ApiSwapActivity,\n  ApiSwapAsset,\n  ApiSwapBuildRequest,\n  ApiSwapBuildResponse,\n  ApiSwapCexCreateTransactionRequest,\n  ApiSwapCexCreateTransactionResponse,\n  ApiSwapCexEstimateRequest,\n  ApiSwapCexEstimateResponse,\n  ApiSwapEstimateRequest,\n  ApiSwapEstimateResponse,\n  ApiSwapHistoryItem,\n  ApiSwapPairAsset,\n  ApiSwapTonAsset,\n  ApiSwapTransfer,\n  ApiTransaction,\n  ApiTransactionActivity,\n  OnApiUpdate,\n} from '../types';\n\nimport { TON_SYMBOL, TONCOIN_SLUG } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { assert } from '../../util/assert';\nimport { fromDecimal } from '../../util/decimals';\nimport { logDebugError } from '../../util/logs';\nimport { pause } from '../../util/schedulers';\nimport { buildSwapId } from '../../util/swap/buildSwapId';\nimport blockchains from '../blockchains';\nimport { buildTokenSlug, parseTxId } from '../blockchains/ton/util';\nimport { fetchStoredAddress } from '../common/accounts';\nimport { callBackendGet, callBackendPost } from '../common/backend';\nimport { callHook } from '../hooks';\nimport { getBackendAuthToken } from './other';\nimport { resolveTokenBySlug } from './tokens';\n\nexport type SwapHistoryRange = {\n  asset: string;\n  fromLt: number;\n  toLt: number;\n  fromTime: number;\n  toTime: number;\n};\n\ntype LtRange = [number, number];\n\nconst SWAP_MAX_LT = 50;\nconst SWAP_WAITING_TIME = 5 * 60 * 1_000; // 5 min\nconst SWAP_WAITING_PAUSE = 1_000; // 1 sec\nconst MAX_OLD_SWAP_ID = 41276;\n\nconst ton = blockchains.ton;\n\nlet onUpdate: OnApiUpdate;\n\nexport function initSwap(_onUpdate: OnApiUpdate) {\n  onUpdate = _onUpdate;\n}\n\nexport async function swapBuildTransfer(\n  accountId: string,\n  password: string,\n  request: ApiSwapBuildRequest,\n) {\n  const { network } = parseAccountId(accountId);\n  const authToken = await getBackendAuthToken(accountId, password);\n\n  const address = await fetchStoredAddress(accountId);\n  const { id, transfers } = await swapBuild(authToken, request);\n\n  const transferList = transfers.map((transfer) => ({\n    ...transfer,\n    amount: BigInt(transfer.amount),\n    isBase64Payload: true,\n  }));\n\n  await ton.validateDexSwapTransfers(network, address, request, transferList);\n\n  const result = await ton.checkMultiTransactionDraft(accountId, transferList, request.shouldTryDiesel);\n\n  if ('error' in result) {\n    return result;\n  }\n\n  return { ...result, id, transfers };\n}\n\nexport async function swapSubmit(\n  accountId: string,\n  password: string,\n  transfers: ApiSwapTransfer[],\n  historyItem: ApiSwapHistoryItem,\n  withDiesel?: boolean,\n) {\n  const address = await fetchStoredAddress(accountId);\n  const transferList = transfers.map((transfer) => ({\n    ...transfer,\n    amount: BigInt(transfer.amount),\n    isBase64Payload: true,\n  }));\n\n  const result = await ton.submitMultiTransfer(\n    accountId, password, transferList, undefined, withDiesel,\n  );\n\n  if ('error' in result) {\n    return result;\n  }\n\n  const from = getSwapItemSlug(historyItem, historyItem.from);\n  const to = getSwapItemSlug(historyItem, historyItem.to);\n\n  const swap: ApiSwapActivity = {\n    ...historyItem,\n    id: buildSwapId(historyItem.id),\n    from,\n    to,\n    kind: 'swap',\n  };\n\n  const authToken = await getBackendAuthToken(accountId, password);\n\n  await callBackendPost(`/swap/history/${address}/${historyItem.id}/update`, {\n    msgHash: result.msgHash,\n  }, {\n    method: 'PATCH',\n    authToken,\n  });\n\n  onUpdate({\n    type: 'newActivities',\n    accountId,\n    activities: [swap],\n  });\n\n  void callHook('onSwapCreated', accountId, swap.timestamp - 1);\n\n  return result;\n}\n\nfunction getSwapItemSlug(item: ApiSwapHistoryItem, asset: string) {\n  if (asset === TON_SYMBOL) return TONCOIN_SLUG;\n  if (item.cex) return asset;\n  return buildTokenSlug(asset);\n}\n\nexport async function swapReplaceTransactions(\n  accountId: string,\n  transactions: ApiTransactionActivity[],\n  network: ApiNetwork,\n  slug?: string,\n): Promise<ApiActivity[]> {\n  if (!transactions.length || network === 'testnet') {\n    return transactions;\n  }\n\n  try {\n    const address = await fetchStoredAddress(accountId);\n    const asset = slug ? resolveTokenBySlug(slug).minterAddress ?? TON_SYMBOL : undefined;\n    const {\n      fromLt, toLt, fromTime, toTime,\n    } = buildSwapHistoryRange(transactions);\n\n    const swaps = await swapGetHistory(address, {\n      fromLt,\n      toLt,\n      fromTimestamp: fromTime,\n      toTimestamp: toTime,\n      asset,\n    });\n\n    if (!swaps.length) {\n      return transactions;\n    }\n\n    return replaceTransactions(transactions, swaps);\n  } catch (err) {\n    logDebugError('swapReplaceTransactions', err);\n    return transactions;\n  }\n}\n\nexport async function swapReplaceTransactionsByRanges(\n  accountId: string,\n  transactions: ApiTransactionActivity[],\n  chunks: ApiTransactionActivity[][],\n  isFirstLoad?: boolean,\n): Promise<ApiActivity[]> {\n  transactions = transactions.slice();\n\n  const { network } = parseAccountId(accountId);\n\n  if (!chunks.length || network === 'testnet') {\n    return transactions;\n  }\n\n  try {\n    const address = await fetchStoredAddress(accountId);\n\n    if (!isFirstLoad) {\n      await waitPendingDexSwap(address);\n    }\n\n    const ranges = chunks.map((txs) => buildSwapHistoryRange(txs));\n    const swaps = await swapGetHistoryByRanges(address, ranges);\n\n    if (!swaps.length) {\n      return transactions;\n    }\n\n    return replaceTransactions(transactions, swaps);\n  } catch (err) {\n    logDebugError('swapReplaceTransactionsByRanges', err);\n    return transactions;\n  }\n}\n\nfunction replaceTransactions(transactions: ApiTransactionActivity[], swaps: ApiSwapHistoryItem[]) {\n  const result: ApiActivity[] = [];\n  const hiddenTxIds = new Set<string>();\n\n  const skipLtRanges: LtRange[] = []; // TODO Remove it after applying correcting script in backend\n\n  for (const swap of swaps) {\n    swap.txIds?.forEach((txId) => {\n      hiddenTxIds.add(txId);\n    });\n\n    if (swap.lt && Number(swap.id) < MAX_OLD_SWAP_ID) {\n      skipLtRanges.push([swap.lt, swap.lt + SWAP_MAX_LT]);\n    }\n\n    const swapActivity = swapItemToActivity(swap);\n\n    result.push(swapActivity);\n  }\n\n  for (let transaction of transactions) {\n    const [ltString, hash] = transaction.txId.split(':');\n    const lt = Number(ltString);\n    const shortenedTxId = `${lt}:${hash}`;\n\n    const shouldHide = Boolean(\n      hiddenTxIds.has(shortenedTxId)\n      || skipLtRanges.find(([startLt, endLt]) => lt >= startLt && lt <= endLt),\n    );\n\n    if (shouldHide) {\n      transaction = { ...transaction, shouldHide };\n    }\n    result.push(transaction);\n  }\n\n  return result;\n}\n\nasync function waitPendingDexSwap(address: string) {\n  const waitUntil = Date.now() + SWAP_WAITING_TIME;\n\n  while (Date.now() < waitUntil) {\n    const pendingSwaps = await swapGetHistory(address, {\n      status: 'pending',\n      isCex: false,\n    });\n\n    if (!pendingSwaps.length) {\n      break;\n    }\n\n    const areAllStale = pendingSwaps.every((swap) => (\n      Date.now() - swap.timestamp > SWAP_WAITING_TIME * 2\n    ));\n    if (areAllStale) {\n      break;\n    }\n\n    await pause(SWAP_WAITING_PAUSE);\n  }\n}\n\nfunction buildSwapHistoryRange(transactions: ApiTransaction[]): SwapHistoryRange {\n  const firstLt = parseTxId(transactions[0].txId).lt;\n  const lastLt = parseTxId(transactions[transactions.length - 1].txId).lt;\n\n  const firstTimestamp = transactions[0].timestamp;\n  const lastTimestamp = transactions[transactions.length - 1].timestamp;\n\n  const [fromLt, fromTime] = firstLt > lastLt ? [lastLt, lastTimestamp] : [firstLt, firstTimestamp];\n  const [toLt, toTime] = firstLt > lastLt ? [firstLt, firstTimestamp] : [lastLt, lastTimestamp];\n\n  const slug = transactions[0].slug;\n  const asset = slug === TONCOIN_SLUG ? TON_SYMBOL : resolveTokenBySlug(slug).minterAddress!;\n\n  return {\n    asset,\n    fromLt: Math.floor(fromLt / 100) * 100,\n    toLt,\n    fromTime,\n    toTime,\n  };\n}\n\nexport async function fetchSwaps(accountId: string, ids: string[]) {\n  const address = await fetchStoredAddress(accountId);\n  const results = await Promise.allSettled(\n    ids.map((id) => swapGetHistoryItem(address, id.replace('swap:', ''))),\n  );\n\n  return results\n    .map((result) => (result.status === 'fulfilled' ? result.value : undefined))\n    .filter(Boolean)\n    .map(swapItemToActivity);\n}\n\nexport function swapItemToActivity(swap: ApiSwapHistoryItem): ApiSwapActivity {\n  return {\n    ...swap,\n    id: buildSwapId(swap.id),\n    kind: 'swap',\n    from: getSwapItemSlug(swap, swap.from),\n    to: getSwapItemSlug(swap, swap.to),\n  };\n}\n\nexport function swapEstimate(request: ApiSwapEstimateRequest): Promise<ApiSwapEstimateResponse | { error: string }> {\n  return callBackendPost('/swap/ton/estimate', request, {\n    isAllowBadRequest: true,\n  });\n}\n\nexport function swapBuild(authToken: string, request: ApiSwapBuildRequest): Promise<ApiSwapBuildResponse> {\n  return callBackendPost('/swap/ton/build', {\n    ...request,\n    isMsgHashMode: true,\n  }, {\n    authToken,\n  });\n}\n\nexport function swapGetAssets(): Promise<ApiSwapAsset[]> {\n  return callBackendGet('/swap/assets');\n}\n\nexport function swapGetTonCurrencies(): Promise<ApiSwapTonAsset[]> {\n  return callBackendGet('/swap/ton/tokens');\n}\n\nexport function swapGetPairs(symbolOrMinter: string): Promise<ApiSwapPairAsset[]> {\n  return callBackendGet('/swap/pairs', { asset: symbolOrMinter });\n}\n\nexport function swapGetHistory(address: string, params: {\n  fromLt?: number;\n  toLt?: number;\n  fromTimestamp?: number;\n  toTimestamp?: number;\n  status?: ApiSwapHistoryItem['status'];\n  isCex?: boolean;\n  asset?: string;\n}): Promise<ApiSwapHistoryItem[]> {\n  return callBackendGet(`/swap/history/${address}`, params);\n}\n\nexport function swapGetHistoryByRanges(address: string, ranges: SwapHistoryRange[]): Promise<ApiSwapHistoryItem[]> {\n  return callBackendPost(`/swap/history-ranges/${address}`, { ranges });\n}\n\nexport function swapGetHistoryItem(address: string, id: string): Promise<ApiSwapHistoryItem> {\n  return callBackendGet(`/swap/history/${address}/${id}`);\n}\n\nexport function swapCexEstimate(request: ApiSwapCexEstimateRequest): Promise<ApiSwapCexEstimateResponse> {\n  return callBackendPost('/swap/cex/estimate', request, { isAllowBadRequest: true });\n}\n\nexport function swapCexValidateAddress(params: { slug: string; address: string }): Promise<{\n  result: boolean;\n  message?: string;\n}> {\n  return callBackendGet('/swap/cex/validate-address', params);\n}\n\nexport async function swapCexCreateTransaction(\n  accountId: string,\n  password: string,\n  request: ApiSwapCexCreateTransactionRequest,\n): Promise<{\n    swap: ApiSwapHistoryItem;\n    activity: ApiSwapActivity;\n    transfer?: TonTransferParams;\n  }> {\n  const authToken = await getBackendAuthToken(accountId, password);\n\n  const { swap } = await callBackendPost<ApiSwapCexCreateTransactionResponse>('/swap/cex/createTransaction', request, {\n    authToken,\n  });\n  const activity = swapItemToActivity(swap);\n\n  let transfer: {\n    toAddress: string;\n    amount: bigint;\n  } | undefined;\n\n  if (request.from === TON_SYMBOL) {\n    transfer = {\n      toAddress: swap.cex!.payinAddress,\n      amount: fromDecimal(swap.fromAmount),\n    };\n\n    assert(transfer.amount <= fromDecimal(request.fromAmount));\n  }\n\n  onUpdate({\n    type: 'newActivities',\n    accountId,\n    activities: [activity],\n  });\n\n  void callHook('onSwapCreated', accountId, swap.timestamp - 1);\n\n  return { swap, activity, transfer };\n}\n","import type { ApiNetwork } from '../types';\n\nimport { parseAccountId } from '../../util/account';\nimport blockchains from '../blockchains';\n\nexport function fetchToken(accountId: string, address: string) {\n  const { network, blockchain: blockchainKey } = parseAccountId(accountId);\n  const blockchain = blockchains[blockchainKey];\n\n  return blockchain.fetchToken(network, address);\n}\n\nexport function resolveTokenBySlug(slug: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.resolveTokenBySlug(slug);\n}\n\nexport function resolveTokenWalletAddress(network: ApiNetwork, address: string, minterAddress: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.resolveTokenWalletAddress(network, address, minterAddress);\n}\n\nexport function resolveTokenMinterAddress(network: ApiNetwork, tokenWalletAddress: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.resolveTokenMinterAddress(network, tokenWalletAddress);\n}\n\nexport function buildTokenSlug(address: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.buildTokenSlug(address);\n}\n\nexport function fetchTokenBalances(accountId: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.getAccountTokenBalances(accountId);\n}\n\nexport function fetchTokenBalancesByAddress(address: string, network: ApiNetwork) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.getAddressTokenBalances(address, network);\n}\n","import type { ApiSubmitTransferResult, ApiSubmitTransferWithDieselResult } from '../blockchains/ton/types';\nimport type {\n  ApiLocalTransactionParams,\n  ApiSignedTransfer,\n  ApiSubmitTransferOptions,\n  ApiTxIdBySlug,\n  OnApiUpdate,\n} from '../types';\n\nimport { TONCOIN_SLUG } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { logDebugError } from '../../util/logs';\nimport blockchains from '../blockchains';\nimport { fetchStoredAddress } from '../common/accounts';\nimport { buildLocalTransaction, resolveBlockchainKey } from '../common/helpers';\nimport { handleServerError } from '../errors';\nimport { swapReplaceTransactions } from './swap';\nimport { buildTokenSlug } from './tokens';\n\nlet onUpdate: OnApiUpdate;\n\nexport function initTransactions(_onUpdate: OnApiUpdate) {\n  onUpdate = _onUpdate;\n}\n\nexport async function fetchTokenActivitySlice(accountId: string, slug: string, fromTxId?: string, limit?: number) {\n  const { network, blockchain } = parseAccountId(accountId);\n  const activeBlockchain = blockchains[blockchain];\n  try {\n    const transactions = await activeBlockchain.getTokenTransactionSlice(accountId, slug, fromTxId, undefined, limit);\n    const activities = await swapReplaceTransactions(accountId, transactions, network, slug);\n    await activeBlockchain.fixTokenActivitiesAddressForm(network, activities);\n    return activities;\n  } catch (err) {\n    logDebugError('fetchTokenActivitySlice', err);\n    return handleServerError(err);\n  }\n}\n\nexport async function fetchAllActivitySlice(accountId: string, lastTxIds: ApiTxIdBySlug, limit: number) {\n  const { network, blockchain } = parseAccountId(accountId);\n  const activeBlockchain = blockchains[blockchain];\n  try {\n    const transactions = await activeBlockchain.getMergedTransactionSlice(accountId, lastTxIds, limit);\n    const activities = await swapReplaceTransactions(accountId, transactions, network);\n    await activeBlockchain.fixTokenActivitiesAddressForm(network, activities);\n    return activities;\n  } catch (err) {\n    logDebugError('fetchAllActivitySlice', err);\n    return handleServerError(err);\n  }\n}\n\nexport function checkTransactionDraft(options: {\n  accountId: string;\n  tokenAddress?: string;\n  toAddress: string;\n  amount: bigint;\n  data?: string;\n  shouldEncrypt?: boolean;\n  isBase64Data?: boolean;\n}) {\n  const blockchain = blockchains[resolveBlockchainKey(options.accountId)!];\n\n  return blockchain.checkTransactionDraft(options);\n}\n\nexport async function submitTransfer(options: ApiSubmitTransferOptions, shouldCreateLocalTransaction = true) {\n  const {\n    accountId, password, toAddress, amount, tokenAddress, comment, fee, shouldEncrypt, isBase64Data,\n    withDiesel, dieselAmount,\n  } = options;\n\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n  const fromAddress = await fetchStoredAddress(accountId);\n\n  let result: ApiSubmitTransferResult | ApiSubmitTransferWithDieselResult;\n\n  if (withDiesel) {\n    result = await blockchain.submitTransferWithDiesel({\n      accountId,\n      password,\n      toAddress,\n      amount,\n      tokenAddress: tokenAddress!,\n      data: comment,\n      shouldEncrypt,\n      dieselAmount: dieselAmount!,\n    });\n  } else {\n    result = await blockchain.submitTransfer({\n      accountId,\n      password,\n      toAddress,\n      amount,\n      tokenAddress,\n      data: comment,\n      shouldEncrypt,\n      isBase64Data,\n    });\n  }\n\n  if ('error' in result) {\n    return result;\n  }\n\n  const { encryptedComment, msgHash } = result;\n\n  if (!shouldCreateLocalTransaction) {\n    return result;\n  }\n\n  const slug = tokenAddress ? buildTokenSlug(tokenAddress) : TONCOIN_SLUG;\n\n  const localTransaction = createLocalTransaction(accountId, {\n    amount,\n    fromAddress,\n    toAddress,\n    comment: shouldEncrypt ? undefined : comment,\n    encryptedComment,\n    fee: fee || 0n,\n    slug,\n    inMsgHash: msgHash,\n  });\n\n  return {\n    ...result,\n    txId: localTransaction.txId,\n  };\n}\n\nexport async function waitLastTransfer(accountId: string) {\n  const blockchain = blockchains.ton;\n\n  const { network } = parseAccountId(accountId);\n  const address = await fetchStoredAddress(accountId);\n\n  return blockchain.waitPendingTransfer(network, address);\n}\n\nexport async function sendSignedTransferMessage(accountId: string, message: ApiSignedTransfer) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  const msgHash = await blockchain.sendSignedMessage(accountId, message);\n\n  const localTransaction = createLocalTransaction(accountId, {\n    ...message.params,\n    inMsgHash: msgHash,\n  });\n\n  return localTransaction.txId;\n}\n\nexport async function sendSignedTransferMessages(accountId: string, messages: ApiSignedTransfer[]) {\n  const blockchain = blockchains.ton;\n\n  const result = await blockchain.sendSignedMessages(accountId, messages);\n\n  for (let i = 0; i < result.successNumber; i++) {\n    createLocalTransaction(accountId, {\n      ...messages[i].params,\n      inMsgHash: result.msgHashes[i],\n    });\n  }\n\n  return result;\n}\n\nexport function decryptComment(accountId: string, encryptedComment: string, fromAddress: string, password: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.decryptComment(accountId, encryptedComment, fromAddress, password);\n}\n\nexport function createLocalTransaction(accountId: string, params: ApiLocalTransactionParams) {\n  const { blockchain: blockchainKey, network } = parseAccountId(accountId);\n  const blockchain = blockchains[blockchainKey];\n\n  const { toAddress } = params;\n\n  const normalizedAddress = params.normalizedAddress ?? blockchain.normalizeAddress(toAddress, network);\n\n  const localTransaction = buildLocalTransaction(params, normalizedAddress);\n\n  onUpdate({\n    type: 'newLocalTransaction',\n    transaction: localTransaction,\n    accountId,\n  });\n\n  return localTransaction;\n}\n\nexport function fetchDieselState(accountId: string, tokenAddress: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.fetchEstimateDiesel(accountId, tokenAddress);\n}\n","import type { ApiVestingInfo } from '../types';\n\nimport { parseAccountId } from '../../util/account';\nimport { fetchStoredAddress } from '../common/accounts';\nimport { callBackendGet } from '../common/backend';\n\nexport async function fetchVestings(accountId: string) {\n  const { network } = parseAccountId(accountId);\n  const isTestnet = network === 'testnet';\n  const address = await fetchStoredAddress(accountId);\n\n  return callBackendGet<ApiVestingInfo[]>(`/vesting/${address}`, { isTestnet });\n}\n","import * as tonWebMnemonic from 'tonweb-mnemonic';\n\nimport type { ApiNetwork } from '../types';\n\nimport { parseAccountId } from '../../util/account';\nimport blockchains from '../blockchains';\nimport {\n  fetchStoredAddress,\n  getAccountIdWithMnemonic,\n} from '../common/accounts';\nimport * as dappPromises from '../common/dappPromises';\nimport { resolveBlockchainKey } from '../common/helpers';\n\nconst ton = blockchains.ton;\n\nexport function getMnemonic(accountId: string, password: string) {\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  return blockchain.fetchMnemonic(accountId, password);\n}\n\nexport function getMnemonicWordList() {\n  return tonWebMnemonic.wordlists.default;\n}\n\nexport async function verifyPassword(password: string) {\n  const accountId = await getAccountIdWithMnemonic();\n  if (!accountId) {\n    throw new Error('The user is not authorized in the wallet');\n  }\n\n  const blockchain = blockchains[resolveBlockchainKey(accountId)!];\n\n  return blockchain.verifyPassword(accountId, password);\n}\n\nexport function confirmDappRequest(promiseId: string, data: any) {\n  dappPromises.resolveDappPromise(promiseId, data);\n}\n\nexport function confirmDappRequestConnect(promiseId: string, data: {\n  password?: string;\n  accountId?: string;\n  signature?: string;\n}) {\n  dappPromises.resolveDappPromise(promiseId, data);\n}\n\nexport function cancelDappRequest(promiseId: string, reason?: string) {\n  dappPromises.rejectDappPromise(promiseId, reason);\n}\n\nexport async function getWalletSeqno(accountId: string, address?: string) {\n  const { network } = parseAccountId(accountId);\n  if (!address) {\n    address = await fetchStoredAddress(accountId);\n  }\n  return ton.getWalletSeqno(network, address);\n}\n\nexport function fetchAddress(accountId: string) {\n  return fetchStoredAddress(accountId);\n}\n\nexport function isWalletInitialized(network: ApiNetwork, address: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.isAddressInitialized(network, address);\n}\n\nexport function getWalletBalance(network: ApiNetwork, address: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.getWalletBalance(network, address);\n}\n\nexport function getContractInfo(network: ApiNetwork, address: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.getContractInfo(network, address);\n}\n\nexport function getWalletInfo(network: ApiNetwork, address: string) {\n  const blockchain = blockchains.ton;\n\n  return blockchain.getWalletInfo(network, address);\n}\n","import type {\n  MethodArgs, Methods,\n} from '../../methods/types';\nimport type { TonConnectMethodArgs, TonConnectMethods } from '../../tonConnect/types/misc';\nimport type {\n  ApiInitArgs, OnApiUpdate,\n} from '../../types';\n\nimport { createPostMessageInterface } from '../../../util/createPostMessageInterface';\nimport * as methods from '../../methods';\nimport init from '../../methods/init';\nimport * as tonConnectApi from '../../tonConnect';\n\ncreatePostMessageInterface((name: string, origin?: string, ...args: any[]) => {\n  if (name === 'init') {\n    return init(args[0] as OnApiUpdate, args[1] as ApiInitArgs);\n  } else {\n    if (name.startsWith('tonConnect_')) {\n      name = name.replace('tonConnect_', '');\n      const method = tonConnectApi[name as keyof TonConnectMethods];\n      // @ts-ignore\n      return method(...args as TonConnectMethodArgs<keyof TonConnectMethods>);\n    }\n\n    const method = methods[name as keyof Methods];\n\n    // @ts-ignore\n    return method(...args as MethodArgs<keyof Methods>);\n  }\n});\n","import type { Storage, StorageKey } from './types';\n\nimport { bigintReviver } from '../../util/bigint';\nimport { callWindow } from '../../util/capacitorStorageProxy/connector';\n\nconst storage: Storage & {\n  getKeys: () => Promise<string[] | undefined>;\n} = {\n  async getItem(key: StorageKey) {\n    const result = await callWindow('getItem', key);\n    return result ? JSON.parse(result, bigintReviver) : undefined;\n  },\n\n  async setItem(key: StorageKey, value: any) {\n    await callWindow('setItem', key, JSON.stringify(value));\n  },\n\n  async removeItem(key: StorageKey) {\n    await callWindow('removeItem', key);\n  },\n\n  async clear() {\n    await callWindow('clear');\n  },\n\n  async getKeys() {\n    const result = await callWindow('keys');\n\n    return result?.value;\n  },\n};\n\nexport default storage;\n","import type { Storage } from './types';\n\nimport { IS_EXTENSION } from '../../config';\n\n// eslint-disable-next-line no-restricted-globals\nconst storage = IS_EXTENSION ? self.chrome.storage.local : undefined;\n\nexport default ((storage && {\n  getItem: async (key) => (await storage.get(key))?.[key],\n  setItem: (key, value) => storage.set({ [key]: value }),\n  removeItem: storage.remove.bind(storage),\n  clear: storage.clear.bind(storage),\n  getAll: storage.get.bind(storage),\n  setMany: storage.set.bind(storage),\n  getMany: storage.get.bind(storage),\n}) || {}) as Storage;\n","import * as idb from 'idb-keyval';\n\nimport type { Storage, StorageKey } from './types';\n\nimport { INDEXED_DB_NAME, INDEXED_DB_STORE_NAME } from '../../config';\nimport { fromKeyValueArrays } from '../../util/iteratees';\n\nconst store = idb.createStore(INDEXED_DB_NAME, INDEXED_DB_STORE_NAME);\n\nexport default {\n  getItem: (name: StorageKey) => idb.get(name, store),\n  setItem: (name: StorageKey, value: any) => idb.set(name, value, store),\n  removeItem: (name: StorageKey) => idb.del(name, store),\n  clear: () => idb.clear(store),\n  getAll: async () => {\n    const keys = await idb.keys(store) as string[];\n    const values = await idb.getMany(keys, store);\n    return fromKeyValueArrays(keys, values);\n  },\n  getMany: async (keys) => {\n    const values = await idb.getMany(keys, store);\n    return fromKeyValueArrays(keys, values);\n  },\n  setMany: (items) => {\n    return idb.setMany(Object.entries(items), store);\n  },\n} as Storage;\n","import { StorageType } from './types';\n\nimport { IS_CAPACITOR, IS_EXTENSION } from '../../config';\nimport capacitorStorage from './capacitorStorage';\nimport extensionStorage from './extension';\nimport idb from './idb';\nimport localStorage from './localStorage';\n\nexport const storage = IS_EXTENSION ? extensionStorage : IS_CAPACITOR ? capacitorStorage : idb;\n\nexport default {\n  [StorageType.IndexedDb]: idb,\n  [StorageType.LocalStorage]: localStorage,\n  [StorageType.ExtensionLocal]: extensionStorage,\n  [StorageType.CapacitorStorage]: capacitorStorage,\n};\n","import type { Storage } from './types';\n\nimport { pick } from '../../util/iteratees';\n\nfunction withPromise(fn: AnyFunction) {\n  return (...args: any) => Promise.resolve(fn(...args));\n}\n\nexport default (typeof localStorage === 'object' ? {\n  getItem: withPromise(localStorage.getItem),\n  setItem: localStorage.setItem,\n  removeItem: localStorage.removeItem,\n  clear: localStorage.clear,\n  getAll: withPromise(() => ({ ...localStorage })),\n  getMany: withPromise((keys: string[]) => pick(localStorage, keys)),\n  setMany: (items: AnyLiteral) => {\n    Object.assign(localStorage, items);\n  },\n} : {}) as Storage;\n","export enum StorageType {\n  IndexedDb,\n  LocalStorage,\n  ExtensionLocal,\n  CapacitorStorage,\n}\n\nexport interface Storage {\n  getItem(name: StorageKey, force?: boolean): Promise<any>;\n\n  setItem(name: StorageKey, value: any): Promise<void>;\n\n  removeItem(name: StorageKey): Promise<void>;\n\n  clear(): Promise<void>;\n\n  getAll?(): Promise<AnyLiteral>;\n\n  setMany?(items: AnyLiteral): Promise<void>;\n\n  getMany?(keys: string[]): Promise<AnyLiteral>;\n}\n\nexport type StorageKey = 'mnemonicsEncrypted'\n| 'accounts'\n| 'stateVersion'\n| 'currentAccountId'\n| 'clientId'\n| 'baseCurrency'\n// For extension\n| 'dapps'\n| 'dappMethods:lastAccountId'\n| 'windowId'\n| 'windowState'\n| 'isTonMagicEnabled'\n| 'isTonProxyEnabled'\n| 'isDeeplinkHookEnabled'\n// For TonConnect SSE\n| 'sseLastEventId';\n","// eslint-disable-next-line max-classes-per-file\nimport type { ApiAnyDisplayError } from '../types';\nimport type { AllErrorCodes } from './types';\nimport { ApiTransactionError } from '../types';\nimport { CONNECT_EVENT_ERROR_CODES } from './types';\n\nimport { ApiBaseError } from '../errors';\n\nexport class TonConnectError extends ApiBaseError {\n  code: number;\n\n  constructor(message: string, code: AllErrorCodes = 0, displayError?: ApiAnyDisplayError) {\n    super(message);\n    this.code = code;\n    this.displayError = displayError;\n  }\n}\n\nexport class ManifestContentError extends TonConnectError {\n  constructor(message = 'Manifest content error') {\n    super(message, CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR);\n  }\n}\n\nexport class UnknownError extends TonConnectError {\n  constructor(message = 'Unknown error.') {\n    super(message, 0);\n  }\n}\n\nexport class BadRequestError extends TonConnectError {\n  constructor(message = 'Bad request', displayError?: ApiAnyDisplayError) {\n    super(message, 1, displayError);\n  }\n}\n\nexport class UnknownAppError extends TonConnectError {\n  constructor(message = 'Unknown app error') {\n    super(message, 100);\n  }\n}\n\nexport class UserRejectsError extends TonConnectError {\n  constructor(message = 'The user rejected the action') {\n    super(message, 300);\n  }\n}\n\nexport class InsufficientBalance extends BadRequestError {\n  constructor(message = 'Insufficient balance') {\n    super(message, ApiTransactionError.InsufficientBalance);\n  }\n}\n","import { Address, Cell } from '@ton/core';\nimport type {\n  ConnectEventError,\n  ConnectItemReply,\n  ConnectRequest,\n  DisconnectRpcRequest,\n  DisconnectRpcResponse,\n  SendTransactionRpcRequest,\n  SendTransactionRpcResponse,\n  SignDataRpcRequest,\n  TonProofItem,\n  TonProofItemReplySuccess,\n} from '@tonconnect/protocol';\nimport { CHAIN } from '@tonconnect/protocol';\nimport nacl from 'tweetnacl';\n\nimport type {\n  ApiAnyDisplayError,\n  ApiDappMetadata,\n  ApiDappRequest,\n  ApiNetwork,\n  ApiSignedTransfer,\n  OnApiUpdate,\n} from '../types';\nimport type {\n  ApiTonConnectProof, LocalConnectEvent, TransactionPayload, TransactionPayloadMessage,\n} from './types';\nimport { ApiCommonError, ApiTransactionError } from '../types';\nimport { CONNECT_EVENT_ERROR_CODES, SEND_TRANSACTION_ERROR_CODES, SIGN_DATA_ERROR_CODES } from './types';\n\nimport { IS_EXTENSION, TONCOIN_SLUG } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { areDeepEqual } from '../../util/areDeepEqual';\nimport { logDebugError } from '../../util/logs';\nimport { fetchJsonMetadata } from '../../util/metadata';\nimport safeExec from '../../util/safeExec';\nimport blockchains from '../blockchains';\nimport { parsePayloadBase64 } from '../blockchains/ton';\nimport { fetchKeyPair } from '../blockchains/ton/auth';\nimport {\n  getIsRawAddress, getWalletPublicKey, toBase64Address, toRawAddress,\n} from '../blockchains/ton/util/tonCore';\nimport { getContractInfo } from '../blockchains/ton/wallet';\nimport {\n  fetchStoredAccount,\n  fetchStoredAddress,\n  fetchStoredPublicKey,\n  getCurrentAccountId,\n  getCurrentAccountIdOrFail,\n} from '../common/accounts';\nimport { getKnownAddressInfo } from '../common/addresses';\nimport { createDappPromise } from '../common/dappPromises';\nimport { isUpdaterAlive } from '../common/helpers';\nimport { bytesToBase64, hexToBytes, sha256 } from '../common/utils';\nimport * as apiErrors from '../errors';\nimport { ApiServerError } from '../errors';\nimport { callHook } from '../hooks';\nimport {\n  activateDapp,\n  addDapp,\n  deactivateAccountDapp,\n  deactivateDapp,\n  deleteDapp,\n  findLastConnectedAccount,\n  getDapp,\n  getDappsByOrigin,\n  updateDapp,\n} from '../methods/dapps';\nimport { createLocalTransaction } from '../methods/transactions';\nimport * as errors from './errors';\nimport { UnknownAppError } from './errors';\nimport { isValidString, isValidUrl } from './utils';\n\nconst BLANK_GIF_DATA_URL = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n\nconst ton = blockchains.ton;\n\nlet resolveInit: AnyFunction;\nconst initPromise = new Promise((resolve) => {\n  resolveInit = resolve;\n});\n\nlet onPopupUpdate: OnApiUpdate;\n\nexport function initTonConnect(_onPopupUpdate: OnApiUpdate) {\n  onPopupUpdate = _onPopupUpdate;\n  resolveInit();\n}\n\nexport async function connect(\n  request: ApiDappRequest,\n  message: ConnectRequest,\n  id: number,\n): Promise<LocalConnectEvent> {\n  try {\n    await openExtensionPopup(true);\n\n    onPopupUpdate({\n      type: 'dappLoading',\n      connectionType: 'connect',\n      isSse: request && 'sseOptions' in request,\n    });\n\n    const dappMetadata = await fetchDappMetadata(message.manifestUrl);\n\n    if (!IS_EXTENSION) {\n      request.origin = dappMetadata.origin;\n    }\n\n    const { origin } = await validateRequest(request, true);\n\n    const addressItem = message.items.find(({ name }) => name === 'ton_addr');\n    const proofItem = message.items.find(({ name }) => name === 'ton_proof') as TonProofItem | undefined;\n    const proof = proofItem ? {\n      timestamp: Math.round(Date.now() / 1000),\n      domain: new URL(origin).host,\n      payload: proofItem.payload,\n    } : undefined;\n\n    if (!addressItem) {\n      throw new errors.BadRequestError(\"Missing 'ton_addr'\");\n    }\n\n    let accountId = await getCurrentAccountOrFail();\n\n    const { promiseId, promise } = createDappPromise();\n\n    const dapp = {\n      ...dappMetadata,\n      origin,\n      connectedAt: Date.now(),\n      ...('sseOptions' in request && {\n        sse: request.sseOptions,\n      }),\n    };\n\n    onPopupUpdate({\n      type: 'dappConnect',\n      promiseId,\n      accountId,\n      dapp,\n      permissions: {\n        address: true,\n        proof: !!proof,\n      },\n      proof,\n    });\n\n    const promiseResult: {\n      accountId?: string;\n      password?: string;\n      signature?: string;\n    } | undefined = await promise;\n\n    accountId = promiseResult!.accountId!;\n    request.accountId = accountId;\n    await addDapp(accountId, dapp);\n\n    const result = await reconnect(request, id);\n\n    if (result.event === 'connect' && proof) {\n      const address = await fetchStoredAddress(accountId);\n      const { password, signature } = promiseResult!;\n\n      let proofReplyItem: TonProofItemReplySuccess;\n      if (password) {\n        proofReplyItem = await signTonProof(accountId, password!, address, proof!);\n      } else {\n        proofReplyItem = buildTonProofReplyItem(proof, signature!);\n      }\n\n      result.payload.items.push(proofReplyItem);\n    }\n\n    onPopupUpdate({ type: 'updateDapps' });\n    onPopupUpdate({ type: 'dappConnectComplete' });\n\n    return result;\n  } catch (err) {\n    logDebugError('tonConnect:connect', err);\n\n    safeExec(() => {\n      onPopupUpdate({\n        type: 'dappCloseLoading',\n      });\n    });\n\n    return formatConnectError(id, err as Error);\n  }\n}\n\nexport async function reconnect(request: ApiDappRequest, id: number): Promise<LocalConnectEvent> {\n  try {\n    const { origin, accountId } = await validateRequest(request);\n\n    activateDapp(accountId, origin);\n    const currentDapp = await getDapp(accountId, origin);\n    if (!currentDapp) {\n      throw new UnknownAppError();\n    }\n    await updateDapp(accountId, origin, (dapp) => ({ ...dapp, connectedAt: Date.now() }));\n\n    const address = await fetchStoredAddress(accountId);\n    const items: ConnectItemReply[] = [\n      await buildTonAddressReplyItem(accountId, address),\n    ];\n\n    return {\n      event: 'connect',\n      id,\n      payload: { items },\n    };\n  } catch (e) {\n    logDebugError('tonConnect:reconnect', e);\n    return formatConnectError(id, e as Error);\n  }\n}\n\nexport async function disconnect(\n  request: ApiDappRequest,\n  message: DisconnectRpcRequest,\n): Promise<DisconnectRpcResponse> {\n  try {\n    const { origin, accountId } = await validateRequest(request);\n\n    await deleteDapp(accountId, origin, true);\n    deactivateAccountDapp(accountId);\n    onPopupUpdate({ type: 'updateDapps' });\n  } catch (err) {\n    logDebugError('tonConnect:disconnect', err);\n  }\n  return {\n    id: message.id,\n    result: {},\n  };\n}\n\nexport async function sendTransaction(\n  request: ApiDappRequest,\n  message: SendTransactionRpcRequest,\n): Promise<SendTransactionRpcResponse> {\n  try {\n    const { origin, accountId } = await validateRequest(request);\n    const { network } = parseAccountId(accountId);\n\n    const txPayload = JSON.parse(message.params[0]) as TransactionPayload;\n    const { messages, network: dappNetworkRaw } = txPayload;\n\n    if (messages.length > 4) {\n      throw new errors.BadRequestError('Payload contains more than 4 messages, which exceeds limit');\n    }\n\n    const dappNetwork = dappNetworkRaw\n      ? (dappNetworkRaw === CHAIN.MAINNET ? 'mainnet' : 'testnet')\n      : undefined;\n    let validUntil = txPayload.valid_until;\n    if (validUntil && validUntil > 10 ** 10) {\n      // If milliseconds were passed instead of seconds\n      validUntil = Math.round(validUntil / 1000);\n    }\n\n    const account = await fetchStoredAccount(accountId);\n    const isLedger = !!account.ledger;\n\n    let vestingAddress: string | undefined;\n\n    if (txPayload.from && toBase64Address(txPayload.from) !== toBase64Address(account.address)) {\n      const publicKey = hexToBytes(account.publicKey);\n      if (isLedger && await checkIsHisVestingWallet(network, publicKey, txPayload.from)) {\n        vestingAddress = txPayload.from;\n      } else {\n        throw new errors.BadRequestError(undefined, ApiTransactionError.WrongAddress);\n      }\n    }\n\n    if (dappNetwork && network !== dappNetwork) {\n      throw new errors.BadRequestError(undefined, ApiTransactionError.WrongNetwork);\n    }\n\n    await openExtensionPopup(true);\n\n    onPopupUpdate({\n      type: 'dappLoading',\n      connectionType: 'sendTransaction',\n      accountId,\n      isSse: Boolean('sseOptions' in request && request.sseOptions),\n    });\n\n    const {\n      preparedMessages,\n      checkResult,\n    } = await checkTransactionMessages(accountId, messages, network);\n\n    const dapp = (await getDappsByOrigin(accountId))[origin];\n    const transactionsForRequest = await prepareTransactionForRequest(network, messages);\n\n    const { promiseId, promise } = createDappPromise();\n\n    onPopupUpdate({\n      type: 'dappSendTransactions',\n      promiseId,\n      accountId,\n      dapp,\n      transactions: transactionsForRequest,\n      fee: checkResult.fee!,\n      vestingAddress,\n    });\n\n    // eslint-disable-next-line prefer-const\n    const response: string | ApiSignedTransfer[] = await promise;\n\n    if (validUntil && validUntil < (Date.now() / 1000)) {\n      throw new errors.BadRequestError('The confirmation timeout has expired');\n    }\n\n    let boc: string | undefined;\n    let successNumber: number | undefined;\n    let error: string | undefined;\n    let msgHashes: string[] = [];\n\n    if (isLedger) {\n      const signedTransfers = response as ApiSignedTransfer[];\n      const submitResult = await ton.sendSignedMessages(accountId, signedTransfers);\n      boc = submitResult.firstBoc;\n      successNumber = submitResult.successNumber;\n      msgHashes = submitResult.msgHashes;\n\n      if (successNumber > 0) {\n        if (successNumber < messages.length) {\n          onPopupUpdate({\n            type: 'showError',\n            error: ApiTransactionError.PartialTransactionFailure,\n          });\n        }\n      } else {\n        error = 'Failed transfers';\n      }\n    } else {\n      const password = response as string;\n      const submitResult = await ton.submitMultiTransfer(accountId, password!, preparedMessages, validUntil);\n      if ('error' in submitResult) {\n        error = submitResult.error;\n      } else {\n        boc = submitResult.boc;\n        successNumber = messages.length;\n        msgHashes = [submitResult.msgHash];\n      }\n    }\n\n    if (error) {\n      throw new errors.UnknownError(error);\n    }\n\n    const fromAddress = await fetchStoredAddress(accountId);\n    const successTransactions = transactionsForRequest.slice(0, successNumber!);\n\n    successTransactions.forEach(({ amount, normalizedAddress, payload }, index) => {\n      const comment = payload?.type === 'comment' ? payload.comment : undefined;\n      const msgHash = isLedger ? msgHashes[index] : msgHashes[0];\n      createLocalTransaction(accountId, {\n        amount,\n        fromAddress,\n        toAddress: normalizedAddress,\n        comment,\n        fee: checkResult.fee!,\n        slug: TONCOIN_SLUG,\n        inMsgHash: msgHash,\n      });\n    });\n\n    return {\n      result: boc!,\n      id: message.id,\n    };\n  } catch (err) {\n    logDebugError('tonConnect:sendTransaction', err);\n\n    safeExec(() => {\n      onPopupUpdate({\n        type: 'dappCloseLoading',\n      });\n    });\n\n    let code = SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR;\n    let errorMessage = 'Unhandled error';\n    let displayError: ApiAnyDisplayError | undefined;\n\n    if (err instanceof apiErrors.ApiUserRejectsError) {\n      code = SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR;\n      errorMessage = err.message;\n    } else if (err instanceof errors.TonConnectError) {\n      code = err.code;\n      errorMessage = err.message;\n      displayError = err.displayError;\n    } else if (err instanceof ApiServerError) {\n      displayError = err.displayError;\n    } else {\n      displayError = ApiCommonError.Unexpected;\n    }\n\n    if (onPopupUpdate && isUpdaterAlive(onPopupUpdate) && displayError) {\n      onPopupUpdate({\n        type: 'showError',\n        error: displayError,\n      });\n    }\n    return {\n      error: {\n        code,\n        message: errorMessage,\n      },\n      id: message.id,\n    };\n  }\n}\n\nasync function checkIsHisVestingWallet(network: ApiNetwork, ownerPublicKey: Uint8Array, address: string) {\n  const [info, publicKey] = await Promise.all([\n    getContractInfo(network, address),\n    getWalletPublicKey(network, address),\n  ]);\n\n  return info.contractInfo?.name === 'vesting' && areDeepEqual(ownerPublicKey, publicKey);\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nexport function signData(request: ApiDappRequest, message: SignDataRpcRequest) {\n  return {\n    error: {\n      code: SIGN_DATA_ERROR_CODES.METHOD_NOT_SUPPORTED,\n      message: 'Method not supported',\n    },\n    id: message.id,\n  };\n}\n\nasync function checkTransactionMessages(accountId: string, messages: TransactionPayloadMessage[], network: ApiNetwork) {\n  const preparedMessages = messages.map((msg) => {\n    const {\n      address,\n      amount,\n      payload,\n      stateInit,\n    } = msg;\n\n    return {\n      toAddress: getIsRawAddress(address) ? toBase64Address(address, true, network) : address,\n      amount: BigInt(amount),\n      payload: payload ? Cell.fromBase64(payload) : undefined,\n      stateInit: stateInit ? Cell.fromBase64(stateInit) : undefined,\n    };\n  });\n\n  const checkResult = await ton.checkMultiTransactionDraft(accountId, preparedMessages);\n  if ('error' in checkResult) {\n    onPopupUpdate({\n      type: 'showError',\n      error: checkResult.error,\n    });\n    throw new errors.BadRequestError(checkResult.error);\n  }\n\n  return {\n    preparedMessages,\n    checkResult,\n  };\n}\n\nfunction prepareTransactionForRequest(network: ApiNetwork, messages: TransactionPayloadMessage[]) {\n  return Promise.all(messages.map(\n    async ({\n      address,\n      amount,\n      payload: rawPayload,\n      stateInit,\n    }) => {\n      const toAddress = getIsRawAddress(address) ? toBase64Address(address, true, network) : address;\n      // Fix address format for `waitTxComplete` to work properly\n      const normalizedAddress = toBase64Address(address, undefined, network);\n      const payload = rawPayload ? await parsePayloadBase64(network, toAddress, rawPayload) : undefined;\n      const { isScam } = getKnownAddressInfo(normalizedAddress) || {};\n\n      return {\n        toAddress,\n        amount: BigInt(amount),\n        rawPayload,\n        payload,\n        stateInit,\n        normalizedAddress,\n        isScam,\n      };\n    },\n  ));\n}\n\nexport async function deactivate(request: ApiDappRequest) {\n  try {\n    const { origin } = await validateRequest(request, true);\n\n    deactivateDapp(origin);\n  } catch (err) {\n    logDebugError('tonConnect:deactivate', err);\n  }\n}\n\nfunction formatConnectError(id: number, error: Error): ConnectEventError {\n  let code = CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR;\n  let message = 'Unhandled error';\n\n  if (error instanceof apiErrors.ApiUserRejectsError) {\n    code = CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR;\n    message = error.message;\n  } else if (error instanceof errors.TonConnectError) {\n    code = error.code;\n    message = error.message;\n  }\n\n  return {\n    id,\n    event: 'connect_error',\n    payload: {\n      code,\n      message,\n    },\n  };\n}\n\nasync function buildTonAddressReplyItem(accountId: string, address: string): Promise<ConnectItemReply> {\n  const { network } = parseAccountId(accountId);\n\n  const [stateInit, publicKey] = await Promise.all([\n    ton.getWalletStateInit(accountId),\n    fetchStoredPublicKey(accountId),\n  ]);\n  return {\n    name: 'ton_addr',\n    address: toRawAddress(address),\n    network: network === 'mainnet' ? CHAIN.MAINNET : CHAIN.TESTNET,\n    publicKey,\n    walletStateInit: stateInit\n      .toBoc({ idx: true, crc32: true })\n      .toString('base64'),\n  };\n}\n\nasync function signTonProof(\n  accountId: string,\n  password: string,\n  walletAddress: string,\n  proof: ApiTonConnectProof,\n): Promise<TonProofItemReplySuccess> {\n  const keyPair = await fetchKeyPair(accountId, password);\n  const { timestamp, domain, payload } = proof;\n\n  const timestampBuffer = Buffer.allocUnsafe(8);\n  timestampBuffer.writeBigInt64LE(BigInt(timestamp));\n\n  const domainBuffer = Buffer.from(domain);\n  const domainLengthBuffer = Buffer.allocUnsafe(4);\n  domainLengthBuffer.writeInt32LE(domainBuffer.byteLength);\n\n  const address = Address.parse(walletAddress);\n\n  const addressWorkchainBuffer = Buffer.allocUnsafe(4);\n  addressWorkchainBuffer.writeInt32BE(address.workChain);\n\n  const addressBuffer = Buffer.concat([\n    addressWorkchainBuffer,\n    address.hash,\n  ]);\n\n  const messageBuffer = Buffer.concat([\n    Buffer.from('ton-proof-item-v2/', 'utf8'),\n    addressBuffer,\n    domainLengthBuffer,\n    domainBuffer,\n    timestampBuffer,\n    Buffer.from(payload),\n  ]);\n\n  const bufferToSign = Buffer.concat([\n    Buffer.from('ffff', 'hex'),\n    Buffer.from('ton-connect', 'utf8'),\n    Buffer.from(await sha256(messageBuffer)),\n  ]);\n\n  const signature = nacl.sign.detached(\n    Buffer.from(await sha256(bufferToSign)),\n    keyPair!.secretKey,\n  );\n\n  return buildTonProofReplyItem(proof, bytesToBase64(signature));\n}\n\nfunction buildTonProofReplyItem(proof: ApiTonConnectProof, signature: string): TonProofItemReplySuccess {\n  const { timestamp, domain, payload } = proof;\n  const domainBuffer = Buffer.from(domain);\n\n  return {\n    name: 'ton_proof',\n    proof: {\n      timestamp,\n      domain: {\n        lengthBytes: domainBuffer.byteLength,\n        value: domainBuffer.toString('utf8'),\n      },\n      signature,\n      payload,\n    },\n  };\n}\n\nexport async function fetchDappMetadata(manifestUrl: string, origin?: string): Promise<ApiDappMetadata> {\n  try {\n    const data = await fetchJsonMetadata(manifestUrl);\n\n    const { url, name, iconUrl } = await data;\n    const safeIconUrl = iconUrl.startsWith('data:') ? BLANK_GIF_DATA_URL : iconUrl;\n    if (!isValidUrl(url) || !isValidString(name) || !isValidUrl(safeIconUrl)) {\n      throw new Error('Invalid data');\n    }\n\n    return {\n      origin: origin ?? new URL(url).origin,\n      url,\n      name,\n      iconUrl: safeIconUrl,\n      manifestUrl,\n    };\n  } catch (err) {\n    logDebugError('fetchDapp', err);\n    throw new errors.ManifestContentError();\n  }\n}\n\nasync function validateRequest(request: ApiDappRequest, skipConnection = false) {\n  const { origin } = request;\n  if (!origin) {\n    throw new errors.BadRequestError('Invalid origin');\n  }\n\n  let accountId = '';\n  if (request.accountId) {\n    accountId = request.accountId;\n  } else if (!skipConnection) {\n    const { network } = parseAccountId(await getCurrentAccountIdOrFail());\n    const lastAccountId = await findLastConnectedAccount(network, origin);\n    if (!lastAccountId) {\n      throw new errors.BadRequestError('The connection is outdated, try relogin');\n    }\n    accountId = lastAccountId;\n  }\n\n  return { origin, accountId };\n}\n\nasync function openExtensionPopup(force?: boolean) {\n  if (!IS_EXTENSION || (!force && onPopupUpdate && isUpdaterAlive(onPopupUpdate))) {\n    return false;\n  }\n\n  await callHook('onWindowNeeded');\n  await initPromise;\n\n  return true;\n}\n\nasync function getCurrentAccountOrFail() {\n  const accountId = await getCurrentAccountId();\n  if (!accountId) {\n    throw new errors.BadRequestError('The user is not authorized in the wallet');\n  }\n  return accountId;\n}\n","import type {\n  AppRequest,\n  ConnectEvent,\n  ConnectRequest,\n  DeviceInfo,\n  DisconnectEvent,\n  RpcRequests,\n} from '@tonconnect/protocol';\nimport nacl, { randomBytes } from 'tweetnacl';\n\nimport type { ApiDappRequest, ApiSseOptions, OnApiUpdate } from '../types';\n\nimport { parseAccountId } from '../../util/account';\nimport { handleFetchErrors } from '../../util/fetch';\nimport { extractKey } from '../../util/iteratees';\nimport { logDebug, logDebugError } from '../../util/logs';\nimport safeExec from '../../util/safeExec';\nimport { getCurrentNetwork, waitLogin } from '../common/accounts';\nimport { bytesToHex } from '../common/utils';\nimport { getDappsState, getSseLastEventId, setSseLastEventId } from '../methods/dapps';\nimport * as tonConnect from './index';\n\ntype SseDapp = {\n  accountId: string;\n  origin: string;\n} & ApiSseOptions;\n\ntype ReturnStrategy = 'back' | 'none' | string;\n\nconst BRIDGE_URL = 'https://tonconnectbridge.mytonwallet.org/bridge';\nconst TTL_SEC = 300;\nconst NONCE_SIZE = 24;\nconst MAX_CONFIRM_DURATION = 60 * 1000;\n\nlet sseEventSource: EventSource | undefined;\nlet sseDapps: SseDapp[] = [];\nlet delayedReturnParams: {\n  validUntil: number;\n  url: string;\n  isFromInAppBrowser?: boolean;\n} | undefined;\n\nlet onUpdate: OnApiUpdate;\n\nexport function initSse(_onUpdate: OnApiUpdate) {\n  onUpdate = _onUpdate;\n}\n\nexport async function startSseConnection({ url, deviceInfo, isFromInAppBrowser }: {\n  url: string;\n  deviceInfo: DeviceInfo;\n  isFromInAppBrowser?: boolean;\n}): Promise<ReturnStrategy | undefined> {\n  const { searchParams: params, origin } = new URL(url);\n\n  const ret: ReturnStrategy = params.get('ret') || 'back';\n  const version = Number(params.get('v') as string);\n  const appClientId = params.get('id') as string;\n  // `back` strategy cannot be implemented\n  const shouldOpenUrl = ret !== 'back' && ret !== 'none';\n  const r = params.get('r');\n\n  if (!r) {\n    if (shouldOpenUrl) {\n      delayedReturnParams = {\n        validUntil: Date.now() + MAX_CONFIRM_DURATION,\n        url: ret,\n        isFromInAppBrowser,\n      };\n    }\n    return undefined;\n  }\n\n  const connectRequest: ConnectRequest | null = safeExec(() => JSON.parse(r)) || JSON.parse(decodeURIComponent(r));\n\n  logDebug('SSE Start connection:', {\n    version, appClientId, connectRequest, ret, origin,\n  });\n\n  const { secretKey: secretKeyArray, publicKey: publicKeyArray } = nacl.box.keyPair();\n  const secretKey = bytesToHex(secretKeyArray);\n  const clientId = bytesToHex(publicKeyArray);\n\n  const lastOutputId = 0;\n  const request: ApiDappRequest = {\n    sseOptions: {\n      clientId,\n      appClientId,\n      secretKey,\n      lastOutputId,\n    },\n  };\n\n  await waitLogin();\n\n  if (!connectRequest) {\n    onUpdate({\n      type: 'showError',\n      error: 'Invalid TON Connect link',\n    });\n\n    return undefined;\n  }\n\n  const result = await tonConnect.connect(request, connectRequest, lastOutputId) as ConnectEvent;\n  if (result.event === 'connect') {\n    result.payload.device = deviceInfo;\n  }\n\n  await sendMessage(result, secretKey, clientId, appClientId);\n\n  if (result.event !== 'connect_error') {\n    await resetupSseConnection();\n  }\n\n  if (!shouldOpenUrl) {\n    return undefined;\n  }\n\n  return ret;\n}\n\nexport async function resetupSseConnection() {\n  closeEventSource();\n\n  const [lastEventId, dappsState, network] = await Promise.all([\n    getSseLastEventId(),\n    getDappsState(),\n    getCurrentNetwork(),\n  ]);\n\n  if (!dappsState || !network) {\n    return;\n  }\n\n  sseDapps = Object.entries(dappsState).reduce((result, [accountId, dapps]) => {\n    if (parseAccountId(accountId).network === network) {\n      for (const dapp of Object.values(dapps)) {\n        if (dapp.sse?.clientId) {\n          result.push({\n            ...dapp.sse,\n            accountId,\n            origin: dapp.origin,\n          });\n        }\n      }\n    }\n    return result;\n  }, [] as SseDapp[]);\n\n  const clientIds = extractKey(sseDapps, 'clientId').filter(Boolean);\n  if (!clientIds.length) {\n    return;\n  }\n\n  if (sseEventSource) {\n    safeExec(() => {\n      sseEventSource!.close();\n    });\n    sseEventSource = undefined;\n  }\n\n  sseEventSource = openEventSource(clientIds, lastEventId);\n\n  sseEventSource.onopen = () => {\n    logDebug('EventSource opened');\n  };\n\n  sseEventSource.onerror = (e) => {\n    logDebugError('EventSource', e.type);\n  };\n\n  sseEventSource.onmessage = async (event) => {\n    const { from, message: encryptedMessage } = JSON.parse(event.data);\n\n    const sseDapp = sseDapps.find(({ appClientId }) => appClientId === from);\n    if (!sseDapp) {\n      logDebug(`Dapp with clientId ${from} not found`);\n      return;\n    }\n\n    const {\n      accountId, clientId, appClientId, secretKey, origin, lastOutputId,\n    } = sseDapp;\n    const message = decryptMessage(encryptedMessage, appClientId, secretKey) as AppRequest<keyof RpcRequests>;\n\n    logDebug('SSE Event:', message);\n\n    await setSseLastEventId(event.lastEventId);\n    const sseOptions = {\n      clientId,\n      appClientId,\n      secretKey,\n      lastOutputId,\n    };\n\n    // @ts-ignore\n    const result = await tonConnect[message.method]({ origin, accountId, sseOptions }, message);\n\n    await sendMessage(result, secretKey, clientId, appClientId);\n\n    if (delayedReturnParams) {\n      const { validUntil, url, isFromInAppBrowser } = delayedReturnParams;\n      if (validUntil > Date.now()) {\n        onUpdate({ type: 'openUrl', url, isExternal: !isFromInAppBrowser });\n      }\n      delayedReturnParams = undefined;\n    }\n  };\n}\n\nexport async function sendSseDisconnect(accountId: string, origin: string) {\n  const sseDapp = sseDapps.find((dapp) => dapp.origin === origin && dapp.accountId === accountId);\n  if (!sseDapp) return;\n\n  const { secretKey, clientId, appClientId } = sseDapp;\n  const lastOutputId = sseDapp.lastOutputId + 1;\n\n  const response: DisconnectEvent = {\n    event: 'disconnect',\n    id: lastOutputId,\n    payload: {},\n  };\n\n  await sendMessage(response, secretKey, clientId, appClientId);\n}\n\nfunction sendMessage(\n  message: AnyLiteral, secretKey: string, clientId: string, toId: string, topic?: 'signTransaction' | 'signData',\n) {\n  const buffer = Buffer.from(JSON.stringify(message));\n  const encryptedMessage = encryptMessage(buffer, toId, secretKey);\n  return sendRawMessage(encryptedMessage, clientId, toId, topic);\n}\n\nasync function sendRawMessage(body: string, clientId: string, toId: string, topic?: 'signTransaction' | 'signData') {\n  const url = new URL(`${BRIDGE_URL}/message`);\n  url.searchParams.set('client_id', clientId);\n  url.searchParams.set('to', toId);\n  url.searchParams.set('ttl', TTL_SEC.toString());\n  if (topic) {\n    url.searchParams.set('topic', topic);\n  }\n\n  const response = await fetch(url, { method: 'POST', body });\n  await handleFetchErrors(response);\n}\n\nfunction closeEventSource() {\n  if (!sseEventSource) return;\n\n  sseEventSource.close();\n  sseEventSource = undefined;\n}\n\nfunction openEventSource(clientIds: string[], lastEventId?: string) {\n  const url = new URL(`${BRIDGE_URL}/events`);\n  url.searchParams.set('client_id', clientIds.join(','));\n  if (lastEventId) {\n    url.searchParams.set('last_event_id', lastEventId);\n  }\n  return new EventSource(url);\n}\n\nfunction encryptMessage(message: Uint8Array, publicKey: string, secretKey: string) {\n  const nonce = randomBytes(NONCE_SIZE);\n  const encrypted = nacl.box(\n    message, nonce, Buffer.from(publicKey, 'hex'), Buffer.from(secretKey, 'hex'),\n  );\n  return Buffer.concat([nonce, encrypted]).toString('base64');\n}\n\nfunction decryptMessage(message: string, publicKey: string, secretKey: string) {\n  const fullBuffer = Buffer.from(message, 'base64');\n  const nonce = fullBuffer.subarray(0, NONCE_SIZE);\n  const encrypted = fullBuffer.subarray(NONCE_SIZE);\n  const decrypted = nacl.box.open(\n    encrypted,\n    nonce,\n    Buffer.from(publicKey, 'hex'),\n    Buffer.from(secretKey, 'hex'),\n  );\n  const jsonText = new TextDecoder('utf-8').decode(decrypted!);\n  return JSON.parse(jsonText);\n}\n","import type {\n  CHAIN, ConnectEventError, ConnectItemReply, DeviceInfo,\n} from '@tonconnect/protocol';\n\nexport interface LocalConnectEventSuccess {\n  event: 'connect';\n  id: number;\n  payload: {\n    items: ConnectItemReply[];\n    device?: DeviceInfo; // We add it later in contentScript.js\n  };\n}\n\nexport interface TransactionPayload {\n  valid_until?: number;\n  network?: CHAIN;\n  from?: string; // https://github.com/ton-blockchain/ton-connect/blob/main/wallet-guidelines.md#multi-accounts\n  messages: TransactionPayloadMessage[];\n}\n\nexport interface TransactionPayloadMessage {\n  address: string;\n  amount: string;\n  payload?: string;\n  stateInit?: string;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum CONNECT_EVENT_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  MANIFEST_NOT_FOUND_ERROR = 2,\n  MANIFEST_CONTENT_ERROR = 3,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum SEND_TRANSACTION_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum SIGN_DATA_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\nexport type AllErrorCodes = CONNECT_EVENT_ERROR_CODES | SEND_TRANSACTION_ERROR_CODES | SIGN_DATA_ERROR_CODES;\nexport type LocalConnectEvent = LocalConnectEventSuccess | ConnectEventError;\n\nexport interface ApiTonConnectProof {\n  timestamp: number;\n  domain: string;\n  payload: string;\n}\n","export function isValidString(value: any, maxLength = 100) {\n  return typeof value === 'string' && value.length <= maxLength;\n}\n\nexport function isValidUrl(url: string) {\n  const isString = isValidString(url, 255);\n  if (!isString) return false;\n\n  try {\n    // eslint-disable-next-line no-new\n    new URL(url);\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n","import type { ApiSwapHistoryItem } from './backend';\nimport type { ApiTransaction } from './misc';\n\nexport type ApiTransactionActivity = ApiTransaction & {\n  id: string;\n  kind: 'transaction';\n};\n\nexport type ApiSwapActivity = ApiSwapHistoryItem & {\n  kind: 'swap';\n  shouldHide?: boolean;\n};\n\nexport type ApiActivity = ApiTransactionActivity | ApiSwapActivity;\n","import type { DieselStatus } from '../../global/types';\nimport type { ApiLoyaltyType } from './misc';\n\nexport type ApiSwapEstimateRequest = {\n  from: string;\n  to: string;\n  slippage: number;\n  fromAmount?: string;\n  toAmount?: string;\n  fromAddress: string;\n  shouldTryDiesel?: boolean;\n};\n\nexport type ApiSwapEstimateResponse = ApiSwapEstimateRequest & {\n  toAmount: string;\n  fromAmount: string;\n  toMinAmount: string;\n  networkFee: number;\n  realNetworkFee: number;\n  swapFee: string;\n  swapFeePercent: number;\n  impact: number;\n  dexLabel: string;\n  dieselStatus: DieselStatus;\n};\n\nexport type ApiSwapBuildRequest\n  = Omit<ApiSwapEstimateResponse, 'impact' | 'swapFeePercent' | 'realNetworkFee' | 'dieselStatus'>;\n\nexport type ApiSwapTransfer = {\n  toAddress: string;\n  amount: string;\n  payload: string;\n};\n\nexport type ApiSwapBuildResponse = {\n  id: string;\n  transfers: ApiSwapTransfer[];\n};\n\n// Swap assets and history\nexport type ApiSwapAsset = {\n  name: string;\n  symbol: string;\n  blockchain: string;\n  slug: string;\n  decimals: number;\n  isPopular: boolean;\n  price: number;\n  priceUsd: number;\n  image?: string;\n  contract?: string;\n  keywords?: string[];\n  color?: string;\n};\n\nexport type ApiSwapTonAsset = ApiSwapAsset & {\n  blockchain: 'ton';\n};\n\nexport type ApiSwapPairAsset = {\n  symbol: string;\n  slug: string;\n  contract?: string;\n  isReverseProhibited?: boolean;\n};\n\nexport type ApiSwapHistoryItem = {\n  id: string;\n  timestamp: number;\n  lt?: number;\n  from: string;\n  fromAmount: string;\n  to: string;\n  toAmount: string;\n  networkFee: number;\n  swapFee: string;\n  status: 'pending' | 'completed' | 'failed' | 'expired';\n  txIds: string[];\n  cex?: {\n    payinAddress: string;\n    payoutAddress: string;\n    payinExtraId?: string;\n    status: ApiSwapCexTransactionStatus;\n    transactionId: string;\n  };\n};\n\n// Cross-chain centralized swap\ntype ApiSwapCexTransactionStatus = 'new' | 'waiting' | 'confirming' | 'exchanging' | 'sending' | 'finished'\n| 'failed' | 'refunded' | 'hold' | 'overdue' | 'expired';\n\nexport type ApiSwapCexEstimateRequest = {\n  from: string;\n  fromAmount: string;\n  to: string;\n};\n\nexport type ApiSwapCexEstimateResponse = {\n  from: string;\n  fromAmount: string;\n  to: string;\n  toAmount: string;\n  swapFee: string;\n  // additional\n  fromMin: string;\n  fromMax: string;\n};\n\nexport type ApiSwapCexCreateTransactionRequest = {\n  from: string;\n  fromAmount: string;\n  fromAddress: string; // Always TON address\n  to: string;\n  toAddress: string; // TON or other crypto address\n  payoutExtraId?: string;\n  swapFee: string; // from estimate request\n  networkFee?: number; // only for sent TON\n};\n\nexport type ApiSwapCexCreateTransactionResponse = {\n  request: ApiSwapCexCreateTransactionRequest;\n  swap: ApiSwapHistoryItem;\n};\n\n// Staking\nexport type ApiStakingCommonData = {\n  liquid: {\n    currentRate: number;\n    nextRoundRate: number;\n    collection?: string;\n    apy: number;\n    available: bigint;\n    loyaltyApy: {\n      [key in ApiLoyaltyType]: number;\n    };\n  };\n  round: {\n    start: number;\n    end: number;\n    unlock: number;\n  };\n  prevRound: {\n    start: number;\n    end: number;\n    unlock: number;\n  };\n  bigInt: bigint;\n};\n\nexport type ApiSite = {\n  url: string;\n  name: string;\n  icon: string;\n  manifestUrl: string;\n  description: string;\n  canBeRestricted: boolean;\n  isExternal: boolean;\n};\n\n// Prices\nexport type ApiPriceHistoryPeriod = '1D' | '7D' | '1M' | '3M' | '1Y' | 'ALL';\n\n// Vesting\nexport type ApiVestingPartStatus = 'frozen' | 'ready' | 'unfrozen' | 'missed';\n\nexport type ApiVestingInfo = {\n  id: number;\n  title: string;\n  startsAt: Date;\n  initialAmount: number;\n  parts: {\n    id: number;\n    time: string;\n    timeEnd: string;\n    amount: number;\n    status: ApiVestingPartStatus;\n  }[];\n};\n","export enum ApiCommonError {\n  Unexpected = 'Unexpected',\n  ServerError = 'ServerError',\n  DebugError = 'DebugError',\n  UnsupportedVersion = 'UnsupportedVersion',\n}\n\nexport enum ApiTransactionDraftError {\n  InvalidAmount = 'InvalidAmount',\n  InvalidToAddress = 'InvalidToAddress',\n  InsufficientBalance = 'InsufficientBalance',\n  DomainNotResolved = 'DomainNotResolved',\n  WalletNotInitialized = 'WalletNotInitialized',\n  InvalidAddressFormat = 'InvalidAddressFormat',\n  InactiveContract = 'InactiveContract',\n}\n\nexport enum ApiTransactionError {\n  PartialTransactionFailure = 'PartialTransactionFailure',\n  IncorrectDeviceTime = 'IncorrectDeviceTime',\n  InsufficientBalance = 'InsufficientBalance',\n  UnsuccesfulTransfer = 'UnsuccesfulTransfer',\n  NotSupportedHardwareOperation = 'NotSupportedHardwareOperation',\n  HardwareBlindSigningNotEnabled = 'HardwareBlindSigningNotEnabled',\n  WrongAddress = 'WrongAddress',\n  WrongNetwork = 'WrongNetwork',\n}\n\nexport type ApiAnyDisplayError = ApiCommonError | ApiTransactionDraftError | ApiTransactionError;\n","export * from './updates';\nexport * from './misc';\nexport * from './payload';\nexport * from './errors';\nexport * from './backend';\nexport * from './storage';\nexport * from './activity';\n","import type { DNS_ZONES_MAP } from '../blockchains/ton/constants';\nimport type { ApiParsedPayload } from './payload';\nimport type { ApiSseOptions } from './storage';\n\nexport type ApiWalletVersion = 'simpleR1'\n| 'simpleR2'\n| 'simpleR3'\n| 'v2R1'\n| 'v2R2'\n| 'v3R1'\n| 'v3R2'\n| 'v4R2'\n| 'W5';\n\nexport type ApiBlockchainKey = 'ton';\nexport type ApiNetwork = 'mainnet' | 'testnet';\nexport type ApiLedgerDriver = 'HID' | 'USB';\n\nexport interface AccountIdParsed {\n  id: number;\n  blockchain: ApiBlockchainKey;\n  network: ApiNetwork;\n}\n\nexport interface ApiInitArgs {\n  isElectron: boolean;\n  isNativeBottomSheet: boolean;\n  isIosApp: boolean;\n  isAndroidApp: boolean;\n}\n\nexport interface ApiBaseToken {\n  name: string;\n  symbol: string;\n  slug: string;\n  decimals: number;\n  minterAddress?: string;\n  image?: string;\n  isPopular?: boolean;\n  keywords?: string[];\n  cmcSlug?: string;\n  color?: string;\n}\n\nexport interface ApiToken extends ApiBaseToken {\n  quote: ApiTokenPrice;\n}\n\nexport interface ApiTokenPrice {\n  slug: string;\n  price: number;\n  priceUsd: number;\n  percentChange24h: number;\n}\n\nexport type ApiKnownAddresses = Record<string, ApiAddressInfo>;\n\nexport interface ApiAddressInfo {\n  name?: string;\n  isScam?: boolean;\n  isMemoRequired?: boolean;\n}\n\nexport type ApiTxIdBySlug = Record<string, string | undefined>;\nexport type ApiTransactionType = 'stake' | 'unstake' | 'unstakeRequest' | 'swap'\n| 'nftTransferred' | 'nftReceived' | undefined;\n\nexport interface ApiTransaction {\n  txId: string;\n  timestamp: number;\n  amount: bigint;\n  fromAddress: string;\n  toAddress: string;\n  comment?: string;\n  encryptedComment?: string;\n  fee: bigint;\n  slug: string;\n  isIncoming: boolean;\n  normalizedAddress: string;\n  inMsgHash: string;\n  shouldHide?: boolean;\n  type?: ApiTransactionType;\n  metadata?: ApiTransactionMetadata;\n  nft?: ApiNft;\n}\n\nexport interface ApiTransactionMetadata extends ApiAddressInfo {\n}\n\nexport interface ApiNft {\n  index: number;\n  name?: string;\n  address: string;\n  thumbnail: string;\n  image: string;\n  description?: string;\n  collectionName?: string;\n  collectionAddress?: string;\n  isOnSale: boolean;\n  isHidden?: boolean;\n  isOnFragment?: boolean;\n  isScam?: boolean;\n}\n\nexport type ApiHistoryList = Array<[number, number]>;\nexport type ApiTokenSimple = Omit<ApiToken, 'quote'>;\n\nexport type ApiStakingType = 'nominators' | 'liquid';\n\nexport type ApiStakingState = {\n  type: 'nominators';\n  amount: bigint;\n  pendingDepositAmount: bigint;\n  isUnstakeRequested: boolean;\n} | {\n  type: 'liquid';\n  tokenAmount: bigint;\n  amount: bigint;\n  unstakeRequestAmount: bigint;\n  apy: number;\n  instantAvailable: bigint;\n};\n\nexport interface ApiNominatorsPool {\n  address: string;\n  apy: number;\n  start: number;\n  end: number;\n}\n\nexport interface ApiBackendStakingState {\n  balance: bigint;\n  totalProfit: bigint;\n  type?: ApiStakingType;\n  nominatorsPool: ApiNominatorsPool;\n  loyaltyType?: ApiLoyaltyType;\n  shouldUseNominators?: boolean;\n  stakedAt?: number;\n}\n\nexport type ApiStakingHistory = {\n  timestamp: number;\n  profit: string;\n}[];\n\nexport interface ApiDappPermissions {\n  isAddressRequired?: boolean;\n  isPasswordRequired?: boolean;\n}\n\nexport type ApiDappRequest = {\n  origin?: string;\n  accountId?: string;\n  sseOptions?: ApiSseOptions;\n} | {\n  origin: string;\n  accountId: string;\n};\n\nexport interface ApiDappTransfer {\n  toAddress: string;\n  amount: bigint;\n  rawPayload?: string;\n  payload?: ApiParsedPayload;\n  stateInit?: string;\n  isScam?: boolean;\n}\n\nexport interface ApiSubmitTransferOptions {\n  accountId: string;\n  password: string;\n  toAddress: string;\n  amount: bigint;\n  comment?: string;\n  tokenAddress?: string;\n  fee?: bigint;\n  shouldEncrypt?: boolean;\n  isBase64Data?: boolean;\n  withDiesel?: boolean;\n  dieselAmount?: bigint;\n}\n\nexport enum Workchain {\n  MasterChain = -1,\n  BaseChain = 0,\n}\n\nexport interface ApiSignedTransfer {\n  base64: string;\n  seqno: number;\n  params: Omit<ApiLocalTransactionParams, 'inMsgHash'>;\n}\n\nexport type ApiLocalTransactionParams = Omit<\nApiTransaction, 'txId' | 'timestamp' | 'isIncoming' | 'normalizedAddress'\n> & {\n  normalizedAddress?: string;\n};\n\nexport type ApiBaseCurrency = 'USD' | 'EUR' | 'RUB' | 'CNY' | 'BTC' | 'TON';\n\nexport enum ApiLiquidUnstakeMode {\n  Default,\n  Instant,\n  BestRate,\n}\n\nexport type ApiLoyaltyType = 'black' | 'platinum' | 'gold' | 'silver' | 'standard';\n\nexport type ApiBalanceBySlug = Record<string, bigint>;\n\nexport type ApiWalletInfo = {\n  address: string;\n  version: ApiWalletVersion;\n  balance: bigint;\n  isInitialized: boolean;\n  lastTxId?: string;\n};\n\nexport type ApiDnsZone = keyof typeof DNS_ZONES_MAP;\n\n// Country codes from ISO-3166-1 spec\nexport type ApiCountryCode = 'AF' | 'AX' | 'AL' | 'DZ' | 'AS' | 'AD' | 'AO' | 'AI' | 'AQ' | 'AG' | 'AR'\n| 'AM' | 'AW' | 'AU' | 'AT' | 'AZ' | 'BS' | 'BH' | 'BD' | 'BB' | 'BY' | 'BE' | 'BZ' | 'BJ' | 'BM'\n| 'BT' | 'BO' | 'BQ' | 'BA' | 'BW' | 'BV' | 'BR' | 'IO' | 'BN' | 'BG' | 'BF' | 'BI' | 'CV' | 'KH'\n| 'CM' | 'CA' | 'KY' | 'CF' | 'TD' | 'CL' | 'CN' | 'CX' | 'CC' | 'CO' | 'KM' | 'CG' | 'CD' | 'CK'\n| 'CR' | 'CI' | 'HR' | 'CU' | 'CW' | 'CY' | 'CZ' | 'DK' | 'DJ' | 'DM' | 'DO' | 'EC' | 'EG' | 'SV'\n| 'GQ' | 'ER' | 'EE' | 'SZ' | 'ET' | 'FK' | 'FO' | 'FJ' | 'FI' | 'FR' | 'GF' | 'PF' | 'TF' | 'GA'\n| 'GM' | 'GE' | 'DE' | 'GH' | 'GI' | 'GR' | 'GL' | 'GD' | 'GP' | 'GU' | 'GT' | 'GG' | 'GN' | 'GW'\n| 'GY' | 'HT' | 'HM' | 'VA' | 'HN' | 'HK' | 'HU' | 'IS' | 'IN' | 'ID' | 'IR' | 'IQ' | 'IE' | 'IM'\n| 'IL' | 'IT' | 'JM' | 'JP' | 'JE' | 'JO' | 'KZ' | 'KE' | 'KI' | 'KP' | 'KR' | 'KW' | 'KG' | 'LA'\n| 'LV' | 'LB' | 'LS' | 'LR' | 'LY' | 'LI' | 'LT' | 'LU' | 'MO' | 'MG' | 'MW' | 'MY' | 'MV' | 'ML'\n| 'MT' | 'MH' | 'MQ' | 'MR' | 'MU' | 'YT' | 'MX' | 'FM' | 'MD' | 'MC' | 'MN' | 'ME' | 'MS' | 'MA'\n| 'MZ' | 'MM' | 'NA' | 'NR' | 'NP' | 'NL' | 'NC' | 'NZ' | 'NI' | 'NE' | 'NG' | 'NU' | 'NF' | 'MP'\n| 'NO' | 'OM' | 'PK' | 'PW' | 'PS' | 'PA' | 'PG' | 'PY' | 'PE' | 'PH' | 'PN' | 'PL' | 'PT' | 'PR'\n| 'QA' | 'MK' | 'RO' | 'RU' | 'RW' | 'RE' | 'BL' | 'SH' | 'KN' | 'LC' | 'MF' | 'PM' | 'VC' | 'WS'\n| 'SM' | 'ST' | 'SA' | 'SN' | 'RS' | 'SC' | 'SL' | 'SG' | 'SX' | 'SK' | 'SI' | 'SB' | 'SO' | 'ZA'\n| 'GS' | 'SS' | 'ES' | 'LK' | 'SD' | 'SR' | 'SJ' | 'SE' | 'CH' | 'SY' | 'TW' | 'TJ' | 'TZ' | 'TH'\n| 'TL' | 'TG' | 'TK' | 'TO' | 'TT' | 'TN' | 'TR' | 'TM' | 'TC' | 'TV' | 'UG' | 'UA' | 'AE' | 'GB'\n| 'US' | 'UM' | 'UY' | 'UZ' | 'VU' | 'VE' | 'VN' | 'VG' | 'VI' | 'WF' | 'EH' | 'YE' | 'ZM' | 'ZW';\n","import type { DNS_CATEGORY_HASH_MAP } from '../blockchains/ton/constants';\nimport type { ApiNft } from './misc';\n\nexport type ApiCommentPayload = {\n  type: 'comment';\n  comment: string;\n};\n\nexport type ApiEncryptedCommentPayload = {\n  type: 'encrypted-comment';\n  encryptedComment: string;\n};\n\nexport type ApiNftTransferPayload = {\n  type: 'nft:transfer';\n  queryId: bigint;\n  newOwner: string;\n  responseDestination: string;\n  customPayload?: string;\n  forwardAmount: bigint;\n  forwardPayload?: string;\n  // Specific to UI\n  nftAddress: string;\n  nftName?: string;\n  nft?: ApiNft;\n  comment?: string;\n};\n\nexport type ApiNftOwnershipAssignedPayload = {\n  type: 'nft:ownership-assigned';\n  queryId: bigint;\n  prevOwner: string;\n  // Specific to UI\n  nftAddress: string;\n  nft?: ApiNft;\n  comment?: string;\n};\n\nexport type ApiTokensTransferPayload = {\n  type: 'tokens:transfer';\n  queryId: bigint;\n  amount: bigint;\n  destination: string;\n  responseDestination: string;\n  customPayload?: string;\n  forwardAmount: bigint;\n  forwardPayload?: string;\n  // Specific to UI\n  slug: string;\n};\n\nexport type ApiTokensTransferNonStandardPayload = {\n  type: 'tokens:transfer-non-standard';\n  queryId: bigint;\n  amount: bigint;\n  destination: string;\n  // Specific to UI\n  slug: string;\n};\n\nexport type ApiUnknownPayload = {\n  type: 'unknown';\n  base64: string;\n};\n\nexport type ApiTokensBurnPayload = {\n  type: 'tokens:burn';\n  queryId: bigint;\n  amount: bigint;\n  address: string;\n  customPayload?: string;\n  // Specific to UI\n  slug: string;\n  isLiquidUnstakeRequest: boolean;\n};\n\nexport type ApiLiquidStakingDepositPayload = {\n  type: 'liquid-staking:deposit';\n  queryId: bigint;\n  appId?: bigint;\n};\n\nexport type ApiLiquidStakingWithdrawalNftPayload = {\n  type: 'liquid-staking:withdrawal-nft';\n  queryId: bigint;\n};\n\nexport type ApiLiquidStakingWithdrawalPayload = {\n  type: 'liquid-staking:withdrawal';\n  queryId: bigint;\n};\n\nexport type ApiTokenBridgePaySwap = {\n  type: 'token-bridge:pay-swap';\n  queryId: bigint;\n  swapId: string;\n};\n\nexport type ApiDnsChangeRecord = {\n  type: 'dns:change-record';\n  queryId: bigint;\n  record: {\n    type: keyof typeof DNS_CATEGORY_HASH_MAP;\n    value?: string;\n    flags?: number;\n  } | {\n    type: 'unknown';\n    key: string;\n    value?: string;\n  };\n  // Specific to UI\n  domain: string;\n};\n\nexport type ApiVestingAddWhitelistPayload = {\n  type: 'vesting:add-whitelist';\n  queryId: bigint;\n  address: string;\n};\n\nexport type ApiSingleNominatorWithdrawPayload = {\n  type: 'single-nominator:withdraw';\n  queryId: bigint;\n  amount: bigint;\n};\n\nexport type ApiSingleNominatorChangeValidatorPayload = {\n  type: 'single-nominator:change-validator';\n  queryId: bigint;\n  address: string;\n};\n\nexport type ApiLiquidStakingVotePayload = {\n  type: 'liquid-staking:vote';\n  queryId: bigint;\n  votingAddress: string;\n  expirationDate: number;\n  vote: boolean;\n  needConfirmation: boolean;\n};\n\nexport type ApiParsedPayload = ApiCommentPayload\n| ApiEncryptedCommentPayload\n| ApiNftTransferPayload\n| ApiNftOwnershipAssignedPayload\n| ApiTokensTransferPayload\n| ApiTokensTransferNonStandardPayload\n| ApiUnknownPayload\n| ApiTokensBurnPayload\n| ApiLiquidStakingDepositPayload\n| ApiLiquidStakingWithdrawalPayload\n| ApiLiquidStakingWithdrawalNftPayload\n| ApiTokenBridgePaySwap\n| ApiDnsChangeRecord\n| ApiVestingAddWhitelistPayload\n| ApiSingleNominatorWithdrawPayload\n| ApiSingleNominatorChangeValidatorPayload\n| ApiLiquidStakingVotePayload;\n","import type { ApiLedgerDriver, ApiWalletVersion } from './misc';\n\nexport interface ApiAccount {\n  address: string;\n  publicKey: string;\n  version: ApiWalletVersion;\n  ledger?: {\n    index: number;\n    driver: ApiLedgerDriver;\n    deviceId?: string;\n    deviceName?: string;\n  };\n  authToken?: string;\n  isInitialized?: boolean;\n}\n\nexport interface ApiDappMetadata {\n  origin: string;\n  url: string;\n  name: string;\n  iconUrl: string;\n  manifestUrl: string;\n}\n\nexport interface ApiDapp extends ApiDappMetadata {\n  connectedAt: number;\n  sse?: ApiSseOptions;\n}\n\nexport interface ApiSseOptions {\n  clientId: string;\n  appClientId: string;\n  secretKey: string;\n  lastOutputId: number;\n}\n\nexport type ApiDappsState = Record<string, Record<string, ApiDapp>>;\n","import type { ApiTonConnectProof } from '../tonConnect/types';\nimport type { ApiActivity, ApiTransactionActivity } from './activity';\nimport type { ApiStakingCommonData, ApiSwapAsset, ApiVestingInfo } from './backend';\nimport type { ApiAnyDisplayError } from './errors';\nimport type {\n  ApiBackendStakingState,\n  ApiBalanceBySlug,\n  ApiBaseCurrency,\n  ApiCountryCode,\n  ApiDappTransfer,\n  ApiNft,\n  ApiStakingState,\n  ApiToken,\n  ApiWalletInfo,\n  ApiWalletVersion,\n} from './misc';\nimport type { ApiParsedPayload } from './payload';\nimport type { ApiAccount, ApiDapp } from './storage';\n\nexport type ApiUpdateBalances = {\n  type: 'updateBalances';\n  accountId: string;\n  balancesToUpdate: ApiBalanceBySlug;\n};\n\nexport type ApiUpdateNewActivities = {\n  type: 'newActivities';\n  accountId: string;\n  activities: ApiActivity[];\n  noForward?: boolean; // Forbid cyclic update redirection to/from NBS\n};\n\nexport type ApiUpdateNewLocalTransaction = {\n  type: 'newLocalTransaction';\n  accountId: string;\n  transaction: ApiTransactionActivity;\n};\n\nexport type ApiUpdateTokens = {\n  type: 'updateTokens';\n  tokens: Record<string, ApiToken>;\n  baseCurrency: ApiBaseCurrency;\n};\n\nexport type ApiUpdateSwapTokens = {\n  type: 'updateSwapTokens';\n  tokens: Record<string, ApiSwapAsset>;\n};\n\nexport type ApiUpdateCreateTransaction = {\n  type: 'createTransaction';\n  promiseId: string;\n  toAddress: string;\n  amount: bigint;\n  fee: bigint;\n  comment?: string;\n  rawPayload?: string;\n  parsedPayload?: ApiParsedPayload;\n  stateInit?: string;\n};\n\nexport type ApiUpdateCreateSignature = {\n  type: 'createSignature';\n  promiseId: string;\n  dataHex: string;\n};\n\nexport type ApiUpdateShowError = {\n  type: 'showError';\n  error?: ApiAnyDisplayError | string;\n};\n\nexport type ApiUpdateStaking = {\n  type: 'updateStaking';\n  accountId: string;\n  stakingCommonData: ApiStakingCommonData;\n  stakingState: ApiStakingState;\n  backendStakingState: ApiBackendStakingState;\n};\n\nexport type ApiUpdateActiveDapp = {\n  type: 'updateActiveDapp';\n  accountId: string;\n  origin?: string;\n};\n\nexport type ApiUpdateDappSendTransactions = {\n  type: 'dappSendTransactions';\n  promiseId: string;\n  accountId: string;\n  dapp: ApiDapp;\n  transactions: ApiDappTransfer[];\n  fee: bigint;\n  vestingAddress?: string;\n};\n\nexport type ApiUpdateDappConnect = {\n  type: 'dappConnect';\n  promiseId: string;\n  accountId: string;\n  dapp: ApiDapp;\n  permissions: {\n    address: boolean;\n    proof: boolean;\n  };\n  proof?: ApiTonConnectProof;\n};\n\nexport type ApiUpdateDappConnectComplete = {\n  type: 'dappConnectComplete';\n};\n\nexport type ApiUpdateDappDisconnect = {\n  type: 'dappDisconnect';\n  accountId: string;\n  origin: string;\n};\n\nexport type ApiUpdateDappLoading = {\n  type: 'dappLoading';\n  connectionType: 'connect' | 'sendTransaction';\n  isSse?: boolean;\n  accountId?: string;\n};\n\nexport type ApiUpdateDappCloseLoading = {\n  type: 'dappCloseLoading';\n};\n\nexport type ApiUpdateDapps = {\n  type: 'updateDapps';\n};\n\nexport type ApiUpdatePrepareTransaction = {\n  type: 'prepareTransaction';\n  toAddress: string;\n  amount?: bigint;\n  comment?: string;\n  binPayload?: string;\n};\n\nexport type ApiUpdateProcessDeeplink = {\n  type: 'processDeeplink';\n  url: string;\n};\n\nexport type ApiUpdateNfts = {\n  type: 'updateNfts';\n  accountId: string;\n  nfts: ApiNft[];\n};\n\nexport type ApiUpdateNftReceived = {\n  type: 'nftReceived';\n  accountId: string;\n  nftAddress: string;\n  nft: ApiNft;\n};\n\nexport type ApiUpdateNftSent = {\n  type: 'nftSent';\n  accountId: string;\n  nftAddress: string;\n};\n\nexport type ApiUpdateNftPutUpForSale = {\n  type: 'nftPutUpForSale';\n  accountId: string;\n  nftAddress: string;\n};\n\nexport type ApiNftUpdate = ApiUpdateNftReceived | ApiUpdateNftSent | ApiUpdateNftPutUpForSale;\n\nexport type ApiUpdateAccount = {\n  type: 'updateAccount';\n  accountId: string;\n  partial: Partial<ApiAccount>;\n};\n\nexport type ApiUpdateConfig = {\n  type: 'updateConfig';\n  isLimited: boolean;\n  isCopyStorageEnabled: boolean;\n  supportAccountsCount?: number;\n  countryCode?: ApiCountryCode;\n};\n\nexport type ApiUpdateWalletVersions = {\n  type: 'updateWalletVersions';\n  accountId: string;\n  currentVersion: ApiWalletVersion;\n  versions: ApiWalletInfo[];\n};\n\nexport type ApiOpenUrl = {\n  type: 'openUrl';\n  url: string;\n  isExternal?: boolean;\n  title?: string;\n  subtitle?: string;\n};\n\nexport type ApiRequestReconnect = {\n  type: 'requestReconnectApi';\n};\n\nexport type ApiUpdateIncorrectTime = {\n  type: 'incorrectTime';\n};\n\nexport type ApiUpdateVesting = {\n  type: 'updateVesting';\n  accountId: string;\n  vestingInfo: ApiVestingInfo[];\n};\n\nexport type ApiUpdatingStatus = {\n  type: 'updatingStatus';\n  kind: 'balance' | 'activities';\n  isUpdating?: boolean;\n};\n\nexport type ApiUpdate =\n  | ApiUpdateBalances\n  | ApiUpdateNewActivities\n  | ApiUpdateNewLocalTransaction\n  | ApiUpdateTokens\n  | ApiUpdateSwapTokens\n  | ApiUpdateCreateTransaction\n  | ApiUpdateCreateSignature\n  | ApiUpdateStaking\n  | ApiUpdateActiveDapp\n  | ApiUpdateDappSendTransactions\n  | ApiUpdateDappConnect\n  | ApiUpdateDappConnectComplete\n  | ApiUpdateDappDisconnect\n  | ApiUpdateDappLoading\n  | ApiUpdateDappCloseLoading\n  | ApiUpdateDapps\n  | ApiUpdatePrepareTransaction\n  | ApiUpdateProcessDeeplink\n  | ApiUpdateShowError\n  | ApiUpdateNfts\n  | ApiNftUpdate\n  | ApiUpdateAccount\n  | ApiUpdateConfig\n  | ApiUpdateWalletVersions\n  | ApiOpenUrl\n  | ApiRequestReconnect\n  | ApiUpdateIncorrectTime\n  | ApiUpdateVesting\n  | ApiUpdatingStatus;\n\nexport type OnApiUpdate = (update: ApiUpdate) => void;\n","import type { ApiBaseCurrency, ApiSwapAsset, ApiWalletVersion } from './api/types';\nimport type { LangItem, TokenPeriod } from './global/types';\n\nexport const APP_ENV = process.env.APP_ENV;\n\nexport const APP_NAME = process.env.APP_NAME || 'MyTonWallet';\nexport const APP_VERSION = process.env.APP_VERSION!;\nexport const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;\n\nexport const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\nexport const DEBUG_MORE = false;\n\nexport const IS_PRODUCTION = APP_ENV === 'production';\nexport const IS_TEST = APP_ENV === 'test';\nexport const IS_PERF = APP_ENV === 'perf';\nexport const IS_EXTENSION = process.env.IS_EXTENSION === '1';\nexport const IS_FIREFOX_EXTENSION = process.env.IS_FIREFOX_EXTENSION === '1';\nexport const IS_PACKAGED_ELECTRON = process.env.IS_PACKAGED_ELECTRON === '1';\nexport const IS_CAPACITOR = process.env.IS_CAPACITOR === '1';\nexport const IS_ANDROID_DIRECT = process.env.IS_ANDROID_DIRECT === '1';\n\nexport const ELECTRON_HOST_URL = 'https://dumb-host';\nexport const INACTIVE_MARKER = '[Inactive]';\nexport const PRODUCTION_URL = 'https://mytonwallet.app';\nexport const BETA_URL = 'https://beta.mytonwallet.app';\nexport const APP_REPO_URL = 'https://github.com/mytonwalletorg/mytonwallet';\nexport const BASE_URL = process.env.BASE_URL;\n\nexport const BOT_USERNAME = process.env.BOT_USERNAME || 'MyTonWalletBot';\n\nexport const SWAP_FEE_ADDRESS = process.env.SWAP_FEE_ADDRESS || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';\n\nexport const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;\n\nexport const DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\n\nexport const PIN_LENGTH = 4;\nexport const NATIVE_BIOMETRICS_USERNAME = 'MyTonWallet';\nexport const NATIVE_BIOMETRICS_SERVER = 'https://mytonwallet.app';\n\nexport const MNEMONIC_COUNT = 24;\nexport const PRIVATE_KEY_HEX_LENGTH = 64;\nexport const MNEMONIC_CHECK_COUNT = 3;\n\nexport const MOBILE_SCREEN_MAX_WIDTH = 700; // px\n\nexport const ANIMATION_END_DELAY = 50;\n\nexport const ANIMATED_STICKER_TINY_SIZE_PX = 70;\nexport const ANIMATED_STICKER_SMALL_SIZE_PX = 110;\nexport const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;\nexport const ANIMATED_STICKER_DEFAULT_PX = 150;\nexport const ANIMATED_STICKER_BIG_SIZE_PX = 156;\nexport const ANIMATED_STICKER_HUGE_SIZE_PX = 192;\n\nexport const TON_SYMBOL = 'TON';\n\nexport const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;\n\nexport const DEFAULT_DECIMAL_PLACES = 9;\nexport const WHOLE_PART_DELIMITER = ' '; // https://www.compart.com/en/unicode/U+202F\n\nexport const DEFAULT_SLIPPAGE_VALUE = 5;\n\nexport const GLOBAL_STATE_CACHE_DISABLED = false;\nexport const GLOBAL_STATE_CACHE_KEY = 'mytonwallet-global-state';\n\nexport const ANIMATION_LEVEL_MIN = 0;\nexport const ANIMATION_LEVEL_MED = 1;\nexport const ANIMATION_LEVEL_MAX = 2;\nexport const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;\nexport const THEME_DEFAULT = 'system';\n\nexport const MAIN_ACCOUNT_ID = '0-ton-mainnet';\n\nexport const TONHTTPAPI_MAINNET_URL = process.env.TONHTTPAPI_MAINNET_URL\n  || 'https://tonhttpapi.mytonwallet.org/api/v2/jsonRPC';\nexport const TONHTTPAPI_MAINNET_API_KEY = process.env.TONHTTPAPI_MAINNET_API_KEY;\nexport const ELECTRON_TONHTTPAPI_MAINNET_API_KEY = process.env.ELECTRON_TONHTTPAPI_MAINNET_API_KEY;\nexport const TONHTTPAPI_V3_MAINNET_API_URL = process.env.TONHTTPAPI_V3_MAINNET_API_KEY\n  || 'https://tonhttpapi-v3.mytonwallet.org/api/v3';\nexport const TONAPIIO_MAINNET_URL = process.env.TONAPIIO_MAINNET_URL || 'https://tonapiio.mytonwallet.org';\n\nexport const TONHTTPAPI_TESTNET_URL = process.env.TONHTTPAPI_TESTNET_URL\n  || 'https://tonhttpapi-testnet.mytonwallet.org/api/v2/jsonRPC';\nexport const TONHTTPAPI_TESTNET_API_KEY = process.env.TONHTTPAPI_TESTNET_API_KEY;\nexport const ELECTRON_TONHTTPAPI_TESTNET_API_KEY = process.env.ELECTRON_TONHTTPAPI_TESTNET_API_KEY;\nexport const TONHTTPAPI_V3_TESTNET_API_URL = process.env.TONHTTPAPI_V3_TESTNET_API_KEY\n  || 'https://tonhttpapi-v3-testnet.mytonwallet.org/api/v3';\nexport const TONAPIIO_TESTNET_URL = process.env.TONAPIIO_TESTNET_URL || 'https://tonapiio-testnet.mytonwallet.org';\n\nexport const BRILLIANT_API_BASE_URL = process.env.BRILLIANT_API_BASE_URL || 'https://api.mytonwallet.org';\n\nexport const FRACTION_DIGITS = 9;\nexport const SHORT_FRACTION_DIGITS = 2;\n\nexport const SUPPORT_USERNAME = 'MyTonWalletSupport';\nexport const MY_TON_WALLET_PROMO_URL = 'https://mytonwallet.io';\nexport const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';\nexport const TON_EXPLORER_BASE_MAINNET_URL = 'https://tonviewer.com/';\nexport const TON_EXPLORER_BASE_TESTNET_URL = 'https://testnet.tonviewer.com/';\nexport const TON_EXPLORER_NAME = 'Tonviewer';\nexport const TOKEN_EXPLORER_MAINNET_URL = 'https://tonviewer.com/{address}?section=jetton';\nexport const TOKEN_EXPLORER_TESTNET_URL = 'https://testnet.tonviewer.com/{address}?section=jetton';\nexport const TOKEN_EXPLORER_NAME = 'TonViewer';\nexport const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';\nexport const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';\nexport const EMPTY_HASH_VALUE = 'NOHASH';\n\nexport const CHANGELLY_SUPPORT_EMAIL = 'support@changelly.com';\nexport const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';\nexport const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';\nexport const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';\nexport const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';\nexport const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';\nexport const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hour\n\nexport const TONCOIN_SLUG = 'toncoin';\nexport const DEFAULT_SWAP_SECOND_TOKEN_SLUG = 'ton-eqcxe6mutq'; // USD₮\nexport const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = 'usdtrx';\n\nexport const PROXY_HOSTS = process.env.PROXY_HOSTS;\n\nexport const TINY_TRANSFER_MAX_COST = 0.01;\n\nexport const LANG_CACHE_NAME = 'mtw-lang-125';\n\nexport const LANG_LIST: LangItem[] = [{\n  langCode: 'en',\n  name: 'English',\n  nativeName: 'English',\n  rtl: false,\n}, {\n  langCode: 'es',\n  name: 'Spanish',\n  nativeName: 'Español',\n  rtl: false,\n}, {\n  langCode: 'ru',\n  name: 'Russian',\n  nativeName: 'Русский',\n  rtl: false,\n}, {\n  langCode: 'zh-Hans',\n  name: 'Chinese (Simplified)',\n  nativeName: '简体',\n  rtl: false,\n}, {\n  langCode: 'zh-Hant',\n  name: 'Chinese (Traditional)',\n  nativeName: '繁體',\n  rtl: false,\n}, {\n  langCode: 'tr',\n  name: 'Turkish',\n  nativeName: 'Türkçe',\n  rtl: false,\n}, {\n  langCode: 'de',\n  name: 'German',\n  nativeName: 'Deutsch',\n  rtl: false,\n}, {\n  langCode: 'th',\n  name: 'Thai',\n  nativeName: 'ไทย',\n  rtl: false,\n}, {\n  langCode: 'uk',\n  name: 'Ukrainian',\n  nativeName: 'Українська',\n  rtl: false,\n}, {\n  langCode: 'pl',\n  name: 'Polish',\n  nativeName: 'Polski',\n  rtl: false,\n}];\n\nexport const STAKING_CYCLE_DURATION_MS = 131072000; // 36.4 hours\nexport const VALIDATION_PERIOD_MS = 65536000; // 18.2 h.\nexport const ONE_TON = 1000000000n;\nexport const MIN_BALANCE_FOR_UNSTAKE = 1020000000n; // 1.02 TON\nexport const STAKING_FORWARD_AMOUNT = ONE_TON;\nexport const DEFAULT_FEE = 15000000n; // 0.015 TON\n\nexport const STAKING_POOLS = process.env.STAKING_POOLS ? process.env.STAKING_POOLS.split(' ') : [];\nexport const LIQUID_POOL = process.env.LIQUID_POOL || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';\nexport const LIQUID_JETTON = process.env.LIQUID_JETTON || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\nexport const STAKING_MIN_AMOUNT = ONE_TON;\nexport const NOMINATORS_STAKING_MIN_AMOUNT = ONE_TON * 10001n;\n\nexport const TONCONNECT_PROTOCOL_VERSION = 2;\nexport const TONCONNECT_WALLET_JSBRIDGE_KEY = 'mytonwallet';\n\nexport const NFT_FRAGMENT_COLLECTIONS = new Set([\n  '0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2', // Anonymous Telegram Numbers\n  '0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2', // Telegram Usernames\n]);\n\nexport const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\nexport const MYCOIN_TOKEN = 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w';\nexport const MYCOIN_SLUG = 'ton-eqcfvnlrbn';\nexport const MYCOIN_TOKEN_TESTNET = 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ';\nexport const MYCOIN_SLUG_TESTNET = 'ton-kqawlxpebw';\n\nexport const TOKEN_INFO = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    slug: TONCOIN_SLUG,\n    cmcSlug: TONCOIN_SLUG,\n    quote: {\n      slug: TONCOIN_SLUG,\n      price: 1.95,\n      priceUsd: 1.95,\n      percentChange24h: 0,\n    },\n    decimals: DEFAULT_DECIMAL_PLACES,\n  },\n};\n\nexport const TON_BLOCKCHAIN = 'ton';\n\nexport const INIT_SWAP_ASSETS: Record<string, ApiSwapAsset> = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    blockchain: TON_BLOCKCHAIN,\n    slug: TONCOIN_SLUG,\n    decimals: DEFAULT_DECIMAL_PLACES,\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n  'ton-eqcxe6mutq': {\n    name: 'Tether USD',\n    symbol: 'USD₮',\n    blockchain: TON_BLOCKCHAIN,\n    slug: 'ton-eqcxe6mutq',\n    decimals: 9,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    contract: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n};\n\nexport const MULTITAB_DATA_CHANNEL_NAME = 'mtw-multitab';\nexport const ACTIVE_TAB_STORAGE_KEY = 'mtw-active-tab';\n\nexport const INDEXED_DB_NAME = 'keyval-store';\nexport const INDEXED_DB_STORE_NAME = 'keyval';\n\nexport const WINDOW_PROVIDER_CHANNEL = 'windowProvider';\n\nexport const MIN_ASSETS_TAB_VIEW = 5;\n\nexport const DEFAULT_PRICE_CURRENCY = 'USD';\nexport const SHORT_CURRENCY_SYMBOL_MAP = {\n  USD: '$',\n  EUR: '€',\n  RUB: '₽',\n  CNY: '¥',\n};\nexport const CURRENCY_LIST: { value: ApiBaseCurrency; name: string }[] = [\n  {\n    value: 'USD',\n    name: 'US Dollar',\n  }, {\n    value: 'EUR',\n    name: 'Euro',\n  }, {\n    value: 'RUB',\n    name: 'Ruble',\n  }, {\n    value: 'CNY',\n    name: 'Yuan',\n  }, {\n    value: 'BTC',\n    name: 'Bitcoin',\n  }, {\n    value: TON_SYMBOL,\n    name: 'Toncoin',\n  },\n];\n\nexport const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';\n\nexport const DEFAULT_WALLET_VERSION: ApiWalletVersion = 'W5';\nexport const POPULAR_WALLET_VERSIONS: ApiWalletVersion[] = ['v3R1', 'v3R2', 'v4R2', 'W5'];\n\nexport const DEFAULT_TIMEOUT = 10000;\nexport const DEFAULT_RETRIES = 3;\nexport const DEFAULT_ERROR_PAUSE = 500;\n\nexport const HISTORY_PERIODS: TokenPeriod[] = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];\n\nexport const BROWSER_HISTORY_LIMIT = 10;\n\nexport const NFT_BATCH_SIZE = 4;\nexport const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';\nexport const BURN_CHUNK_DURATION_APPROX_SEC = 30;\nexport const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON\nexport const NOTCOIN_EXCHANGERS = [\n  'EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2',\n  'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ',\n  'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s',\n  'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm',\n  'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd',\n  'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD',\n  'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p',\n  'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO',\n  'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe',\n  'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-',\n  'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu',\n  'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH',\n  'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy',\n  'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT',\n  'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu',\n  'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw',\n] as const;\n\nexport const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';\nexport const CLAIM_AMOUNT = 30000000n; // 0.03 TON\nexport const CLAIM_COMMENT = 'claim';\n\n// eslint-disable-next-line max-len\nexport const RE_LINK_TEMPLATE = /((ftp|https?):\\/\\/)?(?<host>(www\\\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;\n// eslint-disable-next-line max-len\nexport const RE_TG_BOT_MENTION = /telegram[:\\s-]*((@[a-z0-9_]+)|(https:\\/\\/)?(t\\.me|telegram\\.me|telegram\\.dog)\\/[a-z0-9_]+)/mig;\n\nexport const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'EQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0D5s';\nexport const DIESEL_TOKENS = new Set([\n  'ton-eqcxe6mutq', // USDT\n  'ton-eqavlwfdxg', // Notcoin\n  'ton-eqcvxjy4eg', // DOGS\n]);\n","// Version 3.1.2\n/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */\n(function(root) {\n  \"use strict\";\n\n  function checkInt(value) {\n    return (parseInt(value) === value);\n  }\n\n  function checkInts(arrayish) {\n    if (!checkInt(arrayish.length)) { return false; }\n\n    for (var i = 0; i < arrayish.length; i++) {\n      if (!checkInt(arrayish[i]) || arrayish[i] < 0 || arrayish[i] > 255) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  function coerceArray(arg, copy) {\n\n    // ArrayBuffer view\n    if (arg.buffer && arg.name === 'Uint8Array') {\n\n      if (copy) {\n        if (arg.slice) {\n          arg = arg.slice();\n        } else {\n          arg = Array.prototype.slice.call(arg);\n        }\n      }\n\n      return arg;\n    }\n\n    // It's an array; check it is a valid representation of a byte\n    if (Array.isArray(arg)) {\n      if (!checkInts(arg)) {\n        throw new Error('Array contains invalid value: ' + arg);\n      }\n\n      return new Uint8Array(arg);\n    }\n\n    // Something else, but behaves like an array (maybe a Buffer? Arguments?)\n    if (checkInt(arg.length) && checkInts(arg)) {\n      return new Uint8Array(arg);\n    }\n\n    throw new Error('unsupported array-like object');\n  }\n\n  function createArray(length) {\n    return new Uint8Array(length);\n  }\n\n  function copyArray(sourceArray, targetArray, targetStart, sourceStart, sourceEnd) {\n    if (sourceStart != null || sourceEnd != null) {\n      if (sourceArray.slice) {\n        sourceArray = sourceArray.slice(sourceStart, sourceEnd);\n      } else {\n        sourceArray = Array.prototype.slice.call(sourceArray, sourceStart, sourceEnd);\n      }\n    }\n    targetArray.set(sourceArray, targetStart);\n  }\n\n\n\n  var convertUtf8 = (function() {\n    function toBytes(text) {\n      var result = [], i = 0;\n      text = encodeURI(text);\n      while (i < text.length) {\n        var c = text.charCodeAt(i++);\n\n        // if it is a % sign, encode the following 2 bytes as a hex value\n        if (c === 37) {\n          result.push(parseInt(text.substr(i, 2), 16))\n          i += 2;\n\n          // otherwise, just the actual byte\n        } else {\n          result.push(c)\n        }\n      }\n\n      return coerceArray(result);\n    }\n\n    function fromBytes(bytes) {\n      var result = [], i = 0;\n\n      while (i < bytes.length) {\n        var c = bytes[i];\n\n        if (c < 128) {\n          result.push(String.fromCharCode(c));\n          i++;\n        } else if (c > 191 && c < 224) {\n          result.push(String.fromCharCode(((c & 0x1f) << 6) | (bytes[i + 1] & 0x3f)));\n          i += 2;\n        } else {\n          result.push(String.fromCharCode(((c & 0x0f) << 12) | ((bytes[i + 1] & 0x3f) << 6) | (bytes[i + 2] & 0x3f)));\n          i += 3;\n        }\n      }\n\n      return result.join('');\n    }\n\n    return {\n      toBytes: toBytes,\n      fromBytes: fromBytes,\n    }\n  })();\n\n  var convertHex = (function() {\n    function toBytes(text) {\n      var result = [];\n      for (var i = 0; i < text.length; i += 2) {\n        result.push(parseInt(text.substr(i, 2), 16));\n      }\n\n      return result;\n    }\n\n    // http://ixti.net/development/javascript/2011/11/11/base64-encodedecode-of-utf8-in-browser-with-js.html\n    var Hex = '0123456789abcdef';\n\n    function fromBytes(bytes) {\n      var result = [];\n      for (var i = 0; i < bytes.length; i++) {\n        var v = bytes[i];\n        result.push(Hex[(v & 0xf0) >> 4] + Hex[v & 0x0f]);\n      }\n      return result.join('');\n    }\n\n    return {\n      toBytes: toBytes,\n      fromBytes: fromBytes,\n    }\n  })();\n\n\n  // Number of rounds by keysize\n  var numberOfRounds = {16: 10, 24: 12, 32: 14}\n\n  // Round constant words\n  var rcon = [0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36, 0x6c, 0xd8, 0xab, 0x4d, 0x9a, 0x2f, 0x5e, 0xbc, 0x63, 0xc6, 0x97, 0x35, 0x6a, 0xd4, 0xb3, 0x7d, 0xfa, 0xef, 0xc5, 0x91];\n\n  // S-box and Inverse S-box (S is for Substitution)\n  var S = [0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76, 0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0, 0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15, 0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75, 0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84, 0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf, 0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8, 0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2, 0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73, 0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb, 0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79, 0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08, 0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a, 0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e, 0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf, 0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16];\n  var Si =[0x52, 0x09, 0x6a, 0xd5, 0x30, 0x36, 0xa5, 0x38, 0xbf, 0x40, 0xa3, 0x9e, 0x81, 0xf3, 0xd7, 0xfb, 0x7c, 0xe3, 0x39, 0x82, 0x9b, 0x2f, 0xff, 0x87, 0x34, 0x8e, 0x43, 0x44, 0xc4, 0xde, 0xe9, 0xcb, 0x54, 0x7b, 0x94, 0x32, 0xa6, 0xc2, 0x23, 0x3d, 0xee, 0x4c, 0x95, 0x0b, 0x42, 0xfa, 0xc3, 0x4e, 0x08, 0x2e, 0xa1, 0x66, 0x28, 0xd9, 0x24, 0xb2, 0x76, 0x5b, 0xa2, 0x49, 0x6d, 0x8b, 0xd1, 0x25, 0x72, 0xf8, 0xf6, 0x64, 0x86, 0x68, 0x98, 0x16, 0xd4, 0xa4, 0x5c, 0xcc, 0x5d, 0x65, 0xb6, 0x92, 0x6c, 0x70, 0x48, 0x50, 0xfd, 0xed, 0xb9, 0xda, 0x5e, 0x15, 0x46, 0x57, 0xa7, 0x8d, 0x9d, 0x84, 0x90, 0xd8, 0xab, 0x00, 0x8c, 0xbc, 0xd3, 0x0a, 0xf7, 0xe4, 0x58, 0x05, 0xb8, 0xb3, 0x45, 0x06, 0xd0, 0x2c, 0x1e, 0x8f, 0xca, 0x3f, 0x0f, 0x02, 0xc1, 0xaf, 0xbd, 0x03, 0x01, 0x13, 0x8a, 0x6b, 0x3a, 0x91, 0x11, 0x41, 0x4f, 0x67, 0xdc, 0xea, 0x97, 0xf2, 0xcf, 0xce, 0xf0, 0xb4, 0xe6, 0x73, 0x96, 0xac, 0x74, 0x22, 0xe7, 0xad, 0x35, 0x85, 0xe2, 0xf9, 0x37, 0xe8, 0x1c, 0x75, 0xdf, 0x6e, 0x47, 0xf1, 0x1a, 0x71, 0x1d, 0x29, 0xc5, 0x89, 0x6f, 0xb7, 0x62, 0x0e, 0xaa, 0x18, 0xbe, 0x1b, 0xfc, 0x56, 0x3e, 0x4b, 0xc6, 0xd2, 0x79, 0x20, 0x9a, 0xdb, 0xc0, 0xfe, 0x78, 0xcd, 0x5a, 0xf4, 0x1f, 0xdd, 0xa8, 0x33, 0x88, 0x07, 0xc7, 0x31, 0xb1, 0x12, 0x10, 0x59, 0x27, 0x80, 0xec, 0x5f, 0x60, 0x51, 0x7f, 0xa9, 0x19, 0xb5, 0x4a, 0x0d, 0x2d, 0xe5, 0x7a, 0x9f, 0x93, 0xc9, 0x9c, 0xef, 0xa0, 0xe0, 0x3b, 0x4d, 0xae, 0x2a, 0xf5, 0xb0, 0xc8, 0xeb, 0xbb, 0x3c, 0x83, 0x53, 0x99, 0x61, 0x17, 0x2b, 0x04, 0x7e, 0xba, 0x77, 0xd6, 0x26, 0xe1, 0x69, 0x14, 0x63, 0x55, 0x21, 0x0c, 0x7d];\n\n  // Transformations for encryption\n  var T1 = [0xc66363a5, 0xf87c7c84, 0xee777799, 0xf67b7b8d, 0xfff2f20d, 0xd66b6bbd, 0xde6f6fb1, 0x91c5c554, 0x60303050, 0x02010103, 0xce6767a9, 0x562b2b7d, 0xe7fefe19, 0xb5d7d762, 0x4dababe6, 0xec76769a, 0x8fcaca45, 0x1f82829d, 0x89c9c940, 0xfa7d7d87, 0xeffafa15, 0xb25959eb, 0x8e4747c9, 0xfbf0f00b, 0x41adadec, 0xb3d4d467, 0x5fa2a2fd, 0x45afafea, 0x239c9cbf, 0x53a4a4f7, 0xe4727296, 0x9bc0c05b, 0x75b7b7c2, 0xe1fdfd1c, 0x3d9393ae, 0x4c26266a, 0x6c36365a, 0x7e3f3f41, 0xf5f7f702, 0x83cccc4f, 0x6834345c, 0x51a5a5f4, 0xd1e5e534, 0xf9f1f108, 0xe2717193, 0xabd8d873, 0x62313153, 0x2a15153f, 0x0804040c, 0x95c7c752, 0x46232365, 0x9dc3c35e, 0x30181828, 0x379696a1, 0x0a05050f, 0x2f9a9ab5, 0x0e070709, 0x24121236, 0x1b80809b, 0xdfe2e23d, 0xcdebeb26, 0x4e272769, 0x7fb2b2cd, 0xea75759f, 0x1209091b, 0x1d83839e, 0x582c2c74, 0x341a1a2e, 0x361b1b2d, 0xdc6e6eb2, 0xb45a5aee, 0x5ba0a0fb, 0xa45252f6, 0x763b3b4d, 0xb7d6d661, 0x7db3b3ce, 0x5229297b, 0xdde3e33e, 0x5e2f2f71, 0x13848497, 0xa65353f5, 0xb9d1d168, 0x00000000, 0xc1eded2c, 0x40202060, 0xe3fcfc1f, 0x79b1b1c8, 0xb65b5bed, 0xd46a6abe, 0x8dcbcb46, 0x67bebed9, 0x7239394b, 0x944a4ade, 0x984c4cd4, 0xb05858e8, 0x85cfcf4a, 0xbbd0d06b, 0xc5efef2a, 0x4faaaae5, 0xedfbfb16, 0x864343c5, 0x9a4d4dd7, 0x66333355, 0x11858594, 0x8a4545cf, 0xe9f9f910, 0x04020206, 0xfe7f7f81, 0xa05050f0, 0x783c3c44, 0x259f9fba, 0x4ba8a8e3, 0xa25151f3, 0x5da3a3fe, 0x804040c0, 0x058f8f8a, 0x3f9292ad, 0x219d9dbc, 0x70383848, 0xf1f5f504, 0x63bcbcdf, 0x77b6b6c1, 0xafdada75, 0x42212163, 0x20101030, 0xe5ffff1a, 0xfdf3f30e, 0xbfd2d26d, 0x81cdcd4c, 0x180c0c14, 0x26131335, 0xc3ecec2f, 0xbe5f5fe1, 0x359797a2, 0x884444cc, 0x2e171739, 0x93c4c457, 0x55a7a7f2, 0xfc7e7e82, 0x7a3d3d47, 0xc86464ac, 0xba5d5de7, 0x3219192b, 0xe6737395, 0xc06060a0, 0x19818198, 0x9e4f4fd1, 0xa3dcdc7f, 0x44222266, 0x542a2a7e, 0x3b9090ab, 0x0b888883, 0x8c4646ca, 0xc7eeee29, 0x6bb8b8d3, 0x2814143c, 0xa7dede79, 0xbc5e5ee2, 0x160b0b1d, 0xaddbdb76, 0xdbe0e03b, 0x64323256, 0x743a3a4e, 0x140a0a1e, 0x924949db, 0x0c06060a, 0x4824246c, 0xb85c5ce4, 0x9fc2c25d, 0xbdd3d36e, 0x43acacef, 0xc46262a6, 0x399191a8, 0x319595a4, 0xd3e4e437, 0xf279798b, 0xd5e7e732, 0x8bc8c843, 0x6e373759, 0xda6d6db7, 0x018d8d8c, 0xb1d5d564, 0x9c4e4ed2, 0x49a9a9e0, 0xd86c6cb4, 0xac5656fa, 0xf3f4f407, 0xcfeaea25, 0xca6565af, 0xf47a7a8e, 0x47aeaee9, 0x10080818, 0x6fbabad5, 0xf0787888, 0x4a25256f, 0x5c2e2e72, 0x381c1c24, 0x57a6a6f1, 0x73b4b4c7, 0x97c6c651, 0xcbe8e823, 0xa1dddd7c, 0xe874749c, 0x3e1f1f21, 0x964b4bdd, 0x61bdbddc, 0x0d8b8b86, 0x0f8a8a85, 0xe0707090, 0x7c3e3e42, 0x71b5b5c4, 0xcc6666aa, 0x904848d8, 0x06030305, 0xf7f6f601, 0x1c0e0e12, 0xc26161a3, 0x6a35355f, 0xae5757f9, 0x69b9b9d0, 0x17868691, 0x99c1c158, 0x3a1d1d27, 0x279e9eb9, 0xd9e1e138, 0xebf8f813, 0x2b9898b3, 0x22111133, 0xd26969bb, 0xa9d9d970, 0x078e8e89, 0x339494a7, 0x2d9b9bb6, 0x3c1e1e22, 0x15878792, 0xc9e9e920, 0x87cece49, 0xaa5555ff, 0x50282878, 0xa5dfdf7a, 0x038c8c8f, 0x59a1a1f8, 0x09898980, 0x1a0d0d17, 0x65bfbfda, 0xd7e6e631, 0x844242c6, 0xd06868b8, 0x824141c3, 0x299999b0, 0x5a2d2d77, 0x1e0f0f11, 0x7bb0b0cb, 0xa85454fc, 0x6dbbbbd6, 0x2c16163a];\n  var T2 = [0xa5c66363, 0x84f87c7c, 0x99ee7777, 0x8df67b7b, 0x0dfff2f2, 0xbdd66b6b, 0xb1de6f6f, 0x5491c5c5, 0x50603030, 0x03020101, 0xa9ce6767, 0x7d562b2b, 0x19e7fefe, 0x62b5d7d7, 0xe64dabab, 0x9aec7676, 0x458fcaca, 0x9d1f8282, 0x4089c9c9, 0x87fa7d7d, 0x15effafa, 0xebb25959, 0xc98e4747, 0x0bfbf0f0, 0xec41adad, 0x67b3d4d4, 0xfd5fa2a2, 0xea45afaf, 0xbf239c9c, 0xf753a4a4, 0x96e47272, 0x5b9bc0c0, 0xc275b7b7, 0x1ce1fdfd, 0xae3d9393, 0x6a4c2626, 0x5a6c3636, 0x417e3f3f, 0x02f5f7f7, 0x4f83cccc, 0x5c683434, 0xf451a5a5, 0x34d1e5e5, 0x08f9f1f1, 0x93e27171, 0x73abd8d8, 0x53623131, 0x3f2a1515, 0x0c080404, 0x5295c7c7, 0x65462323, 0x5e9dc3c3, 0x28301818, 0xa1379696, 0x0f0a0505, 0xb52f9a9a, 0x090e0707, 0x36241212, 0x9b1b8080, 0x3ddfe2e2, 0x26cdebeb, 0x694e2727, 0xcd7fb2b2, 0x9fea7575, 0x1b120909, 0x9e1d8383, 0x74582c2c, 0x2e341a1a, 0x2d361b1b, 0xb2dc6e6e, 0xeeb45a5a, 0xfb5ba0a0, 0xf6a45252, 0x4d763b3b, 0x61b7d6d6, 0xce7db3b3, 0x7b522929, 0x3edde3e3, 0x715e2f2f, 0x97138484, 0xf5a65353, 0x68b9d1d1, 0x00000000, 0x2cc1eded, 0x60402020, 0x1fe3fcfc, 0xc879b1b1, 0xedb65b5b, 0xbed46a6a, 0x468dcbcb, 0xd967bebe, 0x4b723939, 0xde944a4a, 0xd4984c4c, 0xe8b05858, 0x4a85cfcf, 0x6bbbd0d0, 0x2ac5efef, 0xe54faaaa, 0x16edfbfb, 0xc5864343, 0xd79a4d4d, 0x55663333, 0x94118585, 0xcf8a4545, 0x10e9f9f9, 0x06040202, 0x81fe7f7f, 0xf0a05050, 0x44783c3c, 0xba259f9f, 0xe34ba8a8, 0xf3a25151, 0xfe5da3a3, 0xc0804040, 0x8a058f8f, 0xad3f9292, 0xbc219d9d, 0x48703838, 0x04f1f5f5, 0xdf63bcbc, 0xc177b6b6, 0x75afdada, 0x63422121, 0x30201010, 0x1ae5ffff, 0x0efdf3f3, 0x6dbfd2d2, 0x4c81cdcd, 0x14180c0c, 0x35261313, 0x2fc3ecec, 0xe1be5f5f, 0xa2359797, 0xcc884444, 0x392e1717, 0x5793c4c4, 0xf255a7a7, 0x82fc7e7e, 0x477a3d3d, 0xacc86464, 0xe7ba5d5d, 0x2b321919, 0x95e67373, 0xa0c06060, 0x98198181, 0xd19e4f4f, 0x7fa3dcdc, 0x66442222, 0x7e542a2a, 0xab3b9090, 0x830b8888, 0xca8c4646, 0x29c7eeee, 0xd36bb8b8, 0x3c281414, 0x79a7dede, 0xe2bc5e5e, 0x1d160b0b, 0x76addbdb, 0x3bdbe0e0, 0x56643232, 0x4e743a3a, 0x1e140a0a, 0xdb924949, 0x0a0c0606, 0x6c482424, 0xe4b85c5c, 0x5d9fc2c2, 0x6ebdd3d3, 0xef43acac, 0xa6c46262, 0xa8399191, 0xa4319595, 0x37d3e4e4, 0x8bf27979, 0x32d5e7e7, 0x438bc8c8, 0x596e3737, 0xb7da6d6d, 0x8c018d8d, 0x64b1d5d5, 0xd29c4e4e, 0xe049a9a9, 0xb4d86c6c, 0xfaac5656, 0x07f3f4f4, 0x25cfeaea, 0xafca6565, 0x8ef47a7a, 0xe947aeae, 0x18100808, 0xd56fbaba, 0x88f07878, 0x6f4a2525, 0x725c2e2e, 0x24381c1c, 0xf157a6a6, 0xc773b4b4, 0x5197c6c6, 0x23cbe8e8, 0x7ca1dddd, 0x9ce87474, 0x213e1f1f, 0xdd964b4b, 0xdc61bdbd, 0x860d8b8b, 0x850f8a8a, 0x90e07070, 0x427c3e3e, 0xc471b5b5, 0xaacc6666, 0xd8904848, 0x05060303, 0x01f7f6f6, 0x121c0e0e, 0xa3c26161, 0x5f6a3535, 0xf9ae5757, 0xd069b9b9, 0x91178686, 0x5899c1c1, 0x273a1d1d, 0xb9279e9e, 0x38d9e1e1, 0x13ebf8f8, 0xb32b9898, 0x33221111, 0xbbd26969, 0x70a9d9d9, 0x89078e8e, 0xa7339494, 0xb62d9b9b, 0x223c1e1e, 0x92158787, 0x20c9e9e9, 0x4987cece, 0xffaa5555, 0x78502828, 0x7aa5dfdf, 0x8f038c8c, 0xf859a1a1, 0x80098989, 0x171a0d0d, 0xda65bfbf, 0x31d7e6e6, 0xc6844242, 0xb8d06868, 0xc3824141, 0xb0299999, 0x775a2d2d, 0x111e0f0f, 0xcb7bb0b0, 0xfca85454, 0xd66dbbbb, 0x3a2c1616];\n  var T3 = [0x63a5c663, 0x7c84f87c, 0x7799ee77, 0x7b8df67b, 0xf20dfff2, 0x6bbdd66b, 0x6fb1de6f, 0xc55491c5, 0x30506030, 0x01030201, 0x67a9ce67, 0x2b7d562b, 0xfe19e7fe, 0xd762b5d7, 0xabe64dab, 0x769aec76, 0xca458fca, 0x829d1f82, 0xc94089c9, 0x7d87fa7d, 0xfa15effa, 0x59ebb259, 0x47c98e47, 0xf00bfbf0, 0xadec41ad, 0xd467b3d4, 0xa2fd5fa2, 0xafea45af, 0x9cbf239c, 0xa4f753a4, 0x7296e472, 0xc05b9bc0, 0xb7c275b7, 0xfd1ce1fd, 0x93ae3d93, 0x266a4c26, 0x365a6c36, 0x3f417e3f, 0xf702f5f7, 0xcc4f83cc, 0x345c6834, 0xa5f451a5, 0xe534d1e5, 0xf108f9f1, 0x7193e271, 0xd873abd8, 0x31536231, 0x153f2a15, 0x040c0804, 0xc75295c7, 0x23654623, 0xc35e9dc3, 0x18283018, 0x96a13796, 0x050f0a05, 0x9ab52f9a, 0x07090e07, 0x12362412, 0x809b1b80, 0xe23ddfe2, 0xeb26cdeb, 0x27694e27, 0xb2cd7fb2, 0x759fea75, 0x091b1209, 0x839e1d83, 0x2c74582c, 0x1a2e341a, 0x1b2d361b, 0x6eb2dc6e, 0x5aeeb45a, 0xa0fb5ba0, 0x52f6a452, 0x3b4d763b, 0xd661b7d6, 0xb3ce7db3, 0x297b5229, 0xe33edde3, 0x2f715e2f, 0x84971384, 0x53f5a653, 0xd168b9d1, 0x00000000, 0xed2cc1ed, 0x20604020, 0xfc1fe3fc, 0xb1c879b1, 0x5bedb65b, 0x6abed46a, 0xcb468dcb, 0xbed967be, 0x394b7239, 0x4ade944a, 0x4cd4984c, 0x58e8b058, 0xcf4a85cf, 0xd06bbbd0, 0xef2ac5ef, 0xaae54faa, 0xfb16edfb, 0x43c58643, 0x4dd79a4d, 0x33556633, 0x85941185, 0x45cf8a45, 0xf910e9f9, 0x02060402, 0x7f81fe7f, 0x50f0a050, 0x3c44783c, 0x9fba259f, 0xa8e34ba8, 0x51f3a251, 0xa3fe5da3, 0x40c08040, 0x8f8a058f, 0x92ad3f92, 0x9dbc219d, 0x38487038, 0xf504f1f5, 0xbcdf63bc, 0xb6c177b6, 0xda75afda, 0x21634221, 0x10302010, 0xff1ae5ff, 0xf30efdf3, 0xd26dbfd2, 0xcd4c81cd, 0x0c14180c, 0x13352613, 0xec2fc3ec, 0x5fe1be5f, 0x97a23597, 0x44cc8844, 0x17392e17, 0xc45793c4, 0xa7f255a7, 0x7e82fc7e, 0x3d477a3d, 0x64acc864, 0x5de7ba5d, 0x192b3219, 0x7395e673, 0x60a0c060, 0x81981981, 0x4fd19e4f, 0xdc7fa3dc, 0x22664422, 0x2a7e542a, 0x90ab3b90, 0x88830b88, 0x46ca8c46, 0xee29c7ee, 0xb8d36bb8, 0x143c2814, 0xde79a7de, 0x5ee2bc5e, 0x0b1d160b, 0xdb76addb, 0xe03bdbe0, 0x32566432, 0x3a4e743a, 0x0a1e140a, 0x49db9249, 0x060a0c06, 0x246c4824, 0x5ce4b85c, 0xc25d9fc2, 0xd36ebdd3, 0xacef43ac, 0x62a6c462, 0x91a83991, 0x95a43195, 0xe437d3e4, 0x798bf279, 0xe732d5e7, 0xc8438bc8, 0x37596e37, 0x6db7da6d, 0x8d8c018d, 0xd564b1d5, 0x4ed29c4e, 0xa9e049a9, 0x6cb4d86c, 0x56faac56, 0xf407f3f4, 0xea25cfea, 0x65afca65, 0x7a8ef47a, 0xaee947ae, 0x08181008, 0xbad56fba, 0x7888f078, 0x256f4a25, 0x2e725c2e, 0x1c24381c, 0xa6f157a6, 0xb4c773b4, 0xc65197c6, 0xe823cbe8, 0xdd7ca1dd, 0x749ce874, 0x1f213e1f, 0x4bdd964b, 0xbddc61bd, 0x8b860d8b, 0x8a850f8a, 0x7090e070, 0x3e427c3e, 0xb5c471b5, 0x66aacc66, 0x48d89048, 0x03050603, 0xf601f7f6, 0x0e121c0e, 0x61a3c261, 0x355f6a35, 0x57f9ae57, 0xb9d069b9, 0x86911786, 0xc15899c1, 0x1d273a1d, 0x9eb9279e, 0xe138d9e1, 0xf813ebf8, 0x98b32b98, 0x11332211, 0x69bbd269, 0xd970a9d9, 0x8e89078e, 0x94a73394, 0x9bb62d9b, 0x1e223c1e, 0x87921587, 0xe920c9e9, 0xce4987ce, 0x55ffaa55, 0x28785028, 0xdf7aa5df, 0x8c8f038c, 0xa1f859a1, 0x89800989, 0x0d171a0d, 0xbfda65bf, 0xe631d7e6, 0x42c68442, 0x68b8d068, 0x41c38241, 0x99b02999, 0x2d775a2d, 0x0f111e0f, 0xb0cb7bb0, 0x54fca854, 0xbbd66dbb, 0x163a2c16];\n  var T4 = [0x6363a5c6, 0x7c7c84f8, 0x777799ee, 0x7b7b8df6, 0xf2f20dff, 0x6b6bbdd6, 0x6f6fb1de, 0xc5c55491, 0x30305060, 0x01010302, 0x6767a9ce, 0x2b2b7d56, 0xfefe19e7, 0xd7d762b5, 0xababe64d, 0x76769aec, 0xcaca458f, 0x82829d1f, 0xc9c94089, 0x7d7d87fa, 0xfafa15ef, 0x5959ebb2, 0x4747c98e, 0xf0f00bfb, 0xadadec41, 0xd4d467b3, 0xa2a2fd5f, 0xafafea45, 0x9c9cbf23, 0xa4a4f753, 0x727296e4, 0xc0c05b9b, 0xb7b7c275, 0xfdfd1ce1, 0x9393ae3d, 0x26266a4c, 0x36365a6c, 0x3f3f417e, 0xf7f702f5, 0xcccc4f83, 0x34345c68, 0xa5a5f451, 0xe5e534d1, 0xf1f108f9, 0x717193e2, 0xd8d873ab, 0x31315362, 0x15153f2a, 0x04040c08, 0xc7c75295, 0x23236546, 0xc3c35e9d, 0x18182830, 0x9696a137, 0x05050f0a, 0x9a9ab52f, 0x0707090e, 0x12123624, 0x80809b1b, 0xe2e23ddf, 0xebeb26cd, 0x2727694e, 0xb2b2cd7f, 0x75759fea, 0x09091b12, 0x83839e1d, 0x2c2c7458, 0x1a1a2e34, 0x1b1b2d36, 0x6e6eb2dc, 0x5a5aeeb4, 0xa0a0fb5b, 0x5252f6a4, 0x3b3b4d76, 0xd6d661b7, 0xb3b3ce7d, 0x29297b52, 0xe3e33edd, 0x2f2f715e, 0x84849713, 0x5353f5a6, 0xd1d168b9, 0x00000000, 0xeded2cc1, 0x20206040, 0xfcfc1fe3, 0xb1b1c879, 0x5b5bedb6, 0x6a6abed4, 0xcbcb468d, 0xbebed967, 0x39394b72, 0x4a4ade94, 0x4c4cd498, 0x5858e8b0, 0xcfcf4a85, 0xd0d06bbb, 0xefef2ac5, 0xaaaae54f, 0xfbfb16ed, 0x4343c586, 0x4d4dd79a, 0x33335566, 0x85859411, 0x4545cf8a, 0xf9f910e9, 0x02020604, 0x7f7f81fe, 0x5050f0a0, 0x3c3c4478, 0x9f9fba25, 0xa8a8e34b, 0x5151f3a2, 0xa3a3fe5d, 0x4040c080, 0x8f8f8a05, 0x9292ad3f, 0x9d9dbc21, 0x38384870, 0xf5f504f1, 0xbcbcdf63, 0xb6b6c177, 0xdada75af, 0x21216342, 0x10103020, 0xffff1ae5, 0xf3f30efd, 0xd2d26dbf, 0xcdcd4c81, 0x0c0c1418, 0x13133526, 0xecec2fc3, 0x5f5fe1be, 0x9797a235, 0x4444cc88, 0x1717392e, 0xc4c45793, 0xa7a7f255, 0x7e7e82fc, 0x3d3d477a, 0x6464acc8, 0x5d5de7ba, 0x19192b32, 0x737395e6, 0x6060a0c0, 0x81819819, 0x4f4fd19e, 0xdcdc7fa3, 0x22226644, 0x2a2a7e54, 0x9090ab3b, 0x8888830b, 0x4646ca8c, 0xeeee29c7, 0xb8b8d36b, 0x14143c28, 0xdede79a7, 0x5e5ee2bc, 0x0b0b1d16, 0xdbdb76ad, 0xe0e03bdb, 0x32325664, 0x3a3a4e74, 0x0a0a1e14, 0x4949db92, 0x06060a0c, 0x24246c48, 0x5c5ce4b8, 0xc2c25d9f, 0xd3d36ebd, 0xacacef43, 0x6262a6c4, 0x9191a839, 0x9595a431, 0xe4e437d3, 0x79798bf2, 0xe7e732d5, 0xc8c8438b, 0x3737596e, 0x6d6db7da, 0x8d8d8c01, 0xd5d564b1, 0x4e4ed29c, 0xa9a9e049, 0x6c6cb4d8, 0x5656faac, 0xf4f407f3, 0xeaea25cf, 0x6565afca, 0x7a7a8ef4, 0xaeaee947, 0x08081810, 0xbabad56f, 0x787888f0, 0x25256f4a, 0x2e2e725c, 0x1c1c2438, 0xa6a6f157, 0xb4b4c773, 0xc6c65197, 0xe8e823cb, 0xdddd7ca1, 0x74749ce8, 0x1f1f213e, 0x4b4bdd96, 0xbdbddc61, 0x8b8b860d, 0x8a8a850f, 0x707090e0, 0x3e3e427c, 0xb5b5c471, 0x6666aacc, 0x4848d890, 0x03030506, 0xf6f601f7, 0x0e0e121c, 0x6161a3c2, 0x35355f6a, 0x5757f9ae, 0xb9b9d069, 0x86869117, 0xc1c15899, 0x1d1d273a, 0x9e9eb927, 0xe1e138d9, 0xf8f813eb, 0x9898b32b, 0x11113322, 0x6969bbd2, 0xd9d970a9, 0x8e8e8907, 0x9494a733, 0x9b9bb62d, 0x1e1e223c, 0x87879215, 0xe9e920c9, 0xcece4987, 0x5555ffaa, 0x28287850, 0xdfdf7aa5, 0x8c8c8f03, 0xa1a1f859, 0x89898009, 0x0d0d171a, 0xbfbfda65, 0xe6e631d7, 0x4242c684, 0x6868b8d0, 0x4141c382, 0x9999b029, 0x2d2d775a, 0x0f0f111e, 0xb0b0cb7b, 0x5454fca8, 0xbbbbd66d, 0x16163a2c];\n\n  // Transformations for decryption\n  var T5 = [0x51f4a750, 0x7e416553, 0x1a17a4c3, 0x3a275e96, 0x3bab6bcb, 0x1f9d45f1, 0xacfa58ab, 0x4be30393, 0x2030fa55, 0xad766df6, 0x88cc7691, 0xf5024c25, 0x4fe5d7fc, 0xc52acbd7, 0x26354480, 0xb562a38f, 0xdeb15a49, 0x25ba1b67, 0x45ea0e98, 0x5dfec0e1, 0xc32f7502, 0x814cf012, 0x8d4697a3, 0x6bd3f9c6, 0x038f5fe7, 0x15929c95, 0xbf6d7aeb, 0x955259da, 0xd4be832d, 0x587421d3, 0x49e06929, 0x8ec9c844, 0x75c2896a, 0xf48e7978, 0x99583e6b, 0x27b971dd, 0xbee14fb6, 0xf088ad17, 0xc920ac66, 0x7dce3ab4, 0x63df4a18, 0xe51a3182, 0x97513360, 0x62537f45, 0xb16477e0, 0xbb6bae84, 0xfe81a01c, 0xf9082b94, 0x70486858, 0x8f45fd19, 0x94de6c87, 0x527bf8b7, 0xab73d323, 0x724b02e2, 0xe31f8f57, 0x6655ab2a, 0xb2eb2807, 0x2fb5c203, 0x86c57b9a, 0xd33708a5, 0x302887f2, 0x23bfa5b2, 0x02036aba, 0xed16825c, 0x8acf1c2b, 0xa779b492, 0xf307f2f0, 0x4e69e2a1, 0x65daf4cd, 0x0605bed5, 0xd134621f, 0xc4a6fe8a, 0x342e539d, 0xa2f355a0, 0x058ae132, 0xa4f6eb75, 0x0b83ec39, 0x4060efaa, 0x5e719f06, 0xbd6e1051, 0x3e218af9, 0x96dd063d, 0xdd3e05ae, 0x4de6bd46, 0x91548db5, 0x71c45d05, 0x0406d46f, 0x605015ff, 0x1998fb24, 0xd6bde997, 0x894043cc, 0x67d99e77, 0xb0e842bd, 0x07898b88, 0xe7195b38, 0x79c8eedb, 0xa17c0a47, 0x7c420fe9, 0xf8841ec9, 0x00000000, 0x09808683, 0x322bed48, 0x1e1170ac, 0x6c5a724e, 0xfd0efffb, 0x0f853856, 0x3daed51e, 0x362d3927, 0x0a0fd964, 0x685ca621, 0x9b5b54d1, 0x24362e3a, 0x0c0a67b1, 0x9357e70f, 0xb4ee96d2, 0x1b9b919e, 0x80c0c54f, 0x61dc20a2, 0x5a774b69, 0x1c121a16, 0xe293ba0a, 0xc0a02ae5, 0x3c22e043, 0x121b171d, 0x0e090d0b, 0xf28bc7ad, 0x2db6a8b9, 0x141ea9c8, 0x57f11985, 0xaf75074c, 0xee99ddbb, 0xa37f60fd, 0xf701269f, 0x5c72f5bc, 0x44663bc5, 0x5bfb7e34, 0x8b432976, 0xcb23c6dc, 0xb6edfc68, 0xb8e4f163, 0xd731dcca, 0x42638510, 0x13972240, 0x84c61120, 0x854a247d, 0xd2bb3df8, 0xaef93211, 0xc729a16d, 0x1d9e2f4b, 0xdcb230f3, 0x0d8652ec, 0x77c1e3d0, 0x2bb3166c, 0xa970b999, 0x119448fa, 0x47e96422, 0xa8fc8cc4, 0xa0f03f1a, 0x567d2cd8, 0x223390ef, 0x87494ec7, 0xd938d1c1, 0x8ccaa2fe, 0x98d40b36, 0xa6f581cf, 0xa57ade28, 0xdab78e26, 0x3fadbfa4, 0x2c3a9de4, 0x5078920d, 0x6a5fcc9b, 0x547e4662, 0xf68d13c2, 0x90d8b8e8, 0x2e39f75e, 0x82c3aff5, 0x9f5d80be, 0x69d0937c, 0x6fd52da9, 0xcf2512b3, 0xc8ac993b, 0x10187da7, 0xe89c636e, 0xdb3bbb7b, 0xcd267809, 0x6e5918f4, 0xec9ab701, 0x834f9aa8, 0xe6956e65, 0xaaffe67e, 0x21bccf08, 0xef15e8e6, 0xbae79bd9, 0x4a6f36ce, 0xea9f09d4, 0x29b07cd6, 0x31a4b2af, 0x2a3f2331, 0xc6a59430, 0x35a266c0, 0x744ebc37, 0xfc82caa6, 0xe090d0b0, 0x33a7d815, 0xf104984a, 0x41ecdaf7, 0x7fcd500e, 0x1791f62f, 0x764dd68d, 0x43efb04d, 0xccaa4d54, 0xe49604df, 0x9ed1b5e3, 0x4c6a881b, 0xc12c1fb8, 0x4665517f, 0x9d5eea04, 0x018c355d, 0xfa877473, 0xfb0b412e, 0xb3671d5a, 0x92dbd252, 0xe9105633, 0x6dd64713, 0x9ad7618c, 0x37a10c7a, 0x59f8148e, 0xeb133c89, 0xcea927ee, 0xb761c935, 0xe11ce5ed, 0x7a47b13c, 0x9cd2df59, 0x55f2733f, 0x1814ce79, 0x73c737bf, 0x53f7cdea, 0x5ffdaa5b, 0xdf3d6f14, 0x7844db86, 0xcaaff381, 0xb968c43e, 0x3824342c, 0xc2a3405f, 0x161dc372, 0xbce2250c, 0x283c498b, 0xff0d9541, 0x39a80171, 0x080cb3de, 0xd8b4e49c, 0x6456c190, 0x7bcb8461, 0xd532b670, 0x486c5c74, 0xd0b85742];\n  var T6 = [0x5051f4a7, 0x537e4165, 0xc31a17a4, 0x963a275e, 0xcb3bab6b, 0xf11f9d45, 0xabacfa58, 0x934be303, 0x552030fa, 0xf6ad766d, 0x9188cc76, 0x25f5024c, 0xfc4fe5d7, 0xd7c52acb, 0x80263544, 0x8fb562a3, 0x49deb15a, 0x6725ba1b, 0x9845ea0e, 0xe15dfec0, 0x02c32f75, 0x12814cf0, 0xa38d4697, 0xc66bd3f9, 0xe7038f5f, 0x9515929c, 0xebbf6d7a, 0xda955259, 0x2dd4be83, 0xd3587421, 0x2949e069, 0x448ec9c8, 0x6a75c289, 0x78f48e79, 0x6b99583e, 0xdd27b971, 0xb6bee14f, 0x17f088ad, 0x66c920ac, 0xb47dce3a, 0x1863df4a, 0x82e51a31, 0x60975133, 0x4562537f, 0xe0b16477, 0x84bb6bae, 0x1cfe81a0, 0x94f9082b, 0x58704868, 0x198f45fd, 0x8794de6c, 0xb7527bf8, 0x23ab73d3, 0xe2724b02, 0x57e31f8f, 0x2a6655ab, 0x07b2eb28, 0x032fb5c2, 0x9a86c57b, 0xa5d33708, 0xf2302887, 0xb223bfa5, 0xba02036a, 0x5ced1682, 0x2b8acf1c, 0x92a779b4, 0xf0f307f2, 0xa14e69e2, 0xcd65daf4, 0xd50605be, 0x1fd13462, 0x8ac4a6fe, 0x9d342e53, 0xa0a2f355, 0x32058ae1, 0x75a4f6eb, 0x390b83ec, 0xaa4060ef, 0x065e719f, 0x51bd6e10, 0xf93e218a, 0x3d96dd06, 0xaedd3e05, 0x464de6bd, 0xb591548d, 0x0571c45d, 0x6f0406d4, 0xff605015, 0x241998fb, 0x97d6bde9, 0xcc894043, 0x7767d99e, 0xbdb0e842, 0x8807898b, 0x38e7195b, 0xdb79c8ee, 0x47a17c0a, 0xe97c420f, 0xc9f8841e, 0x00000000, 0x83098086, 0x48322bed, 0xac1e1170, 0x4e6c5a72, 0xfbfd0eff, 0x560f8538, 0x1e3daed5, 0x27362d39, 0x640a0fd9, 0x21685ca6, 0xd19b5b54, 0x3a24362e, 0xb10c0a67, 0x0f9357e7, 0xd2b4ee96, 0x9e1b9b91, 0x4f80c0c5, 0xa261dc20, 0x695a774b, 0x161c121a, 0x0ae293ba, 0xe5c0a02a, 0x433c22e0, 0x1d121b17, 0x0b0e090d, 0xadf28bc7, 0xb92db6a8, 0xc8141ea9, 0x8557f119, 0x4caf7507, 0xbbee99dd, 0xfda37f60, 0x9ff70126, 0xbc5c72f5, 0xc544663b, 0x345bfb7e, 0x768b4329, 0xdccb23c6, 0x68b6edfc, 0x63b8e4f1, 0xcad731dc, 0x10426385, 0x40139722, 0x2084c611, 0x7d854a24, 0xf8d2bb3d, 0x11aef932, 0x6dc729a1, 0x4b1d9e2f, 0xf3dcb230, 0xec0d8652, 0xd077c1e3, 0x6c2bb316, 0x99a970b9, 0xfa119448, 0x2247e964, 0xc4a8fc8c, 0x1aa0f03f, 0xd8567d2c, 0xef223390, 0xc787494e, 0xc1d938d1, 0xfe8ccaa2, 0x3698d40b, 0xcfa6f581, 0x28a57ade, 0x26dab78e, 0xa43fadbf, 0xe42c3a9d, 0x0d507892, 0x9b6a5fcc, 0x62547e46, 0xc2f68d13, 0xe890d8b8, 0x5e2e39f7, 0xf582c3af, 0xbe9f5d80, 0x7c69d093, 0xa96fd52d, 0xb3cf2512, 0x3bc8ac99, 0xa710187d, 0x6ee89c63, 0x7bdb3bbb, 0x09cd2678, 0xf46e5918, 0x01ec9ab7, 0xa8834f9a, 0x65e6956e, 0x7eaaffe6, 0x0821bccf, 0xe6ef15e8, 0xd9bae79b, 0xce4a6f36, 0xd4ea9f09, 0xd629b07c, 0xaf31a4b2, 0x312a3f23, 0x30c6a594, 0xc035a266, 0x37744ebc, 0xa6fc82ca, 0xb0e090d0, 0x1533a7d8, 0x4af10498, 0xf741ecda, 0x0e7fcd50, 0x2f1791f6, 0x8d764dd6, 0x4d43efb0, 0x54ccaa4d, 0xdfe49604, 0xe39ed1b5, 0x1b4c6a88, 0xb8c12c1f, 0x7f466551, 0x049d5eea, 0x5d018c35, 0x73fa8774, 0x2efb0b41, 0x5ab3671d, 0x5292dbd2, 0x33e91056, 0x136dd647, 0x8c9ad761, 0x7a37a10c, 0x8e59f814, 0x89eb133c, 0xeecea927, 0x35b761c9, 0xede11ce5, 0x3c7a47b1, 0x599cd2df, 0x3f55f273, 0x791814ce, 0xbf73c737, 0xea53f7cd, 0x5b5ffdaa, 0x14df3d6f, 0x867844db, 0x81caaff3, 0x3eb968c4, 0x2c382434, 0x5fc2a340, 0x72161dc3, 0x0cbce225, 0x8b283c49, 0x41ff0d95, 0x7139a801, 0xde080cb3, 0x9cd8b4e4, 0x906456c1, 0x617bcb84, 0x70d532b6, 0x74486c5c, 0x42d0b857];\n  var T7 = [0xa75051f4, 0x65537e41, 0xa4c31a17, 0x5e963a27, 0x6bcb3bab, 0x45f11f9d, 0x58abacfa, 0x03934be3, 0xfa552030, 0x6df6ad76, 0x769188cc, 0x4c25f502, 0xd7fc4fe5, 0xcbd7c52a, 0x44802635, 0xa38fb562, 0x5a49deb1, 0x1b6725ba, 0x0e9845ea, 0xc0e15dfe, 0x7502c32f, 0xf012814c, 0x97a38d46, 0xf9c66bd3, 0x5fe7038f, 0x9c951592, 0x7aebbf6d, 0x59da9552, 0x832dd4be, 0x21d35874, 0x692949e0, 0xc8448ec9, 0x896a75c2, 0x7978f48e, 0x3e6b9958, 0x71dd27b9, 0x4fb6bee1, 0xad17f088, 0xac66c920, 0x3ab47dce, 0x4a1863df, 0x3182e51a, 0x33609751, 0x7f456253, 0x77e0b164, 0xae84bb6b, 0xa01cfe81, 0x2b94f908, 0x68587048, 0xfd198f45, 0x6c8794de, 0xf8b7527b, 0xd323ab73, 0x02e2724b, 0x8f57e31f, 0xab2a6655, 0x2807b2eb, 0xc2032fb5, 0x7b9a86c5, 0x08a5d337, 0x87f23028, 0xa5b223bf, 0x6aba0203, 0x825ced16, 0x1c2b8acf, 0xb492a779, 0xf2f0f307, 0xe2a14e69, 0xf4cd65da, 0xbed50605, 0x621fd134, 0xfe8ac4a6, 0x539d342e, 0x55a0a2f3, 0xe132058a, 0xeb75a4f6, 0xec390b83, 0xefaa4060, 0x9f065e71, 0x1051bd6e, 0x8af93e21, 0x063d96dd, 0x05aedd3e, 0xbd464de6, 0x8db59154, 0x5d0571c4, 0xd46f0406, 0x15ff6050, 0xfb241998, 0xe997d6bd, 0x43cc8940, 0x9e7767d9, 0x42bdb0e8, 0x8b880789, 0x5b38e719, 0xeedb79c8, 0x0a47a17c, 0x0fe97c42, 0x1ec9f884, 0x00000000, 0x86830980, 0xed48322b, 0x70ac1e11, 0x724e6c5a, 0xfffbfd0e, 0x38560f85, 0xd51e3dae, 0x3927362d, 0xd9640a0f, 0xa621685c, 0x54d19b5b, 0x2e3a2436, 0x67b10c0a, 0xe70f9357, 0x96d2b4ee, 0x919e1b9b, 0xc54f80c0, 0x20a261dc, 0x4b695a77, 0x1a161c12, 0xba0ae293, 0x2ae5c0a0, 0xe0433c22, 0x171d121b, 0x0d0b0e09, 0xc7adf28b, 0xa8b92db6, 0xa9c8141e, 0x198557f1, 0x074caf75, 0xddbbee99, 0x60fda37f, 0x269ff701, 0xf5bc5c72, 0x3bc54466, 0x7e345bfb, 0x29768b43, 0xc6dccb23, 0xfc68b6ed, 0xf163b8e4, 0xdccad731, 0x85104263, 0x22401397, 0x112084c6, 0x247d854a, 0x3df8d2bb, 0x3211aef9, 0xa16dc729, 0x2f4b1d9e, 0x30f3dcb2, 0x52ec0d86, 0xe3d077c1, 0x166c2bb3, 0xb999a970, 0x48fa1194, 0x642247e9, 0x8cc4a8fc, 0x3f1aa0f0, 0x2cd8567d, 0x90ef2233, 0x4ec78749, 0xd1c1d938, 0xa2fe8cca, 0x0b3698d4, 0x81cfa6f5, 0xde28a57a, 0x8e26dab7, 0xbfa43fad, 0x9de42c3a, 0x920d5078, 0xcc9b6a5f, 0x4662547e, 0x13c2f68d, 0xb8e890d8, 0xf75e2e39, 0xaff582c3, 0x80be9f5d, 0x937c69d0, 0x2da96fd5, 0x12b3cf25, 0x993bc8ac, 0x7da71018, 0x636ee89c, 0xbb7bdb3b, 0x7809cd26, 0x18f46e59, 0xb701ec9a, 0x9aa8834f, 0x6e65e695, 0xe67eaaff, 0xcf0821bc, 0xe8e6ef15, 0x9bd9bae7, 0x36ce4a6f, 0x09d4ea9f, 0x7cd629b0, 0xb2af31a4, 0x23312a3f, 0x9430c6a5, 0x66c035a2, 0xbc37744e, 0xcaa6fc82, 0xd0b0e090, 0xd81533a7, 0x984af104, 0xdaf741ec, 0x500e7fcd, 0xf62f1791, 0xd68d764d, 0xb04d43ef, 0x4d54ccaa, 0x04dfe496, 0xb5e39ed1, 0x881b4c6a, 0x1fb8c12c, 0x517f4665, 0xea049d5e, 0x355d018c, 0x7473fa87, 0x412efb0b, 0x1d5ab367, 0xd25292db, 0x5633e910, 0x47136dd6, 0x618c9ad7, 0x0c7a37a1, 0x148e59f8, 0x3c89eb13, 0x27eecea9, 0xc935b761, 0xe5ede11c, 0xb13c7a47, 0xdf599cd2, 0x733f55f2, 0xce791814, 0x37bf73c7, 0xcdea53f7, 0xaa5b5ffd, 0x6f14df3d, 0xdb867844, 0xf381caaf, 0xc43eb968, 0x342c3824, 0x405fc2a3, 0xc372161d, 0x250cbce2, 0x498b283c, 0x9541ff0d, 0x017139a8, 0xb3de080c, 0xe49cd8b4, 0xc1906456, 0x84617bcb, 0xb670d532, 0x5c74486c, 0x5742d0b8];\n  var T8 = [0xf4a75051, 0x4165537e, 0x17a4c31a, 0x275e963a, 0xab6bcb3b, 0x9d45f11f, 0xfa58abac, 0xe303934b, 0x30fa5520, 0x766df6ad, 0xcc769188, 0x024c25f5, 0xe5d7fc4f, 0x2acbd7c5, 0x35448026, 0x62a38fb5, 0xb15a49de, 0xba1b6725, 0xea0e9845, 0xfec0e15d, 0x2f7502c3, 0x4cf01281, 0x4697a38d, 0xd3f9c66b, 0x8f5fe703, 0x929c9515, 0x6d7aebbf, 0x5259da95, 0xbe832dd4, 0x7421d358, 0xe0692949, 0xc9c8448e, 0xc2896a75, 0x8e7978f4, 0x583e6b99, 0xb971dd27, 0xe14fb6be, 0x88ad17f0, 0x20ac66c9, 0xce3ab47d, 0xdf4a1863, 0x1a3182e5, 0x51336097, 0x537f4562, 0x6477e0b1, 0x6bae84bb, 0x81a01cfe, 0x082b94f9, 0x48685870, 0x45fd198f, 0xde6c8794, 0x7bf8b752, 0x73d323ab, 0x4b02e272, 0x1f8f57e3, 0x55ab2a66, 0xeb2807b2, 0xb5c2032f, 0xc57b9a86, 0x3708a5d3, 0x2887f230, 0xbfa5b223, 0x036aba02, 0x16825ced, 0xcf1c2b8a, 0x79b492a7, 0x07f2f0f3, 0x69e2a14e, 0xdaf4cd65, 0x05bed506, 0x34621fd1, 0xa6fe8ac4, 0x2e539d34, 0xf355a0a2, 0x8ae13205, 0xf6eb75a4, 0x83ec390b, 0x60efaa40, 0x719f065e, 0x6e1051bd, 0x218af93e, 0xdd063d96, 0x3e05aedd, 0xe6bd464d, 0x548db591, 0xc45d0571, 0x06d46f04, 0x5015ff60, 0x98fb2419, 0xbde997d6, 0x4043cc89, 0xd99e7767, 0xe842bdb0, 0x898b8807, 0x195b38e7, 0xc8eedb79, 0x7c0a47a1, 0x420fe97c, 0x841ec9f8, 0x00000000, 0x80868309, 0x2bed4832, 0x1170ac1e, 0x5a724e6c, 0x0efffbfd, 0x8538560f, 0xaed51e3d, 0x2d392736, 0x0fd9640a, 0x5ca62168, 0x5b54d19b, 0x362e3a24, 0x0a67b10c, 0x57e70f93, 0xee96d2b4, 0x9b919e1b, 0xc0c54f80, 0xdc20a261, 0x774b695a, 0x121a161c, 0x93ba0ae2, 0xa02ae5c0, 0x22e0433c, 0x1b171d12, 0x090d0b0e, 0x8bc7adf2, 0xb6a8b92d, 0x1ea9c814, 0xf1198557, 0x75074caf, 0x99ddbbee, 0x7f60fda3, 0x01269ff7, 0x72f5bc5c, 0x663bc544, 0xfb7e345b, 0x4329768b, 0x23c6dccb, 0xedfc68b6, 0xe4f163b8, 0x31dccad7, 0x63851042, 0x97224013, 0xc6112084, 0x4a247d85, 0xbb3df8d2, 0xf93211ae, 0x29a16dc7, 0x9e2f4b1d, 0xb230f3dc, 0x8652ec0d, 0xc1e3d077, 0xb3166c2b, 0x70b999a9, 0x9448fa11, 0xe9642247, 0xfc8cc4a8, 0xf03f1aa0, 0x7d2cd856, 0x3390ef22, 0x494ec787, 0x38d1c1d9, 0xcaa2fe8c, 0xd40b3698, 0xf581cfa6, 0x7ade28a5, 0xb78e26da, 0xadbfa43f, 0x3a9de42c, 0x78920d50, 0x5fcc9b6a, 0x7e466254, 0x8d13c2f6, 0xd8b8e890, 0x39f75e2e, 0xc3aff582, 0x5d80be9f, 0xd0937c69, 0xd52da96f, 0x2512b3cf, 0xac993bc8, 0x187da710, 0x9c636ee8, 0x3bbb7bdb, 0x267809cd, 0x5918f46e, 0x9ab701ec, 0x4f9aa883, 0x956e65e6, 0xffe67eaa, 0xbccf0821, 0x15e8e6ef, 0xe79bd9ba, 0x6f36ce4a, 0x9f09d4ea, 0xb07cd629, 0xa4b2af31, 0x3f23312a, 0xa59430c6, 0xa266c035, 0x4ebc3774, 0x82caa6fc, 0x90d0b0e0, 0xa7d81533, 0x04984af1, 0xecdaf741, 0xcd500e7f, 0x91f62f17, 0x4dd68d76, 0xefb04d43, 0xaa4d54cc, 0x9604dfe4, 0xd1b5e39e, 0x6a881b4c, 0x2c1fb8c1, 0x65517f46, 0x5eea049d, 0x8c355d01, 0x877473fa, 0x0b412efb, 0x671d5ab3, 0xdbd25292, 0x105633e9, 0xd647136d, 0xd7618c9a, 0xa10c7a37, 0xf8148e59, 0x133c89eb, 0xa927eece, 0x61c935b7, 0x1ce5ede1, 0x47b13c7a, 0xd2df599c, 0xf2733f55, 0x14ce7918, 0xc737bf73, 0xf7cdea53, 0xfdaa5b5f, 0x3d6f14df, 0x44db8678, 0xaff381ca, 0x68c43eb9, 0x24342c38, 0xa3405fc2, 0x1dc37216, 0xe2250cbc, 0x3c498b28, 0x0d9541ff, 0xa8017139, 0x0cb3de08, 0xb4e49cd8, 0x56c19064, 0xcb84617b, 0x32b670d5, 0x6c5c7448, 0xb85742d0];\n\n  // Transformations for decryption key expansion\n  var U1 = [0x00000000, 0x0e090d0b, 0x1c121a16, 0x121b171d, 0x3824342c, 0x362d3927, 0x24362e3a, 0x2a3f2331, 0x70486858, 0x7e416553, 0x6c5a724e, 0x62537f45, 0x486c5c74, 0x4665517f, 0x547e4662, 0x5a774b69, 0xe090d0b0, 0xee99ddbb, 0xfc82caa6, 0xf28bc7ad, 0xd8b4e49c, 0xd6bde997, 0xc4a6fe8a, 0xcaaff381, 0x90d8b8e8, 0x9ed1b5e3, 0x8ccaa2fe, 0x82c3aff5, 0xa8fc8cc4, 0xa6f581cf, 0xb4ee96d2, 0xbae79bd9, 0xdb3bbb7b, 0xd532b670, 0xc729a16d, 0xc920ac66, 0xe31f8f57, 0xed16825c, 0xff0d9541, 0xf104984a, 0xab73d323, 0xa57ade28, 0xb761c935, 0xb968c43e, 0x9357e70f, 0x9d5eea04, 0x8f45fd19, 0x814cf012, 0x3bab6bcb, 0x35a266c0, 0x27b971dd, 0x29b07cd6, 0x038f5fe7, 0x0d8652ec, 0x1f9d45f1, 0x119448fa, 0x4be30393, 0x45ea0e98, 0x57f11985, 0x59f8148e, 0x73c737bf, 0x7dce3ab4, 0x6fd52da9, 0x61dc20a2, 0xad766df6, 0xa37f60fd, 0xb16477e0, 0xbf6d7aeb, 0x955259da, 0x9b5b54d1, 0x894043cc, 0x87494ec7, 0xdd3e05ae, 0xd33708a5, 0xc12c1fb8, 0xcf2512b3, 0xe51a3182, 0xeb133c89, 0xf9082b94, 0xf701269f, 0x4de6bd46, 0x43efb04d, 0x51f4a750, 0x5ffdaa5b, 0x75c2896a, 0x7bcb8461, 0x69d0937c, 0x67d99e77, 0x3daed51e, 0x33a7d815, 0x21bccf08, 0x2fb5c203, 0x058ae132, 0x0b83ec39, 0x1998fb24, 0x1791f62f, 0x764dd68d, 0x7844db86, 0x6a5fcc9b, 0x6456c190, 0x4e69e2a1, 0x4060efaa, 0x527bf8b7, 0x5c72f5bc, 0x0605bed5, 0x080cb3de, 0x1a17a4c3, 0x141ea9c8, 0x3e218af9, 0x302887f2, 0x223390ef, 0x2c3a9de4, 0x96dd063d, 0x98d40b36, 0x8acf1c2b, 0x84c61120, 0xaef93211, 0xa0f03f1a, 0xb2eb2807, 0xbce2250c, 0xe6956e65, 0xe89c636e, 0xfa877473, 0xf48e7978, 0xdeb15a49, 0xd0b85742, 0xc2a3405f, 0xccaa4d54, 0x41ecdaf7, 0x4fe5d7fc, 0x5dfec0e1, 0x53f7cdea, 0x79c8eedb, 0x77c1e3d0, 0x65daf4cd, 0x6bd3f9c6, 0x31a4b2af, 0x3fadbfa4, 0x2db6a8b9, 0x23bfa5b2, 0x09808683, 0x07898b88, 0x15929c95, 0x1b9b919e, 0xa17c0a47, 0xaf75074c, 0xbd6e1051, 0xb3671d5a, 0x99583e6b, 0x97513360, 0x854a247d, 0x8b432976, 0xd134621f, 0xdf3d6f14, 0xcd267809, 0xc32f7502, 0xe9105633, 0xe7195b38, 0xf5024c25, 0xfb0b412e, 0x9ad7618c, 0x94de6c87, 0x86c57b9a, 0x88cc7691, 0xa2f355a0, 0xacfa58ab, 0xbee14fb6, 0xb0e842bd, 0xea9f09d4, 0xe49604df, 0xf68d13c2, 0xf8841ec9, 0xd2bb3df8, 0xdcb230f3, 0xcea927ee, 0xc0a02ae5, 0x7a47b13c, 0x744ebc37, 0x6655ab2a, 0x685ca621, 0x42638510, 0x4c6a881b, 0x5e719f06, 0x5078920d, 0x0a0fd964, 0x0406d46f, 0x161dc372, 0x1814ce79, 0x322bed48, 0x3c22e043, 0x2e39f75e, 0x2030fa55, 0xec9ab701, 0xe293ba0a, 0xf088ad17, 0xfe81a01c, 0xd4be832d, 0xdab78e26, 0xc8ac993b, 0xc6a59430, 0x9cd2df59, 0x92dbd252, 0x80c0c54f, 0x8ec9c844, 0xa4f6eb75, 0xaaffe67e, 0xb8e4f163, 0xb6edfc68, 0x0c0a67b1, 0x02036aba, 0x10187da7, 0x1e1170ac, 0x342e539d, 0x3a275e96, 0x283c498b, 0x26354480, 0x7c420fe9, 0x724b02e2, 0x605015ff, 0x6e5918f4, 0x44663bc5, 0x4a6f36ce, 0x587421d3, 0x567d2cd8, 0x37a10c7a, 0x39a80171, 0x2bb3166c, 0x25ba1b67, 0x0f853856, 0x018c355d, 0x13972240, 0x1d9e2f4b, 0x47e96422, 0x49e06929, 0x5bfb7e34, 0x55f2733f, 0x7fcd500e, 0x71c45d05, 0x63df4a18, 0x6dd64713, 0xd731dcca, 0xd938d1c1, 0xcb23c6dc, 0xc52acbd7, 0xef15e8e6, 0xe11ce5ed, 0xf307f2f0, 0xfd0efffb, 0xa779b492, 0xa970b999, 0xbb6bae84, 0xb562a38f, 0x9f5d80be, 0x91548db5, 0x834f9aa8, 0x8d4697a3];\n  var U2 = [0x00000000, 0x0b0e090d, 0x161c121a, 0x1d121b17, 0x2c382434, 0x27362d39, 0x3a24362e, 0x312a3f23, 0x58704868, 0x537e4165, 0x4e6c5a72, 0x4562537f, 0x74486c5c, 0x7f466551, 0x62547e46, 0x695a774b, 0xb0e090d0, 0xbbee99dd, 0xa6fc82ca, 0xadf28bc7, 0x9cd8b4e4, 0x97d6bde9, 0x8ac4a6fe, 0x81caaff3, 0xe890d8b8, 0xe39ed1b5, 0xfe8ccaa2, 0xf582c3af, 0xc4a8fc8c, 0xcfa6f581, 0xd2b4ee96, 0xd9bae79b, 0x7bdb3bbb, 0x70d532b6, 0x6dc729a1, 0x66c920ac, 0x57e31f8f, 0x5ced1682, 0x41ff0d95, 0x4af10498, 0x23ab73d3, 0x28a57ade, 0x35b761c9, 0x3eb968c4, 0x0f9357e7, 0x049d5eea, 0x198f45fd, 0x12814cf0, 0xcb3bab6b, 0xc035a266, 0xdd27b971, 0xd629b07c, 0xe7038f5f, 0xec0d8652, 0xf11f9d45, 0xfa119448, 0x934be303, 0x9845ea0e, 0x8557f119, 0x8e59f814, 0xbf73c737, 0xb47dce3a, 0xa96fd52d, 0xa261dc20, 0xf6ad766d, 0xfda37f60, 0xe0b16477, 0xebbf6d7a, 0xda955259, 0xd19b5b54, 0xcc894043, 0xc787494e, 0xaedd3e05, 0xa5d33708, 0xb8c12c1f, 0xb3cf2512, 0x82e51a31, 0x89eb133c, 0x94f9082b, 0x9ff70126, 0x464de6bd, 0x4d43efb0, 0x5051f4a7, 0x5b5ffdaa, 0x6a75c289, 0x617bcb84, 0x7c69d093, 0x7767d99e, 0x1e3daed5, 0x1533a7d8, 0x0821bccf, 0x032fb5c2, 0x32058ae1, 0x390b83ec, 0x241998fb, 0x2f1791f6, 0x8d764dd6, 0x867844db, 0x9b6a5fcc, 0x906456c1, 0xa14e69e2, 0xaa4060ef, 0xb7527bf8, 0xbc5c72f5, 0xd50605be, 0xde080cb3, 0xc31a17a4, 0xc8141ea9, 0xf93e218a, 0xf2302887, 0xef223390, 0xe42c3a9d, 0x3d96dd06, 0x3698d40b, 0x2b8acf1c, 0x2084c611, 0x11aef932, 0x1aa0f03f, 0x07b2eb28, 0x0cbce225, 0x65e6956e, 0x6ee89c63, 0x73fa8774, 0x78f48e79, 0x49deb15a, 0x42d0b857, 0x5fc2a340, 0x54ccaa4d, 0xf741ecda, 0xfc4fe5d7, 0xe15dfec0, 0xea53f7cd, 0xdb79c8ee, 0xd077c1e3, 0xcd65daf4, 0xc66bd3f9, 0xaf31a4b2, 0xa43fadbf, 0xb92db6a8, 0xb223bfa5, 0x83098086, 0x8807898b, 0x9515929c, 0x9e1b9b91, 0x47a17c0a, 0x4caf7507, 0x51bd6e10, 0x5ab3671d, 0x6b99583e, 0x60975133, 0x7d854a24, 0x768b4329, 0x1fd13462, 0x14df3d6f, 0x09cd2678, 0x02c32f75, 0x33e91056, 0x38e7195b, 0x25f5024c, 0x2efb0b41, 0x8c9ad761, 0x8794de6c, 0x9a86c57b, 0x9188cc76, 0xa0a2f355, 0xabacfa58, 0xb6bee14f, 0xbdb0e842, 0xd4ea9f09, 0xdfe49604, 0xc2f68d13, 0xc9f8841e, 0xf8d2bb3d, 0xf3dcb230, 0xeecea927, 0xe5c0a02a, 0x3c7a47b1, 0x37744ebc, 0x2a6655ab, 0x21685ca6, 0x10426385, 0x1b4c6a88, 0x065e719f, 0x0d507892, 0x640a0fd9, 0x6f0406d4, 0x72161dc3, 0x791814ce, 0x48322bed, 0x433c22e0, 0x5e2e39f7, 0x552030fa, 0x01ec9ab7, 0x0ae293ba, 0x17f088ad, 0x1cfe81a0, 0x2dd4be83, 0x26dab78e, 0x3bc8ac99, 0x30c6a594, 0x599cd2df, 0x5292dbd2, 0x4f80c0c5, 0x448ec9c8, 0x75a4f6eb, 0x7eaaffe6, 0x63b8e4f1, 0x68b6edfc, 0xb10c0a67, 0xba02036a, 0xa710187d, 0xac1e1170, 0x9d342e53, 0x963a275e, 0x8b283c49, 0x80263544, 0xe97c420f, 0xe2724b02, 0xff605015, 0xf46e5918, 0xc544663b, 0xce4a6f36, 0xd3587421, 0xd8567d2c, 0x7a37a10c, 0x7139a801, 0x6c2bb316, 0x6725ba1b, 0x560f8538, 0x5d018c35, 0x40139722, 0x4b1d9e2f, 0x2247e964, 0x2949e069, 0x345bfb7e, 0x3f55f273, 0x0e7fcd50, 0x0571c45d, 0x1863df4a, 0x136dd647, 0xcad731dc, 0xc1d938d1, 0xdccb23c6, 0xd7c52acb, 0xe6ef15e8, 0xede11ce5, 0xf0f307f2, 0xfbfd0eff, 0x92a779b4, 0x99a970b9, 0x84bb6bae, 0x8fb562a3, 0xbe9f5d80, 0xb591548d, 0xa8834f9a, 0xa38d4697];\n  var U3 = [0x00000000, 0x0d0b0e09, 0x1a161c12, 0x171d121b, 0x342c3824, 0x3927362d, 0x2e3a2436, 0x23312a3f, 0x68587048, 0x65537e41, 0x724e6c5a, 0x7f456253, 0x5c74486c, 0x517f4665, 0x4662547e, 0x4b695a77, 0xd0b0e090, 0xddbbee99, 0xcaa6fc82, 0xc7adf28b, 0xe49cd8b4, 0xe997d6bd, 0xfe8ac4a6, 0xf381caaf, 0xb8e890d8, 0xb5e39ed1, 0xa2fe8cca, 0xaff582c3, 0x8cc4a8fc, 0x81cfa6f5, 0x96d2b4ee, 0x9bd9bae7, 0xbb7bdb3b, 0xb670d532, 0xa16dc729, 0xac66c920, 0x8f57e31f, 0x825ced16, 0x9541ff0d, 0x984af104, 0xd323ab73, 0xde28a57a, 0xc935b761, 0xc43eb968, 0xe70f9357, 0xea049d5e, 0xfd198f45, 0xf012814c, 0x6bcb3bab, 0x66c035a2, 0x71dd27b9, 0x7cd629b0, 0x5fe7038f, 0x52ec0d86, 0x45f11f9d, 0x48fa1194, 0x03934be3, 0x0e9845ea, 0x198557f1, 0x148e59f8, 0x37bf73c7, 0x3ab47dce, 0x2da96fd5, 0x20a261dc, 0x6df6ad76, 0x60fda37f, 0x77e0b164, 0x7aebbf6d, 0x59da9552, 0x54d19b5b, 0x43cc8940, 0x4ec78749, 0x05aedd3e, 0x08a5d337, 0x1fb8c12c, 0x12b3cf25, 0x3182e51a, 0x3c89eb13, 0x2b94f908, 0x269ff701, 0xbd464de6, 0xb04d43ef, 0xa75051f4, 0xaa5b5ffd, 0x896a75c2, 0x84617bcb, 0x937c69d0, 0x9e7767d9, 0xd51e3dae, 0xd81533a7, 0xcf0821bc, 0xc2032fb5, 0xe132058a, 0xec390b83, 0xfb241998, 0xf62f1791, 0xd68d764d, 0xdb867844, 0xcc9b6a5f, 0xc1906456, 0xe2a14e69, 0xefaa4060, 0xf8b7527b, 0xf5bc5c72, 0xbed50605, 0xb3de080c, 0xa4c31a17, 0xa9c8141e, 0x8af93e21, 0x87f23028, 0x90ef2233, 0x9de42c3a, 0x063d96dd, 0x0b3698d4, 0x1c2b8acf, 0x112084c6, 0x3211aef9, 0x3f1aa0f0, 0x2807b2eb, 0x250cbce2, 0x6e65e695, 0x636ee89c, 0x7473fa87, 0x7978f48e, 0x5a49deb1, 0x5742d0b8, 0x405fc2a3, 0x4d54ccaa, 0xdaf741ec, 0xd7fc4fe5, 0xc0e15dfe, 0xcdea53f7, 0xeedb79c8, 0xe3d077c1, 0xf4cd65da, 0xf9c66bd3, 0xb2af31a4, 0xbfa43fad, 0xa8b92db6, 0xa5b223bf, 0x86830980, 0x8b880789, 0x9c951592, 0x919e1b9b, 0x0a47a17c, 0x074caf75, 0x1051bd6e, 0x1d5ab367, 0x3e6b9958, 0x33609751, 0x247d854a, 0x29768b43, 0x621fd134, 0x6f14df3d, 0x7809cd26, 0x7502c32f, 0x5633e910, 0x5b38e719, 0x4c25f502, 0x412efb0b, 0x618c9ad7, 0x6c8794de, 0x7b9a86c5, 0x769188cc, 0x55a0a2f3, 0x58abacfa, 0x4fb6bee1, 0x42bdb0e8, 0x09d4ea9f, 0x04dfe496, 0x13c2f68d, 0x1ec9f884, 0x3df8d2bb, 0x30f3dcb2, 0x27eecea9, 0x2ae5c0a0, 0xb13c7a47, 0xbc37744e, 0xab2a6655, 0xa621685c, 0x85104263, 0x881b4c6a, 0x9f065e71, 0x920d5078, 0xd9640a0f, 0xd46f0406, 0xc372161d, 0xce791814, 0xed48322b, 0xe0433c22, 0xf75e2e39, 0xfa552030, 0xb701ec9a, 0xba0ae293, 0xad17f088, 0xa01cfe81, 0x832dd4be, 0x8e26dab7, 0x993bc8ac, 0x9430c6a5, 0xdf599cd2, 0xd25292db, 0xc54f80c0, 0xc8448ec9, 0xeb75a4f6, 0xe67eaaff, 0xf163b8e4, 0xfc68b6ed, 0x67b10c0a, 0x6aba0203, 0x7da71018, 0x70ac1e11, 0x539d342e, 0x5e963a27, 0x498b283c, 0x44802635, 0x0fe97c42, 0x02e2724b, 0x15ff6050, 0x18f46e59, 0x3bc54466, 0x36ce4a6f, 0x21d35874, 0x2cd8567d, 0x0c7a37a1, 0x017139a8, 0x166c2bb3, 0x1b6725ba, 0x38560f85, 0x355d018c, 0x22401397, 0x2f4b1d9e, 0x642247e9, 0x692949e0, 0x7e345bfb, 0x733f55f2, 0x500e7fcd, 0x5d0571c4, 0x4a1863df, 0x47136dd6, 0xdccad731, 0xd1c1d938, 0xc6dccb23, 0xcbd7c52a, 0xe8e6ef15, 0xe5ede11c, 0xf2f0f307, 0xfffbfd0e, 0xb492a779, 0xb999a970, 0xae84bb6b, 0xa38fb562, 0x80be9f5d, 0x8db59154, 0x9aa8834f, 0x97a38d46];\n  var U4 = [0x00000000, 0x090d0b0e, 0x121a161c, 0x1b171d12, 0x24342c38, 0x2d392736, 0x362e3a24, 0x3f23312a, 0x48685870, 0x4165537e, 0x5a724e6c, 0x537f4562, 0x6c5c7448, 0x65517f46, 0x7e466254, 0x774b695a, 0x90d0b0e0, 0x99ddbbee, 0x82caa6fc, 0x8bc7adf2, 0xb4e49cd8, 0xbde997d6, 0xa6fe8ac4, 0xaff381ca, 0xd8b8e890, 0xd1b5e39e, 0xcaa2fe8c, 0xc3aff582, 0xfc8cc4a8, 0xf581cfa6, 0xee96d2b4, 0xe79bd9ba, 0x3bbb7bdb, 0x32b670d5, 0x29a16dc7, 0x20ac66c9, 0x1f8f57e3, 0x16825ced, 0x0d9541ff, 0x04984af1, 0x73d323ab, 0x7ade28a5, 0x61c935b7, 0x68c43eb9, 0x57e70f93, 0x5eea049d, 0x45fd198f, 0x4cf01281, 0xab6bcb3b, 0xa266c035, 0xb971dd27, 0xb07cd629, 0x8f5fe703, 0x8652ec0d, 0x9d45f11f, 0x9448fa11, 0xe303934b, 0xea0e9845, 0xf1198557, 0xf8148e59, 0xc737bf73, 0xce3ab47d, 0xd52da96f, 0xdc20a261, 0x766df6ad, 0x7f60fda3, 0x6477e0b1, 0x6d7aebbf, 0x5259da95, 0x5b54d19b, 0x4043cc89, 0x494ec787, 0x3e05aedd, 0x3708a5d3, 0x2c1fb8c1, 0x2512b3cf, 0x1a3182e5, 0x133c89eb, 0x082b94f9, 0x01269ff7, 0xe6bd464d, 0xefb04d43, 0xf4a75051, 0xfdaa5b5f, 0xc2896a75, 0xcb84617b, 0xd0937c69, 0xd99e7767, 0xaed51e3d, 0xa7d81533, 0xbccf0821, 0xb5c2032f, 0x8ae13205, 0x83ec390b, 0x98fb2419, 0x91f62f17, 0x4dd68d76, 0x44db8678, 0x5fcc9b6a, 0x56c19064, 0x69e2a14e, 0x60efaa40, 0x7bf8b752, 0x72f5bc5c, 0x05bed506, 0x0cb3de08, 0x17a4c31a, 0x1ea9c814, 0x218af93e, 0x2887f230, 0x3390ef22, 0x3a9de42c, 0xdd063d96, 0xd40b3698, 0xcf1c2b8a, 0xc6112084, 0xf93211ae, 0xf03f1aa0, 0xeb2807b2, 0xe2250cbc, 0x956e65e6, 0x9c636ee8, 0x877473fa, 0x8e7978f4, 0xb15a49de, 0xb85742d0, 0xa3405fc2, 0xaa4d54cc, 0xecdaf741, 0xe5d7fc4f, 0xfec0e15d, 0xf7cdea53, 0xc8eedb79, 0xc1e3d077, 0xdaf4cd65, 0xd3f9c66b, 0xa4b2af31, 0xadbfa43f, 0xb6a8b92d, 0xbfa5b223, 0x80868309, 0x898b8807, 0x929c9515, 0x9b919e1b, 0x7c0a47a1, 0x75074caf, 0x6e1051bd, 0x671d5ab3, 0x583e6b99, 0x51336097, 0x4a247d85, 0x4329768b, 0x34621fd1, 0x3d6f14df, 0x267809cd, 0x2f7502c3, 0x105633e9, 0x195b38e7, 0x024c25f5, 0x0b412efb, 0xd7618c9a, 0xde6c8794, 0xc57b9a86, 0xcc769188, 0xf355a0a2, 0xfa58abac, 0xe14fb6be, 0xe842bdb0, 0x9f09d4ea, 0x9604dfe4, 0x8d13c2f6, 0x841ec9f8, 0xbb3df8d2, 0xb230f3dc, 0xa927eece, 0xa02ae5c0, 0x47b13c7a, 0x4ebc3774, 0x55ab2a66, 0x5ca62168, 0x63851042, 0x6a881b4c, 0x719f065e, 0x78920d50, 0x0fd9640a, 0x06d46f04, 0x1dc37216, 0x14ce7918, 0x2bed4832, 0x22e0433c, 0x39f75e2e, 0x30fa5520, 0x9ab701ec, 0x93ba0ae2, 0x88ad17f0, 0x81a01cfe, 0xbe832dd4, 0xb78e26da, 0xac993bc8, 0xa59430c6, 0xd2df599c, 0xdbd25292, 0xc0c54f80, 0xc9c8448e, 0xf6eb75a4, 0xffe67eaa, 0xe4f163b8, 0xedfc68b6, 0x0a67b10c, 0x036aba02, 0x187da710, 0x1170ac1e, 0x2e539d34, 0x275e963a, 0x3c498b28, 0x35448026, 0x420fe97c, 0x4b02e272, 0x5015ff60, 0x5918f46e, 0x663bc544, 0x6f36ce4a, 0x7421d358, 0x7d2cd856, 0xa10c7a37, 0xa8017139, 0xb3166c2b, 0xba1b6725, 0x8538560f, 0x8c355d01, 0x97224013, 0x9e2f4b1d, 0xe9642247, 0xe0692949, 0xfb7e345b, 0xf2733f55, 0xcd500e7f, 0xc45d0571, 0xdf4a1863, 0xd647136d, 0x31dccad7, 0x38d1c1d9, 0x23c6dccb, 0x2acbd7c5, 0x15e8e6ef, 0x1ce5ede1, 0x07f2f0f3, 0x0efffbfd, 0x79b492a7, 0x70b999a9, 0x6bae84bb, 0x62a38fb5, 0x5d80be9f, 0x548db591, 0x4f9aa883, 0x4697a38d];\n\n  function convertToInt32(bytes) {\n    var result = [];\n    for (var i = 0; i < bytes.length; i += 4) {\n      result.push(\n        (bytes[i    ] << 24) |\n        (bytes[i + 1] << 16) |\n        (bytes[i + 2] <<  8) |\n        bytes[i + 3]\n      );\n    }\n    return result;\n  }\n\n  var AES = function(key) {\n    if (!(this instanceof AES)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    Object.defineProperty(this, 'key', {\n      value: coerceArray(key, true)\n    });\n\n    this._prepare();\n  }\n\n\n  AES.prototype._prepare = function() {\n\n    var rounds = numberOfRounds[this.key.length];\n    if (rounds == null) {\n      throw new Error('invalid key size (must be 16, 24 or 32 bytes)');\n    }\n\n    // encryption round keys\n    this._Ke = [];\n\n    // decryption round keys\n    this._Kd = [];\n\n    for (var i = 0; i <= rounds; i++) {\n      this._Ke.push([0, 0, 0, 0]);\n      this._Kd.push([0, 0, 0, 0]);\n    }\n\n    var roundKeyCount = (rounds + 1) * 4;\n    var KC = this.key.length / 4;\n\n    // convert the key into ints\n    var tk = convertToInt32(this.key);\n\n    // copy values into round key arrays\n    var index;\n    for (var i = 0; i < KC; i++) {\n      index = i >> 2;\n      this._Ke[index][i % 4] = tk[i];\n      this._Kd[rounds - index][i % 4] = tk[i];\n    }\n\n    // key expansion (fips-197 section 5.2)\n    var rconpointer = 0;\n    var t = KC, tt;\n    while (t < roundKeyCount) {\n      tt = tk[KC - 1];\n      tk[0] ^= ((S[(tt >> 16) & 0xFF] << 24) ^\n        (S[(tt >>  8) & 0xFF] << 16) ^\n        (S[ tt        & 0xFF] <<  8) ^\n        S[(tt >> 24) & 0xFF]        ^\n        (rcon[rconpointer] << 24));\n      rconpointer += 1;\n\n      // key expansion (for non-256 bit)\n      if (KC != 8) {\n        for (var i = 1; i < KC; i++) {\n          tk[i] ^= tk[i - 1];\n        }\n\n        // key expansion for 256-bit keys is \"slightly different\" (fips-197)\n      } else {\n        for (var i = 1; i < (KC / 2); i++) {\n          tk[i] ^= tk[i - 1];\n        }\n        tt = tk[(KC / 2) - 1];\n\n        tk[KC / 2] ^= (S[ tt        & 0xFF]        ^\n          (S[(tt >>  8) & 0xFF] <<  8) ^\n          (S[(tt >> 16) & 0xFF] << 16) ^\n          (S[(tt >> 24) & 0xFF] << 24));\n\n        for (var i = (KC / 2) + 1; i < KC; i++) {\n          tk[i] ^= tk[i - 1];\n        }\n      }\n\n      // copy values into round key arrays\n      var i = 0, r, c;\n      while (i < KC && t < roundKeyCount) {\n        r = t >> 2;\n        c = t % 4;\n        this._Ke[r][c] = tk[i];\n        this._Kd[rounds - r][c] = tk[i++];\n        t++;\n      }\n    }\n\n    // inverse-cipher-ify the decryption round key (fips-197 section 5.3)\n    for (var r = 1; r < rounds; r++) {\n      for (var c = 0; c < 4; c++) {\n        tt = this._Kd[r][c];\n        this._Kd[r][c] = (U1[(tt >> 24) & 0xFF] ^\n          U2[(tt >> 16) & 0xFF] ^\n          U3[(tt >>  8) & 0xFF] ^\n          U4[ tt        & 0xFF]);\n      }\n    }\n  }\n\n  AES.prototype.encrypt = function(plaintext) {\n    if (plaintext.length != 16) {\n      throw new Error('invalid plaintext size (must be 16 bytes)');\n    }\n\n    var rounds = this._Ke.length - 1;\n    var a = [0, 0, 0, 0];\n\n    // convert plaintext to (ints ^ key)\n    var t = convertToInt32(plaintext);\n    for (var i = 0; i < 4; i++) {\n      t[i] ^= this._Ke[0][i];\n    }\n\n    // apply round transforms\n    for (var r = 1; r < rounds; r++) {\n      for (var i = 0; i < 4; i++) {\n        a[i] = (T1[(t[ i         ] >> 24) & 0xff] ^\n          T2[(t[(i + 1) % 4] >> 16) & 0xff] ^\n          T3[(t[(i + 2) % 4] >>  8) & 0xff] ^\n          T4[ t[(i + 3) % 4]        & 0xff] ^\n          this._Ke[r][i]);\n      }\n      t = a.slice();\n    }\n\n    // the last round is special\n    var result = createArray(16), tt;\n    for (var i = 0; i < 4; i++) {\n      tt = this._Ke[rounds][i];\n      result[4 * i    ] = (S[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n      result[4 * i + 1] = (S[(t[(i + 1) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n      result[4 * i + 2] = (S[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n      result[4 * i + 3] = (S[ t[(i + 3) % 4]        & 0xff] ^  tt       ) & 0xff;\n    }\n\n    return result;\n  }\n\n  AES.prototype.decrypt = function(ciphertext) {\n    if (ciphertext.length != 16) {\n      throw new Error('invalid ciphertext size (must be 16 bytes)');\n    }\n\n    var rounds = this._Kd.length - 1;\n    var a = [0, 0, 0, 0];\n\n    // convert plaintext to (ints ^ key)\n    var t = convertToInt32(ciphertext);\n    for (var i = 0; i < 4; i++) {\n      t[i] ^= this._Kd[0][i];\n    }\n\n    // apply round transforms\n    for (var r = 1; r < rounds; r++) {\n      for (var i = 0; i < 4; i++) {\n        a[i] = (T5[(t[ i          ] >> 24) & 0xff] ^\n          T6[(t[(i + 3) % 4] >> 16) & 0xff] ^\n          T7[(t[(i + 2) % 4] >>  8) & 0xff] ^\n          T8[ t[(i + 1) % 4]        & 0xff] ^\n          this._Kd[r][i]);\n      }\n      t = a.slice();\n    }\n\n    // the last round is special\n    var result = createArray(16), tt;\n    for (var i = 0; i < 4; i++) {\n      tt = this._Kd[rounds][i];\n      result[4 * i    ] = (Si[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n      result[4 * i + 1] = (Si[(t[(i + 3) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n      result[4 * i + 2] = (Si[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n      result[4 * i + 3] = (Si[ t[(i + 1) % 4]        & 0xff] ^  tt       ) & 0xff;\n    }\n\n    return result;\n  }\n\n\n  /**\n   *  Mode Of Operation - Electonic Codebook (ECB)\n   */\n  var ModeOfOperationECB = function(key) {\n    if (!(this instanceof ModeOfOperationECB)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    this.description = \"Electronic Code Block\";\n    this.name = \"ecb\";\n\n    this._aes = new AES(key);\n  }\n\n  ModeOfOperationECB.prototype.encrypt = function(plaintext) {\n    plaintext = coerceArray(plaintext);\n\n    if ((plaintext.length % 16) !== 0) {\n      throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n    }\n\n    var ciphertext = createArray(plaintext.length);\n    var block = createArray(16);\n\n    for (var i = 0; i < plaintext.length; i += 16) {\n      copyArray(plaintext, block, 0, i, i + 16);\n      block = this._aes.encrypt(block);\n      copyArray(block, ciphertext, i);\n    }\n\n    return ciphertext;\n  }\n\n  ModeOfOperationECB.prototype.decrypt = function(ciphertext) {\n    ciphertext = coerceArray(ciphertext);\n\n    if ((ciphertext.length % 16) !== 0) {\n      throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n    }\n\n    var plaintext = createArray(ciphertext.length);\n    var block = createArray(16);\n\n    for (var i = 0; i < ciphertext.length; i += 16) {\n      copyArray(ciphertext, block, 0, i, i + 16);\n      block = this._aes.decrypt(block);\n      copyArray(block, plaintext, i);\n    }\n\n    return plaintext;\n  }\n\n\n  /**\n   *  Mode Of Operation - Cipher Block Chaining (CBC)\n   */\n  var ModeOfOperationCBC = function(key, iv) {\n    if (!(this instanceof ModeOfOperationCBC)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    this.description = \"Cipher Block Chaining\";\n    this.name = \"cbc\";\n\n    if (!iv) {\n      iv = createArray(16);\n\n    } else if (iv.length != 16) {\n      throw new Error('invalid initialation vector size (must be 16 bytes)');\n    }\n\n    this._lastCipherblock = coerceArray(iv, true);\n\n    this._aes = new AES(key);\n  }\n\n  ModeOfOperationCBC.prototype.encrypt = function(plaintext) {\n    plaintext = coerceArray(plaintext);\n\n    if ((plaintext.length % 16) !== 0) {\n      throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n    }\n\n    var ciphertext = createArray(plaintext.length);\n    var block = createArray(16);\n\n    for (var i = 0; i < plaintext.length; i += 16) {\n      copyArray(plaintext, block, 0, i, i + 16);\n\n      for (var j = 0; j < 16; j++) {\n        block[j] ^= this._lastCipherblock[j];\n      }\n\n      this._lastCipherblock = this._aes.encrypt(block);\n      copyArray(this._lastCipherblock, ciphertext, i);\n    }\n\n    return ciphertext;\n  }\n\n  ModeOfOperationCBC.prototype.decrypt = function(ciphertext) {\n    ciphertext = coerceArray(ciphertext);\n\n    if ((ciphertext.length % 16) !== 0) {\n      throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n    }\n\n    var plaintext = createArray(ciphertext.length);\n    var block = createArray(16);\n\n    for (var i = 0; i < ciphertext.length; i += 16) {\n      copyArray(ciphertext, block, 0, i, i + 16);\n      block = this._aes.decrypt(block);\n\n      for (var j = 0; j < 16; j++) {\n        plaintext[i + j] = block[j] ^ this._lastCipherblock[j];\n      }\n\n      copyArray(ciphertext, this._lastCipherblock, 0, i, i + 16);\n    }\n\n    return plaintext;\n  }\n\n\n  /**\n   *  Mode Of Operation - Cipher Feedback (CFB)\n   */\n  var ModeOfOperationCFB = function(key, iv, segmentSize) {\n    if (!(this instanceof ModeOfOperationCFB)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    this.description = \"Cipher Feedback\";\n    this.name = \"cfb\";\n\n    if (!iv) {\n      iv = createArray(16);\n\n    } else if (iv.length != 16) {\n      throw new Error('invalid initialation vector size (must be 16 size)');\n    }\n\n    if (!segmentSize) { segmentSize = 1; }\n\n    this.segmentSize = segmentSize;\n\n    this._shiftRegister = coerceArray(iv, true);\n\n    this._aes = new AES(key);\n  }\n\n  ModeOfOperationCFB.prototype.encrypt = function(plaintext) {\n    if ((plaintext.length % this.segmentSize) != 0) {\n      throw new Error('invalid plaintext size (must be segmentSize bytes)');\n    }\n\n    var encrypted = coerceArray(plaintext, true);\n\n    var xorSegment;\n    for (var i = 0; i < encrypted.length; i += this.segmentSize) {\n      xorSegment = this._aes.encrypt(this._shiftRegister);\n      for (var j = 0; j < this.segmentSize; j++) {\n        encrypted[i + j] ^= xorSegment[j];\n      }\n\n      // Shift the register\n      copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n      copyArray(encrypted, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n    }\n\n    return encrypted;\n  }\n\n  ModeOfOperationCFB.prototype.decrypt = function(ciphertext) {\n    if ((ciphertext.length % this.segmentSize) != 0) {\n      throw new Error('invalid ciphertext size (must be segmentSize bytes)');\n    }\n\n    var plaintext = coerceArray(ciphertext, true);\n\n    var xorSegment;\n    for (var i = 0; i < plaintext.length; i += this.segmentSize) {\n      xorSegment = this._aes.encrypt(this._shiftRegister);\n\n      for (var j = 0; j < this.segmentSize; j++) {\n        plaintext[i + j] ^= xorSegment[j];\n      }\n\n      // Shift the register\n      copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n      copyArray(ciphertext, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n    }\n\n    return plaintext;\n  }\n\n  /**\n   *  Mode Of Operation - Output Feedback (OFB)\n   */\n  var ModeOfOperationOFB = function(key, iv) {\n    if (!(this instanceof ModeOfOperationOFB)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    this.description = \"Output Feedback\";\n    this.name = \"ofb\";\n\n    if (!iv) {\n      iv = createArray(16);\n\n    } else if (iv.length != 16) {\n      throw new Error('invalid initialation vector size (must be 16 bytes)');\n    }\n\n    this._lastPrecipher = coerceArray(iv, true);\n    this._lastPrecipherIndex = 16;\n\n    this._aes = new AES(key);\n  }\n\n  ModeOfOperationOFB.prototype.encrypt = function(plaintext) {\n    var encrypted = coerceArray(plaintext, true);\n\n    for (var i = 0; i < encrypted.length; i++) {\n      if (this._lastPrecipherIndex === 16) {\n        this._lastPrecipher = this._aes.encrypt(this._lastPrecipher);\n        this._lastPrecipherIndex = 0;\n      }\n      encrypted[i] ^= this._lastPrecipher[this._lastPrecipherIndex++];\n    }\n\n    return encrypted;\n  }\n\n  // Decryption is symetric\n  ModeOfOperationOFB.prototype.decrypt = ModeOfOperationOFB.prototype.encrypt;\n\n\n  /**\n   *  Counter object for CTR common mode of operation\n   */\n  var Counter = function(initialValue) {\n    if (!(this instanceof Counter)) {\n      throw Error('Counter must be instanitated with `new`');\n    }\n\n    // We allow 0, but anything false-ish uses the default 1\n    if (initialValue !== 0 && !initialValue) { initialValue = 1; }\n\n    if (typeof(initialValue) === 'number') {\n      this._counter = createArray(16);\n      this.setValue(initialValue);\n\n    } else {\n      this.setBytes(initialValue);\n    }\n  }\n\n  Counter.prototype.setValue = function(value) {\n    if (typeof(value) !== 'number' || parseInt(value) != value) {\n      throw new Error('invalid counter value (must be an integer)');\n    }\n\n    // We cannot safely handle numbers beyond the safe range for integers\n    if (value > Number.MAX_SAFE_INTEGER) {\n      throw new Error('integer value out of safe range');\n    }\n\n    for (var index = 15; index >= 0; --index) {\n      this._counter[index] = value % 256;\n      value = parseInt(value / 256);\n    }\n  }\n\n  Counter.prototype.setBytes = function(bytes) {\n    bytes = coerceArray(bytes, true);\n\n    if (bytes.length != 16) {\n      throw new Error('invalid counter bytes size (must be 16 bytes)');\n    }\n\n    this._counter = bytes;\n  };\n\n  Counter.prototype.increment = function() {\n    for (var i = 15; i >= 0; i--) {\n      if (this._counter[i] === 255) {\n        this._counter[i] = 0;\n      } else {\n        this._counter[i]++;\n        break;\n      }\n    }\n  }\n\n\n  /**\n   *  Mode Of Operation - Counter (CTR)\n   */\n  var ModeOfOperationCTR = function(key, counter) {\n    if (!(this instanceof ModeOfOperationCTR)) {\n      throw Error('AES must be instanitated with `new`');\n    }\n\n    this.description = \"Counter\";\n    this.name = \"ctr\";\n\n    if (!(counter instanceof Counter)) {\n      counter = new Counter(counter)\n    }\n\n    this._counter = counter;\n\n    this._remainingCounter = null;\n    this._remainingCounterIndex = 16;\n\n    this._aes = new AES(key);\n  }\n\n  ModeOfOperationCTR.prototype.encrypt = function(plaintext) {\n    var encrypted = coerceArray(plaintext, true);\n\n    for (var i = 0; i < encrypted.length; i++) {\n      if (this._remainingCounterIndex === 16) {\n        this._remainingCounter = this._aes.encrypt(this._counter._counter);\n        this._remainingCounterIndex = 0;\n        this._counter.increment();\n      }\n      encrypted[i] ^= this._remainingCounter[this._remainingCounterIndex++];\n    }\n\n    return encrypted;\n  }\n\n  // Decryption is symetric\n  ModeOfOperationCTR.prototype.decrypt = ModeOfOperationCTR.prototype.encrypt;\n\n\n  ///////////////////////\n  // Padding\n\n  // See:https://tools.ietf.org/html/rfc2315\n  function pkcs7pad(data) {\n    data = coerceArray(data, true);\n    var padder = 16 - (data.length % 16);\n    var result = createArray(data.length + padder);\n    copyArray(data, result);\n    for (var i = data.length; i < result.length; i++) {\n      result[i] = padder;\n    }\n    return result;\n  }\n\n  function pkcs7strip(data) {\n    data = coerceArray(data, true);\n    if (data.length < 16) { throw new Error('PKCS#7 invalid length'); }\n\n    var padder = data[data.length - 1];\n    if (padder > 16) { throw new Error('PKCS#7 padding byte out of range'); }\n\n    var length = data.length - padder;\n    for (var i = 0; i < padder; i++) {\n      if (data[length + i] !== padder) {\n        throw new Error('PKCS#7 invalid padding byte');\n      }\n    }\n\n    var result = createArray(length);\n    copyArray(data, result, 0, 0, length);\n    return result;\n  }\n\n  ///////////////////////\n  // Exporting\n\n\n  // The block cipher\n  var aesjs = {\n    AES: AES,\n    Counter: Counter,\n\n    ModeOfOperation: {\n      ecb: ModeOfOperationECB,\n      cbc: ModeOfOperationCBC,\n      cfb: ModeOfOperationCFB,\n      ofb: ModeOfOperationOFB,\n      ctr: ModeOfOperationCTR\n    },\n\n    utils: {\n      hex: convertHex,\n      utf8: convertUtf8\n    },\n\n    padding: {\n      pkcs7: {\n        pad: pkcs7pad,\n        strip: pkcs7strip\n      }\n    },\n\n    _arrayTest: {\n      coerceArray: coerceArray,\n      createArray: createArray,\n      copyArray: copyArray,\n    }\n  };\n\n\n  // node.js\n  if (typeof exports !== 'undefined') {\n    module.exports = aesjs\n\n    // RequireJS/AMD\n    // http://www.requirejs.org/docs/api.html\n    // https://github.com/amdjs/amdjs-api/wiki/AMD\n  } else if (typeof(define) === 'function' && define.amd) {\n    define([], function() { return aesjs; });\n\n    // Web Browsers\n  } else {\n\n    // If there was an existing library at \"aesjs\" make sure it's still available\n    if (root.aesjs) {\n      aesjs._aesjs = root.aesjs;\n    }\n\n    root.aesjs = aesjs;\n  }\n\n\n})(this);\n","import axios from 'axios';\nimport buildFullPath from 'axios/unsafe/core/buildFullPath';\nimport settle from 'axios/unsafe/core/settle';\nimport buildURL from 'axios/unsafe/helpers/buildURL';\nimport utils from 'axios/unsafe/utils';\n\nconst { isFormData, isStandardBrowserEnv, isUndefined } = utils;\n\n/**\n * - Create a request object\n * - Get response body\n * - Check if timeout\n */\nexport default async function fetchAdapter(config) {\n  const request = createRequest(config);\n  const promiseChain = [getResponse(request, config)];\n\n  if (config.timeout && config.timeout > 0) {\n    promiseChain.push(\n      new Promise((res) => {\n        setTimeout(() => {\n          const message = config.timeoutErrorMessage\n            ? config.timeoutErrorMessage\n            : `timeout of ${config.timeout}ms exceeded`;\n          res(createError(message, config, 'ECONNABORTED', request));\n        }, config.timeout);\n      }),\n    );\n  }\n\n  const data = await Promise.race(promiseChain);\n  return new Promise((resolve, reject) => {\n    if (data instanceof Error) {\n      reject(data);\n    } else {\n      // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n      Object.prototype.toString.call(config.settle) === '[object Function]'\n        ? config.settle(resolve, reject, data)\n        : settle(resolve, reject, data);\n    }\n  });\n}\n\n/**\n * Fetch API stage two is to get response body. This funtion tries to retrieve\n * response body based on response's type\n */\nasync function getResponse(request, config) {\n  let stageOne;\n  try {\n    stageOne = await fetch(request);\n  } catch (e) {\n    return createError('Network Error', config, 'ERR_NETWORK', request);\n  }\n\n  const response = {\n    ok: stageOne.ok,\n    status: stageOne.status,\n    statusText: stageOne.statusText,\n    headers: new Headers(stageOne.headers), // Make a copy of headers\n    config,\n    request,\n  };\n\n  if (stageOne.status >= 200 && stageOne.status !== 204) {\n    switch (config.responseType) {\n      case 'arraybuffer':\n        response.data = await stageOne.arrayBuffer();\n        break;\n      case 'blob':\n        response.data = await stageOne.blob();\n        break;\n      case 'json':\n        response.data = await stageOne.json();\n        break;\n      case 'formData':\n        response.data = await stageOne.formData();\n        break;\n      default:\n        response.data = await stageOne.text();\n        break;\n    }\n  }\n\n  return response;\n}\n\n/**\n * This function will create a Request object based on configuration's axios\n */\nfunction createRequest(config) {\n  const headers = new Headers(config.headers);\n\n  // HTTP basic authentication\n  if (config.auth) {\n    const username = config.auth.username || '';\n    const password = config.auth.password ? decodeURI(encodeURIComponent(config.auth.password)) : '';\n    headers.set('Authorization', `Basic ${btoa(`${username}:${password}`)}`);\n  }\n\n  const method = config.method.toUpperCase();\n  const options = {\n    headers,\n    method,\n  };\n  if (method !== 'GET' && method !== 'HEAD') {\n    options.body = config.data;\n\n    // In these cases the browser will automatically set the correct Content-Type,\n    // but only if that header hasn't been set yet. So that's why we're deleting it.\n    if (isFormData(options.body) && isStandardBrowserEnv()) {\n      headers.delete('Content-Type');\n    }\n  }\n  if (config.mode) {\n    options.mode = config.mode;\n  }\n  if (config.cache) {\n    options.cache = config.cache;\n  }\n  if (config.integrity) {\n    options.integrity = config.integrity;\n  }\n  if (config.redirect) {\n    options.redirect = config.redirect;\n  }\n  if (config.referrer) {\n    options.referrer = config.referrer;\n  }\n  // This config is similar to XHR’s withCredentials flag, but with three available values instead of two.\n  // So if withCredentials is not set, default value 'same-origin' will be used\n  if (!isUndefined(config.withCredentials)) {\n    options.credentials = config.withCredentials ? 'include' : 'omit';\n  }\n\n  const fullPath = buildFullPath(config.baseURL, config.url);\n  const url = buildURL(fullPath, config.params, config.paramsSerializer);\n\n  // Expected browser to throw error if there is any wrong configuration value\n  return new Request(url, options);\n}\n\n/**\n * Note:\n *\n *   From version >= 0.27.0, createError function is replaced by AxiosError class.\n *   So I copy the old createError function here for backward compatible.\n *\n *\n *\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nfunction createError(message, config, code, request, response) {\n  if (axios.AxiosError && typeof axios.AxiosError === 'function') {\n    return new axios.AxiosError(message, axios.AxiosError[code], config, request, response);\n  }\n\n  const error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n}\n\n/**\n *\n * Note:\n *\n *   This function is for backward compatible.\n *\n *\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code,\n      // eslint-disable-next-line no-null/no-null\n      status: this.response && this.response.status ? this.response.status : null,\n    };\n  };\n  return error;\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n    function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n    function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n  return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_OPTIONS = exports.exponentialDelay = exports.isNetworkOrIdempotentRequestError = exports.isIdempotentRequestError = exports.isSafeRequestError = exports.isRetryableError = exports.isNetworkError = exports.namespace = void 0;\nconst is_retry_allowed_1 = __importDefault(require(\"../is-retry-allowed\"));\nexports.namespace = 'axios-retry';\nfunction isNetworkError(error) {\n  const CODE_EXCLUDE_LIST = ['ERR_CANCELED', 'ECONNABORTED'];\n  if (error.response) {\n    return false;\n  }\n  if (!error.code) {\n    return false;\n  }\n  // Prevents retrying timed out & cancelled requests\n  if (CODE_EXCLUDE_LIST.includes(error.code)) {\n    return false;\n  }\n  // Prevents retrying unsafe errors\n  return (0, is_retry_allowed_1.default)(error);\n}\nexports.isNetworkError = isNetworkError;\nconst SAFE_HTTP_METHODS = ['get', 'head', 'options'];\nconst IDEMPOTENT_HTTP_METHODS = SAFE_HTTP_METHODS.concat(['put', 'delete']);\nfunction isRetryableError(error) {\n  return (error.code !== 'ECONNABORTED' &&\n    (!error.response || (error.response.status >= 500 && error.response.status <= 599)));\n}\nexports.isRetryableError = isRetryableError;\nfunction isSafeRequestError(error) {\n  var _a;\n  if (!((_a = error.config) === null || _a === void 0 ? void 0 : _a.method)) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n  return isRetryableError(error) && SAFE_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\nexports.isSafeRequestError = isSafeRequestError;\nfunction isIdempotentRequestError(error) {\n  var _a;\n  if (!((_a = error.config) === null || _a === void 0 ? void 0 : _a.method)) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n  return isRetryableError(error) && IDEMPOTENT_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\nexports.isIdempotentRequestError = isIdempotentRequestError;\nfunction isNetworkOrIdempotentRequestError(error) {\n  return isNetworkError(error) || isIdempotentRequestError(error);\n}\nexports.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\nfunction noDelay() {\n  return 0;\n}\nfunction exponentialDelay(retryNumber = 0, _error = undefined, delayFactor = 100) {\n  const delay = Math.pow(2, retryNumber) * delayFactor;\n  const randomSum = delay * 0.2 * Math.random(); // 0-20% of the delay\n  return delay + randomSum;\n}\nexports.exponentialDelay = exponentialDelay;\nexports.DEFAULT_OPTIONS = {\n  retries: 3,\n  retryCondition: isNetworkOrIdempotentRequestError,\n  retryDelay: noDelay,\n  shouldResetTimeout: false,\n  onRetry: () => { }\n};\nfunction getRequestOptions(config, defaultOptions) {\n  return Object.assign(Object.assign(Object.assign({}, exports.DEFAULT_OPTIONS), defaultOptions), config[exports.namespace]);\n}\nfunction setCurrentState(config, defaultOptions) {\n  const currentState = getRequestOptions(config, defaultOptions || {});\n  currentState.retryCount = currentState.retryCount || 0;\n  currentState.lastRequestTime = currentState.lastRequestTime || Date.now();\n  config[exports.namespace] = currentState;\n  return currentState;\n}\nfunction fixConfig(axiosInstance, config) {\n  // @ts-ignore\n  if (axiosInstance.defaults.agent === config.agent) {\n    // @ts-ignore\n    delete config.agent;\n  }\n  if (axiosInstance.defaults.httpAgent === config.httpAgent) {\n    delete config.httpAgent;\n  }\n  if (axiosInstance.defaults.httpsAgent === config.httpsAgent) {\n    delete config.httpsAgent;\n  }\n}\nfunction shouldRetry(currentState, error) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const { retries, retryCondition } = currentState;\n    const shouldRetryOrPromise = (currentState.retryCount || 0) < retries && retryCondition(error);\n    // This could be a promise\n    if (typeof shouldRetryOrPromise === 'object') {\n      try {\n        const shouldRetryPromiseResult = yield shouldRetryOrPromise;\n        // keep return true unless shouldRetryPromiseResult return false for compatibility\n        return shouldRetryPromiseResult !== false;\n      }\n      catch (_err) {\n        return false;\n      }\n    }\n    return shouldRetryOrPromise;\n  });\n}\nconst axiosRetry = (axiosInstance, defaultOptions) => {\n  const requestInterceptorId = axiosInstance.interceptors.request.use((config) => {\n    setCurrentState(config, defaultOptions);\n    return config;\n  });\n  const responseInterceptorId = axiosInstance.interceptors.response.use(null, (error) => __awaiter(void 0, void 0, void 0, function* () {\n    const { config } = error;\n    // If we have no information to retry the request\n    if (!config) {\n      return Promise.reject(error);\n    }\n    const currentState = setCurrentState(config, defaultOptions);\n    if (yield shouldRetry(currentState, error)) {\n      currentState.retryCount += 1;\n      const { retryDelay, shouldResetTimeout, onRetry } = currentState;\n      const delay = retryDelay(currentState.retryCount, error);\n      // Axios fails merging this configuration to the default configuration because it has an issue\n      // with circular structures: https://github.com/mzabriskie/axios/issues/370\n      fixConfig(axiosInstance, config);\n      if (!shouldResetTimeout && config.timeout && currentState.lastRequestTime) {\n        const lastRequestDuration = Date.now() - currentState.lastRequestTime;\n        const timeout = config.timeout - lastRequestDuration - delay;\n        if (timeout <= 0) {\n          return Promise.reject(error);\n        }\n        config.timeout = timeout;\n      }\n      config.transformRequest = [(data) => data];\n      yield onRetry(currentState.retryCount, error, config);\n      return new Promise((resolve) => {\n        setTimeout(() => resolve(axiosInstance(config)), delay);\n      });\n    }\n    return Promise.reject(error);\n  }));\n  return { requestInterceptorId, responseInterceptorId };\n};\n// Compatibility with CommonJS\naxiosRetry.isNetworkError = isNetworkError;\naxiosRetry.isSafeRequestError = isSafeRequestError;\naxiosRetry.isIdempotentRequestError = isIdempotentRequestError;\naxiosRetry.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\naxiosRetry.exponentialDelay = exponentialDelay;\naxiosRetry.isRetryableError = isRetryableError;\nexports.default = axiosRetry;\n","/*\n *  big.js v6.2.1\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\n *  Copyright (c) 2022 Michael Mclaughlin\n *  https://github.com/MikeMcl/big.js/LICENCE.md\n */\n\n\n/************************************** EDITABLE DEFAULTS *****************************************/\n\n\n  // The default values below must be integers within the stated ranges.\n\n  /*\n   * The maximum number of decimal places (DP) of the results of operations involving division:\n   * div and sqrt, and pow with negative exponents.\n   */\nvar DP = 20,          // 0 to MAX_DP\n\n  /*\n   * The rounding mode (RM) used when rounding to the above decimal places.\n   *\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\n   *  3  Away from zero.                                  (ROUND_UP)\n   */\n  RM = 1,             // 0, 1, 2 or 3\n\n  // The maximum value of DP and Big.DP.\n  MAX_DP = 1E6,       // 0 to 1000000\n\n  // The maximum magnitude of the exponent argument to the pow method.\n  MAX_POWER = 1E6,    // 1 to 1000000\n\n  /*\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\n   * (JavaScript numbers: -7)\n   * -1000000 is the minimum recommended exponent value of a Big.\n   */\n  NE = -7,            // 0 to -1000000\n\n  /*\n   * The positive exponent (PE) at and above which toString returns exponential notation.\n   * (JavaScript numbers: 21)\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\n   */\n  PE = 21,            // 0 to 1000000\n\n  /*\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\n   * primitive number without a loss of precision.\n   */\n  STRICT = false,     // true or false\n\n\n/**************************************************************************************************/\n\n\n  // Error messages.\n  NAME = '[big.js] ',\n  INVALID = NAME + 'Invalid ',\n  INVALID_DP = INVALID + 'decimal places',\n  INVALID_RM = INVALID + 'rounding mode',\n  DIV_BY_ZERO = NAME + 'Division by zero',\n\n  // The shared prototype object.\n  P = {},\n  UNDEFINED = void 0,\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\n\n\n/*\n * Create and return a Big constructor.\n */\nfunction _Big_() {\n\n  /*\n   * The Big constructor and exported function.\n   * Create and return a new instance of a Big number object.\n   *\n   * n {number|string|Big} A numeric value.\n   */\n  function Big(n) {\n    var x = this;\n\n    // Enable constructor usage without new.\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\n\n    // Duplicate.\n    if (n instanceof Big) {\n      x.s = n.s;\n      x.e = n.e;\n      x.c = n.c.slice();\n    } else {\n      if (typeof n !== 'string') {\n        if (Big.strict === true && typeof n !== 'bigint') {\n          throw TypeError(INVALID + 'value');\n        }\n\n        // Minus zero?\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\n      }\n\n      parse(x, n);\n    }\n\n    // Retain a reference to this Big constructor.\n    // Shadow Big.prototype.constructor which points to Object.\n    x.constructor = Big;\n  }\n\n  Big.prototype = P;\n  Big.DP = DP;\n  Big.RM = RM;\n  Big.NE = NE;\n  Big.PE = PE;\n  Big.strict = STRICT;\n  Big.roundDown = 0;\n  Big.roundHalfUp = 1;\n  Big.roundHalfEven = 2;\n  Big.roundUp = 3;\n\n  return Big;\n}\n\n\n/*\n * Parse the number or string value passed to a Big constructor.\n *\n * x {Big} A Big number instance.\n * n {number|string} A numeric value.\n */\nfunction parse(x, n) {\n  var e, i, nl;\n\n  if (!NUMERIC.test(n)) {\n    throw Error(INVALID + 'number');\n  }\n\n  // Determine sign.\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\n\n  // Decimal point?\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\n\n  // Exponential form?\n  if ((i = n.search(/e/i)) > 0) {\n\n    // Determine exponent.\n    if (e < 0) e = i;\n    e += +n.slice(i + 1);\n    n = n.substring(0, i);\n  } else if (e < 0) {\n\n    // Integer.\n    e = n.length;\n  }\n\n  nl = n.length;\n\n  // Determine leading zeros.\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\n\n  if (i == nl) {\n\n    // Zero.\n    x.c = [x.e = 0];\n  } else {\n\n    // Determine trailing zeros.\n    for (; nl > 0 && n.charAt(--nl) == '0';);\n    x.e = e - i - 1;\n    x.c = [];\n\n    // Convert string to array of digits without leading/trailing zeros.\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\n  }\n\n  return x;\n}\n\n\n/*\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\n *\n * x {Big} The Big to round.\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n * [more] {boolean} Whether the result of division was truncated.\n */\nfunction round(x, sd, rm, more) {\n  var xc = x.c;\n\n  if (rm === UNDEFINED) rm = x.constructor.RM;\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\n    throw Error(INVALID_RM);\n  }\n\n  if (sd < 1) {\n    more =\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\n      rm === 1 && xc[0] >= 5 ||\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\n    );\n\n    xc.length = 1;\n\n    if (more) {\n\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n      x.e = x.e - sd + 1;\n      xc[0] = 1;\n    } else {\n\n      // Zero.\n      xc[0] = x.e = 0;\n    }\n  } else if (sd < xc.length) {\n\n    // xc[sd] is the digit after the digit that may be rounded up.\n    more =\n      rm === 1 && xc[sd] >= 5 ||\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\n      rm === 3 && (more || !!xc[0]);\n\n    // Remove any digits after the required precision.\n    xc.length = sd;\n\n    // Round up?\n    if (more) {\n\n      // Rounding up may mean the previous digit has to be rounded up.\n      for (; ++xc[--sd] > 9;) {\n        xc[sd] = 0;\n        if (sd === 0) {\n          ++x.e;\n          xc.unshift(1);\n          break;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (sd = xc.length; !xc[--sd];) xc.pop();\n  }\n\n  return x;\n}\n\n\n/*\n * Return a string representing the value of Big x in normal or exponential notation.\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\n */\nfunction stringify(x, doExponential, isNonzero) {\n  var e = x.e,\n    s = x.c.join(''),\n    n = s.length;\n\n  // Exponential notation?\n  if (doExponential) {\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\n\n  // Normal notation.\n  } else if (e < 0) {\n    for (; ++e;) s = '0' + s;\n    s = '0.' + s;\n  } else if (e > 0) {\n    if (++e > n) {\n      for (e -= n; e--;) s += '0';\n    } else if (e < n) {\n      s = s.slice(0, e) + '.' + s.slice(e);\n    }\n  } else if (n > 1) {\n    s = s.charAt(0) + '.' + s.slice(1);\n  }\n\n  return x.s < 0 && isNonzero ? '-' + s : s;\n}\n\n\n// Prototype/instance methods\n\n\n/*\n * Return a new Big whose value is the absolute value of this Big.\n */\nP.abs = function () {\n  var x = new this.constructor(this);\n  x.s = 1;\n  return x;\n};\n\n\n/*\n * Return 1 if the value of this Big is greater than the value of Big y,\n *       -1 if the value of this Big is less than the value of Big y, or\n *        0 if they have the same value.\n */\nP.cmp = function (y) {\n  var isneg,\n    x = this,\n    xc = x.c,\n    yc = (y = new x.constructor(y)).c,\n    i = x.s,\n    j = y.s,\n    k = x.e,\n    l = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\n\n  // Signs differ?\n  if (i != j) return i;\n\n  isneg = i < 0;\n\n  // Compare exponents.\n  if (k != l) return k > l ^ isneg ? 1 : -1;\n\n  j = (k = xc.length) < (l = yc.length) ? k : l;\n\n  // Compare digit by digit.\n  for (i = -1; ++i < j;) {\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\n  }\n\n  // Compare lengths.\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.div = function (y) {\n  var x = this,\n    Big = x.constructor,\n    a = x.c,                  // dividend\n    b = (y = new Big(y)).c,   // divisor\n    k = x.s == y.s ? 1 : -1,\n    dp = Big.DP;\n\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n\n  // Divisor is zero?\n  if (!b[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  // Dividend is 0? Return +-0.\n  if (!a[0]) {\n    y.s = k;\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  var bl, bt, n, cmp, ri,\n    bz = b.slice(),\n    ai = bl = b.length,\n    al = a.length,\n    r = a.slice(0, bl),   // remainder\n    rl = r.length,\n    q = y,                // quotient\n    qc = q.c = [],\n    qi = 0,\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\n\n  q.s = k;\n  k = p < 0 ? 0 : p;\n\n  // Create version of divisor with leading zero.\n  bz.unshift(0);\n\n  // Add zeros to make remainder as long as divisor.\n  for (; rl++ < bl;) r.push(0);\n\n  do {\n\n    // n is how many times the divisor goes into current remainder.\n    for (n = 0; n < 10; n++) {\n\n      // Compare divisor and remainder.\n      if (bl != (rl = r.length)) {\n        cmp = bl > rl ? 1 : -1;\n      } else {\n        for (ri = -1, cmp = 0; ++ri < bl;) {\n          if (b[ri] != r[ri]) {\n            cmp = b[ri] > r[ri] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      // If divisor < remainder, subtract divisor from remainder.\n      if (cmp < 0) {\n\n        // Remainder can't be more than 1 digit longer than divisor.\n        // Equalise lengths using divisor with extra leading zero?\n        for (bt = rl == bl ? b : bz; rl;) {\n          if (r[--rl] < bt[rl]) {\n            ri = rl;\n            for (; ri && !r[--ri];) r[ri] = 9;\n            --r[ri];\n            r[rl] += 10;\n          }\n          r[rl] -= bt[rl];\n        }\n\n        for (; !r[0];) r.shift();\n      } else {\n        break;\n      }\n    }\n\n    // Add the digit n to the result array.\n    qc[qi++] = cmp ? n : ++n;\n\n    // Update the remainder.\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\n    else r = [a[ai]];\n\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\n\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\n  if (!qc[0] && qi != 1) {\n\n    // There can't be more than one zero.\n    qc.shift();\n    q.e--;\n    p--;\n  }\n\n  // Round?\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\n\n  return q;\n};\n\n\n/*\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\n */\nP.eq = function (y) {\n  return this.cmp(y) === 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\n * false.\n */\nP.gt = function (y) {\n  return this.cmp(y) > 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\n * return false.\n */\nP.gte = function (y) {\n  return this.cmp(y) > -1;\n};\n\n\n/*\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\n */\nP.lt = function (y) {\n  return this.cmp(y) < 0;\n};\n\n\n/*\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\n * return false.\n */\nP.lte = function (y) {\n  return this.cmp(y) < 1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big minus the value of Big y.\n */\nP.minus = P.sub = function (y) {\n  var i, j, t, xlty,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  // Signs differ?\n  if (a != b) {\n    y.s = -b;\n    return x.plus(y);\n  }\n\n  var xc = x.c.slice(),\n    xe = x.e,\n    yc = y.c,\n    ye = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (yc[0]) {\n      y.s = -b;\n    } else if (xc[0]) {\n      y = new Big(x);\n    } else {\n      y.s = 1;\n    }\n    return y;\n  }\n\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\n  if (a = xe - ye) {\n\n    if (xlty = a < 0) {\n      a = -a;\n      t = xc;\n    } else {\n      ye = xe;\n      t = yc;\n    }\n\n    t.reverse();\n    for (b = a; b--;) t.push(0);\n    t.reverse();\n  } else {\n\n    // Exponents equal. Check digit by digit.\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\n\n    for (a = b = 0; b < j; b++) {\n      if (xc[b] != yc[b]) {\n        xlty = xc[b] < yc[b];\n        break;\n      }\n    }\n  }\n\n  // x < y? Point xc to the array of the bigger number.\n  if (xlty) {\n    t = xc;\n    xc = yc;\n    yc = t;\n    y.s = -y.s;\n  }\n\n  /*\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\n   * needs to start at yc.length.\n   */\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\n\n  // Subtract yc from xc.\n  for (b = i; j > a;) {\n    if (xc[--j] < yc[j]) {\n      for (i = j; i && !xc[--i];) xc[i] = 9;\n      --xc[i];\n      xc[j] += 10;\n    }\n\n    xc[j] -= yc[j];\n  }\n\n  // Remove trailing zeros.\n  for (; xc[--b] === 0;) xc.pop();\n\n  // Remove leading zeros and adjust exponent accordingly.\n  for (; xc[0] === 0;) {\n    xc.shift();\n    --ye;\n  }\n\n  if (!xc[0]) {\n\n    // n - n = +0\n    y.s = 1;\n\n    // Result must be zero.\n    xc = [ye = 0];\n  }\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\n */\nP.mod = function (y) {\n  var ygtx,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  if (!y.c[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  x.s = y.s = 1;\n  ygtx = y.cmp(x) == 1;\n  x.s = a;\n  y.s = b;\n\n  if (ygtx) return new Big(x);\n\n  a = Big.DP;\n  b = Big.RM;\n  Big.DP = Big.RM = 0;\n  x = x.div(y);\n  Big.DP = a;\n  Big.RM = b;\n\n  return this.minus(x.times(y));\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big negated.\n */\nP.neg = function () {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return x;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big plus the value of Big y.\n */\nP.plus = P.add = function (y) {\n  var e, k, t,\n    x = this,\n    Big = x.constructor;\n\n  y = new Big(y);\n\n  // Signs differ?\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n\n  var xe = x.e,\n    xc = x.c,\n    ye = y.e,\n    yc = y.c;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (!yc[0]) {\n      if (xc[0]) {\n        y = new Big(x);\n      } else {\n        y.s = x.s;\n      }\n    }\n    return y;\n  }\n\n  xc = xc.slice();\n\n  // Prepend zeros to equalise exponents.\n  // Note: reverse faster than unshifts.\n  if (e = xe - ye) {\n    if (e > 0) {\n      ye = xe;\n      t = yc;\n    } else {\n      e = -e;\n      t = xc;\n    }\n\n    t.reverse();\n    for (; e--;) t.push(0);\n    t.reverse();\n  }\n\n  // Point xc to the longer array.\n  if (xc.length - yc.length < 0) {\n    t = yc;\n    yc = xc;\n    xc = t;\n  }\n\n  e = yc.length;\n\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\n\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n\n  if (k) {\n    xc.unshift(k);\n    ++ye;\n  }\n\n  // Remove trailing zeros.\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a Big whose value is the value of this Big raised to the power n.\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\n * mode Big.RM.\n *\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\n */\nP.pow = function (n) {\n  var x = this,\n    one = new x.constructor('1'),\n    y = one,\n    isneg = n < 0;\n\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\n    throw Error(INVALID + 'exponent');\n  }\n\n  if (isneg) n = -n;\n\n  for (;;) {\n    if (n & 1) y = y.times(x);\n    n >>= 1;\n    if (!n) break;\n    x = x.times(x);\n  }\n\n  return isneg ? one.div(y) : y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.prec = function (sd, rm) {\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n    throw Error(INVALID + 'precision');\n  }\n  return round(new this.constructor(this), sd, rm);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\n * using rounding mode rm, or Big.RM if rm is not specified.\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\n * If dp is not specified, round to 0 decimal places.\n *\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.round = function (dp, rm) {\n  if (dp === UNDEFINED) dp = 0;\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n  return round(new this.constructor(this), dp + this.e + 1, rm);\n};\n\n\n/*\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.sqrt = function () {\n  var r, c, t,\n    x = this,\n    Big = x.constructor,\n    s = x.s,\n    e = x.e,\n    half = new Big('0.5');\n\n  // Zero?\n  if (!x.c[0]) return new Big(x);\n\n  // Negative?\n  if (s < 0) {\n    throw Error(NAME + 'No square root');\n  }\n\n  // Estimate.\n  s = Math.sqrt(x + '');\n\n  // Math.sqrt underflow/overflow?\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\n  if (s === 0 || s === 1 / 0) {\n    c = x.c.join('');\n    if (!(c.length + e & 1)) c += '0';\n    s = Math.sqrt(c);\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\n  } else {\n    r = new Big(s + '');\n  }\n\n  e = r.e + (Big.DP += 4);\n\n  // Newton-Raphson iteration.\n  do {\n    t = r;\n    r = half.times(t.plus(x.div(t)));\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\n\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big times the value of Big y.\n */\nP.times = P.mul = function (y) {\n  var c,\n    x = this,\n    Big = x.constructor,\n    xc = x.c,\n    yc = (y = new Big(y)).c,\n    a = xc.length,\n    b = yc.length,\n    i = x.e,\n    j = y.e;\n\n  // Determine sign of result.\n  y.s = x.s == y.s ? 1 : -1;\n\n  // Return signed 0 if either 0.\n  if (!xc[0] || !yc[0]) {\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  // Initialise exponent of result as x.e + y.e.\n  y.e = i + j;\n\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\n  if (a < b) {\n    c = xc;\n    xc = yc;\n    yc = c;\n    j = a;\n    a = b;\n    b = j;\n  }\n\n  // Initialise coefficient array of result with zeros.\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\n\n  // Multiply.\n\n  // i is initially xc.length.\n  for (i = b; i--;) {\n    b = 0;\n\n    // a is yc.length.\n    for (j = a + i; j > i;) {\n\n      // Current sum of products at this digit position, plus carry.\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\n      c[j--] = b % 10;\n\n      // carry\n      b = b / 10 | 0;\n    }\n\n    c[j] = b;\n  }\n\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\n  if (b) ++y.e;\n  else c.shift();\n\n  // Remove trailing zeros.\n  for (i = c.length; !c[--i];) c.pop();\n  y.c = c;\n\n  return y;\n};\n\n\n/*\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toExponential = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), ++dp, rm);\n    for (; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, true, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n *\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\n */\nP.toFixed = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\n\n    // x.e may have changed if the value is rounded up.\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, false, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Omit the sign for negative zero.\n */\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\n  var x = this,\n    Big = x.constructor;\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\n};\n\n\n/*\n * Return the value of this Big as a primitve number.\n */\nP.toNumber = function () {\n  var n = Number(stringify(this, true, true));\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\n    throw Error(NAME + 'Imprecise conversion');\n  }\n  return n;\n};\n\n\n/*\n * Return a string representing the value of this Big rounded to sd significant digits using\n * rounding mode rm, or Big.RM if rm is not specified.\n * Use exponential notation if sd is less than the number of digits necessary to represent\n * the integer part of the value in normal notation.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toPrecision = function (sd, rm) {\n  var x = this,\n    Big = x.constructor,\n    n = x.c[0];\n\n  if (sd !== UNDEFINED) {\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n      throw Error(INVALID + 'precision');\n    }\n    x = round(new Big(x), sd, rm);\n    for (; x.c.length < sd;) x.c.push(0);\n  }\n\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Include the sign for negative zero.\n */\nP.valueOf = function () {\n  var x = this,\n    Big = x.constructor;\n  if (Big.strict === true) {\n    throw Error(NAME + 'valueOf disallowed');\n  }\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\n};\n\n\n// Export\n\n\nexport var Big = _Big_();\n\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\nexport default Big;\n","export const characters = new Map<string, string>([\n  [' ', ' '],\n  ['0', '⓿'],\n  ['1', '11⓵➊⑴¹𝟏𝟙１𝟷𝟣⒈𝟭1➀₁①❶⥠'],\n  ['2', '⓶⒉⑵➋ƻ²ᒿ𝟚２𝟮𝟤ᒾ𝟸Ƨ𝟐②ᴤ₂➁❷ᘝƨ'],\n  ['3', '³ȝჳⳌꞫ𝟑ℨ𝟛𝟯𝟥Ꝫ➌ЗȜ⓷ӠƷ３𝟹⑶⒊ʒʓǯǮƺ𝕴ᶾзᦡ➂③₃ᶚᴣᴟ❸ҘҙӬӡӭӟӞ'],\n  ['4', '𝟰𝟺𝟦𝟒➍ҶᏎ𝟜ҷ⓸ҸҹӴӵᶣ４чㄩ⁴➃₄④❹Ӌ⑷⒋'],\n  ['5', '𝟱⓹➎Ƽ𝟓𝟻𝟝𝟧５➄₅⑤⁵❺ƽ⑸⒌'],\n  ['6', 'Ⳓ🄇𝟼Ꮾ𝟲𝟞𝟨𝟔➏⓺Ϭϭ⁶б６ᧈ⑥➅₆❻⑹⒍'],\n  ['7', '𝟕𝟟𝟩𝟳𝟽🄈⓻𐓒➐７⁷⑦₇❼➆⑺⒎'],\n  ['8', '𐌚🄉➑⓼８𝟠𝟪৪⁸₈𝟴➇⑧❽𝟾𝟖⑻⒏'],\n  ['9', '൭Ꝯ𝝑𝞋𝟅🄊𝟡𝟵Ⳋ⓽➒੧৭୨９𝟫𝟿𝟗⁹₉Գ➈⑨❾⑼⒐'],\n  ['10', '⓾❿➉➓🔟⑩⑽⒑'],\n  ['11', '⑪⑾⒒⓫'],\n  ['12', '⑫⑿⒓⓬'],\n  ['13', '⑬⒀⒔⓭'],\n  ['14', '⑭⒁⒕⓮'],\n  ['15', '⑮⒂⒖⓯'],\n  ['16', '⑯⒃⒗⓰'],\n  ['17', '⑰⒄⒘⓱'],\n  ['18', '⑱⒅⒙⓲'],\n  ['19', '⑲⒆⒚⓳'],\n  ['20', '⑳⒇⒛⓴'],\n  ['ae', 'æ'],\n  ['OE', 'Œ'],\n  ['oe', 'œ'],\n  ['pi', 'ᒆ'],\n  ['Nj', 'ǋ'],\n  ['AE', 'ᴁ'],\n  ['A', '𝑨𝔄ᗄ𝖠𝗔ꓯ𝞐🄐🄰Ꭿ𐊠𝕬𝜜𝐴ꓮᎪ𝚨ꭺ𝝖🅐Å∀🇦₳🅰𝒜𝘈𝐀𝔸дǺᗅⒶＡΑᾋᗩĂÃÅǍȀȂĀȺĄʌΛλƛᴀᴬДАልÄₐᕱªǞӒΆẠẢẦẨẬẮẰẲẴẶᾸᾹᾺΆᾼᾈᾉᾊᾌᾍᾎᾏἈἉἊἋἌἍἎἏḀȦǠӐÀÁÂẤẪ𝛢𝓐𝙰𝘼ᗩ'],\n  ['a', '∂⍺ⓐձǟᵃᶏ⒜аɒａαȃȁคǎმäɑāɐąᾄẚạảǡầẵḁȧӑӓãåάὰάăẩằẳặᾀᾁᾂᾃᾅᾆᾰᾱᾲᾳᾴᶐᾶᾷἀἁἂἃἄἅἆἇᾇậắàáâấẫǻⱥ𝐚𝑎𝒂𝒶𝓪𝔞𝕒𝖆𝖺𝗮𝘢𝙖𝚊𝛂𝛼𝜶𝝰𝞪⍶'],\n  ['B', '🄑𝔙𝖁ꞵ𝛃𝛽𝜷𝝱𝞫Ᏸ𐌁𝑩𝕭🄱𐊡𝖡𝘽ꓐ𝗕𝘉𝜝𐊂𝚩𝐁𝛣𝝗𝐵𝙱𝔹Ᏼᏼ𝞑Ꞵ𝔅🅑฿𝓑ᗿᗾᗽ🅱ⒷＢвϐᗷƁ乃ßცჩ๖βɮБՅ๒ᙖʙᴮᵇጌḄℬΒВẞḂḆɃദᗹᗸᵝᙞᙟᙝᛒᙗᙘᴃ🇧'],\n  ['b', 'ꮟᏏ𝐛𝘣𝒷𝔟𝓫𝖇𝖻𝑏𝙗𝕓𝒃𝗯𝚋♭ᑳᒈｂᖚᕹᕺⓑḃḅҍъḇƃɓƅᖯƄЬᑲþƂ⒝ЪᶀᑿᒀᒂᒁᑾьƀҌѢѣᔎ'],\n  ['C', 'ꞆႠ℃🄒ᏟⲤ🄲ꓚ𐊢𐌂🅲𐐕🅒☾ČÇⒸＣↃƇᑕㄈ¢८↻ĈϾՇȻᙅᶜ⒞ĆҀĊ©टƆℂℭϹС匚ḈҪʗᑖᑡᑢᑣᑤᑥⅭ𝐂𝐶𝑪𝒞𝓒𝕮𝖢𝗖𝘊𝘾ᔍ'],\n  ['c', '🝌ｃⅽ𝐜𝑐𝒄𝒸𝓬𝔠𝕔𝖈𝖼𝗰𝘤𝙘𝚌ᴄϲⲥсꮯ𐐽ⲥ𐐽ꮯĉｃⓒćčċçҁƈḉȼↄсርᴄϲҫ꒝ςɽϛ𝙲ᑦ᧚𝐜𝑐𝒄𝒸𝓬𝔠𝕔𝖈𝖼𝗰𝘤𝙘𝚌₵🇨ᥴᒼⅽ'],\n  ['D', '🄓Ꭰ🄳𝔡𝖉𝔻𝗗𝘋𝙳𝐷𝓓𝐃𝑫𝕯𝖣𝔇𝘿ꭰⅅ𝒟ꓓ🅳🅓ⒹＤƉᗪƊÐԺᴅᴰↁḊĐÞⅮᗞᑯĎḌḐḒḎᗫᗬᗟᗠᶛᴆ🇩'],\n  ['d', 'Ꮷ𝔡𝖉ᑯꓒ𝓭ᵭ₫ԃⓓｄḋďḍḑḓḏđƌɖɗᵈ⒟ԁⅾᶁԀᑺᑻᑼᑽᒄᑰᑱᶑ𝕕𝖽𝑑𝘥𝒅𝙙𝐝𝗱𝚍ⅆ𝒹ʠժ'],\n  ['E', '£ᙓ⋿∃ⴺꓱ𝐄𝐸𝔈𝕰𝖤𝘌𝙴𝛦𝜠ꭼ🄔🄴𝙀𝔼𐊆𝚬ꓰ𝝚𝞔𝓔𝑬𝗘🅴🅔ⒺΈＥƎἝᕮƐモЄᴇᴱᵉÉ乇ЁɆꂅ€ÈℰΕЕⴹᎬĒĔĖĘĚÊËԐỀẾỄỂẼḔḖẺȄȆẸỆȨḜḘḚἘἙἚἛἜῈΈӖὲέЀϵ🇪'],\n  ['e', 'əәⅇꬲꞓ⋴𝛆𝛜𝜀𝜖𝜺𝝐𝝴𝞊𝞮𝟄ⲉꮛ𐐩ꞒⲈ⍷𝑒𝓮𝕖𝖊𝘦𝗲𝚎𝙚𝒆𝔢𝖾𝐞Ҿҿⓔｅ⒠èᧉéᶒêɘἔềếễ૯ǝєεēҽɛểẽḕḗĕėëẻěȅȇẹệȩɇₑęḝḙḛ℮еԑѐӗᥱёἐἑἒἓἕℯ'],\n  ['F', 'ᖵꘘꓞꟻᖷ𝐅𝐹𝑭𝔽𝕱𝖥𝗙𝙁𝙵𝟊℉🄕🄵𐊇𝔉𝘍𐊥ꓝꞘ🅵🅕𝓕ⒻＦғҒᖴƑԲϝቻḞℱϜ₣🇫Ⅎ'],\n  ['f', '𝐟ᵮ𝑓𝒇𝒻𝓯𝔣𝕗𝖿𝗳𝙛𝚏ꬵꞙẝ𝖋ⓕｆƒḟʃբᶠ⒡ſꊰʄ∱ᶂ𝘧'],\n  ['G', '𝗚𝘎🄖ꓖᏳ🄶Ꮐᏻ𝔾𝓖𝑮𝕲ꮐ𝒢𝙂𝖦𝙶𝔊𝐺𝐆🅶🅖ⒼＧɢƓʛĢᘜᴳǴĠԌĜḠĞǦǤԍ₲🇬⅁'],\n  ['g', 'ᶃᶢⓖｇǵĝḡğġǧģց૭ǥɠﻭﻮᵍ⒢ℊɡᧁ𝐠𝑔𝒈𝓰𝔤𝕘𝖌𝗀𝗴𝘨𝙜𝚐'],\n  ['H', 'Ἤ🄗𝆦🄷𝜢ꓧ𝘏𝐻𝝜𝖧𐋏𝗛ꮋℍᎻℌⲎ𝑯𝞖🅷🅗ዞǶԋⒽＨĤᚺḢḦȞḤḨḪĦⱧҢңҤῊΉῌἨἩἪἫἭἮἯᾘᾙᾚᾛᾜᾝᾞᾟӉӈҥΉн卄♓𝓗ℋН𝐇𝙃𝙷ʜ𝛨Η𝚮ᕼӇᴴᵸ🇭'],\n  ['h', 'ꞕ৸𝕳ꚕᏲℏӊԊꜧᏂҺ⒣ђⓗｈĥḣḧȟḥḩḫẖħⱨհһከኩኪካɦℎ𝐡𝒉𝒽𝓱𝔥𝕙𝖍𝗁𝗵𝘩𝙝𝚑իʰᑋᗁɧんɥ'],\n  ['I', 'ⲒἿ🄘🄸ЇꀤᏆ🅸🅘إﺇٳأﺃٲٵⒾＩ៸ÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗェエῘῙῚΊἸἹἺἻἼἽἾⅠΪΊɪᶦᑊᥣ𝛪𝐈𝙄𝙸𝓵𝙡𝐼ᴵ𝚰𝑰🇮'],\n  ['i', '⍳ℹⅈ𝑖𝒊𝒾ı𝚤ɩιιͺ𝛊𝜄𝜾𝞲ꙇӏꭵᎥⓘｉìíîĩīĭïḯỉǐȉȋịḭῐῑῒΐῖῗἰἱἲⅰⅼ∣ⵏ￨׀ا١۱ߊᛁἳἴἵɨіὶίᶖ𝔦𝚒𝝸𝗂𝐢𝕚𝖎𝗶𝘪𝙞ίⁱᵢ𝓲⒤'],\n  ['J', '𝐉𝐽𝑱𝒥𝓙𝔍𝕁𝕵𝖩𝗝𝘑𝙅𝙹ꞲͿꓙ🄙🄹🅹🅙ⒿＪЈʝᒍנﾌĴʆวلյʖᴊᴶﻝጋɈⱼՂๅႱįᎫȷ丿ℐℑᒘᒙᒚᒛᒴᒵᒎᒏ🇯'],\n  ['j', '𝚥ꭻⅉⓙｊϳʲ⒥ɉĵǰјڶᶨ𝒿𝘫𝗷𝑗𝙟𝔧𝒋𝗃𝓳𝕛𝚓𝖏𝐣'],\n  ['K', '𝐊ꝄꝀ𝐾𝑲𝓚𝕶𝖪𝙺𝚱𝝟🄚𝗞🄺𝜥𝘒ꓗ𝙆𝕂Ⲕ𝔎𝛫Ꮶ𝞙𝒦🅺🅚₭ⓀＫĸḰќƘкҠκқҟӄʞҚКҡᴋᴷᵏ⒦ᛕЌጕḲΚKҜҝҞĶḴǨⱩϗӃ🇰'],\n  ['k', 'ⓚꝁｋḱǩḳķḵƙⱪᶄ𝐤𝘬𝗄𝕜𝜅𝜘𝜿𝝒𝝹𝞌𝞳𝙠𝚔𝑘𝒌ϰ𝛋𝛞𝟆𝗸𝓴𝓀'],\n  ['L', '𝐋𝐿𝔏𝕃𝕷𝖫𝗟𝘓𝙇ﴼ🄛🄻𐐛Ⳑ𝑳𝙻𐑃𝓛ⳑꮮᏞꓡ🅻🅛ﺈ└ⓁւＬĿᒪ乚ՆʟꓶιԼᴸˡĹረḶₗΓլĻᄂⅬℒⱢᥧᥨᒻᒶᒷᶫﺎᒺᒹᒸᒫ⎳ㄥŁⱠﺄȽ🇱'],\n  ['l', 'ⓛｌŀĺľḷḹļӀℓḽḻłﾚɭƚɫⱡ|Ɩ⒧ʅǀוןΙІ｜ᶩӏ𝓘𝕀𝖨𝗜𝘐𝐥𝑙𝒍𝓁𝔩𝕝𝖑𝗅𝗹𝘭𝚕𝜤𝝞ı𝚤ɩι𝛊𝜄𝜾𝞲'],\n  ['M', 'ꮇ🄜🄼𐌑𐊰ꓟⲘᎷ🅼🅜ⓂＭмṂ൱ᗰ州ᘻო๓♏ʍᙏᴍᴹᵐ⒨ḾМṀ௱ⅯℳΜϺᛖӍӎ𝐌𝑀𝑴𝓜𝔐𝕄𝕸𝖬𝗠𝘔𝙈𝙼𝚳𝛭𝜧𝝡𝞛🇲'],\n  ['m', '₥ᵯ𝖒𝐦𝗆𝔪𝕞𝓂ⓜｍനᙢ൩ḿṁⅿϻṃጠɱ៳ᶆ𝙢𝓶𝚖𝑚𝗺᧕᧗'],\n  ['N', '𝇙𝇚𝇜🄝𝆧𝙉🄽ℕꓠ𝛮𝝢𝙽𝚴𝑵𝑁Ⲛ𝐍𝒩𝞜𝗡𝘕𝜨𝓝𝖭🅽₦🅝ЙЍⓃҋ៷ＮᴎɴƝᑎ几иՈռИהЛπᴺᶰŃ刀ክṄⁿÑПΝᴨոϖǸŇṆŅṊṈทŊӢӣӤӥћѝйᥢҊᴻ🇳'],\n  ['n', 'ոռח𝒏𝓷𝙣𝑛𝖓𝔫𝗇𝚗𝗻ᥒⓝήｎǹᴒńñᾗηṅňṇɲņṋṉղຖՌƞŋ⒩ภกɳпŉлԉȠἠἡῃդᾐᾑᾒᾓᾔᾕᾖῄῆῇῂἢἣἤἥἦἧὴήበቡቢባቤብቦȵ𝛈𝜂𝜼𝝶𝞰𝕟𝘯𝐧𝓃ᶇᵰᥥ∩'],\n  [\n    'O',\n    // eslint-disable-next-line max-len\n    '𝜽⭘🔿ꭴ⭕⏺🄁🄀Ꭴ𝚯𝚹𝛩𝛳𝜣𝜭𝝝𝝧𝞗𝞡ⴱᎾᏫ⍬𝞱𝝷𝛉𝟎𝜃θ𝟘𝑂𝑶𝓞𝔒𝕆𝕺𝗢𝘖𝙊𝛰㈇ꄲ🄞🔾🄾𐊒𝟬ꓳⲞ𐐄𐊫𐓂𝞞🅞⍥◯ⵁ⊖０⊝𝝤Ѳϴ𝚶𝜪ѺӦӨӪΌʘ𝐎ǑÒŎÓÔÕȌȎㇿ❍ⓄＯὋロ❤૦⊕ØФԾΘƠᴼᵒ⒪ŐÖₒ¤◊Φ〇ΟОՕଠഠ௦סỒỐỖỔṌȬṎŌṐṒȮȰȪỎỜỚỠỞỢỌỘǪǬǾƟⵔ߀៰⍜⎔⎕⦰⦱⦲⦳⦴⦵⦶⦷⦸⦹⦺⦻⦼⦽⦾⦿⧀⧁⧂⧃ὈὉὊὌὍ',\n  ],\n  [\n    'o',\n    // eslint-disable-next-line max-len\n    'ంಂംං૦௦۵ℴ𝑜𝒐𝖔ꬽ𝝄𝛔𝜎𝝈𝞂ჿ𝚘০୦ዐ𝛐𝗈𝞼ဝⲟ𝙤၀𐐬𝔬𐓪𝓸🇴⍤○ϙ🅾𝒪𝖮𝟢𝟶𝙾𝘰𝗼𝕠𝜊𝐨𝝾𝞸ᐤⓞѳ᧐ᥲðｏఠᦞՓòөӧóºōôǒȏŏồốȍỗổõσṍȭṏὄṑṓȯȫ๏ᴏőöѻоዐǭȱ০୦٥౦೦൦๐໐οօᴑ०੦ỏơờớỡởợọộǫøǿɵծὀὁόὸόὂὃὅ',\n  ],\n  ['P', '🄟🄿ꓑ𝚸𝙿𝞠𝙋ꮲⲢ𝒫𝝦𝑃𝑷𝗣𝐏𐊕𝜬𝘗𝓟𝖯𝛲Ꮲ🅟Ҏ🅿ⓅＰƤᑭ尸Ṗրφքᴘᴾᵖ⒫ṔｱקРየᴩⱣℙΡῬᑸᑶᑷᑹᑬᑮ🇵₱'],\n  ['p', 'ⲣҏ℗ⓟｐṕṗƥᵽῥρрƿǷῤ⍴𝓹𝓅𝐩𝑝𝒑𝔭𝕡𝖕𝗉𝗽𝘱𝙥𝚙𝛒𝝆𝞺𝜌𝞀'],\n  ['Q', '🅀🄠Ꝗ🆀🅠ⓆＱℚⵕԚ𝐐𝑄𝑸𝒬𝓠𝚀𝘘𝙌𝖰𝕼𝔔𝗤🇶'],\n  ['q', '𝓆ꝗ𝗾ⓠｑգ⒬۹զᑫɋɊԛ𝗊𝑞𝘲𝕢𝚚𝒒𝖖𝐪𝔮𝓺𝙦'],\n  ['R', '℞🄡℟ꭱᏒ𐒴ꮢᎡꓣ🆁🅡ⓇＲᴙȒʀᖇя尺ŔЯરƦᴿዪṚɌʁℛℜℝṘŘȐṜŖṞⱤ𝐑𝑅𝑹𝓡𝕽𝖱𝗥𝘙𝙍𝚁ᚱ🇷ᴚ'],\n  ['r', '𝚛ꭇᣴℾ𝚪𝛤𝜞𝝘𝞒ⲄГᎱᒥꭈⲅꮁⓡｒŕṙřȑȓṛṝŗгՐɾᥬṟɍʳ⒭ɼѓᴦᶉ𝐫𝑟𝒓𝓇𝓻𝔯𝕣𝖗𝗋𝗿𝘳𝙧ᵲґᵣ'],\n  ['S', '🅂🄪🄢ꇙ𝓢𝗦Ꮪ𝒮Ꮥ𝚂𝐒ꓢ𝖲𝔖𝙎𐊖𝕾𐐠𝘚𝕊𝑆𝑺🆂🅢ⓈＳṨŞֆՏȘˢ⒮ЅṠŠŚṤŜṦṢടᔕᔖᔢᔡᔣᔤ'],\n  ['s', 'ᣵⓢꜱ𐑈ꮪｓśṥŝṡšṧʂṣṩѕşșȿᶊక𝐬𝑠𝒔𝓈𝓼𝔰𝕤𝖘𝗌𝘀𝘴𝙨𝚜ގ🇸'],\n  ['T', '🅃🄣七ፒ𝜯🆃𐌕𝚻𝛵𝕋𝕿𝑻𐊱𐊗𝖳𝙏🝨𝝩𝞣𝚃𝘛𝑇ꓔ⟙𝐓Ⲧ𝗧⊤𝔗Ꭲꭲ𝒯🅣⏇⏉ⓉＴтҬҭƬイŦԵτᴛᵀｲፕϮŤ⊥ƮΤТ下ṪṬȚŢṰṮ丅丁ᐪ𝛕𝜏𝝉𝞃𝞽𝓣ㄒ🇹ጥ'],\n  ['t', 'ⓣｔṫẗťṭțȶ੮էʇ†ţṱṯƭŧᵗ⒯ʈեƫ𝐭𝑡𝒕𝓉𝓽𝔱𝕥𝖙𝗍𝘁𝘵𝙩𝚝ナ'],\n  ['U', '🅄Џ🄤ሀꓴ𐓎꒤🆄🅤ŨŬŮᑗᑘǓǕǗǙⓊＵȖᑌ凵ƱմԱꓵЦŪՄƲᙀᵁᵘ⒰ŰપÜՍÙÚÛṸṺǛỦȔƯỪỨỮỬỰỤṲŲṶṴɄᥩᑧ∪ᘮ⋃𝐔𝑈𝑼𝒰𝓤𝔘𝕌𝖀𝖴𝗨𝘜𝙐𝚄🇺'],\n  ['u', '𝘂𝘶𝙪𝚞ꞟꭎꭒ𝛖𝜐𝝊𝞄𝞾𐓶ὺύⓤｕùũūừṷṹŭǖữᥙǚǜὗυΰนսʊǘǔúůᴜűųยûṻцሁüᵾᵤµʋủȕȗưứửựụṳṵʉῠῡῢΰῦῧὐὑϋύὒὓὔὕὖᥔ𝐮𝑢𝒖𝓊𝓾𝔲𝕦𝖚𝗎ᶙ'],\n  ['V', '𝑉𝒱𝕍𝗩🄥🅅ꓦ𝑽𝖵𝘝Ꮩ𝚅𝙑𝐕🆅🅥ⓋＶᐯѴᵛ⒱۷ṾⅴⅤṼ٧ⴸѶᐺᐻ🇻𝓥'],\n  ['v', '∨⌄⋁ⅴ𝐯𝑣𝒗𝓋𝔳𝕧𝖛𝗏ꮩሀⓥｖ𝜐𝝊ṽṿ౮งѵעᴠνטᵥѷ៴ᘁ𝙫𝚟𝛎𝜈𝝂𝝼𝞶𝘷𝘃𝓿'],\n  ['W', '𝐖𝑊𝓦𝔚𝕎𝖂𝖶𝗪𝙒𝚆🄦🅆ᏔᎳ𝑾ꓪ𝒲𝘞🆆Ⓦ🅦ｗＷẂᾧᗯᥕ山ѠຟచաЩШώщฬшᙎᵂʷ⒲ฝሠẄԜẀŴẆẈധᘺѿᙡƜ₩🇼'],\n  ['w', '𝐰ꝡ𝑤𝒘𝓌𝔀𝔴𝕨𝖜𝗐𝘄𝘸𝙬𝚠աẁꮃẃⓦ⍵ŵẇẅẘẉⱳὼὠὡὢὣωὤὥὦὧῲῳῴῶῷⱲѡԝᴡώᾠᾡᾢᾣᾤᾥᾦɯ𝝕𝟉𝞏'],\n  ['X', 'ꭓꭕ𝛘𝜒𝝌𝞆𝟀ⲭ🞨𝑿𝛸🄧🞩🞪🅇🞫🞬𐌗Ⲭꓫ𝖃𝞦𝘟𐊐𝚾𝝬𝜲Ꭓ𐌢𝖷𝑋𝕏𝔛𐊴𝗫🆇🅧❌Ⓧ𝓧ＸẊ᙭χㄨ𝒳ӾჯӼҳЖΧҲᵡˣ⒳אሸẌꊼⅩХ╳᙮ᕁᕽⅹᚷⵝ𝙓𝚇乂𝐗🇽'],\n  ['x', '᙮ⅹ𝑥𝒙𝓍𝔵𝕩𝖝𝗑𝘅ᕁᕽⓧｘхẋ×ₓ⤫⤬⨯ẍᶍ𝙭ӽ𝘹𝐱𝚡⨰ﾒ𝔁'],\n  ['Y', '𝒴🄨𝓨𝔜𝖄𝖸𝘠𝙔𝚼𝛶𝝪𝞤УᎩᎽⲨ𝚈𝑌𝗬𝐘ꓬ𝒀𝜰𐊲🆈🅨ⓎＹὛƳㄚʏ⅄ϔ￥¥ՎϓγץӲЧЎሃŸɎϤΥϒҮỲÝŶỸȲẎỶỴῨῩῪΎὙὝὟΫΎӮӰҰұ𝕐🇾'],\n  ['y', '𝐲𝑦𝒚𝓎𝔂𝔶𝕪𝖞𝗒𝘆𝘺𝙮𝚢ʏỿꭚγℽ𝛄𝛾𝜸𝝲𝞬🅈ᎽᎩⓨｙỳýŷỹȳẏÿỷуყẙỵƴɏᵞɣʸᶌү⒴ӳӱӯўУʎ'],\n  ['Z', '🄩🅉ꓜ𝗭𝐙☡Ꮓ𝘡🆉🅩ⓏＺẔƵ乙ẐȤᶻ⒵ŹℤΖŻŽẒⱫ🇿'],\n  ['z', '𝑍𝒁𝒵𝓩𝖹𝙕𝚉𝚭𝛧𝜡𝝛𝞕ᵶꮓ𝐳𝑧𝒛𝓏𝔃𝔷𝕫𝖟𝗓𝘇𝘻𝙯𝚣ⓩｚźẑżžẓẕƶȥɀᴢጊʐⱬᶎʑᙆ'],\n]);\n","// Original repo: https://github.com/gc/confusables\n\nimport { checkLNP, clean } from './util';\nimport { characters } from './characters';\n\nconst alphabetMap = new Map<string, string[]>();\nconst confusablesMap = new Map<string, string>();\n\nfor (const [base, alts] of characters.entries()) {\n  alphabetMap.set(base, [...alts]);\n\n  for (const char of alts) {\n    confusablesMap.set(char, base);\n  }\n}\n\nexport function cleanText(str: string) {\n  if (checkLNP(str)) return str;\n\n  let newStr = '';\n\n  for (const char of clean(str)) {\n    newStr += confusablesMap.get(char) || char;\n  }\n\n  return newStr;\n}\n","/* eslint-disable max-len, no-misleading-character-class, no-control-regex, operator-linebreak */\n/** @copyright Mathias Bynens <https://mathiasbynens.be/>. MIT license. */\nconst RE_SYMBOL_WITH_COMBINING_MARKS =\n  /([\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])([\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F]+)/g;\n/** @copyright Mathias Bynens <https://mathiasbynens.be/>. MIT license. */\nconst RE_LINEBREAK_COMBINING_MARKS =\n  /[\\0-\\x08\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\u0300-\\u034E\\u0350-\\u035B\\u0363-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u061C\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D4-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C00-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D01-\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1A17-\\u1A1B\\u1A7F\\u1AB0-\\u1ABE\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF5\\u1DFB-\\u1DFF\\u200C\\u200E\\u200F\\u202A-\\u202E\\u2066-\\u206F\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3035\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFFF9-\\uFFFB]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD804[\\uDC00-\\uDC02\\uDC38-\\uDC46\\uDC7F-\\uDC82\\uDCB0-\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD34\\uDD73\\uDD80-\\uDD82\\uDDB3-\\uDDC0\\uDDCA-\\uDDCC\\uDE2C-\\uDE37\\uDE3E\\uDEDF-\\uDEEA\\uDF00-\\uDF03\\uDF3C\\uDF3E-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF57\\uDF62\\uDF63\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC35-\\uDC46\\uDCB0-\\uDCC3\\uDDAF-\\uDDB5\\uDDB8-\\uDDC0\\uDDDC\\uDDDD\\uDE30-\\uDE40\\uDEAB-\\uDEB7]|\\uD807[\\uDC2F-\\uDC36\\uDC38-\\uDC3F\\uDC92-\\uDCA7\\uDCA9-\\uDCB6]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF51-\\uDF7E\\uDF8F-\\uDF92]|\\uD82F[\\uDC9D\\uDC9E\\uDCA0-\\uDCA3]|\\uD834[\\uDD65-\\uDD69\\uDD6D-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uDB40[\\uDC01\\uDC20-\\uDC7F\\uDD00-\\uDDEF]/g;\nconst RE_SPACE_CHARS = /[\\n\\r]/g;\nconst RE_FAKE_DOTS = /[\\u0702\\u0701\\u2024\\u00B7\\u02D9\\u0971\\u1427\\u18DF\\u22C5\\u2027]/g;\nconst RE_EMPTY_CHARS = /[\\u200B-\\u200D\\uFEFF\\u2063]/g;\n/* eslint-enable max-len, no-misleading-character-class, no-control-regex, operator-linebreak */\n\n/** Skippable characters that are not confusables */\nexport const checkLNPRegex = /^(?:[~`!@#%^&*(){}[\\];:\"'<,.>?/\\\\|_+=-]|[a-zA-Z0-9\\s])+$/;\n\nexport function checkLNP(str: string) {\n  return checkLNPRegex.test(str);\n}\n\n/**\n * Utility function to call 2 other functions which remove Combining Marks/Invisible characters\n * @param str The text to clean.\n */\nexport function clean(str: string) {\n  return str\n    .replace(RE_LINEBREAK_COMBINING_MARKS, '')\n    .replace(RE_SYMBOL_WITH_COMBINING_MARKS, '$1')\n    .replace(RE_SPACE_CHARS, ' ')\n    .replace(RE_FAKE_DOTS, '.')\n    .replace(RE_EMPTY_CHARS, '');\n}\n","/*\n * Dexie.js - a minimalistic wrapper for IndexedDB\n * ===============================================\n *\n * By David Fahlander, david.fahlander@gmail.com\n *\n * Version 3.2.4, Tue May 30 2023\n *\n * https://dexie.org\n *\n * Apache License Version 2.0, January 2004, http://www.apache.org/licenses/\n */\n \n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Dexie = factory());\n})(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\n    Copyright (c) Microsoft Corporation.\n    Permission to use, copy, modify, and/or distribute this software for any\n    purpose with or without fee is hereby granted.\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\n    PERFORMANCE OF THIS SOFTWARE.\n    ***************************************************************************** */\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArray(to, from, pack) {\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n        return to.concat(ar || Array.prototype.slice.call(from));\n    }\n\n    var _global = typeof globalThis !== 'undefined' ? globalThis :\n        typeof self !== 'undefined' ? self :\n            typeof window !== 'undefined' ? window :\n                global;\n\n    var keys = Object.keys;\n    var isArray = Array.isArray;\n    if (typeof Promise !== 'undefined' && !_global.Promise) {\n        _global.Promise = Promise;\n    }\n    function extend(obj, extension) {\n        if (typeof extension !== 'object')\n            return obj;\n        keys(extension).forEach(function (key) {\n            obj[key] = extension[key];\n        });\n        return obj;\n    }\n    var getProto = Object.getPrototypeOf;\n    var _hasOwn = {}.hasOwnProperty;\n    function hasOwn(obj, prop) {\n        return _hasOwn.call(obj, prop);\n    }\n    function props(proto, extension) {\n        if (typeof extension === 'function')\n            extension = extension(getProto(proto));\n        (typeof Reflect === \"undefined\" ? keys : Reflect.ownKeys)(extension).forEach(function (key) {\n            setProp(proto, key, extension[key]);\n        });\n    }\n    var defineProperty = Object.defineProperty;\n    function setProp(obj, prop, functionOrGetSet, options) {\n        defineProperty(obj, prop, extend(functionOrGetSet && hasOwn(functionOrGetSet, \"get\") && typeof functionOrGetSet.get === 'function' ?\n            { get: functionOrGetSet.get, set: functionOrGetSet.set, configurable: true } :\n            { value: functionOrGetSet, configurable: true, writable: true }, options));\n    }\n    function derive(Child) {\n        return {\n            from: function (Parent) {\n                Child.prototype = Object.create(Parent.prototype);\n                setProp(Child.prototype, \"constructor\", Child);\n                return {\n                    extend: props.bind(null, Child.prototype)\n                };\n            }\n        };\n    }\n    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    function getPropertyDescriptor(obj, prop) {\n        var pd = getOwnPropertyDescriptor(obj, prop);\n        var proto;\n        return pd || (proto = getProto(obj)) && getPropertyDescriptor(proto, prop);\n    }\n    var _slice = [].slice;\n    function slice(args, start, end) {\n        return _slice.call(args, start, end);\n    }\n    function override(origFunc, overridedFactory) {\n        return overridedFactory(origFunc);\n    }\n    function assert(b) {\n        if (!b)\n            throw new Error(\"Assertion Failed\");\n    }\n    function asap$1(fn) {\n        if (_global.setImmediate)\n            setImmediate(fn);\n        else\n            setTimeout(fn, 0);\n    }\n    function arrayToObject(array, extractor) {\n        return array.reduce(function (result, item, i) {\n            var nameAndValue = extractor(item, i);\n            if (nameAndValue)\n                result[nameAndValue[0]] = nameAndValue[1];\n            return result;\n        }, {});\n    }\n    function tryCatch(fn, onerror, args) {\n        try {\n            fn.apply(null, args);\n        }\n        catch (ex) {\n            onerror && onerror(ex);\n        }\n    }\n    function getByKeyPath(obj, keyPath) {\n        if (hasOwn(obj, keyPath))\n            return obj[keyPath];\n        if (!keyPath)\n            return obj;\n        if (typeof keyPath !== 'string') {\n            var rv = [];\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                var val = getByKeyPath(obj, keyPath[i]);\n                rv.push(val);\n            }\n            return rv;\n        }\n        var period = keyPath.indexOf('.');\n        if (period !== -1) {\n            var innerObj = obj[keyPath.substr(0, period)];\n            return innerObj === undefined ? undefined : getByKeyPath(innerObj, keyPath.substr(period + 1));\n        }\n        return undefined;\n    }\n    function setByKeyPath(obj, keyPath, value) {\n        if (!obj || keyPath === undefined)\n            return;\n        if ('isFrozen' in Object && Object.isFrozen(obj))\n            return;\n        if (typeof keyPath !== 'string' && 'length' in keyPath) {\n            assert(typeof value !== 'string' && 'length' in value);\n            for (var i = 0, l = keyPath.length; i < l; ++i) {\n                setByKeyPath(obj, keyPath[i], value[i]);\n            }\n        }\n        else {\n            var period = keyPath.indexOf('.');\n            if (period !== -1) {\n                var currentKeyPath = keyPath.substr(0, period);\n                var remainingKeyPath = keyPath.substr(period + 1);\n                if (remainingKeyPath === \"\")\n                    if (value === undefined) {\n                        if (isArray(obj) && !isNaN(parseInt(currentKeyPath)))\n                            obj.splice(currentKeyPath, 1);\n                        else\n                            delete obj[currentKeyPath];\n                    }\n                    else\n                        obj[currentKeyPath] = value;\n                else {\n                    var innerObj = obj[currentKeyPath];\n                    if (!innerObj || !hasOwn(obj, currentKeyPath))\n                        innerObj = (obj[currentKeyPath] = {});\n                    setByKeyPath(innerObj, remainingKeyPath, value);\n                }\n            }\n            else {\n                if (value === undefined) {\n                    if (isArray(obj) && !isNaN(parseInt(keyPath)))\n                        obj.splice(keyPath, 1);\n                    else\n                        delete obj[keyPath];\n                }\n                else\n                    obj[keyPath] = value;\n            }\n        }\n    }\n    function delByKeyPath(obj, keyPath) {\n        if (typeof keyPath === 'string')\n            setByKeyPath(obj, keyPath, undefined);\n        else if ('length' in keyPath)\n            [].map.call(keyPath, function (kp) {\n                setByKeyPath(obj, kp, undefined);\n            });\n    }\n    function shallowClone(obj) {\n        var rv = {};\n        for (var m in obj) {\n            if (hasOwn(obj, m))\n                rv[m] = obj[m];\n        }\n        return rv;\n    }\n    var concat = [].concat;\n    function flatten(a) {\n        return concat.apply([], a);\n    }\n    var intrinsicTypeNames = \"Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey\"\n        .split(',').concat(flatten([8, 16, 32, 64].map(function (num) { return [\"Int\", \"Uint\", \"Float\"].map(function (t) { return t + num + \"Array\"; }); }))).filter(function (t) { return _global[t]; });\n    var intrinsicTypes = intrinsicTypeNames.map(function (t) { return _global[t]; });\n    arrayToObject(intrinsicTypeNames, function (x) { return [x, true]; });\n    var circularRefs = null;\n    function deepClone(any) {\n        circularRefs = typeof WeakMap !== 'undefined' && new WeakMap();\n        var rv = innerDeepClone(any);\n        circularRefs = null;\n        return rv;\n    }\n    function innerDeepClone(any) {\n        if (!any || typeof any !== 'object')\n            return any;\n        var rv = circularRefs && circularRefs.get(any);\n        if (rv)\n            return rv;\n        if (isArray(any)) {\n            rv = [];\n            circularRefs && circularRefs.set(any, rv);\n            for (var i = 0, l = any.length; i < l; ++i) {\n                rv.push(innerDeepClone(any[i]));\n            }\n        }\n        else if (intrinsicTypes.indexOf(any.constructor) >= 0) {\n            rv = any;\n        }\n        else {\n            var proto = getProto(any);\n            rv = proto === Object.prototype ? {} : Object.create(proto);\n            circularRefs && circularRefs.set(any, rv);\n            for (var prop in any) {\n                if (hasOwn(any, prop)) {\n                    rv[prop] = innerDeepClone(any[prop]);\n                }\n            }\n        }\n        return rv;\n    }\n    var toString = {}.toString;\n    function toStringTag(o) {\n        return toString.call(o).slice(8, -1);\n    }\n    var iteratorSymbol = typeof Symbol !== 'undefined' ?\n        Symbol.iterator :\n        '@@iterator';\n    var getIteratorOf = typeof iteratorSymbol === \"symbol\" ? function (x) {\n        var i;\n        return x != null && (i = x[iteratorSymbol]) && i.apply(x);\n    } : function () { return null; };\n    var NO_CHAR_ARRAY = {};\n    function getArrayOf(arrayLike) {\n        var i, a, x, it;\n        if (arguments.length === 1) {\n            if (isArray(arrayLike))\n                return arrayLike.slice();\n            if (this === NO_CHAR_ARRAY && typeof arrayLike === 'string')\n                return [arrayLike];\n            if ((it = getIteratorOf(arrayLike))) {\n                a = [];\n                while ((x = it.next()), !x.done)\n                    a.push(x.value);\n                return a;\n            }\n            if (arrayLike == null)\n                return [arrayLike];\n            i = arrayLike.length;\n            if (typeof i === 'number') {\n                a = new Array(i);\n                while (i--)\n                    a[i] = arrayLike[i];\n                return a;\n            }\n            return [arrayLike];\n        }\n        i = arguments.length;\n        a = new Array(i);\n        while (i--)\n            a[i] = arguments[i];\n        return a;\n    }\n    var isAsyncFunction = typeof Symbol !== 'undefined'\n        ? function (fn) { return fn[Symbol.toStringTag] === 'AsyncFunction'; }\n        : function () { return false; };\n\n    var debug = typeof location !== 'undefined' &&\n        /^(http|https):\\/\\/(localhost|127\\.0\\.0\\.1)/.test(location.href);\n    function setDebug(value, filter) {\n        debug = value;\n        libraryFilter = filter;\n    }\n    var libraryFilter = function () { return true; };\n    var NEEDS_THROW_FOR_STACK = !new Error(\"\").stack;\n    function getErrorWithStack() {\n        if (NEEDS_THROW_FOR_STACK)\n            try {\n                getErrorWithStack.arguments;\n                throw new Error();\n            }\n            catch (e) {\n                return e;\n            }\n        return new Error();\n    }\n    function prettyStack(exception, numIgnoredFrames) {\n        var stack = exception.stack;\n        if (!stack)\n            return \"\";\n        numIgnoredFrames = (numIgnoredFrames || 0);\n        if (stack.indexOf(exception.name) === 0)\n            numIgnoredFrames += (exception.name + exception.message).split('\\n').length;\n        return stack.split('\\n')\n            .slice(numIgnoredFrames)\n            .filter(libraryFilter)\n            .map(function (frame) { return \"\\n\" + frame; })\n            .join('');\n    }\n\n    var dexieErrorNames = [\n        'Modify',\n        'Bulk',\n        'OpenFailed',\n        'VersionChange',\n        'Schema',\n        'Upgrade',\n        'InvalidTable',\n        'MissingAPI',\n        'NoSuchDatabase',\n        'InvalidArgument',\n        'SubTransaction',\n        'Unsupported',\n        'Internal',\n        'DatabaseClosed',\n        'PrematureCommit',\n        'ForeignAwait'\n    ];\n    var idbDomErrorNames = [\n        'Unknown',\n        'Constraint',\n        'Data',\n        'TransactionInactive',\n        'ReadOnly',\n        'Version',\n        'NotFound',\n        'InvalidState',\n        'InvalidAccess',\n        'Abort',\n        'Timeout',\n        'QuotaExceeded',\n        'Syntax',\n        'DataClone'\n    ];\n    var errorList = dexieErrorNames.concat(idbDomErrorNames);\n    var defaultTexts = {\n        VersionChanged: \"Database version changed by other database connection\",\n        DatabaseClosed: \"Database has been closed\",\n        Abort: \"Transaction aborted\",\n        TransactionInactive: \"Transaction has already completed or failed\",\n        MissingAPI: \"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb\"\n    };\n    function DexieError(name, msg) {\n        this._e = getErrorWithStack();\n        this.name = name;\n        this.message = msg;\n    }\n    derive(DexieError).from(Error).extend({\n        stack: {\n            get: function () {\n                return this._stack ||\n                    (this._stack = this.name + \": \" + this.message + prettyStack(this._e, 2));\n            }\n        },\n        toString: function () { return this.name + \": \" + this.message; }\n    });\n    function getMultiErrorMessage(msg, failures) {\n        return msg + \". Errors: \" + Object.keys(failures)\n            .map(function (key) { return failures[key].toString(); })\n            .filter(function (v, i, s) { return s.indexOf(v) === i; })\n            .join('\\n');\n    }\n    function ModifyError(msg, failures, successCount, failedKeys) {\n        this._e = getErrorWithStack();\n        this.failures = failures;\n        this.failedKeys = failedKeys;\n        this.successCount = successCount;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(ModifyError).from(DexieError);\n    function BulkError(msg, failures) {\n        this._e = getErrorWithStack();\n        this.name = \"BulkError\";\n        this.failures = Object.keys(failures).map(function (pos) { return failures[pos]; });\n        this.failuresByPos = failures;\n        this.message = getMultiErrorMessage(msg, failures);\n    }\n    derive(BulkError).from(DexieError);\n    var errnames = errorList.reduce(function (obj, name) { return (obj[name] = name + \"Error\", obj); }, {});\n    var BaseException = DexieError;\n    var exceptions = errorList.reduce(function (obj, name) {\n        var fullName = name + \"Error\";\n        function DexieError(msgOrInner, inner) {\n            this._e = getErrorWithStack();\n            this.name = fullName;\n            if (!msgOrInner) {\n                this.message = defaultTexts[name] || fullName;\n                this.inner = null;\n            }\n            else if (typeof msgOrInner === 'string') {\n                this.message = \"\" + msgOrInner + (!inner ? '' : '\\n ' + inner);\n                this.inner = inner || null;\n            }\n            else if (typeof msgOrInner === 'object') {\n                this.message = msgOrInner.name + \" \" + msgOrInner.message;\n                this.inner = msgOrInner;\n            }\n        }\n        derive(DexieError).from(BaseException);\n        obj[name] = DexieError;\n        return obj;\n    }, {});\n    exceptions.Syntax = SyntaxError;\n    exceptions.Type = TypeError;\n    exceptions.Range = RangeError;\n    var exceptionMap = idbDomErrorNames.reduce(function (obj, name) {\n        obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    function mapError(domError, message) {\n        if (!domError || domError instanceof DexieError || domError instanceof TypeError || domError instanceof SyntaxError || !domError.name || !exceptionMap[domError.name])\n            return domError;\n        var rv = new exceptionMap[domError.name](message || domError.message, domError);\n        if (\"stack\" in domError) {\n            setProp(rv, \"stack\", { get: function () {\n                    return this.inner.stack;\n                } });\n        }\n        return rv;\n    }\n    var fullNameExceptions = errorList.reduce(function (obj, name) {\n        if ([\"Syntax\", \"Type\", \"Range\"].indexOf(name) === -1)\n            obj[name + \"Error\"] = exceptions[name];\n        return obj;\n    }, {});\n    fullNameExceptions.ModifyError = ModifyError;\n    fullNameExceptions.DexieError = DexieError;\n    fullNameExceptions.BulkError = BulkError;\n\n    function nop() { }\n    function mirror(val) { return val; }\n    function pureFunctionChain(f1, f2) {\n        if (f1 == null || f1 === mirror)\n            return f2;\n        return function (val) {\n            return f2(f1(val));\n        };\n    }\n    function callBoth(on1, on2) {\n        return function () {\n            on1.apply(this, arguments);\n            on2.apply(this, arguments);\n        };\n    }\n    function hookCreatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res !== undefined)\n                arguments[0] = res;\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res2 !== undefined ? res2 : res;\n        };\n    }\n    function hookDeletingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            f1.apply(this, arguments);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = this.onerror = null;\n            f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n        };\n    }\n    function hookUpdatingChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function (modifications) {\n            var res = f1.apply(this, arguments);\n            extend(modifications, res);\n            var onsuccess = this.onsuccess,\n            onerror = this.onerror;\n            this.onsuccess = null;\n            this.onerror = null;\n            var res2 = f2.apply(this, arguments);\n            if (onsuccess)\n                this.onsuccess = this.onsuccess ? callBoth(onsuccess, this.onsuccess) : onsuccess;\n            if (onerror)\n                this.onerror = this.onerror ? callBoth(onerror, this.onerror) : onerror;\n            return res === undefined ?\n                (res2 === undefined ? undefined : res2) :\n                (extend(res, res2));\n        };\n    }\n    function reverseStoppableEventChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            if (f2.apply(this, arguments) === false)\n                return false;\n            return f1.apply(this, arguments);\n        };\n    }\n    function promisableChain(f1, f2) {\n        if (f1 === nop)\n            return f2;\n        return function () {\n            var res = f1.apply(this, arguments);\n            if (res && typeof res.then === 'function') {\n                var thiz = this, i = arguments.length, args = new Array(i);\n                while (i--)\n                    args[i] = arguments[i];\n                return res.then(function () {\n                    return f2.apply(thiz, args);\n                });\n            }\n            return f2.apply(this, arguments);\n        };\n    }\n\n    var INTERNAL = {};\n    var LONG_STACKS_CLIP_LIMIT = 100,\n    MAX_LONG_STACKS = 20, ZONE_ECHO_LIMIT = 100, _a$1 = typeof Promise === 'undefined' ?\n        [] :\n        (function () {\n            var globalP = Promise.resolve();\n            if (typeof crypto === 'undefined' || !crypto.subtle)\n                return [globalP, getProto(globalP), globalP];\n            var nativeP = crypto.subtle.digest(\"SHA-512\", new Uint8Array([0]));\n            return [\n                nativeP,\n                getProto(nativeP),\n                globalP\n            ];\n        })(), resolvedNativePromise = _a$1[0], nativePromiseProto = _a$1[1], resolvedGlobalPromise = _a$1[2], nativePromiseThen = nativePromiseProto && nativePromiseProto.then;\n    var NativePromise = resolvedNativePromise && resolvedNativePromise.constructor;\n    var patchGlobalPromise = !!resolvedGlobalPromise;\n    var stack_being_generated = false;\n    var schedulePhysicalTick = resolvedGlobalPromise ?\n        function () { resolvedGlobalPromise.then(physicalTick); }\n        :\n            _global.setImmediate ?\n                setImmediate.bind(null, physicalTick) :\n                _global.MutationObserver ?\n                    function () {\n                        var hiddenDiv = document.createElement(\"div\");\n                        (new MutationObserver(function () {\n                            physicalTick();\n                            hiddenDiv = null;\n                        })).observe(hiddenDiv, { attributes: true });\n                        hiddenDiv.setAttribute('i', '1');\n                    } :\n                    function () { setTimeout(physicalTick, 0); };\n    var asap = function (callback, args) {\n        microtickQueue.push([callback, args]);\n        if (needsNewPhysicalTick) {\n            schedulePhysicalTick();\n            needsNewPhysicalTick = false;\n        }\n    };\n    var isOutsideMicroTick = true,\n    needsNewPhysicalTick = true,\n    unhandledErrors = [],\n    rejectingErrors = [],\n    currentFulfiller = null, rejectionMapper = mirror;\n    var globalPSD = {\n        id: 'global',\n        global: true,\n        ref: 0,\n        unhandleds: [],\n        onunhandled: globalError,\n        pgp: false,\n        env: {},\n        finalize: function () {\n            this.unhandleds.forEach(function (uh) {\n                try {\n                    globalError(uh[0], uh[1]);\n                }\n                catch (e) { }\n            });\n        }\n    };\n    var PSD = globalPSD;\n    var microtickQueue = [];\n    var numScheduledCalls = 0;\n    var tickFinalizers = [];\n    function DexiePromise(fn) {\n        if (typeof this !== 'object')\n            throw new TypeError('Promises must be constructed via new');\n        this._listeners = [];\n        this.onuncatched = nop;\n        this._lib = false;\n        var psd = (this._PSD = PSD);\n        if (debug) {\n            this._stackHolder = getErrorWithStack();\n            this._prev = null;\n            this._numPrev = 0;\n        }\n        if (typeof fn !== 'function') {\n            if (fn !== INTERNAL)\n                throw new TypeError('Not a function');\n            this._state = arguments[1];\n            this._value = arguments[2];\n            if (this._state === false)\n                handleRejection(this, this._value);\n            return;\n        }\n        this._state = null;\n        this._value = null;\n        ++psd.ref;\n        executePromiseTask(this, fn);\n    }\n    var thenProp = {\n        get: function () {\n            var psd = PSD, microTaskId = totalEchoes;\n            function then(onFulfilled, onRejected) {\n                var _this = this;\n                var possibleAwait = !psd.global && (psd !== PSD || microTaskId !== totalEchoes);\n                var cleanup = possibleAwait && !decrementExpectedAwaits();\n                var rv = new DexiePromise(function (resolve, reject) {\n                    propagateToListener(_this, new Listener(nativeAwaitCompatibleWrap(onFulfilled, psd, possibleAwait, cleanup), nativeAwaitCompatibleWrap(onRejected, psd, possibleAwait, cleanup), resolve, reject, psd));\n                });\n                debug && linkToPreviousPromise(rv, this);\n                return rv;\n            }\n            then.prototype = INTERNAL;\n            return then;\n        },\n        set: function (value) {\n            setProp(this, 'then', value && value.prototype === INTERNAL ?\n                thenProp :\n                {\n                    get: function () {\n                        return value;\n                    },\n                    set: thenProp.set\n                });\n        }\n    };\n    props(DexiePromise.prototype, {\n        then: thenProp,\n        _then: function (onFulfilled, onRejected) {\n            propagateToListener(this, new Listener(null, null, onFulfilled, onRejected, PSD));\n        },\n        catch: function (onRejected) {\n            if (arguments.length === 1)\n                return this.then(null, onRejected);\n            var type = arguments[0], handler = arguments[1];\n            return typeof type === 'function' ? this.then(null, function (err) {\n                return err instanceof type ? handler(err) : PromiseReject(err);\n            })\n                : this.then(null, function (err) {\n                    return err && err.name === type ? handler(err) : PromiseReject(err);\n                });\n        },\n        finally: function (onFinally) {\n            return this.then(function (value) {\n                onFinally();\n                return value;\n            }, function (err) {\n                onFinally();\n                return PromiseReject(err);\n            });\n        },\n        stack: {\n            get: function () {\n                if (this._stack)\n                    return this._stack;\n                try {\n                    stack_being_generated = true;\n                    var stacks = getStack(this, [], MAX_LONG_STACKS);\n                    var stack = stacks.join(\"\\nFrom previous: \");\n                    if (this._state !== null)\n                        this._stack = stack;\n                    return stack;\n                }\n                finally {\n                    stack_being_generated = false;\n                }\n            }\n        },\n        timeout: function (ms, msg) {\n            var _this = this;\n            return ms < Infinity ?\n                new DexiePromise(function (resolve, reject) {\n                    var handle = setTimeout(function () { return reject(new exceptions.Timeout(msg)); }, ms);\n                    _this.then(resolve, reject).finally(clearTimeout.bind(null, handle));\n                }) : this;\n        }\n    });\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag)\n        setProp(DexiePromise.prototype, Symbol.toStringTag, 'Dexie.Promise');\n    globalPSD.env = snapShot();\n    function Listener(onFulfilled, onRejected, resolve, reject, zone) {\n        this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n        this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n        this.resolve = resolve;\n        this.reject = reject;\n        this.psd = zone;\n    }\n    props(DexiePromise, {\n        all: function () {\n            var values = getArrayOf.apply(null, arguments)\n                .map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                if (values.length === 0)\n                    resolve([]);\n                var remaining = values.length;\n                values.forEach(function (a, i) { return DexiePromise.resolve(a).then(function (x) {\n                    values[i] = x;\n                    if (!--remaining)\n                        resolve(values);\n                }, reject); });\n            });\n        },\n        resolve: function (value) {\n            if (value instanceof DexiePromise)\n                return value;\n            if (value && typeof value.then === 'function')\n                return new DexiePromise(function (resolve, reject) {\n                    value.then(resolve, reject);\n                });\n            var rv = new DexiePromise(INTERNAL, true, value);\n            linkToPreviousPromise(rv, currentFulfiller);\n            return rv;\n        },\n        reject: PromiseReject,\n        race: function () {\n            var values = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n            return new DexiePromise(function (resolve, reject) {\n                values.map(function (value) { return DexiePromise.resolve(value).then(resolve, reject); });\n            });\n        },\n        PSD: {\n            get: function () { return PSD; },\n            set: function (value) { return PSD = value; }\n        },\n        totalEchoes: { get: function () { return totalEchoes; } },\n        newPSD: newScope,\n        usePSD: usePSD,\n        scheduler: {\n            get: function () { return asap; },\n            set: function (value) { asap = value; }\n        },\n        rejectionMapper: {\n            get: function () { return rejectionMapper; },\n            set: function (value) { rejectionMapper = value; }\n        },\n        follow: function (fn, zoneProps) {\n            return new DexiePromise(function (resolve, reject) {\n                return newScope(function (resolve, reject) {\n                    var psd = PSD;\n                    psd.unhandleds = [];\n                    psd.onunhandled = reject;\n                    psd.finalize = callBoth(function () {\n                        var _this = this;\n                        run_at_end_of_this_or_next_physical_tick(function () {\n                            _this.unhandleds.length === 0 ? resolve() : reject(_this.unhandleds[0]);\n                        });\n                    }, psd.finalize);\n                    fn();\n                }, zoneProps, resolve, reject);\n            });\n        }\n    });\n    if (NativePromise) {\n        if (NativePromise.allSettled)\n            setProp(DexiePromise, \"allSettled\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve) {\n                    if (possiblePromises.length === 0)\n                        resolve([]);\n                    var remaining = possiblePromises.length;\n                    var results = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return results[i] = { status: \"fulfilled\", value: value }; }, function (reason) { return results[i] = { status: \"rejected\", reason: reason }; })\n                        .then(function () { return --remaining || resolve(results); }); });\n                });\n            });\n        if (NativePromise.any && typeof AggregateError !== 'undefined')\n            setProp(DexiePromise, \"any\", function () {\n                var possiblePromises = getArrayOf.apply(null, arguments).map(onPossibleParallellAsync);\n                return new DexiePromise(function (resolve, reject) {\n                    if (possiblePromises.length === 0)\n                        reject(new AggregateError([]));\n                    var remaining = possiblePromises.length;\n                    var failures = new Array(remaining);\n                    possiblePromises.forEach(function (p, i) { return DexiePromise.resolve(p).then(function (value) { return resolve(value); }, function (failure) {\n                        failures[i] = failure;\n                        if (!--remaining)\n                            reject(new AggregateError(failures));\n                    }); });\n                });\n            });\n    }\n    function executePromiseTask(promise, fn) {\n        try {\n            fn(function (value) {\n                if (promise._state !== null)\n                    return;\n                if (value === promise)\n                    throw new TypeError('A promise cannot be resolved with itself.');\n                var shouldExecuteTick = promise._lib && beginMicroTickScope();\n                if (value && typeof value.then === 'function') {\n                    executePromiseTask(promise, function (resolve, reject) {\n                        value instanceof DexiePromise ?\n                            value._then(resolve, reject) :\n                            value.then(resolve, reject);\n                    });\n                }\n                else {\n                    promise._state = true;\n                    promise._value = value;\n                    propagateAllListeners(promise);\n                }\n                if (shouldExecuteTick)\n                    endMicroTickScope();\n            }, handleRejection.bind(null, promise));\n        }\n        catch (ex) {\n            handleRejection(promise, ex);\n        }\n    }\n    function handleRejection(promise, reason) {\n        rejectingErrors.push(reason);\n        if (promise._state !== null)\n            return;\n        var shouldExecuteTick = promise._lib && beginMicroTickScope();\n        reason = rejectionMapper(reason);\n        promise._state = false;\n        promise._value = reason;\n        debug && reason !== null && typeof reason === 'object' && !reason._promise && tryCatch(function () {\n            var origProp = getPropertyDescriptor(reason, \"stack\");\n            reason._promise = promise;\n            setProp(reason, \"stack\", {\n                get: function () {\n                    return stack_being_generated ?\n                        origProp && (origProp.get ?\n                            origProp.get.apply(reason) :\n                            origProp.value) :\n                        promise.stack;\n                }\n            });\n        });\n        addPossiblyUnhandledError(promise);\n        propagateAllListeners(promise);\n        if (shouldExecuteTick)\n            endMicroTickScope();\n    }\n    function propagateAllListeners(promise) {\n        var listeners = promise._listeners;\n        promise._listeners = [];\n        for (var i = 0, len = listeners.length; i < len; ++i) {\n            propagateToListener(promise, listeners[i]);\n        }\n        var psd = promise._PSD;\n        --psd.ref || psd.finalize();\n        if (numScheduledCalls === 0) {\n            ++numScheduledCalls;\n            asap(function () {\n                if (--numScheduledCalls === 0)\n                    finalizePhysicalTick();\n            }, []);\n        }\n    }\n    function propagateToListener(promise, listener) {\n        if (promise._state === null) {\n            promise._listeners.push(listener);\n            return;\n        }\n        var cb = promise._state ? listener.onFulfilled : listener.onRejected;\n        if (cb === null) {\n            return (promise._state ? listener.resolve : listener.reject)(promise._value);\n        }\n        ++listener.psd.ref;\n        ++numScheduledCalls;\n        asap(callListener, [cb, promise, listener]);\n    }\n    function callListener(cb, promise, listener) {\n        try {\n            currentFulfiller = promise;\n            var ret, value = promise._value;\n            if (promise._state) {\n                ret = cb(value);\n            }\n            else {\n                if (rejectingErrors.length)\n                    rejectingErrors = [];\n                ret = cb(value);\n                if (rejectingErrors.indexOf(value) === -1)\n                    markErrorAsHandled(promise);\n            }\n            listener.resolve(ret);\n        }\n        catch (e) {\n            listener.reject(e);\n        }\n        finally {\n            currentFulfiller = null;\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n            --listener.psd.ref || listener.psd.finalize();\n        }\n    }\n    function getStack(promise, stacks, limit) {\n        if (stacks.length === limit)\n            return stacks;\n        var stack = \"\";\n        if (promise._state === false) {\n            var failure = promise._value, errorName, message;\n            if (failure != null) {\n                errorName = failure.name || \"Error\";\n                message = failure.message || failure;\n                stack = prettyStack(failure, 0);\n            }\n            else {\n                errorName = failure;\n                message = \"\";\n            }\n            stacks.push(errorName + (message ? \": \" + message : \"\") + stack);\n        }\n        if (debug) {\n            stack = prettyStack(promise._stackHolder, 2);\n            if (stack && stacks.indexOf(stack) === -1)\n                stacks.push(stack);\n            if (promise._prev)\n                getStack(promise._prev, stacks, limit);\n        }\n        return stacks;\n    }\n    function linkToPreviousPromise(promise, prev) {\n        var numPrev = prev ? prev._numPrev + 1 : 0;\n        if (numPrev < LONG_STACKS_CLIP_LIMIT) {\n            promise._prev = prev;\n            promise._numPrev = numPrev;\n        }\n    }\n    function physicalTick() {\n        beginMicroTickScope() && endMicroTickScope();\n    }\n    function beginMicroTickScope() {\n        var wasRootExec = isOutsideMicroTick;\n        isOutsideMicroTick = false;\n        needsNewPhysicalTick = false;\n        return wasRootExec;\n    }\n    function endMicroTickScope() {\n        var callbacks, i, l;\n        do {\n            while (microtickQueue.length > 0) {\n                callbacks = microtickQueue;\n                microtickQueue = [];\n                l = callbacks.length;\n                for (i = 0; i < l; ++i) {\n                    var item = callbacks[i];\n                    item[0].apply(null, item[1]);\n                }\n            }\n        } while (microtickQueue.length > 0);\n        isOutsideMicroTick = true;\n        needsNewPhysicalTick = true;\n    }\n    function finalizePhysicalTick() {\n        var unhandledErrs = unhandledErrors;\n        unhandledErrors = [];\n        unhandledErrs.forEach(function (p) {\n            p._PSD.onunhandled.call(null, p._value, p);\n        });\n        var finalizers = tickFinalizers.slice(0);\n        var i = finalizers.length;\n        while (i)\n            finalizers[--i]();\n    }\n    function run_at_end_of_this_or_next_physical_tick(fn) {\n        function finalizer() {\n            fn();\n            tickFinalizers.splice(tickFinalizers.indexOf(finalizer), 1);\n        }\n        tickFinalizers.push(finalizer);\n        ++numScheduledCalls;\n        asap(function () {\n            if (--numScheduledCalls === 0)\n                finalizePhysicalTick();\n        }, []);\n    }\n    function addPossiblyUnhandledError(promise) {\n        if (!unhandledErrors.some(function (p) { return p._value === promise._value; }))\n            unhandledErrors.push(promise);\n    }\n    function markErrorAsHandled(promise) {\n        var i = unhandledErrors.length;\n        while (i)\n            if (unhandledErrors[--i]._value === promise._value) {\n                unhandledErrors.splice(i, 1);\n                return;\n            }\n    }\n    function PromiseReject(reason) {\n        return new DexiePromise(INTERNAL, false, reason);\n    }\n    function wrap(fn, errorCatcher) {\n        var psd = PSD;\n        return function () {\n            var wasRootExec = beginMicroTickScope(), outerScope = PSD;\n            try {\n                switchToZone(psd, true);\n                return fn.apply(this, arguments);\n            }\n            catch (e) {\n                errorCatcher && errorCatcher(e);\n            }\n            finally {\n                switchToZone(outerScope, false);\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n    }\n    var task = { awaits: 0, echoes: 0, id: 0 };\n    var taskCounter = 0;\n    var zoneStack = [];\n    var zoneEchoes = 0;\n    var totalEchoes = 0;\n    var zone_id_counter = 0;\n    function newScope(fn, props, a1, a2) {\n        var parent = PSD, psd = Object.create(parent);\n        psd.parent = parent;\n        psd.ref = 0;\n        psd.global = false;\n        psd.id = ++zone_id_counter;\n        var globalEnv = globalPSD.env;\n        psd.env = patchGlobalPromise ? {\n            Promise: DexiePromise,\n            PromiseProp: { value: DexiePromise, configurable: true, writable: true },\n            all: DexiePromise.all,\n            race: DexiePromise.race,\n            allSettled: DexiePromise.allSettled,\n            any: DexiePromise.any,\n            resolve: DexiePromise.resolve,\n            reject: DexiePromise.reject,\n            nthen: getPatchedPromiseThen(globalEnv.nthen, psd),\n            gthen: getPatchedPromiseThen(globalEnv.gthen, psd)\n        } : {};\n        if (props)\n            extend(psd, props);\n        ++parent.ref;\n        psd.finalize = function () {\n            --this.parent.ref || this.parent.finalize();\n        };\n        var rv = usePSD(psd, fn, a1, a2);\n        if (psd.ref === 0)\n            psd.finalize();\n        return rv;\n    }\n    function incrementExpectedAwaits() {\n        if (!task.id)\n            task.id = ++taskCounter;\n        ++task.awaits;\n        task.echoes += ZONE_ECHO_LIMIT;\n        return task.id;\n    }\n    function decrementExpectedAwaits() {\n        if (!task.awaits)\n            return false;\n        if (--task.awaits === 0)\n            task.id = 0;\n        task.echoes = task.awaits * ZONE_ECHO_LIMIT;\n        return true;\n    }\n    if (('' + nativePromiseThen).indexOf('[native code]') === -1) {\n        incrementExpectedAwaits = decrementExpectedAwaits = nop;\n    }\n    function onPossibleParallellAsync(possiblePromise) {\n        if (task.echoes && possiblePromise && possiblePromise.constructor === NativePromise) {\n            incrementExpectedAwaits();\n            return possiblePromise.then(function (x) {\n                decrementExpectedAwaits();\n                return x;\n            }, function (e) {\n                decrementExpectedAwaits();\n                return rejection(e);\n            });\n        }\n        return possiblePromise;\n    }\n    function zoneEnterEcho(targetZone) {\n        ++totalEchoes;\n        if (!task.echoes || --task.echoes === 0) {\n            task.echoes = task.id = 0;\n        }\n        zoneStack.push(PSD);\n        switchToZone(targetZone, true);\n    }\n    function zoneLeaveEcho() {\n        var zone = zoneStack[zoneStack.length - 1];\n        zoneStack.pop();\n        switchToZone(zone, false);\n    }\n    function switchToZone(targetZone, bEnteringZone) {\n        var currentZone = PSD;\n        if (bEnteringZone ? task.echoes && (!zoneEchoes++ || targetZone !== PSD) : zoneEchoes && (!--zoneEchoes || targetZone !== PSD)) {\n            enqueueNativeMicroTask(bEnteringZone ? zoneEnterEcho.bind(null, targetZone) : zoneLeaveEcho);\n        }\n        if (targetZone === PSD)\n            return;\n        PSD = targetZone;\n        if (currentZone === globalPSD)\n            globalPSD.env = snapShot();\n        if (patchGlobalPromise) {\n            var GlobalPromise_1 = globalPSD.env.Promise;\n            var targetEnv = targetZone.env;\n            nativePromiseProto.then = targetEnv.nthen;\n            GlobalPromise_1.prototype.then = targetEnv.gthen;\n            if (currentZone.global || targetZone.global) {\n                Object.defineProperty(_global, 'Promise', targetEnv.PromiseProp);\n                GlobalPromise_1.all = targetEnv.all;\n                GlobalPromise_1.race = targetEnv.race;\n                GlobalPromise_1.resolve = targetEnv.resolve;\n                GlobalPromise_1.reject = targetEnv.reject;\n                if (targetEnv.allSettled)\n                    GlobalPromise_1.allSettled = targetEnv.allSettled;\n                if (targetEnv.any)\n                    GlobalPromise_1.any = targetEnv.any;\n            }\n        }\n    }\n    function snapShot() {\n        var GlobalPromise = _global.Promise;\n        return patchGlobalPromise ? {\n            Promise: GlobalPromise,\n            PromiseProp: Object.getOwnPropertyDescriptor(_global, \"Promise\"),\n            all: GlobalPromise.all,\n            race: GlobalPromise.race,\n            allSettled: GlobalPromise.allSettled,\n            any: GlobalPromise.any,\n            resolve: GlobalPromise.resolve,\n            reject: GlobalPromise.reject,\n            nthen: nativePromiseProto.then,\n            gthen: GlobalPromise.prototype.then\n        } : {};\n    }\n    function usePSD(psd, fn, a1, a2, a3) {\n        var outerScope = PSD;\n        try {\n            switchToZone(psd, true);\n            return fn(a1, a2, a3);\n        }\n        finally {\n            switchToZone(outerScope, false);\n        }\n    }\n    function enqueueNativeMicroTask(job) {\n        nativePromiseThen.call(resolvedNativePromise, job);\n    }\n    function nativeAwaitCompatibleWrap(fn, zone, possibleAwait, cleanup) {\n        return typeof fn !== 'function' ? fn : function () {\n            var outerZone = PSD;\n            if (possibleAwait)\n                incrementExpectedAwaits();\n            switchToZone(zone, true);\n            try {\n                return fn.apply(this, arguments);\n            }\n            finally {\n                switchToZone(outerZone, false);\n                if (cleanup)\n                    enqueueNativeMicroTask(decrementExpectedAwaits);\n            }\n        };\n    }\n    function getPatchedPromiseThen(origThen, zone) {\n        return function (onResolved, onRejected) {\n            return origThen.call(this, nativeAwaitCompatibleWrap(onResolved, zone), nativeAwaitCompatibleWrap(onRejected, zone));\n        };\n    }\n    var UNHANDLEDREJECTION = \"unhandledrejection\";\n    function globalError(err, promise) {\n        var rv;\n        try {\n            rv = promise.onuncatched(err);\n        }\n        catch (e) { }\n        if (rv !== false)\n            try {\n                var event, eventData = { promise: promise, reason: err };\n                if (_global.document && document.createEvent) {\n                    event = document.createEvent('Event');\n                    event.initEvent(UNHANDLEDREJECTION, true, true);\n                    extend(event, eventData);\n                }\n                else if (_global.CustomEvent) {\n                    event = new CustomEvent(UNHANDLEDREJECTION, { detail: eventData });\n                    extend(event, eventData);\n                }\n                if (event && _global.dispatchEvent) {\n                    dispatchEvent(event);\n                    if (!_global.PromiseRejectionEvent && _global.onunhandledrejection)\n                        try {\n                            _global.onunhandledrejection(event);\n                        }\n                        catch (_) { }\n                }\n                if (debug && event && !event.defaultPrevented) {\n                    console.warn(\"Unhandled rejection: \" + (err.stack || err));\n                }\n            }\n            catch (e) { }\n    }\n    var rejection = DexiePromise.reject;\n\n    function tempTransaction(db, mode, storeNames, fn) {\n        if (!db.idbdb || (!db._state.openComplete && (!PSD.letThrough && !db._vip))) {\n            if (db._state.openComplete) {\n                return rejection(new exceptions.DatabaseClosed(db._state.dbOpenError));\n            }\n            if (!db._state.isBeingOpened) {\n                if (!db._options.autoOpen)\n                    return rejection(new exceptions.DatabaseClosed());\n                db.open().catch(nop);\n            }\n            return db._state.dbReadyPromise.then(function () { return tempTransaction(db, mode, storeNames, fn); });\n        }\n        else {\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema);\n            try {\n                trans.create();\n                db._state.PR1398_maxLoop = 3;\n            }\n            catch (ex) {\n                if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                    console.warn('Dexie: Need to reopen db');\n                    db._close();\n                    return db.open().then(function () { return tempTransaction(db, mode, storeNames, fn); });\n                }\n                return rejection(ex);\n            }\n            return trans._promise(mode, function (resolve, reject) {\n                return newScope(function () {\n                    PSD.trans = trans;\n                    return fn(resolve, reject, trans);\n                });\n            }).then(function (result) {\n                return trans._completion.then(function () { return result; });\n            });\n        }\n    }\n\n    var DEXIE_VERSION = '3.2.4';\n    var maxString = String.fromCharCode(65535);\n    var minKey = -Infinity;\n    var INVALID_KEY_ARGUMENT = \"Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.\";\n    var STRING_EXPECTED = \"String expected.\";\n    var connections = [];\n    var isIEOrEdge = typeof navigator !== 'undefined' && /(MSIE|Trident|Edge)/.test(navigator.userAgent);\n    var hasIEDeleteObjectStoreBug = isIEOrEdge;\n    var hangsOnDeleteLargeKeyRange = isIEOrEdge;\n    var dexieStackFrameFilter = function (frame) { return !/(dexie\\.js|dexie\\.min\\.js)/.test(frame); };\n    var DBNAMES_DB = '__dbnames';\n    var READONLY = 'readonly';\n    var READWRITE = 'readwrite';\n\n    function combine(filter1, filter2) {\n        return filter1 ?\n            filter2 ?\n                function () { return filter1.apply(this, arguments) && filter2.apply(this, arguments); } :\n                filter1 :\n            filter2;\n    }\n\n    var AnyRange = {\n        type: 3 ,\n        lower: -Infinity,\n        lowerOpen: false,\n        upper: [[]],\n        upperOpen: false\n    };\n\n    function workaroundForUndefinedPrimKey(keyPath) {\n        return typeof keyPath === \"string\" && !/\\./.test(keyPath)\n            ? function (obj) {\n                if (obj[keyPath] === undefined && (keyPath in obj)) {\n                    obj = deepClone(obj);\n                    delete obj[keyPath];\n                }\n                return obj;\n            }\n            : function (obj) { return obj; };\n    }\n\n    var Table =  (function () {\n        function Table() {\n        }\n        Table.prototype._trans = function (mode, fn, writeLocked) {\n            var trans = this._tx || PSD.trans;\n            var tableName = this.name;\n            function checkTableInTransaction(resolve, reject, trans) {\n                if (!trans.schema[tableName])\n                    throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n                return fn(trans.idbtrans, trans);\n            }\n            var wasRootExec = beginMicroTickScope();\n            try {\n                return trans && trans.db === this.db ?\n                    trans === PSD.trans ?\n                        trans._promise(mode, checkTableInTransaction, writeLocked) :\n                        newScope(function () { return trans._promise(mode, checkTableInTransaction, writeLocked); }, { trans: trans, transless: PSD.transless || PSD }) :\n                    tempTransaction(this.db, mode, [this.name], checkTableInTransaction);\n            }\n            finally {\n                if (wasRootExec)\n                    endMicroTickScope();\n            }\n        };\n        Table.prototype.get = function (keyOrCrit, cb) {\n            var _this = this;\n            if (keyOrCrit && keyOrCrit.constructor === Object)\n                return this.where(keyOrCrit).first(cb);\n            return this._trans('readonly', function (trans) {\n                return _this.core.get({ trans: trans, key: keyOrCrit })\n                    .then(function (res) { return _this.hook.reading.fire(res); });\n            }).then(cb);\n        };\n        Table.prototype.where = function (indexOrCrit) {\n            if (typeof indexOrCrit === 'string')\n                return new this.db.WhereClause(this, indexOrCrit);\n            if (isArray(indexOrCrit))\n                return new this.db.WhereClause(this, \"[\" + indexOrCrit.join('+') + \"]\");\n            var keyPaths = keys(indexOrCrit);\n            if (keyPaths.length === 1)\n                return this\n                    .where(keyPaths[0])\n                    .equals(indexOrCrit[keyPaths[0]]);\n            var compoundIndex = this.schema.indexes.concat(this.schema.primKey).filter(function (ix) {\n                return ix.compound &&\n                    keyPaths.every(function (keyPath) { return ix.keyPath.indexOf(keyPath) >= 0; }) &&\n                    ix.keyPath.every(function (keyPath) { return keyPaths.indexOf(keyPath) >= 0; });\n            })[0];\n            if (compoundIndex && this.db._maxKey !== maxString)\n                return this\n                    .where(compoundIndex.name)\n                    .equals(compoundIndex.keyPath.map(function (kp) { return indexOrCrit[kp]; }));\n            if (!compoundIndex && debug)\n                console.warn(\"The query \" + JSON.stringify(indexOrCrit) + \" on \" + this.name + \" would benefit of a \" +\n                    (\"compound index [\" + keyPaths.join('+') + \"]\"));\n            var idxByName = this.schema.idxByName;\n            var idb = this.db._deps.indexedDB;\n            function equals(a, b) {\n                try {\n                    return idb.cmp(a, b) === 0;\n                }\n                catch (e) {\n                    return false;\n                }\n            }\n            var _a = keyPaths.reduce(function (_a, keyPath) {\n                var prevIndex = _a[0], prevFilterFn = _a[1];\n                var index = idxByName[keyPath];\n                var value = indexOrCrit[keyPath];\n                return [\n                    prevIndex || index,\n                    prevIndex || !index ?\n                        combine(prevFilterFn, index && index.multi ?\n                            function (x) {\n                                var prop = getByKeyPath(x, keyPath);\n                                return isArray(prop) && prop.some(function (item) { return equals(value, item); });\n                            } : function (x) { return equals(value, getByKeyPath(x, keyPath)); })\n                        : prevFilterFn\n                ];\n            }, [null, null]), idx = _a[0], filterFunction = _a[1];\n            return idx ?\n                this.where(idx.name).equals(indexOrCrit[idx.keyPath])\n                    .filter(filterFunction) :\n                compoundIndex ?\n                    this.filter(filterFunction) :\n                    this.where(keyPaths).equals('');\n        };\n        Table.prototype.filter = function (filterFunction) {\n            return this.toCollection().and(filterFunction);\n        };\n        Table.prototype.count = function (thenShortcut) {\n            return this.toCollection().count(thenShortcut);\n        };\n        Table.prototype.offset = function (offset) {\n            return this.toCollection().offset(offset);\n        };\n        Table.prototype.limit = function (numRows) {\n            return this.toCollection().limit(numRows);\n        };\n        Table.prototype.each = function (callback) {\n            return this.toCollection().each(callback);\n        };\n        Table.prototype.toArray = function (thenShortcut) {\n            return this.toCollection().toArray(thenShortcut);\n        };\n        Table.prototype.toCollection = function () {\n            return new this.db.Collection(new this.db.WhereClause(this));\n        };\n        Table.prototype.orderBy = function (index) {\n            return new this.db.Collection(new this.db.WhereClause(this, isArray(index) ?\n                \"[\" + index.join('+') + \"]\" :\n                index));\n        };\n        Table.prototype.reverse = function () {\n            return this.toCollection().reverse();\n        };\n        Table.prototype.mapToClass = function (constructor) {\n            this.schema.mappedClass = constructor;\n            var readHook = function (obj) {\n                if (!obj)\n                    return obj;\n                var res = Object.create(constructor.prototype);\n                for (var m in obj)\n                    if (hasOwn(obj, m))\n                        try {\n                            res[m] = obj[m];\n                        }\n                        catch (_) { }\n                return res;\n            };\n            if (this.schema.readHook) {\n                this.hook.reading.unsubscribe(this.schema.readHook);\n            }\n            this.schema.readHook = readHook;\n            this.hook(\"reading\", readHook);\n            return constructor;\n        };\n        Table.prototype.defineClass = function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return this.mapToClass(Class);\n        };\n        Table.prototype.add = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'add', keys: key != null ? [key] : null, values: [objToAdd] });\n            }).then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.update = function (keyOrObject, modifications) {\n            if (typeof keyOrObject === 'object' && !isArray(keyOrObject)) {\n                var key = getByKeyPath(keyOrObject, this.schema.primKey.keyPath);\n                if (key === undefined)\n                    return rejection(new exceptions.InvalidArgument(\"Given object does not contain its primary key\"));\n                try {\n                    if (typeof modifications !== \"function\") {\n                        keys(modifications).forEach(function (keyPath) {\n                            setByKeyPath(keyOrObject, keyPath, modifications[keyPath]);\n                        });\n                    }\n                    else {\n                        modifications(keyOrObject, { value: keyOrObject, primKey: key });\n                    }\n                }\n                catch (_a) {\n                }\n                return this.where(\":id\").equals(key).modify(modifications);\n            }\n            else {\n                return this.where(\":id\").equals(keyOrObject).modify(modifications);\n            }\n        };\n        Table.prototype.put = function (obj, key) {\n            var _this = this;\n            var _a = this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n            var objToAdd = obj;\n            if (keyPath && auto) {\n                objToAdd = workaroundForUndefinedPrimKey(keyPath)(obj);\n            }\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'put', values: [objToAdd], keys: key != null ? [key] : null }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : res.lastResult; })\n                .then(function (lastResult) {\n                if (keyPath) {\n                    try {\n                        setByKeyPath(obj, keyPath, lastResult);\n                    }\n                    catch (_) { }\n                }\n                return lastResult;\n            });\n        };\n        Table.prototype.delete = function (key) {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'delete', keys: [key] }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.clear = function () {\n            var _this = this;\n            return this._trans('readwrite', function (trans) { return _this.core.mutate({ trans: trans, type: 'deleteRange', range: AnyRange }); })\n                .then(function (res) { return res.numFailures ? DexiePromise.reject(res.failures[0]) : undefined; });\n        };\n        Table.prototype.bulkGet = function (keys) {\n            var _this = this;\n            return this._trans('readonly', function (trans) {\n                return _this.core.getMany({\n                    keys: keys,\n                    trans: trans\n                }).then(function (result) { return result.map(function (res) { return _this.hook.reading.fire(res); }); });\n            });\n        };\n        Table.prototype.bulkAdd = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkAdd(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToAdd = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'add', keys: keys, values: objectsToAdd, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(_this.name + \".bulkAdd(): \" + numFailures + \" of \" + numObjects + \" operations failed\", failures);\n                });\n            });\n        };\n        Table.prototype.bulkPut = function (objects, keysOrOptions, options) {\n            var _this = this;\n            var keys = Array.isArray(keysOrOptions) ? keysOrOptions : undefined;\n            options = options || (keys ? undefined : keysOrOptions);\n            var wantResults = options ? options.allKeys : undefined;\n            return this._trans('readwrite', function (trans) {\n                var _a = _this.schema.primKey, auto = _a.auto, keyPath = _a.keyPath;\n                if (keyPath && keys)\n                    throw new exceptions.InvalidArgument(\"bulkPut(): keys argument invalid on tables with inbound keys\");\n                if (keys && keys.length !== objects.length)\n                    throw new exceptions.InvalidArgument(\"Arguments objects and keys must have the same length\");\n                var numObjects = objects.length;\n                var objectsToPut = keyPath && auto ?\n                    objects.map(workaroundForUndefinedPrimKey(keyPath)) :\n                    objects;\n                return _this.core.mutate({ trans: trans, type: 'put', keys: keys, values: objectsToPut, wantResults: wantResults })\n                    .then(function (_a) {\n                    var numFailures = _a.numFailures, results = _a.results, lastResult = _a.lastResult, failures = _a.failures;\n                    var result = wantResults ? results : lastResult;\n                    if (numFailures === 0)\n                        return result;\n                    throw new BulkError(_this.name + \".bulkPut(): \" + numFailures + \" of \" + numObjects + \" operations failed\", failures);\n                });\n            });\n        };\n        Table.prototype.bulkDelete = function (keys) {\n            var _this = this;\n            var numKeys = keys.length;\n            return this._trans('readwrite', function (trans) {\n                return _this.core.mutate({ trans: trans, type: 'delete', keys: keys });\n            }).then(function (_a) {\n                var numFailures = _a.numFailures, lastResult = _a.lastResult, failures = _a.failures;\n                if (numFailures === 0)\n                    return lastResult;\n                throw new BulkError(_this.name + \".bulkDelete(): \" + numFailures + \" of \" + numKeys + \" operations failed\", failures);\n            });\n        };\n        return Table;\n    }());\n\n    function Events(ctx) {\n        var evs = {};\n        var rv = function (eventName, subscriber) {\n            if (subscriber) {\n                var i = arguments.length, args = new Array(i - 1);\n                while (--i)\n                    args[i - 1] = arguments[i];\n                evs[eventName].subscribe.apply(null, args);\n                return ctx;\n            }\n            else if (typeof (eventName) === 'string') {\n                return evs[eventName];\n            }\n        };\n        rv.addEventType = add;\n        for (var i = 1, l = arguments.length; i < l; ++i) {\n            add(arguments[i]);\n        }\n        return rv;\n        function add(eventName, chainFunction, defaultFunction) {\n            if (typeof eventName === 'object')\n                return addConfiguredEvents(eventName);\n            if (!chainFunction)\n                chainFunction = reverseStoppableEventChain;\n            if (!defaultFunction)\n                defaultFunction = nop;\n            var context = {\n                subscribers: [],\n                fire: defaultFunction,\n                subscribe: function (cb) {\n                    if (context.subscribers.indexOf(cb) === -1) {\n                        context.subscribers.push(cb);\n                        context.fire = chainFunction(context.fire, cb);\n                    }\n                },\n                unsubscribe: function (cb) {\n                    context.subscribers = context.subscribers.filter(function (fn) { return fn !== cb; });\n                    context.fire = context.subscribers.reduce(chainFunction, defaultFunction);\n                }\n            };\n            evs[eventName] = rv[eventName] = context;\n            return context;\n        }\n        function addConfiguredEvents(cfg) {\n            keys(cfg).forEach(function (eventName) {\n                var args = cfg[eventName];\n                if (isArray(args)) {\n                    add(eventName, cfg[eventName][0], cfg[eventName][1]);\n                }\n                else if (args === 'asap') {\n                    var context = add(eventName, mirror, function fire() {\n                        var i = arguments.length, args = new Array(i);\n                        while (i--)\n                            args[i] = arguments[i];\n                        context.subscribers.forEach(function (fn) {\n                            asap$1(function fireEvent() {\n                                fn.apply(null, args);\n                            });\n                        });\n                    });\n                }\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid event config\");\n            });\n        }\n    }\n\n    function makeClassConstructor(prototype, constructor) {\n        derive(constructor).from({ prototype: prototype });\n        return constructor;\n    }\n\n    function createTableConstructor(db) {\n        return makeClassConstructor(Table.prototype, function Table(name, tableSchema, trans) {\n            this.db = db;\n            this._tx = trans;\n            this.name = name;\n            this.schema = tableSchema;\n            this.hook = db._allTables[name] ? db._allTables[name].hook : Events(null, {\n                \"creating\": [hookCreatingChain, nop],\n                \"reading\": [pureFunctionChain, mirror],\n                \"updating\": [hookUpdatingChain, nop],\n                \"deleting\": [hookDeletingChain, nop]\n            });\n        });\n    }\n\n    function isPlainKeyRange(ctx, ignoreLimitFilter) {\n        return !(ctx.filter || ctx.algorithm || ctx.or) &&\n            (ignoreLimitFilter ? ctx.justLimit : !ctx.replayFilter);\n    }\n    function addFilter(ctx, fn) {\n        ctx.filter = combine(ctx.filter, fn);\n    }\n    function addReplayFilter(ctx, factory, isLimitFilter) {\n        var curr = ctx.replayFilter;\n        ctx.replayFilter = curr ? function () { return combine(curr(), factory()); } : factory;\n        ctx.justLimit = isLimitFilter && !curr;\n    }\n    function addMatchFilter(ctx, fn) {\n        ctx.isMatch = combine(ctx.isMatch, fn);\n    }\n    function getIndexOrStore(ctx, coreSchema) {\n        if (ctx.isPrimKey)\n            return coreSchema.primaryKey;\n        var index = coreSchema.getIndexByKeyPath(ctx.index);\n        if (!index)\n            throw new exceptions.Schema(\"KeyPath \" + ctx.index + \" on object store \" + coreSchema.name + \" is not indexed\");\n        return index;\n    }\n    function openCursor(ctx, coreTable, trans) {\n        var index = getIndexOrStore(ctx, coreTable.schema);\n        return coreTable.openCursor({\n            trans: trans,\n            values: !ctx.keysOnly,\n            reverse: ctx.dir === 'prev',\n            unique: !!ctx.unique,\n            query: {\n                index: index,\n                range: ctx.range\n            }\n        });\n    }\n    function iter(ctx, fn, coreTrans, coreTable) {\n        var filter = ctx.replayFilter ? combine(ctx.filter, ctx.replayFilter()) : ctx.filter;\n        if (!ctx.or) {\n            return iterate(openCursor(ctx, coreTable, coreTrans), combine(ctx.algorithm, filter), fn, !ctx.keysOnly && ctx.valueMapper);\n        }\n        else {\n            var set_1 = {};\n            var union = function (item, cursor, advance) {\n                if (!filter || filter(cursor, advance, function (result) { return cursor.stop(result); }, function (err) { return cursor.fail(err); })) {\n                    var primaryKey = cursor.primaryKey;\n                    var key = '' + primaryKey;\n                    if (key === '[object ArrayBuffer]')\n                        key = '' + new Uint8Array(primaryKey);\n                    if (!hasOwn(set_1, key)) {\n                        set_1[key] = true;\n                        fn(item, cursor, advance);\n                    }\n                }\n            };\n            return Promise.all([\n                ctx.or._iterate(union, coreTrans),\n                iterate(openCursor(ctx, coreTable, coreTrans), ctx.algorithm, union, !ctx.keysOnly && ctx.valueMapper)\n            ]);\n        }\n    }\n    function iterate(cursorPromise, filter, fn, valueMapper) {\n        var mappedFn = valueMapper ? function (x, c, a) { return fn(valueMapper(x), c, a); } : fn;\n        var wrappedFn = wrap(mappedFn);\n        return cursorPromise.then(function (cursor) {\n            if (cursor) {\n                return cursor.start(function () {\n                    var c = function () { return cursor.continue(); };\n                    if (!filter || filter(cursor, function (advancer) { return c = advancer; }, function (val) { cursor.stop(val); c = nop; }, function (e) { cursor.fail(e); c = nop; }))\n                        wrappedFn(cursor.value, cursor, function (advancer) { return c = advancer; });\n                    c();\n                });\n            }\n        });\n    }\n\n    function cmp(a, b) {\n        try {\n            var ta = type(a);\n            var tb = type(b);\n            if (ta !== tb) {\n                if (ta === 'Array')\n                    return 1;\n                if (tb === 'Array')\n                    return -1;\n                if (ta === 'binary')\n                    return 1;\n                if (tb === 'binary')\n                    return -1;\n                if (ta === 'string')\n                    return 1;\n                if (tb === 'string')\n                    return -1;\n                if (ta === 'Date')\n                    return 1;\n                if (tb !== 'Date')\n                    return NaN;\n                return -1;\n            }\n            switch (ta) {\n                case 'number':\n                case 'Date':\n                case 'string':\n                    return a > b ? 1 : a < b ? -1 : 0;\n                case 'binary': {\n                    return compareUint8Arrays(getUint8Array(a), getUint8Array(b));\n                }\n                case 'Array':\n                    return compareArrays(a, b);\n            }\n        }\n        catch (_a) { }\n        return NaN;\n    }\n    function compareArrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            var res = cmp(a[i], b[i]);\n            if (res !== 0)\n                return res;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function compareUint8Arrays(a, b) {\n        var al = a.length;\n        var bl = b.length;\n        var l = al < bl ? al : bl;\n        for (var i = 0; i < l; ++i) {\n            if (a[i] !== b[i])\n                return a[i] < b[i] ? -1 : 1;\n        }\n        return al === bl ? 0 : al < bl ? -1 : 1;\n    }\n    function type(x) {\n        var t = typeof x;\n        if (t !== 'object')\n            return t;\n        if (ArrayBuffer.isView(x))\n            return 'binary';\n        var tsTag = toStringTag(x);\n        return tsTag === 'ArrayBuffer' ? 'binary' : tsTag;\n    }\n    function getUint8Array(a) {\n        if (a instanceof Uint8Array)\n            return a;\n        if (ArrayBuffer.isView(a))\n            return new Uint8Array(a.buffer, a.byteOffset, a.byteLength);\n        return new Uint8Array(a);\n    }\n\n    var Collection =  (function () {\n        function Collection() {\n        }\n        Collection.prototype._read = function (fn, cb) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readonly', fn).then(cb);\n        };\n        Collection.prototype._write = function (fn) {\n            var ctx = this._ctx;\n            return ctx.error ?\n                ctx.table._trans(null, rejection.bind(null, ctx.error)) :\n                ctx.table._trans('readwrite', fn, \"locked\");\n        };\n        Collection.prototype._addAlgorithm = function (fn) {\n            var ctx = this._ctx;\n            ctx.algorithm = combine(ctx.algorithm, fn);\n        };\n        Collection.prototype._iterate = function (fn, coreTrans) {\n            return iter(this._ctx, fn, coreTrans, this._ctx.table.core);\n        };\n        Collection.prototype.clone = function (props) {\n            var rv = Object.create(this.constructor.prototype), ctx = Object.create(this._ctx);\n            if (props)\n                extend(ctx, props);\n            rv._ctx = ctx;\n            return rv;\n        };\n        Collection.prototype.raw = function () {\n            this._ctx.valueMapper = null;\n            return this;\n        };\n        Collection.prototype.each = function (fn) {\n            var ctx = this._ctx;\n            return this._read(function (trans) { return iter(ctx, fn, trans, ctx.table.core); });\n        };\n        Collection.prototype.count = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                var coreTable = ctx.table.core;\n                if (isPlainKeyRange(ctx, true)) {\n                    return coreTable.count({\n                        trans: trans,\n                        query: {\n                            index: getIndexOrStore(ctx, coreTable.schema),\n                            range: ctx.range\n                        }\n                    }).then(function (count) { return Math.min(count, ctx.limit); });\n                }\n                else {\n                    var count = 0;\n                    return iter(ctx, function () { ++count; return false; }, trans, coreTable)\n                        .then(function () { return count; });\n                }\n            }).then(cb);\n        };\n        Collection.prototype.sortBy = function (keyPath, cb) {\n            var parts = keyPath.split('.').reverse(), lastPart = parts[0], lastIndex = parts.length - 1;\n            function getval(obj, i) {\n                if (i)\n                    return getval(obj[parts[i]], i - 1);\n                return obj[lastPart];\n            }\n            var order = this._ctx.dir === \"next\" ? 1 : -1;\n            function sorter(a, b) {\n                var aVal = getval(a, lastIndex), bVal = getval(b, lastIndex);\n                return aVal < bVal ? -order : aVal > bVal ? order : 0;\n            }\n            return this.toArray(function (a) {\n                return a.sort(sorter);\n            }).then(cb);\n        };\n        Collection.prototype.toArray = function (cb) {\n            var _this = this;\n            return this._read(function (trans) {\n                var ctx = _this._ctx;\n                if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                    var valueMapper_1 = ctx.valueMapper;\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        limit: ctx.limit,\n                        values: true,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    }).then(function (_a) {\n                        var result = _a.result;\n                        return valueMapper_1 ? result.map(valueMapper_1) : result;\n                    });\n                }\n                else {\n                    var a_1 = [];\n                    return iter(ctx, function (item) { return a_1.push(item); }, trans, ctx.table.core).then(function () { return a_1; });\n                }\n            }, cb);\n        };\n        Collection.prototype.offset = function (offset) {\n            var ctx = this._ctx;\n            if (offset <= 0)\n                return this;\n            ctx.offset += offset;\n            if (isPlainKeyRange(ctx)) {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function (cursor, advance) {\n                        if (offsetLeft === 0)\n                            return true;\n                        if (offsetLeft === 1) {\n                            --offsetLeft;\n                            return false;\n                        }\n                        advance(function () {\n                            cursor.advance(offsetLeft);\n                            offsetLeft = 0;\n                        });\n                        return false;\n                    };\n                });\n            }\n            else {\n                addReplayFilter(ctx, function () {\n                    var offsetLeft = offset;\n                    return function () { return (--offsetLeft < 0); };\n                });\n            }\n            return this;\n        };\n        Collection.prototype.limit = function (numRows) {\n            this._ctx.limit = Math.min(this._ctx.limit, numRows);\n            addReplayFilter(this._ctx, function () {\n                var rowsLeft = numRows;\n                return function (cursor, advance, resolve) {\n                    if (--rowsLeft <= 0)\n                        advance(resolve);\n                    return rowsLeft >= 0;\n                };\n            }, true);\n            return this;\n        };\n        Collection.prototype.until = function (filterFunction, bIncludeStopEntry) {\n            addFilter(this._ctx, function (cursor, advance, resolve) {\n                if (filterFunction(cursor.value)) {\n                    advance(resolve);\n                    return bIncludeStopEntry;\n                }\n                else {\n                    return true;\n                }\n            });\n            return this;\n        };\n        Collection.prototype.first = function (cb) {\n            return this.limit(1).toArray(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.last = function (cb) {\n            return this.reverse().first(cb);\n        };\n        Collection.prototype.filter = function (filterFunction) {\n            addFilter(this._ctx, function (cursor) {\n                return filterFunction(cursor.value);\n            });\n            addMatchFilter(this._ctx, filterFunction);\n            return this;\n        };\n        Collection.prototype.and = function (filter) {\n            return this.filter(filter);\n        };\n        Collection.prototype.or = function (indexName) {\n            return new this.db.WhereClause(this._ctx.table, indexName, this);\n        };\n        Collection.prototype.reverse = function () {\n            this._ctx.dir = (this._ctx.dir === \"prev\" ? \"next\" : \"prev\");\n            if (this._ondirectionchange)\n                this._ondirectionchange(this._ctx.dir);\n            return this;\n        };\n        Collection.prototype.desc = function () {\n            return this.reverse();\n        };\n        Collection.prototype.eachKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.key, cursor); });\n        };\n        Collection.prototype.eachUniqueKey = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.eachKey(cb);\n        };\n        Collection.prototype.eachPrimaryKey = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            return this.each(function (val, cursor) { cb(cursor.primaryKey, cursor); });\n        };\n        Collection.prototype.keys = function (cb) {\n            var ctx = this._ctx;\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.key);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.primaryKeys = function (cb) {\n            var ctx = this._ctx;\n            if (ctx.dir === 'next' && isPlainKeyRange(ctx, true) && ctx.limit > 0) {\n                return this._read(function (trans) {\n                    var index = getIndexOrStore(ctx, ctx.table.core.schema);\n                    return ctx.table.core.query({\n                        trans: trans,\n                        values: false,\n                        limit: ctx.limit,\n                        query: {\n                            index: index,\n                            range: ctx.range\n                        }\n                    });\n                }).then(function (_a) {\n                    var result = _a.result;\n                    return result;\n                }).then(cb);\n            }\n            ctx.keysOnly = !ctx.isMatch;\n            var a = [];\n            return this.each(function (item, cursor) {\n                a.push(cursor.primaryKey);\n            }).then(function () {\n                return a;\n            }).then(cb);\n        };\n        Collection.prototype.uniqueKeys = function (cb) {\n            this._ctx.unique = \"unique\";\n            return this.keys(cb);\n        };\n        Collection.prototype.firstKey = function (cb) {\n            return this.limit(1).keys(function (a) { return a[0]; }).then(cb);\n        };\n        Collection.prototype.lastKey = function (cb) {\n            return this.reverse().firstKey(cb);\n        };\n        Collection.prototype.distinct = function () {\n            var ctx = this._ctx, idx = ctx.index && ctx.table.schema.idxByName[ctx.index];\n            if (!idx || !idx.multi)\n                return this;\n            var set = {};\n            addFilter(this._ctx, function (cursor) {\n                var strKey = cursor.primaryKey.toString();\n                var found = hasOwn(set, strKey);\n                set[strKey] = true;\n                return !found;\n            });\n            return this;\n        };\n        Collection.prototype.modify = function (changes) {\n            var _this = this;\n            var ctx = this._ctx;\n            return this._write(function (trans) {\n                var modifyer;\n                if (typeof changes === 'function') {\n                    modifyer = changes;\n                }\n                else {\n                    var keyPaths = keys(changes);\n                    var numKeys = keyPaths.length;\n                    modifyer = function (item) {\n                        var anythingModified = false;\n                        for (var i = 0; i < numKeys; ++i) {\n                            var keyPath = keyPaths[i], val = changes[keyPath];\n                            if (getByKeyPath(item, keyPath) !== val) {\n                                setByKeyPath(item, keyPath, val);\n                                anythingModified = true;\n                            }\n                        }\n                        return anythingModified;\n                    };\n                }\n                var coreTable = ctx.table.core;\n                var _a = coreTable.schema.primaryKey, outbound = _a.outbound, extractKey = _a.extractKey;\n                var limit = _this.db._options.modifyChunkSize || 200;\n                var totalFailures = [];\n                var successCount = 0;\n                var failedKeys = [];\n                var applyMutateResult = function (expectedCount, res) {\n                    var failures = res.failures, numFailures = res.numFailures;\n                    successCount += expectedCount - numFailures;\n                    for (var _i = 0, _a = keys(failures); _i < _a.length; _i++) {\n                        var pos = _a[_i];\n                        totalFailures.push(failures[pos]);\n                    }\n                };\n                return _this.clone().primaryKeys().then(function (keys) {\n                    var nextChunk = function (offset) {\n                        var count = Math.min(limit, keys.length - offset);\n                        return coreTable.getMany({\n                            trans: trans,\n                            keys: keys.slice(offset, offset + count),\n                            cache: \"immutable\"\n                        }).then(function (values) {\n                            var addValues = [];\n                            var putValues = [];\n                            var putKeys = outbound ? [] : null;\n                            var deleteKeys = [];\n                            for (var i = 0; i < count; ++i) {\n                                var origValue = values[i];\n                                var ctx_1 = {\n                                    value: deepClone(origValue),\n                                    primKey: keys[offset + i]\n                                };\n                                if (modifyer.call(ctx_1, ctx_1.value, ctx_1) !== false) {\n                                    if (ctx_1.value == null) {\n                                        deleteKeys.push(keys[offset + i]);\n                                    }\n                                    else if (!outbound && cmp(extractKey(origValue), extractKey(ctx_1.value)) !== 0) {\n                                        deleteKeys.push(keys[offset + i]);\n                                        addValues.push(ctx_1.value);\n                                    }\n                                    else {\n                                        putValues.push(ctx_1.value);\n                                        if (outbound)\n                                            putKeys.push(keys[offset + i]);\n                                    }\n                                }\n                            }\n                            var criteria = isPlainKeyRange(ctx) &&\n                                ctx.limit === Infinity &&\n                                (typeof changes !== 'function' || changes === deleteCallback) && {\n                                index: ctx.index,\n                                range: ctx.range\n                            };\n                            return Promise.resolve(addValues.length > 0 &&\n                                coreTable.mutate({ trans: trans, type: 'add', values: addValues })\n                                    .then(function (res) {\n                                    for (var pos in res.failures) {\n                                        deleteKeys.splice(parseInt(pos), 1);\n                                    }\n                                    applyMutateResult(addValues.length, res);\n                                })).then(function () { return (putValues.length > 0 || (criteria && typeof changes === 'object')) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'put',\n                                    keys: putKeys,\n                                    values: putValues,\n                                    criteria: criteria,\n                                    changeSpec: typeof changes !== 'function'\n                                        && changes\n                                }).then(function (res) { return applyMutateResult(putValues.length, res); }); }).then(function () { return (deleteKeys.length > 0 || (criteria && changes === deleteCallback)) &&\n                                coreTable.mutate({\n                                    trans: trans,\n                                    type: 'delete',\n                                    keys: deleteKeys,\n                                    criteria: criteria\n                                }).then(function (res) { return applyMutateResult(deleteKeys.length, res); }); }).then(function () {\n                                return keys.length > offset + count && nextChunk(offset + limit);\n                            });\n                        });\n                    };\n                    return nextChunk(0).then(function () {\n                        if (totalFailures.length > 0)\n                            throw new ModifyError(\"Error modifying one or more objects\", totalFailures, successCount, failedKeys);\n                        return keys.length;\n                    });\n                });\n            });\n        };\n        Collection.prototype.delete = function () {\n            var ctx = this._ctx, range = ctx.range;\n            if (isPlainKeyRange(ctx) &&\n                ((ctx.isPrimKey && !hangsOnDeleteLargeKeyRange) || range.type === 3 ))\n             {\n                return this._write(function (trans) {\n                    var primaryKey = ctx.table.core.schema.primaryKey;\n                    var coreRange = range;\n                    return ctx.table.core.count({ trans: trans, query: { index: primaryKey, range: coreRange } }).then(function (count) {\n                        return ctx.table.core.mutate({ trans: trans, type: 'deleteRange', range: coreRange })\n                            .then(function (_a) {\n                            var failures = _a.failures; _a.lastResult; _a.results; var numFailures = _a.numFailures;\n                            if (numFailures)\n                                throw new ModifyError(\"Could not delete some values\", Object.keys(failures).map(function (pos) { return failures[pos]; }), count - numFailures);\n                            return count - numFailures;\n                        });\n                    });\n                });\n            }\n            return this.modify(deleteCallback);\n        };\n        return Collection;\n    }());\n    var deleteCallback = function (value, ctx) { return ctx.value = null; };\n\n    function createCollectionConstructor(db) {\n        return makeClassConstructor(Collection.prototype, function Collection(whereClause, keyRangeGenerator) {\n            this.db = db;\n            var keyRange = AnyRange, error = null;\n            if (keyRangeGenerator)\n                try {\n                    keyRange = keyRangeGenerator();\n                }\n                catch (ex) {\n                    error = ex;\n                }\n            var whereCtx = whereClause._ctx;\n            var table = whereCtx.table;\n            var readingHook = table.hook.reading.fire;\n            this._ctx = {\n                table: table,\n                index: whereCtx.index,\n                isPrimKey: (!whereCtx.index || (table.schema.primKey.keyPath && whereCtx.index === table.schema.primKey.name)),\n                range: keyRange,\n                keysOnly: false,\n                dir: \"next\",\n                unique: \"\",\n                algorithm: null,\n                filter: null,\n                replayFilter: null,\n                justLimit: true,\n                isMatch: null,\n                offset: 0,\n                limit: Infinity,\n                error: error,\n                or: whereCtx.or,\n                valueMapper: readingHook !== mirror ? readingHook : null\n            };\n        });\n    }\n\n    function simpleCompare(a, b) {\n        return a < b ? -1 : a === b ? 0 : 1;\n    }\n    function simpleCompareReverse(a, b) {\n        return a > b ? -1 : a === b ? 0 : 1;\n    }\n\n    function fail(collectionOrWhereClause, err, T) {\n        var collection = collectionOrWhereClause instanceof WhereClause ?\n            new collectionOrWhereClause.Collection(collectionOrWhereClause) :\n            collectionOrWhereClause;\n        collection._ctx.error = T ? new T(err) : new TypeError(err);\n        return collection;\n    }\n    function emptyCollection(whereClause) {\n        return new whereClause.Collection(whereClause, function () { return rangeEqual(\"\"); }).limit(0);\n    }\n    function upperFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toUpperCase(); } :\n            function (s) { return s.toLowerCase(); };\n    }\n    function lowerFactory(dir) {\n        return dir === \"next\" ?\n            function (s) { return s.toLowerCase(); } :\n            function (s) { return s.toUpperCase(); };\n    }\n    function nextCasing(key, lowerKey, upperNeedle, lowerNeedle, cmp, dir) {\n        var length = Math.min(key.length, lowerNeedle.length);\n        var llp = -1;\n        for (var i = 0; i < length; ++i) {\n            var lwrKeyChar = lowerKey[i];\n            if (lwrKeyChar !== lowerNeedle[i]) {\n                if (cmp(key[i], upperNeedle[i]) < 0)\n                    return key.substr(0, i) + upperNeedle[i] + upperNeedle.substr(i + 1);\n                if (cmp(key[i], lowerNeedle[i]) < 0)\n                    return key.substr(0, i) + lowerNeedle[i] + upperNeedle.substr(i + 1);\n                if (llp >= 0)\n                    return key.substr(0, llp) + lowerKey[llp] + upperNeedle.substr(llp + 1);\n                return null;\n            }\n            if (cmp(key[i], lwrKeyChar) < 0)\n                llp = i;\n        }\n        if (length < lowerNeedle.length && dir === \"next\")\n            return key + upperNeedle.substr(key.length);\n        if (length < key.length && dir === \"prev\")\n            return key.substr(0, upperNeedle.length);\n        return (llp < 0 ? null : key.substr(0, llp) + lowerNeedle[llp] + upperNeedle.substr(llp + 1));\n    }\n    function addIgnoreCaseAlgorithm(whereClause, match, needles, suffix) {\n        var upper, lower, compare, upperNeedles, lowerNeedles, direction, nextKeySuffix, needlesLen = needles.length;\n        if (!needles.every(function (s) { return typeof s === 'string'; })) {\n            return fail(whereClause, STRING_EXPECTED);\n        }\n        function initDirection(dir) {\n            upper = upperFactory(dir);\n            lower = lowerFactory(dir);\n            compare = (dir === \"next\" ? simpleCompare : simpleCompareReverse);\n            var needleBounds = needles.map(function (needle) {\n                return { lower: lower(needle), upper: upper(needle) };\n            }).sort(function (a, b) {\n                return compare(a.lower, b.lower);\n            });\n            upperNeedles = needleBounds.map(function (nb) { return nb.upper; });\n            lowerNeedles = needleBounds.map(function (nb) { return nb.lower; });\n            direction = dir;\n            nextKeySuffix = (dir === \"next\" ? \"\" : suffix);\n        }\n        initDirection(\"next\");\n        var c = new whereClause.Collection(whereClause, function () { return createRange(upperNeedles[0], lowerNeedles[needlesLen - 1] + suffix); });\n        c._ondirectionchange = function (direction) {\n            initDirection(direction);\n        };\n        var firstPossibleNeedle = 0;\n        c._addAlgorithm(function (cursor, advance, resolve) {\n            var key = cursor.key;\n            if (typeof key !== 'string')\n                return false;\n            var lowerKey = lower(key);\n            if (match(lowerKey, lowerNeedles, firstPossibleNeedle)) {\n                return true;\n            }\n            else {\n                var lowestPossibleCasing = null;\n                for (var i = firstPossibleNeedle; i < needlesLen; ++i) {\n                    var casing = nextCasing(key, lowerKey, upperNeedles[i], lowerNeedles[i], compare, direction);\n                    if (casing === null && lowestPossibleCasing === null)\n                        firstPossibleNeedle = i + 1;\n                    else if (lowestPossibleCasing === null || compare(lowestPossibleCasing, casing) > 0) {\n                        lowestPossibleCasing = casing;\n                    }\n                }\n                if (lowestPossibleCasing !== null) {\n                    advance(function () { cursor.continue(lowestPossibleCasing + nextKeySuffix); });\n                }\n                else {\n                    advance(resolve);\n                }\n                return false;\n            }\n        });\n        return c;\n    }\n    function createRange(lower, upper, lowerOpen, upperOpen) {\n        return {\n            type: 2 ,\n            lower: lower,\n            upper: upper,\n            lowerOpen: lowerOpen,\n            upperOpen: upperOpen\n        };\n    }\n    function rangeEqual(value) {\n        return {\n            type: 1 ,\n            lower: value,\n            upper: value\n        };\n    }\n\n    var WhereClause =  (function () {\n        function WhereClause() {\n        }\n        Object.defineProperty(WhereClause.prototype, \"Collection\", {\n            get: function () {\n                return this._ctx.table.db.Collection;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WhereClause.prototype.between = function (lower, upper, includeLower, includeUpper) {\n            includeLower = includeLower !== false;\n            includeUpper = includeUpper === true;\n            try {\n                if ((this._cmp(lower, upper) > 0) ||\n                    (this._cmp(lower, upper) === 0 && (includeLower || includeUpper) && !(includeLower && includeUpper)))\n                    return emptyCollection(this);\n                return new this.Collection(this, function () { return createRange(lower, upper, !includeLower, !includeUpper); });\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n        };\n        WhereClause.prototype.equals = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return rangeEqual(value); });\n        };\n        WhereClause.prototype.above = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, true); });\n        };\n        WhereClause.prototype.aboveOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(value, undefined, false); });\n        };\n        WhereClause.prototype.below = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value, false, true); });\n        };\n        WhereClause.prototype.belowOrEqual = function (value) {\n            if (value == null)\n                return fail(this, INVALID_KEY_ARGUMENT);\n            return new this.Collection(this, function () { return createRange(undefined, value); });\n        };\n        WhereClause.prototype.startsWith = function (str) {\n            if (typeof str !== 'string')\n                return fail(this, STRING_EXPECTED);\n            return this.between(str, str + maxString, true, true);\n        };\n        WhereClause.prototype.startsWithIgnoreCase = function (str) {\n            if (str === \"\")\n                return this.startsWith(str);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x.indexOf(a[0]) === 0; }, [str], maxString);\n        };\n        WhereClause.prototype.equalsIgnoreCase = function (str) {\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return x === a[0]; }, [str], \"\");\n        };\n        WhereClause.prototype.anyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.indexOf(x) !== -1; }, set, \"\");\n        };\n        WhereClause.prototype.startsWithAnyOfIgnoreCase = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return emptyCollection(this);\n            return addIgnoreCaseAlgorithm(this, function (x, a) { return a.some(function (n) { return x.indexOf(n) === 0; }); }, set, maxString);\n        };\n        WhereClause.prototype.anyOf = function () {\n            var _this = this;\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            var compare = this._cmp;\n            try {\n                set.sort(compare);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            var c = new this.Collection(this, function () { return createRange(set[0], set[set.length - 1]); });\n            c._ondirectionchange = function (direction) {\n                compare = (direction === \"next\" ?\n                    _this._ascending :\n                    _this._descending);\n                set.sort(compare);\n            };\n            var i = 0;\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (compare(key, set[i]) > 0) {\n                    ++i;\n                    if (i === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (compare(key, set[i]) === 0) {\n                    return true;\n                }\n                else {\n                    advance(function () { cursor.continue(set[i]); });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.notEqual = function (value) {\n            return this.inAnyRange([[minKey, value], [value, this.db._maxKey]], { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.noneOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (set.length === 0)\n                return new this.Collection(this);\n            try {\n                set.sort(this._ascending);\n            }\n            catch (e) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var ranges = set.reduce(function (res, val) { return res ?\n                res.concat([[res[res.length - 1][1], val]]) :\n                [[minKey, val]]; }, null);\n            ranges.push([set[set.length - 1], this.db._maxKey]);\n            return this.inAnyRange(ranges, { includeLowers: false, includeUppers: false });\n        };\n        WhereClause.prototype.inAnyRange = function (ranges, options) {\n            var _this = this;\n            var cmp = this._cmp, ascending = this._ascending, descending = this._descending, min = this._min, max = this._max;\n            if (ranges.length === 0)\n                return emptyCollection(this);\n            if (!ranges.every(function (range) {\n                return range[0] !== undefined &&\n                    range[1] !== undefined &&\n                    ascending(range[0], range[1]) <= 0;\n            })) {\n                return fail(this, \"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower\", exceptions.InvalidArgument);\n            }\n            var includeLowers = !options || options.includeLowers !== false;\n            var includeUppers = options && options.includeUppers === true;\n            function addRange(ranges, newRange) {\n                var i = 0, l = ranges.length;\n                for (; i < l; ++i) {\n                    var range = ranges[i];\n                    if (cmp(newRange[0], range[1]) < 0 && cmp(newRange[1], range[0]) > 0) {\n                        range[0] = min(range[0], newRange[0]);\n                        range[1] = max(range[1], newRange[1]);\n                        break;\n                    }\n                }\n                if (i === l)\n                    ranges.push(newRange);\n                return ranges;\n            }\n            var sortDirection = ascending;\n            function rangeSorter(a, b) { return sortDirection(a[0], b[0]); }\n            var set;\n            try {\n                set = ranges.reduce(addRange, []);\n                set.sort(rangeSorter);\n            }\n            catch (ex) {\n                return fail(this, INVALID_KEY_ARGUMENT);\n            }\n            var rangePos = 0;\n            var keyIsBeyondCurrentEntry = includeUppers ?\n                function (key) { return ascending(key, set[rangePos][1]) > 0; } :\n                function (key) { return ascending(key, set[rangePos][1]) >= 0; };\n            var keyIsBeforeCurrentEntry = includeLowers ?\n                function (key) { return descending(key, set[rangePos][0]) > 0; } :\n                function (key) { return descending(key, set[rangePos][0]) >= 0; };\n            function keyWithinCurrentRange(key) {\n                return !keyIsBeyondCurrentEntry(key) && !keyIsBeforeCurrentEntry(key);\n            }\n            var checkKey = keyIsBeyondCurrentEntry;\n            var c = new this.Collection(this, function () { return createRange(set[0][0], set[set.length - 1][1], !includeLowers, !includeUppers); });\n            c._ondirectionchange = function (direction) {\n                if (direction === \"next\") {\n                    checkKey = keyIsBeyondCurrentEntry;\n                    sortDirection = ascending;\n                }\n                else {\n                    checkKey = keyIsBeforeCurrentEntry;\n                    sortDirection = descending;\n                }\n                set.sort(rangeSorter);\n            };\n            c._addAlgorithm(function (cursor, advance, resolve) {\n                var key = cursor.key;\n                while (checkKey(key)) {\n                    ++rangePos;\n                    if (rangePos === set.length) {\n                        advance(resolve);\n                        return false;\n                    }\n                }\n                if (keyWithinCurrentRange(key)) {\n                    return true;\n                }\n                else if (_this._cmp(key, set[rangePos][1]) === 0 || _this._cmp(key, set[rangePos][0]) === 0) {\n                    return false;\n                }\n                else {\n                    advance(function () {\n                        if (sortDirection === ascending)\n                            cursor.continue(set[rangePos][0]);\n                        else\n                            cursor.continue(set[rangePos][1]);\n                    });\n                    return false;\n                }\n            });\n            return c;\n        };\n        WhereClause.prototype.startsWithAnyOf = function () {\n            var set = getArrayOf.apply(NO_CHAR_ARRAY, arguments);\n            if (!set.every(function (s) { return typeof s === 'string'; })) {\n                return fail(this, \"startsWithAnyOf() only works with strings\");\n            }\n            if (set.length === 0)\n                return emptyCollection(this);\n            return this.inAnyRange(set.map(function (str) { return [str, str + maxString]; }));\n        };\n        return WhereClause;\n    }());\n\n    function createWhereClauseConstructor(db) {\n        return makeClassConstructor(WhereClause.prototype, function WhereClause(table, index, orCollection) {\n            this.db = db;\n            this._ctx = {\n                table: table,\n                index: index === \":id\" ? null : index,\n                or: orCollection\n            };\n            var indexedDB = db._deps.indexedDB;\n            if (!indexedDB)\n                throw new exceptions.MissingAPI();\n            this._cmp = this._ascending = indexedDB.cmp.bind(indexedDB);\n            this._descending = function (a, b) { return indexedDB.cmp(b, a); };\n            this._max = function (a, b) { return indexedDB.cmp(a, b) > 0 ? a : b; };\n            this._min = function (a, b) { return indexedDB.cmp(a, b) < 0 ? a : b; };\n            this._IDBKeyRange = db._deps.IDBKeyRange;\n        });\n    }\n\n    function eventRejectHandler(reject) {\n        return wrap(function (event) {\n            preventDefault(event);\n            reject(event.target.error);\n            return false;\n        });\n    }\n    function preventDefault(event) {\n        if (event.stopPropagation)\n            event.stopPropagation();\n        if (event.preventDefault)\n            event.preventDefault();\n    }\n\n    var DEXIE_STORAGE_MUTATED_EVENT_NAME = 'storagemutated';\n    var STORAGE_MUTATED_DOM_EVENT_NAME = 'x-storagemutated-1';\n    var globalEvents = Events(null, DEXIE_STORAGE_MUTATED_EVENT_NAME);\n\n    var Transaction =  (function () {\n        function Transaction() {\n        }\n        Transaction.prototype._lock = function () {\n            assert(!PSD.global);\n            ++this._reculock;\n            if (this._reculock === 1 && !PSD.global)\n                PSD.lockOwnerFor = this;\n            return this;\n        };\n        Transaction.prototype._unlock = function () {\n            assert(!PSD.global);\n            if (--this._reculock === 0) {\n                if (!PSD.global)\n                    PSD.lockOwnerFor = null;\n                while (this._blockedFuncs.length > 0 && !this._locked()) {\n                    var fnAndPSD = this._blockedFuncs.shift();\n                    try {\n                        usePSD(fnAndPSD[1], fnAndPSD[0]);\n                    }\n                    catch (e) { }\n                }\n            }\n            return this;\n        };\n        Transaction.prototype._locked = function () {\n            return this._reculock && PSD.lockOwnerFor !== this;\n        };\n        Transaction.prototype.create = function (idbtrans) {\n            var _this = this;\n            if (!this.mode)\n                return this;\n            var idbdb = this.db.idbdb;\n            var dbOpenError = this.db._state.dbOpenError;\n            assert(!this.idbtrans);\n            if (!idbtrans && !idbdb) {\n                switch (dbOpenError && dbOpenError.name) {\n                    case \"DatabaseClosedError\":\n                        throw new exceptions.DatabaseClosed(dbOpenError);\n                    case \"MissingAPIError\":\n                        throw new exceptions.MissingAPI(dbOpenError.message, dbOpenError);\n                    default:\n                        throw new exceptions.OpenFailed(dbOpenError);\n                }\n            }\n            if (!this.active)\n                throw new exceptions.TransactionInactive();\n            assert(this._completion._state === null);\n            idbtrans = this.idbtrans = idbtrans ||\n                (this.db.core\n                    ? this.db.core.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability })\n                    : idbdb.transaction(this.storeNames, this.mode, { durability: this.chromeTransactionDurability }));\n            idbtrans.onerror = wrap(function (ev) {\n                preventDefault(ev);\n                _this._reject(idbtrans.error);\n            });\n            idbtrans.onabort = wrap(function (ev) {\n                preventDefault(ev);\n                _this.active && _this._reject(new exceptions.Abort(idbtrans.error));\n                _this.active = false;\n                _this.on(\"abort\").fire(ev);\n            });\n            idbtrans.oncomplete = wrap(function () {\n                _this.active = false;\n                _this._resolve();\n                if ('mutatedParts' in idbtrans) {\n                    globalEvents.storagemutated.fire(idbtrans[\"mutatedParts\"]);\n                }\n            });\n            return this;\n        };\n        Transaction.prototype._promise = function (mode, fn, bWriteLock) {\n            var _this = this;\n            if (mode === 'readwrite' && this.mode !== 'readwrite')\n                return rejection(new exceptions.ReadOnly(\"Transaction is readonly\"));\n            if (!this.active)\n                return rejection(new exceptions.TransactionInactive());\n            if (this._locked()) {\n                return new DexiePromise(function (resolve, reject) {\n                    _this._blockedFuncs.push([function () {\n                            _this._promise(mode, fn, bWriteLock).then(resolve, reject);\n                        }, PSD]);\n                });\n            }\n            else if (bWriteLock) {\n                return newScope(function () {\n                    var p = new DexiePromise(function (resolve, reject) {\n                        _this._lock();\n                        var rv = fn(resolve, reject, _this);\n                        if (rv && rv.then)\n                            rv.then(resolve, reject);\n                    });\n                    p.finally(function () { return _this._unlock(); });\n                    p._lib = true;\n                    return p;\n                });\n            }\n            else {\n                var p = new DexiePromise(function (resolve, reject) {\n                    var rv = fn(resolve, reject, _this);\n                    if (rv && rv.then)\n                        rv.then(resolve, reject);\n                });\n                p._lib = true;\n                return p;\n            }\n        };\n        Transaction.prototype._root = function () {\n            return this.parent ? this.parent._root() : this;\n        };\n        Transaction.prototype.waitFor = function (promiseLike) {\n            var root = this._root();\n            var promise = DexiePromise.resolve(promiseLike);\n            if (root._waitingFor) {\n                root._waitingFor = root._waitingFor.then(function () { return promise; });\n            }\n            else {\n                root._waitingFor = promise;\n                root._waitingQueue = [];\n                var store = root.idbtrans.objectStore(root.storeNames[0]);\n                (function spin() {\n                    ++root._spinCount;\n                    while (root._waitingQueue.length)\n                        (root._waitingQueue.shift())();\n                    if (root._waitingFor)\n                        store.get(-Infinity).onsuccess = spin;\n                }());\n            }\n            var currentWaitPromise = root._waitingFor;\n            return new DexiePromise(function (resolve, reject) {\n                promise.then(function (res) { return root._waitingQueue.push(wrap(resolve.bind(null, res))); }, function (err) { return root._waitingQueue.push(wrap(reject.bind(null, err))); }).finally(function () {\n                    if (root._waitingFor === currentWaitPromise) {\n                        root._waitingFor = null;\n                    }\n                });\n            });\n        };\n        Transaction.prototype.abort = function () {\n            if (this.active) {\n                this.active = false;\n                if (this.idbtrans)\n                    this.idbtrans.abort();\n                this._reject(new exceptions.Abort());\n            }\n        };\n        Transaction.prototype.table = function (tableName) {\n            var memoizedTables = (this._memoizedTables || (this._memoizedTables = {}));\n            if (hasOwn(memoizedTables, tableName))\n                return memoizedTables[tableName];\n            var tableSchema = this.schema[tableName];\n            if (!tableSchema) {\n                throw new exceptions.NotFound(\"Table \" + tableName + \" not part of transaction\");\n            }\n            var transactionBoundTable = new this.db.Table(tableName, tableSchema, this);\n            transactionBoundTable.core = this.db.core.table(tableName);\n            memoizedTables[tableName] = transactionBoundTable;\n            return transactionBoundTable;\n        };\n        return Transaction;\n    }());\n\n    function createTransactionConstructor(db) {\n        return makeClassConstructor(Transaction.prototype, function Transaction(mode, storeNames, dbschema, chromeTransactionDurability, parent) {\n            var _this = this;\n            this.db = db;\n            this.mode = mode;\n            this.storeNames = storeNames;\n            this.schema = dbschema;\n            this.chromeTransactionDurability = chromeTransactionDurability;\n            this.idbtrans = null;\n            this.on = Events(this, \"complete\", \"error\", \"abort\");\n            this.parent = parent || null;\n            this.active = true;\n            this._reculock = 0;\n            this._blockedFuncs = [];\n            this._resolve = null;\n            this._reject = null;\n            this._waitingFor = null;\n            this._waitingQueue = null;\n            this._spinCount = 0;\n            this._completion = new DexiePromise(function (resolve, reject) {\n                _this._resolve = resolve;\n                _this._reject = reject;\n            });\n            this._completion.then(function () {\n                _this.active = false;\n                _this.on.complete.fire();\n            }, function (e) {\n                var wasActive = _this.active;\n                _this.active = false;\n                _this.on.error.fire(e);\n                _this.parent ?\n                    _this.parent._reject(e) :\n                    wasActive && _this.idbtrans && _this.idbtrans.abort();\n                return rejection(e);\n            });\n        });\n    }\n\n    function createIndexSpec(name, keyPath, unique, multi, auto, compound, isPrimKey) {\n        return {\n            name: name,\n            keyPath: keyPath,\n            unique: unique,\n            multi: multi,\n            auto: auto,\n            compound: compound,\n            src: (unique && !isPrimKey ? '&' : '') + (multi ? '*' : '') + (auto ? \"++\" : \"\") + nameFromKeyPath(keyPath)\n        };\n    }\n    function nameFromKeyPath(keyPath) {\n        return typeof keyPath === 'string' ?\n            keyPath :\n            keyPath ? ('[' + [].join.call(keyPath, '+') + ']') : \"\";\n    }\n\n    function createTableSchema(name, primKey, indexes) {\n        return {\n            name: name,\n            primKey: primKey,\n            indexes: indexes,\n            mappedClass: null,\n            idxByName: arrayToObject(indexes, function (index) { return [index.name, index]; })\n        };\n    }\n\n    function safariMultiStoreFix(storeNames) {\n        return storeNames.length === 1 ? storeNames[0] : storeNames;\n    }\n    var getMaxKey = function (IdbKeyRange) {\n        try {\n            IdbKeyRange.only([[]]);\n            getMaxKey = function () { return [[]]; };\n            return [[]];\n        }\n        catch (e) {\n            getMaxKey = function () { return maxString; };\n            return maxString;\n        }\n    };\n\n    function getKeyExtractor(keyPath) {\n        if (keyPath == null) {\n            return function () { return undefined; };\n        }\n        else if (typeof keyPath === 'string') {\n            return getSinglePathKeyExtractor(keyPath);\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n    function getSinglePathKeyExtractor(keyPath) {\n        var split = keyPath.split('.');\n        if (split.length === 1) {\n            return function (obj) { return obj[keyPath]; };\n        }\n        else {\n            return function (obj) { return getByKeyPath(obj, keyPath); };\n        }\n    }\n\n    function arrayify(arrayLike) {\n        return [].slice.call(arrayLike);\n    }\n    var _id_counter = 0;\n    function getKeyPathAlias(keyPath) {\n        return keyPath == null ?\n            \":id\" :\n            typeof keyPath === 'string' ?\n                keyPath :\n                \"[\" + keyPath.join('+') + \"]\";\n    }\n    function createDBCore(db, IdbKeyRange, tmpTrans) {\n        function extractSchema(db, trans) {\n            var tables = arrayify(db.objectStoreNames);\n            return {\n                schema: {\n                    name: db.name,\n                    tables: tables.map(function (table) { return trans.objectStore(table); }).map(function (store) {\n                        var keyPath = store.keyPath, autoIncrement = store.autoIncrement;\n                        var compound = isArray(keyPath);\n                        var outbound = keyPath == null;\n                        var indexByKeyPath = {};\n                        var result = {\n                            name: store.name,\n                            primaryKey: {\n                                name: null,\n                                isPrimaryKey: true,\n                                outbound: outbound,\n                                compound: compound,\n                                keyPath: keyPath,\n                                autoIncrement: autoIncrement,\n                                unique: true,\n                                extractKey: getKeyExtractor(keyPath)\n                            },\n                            indexes: arrayify(store.indexNames).map(function (indexName) { return store.index(indexName); })\n                                .map(function (index) {\n                                var name = index.name, unique = index.unique, multiEntry = index.multiEntry, keyPath = index.keyPath;\n                                var compound = isArray(keyPath);\n                                var result = {\n                                    name: name,\n                                    compound: compound,\n                                    keyPath: keyPath,\n                                    unique: unique,\n                                    multiEntry: multiEntry,\n                                    extractKey: getKeyExtractor(keyPath)\n                                };\n                                indexByKeyPath[getKeyPathAlias(keyPath)] = result;\n                                return result;\n                            }),\n                            getIndexByKeyPath: function (keyPath) { return indexByKeyPath[getKeyPathAlias(keyPath)]; }\n                        };\n                        indexByKeyPath[\":id\"] = result.primaryKey;\n                        if (keyPath != null) {\n                            indexByKeyPath[getKeyPathAlias(keyPath)] = result.primaryKey;\n                        }\n                        return result;\n                    })\n                },\n                hasGetAll: tables.length > 0 && ('getAll' in trans.objectStore(tables[0])) &&\n                    !(typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n                        !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n                        [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604)\n            };\n        }\n        function makeIDBKeyRange(range) {\n            if (range.type === 3 )\n                return null;\n            if (range.type === 4 )\n                throw new Error(\"Cannot convert never type to IDBKeyRange\");\n            var lower = range.lower, upper = range.upper, lowerOpen = range.lowerOpen, upperOpen = range.upperOpen;\n            var idbRange = lower === undefined ?\n                upper === undefined ?\n                    null :\n                    IdbKeyRange.upperBound(upper, !!upperOpen) :\n                upper === undefined ?\n                    IdbKeyRange.lowerBound(lower, !!lowerOpen) :\n                    IdbKeyRange.bound(lower, upper, !!lowerOpen, !!upperOpen);\n            return idbRange;\n        }\n        function createDbCoreTable(tableSchema) {\n            var tableName = tableSchema.name;\n            function mutate(_a) {\n                var trans = _a.trans, type = _a.type, keys = _a.keys, values = _a.values, range = _a.range;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var store = trans.objectStore(tableName);\n                    var outbound = store.keyPath == null;\n                    var isAddOrPut = type === \"put\" || type === \"add\";\n                    if (!isAddOrPut && type !== 'delete' && type !== 'deleteRange')\n                        throw new Error(\"Invalid operation type: \" + type);\n                    var length = (keys || values || { length: 1 }).length;\n                    if (keys && values && keys.length !== values.length) {\n                        throw new Error(\"Given keys array must have same length as given values array.\");\n                    }\n                    if (length === 0)\n                        return resolve({ numFailures: 0, failures: {}, results: [], lastResult: undefined });\n                    var req;\n                    var reqs = [];\n                    var failures = [];\n                    var numFailures = 0;\n                    var errorHandler = function (event) {\n                        ++numFailures;\n                        preventDefault(event);\n                    };\n                    if (type === 'deleteRange') {\n                        if (range.type === 4 )\n                            return resolve({ numFailures: numFailures, failures: failures, results: [], lastResult: undefined });\n                        if (range.type === 3 )\n                            reqs.push(req = store.clear());\n                        else\n                            reqs.push(req = store.delete(makeIDBKeyRange(range)));\n                    }\n                    else {\n                        var _a = isAddOrPut ?\n                            outbound ?\n                                [values, keys] :\n                                [values, null] :\n                            [keys, null], args1 = _a[0], args2 = _a[1];\n                        if (isAddOrPut) {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = (args2 && args2[i] !== undefined ?\n                                    store[type](args1[i], args2[i]) :\n                                    store[type](args1[i])));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                        else {\n                            for (var i = 0; i < length; ++i) {\n                                reqs.push(req = store[type](args1[i]));\n                                req.onerror = errorHandler;\n                            }\n                        }\n                    }\n                    var done = function (event) {\n                        var lastResult = event.target.result;\n                        reqs.forEach(function (req, i) { return req.error != null && (failures[i] = req.error); });\n                        resolve({\n                            numFailures: numFailures,\n                            failures: failures,\n                            results: type === \"delete\" ? keys : reqs.map(function (req) { return req.result; }),\n                            lastResult: lastResult\n                        });\n                    };\n                    req.onerror = function (event) {\n                        errorHandler(event);\n                        done(event);\n                    };\n                    req.onsuccess = done;\n                });\n            }\n            function openCursor(_a) {\n                var trans = _a.trans, values = _a.values, query = _a.query, reverse = _a.reverse, unique = _a.unique;\n                return new Promise(function (resolve, reject) {\n                    resolve = wrap(resolve);\n                    var index = query.index, range = query.range;\n                    var store = trans.objectStore(tableName);\n                    var source = index.isPrimaryKey ?\n                        store :\n                        store.index(index.name);\n                    var direction = reverse ?\n                        unique ?\n                            \"prevunique\" :\n                            \"prev\" :\n                        unique ?\n                            \"nextunique\" :\n                            \"next\";\n                    var req = values || !('openKeyCursor' in source) ?\n                        source.openCursor(makeIDBKeyRange(range), direction) :\n                        source.openKeyCursor(makeIDBKeyRange(range), direction);\n                    req.onerror = eventRejectHandler(reject);\n                    req.onsuccess = wrap(function (ev) {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            resolve(null);\n                            return;\n                        }\n                        cursor.___id = ++_id_counter;\n                        cursor.done = false;\n                        var _cursorContinue = cursor.continue.bind(cursor);\n                        var _cursorContinuePrimaryKey = cursor.continuePrimaryKey;\n                        if (_cursorContinuePrimaryKey)\n                            _cursorContinuePrimaryKey = _cursorContinuePrimaryKey.bind(cursor);\n                        var _cursorAdvance = cursor.advance.bind(cursor);\n                        var doThrowCursorIsNotStarted = function () { throw new Error(\"Cursor not started\"); };\n                        var doThrowCursorIsStopped = function () { throw new Error(\"Cursor not stopped\"); };\n                        cursor.trans = trans;\n                        cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsNotStarted;\n                        cursor.fail = wrap(reject);\n                        cursor.next = function () {\n                            var _this = this;\n                            var gotOne = 1;\n                            return this.start(function () { return gotOne-- ? _this.continue() : _this.stop(); }).then(function () { return _this; });\n                        };\n                        cursor.start = function (callback) {\n                            var iterationPromise = new Promise(function (resolveIteration, rejectIteration) {\n                                resolveIteration = wrap(resolveIteration);\n                                req.onerror = eventRejectHandler(rejectIteration);\n                                cursor.fail = rejectIteration;\n                                cursor.stop = function (value) {\n                                    cursor.stop = cursor.continue = cursor.continuePrimaryKey = cursor.advance = doThrowCursorIsStopped;\n                                    resolveIteration(value);\n                                };\n                            });\n                            var guardedCallback = function () {\n                                if (req.result) {\n                                    try {\n                                        callback();\n                                    }\n                                    catch (err) {\n                                        cursor.fail(err);\n                                    }\n                                }\n                                else {\n                                    cursor.done = true;\n                                    cursor.start = function () { throw new Error(\"Cursor behind last entry\"); };\n                                    cursor.stop();\n                                }\n                            };\n                            req.onsuccess = wrap(function (ev) {\n                                req.onsuccess = guardedCallback;\n                                guardedCallback();\n                            });\n                            cursor.continue = _cursorContinue;\n                            cursor.continuePrimaryKey = _cursorContinuePrimaryKey;\n                            cursor.advance = _cursorAdvance;\n                            guardedCallback();\n                            return iterationPromise;\n                        };\n                        resolve(cursor);\n                    }, reject);\n                });\n            }\n            function query(hasGetAll) {\n                return function (request) {\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var trans = request.trans, values = request.values, limit = request.limit, query = request.query;\n                        var nonInfinitLimit = limit === Infinity ? undefined : limit;\n                        var index = query.index, range = query.range;\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        if (limit === 0)\n                            return resolve({ result: [] });\n                        if (hasGetAll) {\n                            var req = values ?\n                                source.getAll(idbKeyRange, nonInfinitLimit) :\n                                source.getAllKeys(idbKeyRange, nonInfinitLimit);\n                            req.onsuccess = function (event) { return resolve({ result: event.target.result }); };\n                            req.onerror = eventRejectHandler(reject);\n                        }\n                        else {\n                            var count_1 = 0;\n                            var req_1 = values || !('openKeyCursor' in source) ?\n                                source.openCursor(idbKeyRange) :\n                                source.openKeyCursor(idbKeyRange);\n                            var result_1 = [];\n                            req_1.onsuccess = function (event) {\n                                var cursor = req_1.result;\n                                if (!cursor)\n                                    return resolve({ result: result_1 });\n                                result_1.push(values ? cursor.value : cursor.primaryKey);\n                                if (++count_1 === limit)\n                                    return resolve({ result: result_1 });\n                                cursor.continue();\n                            };\n                            req_1.onerror = eventRejectHandler(reject);\n                        }\n                    });\n                };\n            }\n            return {\n                name: tableName,\n                schema: tableSchema,\n                mutate: mutate,\n                getMany: function (_a) {\n                    var trans = _a.trans, keys = _a.keys;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var length = keys.length;\n                        var result = new Array(length);\n                        var keyCount = 0;\n                        var callbackCount = 0;\n                        var req;\n                        var successHandler = function (event) {\n                            var req = event.target;\n                            if ((result[req._pos] = req.result) != null)\n                                ;\n                            if (++callbackCount === keyCount)\n                                resolve(result);\n                        };\n                        var errorHandler = eventRejectHandler(reject);\n                        for (var i = 0; i < length; ++i) {\n                            var key = keys[i];\n                            if (key != null) {\n                                req = store.get(keys[i]);\n                                req._pos = i;\n                                req.onsuccess = successHandler;\n                                req.onerror = errorHandler;\n                                ++keyCount;\n                            }\n                        }\n                        if (keyCount === 0)\n                            resolve(result);\n                    });\n                },\n                get: function (_a) {\n                    var trans = _a.trans, key = _a.key;\n                    return new Promise(function (resolve, reject) {\n                        resolve = wrap(resolve);\n                        var store = trans.objectStore(tableName);\n                        var req = store.get(key);\n                        req.onsuccess = function (event) { return resolve(event.target.result); };\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                },\n                query: query(hasGetAll),\n                openCursor: openCursor,\n                count: function (_a) {\n                    var query = _a.query, trans = _a.trans;\n                    var index = query.index, range = query.range;\n                    return new Promise(function (resolve, reject) {\n                        var store = trans.objectStore(tableName);\n                        var source = index.isPrimaryKey ? store : store.index(index.name);\n                        var idbKeyRange = makeIDBKeyRange(range);\n                        var req = idbKeyRange ? source.count(idbKeyRange) : source.count();\n                        req.onsuccess = wrap(function (ev) { return resolve(ev.target.result); });\n                        req.onerror = eventRejectHandler(reject);\n                    });\n                }\n            };\n        }\n        var _a = extractSchema(db, tmpTrans), schema = _a.schema, hasGetAll = _a.hasGetAll;\n        var tables = schema.tables.map(function (tableSchema) { return createDbCoreTable(tableSchema); });\n        var tableMap = {};\n        tables.forEach(function (table) { return tableMap[table.name] = table; });\n        return {\n            stack: \"dbcore\",\n            transaction: db.transaction.bind(db),\n            table: function (name) {\n                var result = tableMap[name];\n                if (!result)\n                    throw new Error(\"Table '\" + name + \"' not found\");\n                return tableMap[name];\n            },\n            MIN_KEY: -Infinity,\n            MAX_KEY: getMaxKey(IdbKeyRange),\n            schema: schema\n        };\n    }\n\n    function createMiddlewareStack(stackImpl, middlewares) {\n        return middlewares.reduce(function (down, _a) {\n            var create = _a.create;\n            return (__assign(__assign({}, down), create(down)));\n        }, stackImpl);\n    }\n    function createMiddlewareStacks(middlewares, idbdb, _a, tmpTrans) {\n        var IDBKeyRange = _a.IDBKeyRange; _a.indexedDB;\n        var dbcore = createMiddlewareStack(createDBCore(idbdb, IDBKeyRange, tmpTrans), middlewares.dbcore);\n        return {\n            dbcore: dbcore\n        };\n    }\n    function generateMiddlewareStacks(_a, tmpTrans) {\n        var db = _a._novip;\n        var idbdb = tmpTrans.db;\n        var stacks = createMiddlewareStacks(db._middlewares, idbdb, db._deps, tmpTrans);\n        db.core = stacks.dbcore;\n        db.tables.forEach(function (table) {\n            var tableName = table.name;\n            if (db.core.schema.tables.some(function (tbl) { return tbl.name === tableName; })) {\n                table.core = db.core.table(tableName);\n                if (db[tableName] instanceof db.Table) {\n                    db[tableName].core = table.core;\n                }\n            }\n        });\n    }\n\n    function setApiOnPlace(_a, objs, tableNames, dbschema) {\n        var db = _a._novip;\n        tableNames.forEach(function (tableName) {\n            var schema = dbschema[tableName];\n            objs.forEach(function (obj) {\n                var propDesc = getPropertyDescriptor(obj, tableName);\n                if (!propDesc || (\"value\" in propDesc && propDesc.value === undefined)) {\n                    if (obj === db.Transaction.prototype || obj instanceof db.Transaction) {\n                        setProp(obj, tableName, {\n                            get: function () { return this.table(tableName); },\n                            set: function (value) {\n                                defineProperty(this, tableName, { value: value, writable: true, configurable: true, enumerable: true });\n                            }\n                        });\n                    }\n                    else {\n                        obj[tableName] = new db.Table(tableName, schema);\n                    }\n                }\n            });\n        });\n    }\n    function removeTablesApi(_a, objs) {\n        var db = _a._novip;\n        objs.forEach(function (obj) {\n            for (var key in obj) {\n                if (obj[key] instanceof db.Table)\n                    delete obj[key];\n            }\n        });\n    }\n    function lowerVersionFirst(a, b) {\n        return a._cfg.version - b._cfg.version;\n    }\n    function runUpgraders(db, oldVersion, idbUpgradeTrans, reject) {\n        var globalSchema = db._dbSchema;\n        var trans = db._createTransaction('readwrite', db._storeNames, globalSchema);\n        trans.create(idbUpgradeTrans);\n        trans._completion.catch(reject);\n        var rejectTransaction = trans._reject.bind(trans);\n        var transless = PSD.transless || PSD;\n        newScope(function () {\n            PSD.trans = trans;\n            PSD.transless = transless;\n            if (oldVersion === 0) {\n                keys(globalSchema).forEach(function (tableName) {\n                    createTable(idbUpgradeTrans, tableName, globalSchema[tableName].primKey, globalSchema[tableName].indexes);\n                });\n                generateMiddlewareStacks(db, idbUpgradeTrans);\n                DexiePromise.follow(function () { return db.on.populate.fire(trans); }).catch(rejectTransaction);\n            }\n            else\n                updateTablesAndIndexes(db, oldVersion, trans, idbUpgradeTrans).catch(rejectTransaction);\n        });\n    }\n    function updateTablesAndIndexes(_a, oldVersion, trans, idbUpgradeTrans) {\n        var db = _a._novip;\n        var queue = [];\n        var versions = db._versions;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, db.idbdb, idbUpgradeTrans);\n        var anyContentUpgraderHasRun = false;\n        var versToRun = versions.filter(function (v) { return v._cfg.version >= oldVersion; });\n        versToRun.forEach(function (version) {\n            queue.push(function () {\n                var oldSchema = globalSchema;\n                var newSchema = version._cfg.dbschema;\n                adjustToExistingIndexNames(db, oldSchema, idbUpgradeTrans);\n                adjustToExistingIndexNames(db, newSchema, idbUpgradeTrans);\n                globalSchema = db._dbSchema = newSchema;\n                var diff = getSchemaDiff(oldSchema, newSchema);\n                diff.add.forEach(function (tuple) {\n                    createTable(idbUpgradeTrans, tuple[0], tuple[1].primKey, tuple[1].indexes);\n                });\n                diff.change.forEach(function (change) {\n                    if (change.recreate) {\n                        throw new exceptions.Upgrade(\"Not yet support for changing primary key\");\n                    }\n                    else {\n                        var store_1 = idbUpgradeTrans.objectStore(change.name);\n                        change.add.forEach(function (idx) { return addIndex(store_1, idx); });\n                        change.change.forEach(function (idx) {\n                            store_1.deleteIndex(idx.name);\n                            addIndex(store_1, idx);\n                        });\n                        change.del.forEach(function (idxName) { return store_1.deleteIndex(idxName); });\n                    }\n                });\n                var contentUpgrade = version._cfg.contentUpgrade;\n                if (contentUpgrade && version._cfg.version > oldVersion) {\n                    generateMiddlewareStacks(db, idbUpgradeTrans);\n                    trans._memoizedTables = {};\n                    anyContentUpgraderHasRun = true;\n                    var upgradeSchema_1 = shallowClone(newSchema);\n                    diff.del.forEach(function (table) {\n                        upgradeSchema_1[table] = oldSchema[table];\n                    });\n                    removeTablesApi(db, [db.Transaction.prototype]);\n                    setApiOnPlace(db, [db.Transaction.prototype], keys(upgradeSchema_1), upgradeSchema_1);\n                    trans.schema = upgradeSchema_1;\n                    var contentUpgradeIsAsync_1 = isAsyncFunction(contentUpgrade);\n                    if (contentUpgradeIsAsync_1) {\n                        incrementExpectedAwaits();\n                    }\n                    var returnValue_1;\n                    var promiseFollowed = DexiePromise.follow(function () {\n                        returnValue_1 = contentUpgrade(trans);\n                        if (returnValue_1) {\n                            if (contentUpgradeIsAsync_1) {\n                                var decrementor = decrementExpectedAwaits.bind(null, null);\n                                returnValue_1.then(decrementor, decrementor);\n                            }\n                        }\n                    });\n                    return (returnValue_1 && typeof returnValue_1.then === 'function' ?\n                        DexiePromise.resolve(returnValue_1) : promiseFollowed.then(function () { return returnValue_1; }));\n                }\n            });\n            queue.push(function (idbtrans) {\n                if (!anyContentUpgraderHasRun || !hasIEDeleteObjectStoreBug) {\n                    var newSchema = version._cfg.dbschema;\n                    deleteRemovedTables(newSchema, idbtrans);\n                }\n                removeTablesApi(db, [db.Transaction.prototype]);\n                setApiOnPlace(db, [db.Transaction.prototype], db._storeNames, db._dbSchema);\n                trans.schema = db._dbSchema;\n            });\n        });\n        function runQueue() {\n            return queue.length ? DexiePromise.resolve(queue.shift()(trans.idbtrans)).then(runQueue) :\n                DexiePromise.resolve();\n        }\n        return runQueue().then(function () {\n            createMissingTables(globalSchema, idbUpgradeTrans);\n        });\n    }\n    function getSchemaDiff(oldSchema, newSchema) {\n        var diff = {\n            del: [],\n            add: [],\n            change: []\n        };\n        var table;\n        for (table in oldSchema) {\n            if (!newSchema[table])\n                diff.del.push(table);\n        }\n        for (table in newSchema) {\n            var oldDef = oldSchema[table], newDef = newSchema[table];\n            if (!oldDef) {\n                diff.add.push([table, newDef]);\n            }\n            else {\n                var change = {\n                    name: table,\n                    def: newDef,\n                    recreate: false,\n                    del: [],\n                    add: [],\n                    change: []\n                };\n                if ((\n                '' + (oldDef.primKey.keyPath || '')) !== ('' + (newDef.primKey.keyPath || '')) ||\n                    (oldDef.primKey.auto !== newDef.primKey.auto && !isIEOrEdge))\n                 {\n                    change.recreate = true;\n                    diff.change.push(change);\n                }\n                else {\n                    var oldIndexes = oldDef.idxByName;\n                    var newIndexes = newDef.idxByName;\n                    var idxName = void 0;\n                    for (idxName in oldIndexes) {\n                        if (!newIndexes[idxName])\n                            change.del.push(idxName);\n                    }\n                    for (idxName in newIndexes) {\n                        var oldIdx = oldIndexes[idxName], newIdx = newIndexes[idxName];\n                        if (!oldIdx)\n                            change.add.push(newIdx);\n                        else if (oldIdx.src !== newIdx.src)\n                            change.change.push(newIdx);\n                    }\n                    if (change.del.length > 0 || change.add.length > 0 || change.change.length > 0) {\n                        diff.change.push(change);\n                    }\n                }\n            }\n        }\n        return diff;\n    }\n    function createTable(idbtrans, tableName, primKey, indexes) {\n        var store = idbtrans.db.createObjectStore(tableName, primKey.keyPath ?\n            { keyPath: primKey.keyPath, autoIncrement: primKey.auto } :\n            { autoIncrement: primKey.auto });\n        indexes.forEach(function (idx) { return addIndex(store, idx); });\n        return store;\n    }\n    function createMissingTables(newSchema, idbtrans) {\n        keys(newSchema).forEach(function (tableName) {\n            if (!idbtrans.db.objectStoreNames.contains(tableName)) {\n                createTable(idbtrans, tableName, newSchema[tableName].primKey, newSchema[tableName].indexes);\n            }\n        });\n    }\n    function deleteRemovedTables(newSchema, idbtrans) {\n        [].slice.call(idbtrans.db.objectStoreNames).forEach(function (storeName) {\n            return newSchema[storeName] == null && idbtrans.db.deleteObjectStore(storeName);\n        });\n    }\n    function addIndex(store, idx) {\n        store.createIndex(idx.name, idx.keyPath, { unique: idx.unique, multiEntry: idx.multi });\n    }\n    function buildGlobalSchema(db, idbdb, tmpTrans) {\n        var globalSchema = {};\n        var dbStoreNames = slice(idbdb.objectStoreNames, 0);\n        dbStoreNames.forEach(function (storeName) {\n            var store = tmpTrans.objectStore(storeName);\n            var keyPath = store.keyPath;\n            var primKey = createIndexSpec(nameFromKeyPath(keyPath), keyPath || \"\", false, false, !!store.autoIncrement, keyPath && typeof keyPath !== \"string\", true);\n            var indexes = [];\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var idbindex = store.index(store.indexNames[j]);\n                keyPath = idbindex.keyPath;\n                var index = createIndexSpec(idbindex.name, keyPath, !!idbindex.unique, !!idbindex.multiEntry, false, keyPath && typeof keyPath !== \"string\", false);\n                indexes.push(index);\n            }\n            globalSchema[storeName] = createTableSchema(storeName, primKey, indexes);\n        });\n        return globalSchema;\n    }\n    function readGlobalSchema(_a, idbdb, tmpTrans) {\n        var db = _a._novip;\n        db.verno = idbdb.version / 10;\n        var globalSchema = db._dbSchema = buildGlobalSchema(db, idbdb, tmpTrans);\n        db._storeNames = slice(idbdb.objectStoreNames, 0);\n        setApiOnPlace(db, [db._allTables], keys(globalSchema), globalSchema);\n    }\n    function verifyInstalledSchema(db, tmpTrans) {\n        var installedSchema = buildGlobalSchema(db, db.idbdb, tmpTrans);\n        var diff = getSchemaDiff(installedSchema, db._dbSchema);\n        return !(diff.add.length || diff.change.some(function (ch) { return ch.add.length || ch.change.length; }));\n    }\n    function adjustToExistingIndexNames(_a, schema, idbtrans) {\n        var db = _a._novip;\n        var storeNames = idbtrans.db.objectStoreNames;\n        for (var i = 0; i < storeNames.length; ++i) {\n            var storeName = storeNames[i];\n            var store = idbtrans.objectStore(storeName);\n            db._hasGetAll = 'getAll' in store;\n            for (var j = 0; j < store.indexNames.length; ++j) {\n                var indexName = store.indexNames[j];\n                var keyPath = store.index(indexName).keyPath;\n                var dexieName = typeof keyPath === 'string' ? keyPath : \"[\" + slice(keyPath).join('+') + \"]\";\n                if (schema[storeName]) {\n                    var indexSpec = schema[storeName].idxByName[dexieName];\n                    if (indexSpec) {\n                        indexSpec.name = indexName;\n                        delete schema[storeName].idxByName[dexieName];\n                        schema[storeName].idxByName[indexName] = indexSpec;\n                    }\n                }\n            }\n        }\n        if (typeof navigator !== 'undefined' && /Safari/.test(navigator.userAgent) &&\n            !/(Chrome\\/|Edge\\/)/.test(navigator.userAgent) &&\n            _global.WorkerGlobalScope && _global instanceof _global.WorkerGlobalScope &&\n            [].concat(navigator.userAgent.match(/Safari\\/(\\d*)/))[1] < 604) {\n            db._hasGetAll = false;\n        }\n    }\n    function parseIndexSyntax(primKeyAndIndexes) {\n        return primKeyAndIndexes.split(',').map(function (index, indexNum) {\n            index = index.trim();\n            var name = index.replace(/([&*]|\\+\\+)/g, \"\");\n            var keyPath = /^\\[/.test(name) ? name.match(/^\\[(.*)\\]$/)[1].split('+') : name;\n            return createIndexSpec(name, keyPath || null, /\\&/.test(index), /\\*/.test(index), /\\+\\+/.test(index), isArray(keyPath), indexNum === 0);\n        });\n    }\n\n    var Version =  (function () {\n        function Version() {\n        }\n        Version.prototype._parseStoresSpec = function (stores, outSchema) {\n            keys(stores).forEach(function (tableName) {\n                if (stores[tableName] !== null) {\n                    var indexes = parseIndexSyntax(stores[tableName]);\n                    var primKey = indexes.shift();\n                    if (primKey.multi)\n                        throw new exceptions.Schema(\"Primary key cannot be multi-valued\");\n                    indexes.forEach(function (idx) {\n                        if (idx.auto)\n                            throw new exceptions.Schema(\"Only primary key can be marked as autoIncrement (++)\");\n                        if (!idx.keyPath)\n                            throw new exceptions.Schema(\"Index must have a name and cannot be an empty string\");\n                    });\n                    outSchema[tableName] = createTableSchema(tableName, primKey, indexes);\n                }\n            });\n        };\n        Version.prototype.stores = function (stores) {\n            var db = this.db;\n            this._cfg.storesSource = this._cfg.storesSource ?\n                extend(this._cfg.storesSource, stores) :\n                stores;\n            var versions = db._versions;\n            var storesSpec = {};\n            var dbschema = {};\n            versions.forEach(function (version) {\n                extend(storesSpec, version._cfg.storesSource);\n                dbschema = (version._cfg.dbschema = {});\n                version._parseStoresSpec(storesSpec, dbschema);\n            });\n            db._dbSchema = dbschema;\n            removeTablesApi(db, [db._allTables, db, db.Transaction.prototype]);\n            setApiOnPlace(db, [db._allTables, db, db.Transaction.prototype, this._cfg.tables], keys(dbschema), dbschema);\n            db._storeNames = keys(dbschema);\n            return this;\n        };\n        Version.prototype.upgrade = function (upgradeFunction) {\n            this._cfg.contentUpgrade = promisableChain(this._cfg.contentUpgrade || nop, upgradeFunction);\n            return this;\n        };\n        return Version;\n    }());\n\n    function createVersionConstructor(db) {\n        return makeClassConstructor(Version.prototype, function Version(versionNumber) {\n            this.db = db;\n            this._cfg = {\n                version: versionNumber,\n                storesSource: null,\n                dbschema: {},\n                tables: {},\n                contentUpgrade: null\n            };\n        });\n    }\n\n    function getDbNamesTable(indexedDB, IDBKeyRange) {\n        var dbNamesDB = indexedDB[\"_dbNamesDB\"];\n        if (!dbNamesDB) {\n            dbNamesDB = indexedDB[\"_dbNamesDB\"] = new Dexie$1(DBNAMES_DB, {\n                addons: [],\n                indexedDB: indexedDB,\n                IDBKeyRange: IDBKeyRange,\n            });\n            dbNamesDB.version(1).stores({ dbnames: \"name\" });\n        }\n        return dbNamesDB.table(\"dbnames\");\n    }\n    function hasDatabasesNative(indexedDB) {\n        return indexedDB && typeof indexedDB.databases === \"function\";\n    }\n    function getDatabaseNames(_a) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        return hasDatabasesNative(indexedDB)\n            ? Promise.resolve(indexedDB.databases()).then(function (infos) {\n                return infos\n                    .map(function (info) { return info.name; })\n                    .filter(function (name) { return name !== DBNAMES_DB; });\n            })\n            : getDbNamesTable(indexedDB, IDBKeyRange).toCollection().primaryKeys();\n    }\n    function _onDatabaseCreated(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).put({ name: name }).catch(nop);\n    }\n    function _onDatabaseDeleted(_a, name) {\n        var indexedDB = _a.indexedDB, IDBKeyRange = _a.IDBKeyRange;\n        !hasDatabasesNative(indexedDB) &&\n            name !== DBNAMES_DB &&\n            getDbNamesTable(indexedDB, IDBKeyRange).delete(name).catch(nop);\n    }\n\n    function vip(fn) {\n        return newScope(function () {\n            PSD.letThrough = true;\n            return fn();\n        });\n    }\n\n    function idbReady() {\n        var isSafari = !navigator.userAgentData &&\n            /Safari\\//.test(navigator.userAgent) &&\n            !/Chrom(e|ium)\\//.test(navigator.userAgent);\n        if (!isSafari || !indexedDB.databases)\n            return Promise.resolve();\n        var intervalId;\n        return new Promise(function (resolve) {\n            var tryIdb = function () { return indexedDB.databases().finally(resolve); };\n            intervalId = setInterval(tryIdb, 100);\n            tryIdb();\n        }).finally(function () { return clearInterval(intervalId); });\n    }\n\n    function dexieOpen(db) {\n        var state = db._state;\n        var indexedDB = db._deps.indexedDB;\n        if (state.isBeingOpened || db.idbdb)\n            return state.dbReadyPromise.then(function () { return state.dbOpenError ?\n                rejection(state.dbOpenError) :\n                db; });\n        debug && (state.openCanceller._stackHolder = getErrorWithStack());\n        state.isBeingOpened = true;\n        state.dbOpenError = null;\n        state.openComplete = false;\n        var openCanceller = state.openCanceller;\n        function throwIfCancelled() {\n            if (state.openCanceller !== openCanceller)\n                throw new exceptions.DatabaseClosed('db.open() was cancelled');\n        }\n        var resolveDbReady = state.dbReadyResolve,\n        upgradeTransaction = null, wasCreated = false;\n        return DexiePromise.race([openCanceller, (typeof navigator === 'undefined' ? DexiePromise.resolve() : idbReady()).then(function () { return new DexiePromise(function (resolve, reject) {\n                throwIfCancelled();\n                if (!indexedDB)\n                    throw new exceptions.MissingAPI();\n                var dbName = db.name;\n                var req = state.autoSchema ?\n                    indexedDB.open(dbName) :\n                    indexedDB.open(dbName, Math.round(db.verno * 10));\n                if (!req)\n                    throw new exceptions.MissingAPI();\n                req.onerror = eventRejectHandler(reject);\n                req.onblocked = wrap(db._fireOnBlocked);\n                req.onupgradeneeded = wrap(function (e) {\n                    upgradeTransaction = req.transaction;\n                    if (state.autoSchema && !db._options.allowEmptyDB) {\n                        req.onerror = preventDefault;\n                        upgradeTransaction.abort();\n                        req.result.close();\n                        var delreq = indexedDB.deleteDatabase(dbName);\n                        delreq.onsuccess = delreq.onerror = wrap(function () {\n                            reject(new exceptions.NoSuchDatabase(\"Database \" + dbName + \" doesnt exist\"));\n                        });\n                    }\n                    else {\n                        upgradeTransaction.onerror = eventRejectHandler(reject);\n                        var oldVer = e.oldVersion > Math.pow(2, 62) ? 0 : e.oldVersion;\n                        wasCreated = oldVer < 1;\n                        db._novip.idbdb = req.result;\n                        runUpgraders(db, oldVer / 10, upgradeTransaction, reject);\n                    }\n                }, reject);\n                req.onsuccess = wrap(function () {\n                    upgradeTransaction = null;\n                    var idbdb = db._novip.idbdb = req.result;\n                    var objectStoreNames = slice(idbdb.objectStoreNames);\n                    if (objectStoreNames.length > 0)\n                        try {\n                            var tmpTrans = idbdb.transaction(safariMultiStoreFix(objectStoreNames), 'readonly');\n                            if (state.autoSchema)\n                                readGlobalSchema(db, idbdb, tmpTrans);\n                            else {\n                                adjustToExistingIndexNames(db, db._dbSchema, tmpTrans);\n                                if (!verifyInstalledSchema(db, tmpTrans)) {\n                                    console.warn(\"Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.\");\n                                }\n                            }\n                            generateMiddlewareStacks(db, tmpTrans);\n                        }\n                        catch (e) {\n                        }\n                    connections.push(db);\n                    idbdb.onversionchange = wrap(function (ev) {\n                        state.vcFired = true;\n                        db.on(\"versionchange\").fire(ev);\n                    });\n                    idbdb.onclose = wrap(function (ev) {\n                        db.on(\"close\").fire(ev);\n                    });\n                    if (wasCreated)\n                        _onDatabaseCreated(db._deps, dbName);\n                    resolve();\n                }, reject);\n            }); })]).then(function () {\n            throwIfCancelled();\n            state.onReadyBeingFired = [];\n            return DexiePromise.resolve(vip(function () { return db.on.ready.fire(db.vip); })).then(function fireRemainders() {\n                if (state.onReadyBeingFired.length > 0) {\n                    var remainders_1 = state.onReadyBeingFired.reduce(promisableChain, nop);\n                    state.onReadyBeingFired = [];\n                    return DexiePromise.resolve(vip(function () { return remainders_1(db.vip); })).then(fireRemainders);\n                }\n            });\n        }).finally(function () {\n            state.onReadyBeingFired = null;\n            state.isBeingOpened = false;\n        }).then(function () {\n            return db;\n        }).catch(function (err) {\n            state.dbOpenError = err;\n            try {\n                upgradeTransaction && upgradeTransaction.abort();\n            }\n            catch (_a) { }\n            if (openCanceller === state.openCanceller) {\n                db._close();\n            }\n            return rejection(err);\n        }).finally(function () {\n            state.openComplete = true;\n            resolveDbReady();\n        });\n    }\n\n    function awaitIterator(iterator) {\n        var callNext = function (result) { return iterator.next(result); }, doThrow = function (error) { return iterator.throw(error); }, onSuccess = step(callNext), onError = step(doThrow);\n        function step(getNext) {\n            return function (val) {\n                var next = getNext(val), value = next.value;\n                return next.done ? value :\n                    (!value || typeof value.then !== 'function' ?\n                        isArray(value) ? Promise.all(value).then(onSuccess, onError) : onSuccess(value) :\n                        value.then(onSuccess, onError));\n            };\n        }\n        return step(callNext)();\n    }\n\n    function extractTransactionArgs(mode, _tableArgs_, scopeFunc) {\n        var i = arguments.length;\n        if (i < 2)\n            throw new exceptions.InvalidArgument(\"Too few arguments\");\n        var args = new Array(i - 1);\n        while (--i)\n            args[i - 1] = arguments[i];\n        scopeFunc = args.pop();\n        var tables = flatten(args);\n        return [mode, tables, scopeFunc];\n    }\n    function enterTransactionScope(db, mode, storeNames, parentTransaction, scopeFunc) {\n        return DexiePromise.resolve().then(function () {\n            var transless = PSD.transless || PSD;\n            var trans = db._createTransaction(mode, storeNames, db._dbSchema, parentTransaction);\n            var zoneProps = {\n                trans: trans,\n                transless: transless\n            };\n            if (parentTransaction) {\n                trans.idbtrans = parentTransaction.idbtrans;\n            }\n            else {\n                try {\n                    trans.create();\n                    db._state.PR1398_maxLoop = 3;\n                }\n                catch (ex) {\n                    if (ex.name === errnames.InvalidState && db.isOpen() && --db._state.PR1398_maxLoop > 0) {\n                        console.warn('Dexie: Need to reopen db');\n                        db._close();\n                        return db.open().then(function () { return enterTransactionScope(db, mode, storeNames, null, scopeFunc); });\n                    }\n                    return rejection(ex);\n                }\n            }\n            var scopeFuncIsAsync = isAsyncFunction(scopeFunc);\n            if (scopeFuncIsAsync) {\n                incrementExpectedAwaits();\n            }\n            var returnValue;\n            var promiseFollowed = DexiePromise.follow(function () {\n                returnValue = scopeFunc.call(trans, trans);\n                if (returnValue) {\n                    if (scopeFuncIsAsync) {\n                        var decrementor = decrementExpectedAwaits.bind(null, null);\n                        returnValue.then(decrementor, decrementor);\n                    }\n                    else if (typeof returnValue.next === 'function' && typeof returnValue.throw === 'function') {\n                        returnValue = awaitIterator(returnValue);\n                    }\n                }\n            }, zoneProps);\n            return (returnValue && typeof returnValue.then === 'function' ?\n                DexiePromise.resolve(returnValue).then(function (x) { return trans.active ?\n                    x\n                    : rejection(new exceptions.PrematureCommit(\"Transaction committed too early. See http://bit.ly/2kdckMn\")); })\n                : promiseFollowed.then(function () { return returnValue; })).then(function (x) {\n                if (parentTransaction)\n                    trans._resolve();\n                return trans._completion.then(function () { return x; });\n            }).catch(function (e) {\n                trans._reject(e);\n                return rejection(e);\n            });\n        });\n    }\n\n    function pad(a, value, count) {\n        var result = isArray(a) ? a.slice() : [a];\n        for (var i = 0; i < count; ++i)\n            result.push(value);\n        return result;\n    }\n    function createVirtualIndexMiddleware(down) {\n        return __assign(__assign({}, down), { table: function (tableName) {\n                var table = down.table(tableName);\n                var schema = table.schema;\n                var indexLookup = {};\n                var allVirtualIndexes = [];\n                function addVirtualIndexes(keyPath, keyTail, lowLevelIndex) {\n                    var keyPathAlias = getKeyPathAlias(keyPath);\n                    var indexList = (indexLookup[keyPathAlias] = indexLookup[keyPathAlias] || []);\n                    var keyLength = keyPath == null ? 0 : typeof keyPath === 'string' ? 1 : keyPath.length;\n                    var isVirtual = keyTail > 0;\n                    var virtualIndex = __assign(__assign({}, lowLevelIndex), { isVirtual: isVirtual, keyTail: keyTail, keyLength: keyLength, extractKey: getKeyExtractor(keyPath), unique: !isVirtual && lowLevelIndex.unique });\n                    indexList.push(virtualIndex);\n                    if (!virtualIndex.isPrimaryKey) {\n                        allVirtualIndexes.push(virtualIndex);\n                    }\n                    if (keyLength > 1) {\n                        var virtualKeyPath = keyLength === 2 ?\n                            keyPath[0] :\n                            keyPath.slice(0, keyLength - 1);\n                        addVirtualIndexes(virtualKeyPath, keyTail + 1, lowLevelIndex);\n                    }\n                    indexList.sort(function (a, b) { return a.keyTail - b.keyTail; });\n                    return virtualIndex;\n                }\n                var primaryKey = addVirtualIndexes(schema.primaryKey.keyPath, 0, schema.primaryKey);\n                indexLookup[\":id\"] = [primaryKey];\n                for (var _i = 0, _a = schema.indexes; _i < _a.length; _i++) {\n                    var index = _a[_i];\n                    addVirtualIndexes(index.keyPath, 0, index);\n                }\n                function findBestIndex(keyPath) {\n                    var result = indexLookup[getKeyPathAlias(keyPath)];\n                    return result && result[0];\n                }\n                function translateRange(range, keyTail) {\n                    return {\n                        type: range.type === 1  ?\n                            2  :\n                            range.type,\n                        lower: pad(range.lower, range.lowerOpen ? down.MAX_KEY : down.MIN_KEY, keyTail),\n                        lowerOpen: true,\n                        upper: pad(range.upper, range.upperOpen ? down.MIN_KEY : down.MAX_KEY, keyTail),\n                        upperOpen: true\n                    };\n                }\n                function translateRequest(req) {\n                    var index = req.query.index;\n                    return index.isVirtual ? __assign(__assign({}, req), { query: {\n                            index: index,\n                            range: translateRange(req.query.range, index.keyTail)\n                        } }) : req;\n                }\n                var result = __assign(__assign({}, table), { schema: __assign(__assign({}, schema), { primaryKey: primaryKey, indexes: allVirtualIndexes, getIndexByKeyPath: findBestIndex }), count: function (req) {\n                        return table.count(translateRequest(req));\n                    }, query: function (req) {\n                        return table.query(translateRequest(req));\n                    }, openCursor: function (req) {\n                        var _a = req.query.index, keyTail = _a.keyTail, isVirtual = _a.isVirtual, keyLength = _a.keyLength;\n                        if (!isVirtual)\n                            return table.openCursor(req);\n                        function createVirtualCursor(cursor) {\n                            function _continue(key) {\n                                key != null ?\n                                    cursor.continue(pad(key, req.reverse ? down.MAX_KEY : down.MIN_KEY, keyTail)) :\n                                    req.unique ?\n                                        cursor.continue(cursor.key.slice(0, keyLength)\n                                            .concat(req.reverse\n                                            ? down.MIN_KEY\n                                            : down.MAX_KEY, keyTail)) :\n                                        cursor.continue();\n                            }\n                            var virtualCursor = Object.create(cursor, {\n                                continue: { value: _continue },\n                                continuePrimaryKey: {\n                                    value: function (key, primaryKey) {\n                                        cursor.continuePrimaryKey(pad(key, down.MAX_KEY, keyTail), primaryKey);\n                                    }\n                                },\n                                primaryKey: {\n                                    get: function () {\n                                        return cursor.primaryKey;\n                                    }\n                                },\n                                key: {\n                                    get: function () {\n                                        var key = cursor.key;\n                                        return keyLength === 1 ?\n                                            key[0] :\n                                            key.slice(0, keyLength);\n                                    }\n                                },\n                                value: {\n                                    get: function () {\n                                        return cursor.value;\n                                    }\n                                }\n                            });\n                            return virtualCursor;\n                        }\n                        return table.openCursor(translateRequest(req))\n                            .then(function (cursor) { return cursor && createVirtualCursor(cursor); });\n                    } });\n                return result;\n            } });\n    }\n    var virtualIndexMiddleware = {\n        stack: \"dbcore\",\n        name: \"VirtualIndexMiddleware\",\n        level: 1,\n        create: createVirtualIndexMiddleware\n    };\n\n    function getObjectDiff(a, b, rv, prfx) {\n        rv = rv || {};\n        prfx = prfx || '';\n        keys(a).forEach(function (prop) {\n            if (!hasOwn(b, prop)) {\n                rv[prfx + prop] = undefined;\n            }\n            else {\n                var ap = a[prop], bp = b[prop];\n                if (typeof ap === 'object' && typeof bp === 'object' && ap && bp) {\n                    var apTypeName = toStringTag(ap);\n                    var bpTypeName = toStringTag(bp);\n                    if (apTypeName !== bpTypeName) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                    else if (apTypeName === 'Object') {\n                        getObjectDiff(ap, bp, rv, prfx + prop + '.');\n                    }\n                    else if (ap !== bp) {\n                        rv[prfx + prop] = b[prop];\n                    }\n                }\n                else if (ap !== bp)\n                    rv[prfx + prop] = b[prop];\n            }\n        });\n        keys(b).forEach(function (prop) {\n            if (!hasOwn(a, prop)) {\n                rv[prfx + prop] = b[prop];\n            }\n        });\n        return rv;\n    }\n\n    function getEffectiveKeys(primaryKey, req) {\n        if (req.type === 'delete')\n            return req.keys;\n        return req.keys || req.values.map(primaryKey.extractKey);\n    }\n\n    var hooksMiddleware = {\n        stack: \"dbcore\",\n        name: \"HooksMiddleware\",\n        level: 2,\n        create: function (downCore) { return (__assign(__assign({}, downCore), { table: function (tableName) {\n                var downTable = downCore.table(tableName);\n                var primaryKey = downTable.schema.primaryKey;\n                var tableMiddleware = __assign(__assign({}, downTable), { mutate: function (req) {\n                        var dxTrans = PSD.trans;\n                        var _a = dxTrans.table(tableName).hook, deleting = _a.deleting, creating = _a.creating, updating = _a.updating;\n                        switch (req.type) {\n                            case 'add':\n                                if (creating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'put':\n                                if (creating.fire === nop && updating.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'delete':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return addPutOrDelete(req); }, true);\n                            case 'deleteRange':\n                                if (deleting.fire === nop)\n                                    break;\n                                return dxTrans._promise('readwrite', function () { return deleteRange(req); }, true);\n                        }\n                        return downTable.mutate(req);\n                        function addPutOrDelete(req) {\n                            var dxTrans = PSD.trans;\n                            var keys = req.keys || getEffectiveKeys(primaryKey, req);\n                            if (!keys)\n                                throw new Error(\"Keys missing\");\n                            req = req.type === 'add' || req.type === 'put' ? __assign(__assign({}, req), { keys: keys }) : __assign({}, req);\n                            if (req.type !== 'delete')\n                                req.values = __spreadArray([], req.values, true);\n                            if (req.keys)\n                                req.keys = __spreadArray([], req.keys, true);\n                            return getExistingValues(downTable, req, keys).then(function (existingValues) {\n                                var contexts = keys.map(function (key, i) {\n                                    var existingValue = existingValues[i];\n                                    var ctx = { onerror: null, onsuccess: null };\n                                    if (req.type === 'delete') {\n                                        deleting.fire.call(ctx, key, existingValue, dxTrans);\n                                    }\n                                    else if (req.type === 'add' || existingValue === undefined) {\n                                        var generatedPrimaryKey = creating.fire.call(ctx, key, req.values[i], dxTrans);\n                                        if (key == null && generatedPrimaryKey != null) {\n                                            key = generatedPrimaryKey;\n                                            req.keys[i] = key;\n                                            if (!primaryKey.outbound) {\n                                                setByKeyPath(req.values[i], primaryKey.keyPath, key);\n                                            }\n                                        }\n                                    }\n                                    else {\n                                        var objectDiff = getObjectDiff(existingValue, req.values[i]);\n                                        var additionalChanges_1 = updating.fire.call(ctx, objectDiff, key, existingValue, dxTrans);\n                                        if (additionalChanges_1) {\n                                            var requestedValue_1 = req.values[i];\n                                            Object.keys(additionalChanges_1).forEach(function (keyPath) {\n                                                if (hasOwn(requestedValue_1, keyPath)) {\n                                                    requestedValue_1[keyPath] = additionalChanges_1[keyPath];\n                                                }\n                                                else {\n                                                    setByKeyPath(requestedValue_1, keyPath, additionalChanges_1[keyPath]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                    return ctx;\n                                });\n                                return downTable.mutate(req).then(function (_a) {\n                                    var failures = _a.failures, results = _a.results, numFailures = _a.numFailures, lastResult = _a.lastResult;\n                                    for (var i = 0; i < keys.length; ++i) {\n                                        var primKey = results ? results[i] : keys[i];\n                                        var ctx = contexts[i];\n                                        if (primKey == null) {\n                                            ctx.onerror && ctx.onerror(failures[i]);\n                                        }\n                                        else {\n                                            ctx.onsuccess && ctx.onsuccess(req.type === 'put' && existingValues[i] ?\n                                                req.values[i] :\n                                                primKey\n                                            );\n                                        }\n                                    }\n                                    return { failures: failures, results: results, numFailures: numFailures, lastResult: lastResult };\n                                }).catch(function (error) {\n                                    contexts.forEach(function (ctx) { return ctx.onerror && ctx.onerror(error); });\n                                    return Promise.reject(error);\n                                });\n                            });\n                        }\n                        function deleteRange(req) {\n                            return deleteNextChunk(req.trans, req.range, 10000);\n                        }\n                        function deleteNextChunk(trans, range, limit) {\n                            return downTable.query({ trans: trans, values: false, query: { index: primaryKey, range: range }, limit: limit })\n                                .then(function (_a) {\n                                var result = _a.result;\n                                return addPutOrDelete({ type: 'delete', keys: result, trans: trans }).then(function (res) {\n                                    if (res.numFailures > 0)\n                                        return Promise.reject(res.failures[0]);\n                                    if (result.length < limit) {\n                                        return { failures: [], numFailures: 0, lastResult: undefined };\n                                    }\n                                    else {\n                                        return deleteNextChunk(trans, __assign(__assign({}, range), { lower: result[result.length - 1], lowerOpen: true }), limit);\n                                    }\n                                });\n                            });\n                        }\n                    } });\n                return tableMiddleware;\n            } })); }\n    };\n    function getExistingValues(table, req, effectiveKeys) {\n        return req.type === \"add\"\n            ? Promise.resolve([])\n            : table.getMany({ trans: req.trans, keys: effectiveKeys, cache: \"immutable\" });\n    }\n\n    function getFromTransactionCache(keys, cache, clone) {\n        try {\n            if (!cache)\n                return null;\n            if (cache.keys.length < keys.length)\n                return null;\n            var result = [];\n            for (var i = 0, j = 0; i < cache.keys.length && j < keys.length; ++i) {\n                if (cmp(cache.keys[i], keys[j]) !== 0)\n                    continue;\n                result.push(clone ? deepClone(cache.values[i]) : cache.values[i]);\n                ++j;\n            }\n            return result.length === keys.length ? result : null;\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    var cacheExistingValuesMiddleware = {\n        stack: \"dbcore\",\n        level: -1,\n        create: function (core) {\n            return {\n                table: function (tableName) {\n                    var table = core.table(tableName);\n                    return __assign(__assign({}, table), { getMany: function (req) {\n                            if (!req.cache) {\n                                return table.getMany(req);\n                            }\n                            var cachedResult = getFromTransactionCache(req.keys, req.trans[\"_cache\"], req.cache === \"clone\");\n                            if (cachedResult) {\n                                return DexiePromise.resolve(cachedResult);\n                            }\n                            return table.getMany(req).then(function (res) {\n                                req.trans[\"_cache\"] = {\n                                    keys: req.keys,\n                                    values: req.cache === \"clone\" ? deepClone(res) : res,\n                                };\n                                return res;\n                            });\n                        }, mutate: function (req) {\n                            if (req.type !== \"add\")\n                                req.trans[\"_cache\"] = null;\n                            return table.mutate(req);\n                        } });\n                },\n            };\n        },\n    };\n\n    var _a;\n    function isEmptyRange(node) {\n        return !(\"from\" in node);\n    }\n    var RangeSet = function (fromOrTree, to) {\n        if (this) {\n            extend(this, arguments.length ? { d: 1, from: fromOrTree, to: arguments.length > 1 ? to : fromOrTree } : { d: 0 });\n        }\n        else {\n            var rv = new RangeSet();\n            if (fromOrTree && (\"d\" in fromOrTree)) {\n                extend(rv, fromOrTree);\n            }\n            return rv;\n        }\n    };\n    props(RangeSet.prototype, (_a = {\n            add: function (rangeSet) {\n                mergeRanges(this, rangeSet);\n                return this;\n            },\n            addKey: function (key) {\n                addRange(this, key, key);\n                return this;\n            },\n            addKeys: function (keys) {\n                var _this = this;\n                keys.forEach(function (key) { return addRange(_this, key, key); });\n                return this;\n            }\n        },\n        _a[iteratorSymbol] = function () {\n            return getRangeSetIterator(this);\n        },\n        _a));\n    function addRange(target, from, to) {\n        var diff = cmp(from, to);\n        if (isNaN(diff))\n            return;\n        if (diff > 0)\n            throw RangeError();\n        if (isEmptyRange(target))\n            return extend(target, { from: from, to: to, d: 1 });\n        var left = target.l;\n        var right = target.r;\n        if (cmp(to, target.from) < 0) {\n            left\n                ? addRange(left, from, to)\n                : (target.l = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.to) > 0) {\n            right\n                ? addRange(right, from, to)\n                : (target.r = { from: from, to: to, d: 1, l: null, r: null });\n            return rebalance(target);\n        }\n        if (cmp(from, target.from) < 0) {\n            target.from = from;\n            target.l = null;\n            target.d = right ? right.d + 1 : 1;\n        }\n        if (cmp(to, target.to) > 0) {\n            target.to = to;\n            target.r = null;\n            target.d = target.l ? target.l.d + 1 : 1;\n        }\n        var rightWasCutOff = !target.r;\n        if (left && !target.l) {\n            mergeRanges(target, left);\n        }\n        if (right && rightWasCutOff) {\n            mergeRanges(target, right);\n        }\n    }\n    function mergeRanges(target, newSet) {\n        function _addRangeSet(target, _a) {\n            var from = _a.from, to = _a.to, l = _a.l, r = _a.r;\n            addRange(target, from, to);\n            if (l)\n                _addRangeSet(target, l);\n            if (r)\n                _addRangeSet(target, r);\n        }\n        if (!isEmptyRange(newSet))\n            _addRangeSet(target, newSet);\n    }\n    function rangesOverlap(rangeSet1, rangeSet2) {\n        var i1 = getRangeSetIterator(rangeSet2);\n        var nextResult1 = i1.next();\n        if (nextResult1.done)\n            return false;\n        var a = nextResult1.value;\n        var i2 = getRangeSetIterator(rangeSet1);\n        var nextResult2 = i2.next(a.from);\n        var b = nextResult2.value;\n        while (!nextResult1.done && !nextResult2.done) {\n            if (cmp(b.from, a.to) <= 0 && cmp(b.to, a.from) >= 0)\n                return true;\n            cmp(a.from, b.from) < 0\n                ? (a = (nextResult1 = i1.next(b.from)).value)\n                : (b = (nextResult2 = i2.next(a.from)).value);\n        }\n        return false;\n    }\n    function getRangeSetIterator(node) {\n        var state = isEmptyRange(node) ? null : { s: 0, n: node };\n        return {\n            next: function (key) {\n                var keyProvided = arguments.length > 0;\n                while (state) {\n                    switch (state.s) {\n                        case 0:\n                            state.s = 1;\n                            if (keyProvided) {\n                                while (state.n.l && cmp(key, state.n.from) < 0)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                            else {\n                                while (state.n.l)\n                                    state = { up: state, n: state.n.l, s: 1 };\n                            }\n                        case 1:\n                            state.s = 2;\n                            if (!keyProvided || cmp(key, state.n.to) <= 0)\n                                return { value: state.n, done: false };\n                        case 2:\n                            if (state.n.r) {\n                                state.s = 3;\n                                state = { up: state, n: state.n.r, s: 0 };\n                                continue;\n                            }\n                        case 3:\n                            state = state.up;\n                    }\n                }\n                return { done: true };\n            },\n        };\n    }\n    function rebalance(target) {\n        var _a, _b;\n        var diff = (((_a = target.r) === null || _a === void 0 ? void 0 : _a.d) || 0) - (((_b = target.l) === null || _b === void 0 ? void 0 : _b.d) || 0);\n        var r = diff > 1 ? \"r\" : diff < -1 ? \"l\" : \"\";\n        if (r) {\n            var l = r === \"r\" ? \"l\" : \"r\";\n            var rootClone = __assign({}, target);\n            var oldRootRight = target[r];\n            target.from = oldRootRight.from;\n            target.to = oldRootRight.to;\n            target[r] = oldRootRight[r];\n            rootClone[r] = oldRootRight[l];\n            target[l] = rootClone;\n            rootClone.d = computeDepth(rootClone);\n        }\n        target.d = computeDepth(target);\n    }\n    function computeDepth(_a) {\n        var r = _a.r, l = _a.l;\n        return (r ? (l ? Math.max(r.d, l.d) : r.d) : l ? l.d : 0) + 1;\n    }\n\n    var observabilityMiddleware = {\n        stack: \"dbcore\",\n        level: 0,\n        create: function (core) {\n            var dbName = core.schema.name;\n            var FULL_RANGE = new RangeSet(core.MIN_KEY, core.MAX_KEY);\n            return __assign(__assign({}, core), { table: function (tableName) {\n                    var table = core.table(tableName);\n                    var schema = table.schema;\n                    var primaryKey = schema.primaryKey;\n                    var extractKey = primaryKey.extractKey, outbound = primaryKey.outbound;\n                    var tableClone = __assign(__assign({}, table), { mutate: function (req) {\n                            var trans = req.trans;\n                            var mutatedParts = trans.mutatedParts || (trans.mutatedParts = {});\n                            var getRangeSet = function (indexName) {\n                                var part = \"idb://\" + dbName + \"/\" + tableName + \"/\" + indexName;\n                                return (mutatedParts[part] ||\n                                    (mutatedParts[part] = new RangeSet()));\n                            };\n                            var pkRangeSet = getRangeSet(\"\");\n                            var delsRangeSet = getRangeSet(\":dels\");\n                            var type = req.type;\n                            var _a = req.type === \"deleteRange\"\n                                ? [req.range]\n                                : req.type === \"delete\"\n                                    ? [req.keys]\n                                    : req.values.length < 50\n                                        ? [[], req.values]\n                                        : [], keys = _a[0], newObjs = _a[1];\n                            var oldCache = req.trans[\"_cache\"];\n                            return table.mutate(req).then(function (res) {\n                                if (isArray(keys)) {\n                                    if (type !== \"delete\")\n                                        keys = res.results;\n                                    pkRangeSet.addKeys(keys);\n                                    var oldObjs = getFromTransactionCache(keys, oldCache);\n                                    if (!oldObjs && type !== \"add\") {\n                                        delsRangeSet.addKeys(keys);\n                                    }\n                                    if (oldObjs || newObjs) {\n                                        trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs);\n                                    }\n                                }\n                                else if (keys) {\n                                    var range = { from: keys.lower, to: keys.upper };\n                                    delsRangeSet.add(range);\n                                    pkRangeSet.add(range);\n                                }\n                                else {\n                                    pkRangeSet.add(FULL_RANGE);\n                                    delsRangeSet.add(FULL_RANGE);\n                                    schema.indexes.forEach(function (idx) { return getRangeSet(idx.name).add(FULL_RANGE); });\n                                }\n                                return res;\n                            });\n                        } });\n                    var getRange = function (_a) {\n                        var _b, _c;\n                        var _d = _a.query, index = _d.index, range = _d.range;\n                        return [\n                            index,\n                            new RangeSet((_b = range.lower) !== null && _b !== void 0 ? _b : core.MIN_KEY, (_c = range.upper) !== null && _c !== void 0 ? _c : core.MAX_KEY),\n                        ];\n                    };\n                    var readSubscribers = {\n                        get: function (req) { return [primaryKey, new RangeSet(req.key)]; },\n                        getMany: function (req) { return [primaryKey, new RangeSet().addKeys(req.keys)]; },\n                        count: getRange,\n                        query: getRange,\n                        openCursor: getRange,\n                    };\n                    keys(readSubscribers).forEach(function (method) {\n                        tableClone[method] = function (req) {\n                            var subscr = PSD.subscr;\n                            if (subscr) {\n                                var getRangeSet = function (indexName) {\n                                    var part = \"idb://\" + dbName + \"/\" + tableName + \"/\" + indexName;\n                                    return (subscr[part] ||\n                                        (subscr[part] = new RangeSet()));\n                                };\n                                var pkRangeSet_1 = getRangeSet(\"\");\n                                var delsRangeSet_1 = getRangeSet(\":dels\");\n                                var _a = readSubscribers[method](req), queriedIndex = _a[0], queriedRanges = _a[1];\n                                getRangeSet(queriedIndex.name || \"\").add(queriedRanges);\n                                if (!queriedIndex.isPrimaryKey) {\n                                    if (method === \"count\") {\n                                        delsRangeSet_1.add(FULL_RANGE);\n                                    }\n                                    else {\n                                        var keysPromise_1 = method === \"query\" &&\n                                            outbound &&\n                                            req.values &&\n                                            table.query(__assign(__assign({}, req), { values: false }));\n                                        return table[method].apply(this, arguments).then(function (res) {\n                                            if (method === \"query\") {\n                                                if (outbound && req.values) {\n                                                    return keysPromise_1.then(function (_a) {\n                                                        var resultingKeys = _a.result;\n                                                        pkRangeSet_1.addKeys(resultingKeys);\n                                                        return res;\n                                                    });\n                                                }\n                                                var pKeys = req.values\n                                                    ? res.result.map(extractKey)\n                                                    : res.result;\n                                                if (req.values) {\n                                                    pkRangeSet_1.addKeys(pKeys);\n                                                }\n                                                else {\n                                                    delsRangeSet_1.addKeys(pKeys);\n                                                }\n                                            }\n                                            else if (method === \"openCursor\") {\n                                                var cursor_1 = res;\n                                                var wantValues_1 = req.values;\n                                                return (cursor_1 &&\n                                                    Object.create(cursor_1, {\n                                                        key: {\n                                                            get: function () {\n                                                                delsRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.key;\n                                                            },\n                                                        },\n                                                        primaryKey: {\n                                                            get: function () {\n                                                                var pkey = cursor_1.primaryKey;\n                                                                delsRangeSet_1.addKey(pkey);\n                                                                return pkey;\n                                                            },\n                                                        },\n                                                        value: {\n                                                            get: function () {\n                                                                wantValues_1 && pkRangeSet_1.addKey(cursor_1.primaryKey);\n                                                                return cursor_1.value;\n                                                            },\n                                                        },\n                                                    }));\n                                            }\n                                            return res;\n                                        });\n                                    }\n                                }\n                            }\n                            return table[method].apply(this, arguments);\n                        };\n                    });\n                    return tableClone;\n                } });\n        },\n    };\n    function trackAffectedIndexes(getRangeSet, schema, oldObjs, newObjs) {\n        function addAffectedIndex(ix) {\n            var rangeSet = getRangeSet(ix.name || \"\");\n            function extractKey(obj) {\n                return obj != null ? ix.extractKey(obj) : null;\n            }\n            var addKeyOrKeys = function (key) { return ix.multiEntry && isArray(key)\n                ? key.forEach(function (key) { return rangeSet.addKey(key); })\n                : rangeSet.addKey(key); };\n            (oldObjs || newObjs).forEach(function (_, i) {\n                var oldKey = oldObjs && extractKey(oldObjs[i]);\n                var newKey = newObjs && extractKey(newObjs[i]);\n                if (cmp(oldKey, newKey) !== 0) {\n                    if (oldKey != null)\n                        addKeyOrKeys(oldKey);\n                    if (newKey != null)\n                        addKeyOrKeys(newKey);\n                }\n            });\n        }\n        schema.indexes.forEach(addAffectedIndex);\n    }\n\n    var Dexie$1 =  (function () {\n        function Dexie(name, options) {\n            var _this = this;\n            this._middlewares = {};\n            this.verno = 0;\n            var deps = Dexie.dependencies;\n            this._options = options = __assign({\n                addons: Dexie.addons, autoOpen: true,\n                indexedDB: deps.indexedDB, IDBKeyRange: deps.IDBKeyRange }, options);\n            this._deps = {\n                indexedDB: options.indexedDB,\n                IDBKeyRange: options.IDBKeyRange\n            };\n            var addons = options.addons;\n            this._dbSchema = {};\n            this._versions = [];\n            this._storeNames = [];\n            this._allTables = {};\n            this.idbdb = null;\n            this._novip = this;\n            var state = {\n                dbOpenError: null,\n                isBeingOpened: false,\n                onReadyBeingFired: null,\n                openComplete: false,\n                dbReadyResolve: nop,\n                dbReadyPromise: null,\n                cancelOpen: nop,\n                openCanceller: null,\n                autoSchema: true,\n                PR1398_maxLoop: 3\n            };\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n            this._state = state;\n            this.name = name;\n            this.on = Events(this, \"populate\", \"blocked\", \"versionchange\", \"close\", { ready: [promisableChain, nop] });\n            this.on.ready.subscribe = override(this.on.ready.subscribe, function (subscribe) {\n                return function (subscriber, bSticky) {\n                    Dexie.vip(function () {\n                        var state = _this._state;\n                        if (state.openComplete) {\n                            if (!state.dbOpenError)\n                                DexiePromise.resolve().then(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else if (state.onReadyBeingFired) {\n                            state.onReadyBeingFired.push(subscriber);\n                            if (bSticky)\n                                subscribe(subscriber);\n                        }\n                        else {\n                            subscribe(subscriber);\n                            var db_1 = _this;\n                            if (!bSticky)\n                                subscribe(function unsubscribe() {\n                                    db_1.on.ready.unsubscribe(subscriber);\n                                    db_1.on.ready.unsubscribe(unsubscribe);\n                                });\n                        }\n                    });\n                };\n            });\n            this.Collection = createCollectionConstructor(this);\n            this.Table = createTableConstructor(this);\n            this.Transaction = createTransactionConstructor(this);\n            this.Version = createVersionConstructor(this);\n            this.WhereClause = createWhereClauseConstructor(this);\n            this.on(\"versionchange\", function (ev) {\n                if (ev.newVersion > 0)\n                    console.warn(\"Another connection wants to upgrade database '\" + _this.name + \"'. Closing db now to resume the upgrade.\");\n                else\n                    console.warn(\"Another connection wants to delete database '\" + _this.name + \"'. Closing db now to resume the delete request.\");\n                _this.close();\n            });\n            this.on(\"blocked\", function (ev) {\n                if (!ev.newVersion || ev.newVersion < ev.oldVersion)\n                    console.warn(\"Dexie.delete('\" + _this.name + \"') was blocked\");\n                else\n                    console.warn(\"Upgrade '\" + _this.name + \"' blocked by other connection holding version \" + ev.oldVersion / 10);\n            });\n            this._maxKey = getMaxKey(options.IDBKeyRange);\n            this._createTransaction = function (mode, storeNames, dbschema, parentTransaction) { return new _this.Transaction(mode, storeNames, dbschema, _this._options.chromeTransactionDurability, parentTransaction); };\n            this._fireOnBlocked = function (ev) {\n                _this.on(\"blocked\").fire(ev);\n                connections\n                    .filter(function (c) { return c.name === _this.name && c !== _this && !c._state.vcFired; })\n                    .map(function (c) { return c.on(\"versionchange\").fire(ev); });\n            };\n            this.use(virtualIndexMiddleware);\n            this.use(hooksMiddleware);\n            this.use(observabilityMiddleware);\n            this.use(cacheExistingValuesMiddleware);\n            this.vip = Object.create(this, { _vip: { value: true } });\n            addons.forEach(function (addon) { return addon(_this); });\n        }\n        Dexie.prototype.version = function (versionNumber) {\n            if (isNaN(versionNumber) || versionNumber < 0.1)\n                throw new exceptions.Type(\"Given version is not a positive number\");\n            versionNumber = Math.round(versionNumber * 10) / 10;\n            if (this.idbdb || this._state.isBeingOpened)\n                throw new exceptions.Schema(\"Cannot add version when database is open\");\n            this.verno = Math.max(this.verno, versionNumber);\n            var versions = this._versions;\n            var versionInstance = versions.filter(function (v) { return v._cfg.version === versionNumber; })[0];\n            if (versionInstance)\n                return versionInstance;\n            versionInstance = new this.Version(versionNumber);\n            versions.push(versionInstance);\n            versions.sort(lowerVersionFirst);\n            versionInstance.stores({});\n            this._state.autoSchema = false;\n            return versionInstance;\n        };\n        Dexie.prototype._whenReady = function (fn) {\n            var _this = this;\n            return (this.idbdb && (this._state.openComplete || PSD.letThrough || this._vip)) ? fn() : new DexiePromise(function (resolve, reject) {\n                if (_this._state.openComplete) {\n                    return reject(new exceptions.DatabaseClosed(_this._state.dbOpenError));\n                }\n                if (!_this._state.isBeingOpened) {\n                    if (!_this._options.autoOpen) {\n                        reject(new exceptions.DatabaseClosed());\n                        return;\n                    }\n                    _this.open().catch(nop);\n                }\n                _this._state.dbReadyPromise.then(resolve, reject);\n            }).then(fn);\n        };\n        Dexie.prototype.use = function (_a) {\n            var stack = _a.stack, create = _a.create, level = _a.level, name = _a.name;\n            if (name)\n                this.unuse({ stack: stack, name: name });\n            var middlewares = this._middlewares[stack] || (this._middlewares[stack] = []);\n            middlewares.push({ stack: stack, create: create, level: level == null ? 10 : level, name: name });\n            middlewares.sort(function (a, b) { return a.level - b.level; });\n            return this;\n        };\n        Dexie.prototype.unuse = function (_a) {\n            var stack = _a.stack, name = _a.name, create = _a.create;\n            if (stack && this._middlewares[stack]) {\n                this._middlewares[stack] = this._middlewares[stack].filter(function (mw) {\n                    return create ? mw.create !== create :\n                        name ? mw.name !== name :\n                            false;\n                });\n            }\n            return this;\n        };\n        Dexie.prototype.open = function () {\n            return dexieOpen(this);\n        };\n        Dexie.prototype._close = function () {\n            var state = this._state;\n            var idx = connections.indexOf(this);\n            if (idx >= 0)\n                connections.splice(idx, 1);\n            if (this.idbdb) {\n                try {\n                    this.idbdb.close();\n                }\n                catch (e) { }\n                this._novip.idbdb = null;\n            }\n            state.dbReadyPromise = new DexiePromise(function (resolve) {\n                state.dbReadyResolve = resolve;\n            });\n            state.openCanceller = new DexiePromise(function (_, reject) {\n                state.cancelOpen = reject;\n            });\n        };\n        Dexie.prototype.close = function () {\n            this._close();\n            var state = this._state;\n            this._options.autoOpen = false;\n            state.dbOpenError = new exceptions.DatabaseClosed();\n            if (state.isBeingOpened)\n                state.cancelOpen(state.dbOpenError);\n        };\n        Dexie.prototype.delete = function () {\n            var _this = this;\n            var hasArguments = arguments.length > 0;\n            var state = this._state;\n            return new DexiePromise(function (resolve, reject) {\n                var doDelete = function () {\n                    _this.close();\n                    var req = _this._deps.indexedDB.deleteDatabase(_this.name);\n                    req.onsuccess = wrap(function () {\n                        _onDatabaseDeleted(_this._deps, _this.name);\n                        resolve();\n                    });\n                    req.onerror = eventRejectHandler(reject);\n                    req.onblocked = _this._fireOnBlocked;\n                };\n                if (hasArguments)\n                    throw new exceptions.InvalidArgument(\"Arguments not allowed in db.delete()\");\n                if (state.isBeingOpened) {\n                    state.dbReadyPromise.then(doDelete);\n                }\n                else {\n                    doDelete();\n                }\n            });\n        };\n        Dexie.prototype.backendDB = function () {\n            return this.idbdb;\n        };\n        Dexie.prototype.isOpen = function () {\n            return this.idbdb !== null;\n        };\n        Dexie.prototype.hasBeenClosed = function () {\n            var dbOpenError = this._state.dbOpenError;\n            return dbOpenError && (dbOpenError.name === 'DatabaseClosed');\n        };\n        Dexie.prototype.hasFailed = function () {\n            return this._state.dbOpenError !== null;\n        };\n        Dexie.prototype.dynamicallyOpened = function () {\n            return this._state.autoSchema;\n        };\n        Object.defineProperty(Dexie.prototype, \"tables\", {\n            get: function () {\n                var _this = this;\n                return keys(this._allTables).map(function (name) { return _this._allTables[name]; });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Dexie.prototype.transaction = function () {\n            var args = extractTransactionArgs.apply(this, arguments);\n            return this._transaction.apply(this, args);\n        };\n        Dexie.prototype._transaction = function (mode, tables, scopeFunc) {\n            var _this = this;\n            var parentTransaction = PSD.trans;\n            if (!parentTransaction || parentTransaction.db !== this || mode.indexOf('!') !== -1)\n                parentTransaction = null;\n            var onlyIfCompatible = mode.indexOf('?') !== -1;\n            mode = mode.replace('!', '').replace('?', '');\n            var idbMode, storeNames;\n            try {\n                storeNames = tables.map(function (table) {\n                    var storeName = table instanceof _this.Table ? table.name : table;\n                    if (typeof storeName !== 'string')\n                        throw new TypeError(\"Invalid table argument to Dexie.transaction(). Only Table or String are allowed\");\n                    return storeName;\n                });\n                if (mode == \"r\" || mode === READONLY)\n                    idbMode = READONLY;\n                else if (mode == \"rw\" || mode == READWRITE)\n                    idbMode = READWRITE;\n                else\n                    throw new exceptions.InvalidArgument(\"Invalid transaction mode: \" + mode);\n                if (parentTransaction) {\n                    if (parentTransaction.mode === READONLY && idbMode === READWRITE) {\n                        if (onlyIfCompatible) {\n                            parentTransaction = null;\n                        }\n                        else\n                            throw new exceptions.SubTransaction(\"Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY\");\n                    }\n                    if (parentTransaction) {\n                        storeNames.forEach(function (storeName) {\n                            if (parentTransaction && parentTransaction.storeNames.indexOf(storeName) === -1) {\n                                if (onlyIfCompatible) {\n                                    parentTransaction = null;\n                                }\n                                else\n                                    throw new exceptions.SubTransaction(\"Table \" + storeName +\n                                        \" not included in parent transaction.\");\n                            }\n                        });\n                    }\n                    if (onlyIfCompatible && parentTransaction && !parentTransaction.active) {\n                        parentTransaction = null;\n                    }\n                }\n            }\n            catch (e) {\n                return parentTransaction ?\n                    parentTransaction._promise(null, function (_, reject) { reject(e); }) :\n                    rejection(e);\n            }\n            var enterTransaction = enterTransactionScope.bind(null, this, idbMode, storeNames, parentTransaction, scopeFunc);\n            return (parentTransaction ?\n                parentTransaction._promise(idbMode, enterTransaction, \"lock\") :\n                PSD.trans ?\n                    usePSD(PSD.transless, function () { return _this._whenReady(enterTransaction); }) :\n                    this._whenReady(enterTransaction));\n        };\n        Dexie.prototype.table = function (tableName) {\n            if (!hasOwn(this._allTables, tableName)) {\n                throw new exceptions.InvalidTable(\"Table \" + tableName + \" does not exist\");\n            }\n            return this._allTables[tableName];\n        };\n        return Dexie;\n    }());\n\n    var symbolObservable = typeof Symbol !== \"undefined\" && \"observable\" in Symbol\n        ? Symbol.observable\n        : \"@@observable\";\n    var Observable =  (function () {\n        function Observable(subscribe) {\n            this._subscribe = subscribe;\n        }\n        Observable.prototype.subscribe = function (x, error, complete) {\n            return this._subscribe(!x || typeof x === \"function\" ? { next: x, error: error, complete: complete } : x);\n        };\n        Observable.prototype[symbolObservable] = function () {\n            return this;\n        };\n        return Observable;\n    }());\n\n    function extendObservabilitySet(target, newSet) {\n        keys(newSet).forEach(function (part) {\n            var rangeSet = target[part] || (target[part] = new RangeSet());\n            mergeRanges(rangeSet, newSet[part]);\n        });\n        return target;\n    }\n\n    function liveQuery(querier) {\n        var hasValue = false;\n        var currentValue = undefined;\n        var observable = new Observable(function (observer) {\n            var scopeFuncIsAsync = isAsyncFunction(querier);\n            function execute(subscr) {\n                if (scopeFuncIsAsync) {\n                    incrementExpectedAwaits();\n                }\n                var exec = function () { return newScope(querier, { subscr: subscr, trans: null }); };\n                var rv = PSD.trans\n                    ?\n                        usePSD(PSD.transless, exec)\n                    : exec();\n                if (scopeFuncIsAsync) {\n                    rv.then(decrementExpectedAwaits, decrementExpectedAwaits);\n                }\n                return rv;\n            }\n            var closed = false;\n            var accumMuts = {};\n            var currentObs = {};\n            var subscription = {\n                get closed() {\n                    return closed;\n                },\n                unsubscribe: function () {\n                    closed = true;\n                    globalEvents.storagemutated.unsubscribe(mutationListener);\n                },\n            };\n            observer.start && observer.start(subscription);\n            var querying = false, startedListening = false;\n            function shouldNotify() {\n                return keys(currentObs).some(function (key) {\n                    return accumMuts[key] && rangesOverlap(accumMuts[key], currentObs[key]);\n                });\n            }\n            var mutationListener = function (parts) {\n                extendObservabilitySet(accumMuts, parts);\n                if (shouldNotify()) {\n                    doQuery();\n                }\n            };\n            var doQuery = function () {\n                if (querying || closed)\n                    return;\n                accumMuts = {};\n                var subscr = {};\n                var ret = execute(subscr);\n                if (!startedListening) {\n                    globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, mutationListener);\n                    startedListening = true;\n                }\n                querying = true;\n                Promise.resolve(ret).then(function (result) {\n                    hasValue = true;\n                    currentValue = result;\n                    querying = false;\n                    if (closed)\n                        return;\n                    if (shouldNotify()) {\n                        doQuery();\n                    }\n                    else {\n                        accumMuts = {};\n                        currentObs = subscr;\n                        observer.next && observer.next(result);\n                    }\n                }, function (err) {\n                    querying = false;\n                    hasValue = false;\n                    observer.error && observer.error(err);\n                    subscription.unsubscribe();\n                });\n            };\n            doQuery();\n            return subscription;\n        });\n        observable.hasValue = function () { return hasValue; };\n        observable.getValue = function () { return currentValue; };\n        return observable;\n    }\n\n    var domDeps;\n    try {\n        domDeps = {\n            indexedDB: _global.indexedDB || _global.mozIndexedDB || _global.webkitIndexedDB || _global.msIndexedDB,\n            IDBKeyRange: _global.IDBKeyRange || _global.webkitIDBKeyRange\n        };\n    }\n    catch (e) {\n        domDeps = { indexedDB: null, IDBKeyRange: null };\n    }\n\n    var Dexie = Dexie$1;\n    props(Dexie, __assign(__assign({}, fullNameExceptions), {\n        delete: function (databaseName) {\n            var db = new Dexie(databaseName, { addons: [] });\n            return db.delete();\n        },\n        exists: function (name) {\n            return new Dexie(name, { addons: [] }).open().then(function (db) {\n                db.close();\n                return true;\n            }).catch('NoSuchDatabaseError', function () { return false; });\n        },\n        getDatabaseNames: function (cb) {\n            try {\n                return getDatabaseNames(Dexie.dependencies).then(cb);\n            }\n            catch (_a) {\n                return rejection(new exceptions.MissingAPI());\n            }\n        },\n        defineClass: function () {\n            function Class(content) {\n                extend(this, content);\n            }\n            return Class;\n        }, ignoreTransaction: function (scopeFunc) {\n            return PSD.trans ?\n                usePSD(PSD.transless, scopeFunc) :\n                scopeFunc();\n        }, vip: vip, async: function (generatorFn) {\n            return function () {\n                try {\n                    var rv = awaitIterator(generatorFn.apply(this, arguments));\n                    if (!rv || typeof rv.then !== 'function')\n                        return DexiePromise.resolve(rv);\n                    return rv;\n                }\n                catch (e) {\n                    return rejection(e);\n                }\n            };\n        }, spawn: function (generatorFn, args, thiz) {\n            try {\n                var rv = awaitIterator(generatorFn.apply(thiz, args || []));\n                if (!rv || typeof rv.then !== 'function')\n                    return DexiePromise.resolve(rv);\n                return rv;\n            }\n            catch (e) {\n                return rejection(e);\n            }\n        },\n        currentTransaction: {\n            get: function () { return PSD.trans || null; }\n        }, waitFor: function (promiseOrFunction, optionalTimeout) {\n            var promise = DexiePromise.resolve(typeof promiseOrFunction === 'function' ?\n                Dexie.ignoreTransaction(promiseOrFunction) :\n                promiseOrFunction)\n                .timeout(optionalTimeout || 60000);\n            return PSD.trans ?\n                PSD.trans.waitFor(promise) :\n                promise;\n        },\n        Promise: DexiePromise,\n        debug: {\n            get: function () { return debug; },\n            set: function (value) {\n                setDebug(value, value === 'dexie' ? function () { return true; } : dexieStackFrameFilter);\n            }\n        },\n        derive: derive, extend: extend, props: props, override: override,\n        Events: Events, on: globalEvents, liveQuery: liveQuery, extendObservabilitySet: extendObservabilitySet,\n        getByKeyPath: getByKeyPath, setByKeyPath: setByKeyPath, delByKeyPath: delByKeyPath, shallowClone: shallowClone, deepClone: deepClone, getObjectDiff: getObjectDiff, cmp: cmp, asap: asap$1,\n        minKey: minKey,\n        addons: [],\n        connections: connections,\n        errnames: errnames,\n        dependencies: domDeps,\n        semVer: DEXIE_VERSION, version: DEXIE_VERSION.split('.')\n            .map(function (n) { return parseInt(n); })\n            .reduce(function (p, c, i) { return p + (c / Math.pow(10, i * 2)); }) }));\n    Dexie.maxKey = getMaxKey(Dexie.dependencies.IDBKeyRange);\n\n    if (typeof dispatchEvent !== 'undefined' && typeof addEventListener !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (updatedParts) {\n            if (!propagatingLocally) {\n                var event_1;\n                if (isIEOrEdge) {\n                    event_1 = document.createEvent('CustomEvent');\n                    event_1.initCustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, true, true, updatedParts);\n                }\n                else {\n                    event_1 = new CustomEvent(STORAGE_MUTATED_DOM_EVENT_NAME, {\n                        detail: updatedParts\n                    });\n                }\n                propagatingLocally = true;\n                dispatchEvent(event_1);\n                propagatingLocally = false;\n            }\n        });\n        addEventListener(STORAGE_MUTATED_DOM_EVENT_NAME, function (_a) {\n            var detail = _a.detail;\n            if (!propagatingLocally) {\n                propagateLocally(detail);\n            }\n        });\n    }\n    function propagateLocally(updateParts) {\n        var wasMe = propagatingLocally;\n        try {\n            propagatingLocally = true;\n            globalEvents.storagemutated.fire(updateParts);\n        }\n        finally {\n            propagatingLocally = wasMe;\n        }\n    }\n    var propagatingLocally = false;\n\n    if (typeof BroadcastChannel !== 'undefined') {\n        var bc_1 = new BroadcastChannel(STORAGE_MUTATED_DOM_EVENT_NAME);\n        if (typeof bc_1.unref === 'function') {\n            bc_1.unref();\n        }\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            if (!propagatingLocally) {\n                bc_1.postMessage(changedParts);\n            }\n        });\n        bc_1.onmessage = function (ev) {\n            if (ev.data)\n                propagateLocally(ev.data);\n        };\n    }\n    else if (typeof self !== 'undefined' && typeof navigator !== 'undefined') {\n        globalEvents(DEXIE_STORAGE_MUTATED_EVENT_NAME, function (changedParts) {\n            try {\n                if (!propagatingLocally) {\n                    if (typeof localStorage !== 'undefined') {\n                        localStorage.setItem(STORAGE_MUTATED_DOM_EVENT_NAME, JSON.stringify({\n                            trig: Math.random(),\n                            changedParts: changedParts,\n                        }));\n                    }\n                    if (typeof self['clients'] === 'object') {\n                        __spreadArray([], self['clients'].matchAll({ includeUncontrolled: true }), true).forEach(function (client) {\n                            return client.postMessage({\n                                type: STORAGE_MUTATED_DOM_EVENT_NAME,\n                                changedParts: changedParts,\n                            });\n                        });\n                    }\n                }\n            }\n            catch (_a) { }\n        });\n        if (typeof addEventListener !== 'undefined') {\n            addEventListener('storage', function (ev) {\n                if (ev.key === STORAGE_MUTATED_DOM_EVENT_NAME) {\n                    var data = JSON.parse(ev.newValue);\n                    if (data)\n                        propagateLocally(data.changedParts);\n                }\n            });\n        }\n        var swContainer = self.document && navigator.serviceWorker;\n        if (swContainer) {\n            swContainer.addEventListener('message', propagateMessageLocally);\n        }\n    }\n    function propagateMessageLocally(_a) {\n        var data = _a.data;\n        if (data && data.type === STORAGE_MUTATED_DOM_EVENT_NAME) {\n            propagateLocally(data.changedParts);\n        }\n    }\n\n    DexiePromise.rejectionMapper = mapError;\n    setDebug(debug, dexieStackFrameFilter);\n\n    var namedExports = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        Dexie: Dexie$1,\n        liveQuery: liveQuery,\n        'default': Dexie$1,\n        RangeSet: RangeSet,\n        mergeRanges: mergeRanges,\n        rangesOverlap: rangesOverlap\n    });\n\n    __assign(Dexie$1, namedExports, { default: Dexie$1 });\n\n    return Dexie$1;\n\n}));\n//# sourceMappingURL=dexie.js.map\n","const denyList = new Set([\n  'ENOTFOUND',\n  'ENETUNREACH',\n\n  // SSL errors from https://github.com/nodejs/node/blob/fc8e3e2cdc521978351de257030db0076d79e0ab/src/crypto/crypto_common.cc#L301-L328\n  'UNABLE_TO_GET_ISSUER_CERT',\n  'UNABLE_TO_GET_CRL',\n  'UNABLE_TO_DECRYPT_CERT_SIGNATURE',\n  'UNABLE_TO_DECRYPT_CRL_SIGNATURE',\n  'UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY',\n  'CERT_SIGNATURE_FAILURE',\n  'CRL_SIGNATURE_FAILURE',\n  'CERT_NOT_YET_VALID',\n  'CERT_HAS_EXPIRED',\n  'CRL_NOT_YET_VALID',\n  'CRL_HAS_EXPIRED',\n  'ERROR_IN_CERT_NOT_BEFORE_FIELD',\n  'ERROR_IN_CERT_NOT_AFTER_FIELD',\n  'ERROR_IN_CRL_LAST_UPDATE_FIELD',\n  'ERROR_IN_CRL_NEXT_UPDATE_FIELD',\n  'OUT_OF_MEM',\n  'DEPTH_ZERO_SELF_SIGNED_CERT',\n  'SELF_SIGNED_CERT_IN_CHAIN',\n  'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',\n  'UNABLE_TO_VERIFY_LEAF_SIGNATURE',\n  'CERT_CHAIN_TOO_LONG',\n  'CERT_REVOKED',\n  'INVALID_CA',\n  'PATH_LENGTH_EXCEEDED',\n  'INVALID_PURPOSE',\n  'CERT_UNTRUSTED',\n  'CERT_REJECTED',\n  'HOSTNAME_MISMATCH'\n]);\n\n// TODO: Use `error?.code` when targeting Node.js 14\nexport default function isRetryAllowed(error) {\n  return !denyList.has(error && error.code);\n}\n","// Version 1.7.3\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n      (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.nobleEd25519 = {}));\n})(this, (function (exports) { 'use strict';\n\n  const _nodeResolve_empty = {};\n\n  const nodeCrypto = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    'default': _nodeResolve_empty\n  });\n\n  /*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */\n  const _0n = BigInt(0);\n  const _1n = BigInt(1);\n  const _2n = BigInt(2);\n  const _8n = BigInt(8);\n  const CU_O = BigInt('7237005577332262213973186563042994240857116359379907606001950938285454250989');\n  const CURVE = Object.freeze({\n    a: BigInt(-1),\n    d: BigInt('37095705934669439343138083508754565189542113879843219016388785533085940283555'),\n    P: BigInt('57896044618658097711785492504343953926634992332820282019728792003956564819949'),\n    l: CU_O,\n    n: CU_O,\n    h: BigInt(8),\n    Gx: BigInt('15112221349535400772501151409588531511454012693041857206046113283949847762202'),\n    Gy: BigInt('46316835694926478169428394003475163141307993866256225615783033603165251855960'),\n  });\n  const POW_2_256 = BigInt('0x10000000000000000000000000000000000000000000000000000000000000000');\n  const SQRT_M1 = BigInt('19681161376707505956807079304988542015446066515923890162744021073123829784752');\n  BigInt('6853475219497561581579357271197624642482790079785650197046958215289687604742');\n  const SQRT_AD_MINUS_ONE = BigInt('25063068953384623474111414158702152701244531502492656460079210482610430750235');\n  const INVSQRT_A_MINUS_D = BigInt('54469307008909316920995813868745141605393597292927456921205312896311721017578');\n  const ONE_MINUS_D_SQ = BigInt('1159843021668779879193775521855586647937357759715417654439879720876111806838');\n  const D_MINUS_ONE_SQ = BigInt('40440834346308536858101042469323190826248399146238708352240133220865137265952');\n  class ExtendedPoint {\n    constructor(x, y, z, t) {\n      this.x = x;\n      this.y = y;\n      this.z = z;\n      this.t = t;\n    }\n    static fromAffine(p) {\n      if (!(p instanceof Point)) {\n        throw new TypeError('ExtendedPoint#fromAffine: expected Point');\n      }\n      if (p.equals(Point.ZERO))\n        return ExtendedPoint.ZERO;\n      return new ExtendedPoint(p.x, p.y, _1n, mod(p.x * p.y));\n    }\n    static toAffineBatch(points) {\n      const toInv = invertBatch(points.map((p) => p.z));\n      return points.map((p, i) => p.toAffine(toInv[i]));\n    }\n    static normalizeZ(points) {\n      return this.toAffineBatch(points).map(this.fromAffine);\n    }\n    equals(other) {\n      assertExtPoint(other);\n      const { x: X1, y: Y1, z: Z1 } = this;\n      const { x: X2, y: Y2, z: Z2 } = other;\n      const X1Z2 = mod(X1 * Z2);\n      const X2Z1 = mod(X2 * Z1);\n      const Y1Z2 = mod(Y1 * Z2);\n      const Y2Z1 = mod(Y2 * Z1);\n      return X1Z2 === X2Z1 && Y1Z2 === Y2Z1;\n    }\n    negate() {\n      return new ExtendedPoint(mod(-this.x), this.y, this.z, mod(-this.t));\n    }\n    double() {\n      const { x: X1, y: Y1, z: Z1 } = this;\n      const { a } = CURVE;\n      const A = mod(X1 * X1);\n      const B = mod(Y1 * Y1);\n      const C = mod(_2n * mod(Z1 * Z1));\n      const D = mod(a * A);\n      const x1y1 = X1 + Y1;\n      const E = mod(mod(x1y1 * x1y1) - A - B);\n      const G = D + B;\n      const F = G - C;\n      const H = D - B;\n      const X3 = mod(E * F);\n      const Y3 = mod(G * H);\n      const T3 = mod(E * H);\n      const Z3 = mod(F * G);\n      return new ExtendedPoint(X3, Y3, Z3, T3);\n    }\n    add(other) {\n      assertExtPoint(other);\n      const { x: X1, y: Y1, z: Z1, t: T1 } = this;\n      const { x: X2, y: Y2, z: Z2, t: T2 } = other;\n      const A = mod((Y1 - X1) * (Y2 + X2));\n      const B = mod((Y1 + X1) * (Y2 - X2));\n      const F = mod(B - A);\n      if (F === _0n)\n        return this.double();\n      const C = mod(Z1 * _2n * T2);\n      const D = mod(T1 * _2n * Z2);\n      const E = D + C;\n      const G = B + A;\n      const H = D - C;\n      const X3 = mod(E * F);\n      const Y3 = mod(G * H);\n      const T3 = mod(E * H);\n      const Z3 = mod(F * G);\n      return new ExtendedPoint(X3, Y3, Z3, T3);\n    }\n    subtract(other) {\n      return this.add(other.negate());\n    }\n    precomputeWindow(W) {\n      const windows = 1 + 256 / W;\n      const points = [];\n      let p = this;\n      let base = p;\n      for (let window = 0; window < windows; window++) {\n        base = p;\n        points.push(base);\n        for (let i = 1; i < 2 ** (W - 1); i++) {\n          base = base.add(p);\n          points.push(base);\n        }\n        p = base.double();\n      }\n      return points;\n    }\n    wNAF(n, affinePoint) {\n      if (!affinePoint && this.equals(ExtendedPoint.BASE))\n        affinePoint = Point.BASE;\n      const W = (affinePoint && affinePoint._WINDOW_SIZE) || 1;\n      if (256 % W) {\n        throw new Error('Point#wNAF: Invalid precomputation window, must be power of 2');\n      }\n      let precomputes = affinePoint && pointPrecomputes.get(affinePoint);\n      if (!precomputes) {\n        precomputes = this.precomputeWindow(W);\n        if (affinePoint && W !== 1) {\n          precomputes = ExtendedPoint.normalizeZ(precomputes);\n          pointPrecomputes.set(affinePoint, precomputes);\n        }\n      }\n      let p = ExtendedPoint.ZERO;\n      let f = ExtendedPoint.BASE;\n      const windows = 1 + 256 / W;\n      const windowSize = 2 ** (W - 1);\n      const mask = BigInt(2 ** W - 1);\n      const maxNumber = 2 ** W;\n      const shiftBy = BigInt(W);\n      for (let window = 0; window < windows; window++) {\n        const offset = window * windowSize;\n        let wbits = Number(n & mask);\n        n >>= shiftBy;\n        if (wbits > windowSize) {\n          wbits -= maxNumber;\n          n += _1n;\n        }\n        const offset1 = offset;\n        const offset2 = offset + Math.abs(wbits) - 1;\n        const cond1 = window % 2 !== 0;\n        const cond2 = wbits < 0;\n        if (wbits === 0) {\n          f = f.add(constTimeNegate(cond1, precomputes[offset1]));\n        }\n        else {\n          p = p.add(constTimeNegate(cond2, precomputes[offset2]));\n        }\n      }\n      return ExtendedPoint.normalizeZ([p, f])[0];\n    }\n    multiply(scalar, affinePoint) {\n      return this.wNAF(normalizeScalar(scalar, CURVE.l), affinePoint);\n    }\n    multiplyUnsafe(scalar) {\n      let n = normalizeScalar(scalar, CURVE.l, false);\n      const G = ExtendedPoint.BASE;\n      const P0 = ExtendedPoint.ZERO;\n      if (n === _0n)\n        return P0;\n      if (this.equals(P0) || n === _1n)\n        return this;\n      if (this.equals(G))\n        return this.wNAF(n);\n      let p = P0;\n      let d = this;\n      while (n > _0n) {\n        if (n & _1n)\n          p = p.add(d);\n        d = d.double();\n        n >>= _1n;\n      }\n      return p;\n    }\n    isSmallOrder() {\n      return this.multiplyUnsafe(CURVE.h).equals(ExtendedPoint.ZERO);\n    }\n    isTorsionFree() {\n      let p = this.multiplyUnsafe(CURVE.l / _2n).double();\n      if (CURVE.l % _2n)\n        p = p.add(this);\n      return p.equals(ExtendedPoint.ZERO);\n    }\n    toAffine(invZ) {\n      const { x, y, z } = this;\n      const is0 = this.equals(ExtendedPoint.ZERO);\n      if (invZ == null)\n        invZ = is0 ? _8n : invert(z);\n      const ax = mod(x * invZ);\n      const ay = mod(y * invZ);\n      const zz = mod(z * invZ);\n      if (is0)\n        return Point.ZERO;\n      if (zz !== _1n)\n        throw new Error('invZ was invalid');\n      return new Point(ax, ay);\n    }\n    fromRistrettoBytes() {\n      legacyRist();\n    }\n    toRistrettoBytes() {\n      legacyRist();\n    }\n    fromRistrettoHash() {\n      legacyRist();\n    }\n  }\n  ExtendedPoint.BASE = new ExtendedPoint(CURVE.Gx, CURVE.Gy, _1n, mod(CURVE.Gx * CURVE.Gy));\n  ExtendedPoint.ZERO = new ExtendedPoint(_0n, _1n, _1n, _0n);\n  function constTimeNegate(condition, item) {\n    const neg = item.negate();\n    return condition ? neg : item;\n  }\n  function assertExtPoint(other) {\n    if (!(other instanceof ExtendedPoint))\n      throw new TypeError('ExtendedPoint expected');\n  }\n  function assertRstPoint(other) {\n    if (!(other instanceof RistrettoPoint))\n      throw new TypeError('RistrettoPoint expected');\n  }\n  function legacyRist() {\n    throw new Error('Legacy method: switch to RistrettoPoint');\n  }\n  class RistrettoPoint {\n    constructor(ep) {\n      this.ep = ep;\n    }\n    static calcElligatorRistrettoMap(r0) {\n      const { d } = CURVE;\n      const r = mod(SQRT_M1 * r0 * r0);\n      const Ns = mod((r + _1n) * ONE_MINUS_D_SQ);\n      let c = BigInt(-1);\n      const D = mod((c - d * r) * mod(r + d));\n      let { isValid: Ns_D_is_sq, value: s } = uvRatio(Ns, D);\n      let s_ = mod(s * r0);\n      if (!edIsNegative(s_))\n        s_ = mod(-s_);\n      if (!Ns_D_is_sq)\n        s = s_;\n      if (!Ns_D_is_sq)\n        c = r;\n      const Nt = mod(c * (r - _1n) * D_MINUS_ONE_SQ - D);\n      const s2 = s * s;\n      const W0 = mod((s + s) * D);\n      const W1 = mod(Nt * SQRT_AD_MINUS_ONE);\n      const W2 = mod(_1n - s2);\n      const W3 = mod(_1n + s2);\n      return new ExtendedPoint(mod(W0 * W3), mod(W2 * W1), mod(W1 * W3), mod(W0 * W2));\n    }\n    static hashToCurve(hex) {\n      hex = ensureBytes(hex, 64);\n      const r1 = bytes255ToNumberLE(hex.slice(0, 32));\n      const R1 = this.calcElligatorRistrettoMap(r1);\n      const r2 = bytes255ToNumberLE(hex.slice(32, 64));\n      const R2 = this.calcElligatorRistrettoMap(r2);\n      return new RistrettoPoint(R1.add(R2));\n    }\n    static fromHex(hex) {\n      hex = ensureBytes(hex, 32);\n      const { a, d } = CURVE;\n      const emsg = 'RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint';\n      const s = bytes255ToNumberLE(hex);\n      if (!equalBytes(numberTo32BytesLE(s), hex) || edIsNegative(s))\n        throw new Error(emsg);\n      const s2 = mod(s * s);\n      const u1 = mod(_1n + a * s2);\n      const u2 = mod(_1n - a * s2);\n      const u1_2 = mod(u1 * u1);\n      const u2_2 = mod(u2 * u2);\n      const v = mod(a * d * u1_2 - u2_2);\n      const { isValid, value: I } = invertSqrt(mod(v * u2_2));\n      const Dx = mod(I * u2);\n      const Dy = mod(I * Dx * v);\n      let x = mod((s + s) * Dx);\n      if (edIsNegative(x))\n        x = mod(-x);\n      const y = mod(u1 * Dy);\n      const t = mod(x * y);\n      if (!isValid || edIsNegative(t) || y === _0n)\n        throw new Error(emsg);\n      return new RistrettoPoint(new ExtendedPoint(x, y, _1n, t));\n    }\n    toRawBytes() {\n      let { x, y, z, t } = this.ep;\n      const u1 = mod(mod(z + y) * mod(z - y));\n      const u2 = mod(x * y);\n      const u2sq = mod(u2 * u2);\n      const { value: invsqrt } = invertSqrt(mod(u1 * u2sq));\n      const D1 = mod(invsqrt * u1);\n      const D2 = mod(invsqrt * u2);\n      const zInv = mod(D1 * D2 * t);\n      let D;\n      if (edIsNegative(t * zInv)) {\n        let _x = mod(y * SQRT_M1);\n        let _y = mod(x * SQRT_M1);\n        x = _x;\n        y = _y;\n        D = mod(D1 * INVSQRT_A_MINUS_D);\n      }\n      else {\n        D = D2;\n      }\n      if (edIsNegative(x * zInv))\n        y = mod(-y);\n      let s = mod((z - y) * D);\n      if (edIsNegative(s))\n        s = mod(-s);\n      return numberTo32BytesLE(s);\n    }\n    toHex() {\n      return bytesToHex(this.toRawBytes());\n    }\n    toString() {\n      return this.toHex();\n    }\n    equals(other) {\n      assertRstPoint(other);\n      const a = this.ep;\n      const b = other.ep;\n      const one = mod(a.x * b.y) === mod(a.y * b.x);\n      const two = mod(a.y * b.y) === mod(a.x * b.x);\n      return one || two;\n    }\n    add(other) {\n      assertRstPoint(other);\n      return new RistrettoPoint(this.ep.add(other.ep));\n    }\n    subtract(other) {\n      assertRstPoint(other);\n      return new RistrettoPoint(this.ep.subtract(other.ep));\n    }\n    multiply(scalar) {\n      return new RistrettoPoint(this.ep.multiply(scalar));\n    }\n    multiplyUnsafe(scalar) {\n      return new RistrettoPoint(this.ep.multiplyUnsafe(scalar));\n    }\n  }\n  RistrettoPoint.BASE = new RistrettoPoint(ExtendedPoint.BASE);\n  RistrettoPoint.ZERO = new RistrettoPoint(ExtendedPoint.ZERO);\n  const pointPrecomputes = new WeakMap();\n  class Point {\n    constructor(x, y) {\n      this.x = x;\n      this.y = y;\n    }\n    _setWindowSize(windowSize) {\n      this._WINDOW_SIZE = windowSize;\n      pointPrecomputes.delete(this);\n    }\n    static fromHex(hex, strict = true) {\n      const { d, P } = CURVE;\n      hex = ensureBytes(hex, 32);\n      const normed = hex.slice();\n      normed[31] = hex[31] & ~0x80;\n      const y = bytesToNumberLE(normed);\n      if (strict && y >= P)\n        throw new Error('Expected 0 < hex < P');\n      if (!strict && y >= POW_2_256)\n        throw new Error('Expected 0 < hex < 2**256');\n      const y2 = mod(y * y);\n      const u = mod(y2 - _1n);\n      const v = mod(d * y2 + _1n);\n      let { isValid, value: x } = uvRatio(u, v);\n      if (!isValid)\n        throw new Error('Point.fromHex: invalid y coordinate');\n      const isXOdd = (x & _1n) === _1n;\n      const isLastByteOdd = (hex[31] & 0x80) !== 0;\n      if (isLastByteOdd !== isXOdd) {\n        x = mod(-x);\n      }\n      return new Point(x, y);\n    }\n    static async fromPrivateKey(privateKey) {\n      return (await getExtendedPublicKey(privateKey)).point;\n    }\n    toRawBytes() {\n      const bytes = numberTo32BytesLE(this.y);\n      bytes[31] |= this.x & _1n ? 0x80 : 0;\n      return bytes;\n    }\n    toHex() {\n      return bytesToHex(this.toRawBytes());\n    }\n    toX25519() {\n      const { y } = this;\n      const u = mod((_1n + y) * invert(_1n - y));\n      return numberTo32BytesLE(u);\n    }\n    isTorsionFree() {\n      return ExtendedPoint.fromAffine(this).isTorsionFree();\n    }\n    equals(other) {\n      return this.x === other.x && this.y === other.y;\n    }\n    negate() {\n      return new Point(mod(-this.x), this.y);\n    }\n    add(other) {\n      return ExtendedPoint.fromAffine(this).add(ExtendedPoint.fromAffine(other)).toAffine();\n    }\n    subtract(other) {\n      return this.add(other.negate());\n    }\n    multiply(scalar) {\n      return ExtendedPoint.fromAffine(this).multiply(scalar, this).toAffine();\n    }\n  }\n  Point.BASE = new Point(CURVE.Gx, CURVE.Gy);\n  Point.ZERO = new Point(_0n, _1n);\n  class Signature {\n    constructor(r, s) {\n      this.r = r;\n      this.s = s;\n      this.assertValidity();\n    }\n    static fromHex(hex) {\n      const bytes = ensureBytes(hex, 64);\n      const r = Point.fromHex(bytes.slice(0, 32), false);\n      const s = bytesToNumberLE(bytes.slice(32, 64));\n      return new Signature(r, s);\n    }\n    assertValidity() {\n      const { r, s } = this;\n      if (!(r instanceof Point))\n        throw new Error('Expected Point instance');\n      normalizeScalar(s, CURVE.l, false);\n      return this;\n    }\n    toRawBytes() {\n      const u8 = new Uint8Array(64);\n      u8.set(this.r.toRawBytes());\n      u8.set(numberTo32BytesLE(this.s), 32);\n      return u8;\n    }\n    toHex() {\n      return bytesToHex(this.toRawBytes());\n    }\n  }\n  function concatBytes(...arrays) {\n    if (!arrays.every((a) => a instanceof Uint8Array))\n      throw new Error('Expected Uint8Array list');\n    if (arrays.length === 1)\n      return arrays[0];\n    const length = arrays.reduce((a, arr) => a + arr.length, 0);\n    const result = new Uint8Array(length);\n    for (let i = 0, pad = 0; i < arrays.length; i++) {\n      const arr = arrays[i];\n      result.set(arr, pad);\n      pad += arr.length;\n    }\n    return result;\n  }\n  const hexes = Array.from({ length: 256 }, (v, i) => i.toString(16).padStart(2, '0'));\n  function bytesToHex(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n      throw new Error('Uint8Array expected');\n    let hex = '';\n    for (let i = 0; i < uint8a.length; i++) {\n      hex += hexes[uint8a[i]];\n    }\n    return hex;\n  }\n  function hexToBytes(hex) {\n    if (typeof hex !== 'string') {\n      throw new TypeError('hexToBytes: expected string, got ' + typeof hex);\n    }\n    if (hex.length % 2)\n      throw new Error('hexToBytes: received invalid unpadded hex');\n    const array = new Uint8Array(hex.length / 2);\n    for (let i = 0; i < array.length; i++) {\n      const j = i * 2;\n      const hexByte = hex.slice(j, j + 2);\n      const byte = Number.parseInt(hexByte, 16);\n      if (Number.isNaN(byte) || byte < 0)\n        throw new Error('Invalid byte sequence');\n      array[i] = byte;\n    }\n    return array;\n  }\n  function numberTo32BytesBE(num) {\n    const length = 32;\n    const hex = num.toString(16).padStart(length * 2, '0');\n    return hexToBytes(hex);\n  }\n  function numberTo32BytesLE(num) {\n    return numberTo32BytesBE(num).reverse();\n  }\n  function edIsNegative(num) {\n    return (mod(num) & _1n) === _1n;\n  }\n  function bytesToNumberLE(uint8a) {\n    if (!(uint8a instanceof Uint8Array))\n      throw new Error('Expected Uint8Array');\n    return BigInt('0x' + bytesToHex(Uint8Array.from(uint8a).reverse()));\n  }\n  const MAX_255B = BigInt('0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff');\n  function bytes255ToNumberLE(bytes) {\n    return mod(bytesToNumberLE(bytes) & MAX_255B);\n  }\n  function mod(a, b = CURVE.P) {\n    const res = a % b;\n    return res >= _0n ? res : b + res;\n  }\n  function invert(number, modulo = CURVE.P) {\n    if (number === _0n || modulo <= _0n) {\n      throw new Error(`invert: expected positive integers, got n=${number} mod=${modulo}`);\n    }\n    let a = mod(number, modulo);\n    let b = modulo;\n    let x = _0n, u = _1n;\n    while (a !== _0n) {\n      const q = b / a;\n      const r = b % a;\n      const m = x - u * q;\n      b = a, a = r, x = u, u = m;\n    }\n    const gcd = b;\n    if (gcd !== _1n)\n      throw new Error('invert: does not exist');\n    return mod(x, modulo);\n  }\n  function invertBatch(nums, p = CURVE.P) {\n    const tmp = new Array(nums.length);\n    const lastMultiplied = nums.reduce((acc, num, i) => {\n      if (num === _0n)\n        return acc;\n      tmp[i] = acc;\n      return mod(acc * num, p);\n    }, _1n);\n    const inverted = invert(lastMultiplied, p);\n    nums.reduceRight((acc, num, i) => {\n      if (num === _0n)\n        return acc;\n      tmp[i] = mod(acc * tmp[i], p);\n      return mod(acc * num, p);\n    }, inverted);\n    return tmp;\n  }\n  function pow2(x, power) {\n    const { P } = CURVE;\n    let res = x;\n    while (power-- > _0n) {\n      res *= res;\n      res %= P;\n    }\n    return res;\n  }\n  function pow_2_252_3(x) {\n    const { P } = CURVE;\n    const _5n = BigInt(5);\n    const _10n = BigInt(10);\n    const _20n = BigInt(20);\n    const _40n = BigInt(40);\n    const _80n = BigInt(80);\n    const x2 = (x * x) % P;\n    const b2 = (x2 * x) % P;\n    const b4 = (pow2(b2, _2n) * b2) % P;\n    const b5 = (pow2(b4, _1n) * x) % P;\n    const b10 = (pow2(b5, _5n) * b5) % P;\n    const b20 = (pow2(b10, _10n) * b10) % P;\n    const b40 = (pow2(b20, _20n) * b20) % P;\n    const b80 = (pow2(b40, _40n) * b40) % P;\n    const b160 = (pow2(b80, _80n) * b80) % P;\n    const b240 = (pow2(b160, _80n) * b80) % P;\n    const b250 = (pow2(b240, _10n) * b10) % P;\n    const pow_p_5_8 = (pow2(b250, _2n) * x) % P;\n    return { pow_p_5_8, b2 };\n  }\n  function uvRatio(u, v) {\n    const v3 = mod(v * v * v);\n    const v7 = mod(v3 * v3 * v);\n    const pow = pow_2_252_3(u * v7).pow_p_5_8;\n    let x = mod(u * v3 * pow);\n    const vx2 = mod(v * x * x);\n    const root1 = x;\n    const root2 = mod(x * SQRT_M1);\n    const useRoot1 = vx2 === u;\n    const useRoot2 = vx2 === mod(-u);\n    const noRoot = vx2 === mod(-u * SQRT_M1);\n    if (useRoot1)\n      x = root1;\n    if (useRoot2 || noRoot)\n      x = root2;\n    if (edIsNegative(x))\n      x = mod(-x);\n    return { isValid: useRoot1 || useRoot2, value: x };\n  }\n  function invertSqrt(number) {\n    return uvRatio(_1n, number);\n  }\n  function modlLE(hash) {\n    return mod(bytesToNumberLE(hash), CURVE.l);\n  }\n  function equalBytes(b1, b2) {\n    if (b1.length !== b2.length) {\n      return false;\n    }\n    for (let i = 0; i < b1.length; i++) {\n      if (b1[i] !== b2[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n  function ensureBytes(hex, expectedLength) {\n    const bytes = hex instanceof Uint8Array ? Uint8Array.from(hex) : hexToBytes(hex);\n    if (typeof expectedLength === 'number' && bytes.length !== expectedLength)\n      throw new Error(`Expected ${expectedLength} bytes`);\n    return bytes;\n  }\n  function normalizeScalar(num, max, strict = true) {\n    if (!max)\n      throw new TypeError('Specify max value');\n    if (typeof num === 'number' && Number.isSafeInteger(num))\n      num = BigInt(num);\n    if (typeof num === 'bigint' && num < max) {\n      if (strict) {\n        if (_0n < num)\n          return num;\n      }\n      else {\n        if (_0n <= num)\n          return num;\n      }\n    }\n    throw new TypeError('Expected valid scalar: 0 < scalar < max');\n  }\n  function adjustBytes25519(bytes) {\n    bytes[0] &= 248;\n    bytes[31] &= 127;\n    bytes[31] |= 64;\n    return bytes;\n  }\n  function decodeScalar25519(n) {\n    return bytesToNumberLE(adjustBytes25519(ensureBytes(n, 32)));\n  }\n  function checkPrivateKey(key) {\n    key =\n      typeof key === 'bigint' || typeof key === 'number'\n        ? numberTo32BytesBE(normalizeScalar(key, POW_2_256))\n        : ensureBytes(key);\n    if (key.length !== 32)\n      throw new Error(`Expected 32 bytes`);\n    return key;\n  }\n  function getKeyFromHash(hashed) {\n    const head = adjustBytes25519(hashed.slice(0, 32));\n    const prefix = hashed.slice(32, 64);\n    const scalar = modlLE(head);\n    const point = Point.BASE.multiply(scalar);\n    const pointBytes = point.toRawBytes();\n    return { head, prefix, scalar, point, pointBytes };\n  }\n  let _sha512Sync;\n  function sha512s(...m) {\n    if (typeof _sha512Sync !== 'function')\n      throw new Error('utils.sha512Sync must be set to use sync methods');\n    return _sha512Sync(...m);\n  }\n  async function getExtendedPublicKey(key) {\n    return getKeyFromHash(await utils.sha512(checkPrivateKey(key)));\n  }\n  function getExtendedPublicKeySync(key) {\n    return getKeyFromHash(sha512s(checkPrivateKey(key)));\n  }\n  async function getPublicKey(privateKey) {\n    return (await getExtendedPublicKey(privateKey)).pointBytes;\n  }\n  function getPublicKeySync(privateKey) {\n    return getExtendedPublicKeySync(privateKey).pointBytes;\n  }\n  async function sign(message, privateKey) {\n    message = ensureBytes(message);\n    const { prefix, scalar, pointBytes } = await getExtendedPublicKey(privateKey);\n    const r = modlLE(await utils.sha512(prefix, message));\n    const R = Point.BASE.multiply(r);\n    const k = modlLE(await utils.sha512(R.toRawBytes(), pointBytes, message));\n    const s = mod(r + k * scalar, CURVE.l);\n    return new Signature(R, s).toRawBytes();\n  }\n  function signSync(message, privateKey) {\n    message = ensureBytes(message);\n    const { prefix, scalar, pointBytes } = getExtendedPublicKeySync(privateKey);\n    const r = modlLE(sha512s(prefix, message));\n    const R = Point.BASE.multiply(r);\n    const k = modlLE(sha512s(R.toRawBytes(), pointBytes, message));\n    const s = mod(r + k * scalar, CURVE.l);\n    return new Signature(R, s).toRawBytes();\n  }\n  function prepareVerification(sig, message, publicKey) {\n    message = ensureBytes(message);\n    if (!(publicKey instanceof Point))\n      publicKey = Point.fromHex(publicKey, false);\n    const { r, s } = sig instanceof Signature ? sig.assertValidity() : Signature.fromHex(sig);\n    const SB = ExtendedPoint.BASE.multiplyUnsafe(s);\n    return { r, s, SB, pub: publicKey, msg: message };\n  }\n  function finishVerification(publicKey, r, SB, hashed) {\n    const k = modlLE(hashed);\n    const kA = ExtendedPoint.fromAffine(publicKey).multiplyUnsafe(k);\n    const RkA = ExtendedPoint.fromAffine(r).add(kA);\n    return RkA.subtract(SB).multiplyUnsafe(CURVE.h).equals(ExtendedPoint.ZERO);\n  }\n  async function verify(sig, message, publicKey) {\n    const { r, SB, msg, pub } = prepareVerification(sig, message, publicKey);\n    const hashed = await utils.sha512(r.toRawBytes(), pub.toRawBytes(), msg);\n    return finishVerification(pub, r, SB, hashed);\n  }\n  function verifySync(sig, message, publicKey) {\n    const { r, SB, msg, pub } = prepareVerification(sig, message, publicKey);\n    const hashed = sha512s(r.toRawBytes(), pub.toRawBytes(), msg);\n    return finishVerification(pub, r, SB, hashed);\n  }\n  const sync = {\n    getExtendedPublicKey: getExtendedPublicKeySync,\n    getPublicKey: getPublicKeySync,\n    sign: signSync,\n    verify: verifySync,\n  };\n  async function getSharedSecret(privateKey, publicKey) {\n    const { head } = await getExtendedPublicKey(privateKey);\n    const u = Point.fromHex(publicKey).toX25519();\n    return curve25519.scalarMult(head, u);\n  }\n  Point.BASE._setWindowSize(8);\n  function cswap(swap, x_2, x_3) {\n    const dummy = mod(swap * (x_2 - x_3));\n    x_2 = mod(x_2 - dummy);\n    x_3 = mod(x_3 + dummy);\n    return [x_2, x_3];\n  }\n  function montgomeryLadder(pointU, scalar) {\n    const { P } = CURVE;\n    const u = normalizeScalar(pointU, P);\n    const k = normalizeScalar(scalar, P);\n    const a24 = BigInt(121665);\n    const x_1 = u;\n    let x_2 = _1n;\n    let z_2 = _0n;\n    let x_3 = u;\n    let z_3 = _1n;\n    let swap = _0n;\n    let sw;\n    for (let t = BigInt(255 - 1); t >= _0n; t--) {\n      const k_t = (k >> t) & _1n;\n      swap ^= k_t;\n      sw = cswap(swap, x_2, x_3);\n      x_2 = sw[0];\n      x_3 = sw[1];\n      sw = cswap(swap, z_2, z_3);\n      z_2 = sw[0];\n      z_3 = sw[1];\n      swap = k_t;\n      const A = x_2 + z_2;\n      const AA = mod(A * A);\n      const B = x_2 - z_2;\n      const BB = mod(B * B);\n      const E = AA - BB;\n      const C = x_3 + z_3;\n      const D = x_3 - z_3;\n      const DA = mod(D * A);\n      const CB = mod(C * B);\n      const dacb = DA + CB;\n      const da_cb = DA - CB;\n      x_3 = mod(dacb * dacb);\n      z_3 = mod(x_1 * mod(da_cb * da_cb));\n      x_2 = mod(AA * BB);\n      z_2 = mod(E * (AA + mod(a24 * E)));\n    }\n    sw = cswap(swap, x_2, x_3);\n    x_2 = sw[0];\n    x_3 = sw[1];\n    sw = cswap(swap, z_2, z_3);\n    z_2 = sw[0];\n    z_3 = sw[1];\n    const { pow_p_5_8, b2 } = pow_2_252_3(z_2);\n    const xp2 = mod(pow2(pow_p_5_8, BigInt(3)) * b2);\n    return mod(x_2 * xp2);\n  }\n  function encodeUCoordinate(u) {\n    return numberTo32BytesLE(mod(u, CURVE.P));\n  }\n  function decodeUCoordinate(uEnc) {\n    const u = ensureBytes(uEnc, 32);\n    u[31] &= 127;\n    return bytesToNumberLE(u);\n  }\n  const curve25519 = {\n    BASE_POINT_U: '0900000000000000000000000000000000000000000000000000000000000000',\n    scalarMult(privateKey, publicKey) {\n      const u = decodeUCoordinate(publicKey);\n      const p = decodeScalar25519(privateKey);\n      const pu = montgomeryLadder(u, p);\n      if (pu === _0n)\n        throw new Error('Invalid private or public key received');\n      return encodeUCoordinate(pu);\n    },\n    scalarMultBase(privateKey) {\n      return curve25519.scalarMult(privateKey, curve25519.BASE_POINT_U);\n    },\n  };\n  const crypto = {\n    node: nodeCrypto,\n    web: typeof self === 'object' && 'crypto' in self ? self.crypto : undefined,\n  };\n  const utils = {\n    bytesToHex,\n    hexToBytes,\n    concatBytes,\n    getExtendedPublicKey,\n    mod,\n    invert,\n    TORSION_SUBGROUP: [\n      '0100000000000000000000000000000000000000000000000000000000000000',\n      'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a',\n      '0000000000000000000000000000000000000000000000000000000000000080',\n      '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05',\n      'ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f',\n      '26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85',\n      '0000000000000000000000000000000000000000000000000000000000000000',\n      'c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa',\n    ],\n    hashToPrivateScalar: (hash) => {\n      hash = ensureBytes(hash);\n      if (hash.length < 40 || hash.length > 1024)\n        throw new Error('Expected 40-1024 bytes of private key as per FIPS 186');\n      return mod(bytesToNumberLE(hash), CURVE.l - _1n) + _1n;\n    },\n    randomBytes: (bytesLength = 32) => {\n      if (crypto.web) {\n        return crypto.web.getRandomValues(new Uint8Array(bytesLength));\n      }\n      else if (crypto.node) {\n        const { randomBytes } = crypto.node;\n        return new Uint8Array(randomBytes(bytesLength).buffer);\n      }\n      else {\n        throw new Error(\"The environment doesn't have randomBytes function\");\n      }\n    },\n    randomPrivateKey: () => {\n      return utils.randomBytes(32);\n    },\n    sha512: async (...messages) => {\n      const message = concatBytes(...messages);\n      if (crypto.web) {\n        const buffer = await crypto.web.subtle.digest('SHA-512', message.buffer);\n        return new Uint8Array(buffer);\n      }\n      else if (crypto.node) {\n        return Uint8Array.from(crypto.node.createHash('sha512').update(message).digest());\n      }\n      else {\n        throw new Error(\"The environment doesn't have sha512 function\");\n      }\n    },\n    precompute(windowSize = 8, point = Point.BASE) {\n      const cached = point.equals(Point.BASE) ? point : new Point(point.x, point.y);\n      cached._setWindowSize(windowSize);\n      cached.multiply(_2n);\n      return cached;\n    },\n    sha512Sync: undefined,\n  };\n  Object.defineProperties(utils, {\n    sha512Sync: {\n      configurable: false,\n      get() {\n        return _sha512Sync;\n      },\n      set(val) {\n        if (!_sha512Sync)\n          _sha512Sync = val;\n      },\n    },\n  });\n\n  exports.CURVE = CURVE;\n  exports.ExtendedPoint = ExtendedPoint;\n  exports.Point = Point;\n  exports.RistrettoPoint = RistrettoPoint;\n  exports.Signature = Signature;\n  exports.curve25519 = curve25519;\n  exports.getPublicKey = getPublicKey;\n  exports.getSharedSecret = getSharedSecret;\n  exports.sign = sign;\n  exports.sync = sync;\n  exports.utils = utils;\n  exports.verify = verify;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n}));\n","export default class Deferred<T = void> {\n  promise: Promise<T>;\n\n  reject!: (reason?: any) => void;\n\n  resolve!: (value: T | PromiseLike<T>) => void;\n\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.reject = reject;\n      this.resolve = resolve;\n    });\n  }\n\n  static resolved(): Deferred<void>;\n  static resolved<T>(value: T): Deferred<T>;\n  static resolved<T>(value?: T): Deferred<T | void> {\n    const deferred = new Deferred<T | void>();\n    deferred.resolve(value);\n    return deferred;\n  }\n}\n","import { bigintReviver } from './bigint';\nimport generateUniqueId from './generateUniqueId';\nimport { logDebugError } from './logs';\n\nexport interface CancellableCallback {\n  (\n    ...args: any[]\n  ): void;\n\n  isCanceled?: boolean;\n  acceptsBuffer?: boolean;\n}\n\ntype InitData = {\n  channel?: string;\n  type: 'init';\n  messageId?: string;\n  name: 'init';\n  args: any;\n};\n\ntype CallMethodData = {\n  channel?: string;\n  type: 'callMethod';\n  messageId?: string;\n  name: string;\n  args: any;\n  withCallback?: boolean;\n};\n\nexport type OriginMessageData = InitData | CallMethodData | {\n  channel?: string;\n  type: 'cancelProgress';\n  messageId: string;\n};\n\nexport interface OriginMessageEvent {\n  data: OriginMessageData;\n}\n\nexport type ApiUpdate =\n  { type: string }\n  & any;\n\nexport type WorkerMessageData = {\n  channel?: string;\n  type: 'update';\n  update: ApiUpdate;\n} | {\n  channel?: string;\n  type: 'methodResponse';\n  messageId: string;\n  response?: any;\n  error?: { message: string };\n} | {\n  channel?: string;\n  type: 'methodCallback';\n  messageId: string;\n  callbackArgs: any[];\n} | {\n  channel?: string;\n  type: 'unhandledError';\n  error?: { message: string };\n};\n\nexport interface WorkerMessageEvent {\n  data: WorkerMessageData;\n}\n\ninterface RequestStates {\n  messageId: string;\n  resolve: Function;\n  reject: Function;\n  callback: AnyToVoidFunction;\n}\n\ntype InputRequestTypes = Record<string, AnyFunction>;\n\ntype Values<T> = T[keyof T];\nexport type RequestTypes<T extends InputRequestTypes> = Values<{\n  [Name in keyof (T)]: {\n    name: Name & string;\n    args: Parameters<T[Name]>;\n  }\n}>;\n\nclass ConnectorClass<T extends InputRequestTypes> {\n  private requestStates = new Map<string, RequestStates>();\n\n  private requestStatesByCallback = new Map<AnyToVoidFunction, RequestStates>();\n\n  constructor(\n    public target: Worker | Window | chrome.runtime.Port | DedicatedWorkerGlobalScope,\n    private onUpdate?: (update: ApiUpdate) => void,\n    private channel?: string,\n    private shouldUseJson?: boolean,\n    private targetOrigin = '*',\n  ) {\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public destroy() {\n  }\n\n  init(...args: any[]) {\n    this.postMessage({\n      type: 'init',\n      args,\n    });\n  }\n\n  request(messageData: RequestTypes<T>) {\n    const { requestStates, requestStatesByCallback } = this;\n\n    const messageId = generateUniqueId();\n    const payload: CallMethodData = {\n      type: 'callMethod',\n      messageId,\n      ...messageData,\n    };\n\n    const requestState = { messageId } as RequestStates;\n\n    // Re-wrap type because of `postMessage`\n    const promise: Promise<any> = new Promise((resolve, reject) => {\n      Object.assign(requestState, { resolve, reject });\n    });\n\n    if (typeof payload.args[payload.args.length - 1] === 'function') {\n      payload.withCallback = true;\n\n      const callback = payload.args.pop() as AnyToVoidFunction;\n      requestState.callback = callback;\n      requestStatesByCallback.set(callback, requestState);\n    }\n\n    requestStates.set(messageId, requestState);\n    promise\n      .catch(() => undefined)\n      .finally(() => {\n        requestStates.delete(messageId);\n\n        if (requestState.callback) {\n          requestStatesByCallback.delete(requestState.callback);\n        }\n      });\n\n    this.postMessage(payload);\n\n    return promise;\n  }\n\n  cancelCallback(progressCallback: CancellableCallback) {\n    progressCallback.isCanceled = true;\n\n    const { messageId } = this.requestStatesByCallback.get(progressCallback) || {};\n    if (!messageId) {\n      return;\n    }\n\n    this.postMessage({\n      type: 'cancelProgress',\n      messageId,\n    });\n  }\n\n  onMessage(data: WorkerMessageData | string) {\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data, bigintReviver) as WorkerMessageData;\n      } catch (err: any) {\n        logDebugError('PostMessageConnector: Failed to parse message', err);\n        return;\n      }\n    }\n\n    const { requestStates, channel } = this;\n    if (data.channel !== channel) {\n      return;\n    }\n\n    if (data.type === 'update' && this.onUpdate) {\n      this.onUpdate(data.update);\n    }\n    if (data.type === 'methodResponse') {\n      const requestState = requestStates.get(data.messageId);\n      if (requestState) {\n        if (data.error) {\n          requestState.reject(data.error);\n        } else {\n          requestState.resolve(data.response);\n        }\n      }\n    } else if (data.type === 'methodCallback') {\n      const requestState = requestStates.get(data.messageId);\n      requestState?.callback?.(...data.callbackArgs);\n    } else if (data.type === 'unhandledError') {\n      throw new Error(data.error?.message);\n    }\n  }\n\n  private postMessage(data: AnyLiteral) {\n    data.channel = this.channel;\n\n    let rawData: AnyLiteral | string = data;\n    if (this.shouldUseJson) {\n      rawData = JSON.stringify(data);\n    }\n\n    if ('open' in this.target) { // Is Window\n      this.target.postMessage(rawData, this.targetOrigin);\n    } else {\n      this.target.postMessage(rawData);\n    }\n  }\n}\n\nexport function createConnector<T extends InputRequestTypes>(\n  worker: Worker | Window | DedicatedWorkerGlobalScope,\n  onUpdate?: (update: ApiUpdate) => void,\n  channel?: string,\n  targetOrigin?: string,\n) {\n  const connector = new ConnectorClass<T>(worker, onUpdate, channel, undefined, targetOrigin);\n\n  function handleMessage({ data }: WorkerMessageEvent | MessageEvent) {\n    connector.onMessage(data);\n  }\n\n  worker.addEventListener('message', handleMessage as any); // TS weirdly complains here\n\n  connector.destroy = () => {\n    worker.removeEventListener('message', handleMessage as any);\n  };\n\n  return connector;\n}\n\nexport function createExtensionConnector(\n  name: string,\n  onUpdate?: (update: ApiUpdate) => void,\n  getInitArgs?: () => any,\n  channel?: string,\n) {\n  const connector = new ConnectorClass(connect(), onUpdate, channel, true);\n\n  function connect() {\n    // eslint-disable-next-line no-restricted-globals\n    const port = self.chrome.runtime.connect({ name });\n\n    port.onMessage.addListener((data: string | WorkerMessageData) => {\n      connector.onMessage(data);\n    });\n\n    // For some reason port can suddenly get disconnected\n    port.onDisconnect.addListener(() => {\n      connector.target = connect();\n      connector.init(getInitArgs?.());\n    });\n\n    return port;\n  }\n\n  connector.init(getInitArgs?.());\n\n  return connector;\n}\n\nexport type Connector<T extends InputRequestTypes = InputRequestTypes> = ReturnType<typeof createConnector<T>>;\n","import type { AccountIdParsed, ApiBlockchainKey, ApiNetwork } from '../api/types';\n\nexport function parseAccountId(accountId: string): AccountIdParsed {\n  const [\n    id,\n    blockchain = 'ton', // Handle deprecated case when `accountId = '0'`\n    network = 'mainnet',\n  ] = accountId.split('-');\n  return {\n    id: Number(id),\n    blockchain: blockchain as ApiBlockchainKey,\n    network: network as ApiNetwork,\n  };\n}\n\nexport function buildAccountId(account: AccountIdParsed) {\n  const { id, network, blockchain } = account;\n  return `${id}-${blockchain}-${network}`;\n}\n","export function areDeepEqual<T extends any>(value1: T, value2: T): boolean {\n  const type1 = typeof value1;\n  const type2 = typeof value2;\n  if (type1 !== type2) {\n    return false;\n  }\n\n  // eslint-disable-next-line no-null/no-null\n  if (type1 !== 'object' || value1 === null || value2 === null) {\n    return value1 === value2;\n  }\n\n  const isArray1 = Array.isArray(value1);\n  const isArray2 = Array.isArray(value2);\n\n  if (isArray1 !== isArray2) {\n    return false;\n  }\n\n  if (isArray1) {\n    const array1 = value1 as any[];\n    const array2 = value2 as any[];\n\n    if (array1.length !== array2.length) {\n      return false;\n    }\n\n    return array1.every((member1, i) => areDeepEqual(member1, array2[i]));\n  }\n\n  const object1 = value1 as AnyLiteral;\n  const object2 = value2 as AnyLiteral;\n  const keys1 = Object.keys(object1);\n\n  return keys1.every((key1) => areDeepEqual(object1[key1], object2[key1]));\n}\n","export function assert(condition: boolean, message?: string) {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n","import { ONE_TON } from '../config';\nimport { fromDecimal } from './decimals';\nimport { randomBytes } from './random';\n\nexport const BIGINT_PREFIX = 'bigint:';\n\nexport function bigintReviver(this: any, key: string, value: any) {\n  if (typeof value === 'string' && value.startsWith(BIGINT_PREFIX)) {\n    return BigInt(value.slice(7));\n  }\n  return value;\n}\n\nexport function bigintAbs(value: bigint) {\n  return value === -0n || value < 0n ? -value : value;\n}\n\nexport function bigintDivideToNumber(value: bigint, num: number) {\n  return (value * ONE_TON) / fromDecimal(num);\n}\n\nexport function bigintMultiplyToNumber(value: bigint, num: number) {\n  return (value * fromDecimal(num)) / ONE_TON;\n}\n\nexport function bigintRandom(bytes: number) {\n  let value = BigInt(0);\n  for (const randomNumber of randomBytes(bytes)) {\n    const randomBigInt = BigInt(randomNumber);\n    // eslint-disable-next-line no-bitwise\n    value = (value << BigInt(8)) + randomBigInt;\n  }\n  return value;\n}\n\nexport function bigintCountBits(value: bigint) {\n  const binaryString = value.toString(2);\n  return binaryString.length;\n}\n","import { BIGINT_PREFIX } from './bigint';\n\n// Fixes serialization of objects containing `bigint` values.\n// Extracted to a separate file to avoid leaking into Extension Page Script.\n// @ts-ignore\nBigInt.prototype.toJSON = function toJSON() {\n  return `${BIGINT_PREFIX}${this}`;\n};\n","export function createCallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>() {\n  const callbacks = new Set<T>();\n\n  function addCallback(cb: T) {\n    callbacks.add(cb);\n\n    return () => {\n      removeCallback(cb);\n    };\n  }\n\n  function removeCallback(cb: T) {\n    callbacks.delete(cb);\n  }\n\n  function runCallbacks(...args: Parameters<T>) {\n    callbacks.forEach((callback) => {\n      callback(...args);\n    });\n  }\n\n  function hasCallbacks() {\n    return Boolean(callbacks.size);\n  }\n\n  return {\n    runCallbacks,\n    addCallback,\n    removeCallback,\n    hasCallbacks,\n  };\n}\n\nexport type CallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>\n  = ReturnType<typeof createCallbackManager<T>>;\n\nexport class EventEmitter {\n  private channels = new Map<string, CallbackManager>();\n\n  on(name: string, handler: AnyToVoidFunction) {\n    this.resolveChannel(name).addCallback(handler);\n    return this;\n  }\n\n  removeListener(name: string, handler: AnyToVoidFunction) {\n    this.resolveChannel(name).removeCallback(handler);\n    return this;\n  }\n\n  emit(name: string, ...args: any) {\n    this.resolveChannel(name).runCallbacks(...args);\n    return this;\n  }\n\n  private resolveChannel(name: string) {\n    let channel = this.channels.get(name);\n    if (!channel) {\n      channel = createCallbackManager();\n      this.channels.set(name, channel);\n    }\n\n    return channel;\n  }\n}\n","import type { Connector } from '../PostMessageConnector';\nimport type { WindowMethodArgs, WindowMethodResponse, WindowMethods } from './types';\n\nimport { WINDOW_PROVIDER_CHANNEL } from '../../config';\nimport { logDebugError } from '../logs';\n\nimport { createConnector } from '../PostMessageConnector';\n\nlet connector: Connector;\n\nexport function initWindowConnector() {\n  if (!connector) {\n    // eslint-disable-next-line no-restricted-globals\n    connector = createConnector(self as DedicatedWorkerGlobalScope, undefined, WINDOW_PROVIDER_CHANNEL);\n    connector.init();\n  }\n}\n\nexport async function callWindow<T extends keyof WindowMethods>(methodName: T, ...args: WindowMethodArgs<T>) {\n  if (!connector) {\n    logDebugError('API is not initialized');\n    return undefined;\n  }\n\n  return (connector.request({\n    name: methodName,\n    args,\n  }) as WindowMethodResponse<T>);\n}\n","import type { ApiActivity } from '../api/types';\n\nexport function compareActivities(a: ApiActivity, b: ApiActivity, isAsc = false) {\n  let value = a.timestamp - b.timestamp;\n  if (value === 0) {\n    value = a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n  }\n  return isAsc ? value : -value;\n}\n","import type {\n  ApiUpdate,\n  CancellableCallback, OriginMessageData, OriginMessageEvent, WorkerMessageData,\n} from './PostMessageConnector';\n\nimport { DETACHED_TAB_URL } from './ledger/tab';\nimport { bigintReviver } from './bigint';\nimport { logDebugError } from './logs';\n\ndeclare const self: WorkerGlobalScope;\n\nconst callbackState = new Map<string, CancellableCallback>();\n\ntype ApiConfig =\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\n  | Record<string, Function>;\ntype SendToOrigin = (data: WorkerMessageData, transferables?: Transferable[]) => void;\n\nexport function createPostMessageInterface(\n  api: ApiConfig,\n  channel?: string,\n  target: DedicatedWorkerGlobalScope | Worker = self as DedicatedWorkerGlobalScope,\n  shouldIgnoreErrors?: boolean,\n) {\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\n    data.channel = channel;\n\n    if (transferables) {\n      target.postMessage(data, transferables);\n    } else {\n      target.postMessage(data);\n    }\n  }\n\n  if (!shouldIgnoreErrors) {\n    handleErrors(sendToOrigin);\n  }\n\n  target.onmessage = (message: OriginMessageEvent) => {\n    if (message.data?.channel === channel) {\n      onMessage(api, message.data, sendToOrigin);\n    }\n  };\n}\n\nexport function createExtensionInterface(\n  portName: string,\n  api: ApiConfig,\n  channel?: string,\n  cleanUpdater?: (onUpdate: (update: ApiUpdate) => void) => void,\n  withAutoInit = false,\n) {\n  chrome.runtime.onConnect.addListener((port) => {\n    if (port.name !== portName) {\n      return;\n    }\n\n    /**\n     * If the sender's URL includes the DETACHED_TAB_URL, we skip further processing\n     * This condition ensures that we don't interact with tabs that have already been closed.\n     */\n    const url = port.sender?.url;\n    if (url?.includes(DETACHED_TAB_URL)) {\n      return;\n    }\n\n    const origin = url ? new URL(url).origin : undefined;\n\n    const dAppUpdater = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n\n    function sendToOrigin(data: WorkerMessageData) {\n      data.channel = channel;\n      const json = JSON.stringify(data);\n      port.postMessage(json);\n    }\n\n    handleErrors(sendToOrigin);\n\n    port.onMessage.addListener((data: OriginMessageData | string) => {\n      if (typeof data === 'string') {\n        data = JSON.parse(data, bigintReviver) as OriginMessageData;\n      }\n      if (data.channel === channel) {\n        onMessage(api, data, sendToOrigin, dAppUpdater, origin);\n      }\n    });\n\n    port.onDisconnect.addListener(() => {\n      cleanUpdater?.(dAppUpdater);\n    });\n\n    if (withAutoInit) {\n      onMessage(api, { type: 'init', name: 'init', args: [] }, sendToOrigin, dAppUpdater);\n    }\n  });\n}\n\nasync function onMessage(\n  api: ApiConfig,\n  data: OriginMessageData,\n  sendToOrigin: SendToOrigin,\n  onUpdate?: (update: ApiUpdate) => void,\n  origin?: string,\n) {\n  if (!onUpdate) {\n    onUpdate = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n  }\n\n  switch (data.type) {\n    case 'init': {\n      const { args } = data;\n      const promise = typeof api === 'function'\n        ? api('init', origin, onUpdate, ...args)\n        : api.init?.(onUpdate, ...args);\n      await promise;\n\n      break;\n    }\n    case 'callMethod': {\n      const {\n        messageId, name, args, withCallback,\n      } = data;\n      try {\n        if (messageId && withCallback) {\n          const callback = (...callbackArgs: any[]) => {\n            const lastArg = callbackArgs[callbackArgs.length - 1];\n\n            sendToOrigin({\n              type: 'methodCallback',\n              messageId,\n              callbackArgs,\n            }, isTransferable(lastArg) ? [lastArg] : undefined);\n          };\n\n          callbackState.set(messageId, callback);\n\n          args.push(callback as never);\n        }\n\n        const response = typeof api === 'function'\n          ? await api(name, origin, ...args)\n          : await api[name](...args);\n        const { arrayBuffer } = (typeof response === 'object' && 'arrayBuffer' in response && response) || {};\n\n        if (messageId) {\n          sendToOrigin(\n            {\n              type: 'methodResponse',\n              messageId,\n              response,\n            },\n            arrayBuffer ? [arrayBuffer] : undefined,\n          );\n        }\n      } catch (err: any) {\n        logDebugError(name, err);\n\n        if (messageId) {\n          sendToOrigin({\n            type: 'methodResponse',\n            messageId,\n            error: { message: err.message },\n          });\n        }\n      }\n\n      if (messageId) {\n        callbackState.delete(messageId);\n      }\n\n      break;\n    }\n    case 'cancelProgress': {\n      const callback = callbackState.get(data.messageId);\n      if (callback) {\n        callback.isCanceled = true;\n      }\n\n      break;\n    }\n  }\n}\n\nfunction isTransferable(obj: any) {\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\n}\n\nfunction handleErrors(sendToOrigin: SendToOrigin) {\n  self.onerror = (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.error?.message || 'Uncaught exception in worker' } });\n  };\n\n  self.addEventListener('unhandledrejection', (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.reason?.message || 'Uncaught rejection in worker' } });\n  });\n}\n","import { DEFAULT_DECIMAL_PLACES } from '../config';\nimport { Big } from '../lib/big.js';\n\nBig.RM = 0; // RoundDown\nBig.NE = -100000; // Disable exponential form\nBig.PE = 100000; // Disable exponential form\n\nconst ten = Big(10);\n\nexport function fromDecimal(value: string | number, decimals?: number) {\n  return BigInt(Big(value).mul(ten.pow(decimals ?? DEFAULT_DECIMAL_PLACES)).round().toString());\n}\n\nexport function toDecimal(value: bigint | number, decimals?: number, noFloor = false) {\n  return toBig(value, decimals ?? DEFAULT_DECIMAL_PLACES, noFloor).toString();\n}\n\nexport function toBig(value: bigint | number, decimals = DEFAULT_DECIMAL_PLACES, noFloor = false) {\n  return Big(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? Big.roundHalfUp : undefined);\n}\n\nexport function roundDecimal(value: string, decimals: number) {\n  return Big(value).round(decimals).toString();\n}\n\nexport function getIsPositiveDecimal(value: string) {\n  return !value.startsWith('-');\n}\n","const zonesRegex = {\n  ton: /^([-\\da-z]+\\.){0,2}([-\\da-z]{4,126})\\.ton$/i,\n  't.me': /^([-\\da-z]+\\.){0,2}([-_\\da-z]{4,126})\\.t\\.me$/i,\n  vip: /^(?<base>([-\\da-z]+\\.){0,2}([\\da-z]{1,24}))\\.(ton\\.vip|vip\\.ton|vip)$/i,\n  gram: /^(?<base>([-\\da-z]+\\.){0,2}([\\da-z]{1,24}))\\.(gram)$/i,\n};\n\nfunction isDnsDomain(value: string) {\n  return Object.values(zonesRegex).some((zone) => zone.test(value));\n}\n\nfunction isVipDnsDomain(value: string) {\n  return zonesRegex.vip.test(value);\n}\n\nfunction isGramDnsDomain(value: string) {\n  return zonesRegex.gram.test(value);\n}\n\nfunction removeVipZone(value: string) {\n  value = value.replace(/\\.ton\\.vip$/i, '.vip').replace(/\\.vip\\.ton$/i, '.vip');\n  return value.match(zonesRegex.vip)?.groups?.base;\n}\n\nfunction removeGramZone(value: string) {\n  return value.match(zonesRegex.gram)?.groups?.base;\n}\n\nfunction removeTonZone(value: string) {\n  return value.replace(/\\.ton$/i, '');\n}\n\nexport default {\n  isDnsDomain,\n  isVipDnsDomain,\n  isGramDnsDomain,\n  removeVipZone,\n  removeGramZone,\n  removeTonZone,\n};\n","import { DEFAULT_ERROR_PAUSE, DEFAULT_RETRIES, DEFAULT_TIMEOUT } from '../config';\nimport { ApiServerError } from '../api/errors';\nimport { logDebug } from './logs';\nimport { pause } from './schedulers';\n\ntype QueryParams = Record<string, string | number | boolean | string[]>;\n\nconst MAX_TIMEOUT = 30000; // 30 sec\n\nexport async function fetchJson(url: string | URL, data?: QueryParams, init?: RequestInit) {\n  const urlObject = new URL(url);\n  if (data) {\n    Object.entries(data).forEach(([key, value]) => {\n      if (value === undefined) {\n        return;\n      }\n\n      if (Array.isArray(value)) {\n        value.forEach((item) => {\n          urlObject.searchParams.append(key, item.toString());\n        });\n      } else {\n        urlObject.searchParams.set(key, value.toString());\n      }\n    });\n  }\n\n  const response = await fetchWithRetry(urlObject, init);\n\n  return response.json();\n}\n\nexport async function fetchWithRetry(url: string | URL, init?: RequestInit, options?: {\n  retries?: number;\n  timeouts?: number | number[];\n  shouldSkipRetryFn?: (message?: string, statusCode?: number) => boolean;\n}) {\n  const {\n    retries = DEFAULT_RETRIES,\n    timeouts = DEFAULT_TIMEOUT,\n    shouldSkipRetryFn = isNotTemporaryError,\n  } = options ?? {};\n\n  let message = 'Unknown error.';\n  let statusCode: number | undefined;\n\n  for (let i = 1; i <= retries; i++) {\n    try {\n      if (i > 1) {\n        logDebug(`Retry request #${i}:`, url.toString(), statusCode);\n      }\n\n      const timeout = Array.isArray(timeouts)\n        ? timeouts[i - 1] ?? timeouts[timeouts.length - 1]\n        : Math.min(timeouts * i, MAX_TIMEOUT);\n      const response = await fetchWithTimeout(url, init, timeout);\n      statusCode = response.status;\n\n      if (statusCode >= 400) {\n        const { error } = await response.json().catch(() => undefined);\n        throw new Error(error ?? `HTTP Error ${statusCode}`);\n      }\n\n      return response;\n    } catch (err: any) {\n      message = typeof err === 'string' ? err : err.message ?? message;\n\n      const shouldSkipRetry = shouldSkipRetryFn(message, statusCode);\n\n      if (shouldSkipRetry) {\n        throw new ApiServerError(message, statusCode);\n      }\n\n      if (i < retries) {\n        await pause(DEFAULT_ERROR_PAUSE * i);\n      }\n    }\n  }\n\n  throw new ApiServerError(message);\n}\n\nexport async function fetchWithTimeout(url: string | URL, init?: RequestInit, timeout = DEFAULT_TIMEOUT) {\n  const controller = new AbortController();\n  const id = setTimeout(() => {\n    controller.abort();\n  }, timeout);\n\n  try {\n    return await fetch(url, {\n      ...init,\n      signal: controller.signal,\n      cache: 'no-cache', // TODO Remove it after a few releases\n    });\n  } finally {\n    clearTimeout(id);\n  }\n}\n\nexport async function handleFetchErrors(response: Response, ignoreHttpCodes?: number[]) {\n  if (!response.ok && (!ignoreHttpCodes?.includes(response.status))) {\n    // eslint-disable-next-line prefer-const\n    let { error, errors } = await response.json().catch(() => undefined);\n    if (!error && errors && errors.length) {\n      error = errors[0]?.msg;\n    }\n\n    throw new ApiServerError(error ?? `HTTP Error ${response.status}`, response.status);\n  }\n  return response;\n}\n\nfunction isNotTemporaryError(message?: string, statusCode?: number) {\n  return statusCode && [400, 404].includes(statusCode);\n}\n","export default function generateUniqueId() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2);\n}\n","import { APP_ENV, DEBUG_ALERT_MSG } from '../config';\nimport { throttle } from './schedulers';\n\nconst noop = () => {\n};\n\nconst throttledAlert = typeof window !== 'undefined' ? throttle(window.alert, 1000) : noop;\n\n// eslint-disable-next-line no-restricted-globals\nself.addEventListener('error', handleErrorEvent);\n// eslint-disable-next-line no-restricted-globals\nself.addEventListener('unhandledrejection', handleErrorEvent);\n\nfunction handleErrorEvent(e: ErrorEvent | PromiseRejectionEvent) {\n  // https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded\n  if (e instanceof ErrorEvent && e.message === 'ResizeObserver loop limit exceeded') {\n    return;\n  }\n\n  e.preventDefault();\n\n  handleError(e instanceof ErrorEvent ? (e.error || e.message) : e.reason);\n}\n\nexport function handleError(err: Error | string) {\n  // eslint-disable-next-line no-console\n  console.error(err);\n\n  const message = typeof err === 'string' ? err : err.message;\n  const stack = typeof err === 'object' ? err.stack : undefined;\n\n  if (message.endsWith('Failed to import rlottie-wasm.js')) {\n    return;\n  }\n\n  if (APP_ENV === 'development' || APP_ENV === 'staging') {\n    throttledAlert(`${DEBUG_ALERT_MSG}\\n\\n${(message) || err}\\n${stack}`);\n  }\n}\n","import { PRIVATE_KEY_HEX_LENGTH } from '../config';\n\nexport default function isMnemonicPrivateKey(mnemonic: string[]) {\n  return mnemonic.length === 1 && mnemonic[0].length === PRIVATE_KEY_HEX_LENGTH;\n}\n","type CollectionByKey<Member> = Record<number | string, Member>;\ntype GroupedByKey<Member> = Record<number | string, Member[]>;\n\ntype OrderDirection =\n  'asc'\n  | 'desc';\n\ninterface OrderCallback<T> {\n  (member: T): any;\n}\n\nexport function buildCollectionByKey<T extends AnyLiteral>(collection: T[], key: keyof T): CollectionByKey<T> {\n  return collection.reduce((byKey: CollectionByKey<T>, member: T) => {\n    byKey[member[key]] = member;\n\n    return byKey;\n  }, {});\n}\n\nexport function groupBy<T extends AnyLiteral>(collection: T[], key: keyof T): GroupedByKey<T> {\n  return collection.reduce((byKey: GroupedByKey<T>, member: T) => {\n    const groupKey = member[key];\n\n    if (!byKey[groupKey]) {\n      byKey[groupKey] = [member];\n    } else {\n      byKey[groupKey]!.push(member);\n    }\n\n    return byKey;\n  }, {});\n}\n\nexport function mapValues<R extends any, M extends any>(\n  byKey: CollectionByKey<M>,\n  callback: (member: M, key: string, index: number, originalByKey: CollectionByKey<M>) => R,\n): CollectionByKey<R> {\n  return Object.keys(byKey).reduce((newByKey: CollectionByKey<R>, key, index) => {\n    newByKey[key] = callback(byKey[key], key, index, byKey);\n    return newByKey;\n  }, {});\n}\n\nexport function pick<T, K extends keyof T>(object: T, keys: K[]) {\n  return keys.reduce((result, key) => {\n    result[key] = object[key];\n    return result;\n  }, {} as Pick<T, K>);\n}\n\nexport function pickTruthy<T, K extends keyof T>(object: T, keys: K[]) {\n  return keys.reduce((result, key) => {\n    if (object[key]) {\n      result[key] = object[key];\n    }\n\n    return result;\n  }, {} as Pick<T, K>);\n}\n\nexport function omit<T extends object, K extends keyof T>(object: T, keys: K[]): Omit<T, K> {\n  const stringKeys = new Set(keys.map(String));\n  const savedKeys = Object.keys(object)\n    .filter((key) => !stringKeys.has(key)) as Array<Exclude<keyof T, K>>;\n\n  return pick(object, savedKeys);\n}\n\nexport function omitUndefined<T extends object>(object: T): T {\n  return Object.keys(object).reduce((result, stringKey) => {\n    const key = stringKey as keyof T;\n    if (object[key] !== undefined) {\n      result[key as keyof T] = object[key];\n    }\n    return result;\n  }, {} as T);\n}\n\nexport function orderBy<T>(\n  collection: T[],\n  orderRule: (keyof T) | OrderCallback<T> | ((keyof T) | OrderCallback<T>)[],\n  mode: OrderDirection | [OrderDirection, OrderDirection] = 'asc',\n): T[] {\n  function compareValues(a: T, b: T, currentOrderRule: (keyof T) | OrderCallback<T>, isAsc: boolean) {\n    const aValue = (typeof currentOrderRule === 'function' ? currentOrderRule(a) : a[currentOrderRule]) || 0;\n    const bValue = (typeof currentOrderRule === 'function' ? currentOrderRule(b) : b[currentOrderRule]) || 0;\n\n    if (aValue === bValue) return 0;\n\n    const condition = isAsc ? aValue > bValue : aValue < bValue;\n    return condition ? 1 : -1;\n  }\n\n  if (Array.isArray(orderRule)) {\n    const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];\n    const [orderRule1, orderRule2] = orderRule;\n    const isAsc1 = mode1 === 'asc';\n    const isAsc2 = mode2 === 'asc';\n\n    return collection.sort((a, b) => {\n      return compareValues(a, b, orderRule1, isAsc1) || compareValues(a, b, orderRule2, isAsc2);\n    });\n  }\n\n  const isAsc = mode === 'asc';\n  return collection.sort((a, b) => {\n    return compareValues(a, b, orderRule, isAsc);\n  });\n}\n\nexport function unique<T extends any>(array: T[]): T[] {\n  return Array.from(new Set(array));\n}\n\nexport function compact<T extends any>(array: T[]) {\n  return array.filter(Boolean);\n}\n\nexport function areSortedArraysEqual(array1: any[], array2: any[]) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  return array1.every((item, i) => item === array2[i]);\n}\n\nexport function split<T extends any>(array: T[], chunkSize: number) {\n  const result: T[][] = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n\n  return result;\n}\n\nexport function cloneDeep<T>(value: T): T {\n  if (!isObject(value)) {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(cloneDeep) as typeof value;\n  }\n\n  return Object.keys(value).reduce((acc, key) => {\n    acc[key as keyof T] = cloneDeep(value[key as keyof T]);\n    return acc;\n  }, {} as T);\n}\n\nexport function isLiteralObject(value: any): value is AnyLiteral {\n  return isObject(value) && !Array.isArray(value);\n}\n\nfunction isObject(value: any): value is object {\n  // eslint-disable-next-line no-null/no-null\n  return typeof value === 'object' && value !== null;\n}\n\nexport function findLast<T>(array: Array<T>, predicate: (value: T, index: number, obj: T[]) => boolean): T | undefined {\n  let cursor = array.length;\n\n  while (cursor--) {\n    if (predicate(array[cursor], cursor, array)) {\n      return array[cursor];\n    }\n  }\n\n  return undefined;\n}\n\nexport function range(start: number, end: number) {\n  const arr: number[] = [];\n  for (let i = start; i < end;) {\n    arr.push(i++);\n  }\n  return arr;\n}\n\nexport function fromKeyValueArrays<T>(keys: string[], values: T[] | T) {\n  return keys.reduce((acc, key, index) => {\n    acc[key] = Array.isArray(values) ? values[index] : values;\n    return acc;\n  }, {} as Record<string, T>);\n}\n\nexport function extractKey<T, K extends keyof T>(array: T[], key: K): T[K][] {\n  return array.map((value) => value[key]);\n}\n\nexport function findDifference<T>(array1: T[], array2: T[]): T[] {\n  const set2 = new Set(array2);\n\n  return array1.filter((element) => !set2.has(element));\n}\n","export const DETACHED_TAB_URL = '#detached';\n\nlet ledgerTabId: number | undefined;\n\nexport function openLedgerTab() {\n  return createLedgerTab();\n}\n\nexport async function closeLedgerTab() {\n  if (!ledgerTabId) return;\n\n  await chrome.tabs.query({ active: true }, () => {\n    if (!ledgerTabId) return;\n\n    chrome.tabs.remove(ledgerTabId);\n  });\n}\n\nexport function onLedgerTabClose(id: number, onClose: () => void) {\n  chrome.tabs.onRemoved.addListener((closedTabId: number) => {\n    if (closedTabId !== id) {\n      return;\n    }\n\n    ledgerTabId = undefined;\n\n    onClose();\n  });\n}\n\nasync function createLedgerTab() {\n  const tab = await chrome.tabs.create({ url: `index.html${DETACHED_TAB_URL}`, active: true });\n  await chrome.windows.update(tab.windowId!, { focused: true });\n\n  ledgerTabId = tab.id!;\n\n  return ledgerTabId;\n}\n","import { DEBUG } from '../config';\n\nexport function logDebugError(message: string, ...args: any[]) {\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.error(`[DEBUG][${message}]`, ...args);\n  }\n}\n\nexport function logDebug(message: any, ...args: any[]) {\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log(`[DEBUG] ${message}`, ...args);\n  }\n}\n","import { BRILLIANT_API_BASE_URL, IS_CAPACITOR } from '../config';\n\nconst IPFS_GATEWAY_BASE_URL: string = 'https://ipfs.io/ipfs/';\n\nexport function fetchJsonMetadata(url: string) {\n  url = fixIpfsUrl(url);\n\n  const reserveUrl = `${BRILLIANT_API_BASE_URL}/utils/download-json?url=${url}`;\n\n  if (IS_CAPACITOR) {\n    return fetchJson(reserveUrl);\n  }\n\n  return fetchJson(url).catch(() => {\n    return fetchJson(reserveUrl);\n  });\n}\n\nexport function fixIpfsUrl(url: string) {\n  return url.replace('ipfs://', IPFS_GATEWAY_BASE_URL);\n}\n\nasync function fetchJson(url: string) {\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw Error(`Http error ${response.status}`);\n  }\n  return response.json();\n}\n","import { pause } from './schedulers';\n\nimport Deferred from './Deferred';\n\nconst deferreds = new Set<Deferred>();\n\nlet isFocused = true;\n\nexport function pauseOrFocus(ms: number, msWhenNotFocused = ms) {\n  const deferred = new Deferred();\n\n  deferreds.add(deferred);\n\n  deferred.promise.then(() => {\n    deferreds.delete(deferred);\n  });\n\n  pause(isFocused ? ms : msWhenNotFocused).then(deferred.resolve);\n\n  return deferred.promise;\n}\n\nexport function setIsAppFocused(_isFocused: boolean) {\n  isFocused = _isFocused;\n\n  if (_isFocused) {\n    deferreds.forEach((d) => d.resolve());\n  }\n}\n","export function random(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function sample<T extends any>(arr: T[]) {\n  return arr[random(0, arr.length - 1)];\n}\n\nexport function randomBytes(size: number) {\n  // eslint-disable-next-line no-restricted-globals\n  return self.crypto.getRandomValues(new Uint8Array(size));\n}\n","import { DEBUG_MORE } from '../config';\nimport { handleError } from './handleError';\n\nconst SAFE_EXEC_ENABLED = !DEBUG_MORE;\n\nexport default function safeExec(cb: Function, rescue?: (err: Error) => void, always?: NoneToVoidFunction) {\n  if (!SAFE_EXEC_ENABLED) {\n    return cb();\n  }\n\n  try {\n    return cb();\n  } catch (err: any) {\n    rescue?.(err);\n    handleError(err);\n    return undefined;\n  } finally {\n    always?.();\n  }\n}\n","export type Scheduler = typeof requestAnimationFrame | typeof onTickEnd;\n\nexport function debounce<F extends AnyToVoidFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n  shouldRunLast = true,\n) {\n  let waitingTimeout: number | undefined;\n\n  return (...args: Parameters<F>) => {\n    if (waitingTimeout) {\n      clearTimeout(waitingTimeout);\n      waitingTimeout = undefined;\n    } else if (shouldRunFirst) {\n      fn(...args);\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    waitingTimeout = self.setTimeout(() => {\n      if (shouldRunLast) {\n        fn(...args);\n      }\n\n      waitingTimeout = undefined;\n    }, ms);\n  };\n}\n\nexport function throttle<F extends AnyToVoidFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n) {\n  let interval: number | undefined;\n  let isPending: boolean;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    isPending = true;\n    args = _args;\n\n    if (!interval) {\n      if (shouldRunFirst) {\n        isPending = false;\n        fn(...args);\n      }\n\n      // eslint-disable-next-line no-restricted-globals\n      interval = self.setInterval(() => {\n        if (!isPending) {\n          // eslint-disable-next-line no-restricted-globals\n          self.clearInterval(interval!);\n          interval = undefined;\n          return;\n        }\n\n        isPending = false;\n        fn(...args);\n      }, ms);\n    }\n  };\n}\n\nexport function throttleWithTickEnd<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith(onTickEnd, fn);\n}\n\nexport function throttleWith<F extends AnyToVoidFunction>(schedulerFn: Scheduler, fn: F) {\n  let waiting = false;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    args = _args;\n\n    if (!waiting) {\n      waiting = true;\n\n      schedulerFn(() => {\n        waiting = false;\n        fn(...args);\n      });\n    }\n  };\n}\n\nexport function onIdle(cb: NoneToVoidFunction, timeout?: number) {\n  // eslint-disable-next-line no-restricted-globals\n  if (self.requestIdleCallback) {\n    // eslint-disable-next-line no-restricted-globals\n    self.requestIdleCallback(cb, { timeout });\n  } else {\n    onTickEnd(cb);\n  }\n}\n\nexport const pause = (ms: number) => new Promise<void>((resolve) => {\n  setTimeout(() => resolve(), ms);\n});\n\nexport function rafPromise() {\n  return new Promise<void>((resolve) => {\n    fastRaf(resolve);\n  });\n}\n\nconst FAST_RAF_TIMEOUT_FALLBACK_MS = 35; // < 30 FPS\n\nlet fastRafCallbacks: Set<NoneToVoidFunction> | undefined;\nlet fastRafFallbackCallbacks: Set<NoneToVoidFunction> | undefined;\nlet fastRafFallbackTimeout: number | undefined;\n\n// May result in an immediate execution if called from another RAF callback which was scheduled\n// (and therefore is executed) earlier than RAF callback scheduled by `fastRaf`\nexport function fastRaf(callback: NoneToVoidFunction, withTimeoutFallback = false) {\n  if (!fastRafCallbacks) {\n    fastRafCallbacks = new Set([callback]);\n\n    requestAnimationFrame(() => {\n      const currentCallbacks = fastRafCallbacks!;\n\n      fastRafCallbacks = undefined;\n      fastRafFallbackCallbacks = undefined;\n\n      if (fastRafFallbackTimeout) {\n        clearTimeout(fastRafFallbackTimeout);\n        fastRafFallbackTimeout = undefined;\n      }\n\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else {\n    fastRafCallbacks.add(callback);\n  }\n\n  if (withTimeoutFallback) {\n    if (!fastRafFallbackCallbacks) {\n      fastRafFallbackCallbacks = new Set([callback]);\n    } else {\n      fastRafFallbackCallbacks.add(callback);\n    }\n\n    if (!fastRafFallbackTimeout) {\n      fastRafFallbackTimeout = window.setTimeout(() => {\n        const currentTimeoutCallbacks = fastRafFallbackCallbacks!;\n\n        if (fastRafCallbacks) {\n          currentTimeoutCallbacks.forEach(fastRafCallbacks.delete, fastRafCallbacks);\n        }\n        fastRafFallbackCallbacks = undefined;\n\n        if (fastRafFallbackTimeout) {\n          clearTimeout(fastRafFallbackTimeout);\n          fastRafFallbackTimeout = undefined;\n        }\n\n        currentTimeoutCallbacks.forEach((cb) => cb());\n      }, FAST_RAF_TIMEOUT_FALLBACK_MS);\n    }\n  }\n}\n\nlet onTickEndCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onTickEnd(callback: NoneToVoidFunction) {\n  if (!onTickEndCallbacks) {\n    onTickEndCallbacks = [callback];\n\n    Promise.resolve().then(() => {\n      const currentCallbacks = onTickEndCallbacks!;\n      onTickEndCallbacks = undefined;\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else {\n    onTickEndCallbacks.push(callback);\n  }\n}\n\nlet beforeUnloadCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onBeforeUnload(callback: NoneToVoidFunction, isLast = false) {\n  if (!beforeUnloadCallbacks) {\n    beforeUnloadCallbacks = [];\n    // eslint-disable-next-line no-restricted-globals\n    self.addEventListener('beforeunload', () => {\n      beforeUnloadCallbacks!.forEach((cb) => cb());\n    });\n  }\n\n  if (isLast) {\n    beforeUnloadCallbacks.push(callback);\n  } else {\n    beforeUnloadCallbacks.unshift(callback);\n  }\n\n  return () => {\n    beforeUnloadCallbacks = beforeUnloadCallbacks!.filter((cb) => cb !== callback);\n  };\n}\n\nexport async function waitFor(cb: () => boolean, interval: number, attempts: number) {\n  let i = 0;\n  let result = cb();\n\n  while (!result && i < attempts) {\n    await pause(interval);\n\n    i++;\n    result = cb();\n  }\n\n  return result;\n}\n","export function buildSwapId(backendId: string) {\n  return `swap:${backendId}`;\n}\n","const cache = new WeakMap<AnyFunction, Map<string, any>>();\n\nexport default function withCacheAsync<T extends AnyAsyncFunction>(\n  fn: T, canBeCached: (value: Awaited<ReturnType<T>>) => boolean = (value) => !!value,\n) {\n  return async (...args: Parameters<T>): Promise<Awaited<ReturnType<T>>> => {\n    let fnCache = cache.get(fn);\n    const cacheKey = buildCacheKey(args);\n\n    if (fnCache) {\n      const cached = fnCache.get(cacheKey);\n      if (cached) {\n        return cached;\n      }\n    } else {\n      fnCache = new Map();\n      cache.set(fn, fnCache);\n    }\n\n    const newValue = await fn(...args);\n\n    if (canBeCached(newValue)) {\n      fnCache.set(cacheKey, newValue);\n    }\n\n    return newValue;\n  };\n}\n\nfunction buildCacheKey(args: any[]) {\n  return args.reduce((cacheKey, arg) => {\n    return `${cacheKey}_${typeof arg === 'object' ? JSON.stringify(args) : arg}`;\n  }, '');\n}\n","/* (ignored) */","/* (ignored) */","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = () => {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [\"vendors-node_modules_ton_ton_dist_client_TonClient_js-node_modules_ton_ton_dist_wallets_Walle-4f854b\"], () => (__webpack_require__(\"./src/api/providers/worker/provider.ts\")))\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t\"worker\": 1\n};\n\n// importScripts chunk loading\nvar installChunk = (data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = (chunkId, promises) => {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = this[\"webpackChunkapi\"] = this[\"webpackChunkapi\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = () => {\n\treturn __webpack_require__.e(\"vendors-node_modules_ton_ton_dist_client_TonClient_js-node_modules_ton_ton_dist_wallets_Walle-4f854b\").then(next);\n};","","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n",""],"names":["ton","Address","dns","fetchAddressBook","dnsResolve","getTonClient","toBase64Address","getKnownAddressInfo","DnsCategory","TON_DNS_COLLECTION","VIP_DNS_COLLECTION","GRAM_DNS_COLLECTION","resolveAddress","network","address","isDomain","isDnsDomain","domain","resolvedAddress","resolveAddressByDomain","undefined","addressBook","user_friendly","normalizedAddress","normalizeAddress","known","_domain","name","base","collection","isVipDnsDomain","removeVipZone","isGramDnsDomain","removeGramZone","removeTonZone","result","Wallet","err","_err$message","message","includes","tonWebMnemonic","nacl","ApiCommonError","isMnemonicPrivateKey","logDebugError","getAccountValue","setAccountValue","bytesToHex","hexToBytes","PBKDF2_IMPORT_KEY_ARGS","PBKDF2_DERIVE_KEY_ARGS","iterations","hash","PBKDF2_DERIVE_KEY_TYPE","length","generateMnemonic","validateMnemonic","mnemonic","privateKeyHexToKeyPair","privateKeyHex","sign","keyPair","fromSeed","mnemonicToKeyPair","encryptMnemonic","password","plaintext","join","salt","crypto","getRandomValues","Uint8Array","keyMaterial","subtle","importKey","TextEncoder","encode","key","deriveKey","iv","ptUint8","ctBuffer","encrypt","ctArray","Array","from","ctBase64","btoa","String","fromCharCode","ivHex","map","b","toString","slice","saltHex","decryptMnemonic","encrypted","decryptMnemonicLegacy","encryptedData","split","match","parseInt","ctStr","atob","ctUint8","ch","charCodeAt","plainBuffer","decrypt","TextDecoder","decode","pwUtf8","pwHash","digest","byte","alg","fetchMnemonic","accountId","mnemonicEncrypted","tryMigratingMnemonicEncryption","console","error","decryptedMnemonic","catch","DebugError","Promise","all","fetchPrivateKey","secretKey","privateKey","fetchKeyPair","rawSign","dataHex","signature","detached","verifyPassword","Boolean","Workchain","TOKEN_TRANSFER_TONCOIN_AMOUNT","TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT","NFT_TRANSFER_TONCOIN_AMOUNT","NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT","STAKE_COMMENT","UNSTAKE_COMMENT","ATTEMPTS","DEFAULT_DECIMALS","DEFAULT_IS_BOUNCEABLE","WALLET_IS_BOUNCEABLE","FEE_FACTOR","ALL_WALLET_VERSIONS","WORKCHAIN","BaseChain","TRANSFER_TIMEOUT_SEC","OpCode","JettonOpCode","NftOpCode","LiquidStakingOpCode","VestingV1OpCode","SingleNominatorOpCode","DnsOpCode","OtherOpCode","ContractType","DNS_CATEGORY_HASH_MAP","dns_next_resolver","wallet","site","storage","DNS_ZONES_MAP","KnownContracts","simpleR1","type","simpleR2","simpleR3","v2R1","v2R2","v3R1","v3R2","v4R1","v4R2","W5","highloadV2","nominatorPool","Staking","multisig","multisigV2","vesting","multisigNew","dedustPool","isSwapAllowed","dedustVaultNative","dedustVaultJetton","stonPtonWallet","stonRouter","megatonWtonMaster","megatonRouter","beginCell","contractAddress","dnsItemConfigToCell","config","endCell","DnsItem","constructor","init","createFromAddress","createFromConfig","code","workchain","arguments","data","getDomain","provider","res","get","stack","readString","getTelemintDomain","parts","replace","reverse","getNftData","index","readBigNumber","collectionAddress","readAddress","owner","readAddressOpt","Op","_defineProperty","Errors","SendMode","toNano","jettonMinterConfigToCell","storeCoins","storeAddress","admin","storeRef","content","wallet_code","jettonContentToCell","storeUint","storeStringTail","uri","JettonMinter","sendDeploy","via","value","internal","sendMode","PAY_GAS_SEPARATELY","body","jettonInternalTransfer","jetton_amount","forward_ton_amount","response_addr","query_id","internal_transfer","storeBit","mintMessage","to","total_ton_amount","mintMsg","storeMaybeRef","mint","sendMint","Error","discoveryMessage","include_address","sendDiscovery","changeAdminMessage","newOwner","change_admin","sendChangeAdmin","changeContentMessage","change_content","sendChangeContent","getWalletAddress","cell","getJettonData","totalSupply","mintable","readBoolean","adminAddress","readCell","walletCode","getTotalSupply","getAdminAddress","getContent","jettonWalletConfigToCell","JettonWallet","getJettonBalance","state","getState","transferMessage","responseAddress","customPayload","forwardPayload","sendTransfer","burnMessage","sendBurn","withdrawTonsMessage","sendWithdrawTons","withdrawJettonsMessage","amount","sendWithdrawJettons","getWalletData","balance","minter","TupleReader","nominatorPoolConfigToCell","NominatorPool","getListNominators","tupleReader","readTuple","itemsArray","items","tupleItems","tuple","padStart","parse","pendingDepositAmount","withdrawRequested","readNumber","getAccountNfts","getNftUpdates","checkNftTransferDraft","submitNftTransfers","oneCellFromBoc","buildTokenSlug","checkTransactionDraft","getAccountNewestTxId","getAccountTransactionSlice","getTokenTransactionSlice","submitTransfer","waitPendingTransfer","checkMultiTransactionDraft","submitMultiTransfer","getMergedTransactionSlice","sendSignedMessage","sendSignedMessages","decryptComment","waitUntilTransactionAppears","fixTokenActivitiesAddressForm","submitTransferWithDiesel","fetchEstimateDiesel","getAccountBalance","pickAccountWallet","pickBestWallet","publicKeyToAddress","resolveWalletVersion","getWalletStateInit","getWalletBalance","getWalletSeqno","isAddressInitialized","isActiveSmartContract","getWalletInfo","pickWalletByAddress","getWalletVersions","getWalletVersionInfos","getContractInfo","checkStakeDraft","checkUnstakeDraft","submitStake","submitUnstake","getStakingState","packPayloadToBoc","checkApiAvailability","getAccountTokenBalances","getTokenBalances","getAddressTokenBalances","fetchToken","resolveTokenBySlug","resolveTokenWalletAddress","resolveTokenMinterAddress","parsePayloadBase64","validateDexSwapTransfers","Builder","BURN_ADDRESS","NFT_BATCH_SIZE","NOTCOIN_EXCHANGERS","NOTCOIN_FORWARD_TON_AMOUNT","NOTCOIN_VOUCHERS_ADDRESS","parseAccountId","compact","generateQueryId","buildNft","fetchAccountEvents","fetchAccountNfts","fetchNftItems","commentToBytes","packBytesAsSnake","fetchStoredAccount","fetchStoredAddress","checkToAddress","offset","limit","rawNfts","rawNft","fromSec","_events$0$timestamp","_events$","events","timestamp","updates","event","action","actions","nftAddress","isPurchase","NftPurchase","NftItemTransfer","sender","recipient","nft","rawNftAddress","buyer","push","options","nftAddresses","comment","toAddress","fromAddress","checkAddressResult","messages","payload","buildNftTransferPayload","nfts","isNotcoinBurn","buildNotcoinVoucherExchange","nftIndex","first4Bits","readUint8","forwardAmount","builder","TransferOwnership","bytes","freeBytes","Math","floor","availableBits","storeBuffer","Buffer","Cell","asCell","toBoc","getMasterchainInfo","ApiLiquidUnstakeMode","ApiTransactionDraftError","LIQUID_JETTON","LIQUID_POOL","ONE_TON","VALIDATION_PERIOD_MS","bigintDivideToNumber","bigintMultiplyToNumber","fromDecimal","buildLiquidStakingDepositBody","buildLiquidStakingWithdrawBody","getTokenBalance","getAccountCache","getStakingCommonCache","updateAccountCache","apiDb","backendState","staked","poolAddress","nominatorsPool","InvalidAmount","commonData","tokenAmount","InsufficientBalance","liquid","currentRate","params","buildLiquidStakingWithdraw","Unexpected","stakedAt","Date","now","mode","instantAvailable","BestRate","Default","tokenWalletAddress","fillOrKill","Instant","waitTillRoundEnd","_accountCache$stakedA","_backendState$stakedA","tokenBalance","getLiquidStakingTokenBalance","unstakeAmount","where","toArray","_nft$name","billAmount","groups","loyaltyType","shouldUseNominators","accountCache","max","isInstantUnstake","liquidAvailable","available","liquidApy","apy","loyaltyApy","fullTokenAmount","unstakeRequestAmount","getPoolContract","nominators","addressObject","currentNominator","find","n","equals","isUnstakeRequested","open","walletAddress","isInitialized","SWAP_FEE_ADDRESS","TON_SYMBOL","assert","findTokenByMinter","MEGATON_WTON_MINTER","MAX_NETWORK_FEE","request","transfers","mainTransfer","feeTransfer","maxAmount","fromAmount","codeHash","token","decimals","maxTonAmount","minterAddress","parsedPayload","destination","feePayload","tokenFeeAmount","feeDestination","DEFAULT_DECIMAL_PLACES","TONCOIN_SLUG","fixIpfsUrl","fetchJettonMetadata","fixBase64ImageData","parseJettonWalletMsgBody","fetchJettonBalances","buildTokenTransferBody","KNOWN_TOKENS","slug","cmcSlug","symbol","knownTokens","addKnownTokens","balancesRaw","parseTokenBalance","filter","balanceRaw","jetton","wallet_address","buildTokenByMetadata","BigInt","jettonWallet","parseTokenTransaction","tx","extraData","parsedData","operation","jettonAmount","encryptedComment","isIncoming","buildTokenTransfer","tokenAddress","realTokenAddress","tokenWallet","getTokenWallet","Object","values","getKnownTokens","tokens","addKnownToken","quote","price","priceUsd","percentChange24h","metadata","image","image_data","imageData","Number","external","storeMessage","ApiTransactionError","DIESEL_ADDRESS","compareActivities","buildCollectionByKey","omit","pause","withCacheAsync","parseTxId","fetchLatestTxId","fetchTransactions","decryptMessageComment","encryptMessageComment","parseWalletTransactionBody","sendExternal","getTonWalletContract","getWalletPublicKey","packBytesAsSnakeForEncryptedData","parseAddress","parseBase64","callBackendGet","updateTransactionMetadata","base64ToBytes","isKnownStakingPool","ApiServerError","handleServerError","GET_TRANSACTIONS_LIMIT","GET_TRANSACTIONS_MAX_LIMIT","WAIT_TRANSFER_TIMEOUT","WAIT_TRANSFER_PAUSE","WAIT_TRANSACTION_PAUSE","MAX_BALANCE_WITH_CHECK_DIESEL","PENDING_DIESEL_TIMEOUT","pendingTransfers","checkHasTransaction","transactions","stateInit","shouldEncrypt","isBase64Data","isBounceable","isToAddressNew","InactiveContract","toPublicKey","WalletNotInitialized","account","transaction","signTransaction","realFee","calculateFee","fee","isFullTonBalance","isEnoughBalance","status","dieselStatus","dieselAmount","isAwaitingNotExpiredPrevious","estimateDiesel","resolved","addressName","isMemoRequired","isScam","DomainNotResolved","isValid","isUserFriendly","isTestOnly","InvalidToAddress","regex","isUrlSafe","test","InvalidAddressFormat","publicKey","stringToPayload","seqno","isFullBalance","client","msgHash","boc","addPendingTransfer","resolveTransactionError","_ref","IncorrectDeviceTime","statusCode","displayError","UnsuccesfulTransfer","_ref2","expireAt","round","refs","CARRY_ALL_REMAINING_BALANCE","IGNORE_ERRORS","createTransfer","bounce","timeout","fetchNewestTxId","toTxId","fromTxId","populateTransactions","updateTransactionType","omitExtraData","transactionToActivity","Set","addressesForFixFormat","add","prevOwner","size","nftsByAddress","lastTxIds","toncoin","lastTonTxId","tokenLastTxIds","tonTxs","txId","lastTonTxLt","lt","results","entries","_ref3","lastTxId","allTxs","flat","sort","tokenSlug","_transaction$metadata","normalizedFromAddress","normalizedToAddress","isLiquidUnstakeRequest","kind","id","withDiesel","totalAmount","isMainnet","signMultiTransaction","forEach","clearedMessages","preparedMessages","isBase64Payload","fromBase64","externalMessage","toExternalMessage","contract","storeWritable","buildPendingTransferKey","promise","retrySendBoc","_ref4","tonClient","waitUntil","sendFile","walletInfo","pendingTransfer","source_fees","fees","estimateExternalMessageFee","initCode","initData","ignoreSignature","in_fwd_fee","storage_fee","gas_fee","fwd_fee","version","base64","attempts","attempt","firstBoc","msgHashes","successNumber","buffer","latestTxId","activities","tokenAddresses","activity","pendingCreatedAt","getTime","axios","TonClient","TonCoreClient","DEFAULT_ERROR_PAUSE","DEFAULT_RETRIES","axiosRetry","fetchWithRetry","logDebug","retries","shouldResetTimeout","retryDelay","retryCount","onRetry","retryNumber","requestConfig","_error$response","url","response","parameters","initParameters","callRpc","getAddressInfo","method","sendRequest","endpoint","jsonrpc","src","apiUrl","headers","apiKey","JSON","stringify","shouldSkipRetryFn","isNotTemporaryError","json","TONHTTPAPI_V3_MAINNET_API_URL","TONHTTPAPI_V3_TESTNET_API_URL","fetchJson","omitUndefined","getEnvironment","stringifyTxId","ADDRESS_BOOK_CHUNK_SIZE","fromLt","toLt","callApiV3","start_lt","end_lt","rawTransactions","address_book","_rawTransactions$","pop","rawTx","parseRawTransaction","total_fees","description","compute_ph","exit_code","exitCode","in_msg","source","inMsgHash","msgs","out_msgs","msg","i","shouldHide","getRawBody","message_content","addresses","chunks","chunk","reduce","acc","assign","fixAddressFormat","path","apiHeaders","tonhttpapiMainnetKey","tonhttpapiTestnetKey","baseUrl","callBackendPost","DIESEL_URL","dieselSendBoc","sha256","categoryToBigInt","category","categoryBytes","categoryHashHex","parseSmartContractAddressImpl","prefix0","prefix1","asSlice","byte0","loadUint","byte1","parseSmartContractAddressRecord","parseNextResolverRecord","parseStorageBagIdRecord","loadBuffer","parseSiteRecord","parseAdnlAddressRecord","dnsResolveImpl","dnsAddress","rawDomainBytes","oneStep","len","domainCell","categoryBN","callGetMethod","resultLen","DnsNextResolver","Site","BagId","nextAddress","domainToBytes","toLowerCase","s","substring","c","arr","part","rawDomain","rootDnsAddress","loadUintBig","hashPart","ed25519","require","aesjs","hmacSha512","hmacAlgo","hmacKey","getAesCbcState","ModeOfOperation","cbc","getRandomPrefix","dataLength","minPadding","prefixLength","prefix","combineSecrets","a","encryptDataWithPrefix","sharedSecret","dataHash","msgKey","set","cbcStateSecret","encryptDataImpl","combined","encryptData","myPublicKey","theirPublicKey","getSharedSecret","prefixedEncrypted","myPrivateKey","senderAddress","commentBytes","encryptedBytes","alloc","writeUInt32BE","Encrypted","doDecrypt","decryptedData","gotMsgKey","decryptDataImpl","decryptData","decrypted","decryptedBytes","bigintRandom","bigintReviver","cloneDeep","addressPart","BitReader","BitString","Slice","Dictionary","DEBUG","NFT_FRAGMENT_COLLECTIONS","pick","range","fetchJsonMetadata","checkHasScamLink","checkIsTrustedCollection","base64ToString","getDnsItemDomain","getJettonMinterData","OFFCHAIN_CONTENT_PREFIX","SNAKE_PREFIX","beginParse","opCode","queryId","Transfer","InternalTransfer","loadCoins","loadMaybeAddress","loadBit","isSeparateCell","remainingBits","remainingRefs","loadRef","forwardOpCode","Comment","readSnakeBytes","decodedData","dictSnakeBufferValue","sliceToVal","v","isFirst","concat","serialize","jettonOnChainMetadataSpec","contentUri","fetchJettonOffchainMetadata","parseJettonOnchainMetadata","offchainMetadata","dict","loadDict","Keys","_dict$get","sha256Key","val","_transaction$extraDat","dataToSlice","parsePayloadSlice","_await$parsePayloadSl","shouldLoadItems","transactionDebug","_forwardPayload","loadAddress","responseDestination","loadMaybeRef","storeBits","loadBits","_nft","readForwardPayloadCell","readComment","nftName","OwnershipAssigned","Burn","addressObj","DistributedAsset","Withdrawal","Deposit","appId","AddWhitelist","addressString","toRawString","Withdraw","ChangeValidator","Vote","votingAddress","expirationDate","vote","needConfirmation","ChangeRecord","_Object$entries$find","dataSlice","endParse","dataAddress","flags","record","TokenBridgePaySwap","swapId","_opCode","debugTxString","opCodeHex","fromBoc","_forwardPayload2","previews","sale","trust","render_type","renderType","hasScamLink","text","isHidden","imageFromPreview","x","resolution","thumbnail","isOnSale","collectionName","isOnFragment","has","neededInit","isContractDeployed","ext","store","WalletContractV1R1","WalletContractV1R2","WalletContractV1R3","WalletContractV2R1","WalletContractV2R2","WalletContractV3R1","WalletContractV3R2","WalletContractV4","WalletContractV5R1","DEFAULT_TIMEOUT","TONHTTPAPI_MAINNET_API_KEY","TONHTTPAPI_MAINNET_URL","TONHTTPAPI_TESTNET_API_KEY","TONHTTPAPI_TESTNET_URL","axiosFetchAdapter","defaults","adapter","TON_MAX_COMMENT_BYTES","clientByNetwork","walletClassMap","mainnet","testnet","publicKeyHex","walletClass","create","bigintKey","hex","urlSafe","bounceable","testOnly","toRawAddress","startBuffer","maxBytes","packBytesAsSnakeCell","mainBuilder","prevBuilder","currentBuilder","_prevBuilder","_prevBuilder2","createNestedCell","maxCellSize","remainingData","ROOT_BUILDER_BYTES","MAX_CELLS_AMOUNT","rootBuilder","min","buildLiquidStakingWithdrawCustomPayload","isRaw","parseRaw","isFriendly","parseFriendly","getIsRawAddress","nftData","zone","Api","HttpClient","TONAPIIO_MAINNET_URL","TONAPIIO_TESTNET_URL","MAX_LIMIT","EVENTS_LIMIT","apiByNetwork","getApi","baseApiParams","customFetch","accounts","getAccountJettonsBalances","balances","getNftItemsByAddresses","account_ids","nft_items","getAccountNftItems","indirect_ownership","getAccountEvents","start_date","storeStateInit","DEFAULT_WALLET_VERSION","walletOrAddress","isWallet","walletVersion","buildWallet","WalletClass","account_state","accountState","last_transaction_id","contractInfo","info","allWallets","defaultWallet","withBiggestBalance","best","current","_best$balance","withLastTx","v4Wallet","v4JettonBalances","versions","w","publicKeyBytes","buildAccountId","MIN_ACCOUNT_NUMBER","loginResolve","loginPromise","resolve","getAccountIds","keys","getItem","getAccountIdWithMnemonic","byId","fetchStoredAccounts","ledger","getNewAccountId","ids","blockchain","fetchStoredPublicKey","updateStoredAccount","partial","_await$storage$getIte","removeAccountValue","removedValue","restData","setItem","removeNetworkAccountsValue","getCurrentNetwork","getCurrentAccountId","getCurrentAccountIdOrFail","waitLogin","RE_LINK_TEMPLATE","RE_TG_BOT_MENTION","cleanText","knownAddresses","scamMarkers","trustedSites","trustedCollections","tryUpdateKnownAddresses","RegExp","getKnownAddresses","getScamMarkers","checkIsTrustedSite","matches","matchAll","_match$groups","host","checkHasTelegramBotMention","BRILLIANT_API_BASE_URL","handleFetchErrors","BAD_REQUEST_CODE","authToken","isAllowBadRequest","fetch","URL","stakingCommonCache","_accountCache","setStakingCommonCache","generateUniqueId","ApiUserRejectsError","deferreds","Map","Deferred","reject","createDappPromise","promiseId","deferred","resolveDappPromise","delete","rejectDappPromise","reason","rejectAllDappPromises","IS_CAPACITOR","IS_EXTENSION","MAIN_ACCOUNT_ID","areDeepEqual","capacitorStorage","idbStorage","localCounter","getNextLocalId","actualStateVersion","migrationEnsurePromise","resolveBlockchainKey","toInternalAccountId","buildInternalAccountId","buildLocalTransaction","restParams","isNftTransfer","hasScamMarkers","some","sm","shouldCheckComment","hasScamInComment","currentOnUpdate","connectUpdater","onUpdate","disconnectUpdater","isUpdaterAlive","startStorageMigration","migrateStorage","_currentOnUpdate","waitStorageMigration","idbVersion","idbData","getAll","setMany","removeItem","field","raw","oldItem","newItem","prevValue","newValue","rawData","dapps","accountDapps","dapp","connectedAt","byAccountId","internalAccountId","accountData","parsed","mainnetAccountId","testnetAccountId","publicKeys","oldAddress","newAddress","isSseSupported","_dapp$sse","sse","appClientId","_dapp$sse2","clientId","clear","isIosKeychainModeMigrated","isIosApp","iosBackupAndMigrateKeychainMode","getKeys","startsWith","backupKey","backupValue","shouldRewrite","createCallbackManager","txCallbacks","whenTxComplete","addCallback","callback","removeCallback","STAKING_POOLS","bytesToBase64","poolPart","endsWith","Dexie","Table","DB_NANE","ApiDb","stores","sseConnections","ELECTRON_TONHTTPAPI_MAINNET_API_KEY","ELECTRON_TONHTTPAPI_TESTNET_API_KEY","ELECTRON_ORIGIN","environment","setEnvironment","args","_self","isDappSupported","isElectron","isNativeBottomSheet","self","origin","ApiBaseError","ServerError","ApiUnsupportedVersionError","UnsupportedVersion","ApiHardwareBlindSigningNotEnabled","HardwareBlindSigningNotEnabled","AbortOperationError","maybeApiErrors","fn","hooks","addHooks","hook","_hooks$name","callHook","_len","_key","_hooks$name2","deactivateAccountDapp","deactivateAllDapps","onActiveDappAccountUpdated","sendUpdateTokens","setupBalanceBasedPolling","setupStakingPolling","setupVestingPolling","setupWalletVersionsPolling","activeAccountId","activateAccount","newestTxIds","prevAccountId","isFirstLogin","deactivateAllAccounts","deactivateCurrentAccount","isAccountActive","fetchAccount","getActiveAccountId","blockchains","removeAccountDapps","removeAllDapps","removeNetworkDapps","createWallet","storeAccount","importMnemonic","isPrivateKey","importLedgerWallet","driver","deviceId","deviceName","storeHardwareAccount","importNewWalletVersion","newAccountId","newAccount","removeNetworkAccounts","resetAccounts","removeAccount","nextAccountId","changePassword","oldPassword","encryptedMnemonic","activeDappByAccountId","initDapps","_onUpdate","activeDappOrigin","getActiveDapp","activateDapp","oldAccountId","findActiveDappAccount","deactivateDapp","activeOrigin","isDappActive","updateDapp","updater","getDapp","addDapp","getDappsByOrigin","deleteDapp","dontNotifyDapp","deleteAllDapps","origins","getDapps","findLastConnectedAccount","getDappsState","lastConnectedAccountId","byOrigin","getSseLastEventId","setSseLastEventId","lastEventId","loadExploreSites","startSseConnection","initWindowConnector","tonConnect","tonConnectSse","methods","onDappDisconnected","sendSseDisconnect","onDappsChanged","resetupSseConnection","initPolling","initTransactions","initStaking","initSwap","initNfts","initTonConnect","initSse","createLocalTransaction","fetchNfts","processNftUpdates","update","dbNft","convertToDbEntity","put","updateAccountNfts","dbNfts","bulkPut","_nft$collectionAddres","randomBytes","setIsAppFocused","SIGN_MESSAGE","blockchainKey","getBackendAuthToken","getClientId","fetchAccountConfigForDebugPurposesOnly","mnemonicsEncrypted","stateVersion","ping","updateAccountMemoryCache","DEFAULT_PRICE_CURRENCY","POPULAR_WALLET_VERSIONS","pauseOrFocus","resolveDataPreloadPromise","getBaseCurrency","getBackendStakingState","tryUpdateStakingCommonData","swapGetAssets","swapReplaceTransactionsByRanges","fetchVestings","SEC","BALANCE_BASED_INTERVAL","BALANCE_BASED_INTERVAL_WHEN_NOT_FOCUSED","STAKING_INTERVAL","STAKING_INTERVAL_WHEN_NOT_FOCUSED","BACKEND_INTERVAL","LONG_BACKEND_INTERVAL","NFT_FULL_INTERVAL","VERSIONS_INTERVAL","VERSIONS_INTERVAL_WHEN_NOT_FOCUSED","VESTING_INTERVAL","VESTING_INTERVAL_WHEN_NOT_FOCUSED","INCORRECT_TIME_DIFF","FIRST_TRANSACTIONS_LIMIT","DOUBLE_CHECK_TOKENS_PAUSE","prices","baseCurrency","bySlug","lastBalanceCache","_isAccountActive","tryUpdatePrices","allSettled","tryUpdateTokens","tryLoadSwapTokens","then","tryUpdateConfig","setupBackendPolling","setupLongBackendPolling","registerNewTokens","tokenBalances","areNewTokensFound","nftFromSec","nftUpdates","lastNftFullUpdate","doubleCheckTokensTime","localOnUpdate","updateBalance","cache","isToncoinBalanceChanged","balancesToUpdate","updateNfts","nftResult","logAndRescue","throwErrorIfUpdaterNotAlive","updateTokenBalances","changedTokenSlugs","cachedBalance","fromEntries","isUpdating","updateActivities","newTxIds","processNewActivities","isAlive","lastState","stakingCommonData","backendStakingState","stakingState","tokenSlugs","activeBlockchain","newestTxId","tokenBalanceByAddress","allTransactions","isFirstRun","runCallbacks","pricesData","assets","asset","_asset$contract","_prices$bySlug$asset$","_prices$bySlug$asset$2","isLimited","isCopyStorageEnabled","supportAccountsCount","serverUtc","country","countryCode","localUtc","abs","lastResult","shouldCheckV4","v4HasTokens","allWalletInfos","versionInfo","filteredInfos","currentVersion","lastVestingInfo","vestingInfo","resolvePromise","preloadPromise","waitDataPreload","setBaseCurrency","currency","fetchPriceHistory","period","_token$minterAddress","APP_ENV","APP_VERSION","CACHE_TTL","backendStakingStateByAddress","onStakingChangeExpected","localTransaction","fetchBackendStakingState","start","end","cacheItem","totalProfit","getStakingHistory","unlock","prevRound","buildSwapId","SWAP_MAX_LT","SWAP_WAITING_TIME","SWAP_WAITING_PAUSE","MAX_OLD_SWAP_ID","swapBuildTransfer","swapBuild","transferList","transfer","shouldTryDiesel","swapSubmit","historyItem","getSwapItemSlug","swap","item","cex","swapReplaceTransactions","_resolveTokenBySlug$m","fromTime","toTime","buildSwapHistoryRange","swaps","swapGetHistory","fromTimestamp","toTimestamp","replaceTransactions","isFirstLoad","waitPendingDexSwap","ranges","txs","swapGetHistoryByRanges","hiddenTxIds","skipLtRanges","_swap$txIds","txIds","swapActivity","swapItemToActivity","ltString","shortenedTxId","startLt","endLt","pendingSwaps","isCex","areAllStale","every","firstLt","lastLt","firstTimestamp","lastTimestamp","fetchSwaps","swapGetHistoryItem","swapEstimate","isMsgHashMode","swapGetTonCurrencies","swapGetPairs","symbolOrMinter","swapCexEstimate","swapCexValidateAddress","swapCexCreateTransaction","payinAddress","fetchTokenBalances","fetchTokenBalancesByAddress","fetchTokenActivitySlice","fetchAllActivitySlice","shouldCreateLocalTransaction","waitLastTransfer","sendSignedTransferMessage","sendSignedTransferMessages","_params$normalizedAdd","fetchDieselState","isTestnet","dappPromises","getMnemonic","getMnemonicWordList","wordlists","default","confirmDappRequest","confirmDappRequestConnect","cancelDappRequest","fetchAddress","isWalletInitialized","createPostMessageInterface","tonConnectApi","callWindow","chrome","local","_await$storage$get","remove","bind","getMany","idb","INDEXED_DB_NAME","INDEXED_DB_STORE_NAME","fromKeyValueArrays","createStore","del","StorageType","extensionStorage","localStorage","IndexedDb","LocalStorage","ExtensionLocal","CapacitorStorage","withPromise","CONNECT_EVENT_ERROR_CODES","TonConnectError","ManifestContentError","MANIFEST_CONTENT_ERROR","UnknownError","BadRequestError","UnknownAppError","UserRejectsError","CHAIN","SEND_TRANSACTION_ERROR_CODES","SIGN_DATA_ERROR_CODES","safeExec","apiErrors","errors","isValidString","isValidUrl","BLANK_GIF_DATA_URL","resolveInit","initPromise","onPopupUpdate","_onPopupUpdate","connect","openExtensionPopup","connectionType","isSse","dappMetadata","fetchDappMetadata","manifestUrl","validateRequest","addressItem","proofItem","proof","getCurrentAccountOrFail","sseOptions","permissions","promiseResult","reconnect","proofReplyItem","signTonProof","buildTonProofReplyItem","formatConnectError","currentDapp","buildTonAddressReplyItem","e","disconnect","sendTransaction","txPayload","dappNetworkRaw","dappNetwork","MAINNET","validUntil","valid_until","isLedger","vestingAddress","checkIsHisVestingWallet","WrongAddress","WrongNetwork","checkResult","checkTransactionMessages","transactionsForRequest","prepareTransactionForRequest","signedTransfers","submitResult","PartialTransactionFailure","successTransactions","UNKNOWN_ERROR","errorMessage","USER_REJECTS_ERROR","ownerPublicKey","_info$contractInfo","signData","METHOD_NOT_SUPPORTED","rawPayload","deactivate","TESTNET","walletStateInit","idx","crc32","timestampBuffer","allocUnsafe","writeBigInt64LE","domainBuffer","domainLengthBuffer","writeInt32LE","byteLength","addressWorkchainBuffer","writeInt32BE","workChain","addressBuffer","messageBuffer","bufferToSign","lengthBytes","iconUrl","safeIconUrl","skipConnection","lastAccountId","force","extractKey","BRIDGE_URL","TTL_SEC","NONCE_SIZE","MAX_CONFIRM_DURATION","sseEventSource","sseDapps","delayedReturnParams","deviceInfo","isFromInAppBrowser","searchParams","ret","shouldOpenUrl","r","connectRequest","decodeURIComponent","secretKeyArray","publicKeyArray","box","lastOutputId","device","sendMessage","closeEventSource","dappsState","clientIds","close","openEventSource","onopen","onerror","onmessage","encryptedMessage","sseDapp","decryptMessage","isExternal","toId","topic","encryptMessage","sendRawMessage","EventSource","nonce","fullBuffer","subarray","jsonText","maxLength","isString","process","env","APP_NAME","APP_ENV_MARKER","DEBUG_MORE","IS_PRODUCTION","IS_TEST","IS_PERF","IS_FIREFOX_EXTENSION","IS_PACKAGED_ELECTRON","IS_ANDROID_DIRECT","ELECTRON_HOST_URL","INACTIVE_MARKER","PRODUCTION_URL","BETA_URL","APP_REPO_URL","BASE_URL","BOT_USERNAME","STRICTERDOM_ENABLED","DEBUG_ALERT_MSG","PIN_LENGTH","NATIVE_BIOMETRICS_USERNAME","NATIVE_BIOMETRICS_SERVER","MNEMONIC_COUNT","PRIVATE_KEY_HEX_LENGTH","MNEMONIC_CHECK_COUNT","MOBILE_SCREEN_MAX_WIDTH","ANIMATION_END_DELAY","ANIMATED_STICKER_TINY_SIZE_PX","ANIMATED_STICKER_SMALL_SIZE_PX","ANIMATED_STICKER_MIDDLE_SIZE_PX","ANIMATED_STICKER_DEFAULT_PX","ANIMATED_STICKER_BIG_SIZE_PX","ANIMATED_STICKER_HUGE_SIZE_PX","DEFAULT_LANDSCAPE_ACTION_TAB_ID","WHOLE_PART_DELIMITER","DEFAULT_SLIPPAGE_VALUE","GLOBAL_STATE_CACHE_DISABLED","GLOBAL_STATE_CACHE_KEY","ANIMATION_LEVEL_MIN","ANIMATION_LEVEL_MED","ANIMATION_LEVEL_MAX","ANIMATION_LEVEL_DEFAULT","THEME_DEFAULT","TONHTTPAPI_V3_MAINNET_API_KEY","TONHTTPAPI_V3_TESTNET_API_KEY","FRACTION_DIGITS","SHORT_FRACTION_DIGITS","SUPPORT_USERNAME","MY_TON_WALLET_PROMO_URL","TELEGRAM_WEB_URL","TON_EXPLORER_BASE_MAINNET_URL","TON_EXPLORER_BASE_TESTNET_URL","TON_EXPLORER_NAME","TOKEN_EXPLORER_MAINNET_URL","TOKEN_EXPLORER_TESTNET_URL","TOKEN_EXPLORER_NAME","GETGEMS_BASE_MAINNET_URL","GETGEMS_BASE_TESTNET_URL","EMPTY_HASH_VALUE","CHANGELLY_SUPPORT_EMAIL","CHANGELLY_LIVE_CHAT_URL","CHANGELLY_SECURITY_EMAIL","CHANGELLY_TERMS_OF_USE","CHANGELLY_PRIVACY_POLICY","CHANGELLY_AML_KYC","CHANGELLY_WAITING_DEADLINE","DEFAULT_SWAP_SECOND_TOKEN_SLUG","DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG","PROXY_HOSTS","TINY_TRANSFER_MAX_COST","LANG_CACHE_NAME","LANG_LIST","langCode","nativeName","rtl","STAKING_CYCLE_DURATION_MS","MIN_BALANCE_FOR_UNSTAKE","STAKING_FORWARD_AMOUNT","DEFAULT_FEE","STAKING_MIN_AMOUNT","NOMINATORS_STAKING_MIN_AMOUNT","TONCONNECT_PROTOCOL_VERSION","TONCONNECT_WALLET_JSBRIDGE_KEY","MYCOIN_TOKEN","MYCOIN_SLUG","MYCOIN_TOKEN_TESTNET","MYCOIN_SLUG_TESTNET","TOKEN_INFO","TON_BLOCKCHAIN","INIT_SWAP_ASSETS","isPopular","MULTITAB_DATA_CHANNEL_NAME","ACTIVE_TAB_STORAGE_KEY","WINDOW_PROVIDER_CHANNEL","MIN_ASSETS_TAB_VIEW","SHORT_CURRENCY_SYMBOL_MAP","USD","EUR","RUB","CNY","CURRENCY_LIST","HISTORY_PERIODS","BROWSER_HISTORY_LIMIT","BURN_CHUNK_DURATION_APPROX_SEC","CLAIM_ADDRESS","CLAIM_AMOUNT","CLAIM_COMMENT","DIESEL_TOKENS","root","checkInt","checkInts","arrayish","coerceArray","arg","copy","prototype","call","isArray","createArray","copyArray","sourceArray","targetArray","targetStart","sourceStart","sourceEnd","convertUtf8","toBytes","encodeURI","substr","fromBytes","convertHex","Hex","numberOfRounds","rcon","S","Si","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","convertToInt32","AES","defineProperty","_prepare","rounds","_Ke","_Kd","roundKeyCount","KC","tk","rconpointer","t","tt","ciphertext","ModeOfOperationECB","_aes","block","ModeOfOperationCBC","_lastCipherblock","j","ModeOfOperationCFB","segmentSize","_shiftRegister","xorSegment","ModeOfOperationOFB","_lastPrecipher","_lastPrecipherIndex","Counter","initialValue","_counter","setValue","setBytes","MAX_SAFE_INTEGER","increment","ModeOfOperationCTR","counter","_remainingCounter","_remainingCounterIndex","pkcs7pad","padder","pkcs7strip","ecb","cfb","ofb","ctr","utils","utf8","padding","pkcs7","pad","strip","_arrayTest","exports","module","define","amd","_aesjs","buildFullPath","settle","buildURL","isFormData","isStandardBrowserEnv","isUndefined","fetchAdapter","createRequest","promiseChain","getResponse","setTimeout","timeoutErrorMessage","createError","race","stageOne","ok","statusText","Headers","responseType","arrayBuffer","blob","formData","auth","username","decodeURI","encodeURIComponent","toUpperCase","integrity","redirect","referrer","withCredentials","credentials","fullPath","baseURL","paramsSerializer","Request","AxiosError","enhanceError","isAxiosError","toJSON","number","fileName","lineNumber","columnNumber","__awaiter","thisArg","_arguments","P","generator","adopt","fulfilled","step","next","rejected","done","apply","__importDefault","mod","__esModule","DEFAULT_OPTIONS","exponentialDelay","isNetworkOrIdempotentRequestError","isIdempotentRequestError","isSafeRequestError","isRetryableError","isNetworkError","namespace","is_retry_allowed_1","CODE_EXCLUDE_LIST","SAFE_HTTP_METHODS","IDEMPOTENT_HTTP_METHODS","_a","indexOf","noDelay","_error","delayFactor","delay","pow","randomSum","random","retryCondition","getRequestOptions","defaultOptions","setCurrentState","currentState","lastRequestTime","fixConfig","axiosInstance","agent","httpAgent","httpsAgent","shouldRetry","shouldRetryOrPromise","shouldRetryPromiseResult","_err","requestInterceptorId","interceptors","use","responseInterceptorId","lastRequestDuration","transformRequest","DP","RM","MAX_DP","MAX_POWER","NE","PE","STRICT","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","UNDEFINED","NUMERIC","_Big_","Big","strict","TypeError","roundDown","roundHalfUp","roundHalfEven","roundUp","nl","charAt","search","sd","rm","more","xc","unshift","doExponential","isNonzero","cmp","y","isneg","yc","k","l","div","dp","bl","bt","ri","bz","ai","al","rl","q","qc","qi","p","shift","eq","gt","gte","lte","minus","sub","xlty","plus","xe","ye","ygtx","times","neg","one","prec","sqrt","half","toExponential","mul","toFixed","Symbol","for","toNumber","toPrecision","valueOf","characters","checkLNP","clean","alphabetMap","confusablesMap","alts","char","str","newStr","RE_SYMBOL_WITH_COMBINING_MARKS","RE_LINEBREAK_COMBINING_MARKS","RE_SPACE_CHARS","RE_FAKE_DOTS","RE_EMPTY_CHARS","checkLNPRegex","global","factory","globalThis","__assign","hasOwnProperty","__spreadArray","pack","ar","_global","window","extend","obj","extension","getProto","getPrototypeOf","_hasOwn","hasOwn","prop","props","proto","Reflect","ownKeys","setProp","functionOrGetSet","configurable","writable","derive","Child","Parent","getOwnPropertyDescriptor","getPropertyDescriptor","pd","_slice","override","origFunc","overridedFactory","asap$1","setImmediate","arrayToObject","array","extractor","nameAndValue","tryCatch","ex","getByKeyPath","keyPath","rv","innerObj","setByKeyPath","isFrozen","currentKeyPath","remainingKeyPath","isNaN","splice","delByKeyPath","kp","shallowClone","m","flatten","intrinsicTypeNames","num","intrinsicTypes","circularRefs","deepClone","any","WeakMap","innerDeepClone","toStringTag","o","iteratorSymbol","iterator","getIteratorOf","NO_CHAR_ARRAY","getArrayOf","arrayLike","it","isAsyncFunction","debug","location","href","setDebug","libraryFilter","NEEDS_THROW_FOR_STACK","getErrorWithStack","prettyStack","exception","numIgnoredFrames","frame","dexieErrorNames","idbDomErrorNames","errorList","defaultTexts","VersionChanged","DatabaseClosed","Abort","TransactionInactive","MissingAPI","DexieError","_e","_stack","getMultiErrorMessage","failures","ModifyError","successCount","failedKeys","BulkError","pos","failuresByPos","errnames","BaseException","exceptions","fullName","msgOrInner","inner","Syntax","SyntaxError","Type","Range","RangeError","exceptionMap","mapError","domError","fullNameExceptions","nop","mirror","pureFunctionChain","f1","f2","callBoth","on1","on2","hookCreatingChain","onsuccess","res2","hookDeletingChain","hookUpdatingChain","modifications","reverseStoppableEventChain","promisableChain","thiz","INTERNAL","LONG_STACKS_CLIP_LIMIT","MAX_LONG_STACKS","ZONE_ECHO_LIMIT","_a$1","globalP","nativeP","resolvedNativePromise","nativePromiseProto","resolvedGlobalPromise","nativePromiseThen","NativePromise","patchGlobalPromise","stack_being_generated","schedulePhysicalTick","physicalTick","MutationObserver","hiddenDiv","document","createElement","observe","attributes","setAttribute","asap","microtickQueue","needsNewPhysicalTick","isOutsideMicroTick","unhandledErrors","rejectingErrors","currentFulfiller","rejectionMapper","globalPSD","ref","unhandleds","onunhandled","globalError","pgp","finalize","uh","PSD","numScheduledCalls","tickFinalizers","DexiePromise","_listeners","onuncatched","_lib","psd","_PSD","_stackHolder","_prev","_numPrev","_state","_value","handleRejection","executePromiseTask","thenProp","microTaskId","totalEchoes","onFulfilled","onRejected","_this","possibleAwait","cleanup","decrementExpectedAwaits","propagateToListener","Listener","nativeAwaitCompatibleWrap","linkToPreviousPromise","_then","handler","PromiseReject","finally","onFinally","stacks","getStack","ms","Infinity","handle","Timeout","clearTimeout","snapShot","onPossibleParallellAsync","remaining","newPSD","newScope","usePSD","scheduler","follow","zoneProps","run_at_end_of_this_or_next_physical_tick","possiblePromises","AggregateError","failure","shouldExecuteTick","beginMicroTickScope","propagateAllListeners","endMicroTickScope","_promise","origProp","addPossiblyUnhandledError","listeners","finalizePhysicalTick","listener","cb","callListener","markErrorAsHandled","errorName","prev","numPrev","wasRootExec","callbacks","unhandledErrs","finalizers","finalizer","wrap","errorCatcher","outerScope","switchToZone","task","awaits","echoes","taskCounter","zoneStack","zoneEchoes","zone_id_counter","a1","a2","parent","globalEnv","PromiseProp","nthen","getPatchedPromiseThen","gthen","incrementExpectedAwaits","possiblePromise","rejection","zoneEnterEcho","targetZone","zoneLeaveEcho","bEnteringZone","currentZone","enqueueNativeMicroTask","GlobalPromise_1","targetEnv","GlobalPromise","a3","job","outerZone","origThen","onResolved","UNHANDLEDREJECTION","eventData","createEvent","initEvent","CustomEvent","detail","dispatchEvent","PromiseRejectionEvent","onunhandledrejection","_","defaultPrevented","warn","tempTransaction","db","storeNames","idbdb","openComplete","letThrough","_vip","dbOpenError","isBeingOpened","_options","autoOpen","dbReadyPromise","trans","_createTransaction","_dbSchema","PR1398_maxLoop","InvalidState","isOpen","_close","_completion","DEXIE_VERSION","maxString","minKey","INVALID_KEY_ARGUMENT","STRING_EXPECTED","connections","isIEOrEdge","navigator","userAgent","hasIEDeleteObjectStoreBug","hangsOnDeleteLargeKeyRange","dexieStackFrameFilter","DBNAMES_DB","READONLY","READWRITE","combine","filter1","filter2","AnyRange","lower","lowerOpen","upper","upperOpen","workaroundForUndefinedPrimKey","_trans","writeLocked","_tx","tableName","checkTableInTransaction","schema","NotFound","idbtrans","transless","keyOrCrit","first","core","reading","fire","indexOrCrit","WhereClause","keyPaths","compoundIndex","indexes","primKey","ix","compound","_maxKey","idxByName","_deps","indexedDB","prevIndex","prevFilterFn","multi","filterFunction","toCollection","and","count","thenShortcut","numRows","each","Collection","orderBy","mapToClass","mappedClass","readHook","unsubscribe","defineClass","Class","auto","objToAdd","mutate","numFailures","keyOrObject","InvalidArgument","modify","bulkGet","bulkAdd","objects","keysOrOptions","wantResults","allKeys","numObjects","objectsToAdd","objectsToPut","bulkDelete","numKeys","Events","ctx","evs","eventName","subscriber","subscribe","addEventType","chainFunction","defaultFunction","addConfiguredEvents","context","subscribers","cfg","fireEvent","makeClassConstructor","createTableConstructor","tableSchema","_allTables","isPlainKeyRange","ignoreLimitFilter","algorithm","or","justLimit","replayFilter","addFilter","addReplayFilter","isLimitFilter","curr","addMatchFilter","isMatch","getIndexOrStore","coreSchema","isPrimKey","primaryKey","getIndexByKeyPath","Schema","openCursor","coreTable","keysOnly","dir","unique","query","iter","coreTrans","iterate","valueMapper","set_1","union","cursor","advance","stop","fail","_iterate","cursorPromise","mappedFn","wrappedFn","continue","advancer","ta","tb","NaN","compareUint8Arrays","getUint8Array","compareArrays","ArrayBuffer","isView","tsTag","byteOffset","_read","_ctx","table","_write","_addAlgorithm","clone","sortBy","lastPart","lastIndex","getval","order","sorter","aVal","bVal","valueMapper_1","a_1","offsetLeft","rowsLeft","until","bIncludeStopEntry","last","indexName","_ondirectionchange","desc","eachKey","eachUniqueKey","eachPrimaryKey","primaryKeys","uniqueKeys","firstKey","lastKey","distinct","strKey","found","changes","modifyer","anythingModified","outbound","modifyChunkSize","totalFailures","applyMutateResult","expectedCount","_i","nextChunk","addValues","putValues","putKeys","deleteKeys","origValue","ctx_1","criteria","deleteCallback","changeSpec","coreRange","createCollectionConstructor","whereClause","keyRangeGenerator","keyRange","whereCtx","readingHook","simpleCompare","simpleCompareReverse","collectionOrWhereClause","T","emptyCollection","rangeEqual","upperFactory","lowerFactory","nextCasing","lowerKey","upperNeedle","lowerNeedle","llp","lwrKeyChar","addIgnoreCaseAlgorithm","needles","suffix","compare","upperNeedles","lowerNeedles","direction","nextKeySuffix","needlesLen","initDirection","needleBounds","needle","nb","createRange","firstPossibleNeedle","lowestPossibleCasing","casing","enumerable","between","includeLower","includeUpper","_cmp","above","aboveOrEqual","below","belowOrEqual","startsWithIgnoreCase","equalsIgnoreCase","anyOfIgnoreCase","startsWithAnyOfIgnoreCase","anyOf","_ascending","_descending","notEqual","inAnyRange","includeLowers","includeUppers","noneOf","ascending","descending","_min","_max","addRange","newRange","sortDirection","rangeSorter","rangePos","keyIsBeyondCurrentEntry","keyIsBeforeCurrentEntry","keyWithinCurrentRange","checkKey","startsWithAnyOf","createWhereClauseConstructor","orCollection","_IDBKeyRange","IDBKeyRange","eventRejectHandler","preventDefault","target","stopPropagation","DEXIE_STORAGE_MUTATED_EVENT_NAME","STORAGE_MUTATED_DOM_EVENT_NAME","globalEvents","Transaction","_lock","_reculock","lockOwnerFor","_unlock","_blockedFuncs","_locked","fnAndPSD","OpenFailed","active","durability","chromeTransactionDurability","ev","_reject","onabort","on","oncomplete","_resolve","storagemutated","bWriteLock","ReadOnly","_root","waitFor","promiseLike","_waitingFor","_waitingQueue","objectStore","spin","_spinCount","currentWaitPromise","abort","memoizedTables","_memoizedTables","transactionBoundTable","createTransactionConstructor","dbschema","complete","wasActive","createIndexSpec","nameFromKeyPath","createTableSchema","safariMultiStoreFix","getMaxKey","IdbKeyRange","only","getKeyExtractor","getSinglePathKeyExtractor","arrayify","_id_counter","getKeyPathAlias","createDBCore","tmpTrans","extractSchema","tables","objectStoreNames","autoIncrement","indexByKeyPath","isPrimaryKey","indexNames","multiEntry","hasGetAll","makeIDBKeyRange","idbRange","upperBound","lowerBound","bound","createDbCoreTable","isAddOrPut","req","reqs","errorHandler","args1","args2","openKeyCursor","___id","_cursorContinue","_cursorContinuePrimaryKey","continuePrimaryKey","_cursorAdvance","doThrowCursorIsNotStarted","doThrowCursorIsStopped","gotOne","iterationPromise","resolveIteration","rejectIteration","guardedCallback","nonInfinitLimit","idbKeyRange","getAllKeys","count_1","req_1","result_1","keyCount","callbackCount","successHandler","_pos","tableMap","MIN_KEY","MAX_KEY","createMiddlewareStack","stackImpl","middlewares","down","createMiddlewareStacks","dbcore","generateMiddlewareStacks","_novip","_middlewares","tbl","setApiOnPlace","objs","tableNames","propDesc","removeTablesApi","lowerVersionFirst","_cfg","runUpgraders","oldVersion","idbUpgradeTrans","globalSchema","_storeNames","rejectTransaction","createTable","populate","updateTablesAndIndexes","queue","_versions","buildGlobalSchema","anyContentUpgraderHasRun","versToRun","oldSchema","newSchema","adjustToExistingIndexNames","diff","getSchemaDiff","change","recreate","Upgrade","store_1","addIndex","deleteIndex","idxName","contentUpgrade","upgradeSchema_1","contentUpgradeIsAsync_1","returnValue_1","promiseFollowed","decrementor","deleteRemovedTables","runQueue","createMissingTables","oldDef","newDef","def","oldIndexes","newIndexes","oldIdx","newIdx","createObjectStore","contains","storeName","deleteObjectStore","createIndex","dbStoreNames","idbindex","readGlobalSchema","verno","verifyInstalledSchema","installedSchema","_hasGetAll","dexieName","indexSpec","WorkerGlobalScope","parseIndexSyntax","primKeyAndIndexes","indexNum","trim","Version","_parseStoresSpec","outSchema","storesSource","storesSpec","upgrade","upgradeFunction","createVersionConstructor","versionNumber","getDbNamesTable","dbNamesDB","Dexie$1","addons","dbnames","hasDatabasesNative","databases","getDatabaseNames","infos","_onDatabaseCreated","_onDatabaseDeleted","vip","idbReady","isSafari","userAgentData","intervalId","tryIdb","setInterval","clearInterval","dexieOpen","openCanceller","throwIfCancelled","resolveDbReady","dbReadyResolve","upgradeTransaction","wasCreated","dbName","autoSchema","onblocked","_fireOnBlocked","onupgradeneeded","allowEmptyDB","delreq","deleteDatabase","NoSuchDatabase","oldVer","onversionchange","vcFired","onclose","onReadyBeingFired","ready","fireRemainders","remainders_1","awaitIterator","callNext","doThrow","throw","onSuccess","onError","getNext","extractTransactionArgs","_tableArgs_","scopeFunc","enterTransactionScope","parentTransaction","scopeFuncIsAsync","returnValue","PrematureCommit","createVirtualIndexMiddleware","indexLookup","allVirtualIndexes","addVirtualIndexes","keyTail","lowLevelIndex","keyPathAlias","indexList","keyLength","isVirtual","virtualIndex","virtualKeyPath","findBestIndex","translateRange","translateRequest","createVirtualCursor","_continue","virtualCursor","virtualIndexMiddleware","level","getObjectDiff","prfx","ap","bp","apTypeName","bpTypeName","getEffectiveKeys","hooksMiddleware","downCore","downTable","tableMiddleware","dxTrans","deleting","creating","updating","addPutOrDelete","deleteRange","getExistingValues","existingValues","contexts","existingValue","generatedPrimaryKey","objectDiff","additionalChanges_1","requestedValue_1","deleteNextChunk","effectiveKeys","getFromTransactionCache","cacheExistingValuesMiddleware","cachedResult","isEmptyRange","node","RangeSet","fromOrTree","d","rangeSet","mergeRanges","addKey","addKeys","getRangeSetIterator","left","right","rebalance","rightWasCutOff","newSet","_addRangeSet","rangesOverlap","rangeSet1","rangeSet2","i1","nextResult1","i2","nextResult2","keyProvided","up","_b","rootClone","oldRootRight","computeDepth","observabilityMiddleware","FULL_RANGE","tableClone","mutatedParts","getRangeSet","pkRangeSet","delsRangeSet","newObjs","oldCache","oldObjs","trackAffectedIndexes","getRange","_c","_d","readSubscribers","subscr","pkRangeSet_1","delsRangeSet_1","queriedIndex","queriedRanges","keysPromise_1","resultingKeys","pKeys","cursor_1","wantValues_1","pkey","addAffectedIndex","addKeyOrKeys","oldKey","newKey","deps","dependencies","cancelOpen","bSticky","db_1","newVersion","addon","versionInstance","_whenReady","unuse","mw","hasArguments","doDelete","backendDB","hasBeenClosed","hasFailed","dynamicallyOpened","_transaction","onlyIfCompatible","idbMode","SubTransaction","enterTransaction","InvalidTable","symbolObservable","observable","Observable","_subscribe","extendObservabilitySet","liveQuery","querier","hasValue","currentValue","observer","execute","exec","closed","accumMuts","currentObs","subscription","mutationListener","querying","startedListening","shouldNotify","doQuery","getValue","domDeps","mozIndexedDB","webkitIndexedDB","msIndexedDB","webkitIDBKeyRange","databaseName","exists","ignoreTransaction","async","generatorFn","spawn","currentTransaction","promiseOrFunction","optionalTimeout","semVer","maxKey","addEventListener","updatedParts","propagatingLocally","event_1","initCustomEvent","propagateLocally","updateParts","wasMe","BroadcastChannel","bc_1","unref","changedParts","postMessage","trig","includeUncontrolled","swContainer","serviceWorker","propagateMessageLocally","namedExports","freeze","__proto__","denyList","isRetryAllowed","nobleEd25519","_nodeResolve_empty","nodeCrypto","_0n","_1n","_2n","_8n","CU_O","CURVE","h","Gx","Gy","POW_2_256","SQRT_M1","SQRT_AD_MINUS_ONE","INVSQRT_A_MINUS_D","ONE_MINUS_D_SQ","D_MINUS_ONE_SQ","ExtendedPoint","z","fromAffine","Point","ZERO","toAffineBatch","points","toInv","invertBatch","toAffine","normalizeZ","other","assertExtPoint","X1","Y1","Z1","X2","Y2","Z2","X1Z2","X2Z1","Y1Z2","Y2Z1","negate","double","A","B","C","D","x1y1","E","G","F","H","X3","Y3","Z3","subtract","precomputeWindow","W","windows","wNAF","affinePoint","BASE","_WINDOW_SIZE","precomputes","pointPrecomputes","f","windowSize","mask","maxNumber","shiftBy","wbits","offset1","offset2","cond1","cond2","constTimeNegate","multiply","scalar","normalizeScalar","multiplyUnsafe","P0","isSmallOrder","isTorsionFree","invZ","is0","invert","ax","ay","zz","fromRistrettoBytes","legacyRist","toRistrettoBytes","fromRistrettoHash","condition","assertRstPoint","RistrettoPoint","ep","calcElligatorRistrettoMap","r0","Ns","Ns_D_is_sq","uvRatio","s_","edIsNegative","Nt","s2","W0","W1","W2","W3","hashToCurve","ensureBytes","r1","bytes255ToNumberLE","R1","r2","R2","fromHex","emsg","equalBytes","numberTo32BytesLE","u1","u2","u1_2","u2_2","I","invertSqrt","Dx","Dy","toRawBytes","u2sq","invsqrt","D1","D2","zInv","_x","_y","toHex","two","_setWindowSize","normed","bytesToNumberLE","y2","u","isXOdd","isLastByteOdd","fromPrivateKey","getExtendedPublicKey","point","toX25519","Signature","assertValidity","u8","concatBytes","arrays","hexes","uint8a","hexByte","numberTo32BytesBE","MAX_255B","modulo","gcd","nums","tmp","lastMultiplied","inverted","reduceRight","pow2","power","pow_2_252_3","_5n","_10n","_20n","_40n","_80n","x2","b2","b4","b5","b10","b20","b40","b80","b160","b240","b250","pow_p_5_8","v3","v7","vx2","root1","root2","useRoot1","useRoot2","noRoot","modlLE","b1","expectedLength","isSafeInteger","adjustBytes25519","decodeScalar25519","checkPrivateKey","getKeyFromHash","hashed","head","pointBytes","_sha512Sync","sha512s","sha512","getExtendedPublicKeySync","getPublicKey","getPublicKeySync","R","signSync","prepareVerification","sig","SB","pub","finishVerification","kA","RkA","verify","verifySync","sync","curve25519","scalarMult","cswap","x_2","x_3","dummy","montgomeryLadder","pointU","a24","x_1","z_2","z_3","sw","k_t","AA","BB","DA","CB","dacb","da_cb","xp2","encodeUCoordinate","decodeUCoordinate","uEnc","BASE_POINT_U","pu","scalarMultBase","web","TORSION_SUBGROUP","hashToPrivateScalar","bytesLength","randomPrivateKey","createHash","precompute","cached","sha512Sync","defineProperties","ConnectorClass","channel","shouldUseJson","targetOrigin","destroy","messageData","requestStates","requestStatesByCallback","messageId","requestState","withCallback","cancelCallback","progressCallback","isCanceled","onMessage","_requestState$callbac","callbackArgs","_data$error","createConnector","worker","connector","handleMessage","removeEventListener","createExtensionConnector","getInitArgs","port","runtime","addListener","onDisconnect","value1","value2","type1","type2","isArray1","isArray2","array1","array2","member1","object1","object2","keys1","key1","BIGINT_PREFIX","bigintAbs","randomNumber","randomBigInt","bigintCountBits","binaryString","hasCallbacks","EventEmitter","resolveChannel","removeListener","emit","_len2","_key2","channels","methodName","isAsc","DETACHED_TAB_URL","callbackState","api","shouldIgnoreErrors","sendToOrigin","transferables","handleErrors","_message$data","createExtensionInterface","portName","cleanUpdater","withAutoInit","onConnect","_port$sender","dAppUpdater","_api$init","lastArg","isTransferable","ImageBitmap","_e$error","_e$reason","ten","toDecimal","noFloor","toBig","roundDecimal","getIsPositiveDecimal","zonesRegex","gram","_value$match","_value$match2","MAX_TIMEOUT","urlObject","append","timeouts","_timeouts","fetchWithTimeout","shouldSkipRetry","controller","AbortController","signal","ignoreHttpCodes","_errors$","throttle","noop","throttledAlert","alert","handleErrorEvent","ErrorEvent","handleError","byKey","member","groupBy","groupKey","mapValues","newByKey","object","pickTruthy","stringKeys","savedKeys","stringKey","orderRule","compareValues","currentOrderRule","aValue","bValue","mode1","mode2","orderRule1","orderRule2","isAsc1","isAsc2","areSortedArraysEqual","chunkSize","isObject","isLiteralObject","findLast","predicate","findDifference","set2","element","ledgerTabId","openLedgerTab","createLedgerTab","closeLedgerTab","tabs","onLedgerTabClose","onClose","onRemoved","closedTabId","tab","windowId","focused","log","IPFS_GATEWAY_BASE_URL","reserveUrl","isFocused","msWhenNotFocused","_isFocused","sample","SAFE_EXEC_ENABLED","rescue","always","debounce","shouldRunFirst","shouldRunLast","waitingTimeout","interval","isPending","_args","throttleWithTickEnd","throttleWith","onTickEnd","schedulerFn","waiting","_len3","_key3","onIdle","requestIdleCallback","rafPromise","fastRaf","FAST_RAF_TIMEOUT_FALLBACK_MS","fastRafCallbacks","fastRafFallbackCallbacks","fastRafFallbackTimeout","withTimeoutFallback","requestAnimationFrame","currentCallbacks","currentTimeoutCallbacks","onTickEndCallbacks","beforeUnloadCallbacks","onBeforeUnload","isLast","backendId","canBeCached","fnCache","cacheKey","buildCacheKey"],"sourceRoot":""}