/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/definitions.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/definitions.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BarcodeFormat: () => (/* binding */ BarcodeFormat)
/* harmony export */ });
/* unused harmony exports BarcodeValueType, LensFacing, GoogleBarcodeScannerModuleInstallState */
/**
 * @since 0.0.1
 */
var BarcodeFormat;
(function (BarcodeFormat) {
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Aztec"] = "AZTEC";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Codabar"] = "CODABAR";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Code39"] = "CODE_39";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Code93"] = "CODE_93";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Code128"] = "CODE_128";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["DataMatrix"] = "DATA_MATRIX";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Ean8"] = "EAN_8";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Ean13"] = "EAN_13";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Itf"] = "ITF";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["Pdf417"] = "PDF_417";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["QrCode"] = "QR_CODE";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["UpcA"] = "UPC_A";
    /**
     * Only available on Android and iOS.
     *
     * @since 0.0.1
     */
    BarcodeFormat["UpcE"] = "UPC_E";
})(BarcodeFormat || (BarcodeFormat = {}));
/**
 * @since 0.0.1
 */
var BarcodeValueType;
(function (BarcodeValueType) {
    /**
     * @since 0.0.1
     */
    BarcodeValueType["CalendarEvent"] = "CALENDAR_EVENT";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["ContactInfo"] = "CONTACT_INFO";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["DriversLicense"] = "DRIVERS_LICENSE";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Email"] = "EMAIL";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Geo"] = "GEO";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Isbn"] = "ISBN";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Phone"] = "PHONE";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Product"] = "PRODUCT";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Sms"] = "SMS";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Text"] = "TEXT";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Url"] = "URL";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Wifi"] = "WIFI";
    /**
     * @since 0.0.1
     */
    BarcodeValueType["Unknown"] = "UNKNOWN";
})(BarcodeValueType || (BarcodeValueType = {}));
/**
 * @since 0.0.1
 */
var LensFacing;
(function (LensFacing) {
    /**
     * @since 0.0.1
     */
    LensFacing["Front"] = "FRONT";
    /**
     * @since 0.0.1
     */
    LensFacing["Back"] = "BACK";
})(LensFacing || (LensFacing = {}));
/**
 * @since 5.1.0
 */
var GoogleBarcodeScannerModuleInstallState;
(function (GoogleBarcodeScannerModuleInstallState) {
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["UNKNOWN"] = 0] = "UNKNOWN";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["PENDING"] = 1] = "PENDING";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["DOWNLOADING"] = 2] = "DOWNLOADING";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["CANCELED"] = 3] = "CANCELED";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["COMPLETED"] = 4] = "COMPLETED";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["FAILED"] = 5] = "FAILED";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["INSTALLING"] = 6] = "INSTALLING";
    /**
     * @since 5.1.0
     */
    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState["DOWNLOAD_PAUSED"] = 7] = "DOWNLOAD_PAUSED";
})(GoogleBarcodeScannerModuleInstallState || (GoogleBarcodeScannerModuleInstallState = {}));
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BarcodeFormat: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.BarcodeFormat),
/* harmony export */   BarcodeScanner: () => (/* binding */ BarcodeScanner)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/definitions.js");

const BarcodeScanner = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('BarcodeScanner', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor-mlkit_barcode-scanning_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/web.js")).then(m => new m.BarcodeScannerWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/action-sheet/dist/esm/definitions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@capacitor/action-sheet/dist/esm/definitions.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionSheetButtonStyle: () => (/* binding */ ActionSheetButtonStyle)
/* harmony export */ });
/* unused harmony export ActionSheetOptionStyle */
var ActionSheetButtonStyle;
(function (ActionSheetButtonStyle) {
    /**
     * Default style of the option.
     *
     * @since 1.0.0
     */
    ActionSheetButtonStyle["Default"] = "DEFAULT";
    /**
     * Style to use on destructive options.
     *
     * @since 1.0.0
     */
    ActionSheetButtonStyle["Destructive"] = "DESTRUCTIVE";
    /**
     * Style to use on the option that cancels the Action Sheet.
     * If used, should be on the latest availabe option.
     *
     * @since 1.0.0
     */
    ActionSheetButtonStyle["Cancel"] = "CANCEL";
})(ActionSheetButtonStyle || (ActionSheetButtonStyle = {}));
/**
 * @deprecated Use `ActionSheetButtonStyle`.
 * @since 1.0.0
 */
const ActionSheetOptionStyle = ActionSheetButtonStyle;
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/action-sheet/dist/esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@capacitor/action-sheet/dist/esm/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActionSheet: () => (/* binding */ ActionSheet),
/* harmony export */   ActionSheetButtonStyle: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.ActionSheetButtonStyle)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/action-sheet/dist/esm/definitions.js");

const ActionSheet = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('ActionSheet', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor_action-sheet_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capacitor/action-sheet/dist/esm/web.js")).then(m => new m.ActionSheetWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/app-launcher/dist/esm/definitions.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@capacitor/app-launcher/dist/esm/definitions.js ***!
  \**********************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/app-launcher/dist/esm/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/@capacitor/app-launcher/dist/esm/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppLauncher: () => (/* binding */ AppLauncher)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/app-launcher/dist/esm/definitions.js");

const AppLauncher = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('AppLauncher', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor_app-launcher_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capacitor/app-launcher/dist/esm/web.js")).then(m => new m.AppLauncherWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/app/dist/esm/definitions.js":
/*!*************************************************************!*\
  !*** ./node_modules/@capacitor/app/dist/esm/definitions.js ***!
  \*************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/app/dist/esm/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/@capacitor/app/dist/esm/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   App: () => (/* binding */ App)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/app/dist/esm/definitions.js");

const App = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('App', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor_app_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capacitor/app/dist/esm/web.js")).then(m => new m.AppWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/clipboard/dist/esm/definitions.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@capacitor/clipboard/dist/esm/definitions.js ***!
  \*******************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/clipboard/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@capacitor/clipboard/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Clipboard: () => (/* binding */ Clipboard)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _web__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./web */ "./node_modules/@capacitor/clipboard/dist/esm/web.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/clipboard/dist/esm/definitions.js");


const Clipboard = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('Clipboard', {
    web: () => new _web__WEBPACK_IMPORTED_MODULE_1__.ClipboardWeb(),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/clipboard/dist/esm/web.js":
/*!***********************************************************!*\
  !*** ./node_modules/@capacitor/clipboard/dist/esm/web.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ClipboardWeb: () => (/* binding */ ClipboardWeb)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");

class ClipboardWeb extends _capacitor_core__WEBPACK_IMPORTED_MODULE_0__.WebPlugin {
    async write(options) {
        if (typeof navigator === 'undefined' || !navigator.clipboard) {
            throw this.unavailable('Clipboard API not available in this browser');
        }
        if (options.string !== undefined) {
            await this.writeText(options.string);
        }
        else if (options.url) {
            await this.writeText(options.url);
        }
        else if (options.image) {
            if (typeof ClipboardItem !== 'undefined') {
                try {
                    const blob = await (await fetch(options.image)).blob();
                    const clipboardItemInput = new ClipboardItem({ [blob.type]: blob });
                    await navigator.clipboard.write([clipboardItemInput]);
                }
                catch (err) {
                    throw new Error('Failed to write image');
                }
            }
            else {
                throw this.unavailable('Writing images to the clipboard is not supported in this browser');
            }
        }
        else {
            throw new Error('Nothing to write');
        }
    }
    async read() {
        if (typeof navigator === 'undefined' || !navigator.clipboard) {
            throw this.unavailable('Clipboard API not available in this browser');
        }
        if (typeof ClipboardItem !== 'undefined') {
            try {
                const clipboardItems = await navigator.clipboard.read();
                const type = clipboardItems[0].types[0];
                const clipboardBlob = await clipboardItems[0].getType(type);
                const data = await this._getBlobData(clipboardBlob, type);
                return { value: data, type };
            }
            catch (err) {
                return this.readText();
            }
        }
        else {
            return this.readText();
        }
    }
    async readText() {
        if (typeof navigator === 'undefined' ||
            !navigator.clipboard ||
            !navigator.clipboard.readText) {
            throw this.unavailable('Reading from clipboard not supported in this browser');
        }
        const text = await navigator.clipboard.readText();
        return { value: text, type: 'text/plain' };
    }
    async writeText(text) {
        if (typeof navigator === 'undefined' ||
            !navigator.clipboard ||
            !navigator.clipboard.writeText) {
            throw this.unavailable('Writting to clipboard not supported in this browser');
        }
        await navigator.clipboard.writeText(text);
    }
    _getBlobData(clipboardBlob, type) {
        return new Promise((resolve, reject) => {
            const reader = new FileReader();
            if (type.includes('image')) {
                reader.readAsDataURL(clipboardBlob);
            }
            else {
                reader.readAsText(clipboardBlob);
            }
            reader.onloadend = () => {
                const r = reader.result;
                resolve(r);
            };
            reader.onerror = e => {
                reject(e);
            };
        });
    }
}
//# sourceMappingURL=web.js.map

/***/ }),

/***/ "./node_modules/@capacitor/core/dist/index.js":
/*!****************************************************!*\
  !*** ./node_modules/@capacitor/core/dist/index.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Capacitor: () => (/* binding */ Capacitor),
/* harmony export */   CapacitorException: () => (/* binding */ CapacitorException),
/* harmony export */   ExceptionCode: () => (/* binding */ ExceptionCode),
/* harmony export */   WebPlugin: () => (/* binding */ WebPlugin),
/* harmony export */   registerPlugin: () => (/* binding */ registerPlugin)
/* harmony export */ });
/* unused harmony exports CapacitorCookies, CapacitorHttp, CapacitorPlatforms, Plugins, WebView, addPlatform, buildRequestInit, registerWebPlugin, setPlatform */
/*! Capacitor: https://capacitorjs.com/ - MIT License */
const createCapacitorPlatforms = (win) => {
    const defaultPlatformMap = new Map();
    defaultPlatformMap.set('web', { name: 'web' });
    const capPlatforms = win.CapacitorPlatforms || {
        currentPlatform: { name: 'web' },
        platforms: defaultPlatformMap,
    };
    const addPlatform = (name, platform) => {
        capPlatforms.platforms.set(name, platform);
    };
    const setPlatform = (name) => {
        if (capPlatforms.platforms.has(name)) {
            capPlatforms.currentPlatform = capPlatforms.platforms.get(name);
        }
    };
    capPlatforms.addPlatform = addPlatform;
    capPlatforms.setPlatform = setPlatform;
    return capPlatforms;
};
const initPlatforms = (win) => (win.CapacitorPlatforms = createCapacitorPlatforms(win));
/**
 * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead
 */
const CapacitorPlatforms = /*#__PURE__*/ initPlatforms((typeof globalThis !== 'undefined'
    ? globalThis
    : typeof self !== 'undefined'
        ? self
        : typeof window !== 'undefined'
            ? window
            : typeof __webpack_require__.g !== 'undefined'
                ? __webpack_require__.g
                : {}));
/**
 * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead
 */
const addPlatform = CapacitorPlatforms.addPlatform;
/**
 * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead
 */
const setPlatform = CapacitorPlatforms.setPlatform;

const legacyRegisterWebPlugin = (cap, webPlugin) => {
    var _a;
    const config = webPlugin.config;
    const Plugins = cap.Plugins;
    if (!(config === null || config === void 0 ? void 0 : config.name)) {
        // TODO: add link to upgrade guide
        throw new Error(`Capacitor WebPlugin is using the deprecated "registerWebPlugin()" function, but without the config. Please use "registerPlugin()" instead to register this web plugin."`);
    }
    // TODO: add link to upgrade guide
    console.warn(`Capacitor plugin "${config.name}" is using the deprecated "registerWebPlugin()" function`);
    if (!Plugins[config.name] || ((_a = config === null || config === void 0 ? void 0 : config.platforms) === null || _a === void 0 ? void 0 : _a.includes(cap.getPlatform()))) {
        // Add the web plugin into the plugins registry if there already isn't
        // an existing one. If it doesn't already exist, that means
        // there's no existing native implementation for it.
        // - OR -
        // If we already have a plugin registered (meaning it was defined in the native layer),
        // then we should only overwrite it if the corresponding web plugin activates on
        // a certain platform. For example: Geolocation uses the WebPlugin on Android but not iOS
        Plugins[config.name] = webPlugin;
    }
};

var ExceptionCode;
(function (ExceptionCode) {
    /**
     * API is not implemented.
     *
     * This usually means the API can't be used because it is not implemented for
     * the current platform.
     */
    ExceptionCode["Unimplemented"] = "UNIMPLEMENTED";
    /**
     * API is not available.
     *
     * This means the API can't be used right now because:
     *   - it is currently missing a prerequisite, such as network connectivity
     *   - it requires a particular platform or browser version
     */
    ExceptionCode["Unavailable"] = "UNAVAILABLE";
})(ExceptionCode || (ExceptionCode = {}));
class CapacitorException extends Error {
    constructor(message, code, data) {
        super(message);
        this.message = message;
        this.code = code;
        this.data = data;
    }
}
const getPlatformId = (win) => {
    var _a, _b;
    if (win === null || win === void 0 ? void 0 : win.androidBridge) {
        return 'android';
    }
    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {
        return 'ios';
    }
    else {
        return 'web';
    }
};

const createCapacitor = (win) => {
    var _a, _b, _c, _d, _e;
    const capCustomPlatform = win.CapacitorCustomPlatform || null;
    const cap = win.Capacitor || {};
    const Plugins = (cap.Plugins = cap.Plugins || {});
    /**
     * @deprecated Use `capCustomPlatform` instead, default functions like registerPlugin will function with the new object.
     */
    const capPlatforms = win.CapacitorPlatforms;
    const defaultGetPlatform = () => {
        return capCustomPlatform !== null
            ? capCustomPlatform.name
            : getPlatformId(win);
    };
    const getPlatform = ((_a = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _a === void 0 ? void 0 : _a.getPlatform) || defaultGetPlatform;
    const defaultIsNativePlatform = () => getPlatform() !== 'web';
    const isNativePlatform = ((_b = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _b === void 0 ? void 0 : _b.isNativePlatform) || defaultIsNativePlatform;
    const defaultIsPluginAvailable = (pluginName) => {
        const plugin = registeredPlugins.get(pluginName);
        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {
            // JS implementation available for the current platform.
            return true;
        }
        if (getPluginHeader(pluginName)) {
            // Native implementation available.
            return true;
        }
        return false;
    };
    const isPluginAvailable = ((_c = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _c === void 0 ? void 0 : _c.isPluginAvailable) ||
        defaultIsPluginAvailable;
    const defaultGetPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find(h => h.name === pluginName); };
    const getPluginHeader = ((_d = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _d === void 0 ? void 0 : _d.getPluginHeader) || defaultGetPluginHeader;
    const handleError = (err) => win.console.error(err);
    const pluginMethodNoop = (_target, prop, pluginName) => {
        return Promise.reject(`${pluginName} does not have an implementation of "${prop}".`);
    };
    const registeredPlugins = new Map();
    const defaultRegisterPlugin = (pluginName, jsImplementations = {}) => {
        const registeredPlugin = registeredPlugins.get(pluginName);
        if (registeredPlugin) {
            console.warn(`Capacitor plugin "${pluginName}" already registered. Cannot register plugins twice.`);
            return registeredPlugin.proxy;
        }
        const platform = getPlatform();
        const pluginHeader = getPluginHeader(pluginName);
        let jsImplementation;
        const loadPluginImplementation = async () => {
            if (!jsImplementation && platform in jsImplementations) {
                jsImplementation =
                    typeof jsImplementations[platform] === 'function'
                        ? (jsImplementation = await jsImplementations[platform]())
                        : (jsImplementation = jsImplementations[platform]);
            }
            else if (capCustomPlatform !== null &&
                !jsImplementation &&
                'web' in jsImplementations) {
                jsImplementation =
                    typeof jsImplementations['web'] === 'function'
                        ? (jsImplementation = await jsImplementations['web']())
                        : (jsImplementation = jsImplementations['web']);
            }
            return jsImplementation;
        };
        const createPluginMethod = (impl, prop) => {
            var _a, _b;
            if (pluginHeader) {
                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find(m => prop === m.name);
                if (methodHeader) {
                    if (methodHeader.rtype === 'promise') {
                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);
                    }
                    else {
                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);
                    }
                }
                else if (impl) {
                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);
                }
            }
            else if (impl) {
                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);
            }
            else {
                throw new CapacitorException(`"${pluginName}" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);
            }
        };
        const createPluginMethodWrapper = (prop) => {
            let remove;
            const wrapper = (...args) => {
                const p = loadPluginImplementation().then(impl => {
                    const fn = createPluginMethod(impl, prop);
                    if (fn) {
                        const p = fn(...args);
                        remove = p === null || p === void 0 ? void 0 : p.remove;
                        return p;
                    }
                    else {
                        throw new CapacitorException(`"${pluginName}.${prop}()" is not implemented on ${platform}`, ExceptionCode.Unimplemented);
                    }
                });
                if (prop === 'addListener') {
                    p.remove = async () => remove();
                }
                return p;
            };
            // Some flair ✨
            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;
            Object.defineProperty(wrapper, 'name', {
                value: prop,
                writable: false,
                configurable: false,
            });
            return wrapper;
        };
        const addListener = createPluginMethodWrapper('addListener');
        const removeListener = createPluginMethodWrapper('removeListener');
        const addListenerNative = (eventName, callback) => {
            const call = addListener({ eventName }, callback);
            const remove = async () => {
                const callbackId = await call;
                removeListener({
                    eventName,
                    callbackId,
                }, callback);
            };
            const p = new Promise(resolve => call.then(() => resolve({ remove })));
            p.remove = async () => {
                console.warn(`Using addListener() without 'await' is deprecated.`);
                await remove();
            };
            return p;
        };
        const proxy = new Proxy({}, {
            get(_, prop) {
                switch (prop) {
                    // https://github.com/facebook/react/issues/20030
                    case '$$typeof':
                        return undefined;
                    case 'toJSON':
                        return () => ({});
                    case 'addListener':
                        return pluginHeader ? addListenerNative : addListener;
                    case 'removeListener':
                        return removeListener;
                    default:
                        return createPluginMethodWrapper(prop);
                }
            },
        });
        Plugins[pluginName] = proxy;
        registeredPlugins.set(pluginName, {
            name: pluginName,
            proxy,
            platforms: new Set([
                ...Object.keys(jsImplementations),
                ...(pluginHeader ? [platform] : []),
            ]),
        });
        return proxy;
    };
    const registerPlugin = ((_e = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _e === void 0 ? void 0 : _e.registerPlugin) || defaultRegisterPlugin;
    // Add in convertFileSrc for web, it will already be available in native context
    if (!cap.convertFileSrc) {
        cap.convertFileSrc = filePath => filePath;
    }
    cap.getPlatform = getPlatform;
    cap.handleError = handleError;
    cap.isNativePlatform = isNativePlatform;
    cap.isPluginAvailable = isPluginAvailable;
    cap.pluginMethodNoop = pluginMethodNoop;
    cap.registerPlugin = registerPlugin;
    cap.Exception = CapacitorException;
    cap.DEBUG = !!cap.DEBUG;
    cap.isLoggingEnabled = !!cap.isLoggingEnabled;
    // Deprecated props
    cap.platform = cap.getPlatform();
    cap.isNative = cap.isNativePlatform();
    return cap;
};
const initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));

const Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'
    ? globalThis
    : typeof self !== 'undefined'
        ? self
        : typeof window !== 'undefined'
            ? window
            : typeof __webpack_require__.g !== 'undefined'
                ? __webpack_require__.g
                : {});
const registerPlugin = Capacitor.registerPlugin;
/**
 * @deprecated Provided for backwards compatibility for Capacitor v2 plugins.
 * Capacitor v3 plugins should import the plugin directly. This "Plugins"
 * export is deprecated in v3, and will be removed in v4.
 */
const Plugins = Capacitor.Plugins;
/**
 * Provided for backwards compatibility. Use the registerPlugin() API
 * instead, and provide the web plugin as the "web" implmenetation.
 * For example
 *
 * export const Example = registerPlugin('Example', {
 *   web: () => import('./web').then(m => new m.Example())
 * })
 *
 * @deprecated Deprecated in v3, will be removed from v4.
 */
const registerWebPlugin = (plugin) => legacyRegisterWebPlugin(Capacitor, plugin);

/**
 * Base class web plugins should extend.
 */
class WebPlugin {
    constructor(config) {
        this.listeners = {};
        this.windowListeners = {};
        if (config) {
            // TODO: add link to upgrade guide
            console.warn(`Capacitor WebPlugin "${config.name}" config object was deprecated in v3 and will be removed in v4.`);
            this.config = config;
        }
    }
    addListener(eventName, listenerFunc) {
        const listeners = this.listeners[eventName];
        if (!listeners) {
            this.listeners[eventName] = [];
        }
        this.listeners[eventName].push(listenerFunc);
        // If we haven't added a window listener for this event and it requires one,
        // go ahead and add it
        const windowListener = this.windowListeners[eventName];
        if (windowListener && !windowListener.registered) {
            this.addWindowListener(windowListener);
        }
        const remove = async () => this.removeListener(eventName, listenerFunc);
        const p = Promise.resolve({ remove });
        Object.defineProperty(p, 'remove', {
            value: async () => {
                console.warn(`Using addListener() without 'await' is deprecated.`);
                await remove();
            },
        });
        return p;
    }
    async removeAllListeners() {
        this.listeners = {};
        for (const listener in this.windowListeners) {
            this.removeWindowListener(this.windowListeners[listener]);
        }
        this.windowListeners = {};
    }
    notifyListeners(eventName, data) {
        const listeners = this.listeners[eventName];
        if (listeners) {
            listeners.forEach(listener => listener(data));
        }
    }
    hasListeners(eventName) {
        return !!this.listeners[eventName].length;
    }
    registerWindowListener(windowEventName, pluginEventName) {
        this.windowListeners[pluginEventName] = {
            registered: false,
            windowEventName,
            pluginEventName,
            handler: event => {
                this.notifyListeners(pluginEventName, event);
            },
        };
    }
    unimplemented(msg = 'not implemented') {
        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);
    }
    unavailable(msg = 'not available') {
        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);
    }
    async removeListener(eventName, listenerFunc) {
        const listeners = this.listeners[eventName];
        if (!listeners) {
            return;
        }
        const index = listeners.indexOf(listenerFunc);
        this.listeners[eventName].splice(index, 1);
        // If there are no more listeners for this type of event,
        // remove the window listener
        if (!this.listeners[eventName].length) {
            this.removeWindowListener(this.windowListeners[eventName]);
        }
    }
    addWindowListener(handle) {
        window.addEventListener(handle.windowEventName, handle.handler);
        handle.registered = true;
    }
    removeWindowListener(handle) {
        if (!handle) {
            return;
        }
        window.removeEventListener(handle.windowEventName, handle.handler);
        handle.registered = false;
    }
}

const WebView = /*#__PURE__*/ registerPlugin('WebView');
/******** END WEB VIEW PLUGIN ********/
/******** COOKIES PLUGIN ********/
/**
 * Safely web encode a string value (inspired by js-cookie)
 * @param str The string value to encode
 */
const encode = (str) => encodeURIComponent(str)
    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)
    .replace(/[()]/g, escape);
/**
 * Safely web decode a string value (inspired by js-cookie)
 * @param str The string value to decode
 */
const decode = (str) => str.replace(/(%[\dA-F]{2})+/gi, decodeURIComponent);
class CapacitorCookiesPluginWeb extends WebPlugin {
    async getCookies() {
        const cookies = document.cookie;
        const cookieMap = {};
        cookies.split(';').forEach(cookie => {
            if (cookie.length <= 0)
                return;
            // Replace first "=" with CAP_COOKIE to prevent splitting on additional "="
            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');
            key = decode(key).trim();
            value = decode(value).trim();
            cookieMap[key] = value;
        });
        return cookieMap;
    }
    async setCookie(options) {
        try {
            // Safely Encoded Key/Value
            const encodedKey = encode(options.key);
            const encodedValue = encode(options.value);
            // Clean & sanitize options
            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is "; expires="
            const path = (options.path || '/').replace('path=', ''); // Default is "path=/"
            const domain = options.url != null && options.url.length > 0
                ? `domain=${options.url}`
                : '';
            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;
        }
        catch (error) {
            return Promise.reject(error);
        }
    }
    async deleteCookie(options) {
        try {
            document.cookie = `${options.key}=; Max-Age=0`;
        }
        catch (error) {
            return Promise.reject(error);
        }
    }
    async clearCookies() {
        try {
            const cookies = document.cookie.split(';') || [];
            for (const cookie of cookies) {
                document.cookie = cookie
                    .replace(/^ +/, '')
                    .replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);
            }
        }
        catch (error) {
            return Promise.reject(error);
        }
    }
    async clearAllCookies() {
        try {
            await this.clearCookies();
        }
        catch (error) {
            return Promise.reject(error);
        }
    }
}
const CapacitorCookies = registerPlugin('CapacitorCookies', {
    web: () => new CapacitorCookiesPluginWeb(),
});
// UTILITY FUNCTIONS
/**
 * Read in a Blob value and return it as a base64 string
 * @param blob The blob value to convert to a base64 string
 */
const readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {
    const reader = new FileReader();
    reader.onload = () => {
        const base64String = reader.result;
        // remove prefix "data:application/pdf;base64,"
        resolve(base64String.indexOf(',') >= 0
            ? base64String.split(',')[1]
            : base64String);
    };
    reader.onerror = (error) => reject(error);
    reader.readAsDataURL(blob);
});
/**
 * Normalize an HttpHeaders map by lowercasing all of the values
 * @param headers The HttpHeaders object to normalize
 */
const normalizeHttpHeaders = (headers = {}) => {
    const originalKeys = Object.keys(headers);
    const loweredKeys = Object.keys(headers).map(k => k.toLocaleLowerCase());
    const normalized = loweredKeys.reduce((acc, key, index) => {
        acc[key] = headers[originalKeys[index]];
        return acc;
    }, {});
    return normalized;
};
/**
 * Builds a string of url parameters that
 * @param params A map of url parameters
 * @param shouldEncode true if you should encodeURIComponent() the values (true by default)
 */
const buildUrlParams = (params, shouldEncode = true) => {
    if (!params)
        return null;
    const output = Object.entries(params).reduce((accumulator, entry) => {
        const [key, value] = entry;
        let encodedValue;
        let item;
        if (Array.isArray(value)) {
            item = '';
            value.forEach(str => {
                encodedValue = shouldEncode ? encodeURIComponent(str) : str;
                item += `${key}=${encodedValue}&`;
            });
            // last character will always be "&" so slice it off
            item.slice(0, -1);
        }
        else {
            encodedValue = shouldEncode ? encodeURIComponent(value) : value;
            item = `${key}=${encodedValue}`;
        }
        return `${accumulator}&${item}`;
    }, '');
    // Remove initial "&" from the reduce
    return output.substr(1);
};
/**
 * Build the RequestInit object based on the options passed into the initial request
 * @param options The Http plugin options
 * @param extra Any extra RequestInit values
 */
const buildRequestInit = (options, extra = {}) => {
    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);
    // Get the content-type
    const headers = normalizeHttpHeaders(options.headers);
    const type = headers['content-type'] || '';
    // If body is already a string, then pass it through as-is.
    if (typeof options.data === 'string') {
        output.body = options.data;
    }
    // Build request initializers based off of content-type
    else if (type.includes('application/x-www-form-urlencoded')) {
        const params = new URLSearchParams();
        for (const [key, value] of Object.entries(options.data || {})) {
            params.set(key, value);
        }
        output.body = params.toString();
    }
    else if (type.includes('multipart/form-data') ||
        options.data instanceof FormData) {
        const form = new FormData();
        if (options.data instanceof FormData) {
            options.data.forEach((value, key) => {
                form.append(key, value);
            });
        }
        else {
            for (const key of Object.keys(options.data)) {
                form.append(key, options.data[key]);
            }
        }
        output.body = form;
        const headers = new Headers(output.headers);
        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary
        output.headers = headers;
    }
    else if (type.includes('application/json') ||
        typeof options.data === 'object') {
        output.body = JSON.stringify(options.data);
    }
    return output;
};
// WEB IMPLEMENTATION
class CapacitorHttpPluginWeb extends WebPlugin {
    /**
     * Perform an Http request given a set of options
     * @param options Options to build the HTTP request
     */
    async request(options) {
        const requestInit = buildRequestInit(options, options.webFetchExtra);
        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);
        const url = urlParams ? `${options.url}?${urlParams}` : options.url;
        const response = await fetch(url, requestInit);
        const contentType = response.headers.get('content-type') || '';
        // Default to 'text' responseType so no parsing happens
        let { responseType = 'text' } = response.ok ? options : {};
        // If the response content-type is json, force the response to be json
        if (contentType.includes('application/json')) {
            responseType = 'json';
        }
        let data;
        let blob;
        switch (responseType) {
            case 'arraybuffer':
            case 'blob':
                blob = await response.blob();
                data = await readBlobAsBase64(blob);
                break;
            case 'json':
                data = await response.json();
                break;
            case 'document':
            case 'text':
            default:
                data = await response.text();
        }
        // Convert fetch headers to Capacitor HttpHeaders
        const headers = {};
        response.headers.forEach((value, key) => {
            headers[key] = value;
        });
        return {
            data,
            headers,
            status: response.status,
            url: response.url,
        };
    }
    /**
     * Perform an Http GET request given a set of options
     * @param options Options to build the HTTP request
     */
    async get(options) {
        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));
    }
    /**
     * Perform an Http POST request given a set of options
     * @param options Options to build the HTTP request
     */
    async post(options) {
        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));
    }
    /**
     * Perform an Http PUT request given a set of options
     * @param options Options to build the HTTP request
     */
    async put(options) {
        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));
    }
    /**
     * Perform an Http PATCH request given a set of options
     * @param options Options to build the HTTP request
     */
    async patch(options) {
        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));
    }
    /**
     * Perform an Http DELETE request given a set of options
     * @param options Options to build the HTTP request
     */
    async delete(options) {
        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));
    }
}
const CapacitorHttp = registerPlugin('CapacitorHttp', {
    web: () => new CapacitorHttpPluginWeb(),
});
/******** END HTTP PLUGIN ********/


//# sourceMappingURL=index.js.map


/***/ }),

/***/ "./node_modules/@capacitor/haptics/dist/esm/definitions.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@capacitor/haptics/dist/esm/definitions.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ImpactStyle: () => (/* binding */ ImpactStyle),
/* harmony export */   NotificationType: () => (/* binding */ NotificationType)
/* harmony export */ });
/* unused harmony exports HapticsNotificationType, HapticsImpactStyle */
var ImpactStyle;
(function (ImpactStyle) {
    /**
     * A collision between large, heavy user interface elements
     *
     * @since 1.0.0
     */
    ImpactStyle["Heavy"] = "HEAVY";
    /**
     * A collision between moderately sized user interface elements
     *
     * @since 1.0.0
     */
    ImpactStyle["Medium"] = "MEDIUM";
    /**
     * A collision between small, light user interface elements
     *
     * @since 1.0.0
     */
    ImpactStyle["Light"] = "LIGHT";
})(ImpactStyle || (ImpactStyle = {}));
var NotificationType;
(function (NotificationType) {
    /**
     * A notification feedback type indicating that a task has completed successfully
     *
     * @since 1.0.0
     */
    NotificationType["Success"] = "SUCCESS";
    /**
     * A notification feedback type indicating that a task has produced a warning
     *
     * @since 1.0.0
     */
    NotificationType["Warning"] = "WARNING";
    /**
     * A notification feedback type indicating that a task has failed
     *
     * @since 1.0.0
     */
    NotificationType["Error"] = "ERROR";
})(NotificationType || (NotificationType = {}));
/**
 * @deprecated Use `NotificationType`.
 * @since 1.0.0
 */
const HapticsNotificationType = NotificationType;
/**
 * @deprecated Use `ImpactStyle`.
 * @since 1.0.0
 */
const HapticsImpactStyle = ImpactStyle;
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/haptics/dist/esm/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@capacitor/haptics/dist/esm/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Haptics: () => (/* binding */ Haptics),
/* harmony export */   ImpactStyle: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.ImpactStyle)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/haptics/dist/esm/definitions.js");

const Haptics = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('Haptics', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor_haptics_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capacitor/haptics/dist/esm/web.js")).then(m => new m.HapticsWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capacitor/status-bar/dist/esm/definitions.js":
/*!********************************************************************!*\
  !*** ./node_modules/@capacitor/status-bar/dist/esm/definitions.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Style: () => (/* binding */ Style)
/* harmony export */ });
/* unused harmony exports Animation, StatusBarAnimation, StatusBarStyle */
var Style;
(function (Style) {
    /**
     * Light text for dark backgrounds.
     *
     * @since 1.0.0
     */
    Style["Dark"] = "DARK";
    /**
     * Dark text for light backgrounds.
     *
     * @since 1.0.0
     */
    Style["Light"] = "LIGHT";
    /**
     * The style is based on the device appearance.
     * If the device is using Dark mode, the statusbar text will be light.
     * If the device is using Light mode, the statusbar text will be dark.
     * On Android the default will be the one the app was launched with.
     *
     * @since 1.0.0
     */
    Style["Default"] = "DEFAULT";
})(Style || (Style = {}));
var Animation;
(function (Animation) {
    /**
     * No animation during show/hide.
     *
     * @since 1.0.0
     */
    Animation["None"] = "NONE";
    /**
     * Slide animation during show/hide.
     * It doesn't work on iOS 15+.
     *
     * @deprecated Use Animation.Fade or Animation.None instead.
     *
     * @since 1.0.0
     */
    Animation["Slide"] = "SLIDE";
    /**
     * Fade animation during show/hide.
     *
     * @since 1.0.0
     */
    Animation["Fade"] = "FADE";
})(Animation || (Animation = {}));
/**
 * @deprecated Use `Animation`.
 * @since 1.0.0
 */
const StatusBarAnimation = Animation;
/**
 * @deprecated Use `Style`.
 * @since 1.0.0
 */
const StatusBarStyle = Style;
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capacitor/status-bar/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/@capacitor/status-bar/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   StatusBar: () => (/* binding */ StatusBar),
/* harmony export */   Style: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.Style)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capacitor/status-bar/dist/esm/definitions.js");

const StatusBar = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('StatusBar');


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/definitions.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@capgo/capacitor-native-biometric/dist/esm/definitions.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BiometryType: () => (/* binding */ BiometryType)
/* harmony export */ });
/* unused harmony export BiometricAuthError */
var BiometryType;
(function (BiometryType) {
    // Android, iOS
    BiometryType[BiometryType["NONE"] = 0] = "NONE";
    // iOS
    BiometryType[BiometryType["TOUCH_ID"] = 1] = "TOUCH_ID";
    // iOS
    BiometryType[BiometryType["FACE_ID"] = 2] = "FACE_ID";
    // Android
    BiometryType[BiometryType["FINGERPRINT"] = 3] = "FINGERPRINT";
    // Android
    BiometryType[BiometryType["FACE_AUTHENTICATION"] = 4] = "FACE_AUTHENTICATION";
    // Android
    BiometryType[BiometryType["IRIS_AUTHENTICATION"] = 5] = "IRIS_AUTHENTICATION";
    // Android
    BiometryType[BiometryType["MULTIPLE"] = 6] = "MULTIPLE";
})(BiometryType || (BiometryType = {}));
/**
 * Keep this in sync with BiometricAuthError in README.md
 * Update whenever `convertToPluginErrorCode` functions are modified
 */
var BiometricAuthError;
(function (BiometricAuthError) {
    BiometricAuthError[BiometricAuthError["UNKNOWN_ERROR"] = 0] = "UNKNOWN_ERROR";
    BiometricAuthError[BiometricAuthError["BIOMETRICS_UNAVAILABLE"] = 1] = "BIOMETRICS_UNAVAILABLE";
    BiometricAuthError[BiometricAuthError["USER_LOCKOUT"] = 2] = "USER_LOCKOUT";
    BiometricAuthError[BiometricAuthError["BIOMETRICS_NOT_ENROLLED"] = 3] = "BIOMETRICS_NOT_ENROLLED";
    BiometricAuthError[BiometricAuthError["USER_TEMPORARY_LOCKOUT"] = 4] = "USER_TEMPORARY_LOCKOUT";
    BiometricAuthError[BiometricAuthError["AUTHENTICATION_FAILED"] = 10] = "AUTHENTICATION_FAILED";
    BiometricAuthError[BiometricAuthError["APP_CANCEL"] = 11] = "APP_CANCEL";
    BiometricAuthError[BiometricAuthError["INVALID_CONTEXT"] = 12] = "INVALID_CONTEXT";
    BiometricAuthError[BiometricAuthError["NOT_INTERACTIVE"] = 13] = "NOT_INTERACTIVE";
    BiometricAuthError[BiometricAuthError["PASSCODE_NOT_SET"] = 14] = "PASSCODE_NOT_SET";
    BiometricAuthError[BiometricAuthError["SYSTEM_CANCEL"] = 15] = "SYSTEM_CANCEL";
    BiometricAuthError[BiometricAuthError["USER_CANCEL"] = 16] = "USER_CANCEL";
    BiometricAuthError[BiometricAuthError["USER_FALLBACK"] = 17] = "USER_FALLBACK";
})(BiometricAuthError || (BiometricAuthError = {}));
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BiometryType: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.BiometryType),
/* harmony export */   NativeBiometric: () => (/* binding */ NativeBiometric)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/definitions.js");

const NativeBiometric = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)("NativeBiometric", {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capgo_capacitor-native-biometric_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/web.js")).then((m) => new m.NativeBiometricWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@capgo/native-audio/dist/esm/definitions.js":
/*!******************************************************************!*\
  !*** ./node_modules/@capgo/native-audio/dist/esm/definitions.js ***!
  \******************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@capgo/native-audio/dist/esm/index.js":
/*!************************************************************!*\
  !*** ./node_modules/@capgo/native-audio/dist/esm/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NativeAudio: () => (/* binding */ NativeAudio)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@capgo/native-audio/dist/esm/definitions.js");

const NativeAudio = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)("NativeAudio", {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capgo_native-audio_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@capgo/native-audio/dist/esm/web.js")).then((m) => new m.NativeAudioWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/definitions.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/definitions.js ***!
  \**************************************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/index.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NavigationBar: () => (/* binding */ NavigationBar)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/definitions.js");
/* harmony import */ var _navigationbar_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./navigationbar.events */ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/navigationbar.events.js");

const NavigationBar = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('NavigationBar', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_mauricewegner_capacitor-navigation-bar_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/web.js")).then(m => new m.NavigationBarWeb()),
});



//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/navigationbar.events.js":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/navigationbar.events.js ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* unused harmony export NavigationBarPluginEvents */
var NavigationBarPluginEvents;
(function (NavigationBarPluginEvents) {
    /**
     * Called after the navigation bar is displayed
     */
    NavigationBarPluginEvents["SHOW"] = "onShow";
    /**
     * Called after navigation bar is hidden
     */
    NavigationBarPluginEvents["HIDE"] = "onHide";
    /**
     * Called after navigation bar color is changed
     */
    NavigationBarPluginEvents["COLOR_CHANGE"] = "onColorChange";
})(NavigationBarPluginEvents || (NavigationBarPluginEvents = {}));
//# sourceMappingURL=navigationbar.events.js.map

/***/ }),

/***/ "./mobile/plugins/capacitor-splash-screen/dist/esm/definitions.js":
/*!************************************************************************!*\
  !*** ./mobile/plugins/capacitor-splash-screen/dist/esm/definitions.js ***!
  \************************************************************************/
/***/ (() => {

"use strict";
/// <reference types="@capacitor/cli" />


/***/ }),

/***/ "./mobile/plugins/capacitor-splash-screen/dist/esm/index.js":
/*!******************************************************************!*\
  !*** ./mobile/plugins/capacitor-splash-screen/dist/esm/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SplashScreen: () => (/* binding */ SplashScreen)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./mobile/plugins/capacitor-splash-screen/dist/esm/definitions.js");

const SplashScreen = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('SplashScreen', {
  web: () => __webpack_require__.e(/*! import() */ "mobile_plugins_capacitor-splash-screen_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./mobile/plugins/capacitor-splash-screen/dist/esm/web.js")).then(m => new m.SplashScreenWeb())
});



/***/ }),

/***/ "./mobile/plugins/native-bottom-sheet/dist/esm/definitions.js":
/*!********************************************************************!*\
  !*** ./mobile/plugins/native-bottom-sheet/dist/esm/definitions.js ***!
  \********************************************************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js":
/*!**************************************************************!*\
  !*** ./mobile/plugins/native-bottom-sheet/dist/esm/index.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BottomSheet: () => (/* binding */ BottomSheet)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./mobile/plugins/native-bottom-sheet/dist/esm/definitions.js");

const BottomSheet = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('BottomSheet');



/***/ }),

/***/ "./mobile/plugins/native-dialog/dist/esm/definitions.js":
/*!**************************************************************!*\
  !*** ./mobile/plugins/native-dialog/dist/esm/definitions.js ***!
  \**************************************************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./mobile/plugins/native-dialog/dist/esm/index.js":
/*!********************************************************!*\
  !*** ./mobile/plugins/native-dialog/dist/esm/index.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Dialog: () => (/* binding */ Dialog)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./mobile/plugins/native-dialog/dist/esm/definitions.js");

const Dialog = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('Dialog', {
  web: () => __webpack_require__.e(/*! import() */ "mobile_plugins_native-dialog_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./mobile/plugins/native-dialog/dist/esm/web.js")).then(m => new m.DialogWeb())
});



/***/ }),

/***/ "./src/api/blockchains/ton/constants.ts":
/*!**********************************************!*\
  !*** ./src/api/blockchains/ton/constants.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_DECIMALS: () => (/* binding */ DEFAULT_DECIMALS),
/* harmony export */   DEFAULT_IS_BOUNCEABLE: () => (/* binding */ DEFAULT_IS_BOUNCEABLE),
/* harmony export */   DNS_ZONES_MAP: () => (/* binding */ DNS_ZONES_MAP),
/* harmony export */   JettonOpCode: () => (/* binding */ JettonOpCode),
/* harmony export */   LiquidStakingOpCode: () => (/* binding */ LiquidStakingOpCode),
/* harmony export */   NFT_TRANSFER_TONCOIN_AMOUNT: () => (/* binding */ NFT_TRANSFER_TONCOIN_AMOUNT),
/* harmony export */   NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT: () => (/* binding */ NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT),
/* harmony export */   OpCode: () => (/* binding */ OpCode),
/* harmony export */   STAKE_COMMENT: () => (/* binding */ STAKE_COMMENT),
/* harmony export */   TOKEN_TRANSFER_TONCOIN_AMOUNT: () => (/* binding */ TOKEN_TRANSFER_TONCOIN_AMOUNT),
/* harmony export */   TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT: () => (/* binding */ TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT),
/* harmony export */   TRANSFER_TIMEOUT_SEC: () => (/* binding */ TRANSFER_TIMEOUT_SEC),
/* harmony export */   UNSTAKE_COMMENT: () => (/* binding */ UNSTAKE_COMMENT),
/* harmony export */   WALLET_IS_BOUNCEABLE: () => (/* binding */ WALLET_IS_BOUNCEABLE),
/* harmony export */   WORKCHAIN: () => (/* binding */ WORKCHAIN)
/* harmony export */ });
/* unused harmony exports ATTEMPTS, FEE_FACTOR, ALL_WALLET_VERSIONS, NftOpCode, VestingV1OpCode, SingleNominatorOpCode, DnsOpCode, OtherOpCode, ContractType, DnsCategory, DNS_CATEGORY_HASH_MAP, KnownContracts */
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/api/types/index.ts");

const TOKEN_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON
const TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON
const NFT_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON
const NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON

const STAKE_COMMENT = 'd';
const UNSTAKE_COMMENT = 'w';
const ATTEMPTS = 5;
const DEFAULT_DECIMALS = 9;
const DEFAULT_IS_BOUNCEABLE = true;
const WALLET_IS_BOUNCEABLE = false;

// Fee may change, so we add 5% for more reliability. This is only safe for low-fee blockchains such as TON.
const FEE_FACTOR = 1.05;
const ALL_WALLET_VERSIONS = ['simpleR1', 'simpleR2', 'simpleR3', 'v2R1', 'v2R2', 'v3R1', 'v3R2', 'v4R2', 'W5'];
const WORKCHAIN = _types__WEBPACK_IMPORTED_MODULE_0__.Workchain.BaseChain;
const TRANSFER_TIMEOUT_SEC = 600; // 10 min.

let OpCode = /*#__PURE__*/function (OpCode) {
  OpCode[OpCode["Comment"] = 0] = "Comment";
  OpCode[OpCode["Encrypted"] = 560454219] = "Encrypted";
  return OpCode;
}({});
let JettonOpCode = /*#__PURE__*/function (JettonOpCode) {
  JettonOpCode[JettonOpCode["Transfer"] = 260734629] = "Transfer";
  JettonOpCode[JettonOpCode["TransferNotification"] = 1935855772] = "TransferNotification";
  JettonOpCode[JettonOpCode["InternalTransfer"] = 395134233] = "InternalTransfer";
  JettonOpCode[JettonOpCode["Excesses"] = 3576854235] = "Excesses";
  JettonOpCode[JettonOpCode["Burn"] = 1499400124] = "Burn";
  JettonOpCode[JettonOpCode["BurnNotification"] = 2078119902] = "BurnNotification";
  return JettonOpCode;
}({});
let NftOpCode = /*#__PURE__*/function (NftOpCode) {
  NftOpCode[NftOpCode["TransferOwnership"] = 1607220500] = "TransferOwnership";
  NftOpCode[NftOpCode["OwnershipAssigned"] = 85167505] = "OwnershipAssigned";
  return NftOpCode;
}({});
let LiquidStakingOpCode = /*#__PURE__*/function (LiquidStakingOpCode) {
  LiquidStakingOpCode[LiquidStakingOpCode["RequestLoan"] = 3863136613] = "RequestLoan";
  LiquidStakingOpCode[LiquidStakingOpCode["LoanRepayment"] = 3755778683] = "LoanRepayment";
  LiquidStakingOpCode[LiquidStakingOpCode["Deposit"] = 1205158801] = "Deposit";
  LiquidStakingOpCode[LiquidStakingOpCode["Withdraw"] = 832244956] = "Withdraw";
  LiquidStakingOpCode[LiquidStakingOpCode["Withdrawal"] = 175592284] = "Withdrawal";
  LiquidStakingOpCode[LiquidStakingOpCode["DeployController"] = 2994658477] = "DeployController";
  LiquidStakingOpCode[LiquidStakingOpCode["Touch"] = 1271382751] = "Touch";
  LiquidStakingOpCode[LiquidStakingOpCode["Donate"] = 1940913697] = "Donate";
  LiquidStakingOpCode[LiquidStakingOpCode["DistributedAsset"] = 3678112445] = "DistributedAsset";
  LiquidStakingOpCode[LiquidStakingOpCode["Vote"] = 1778069612] = "Vote";
  return LiquidStakingOpCode;
}({});
let VestingV1OpCode = /*#__PURE__*/function (VestingV1OpCode) {
  VestingV1OpCode[VestingV1OpCode["AddWhitelist"] = 1918412443] = "AddWhitelist";
  return VestingV1OpCode;
}({});
let SingleNominatorOpCode = /*#__PURE__*/function (SingleNominatorOpCode) {
  SingleNominatorOpCode[SingleNominatorOpCode["Withdraw"] = 4096] = "Withdraw";
  SingleNominatorOpCode[SingleNominatorOpCode["ChangeValidator"] = 4097] = "ChangeValidator";
  return SingleNominatorOpCode;
}({});
let DnsOpCode = /*#__PURE__*/function (DnsOpCode) {
  DnsOpCode[DnsOpCode["ChangeRecord"] = 1320284409] = "ChangeRecord";
  return DnsOpCode;
}({});
let OtherOpCode = /*#__PURE__*/function (OtherOpCode) {
  OtherOpCode[OtherOpCode["TokenBridgePaySwap"] = 8] = "TokenBridgePaySwap";
  return OtherOpCode;
}({});
let ContractType = /*#__PURE__*/function (ContractType) {
  ContractType["Wallet"] = "wallet";
  ContractType["Staking"] = "staking";
  return ContractType;
}({});
let DnsCategory = /*#__PURE__*/function (DnsCategory) {
  DnsCategory["DnsNextResolver"] = "dns_next_resolver";
  DnsCategory["Wallet"] = "wallet";
  DnsCategory["Site"] = "site";
  DnsCategory["BagId"] = "storage";
  DnsCategory["Unknown"] = "unknown";
  return DnsCategory;
}({});
const DNS_CATEGORY_HASH_MAP = {
  dns_next_resolver: '19f02441ee588fdb26ee24b2568dd035c3c9206e11ab979be62e55558a1d17ff',
  wallet: 'e8d44050873dba865aa7c170ab4cce64d90839a34dcfd6cf71d14e0205443b1b',
  site: 'fbae041b02c41ed0fd8a4efb039bc780dd6af4a1f0c420f42561ae705dda43fe',
  storage: '49a25f9feefaffecad0fcd30c50dc9331cff8b55ece53def6285c09e17e6f5d7'
};
const DNS_ZONES_MAP = {
  '.t.me': 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',
  '.ton': 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',
  '.vip': 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',
  '.gram': 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ'
};
const KnownContracts = {
  simpleR1: {
    name: 'simpleR1',
    hash: '3232dc55b02b3d2a9485adc151cf29c50b94c374d3571cb59390d761b87af8bd',
    type: ContractType.Wallet
  },
  simpleR2: {
    name: 'simpleR2',
    hash: '672ce2b01d2fd487a5e0528611e7e4fc11867148cc13ff772bd773b72fb368df',
    type: ContractType.Wallet
  },
  simpleR3: {
    name: 'simpleR3',
    hash: 'd95417233f66ae218317f533630cbbddc677d6d893d5722be6947c8fad8e9d52',
    type: ContractType.Wallet
  },
  v2R1: {
    name: 'v2R1',
    hash: 'fb3bd539b7e50166f1cfdc0bbd298b1c88f6b261fe5ee61343ea47ab4b256029',
    type: ContractType.Wallet
  },
  v2R2: {
    name: 'v2R2',
    hash: 'b584b6106753b7f34709df505be603e463a44ff6a85adf7fec4e26453c325983',
    type: ContractType.Wallet
  },
  v3R1: {
    name: 'v3R1',
    hash: '11d123ed5c2055128e75a9ef4cf1e837e6d14a9c079c39939885c78dc13626e6',
    type: ContractType.Wallet
  },
  v3R2: {
    name: 'v3R2',
    hash: 'df7bf014ee7ac0c38da19ef1b7fa054e2cc7a4513df1f1aa295109cf3606ac14',
    type: ContractType.Wallet
  },
  v4R1: {
    name: 'v4R1',
    hash: '1bc0dfa40956c911616f8a5db09ecc217601bae48d7d3f9311562c5afcb66dcf',
    type: ContractType.Wallet
  },
  v4R2: {
    name: 'v4R2',
    hash: '5659ce2300f4a09a37b0bdee41246ded52474f032c1d6ffce0d7d31b18b7b2b1',
    type: ContractType.Wallet
  },
  W5: {
    name: 'W5',
    hash: '7e94eaaeaaa423b9396e79747038c42edc4fe98dce65094071f0e0ad2df22fd5',
    type: ContractType.Wallet
  },
  highloadV2: {
    name: 'highloadV2',
    hash: 'fcd7d1f3b3847f0b9bd44bc64a2256c03450979dd1646a24fbc874b075392d6e',
    type: ContractType.Wallet
  },
  nominatorPool: {
    name: 'nominatorPool',
    hash: '26faa2d0fd2a8197ea36ded8dc50ad081cce5244207e9b05c08c1bb655527bff',
    type: ContractType.Staking
  },
  multisig: {
    name: 'multisig',
    hash: '45d890485cdd6b152bcbbe3fb2e16d2df82f6da840440a5b9f34ea13cb0b92d2',
    type: ContractType.Wallet
  },
  multisigV2: {
    name: 'multisigV2',
    hash: 'eb1323c5544d5bf26248dc427d108d722d5c2922dd97dd0bdf903c4cea73ca97',
    type: ContractType.Wallet
  },
  vesting: {
    name: 'vesting',
    hash: '69dc931958f7aa203c4a7bfcf263d25d2d828d573184b542a65dd55c8398ad83',
    type: ContractType.Wallet
  },
  multisigNew: {
    name: 'multisigNew',
    hash: '7cb3678880388acff45d74b2e7e7544caa8039d20b49f57c75b53c051b6fa30f',
    type: ContractType.Wallet
  },
  dedustPool: {
    name: 'dedustPool',
    hash: 'f216ded2b43d32e2d487db6fa6e4d2387f0ef1d7b53ec1ad85f0b4feb8e4ed62',
    isSwapAllowed: true
  },
  dedustVaultNative: {
    name: 'dedustVaultNative',
    hash: '64a42ad66688097422901ae6188670f0d6292ad3bdb4139289666f24187e86cb',
    isSwapAllowed: true
  },
  dedustVaultJetton: {
    name: 'dedustVaultJetton',
    hash: '5bc82f0c5972ccc6732e98cbe31ea4795da818f9e06c991331568182a8362307',
    isSwapAllowed: true
  },
  stonPtonWallet: {
    name: 'stonPtonWallet',
    hash: '6ccbf71a3ed9c7355f84a698a44a7406574bfb8aa34d4bbd86ab75ee9c994880',
    isSwapAllowed: true
  },
  stonRouter: {
    name: 'stonRouter',
    hash: '14ce618a0e9a94adc99fa6e975219ddd675425b30dfa9728f98714c8dc55f9da',
    isSwapAllowed: true
  },
  megatonWtonMaster: {
    name: 'megatonWtonMaster',
    hash: '4c9790d808ea4470614e021f76c40529efe2fbce8138da4284a29b5f1943ef19',
    isSwapAllowed: true
  },
  megatonRouter: {
    name: 'megatonRouter',
    hash: '5d5f0e3ed9602d1ba96006ead98cb5e9b53f49ce4a5cf675e06e4d440b7d267c',
    isSwapAllowed: true
  }
};

/***/ }),

/***/ "./src/api/errors.ts":
/*!***************************!*\
  !*** ./src/api/errors.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiHardwareBlindSigningNotEnabled: () => (/* binding */ ApiHardwareBlindSigningNotEnabled),
/* harmony export */   ApiServerError: () => (/* binding */ ApiServerError),
/* harmony export */   ApiUnsupportedVersionError: () => (/* binding */ ApiUnsupportedVersionError),
/* harmony export */   ApiUserRejectsError: () => (/* binding */ ApiUserRejectsError),
/* harmony export */   handleServerError: () => (/* binding */ handleServerError)
/* harmony export */ });
/* unused harmony exports ApiBaseError, AbortOperationError, maybeApiErrors */
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/api/types/index.ts");
// eslint-disable-next-line max-classes-per-file


class ApiBaseError extends Error {
  constructor(message, displayError) {
    super(message);
    this.displayError = displayError;
    this.name = this.constructor.name;
  }
}
class ApiUserRejectsError extends ApiBaseError {
  constructor() {
    let message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Canceled by the user';
    super(message);
  }
}
class ApiServerError extends ApiBaseError {
  constructor(message, statusCode) {
    super(message, _types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.ServerError);
    this.statusCode = statusCode;
  }
}
class ApiUnsupportedVersionError extends ApiBaseError {
  constructor(message) {
    super(message, _types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.UnsupportedVersion);
  }
}
class ApiHardwareBlindSigningNotEnabled extends ApiBaseError {
  constructor() {
    let message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Blind signing not enabled';
    super(message, _types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionError.HardwareBlindSigningNotEnabled);
  }
}
class AbortOperationError extends ApiBaseError {
  constructor() {
    let message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'Abort operation';
    super(message);
  }
}
function maybeApiErrors(fn) {
  return async function () {
    try {
      return await fn(...arguments);
    } catch (err) {
      return handleServerError(err);
    }
  };
}
function handleServerError(err) {
  if (err instanceof ApiServerError) {
    return {
      error: err.displayError
    };
  }
  throw err;
}

/***/ }),

/***/ "./src/api/index.ts":
/*!**************************!*\
  !*** ./src/api/index.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   callApi: () => (/* reexport safe */ _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__.callApi),
/* harmony export */   initApi: () => (/* reexport safe */ _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__.initApi)
/* harmony export */ });
/* harmony import */ var _providers_worker_connector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./providers/worker/connector */ "./src/api/providers/worker/connector.ts");
// export { initApi, callApi } from './providers/direct/connector';


/***/ }),

/***/ "./src/api/providers/worker/connector.ts":
/*!***********************************************!*\
  !*** ./src/api/providers/worker/connector.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   callApi: () => (/* binding */ callApi),
/* harmony export */   initApi: () => (/* binding */ initApi)
/* harmony export */ });
/* unused harmony export callApiWithThrow */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_capacitorStorageProxy__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/capacitorStorageProxy */ "./src/util/capacitorStorageProxy/index.ts");
/* harmony import */ var _util_logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/logs */ "./src/util/logs.ts");
/* harmony import */ var _util_PostMessageConnector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/PostMessageConnector */ "./src/util/PostMessageConnector.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");






const HEALTH_CHECK_TIMEOUT = 150;
const HEALTH_CHECK_MIN_DELAY = 5000; // 5 sec

let updateCallback;
let worker;
let connector;
let isInitialized = false;
function initApi(onUpdate, initArgs) {
  updateCallback = onUpdate;
  if (!connector) {
    worker = new Worker( /* webpackChunkName: "worker" */new URL(/* worker import */ __webpack_require__.p + __webpack_require__.u("worker"), __webpack_require__.b));
    connector = (0,_util_PostMessageConnector__WEBPACK_IMPORTED_MODULE_3__.createConnector)(worker, onUpdate);
    if (_config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR) {
      (0,_util_capacitorStorageProxy__WEBPACK_IMPORTED_MODULE_1__.createWindowProvider)(worker);
    }
  }
  if (!isInitialized) {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_IOS) {
      setupIosHealthCheck();
    }
    isInitialized = true;
  }
  const args = typeof initArgs === 'function' ? initArgs() : initArgs;
  return connector.init(args);
}
async function callApi(fnName) {
  if (!connector) {
    (0,_util_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('API is not initialized');
    return undefined;
  }
  try {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    return await connector.request({
      name: fnName,
      args
    });
  } catch (err) {
    return undefined;
  }
}
function callApiWithThrow(fnName) {
  for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
    args[_key2 - 1] = arguments[_key2];
  }
  return connector.request({
    name: fnName,
    args
  });
}
const startedAt = Date.now();

// Workaround for iOS sometimes stops interacting with worker
function setupIosHealthCheck() {
  window.addEventListener('focus', () => {
    void ensureWorkerPing();
    // Sometimes a single check is not enough
    setTimeout(() => ensureWorkerPing(), 1000);
  });
}
async function ensureWorkerPing() {
  let isResolved = false;
  try {
    await Promise.race([callApiWithThrow('ping'), (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.pause)(HEALTH_CHECK_TIMEOUT).then(() => isResolved ? undefined : Promise.reject(new Error('HEALTH_CHECK_TIMEOUT')))]);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.error(err);
    if (Date.now() - startedAt >= HEALTH_CHECK_MIN_DELAY) {
      var _worker;
      (_worker = worker) === null || _worker === void 0 ? void 0 : _worker.terminate();
      worker = undefined;
      connector = undefined;
      updateCallback({
        type: 'requestReconnectApi'
      });
    }
  } finally {
    isResolved = true;
  }
}

/***/ }),

/***/ "./src/api/tonConnect/types/index.ts":
/*!*******************************************!*\
  !*** ./src/api/tonConnect/types/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CONNECT_EVENT_ERROR_CODES: () => (/* binding */ CONNECT_EVENT_ERROR_CODES),
/* harmony export */   SEND_TRANSACTION_ERROR_CODES: () => (/* binding */ SEND_TRANSACTION_ERROR_CODES)
/* harmony export */ });
/* unused harmony export SIGN_DATA_ERROR_CODES */
// eslint-disable-next-line @typescript-eslint/naming-convention
let CONNECT_EVENT_ERROR_CODES = /*#__PURE__*/function (CONNECT_EVENT_ERROR_CODES) {
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["UNKNOWN_ERROR"] = 0] = "UNKNOWN_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["BAD_REQUEST_ERROR"] = 1] = "BAD_REQUEST_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["MANIFEST_NOT_FOUND_ERROR"] = 2] = "MANIFEST_NOT_FOUND_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["MANIFEST_CONTENT_ERROR"] = 3] = "MANIFEST_CONTENT_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["UNKNOWN_APP_ERROR"] = 100] = "UNKNOWN_APP_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["USER_REJECTS_ERROR"] = 300] = "USER_REJECTS_ERROR";
  CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES["METHOD_NOT_SUPPORTED"] = 400] = "METHOD_NOT_SUPPORTED";
  return CONNECT_EVENT_ERROR_CODES;
}({});

// eslint-disable-next-line @typescript-eslint/naming-convention
let SEND_TRANSACTION_ERROR_CODES = /*#__PURE__*/function (SEND_TRANSACTION_ERROR_CODES) {
  SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES["UNKNOWN_ERROR"] = 0] = "UNKNOWN_ERROR";
  SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES["BAD_REQUEST_ERROR"] = 1] = "BAD_REQUEST_ERROR";
  SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES["UNKNOWN_APP_ERROR"] = 100] = "UNKNOWN_APP_ERROR";
  SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES["USER_REJECTS_ERROR"] = 300] = "USER_REJECTS_ERROR";
  SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES["METHOD_NOT_SUPPORTED"] = 400] = "METHOD_NOT_SUPPORTED";
  return SEND_TRANSACTION_ERROR_CODES;
}({});

// eslint-disable-next-line @typescript-eslint/naming-convention
let SIGN_DATA_ERROR_CODES = /*#__PURE__*/function (SIGN_DATA_ERROR_CODES) {
  SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES["UNKNOWN_ERROR"] = 0] = "UNKNOWN_ERROR";
  SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES["BAD_REQUEST_ERROR"] = 1] = "BAD_REQUEST_ERROR";
  SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES["UNKNOWN_APP_ERROR"] = 100] = "UNKNOWN_APP_ERROR";
  SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES["USER_REJECTS_ERROR"] = 300] = "USER_REJECTS_ERROR";
  SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES["METHOD_NOT_SUPPORTED"] = 400] = "METHOD_NOT_SUPPORTED";
  return SIGN_DATA_ERROR_CODES;
}({});

/***/ }),

/***/ "./src/api/types/activity.ts":
/*!***********************************!*\
  !*** ./src/api/types/activity.ts ***!
  \***********************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./src/api/types/backend.ts":
/*!**********************************!*\
  !*** ./src/api/types/backend.ts ***!
  \**********************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./src/api/types/errors.ts":
/*!*********************************!*\
  !*** ./src/api/types/errors.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiCommonError: () => (/* binding */ ApiCommonError),
/* harmony export */   ApiTransactionDraftError: () => (/* binding */ ApiTransactionDraftError),
/* harmony export */   ApiTransactionError: () => (/* binding */ ApiTransactionError)
/* harmony export */ });
let ApiCommonError = /*#__PURE__*/function (ApiCommonError) {
  ApiCommonError["Unexpected"] = "Unexpected";
  ApiCommonError["ServerError"] = "ServerError";
  ApiCommonError["DebugError"] = "DebugError";
  ApiCommonError["UnsupportedVersion"] = "UnsupportedVersion";
  return ApiCommonError;
}({});
let ApiTransactionDraftError = /*#__PURE__*/function (ApiTransactionDraftError) {
  ApiTransactionDraftError["InvalidAmount"] = "InvalidAmount";
  ApiTransactionDraftError["InvalidToAddress"] = "InvalidToAddress";
  ApiTransactionDraftError["InsufficientBalance"] = "InsufficientBalance";
  ApiTransactionDraftError["DomainNotResolved"] = "DomainNotResolved";
  ApiTransactionDraftError["WalletNotInitialized"] = "WalletNotInitialized";
  ApiTransactionDraftError["InvalidAddressFormat"] = "InvalidAddressFormat";
  ApiTransactionDraftError["InactiveContract"] = "InactiveContract";
  return ApiTransactionDraftError;
}({});
let ApiTransactionError = /*#__PURE__*/function (ApiTransactionError) {
  ApiTransactionError["PartialTransactionFailure"] = "PartialTransactionFailure";
  ApiTransactionError["IncorrectDeviceTime"] = "IncorrectDeviceTime";
  ApiTransactionError["InsufficientBalance"] = "InsufficientBalance";
  ApiTransactionError["UnsuccesfulTransfer"] = "UnsuccesfulTransfer";
  ApiTransactionError["NotSupportedHardwareOperation"] = "NotSupportedHardwareOperation";
  ApiTransactionError["HardwareBlindSigningNotEnabled"] = "HardwareBlindSigningNotEnabled";
  ApiTransactionError["WrongAddress"] = "WrongAddress";
  ApiTransactionError["WrongNetwork"] = "WrongNetwork";
  return ApiTransactionError;
}({});

/***/ }),

/***/ "./src/api/types/index.ts":
/*!********************************!*\
  !*** ./src/api/types/index.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiCommonError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_3__.ApiCommonError),
/* harmony export */   ApiLiquidUnstakeMode: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_1__.ApiLiquidUnstakeMode),
/* harmony export */   ApiTransactionDraftError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_3__.ApiTransactionDraftError),
/* harmony export */   ApiTransactionError: () => (/* reexport safe */ _errors__WEBPACK_IMPORTED_MODULE_3__.ApiTransactionError),
/* harmony export */   Workchain: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_1__.Workchain)
/* harmony export */ });
/* harmony import */ var _updates__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./updates */ "./src/api/types/updates.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc */ "./src/api/types/misc.ts");
/* harmony import */ var _payload__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./payload */ "./src/api/types/payload.ts");
/* harmony import */ var _errors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./errors */ "./src/api/types/errors.ts");
/* harmony import */ var _backend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./backend */ "./src/api/types/backend.ts");
/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./storage */ "./src/api/types/storage.ts");
/* harmony import */ var _activity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./activity */ "./src/api/types/activity.ts");








/***/ }),

/***/ "./src/api/types/misc.ts":
/*!*******************************!*\
  !*** ./src/api/types/misc.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApiLiquidUnstakeMode: () => (/* binding */ ApiLiquidUnstakeMode),
/* harmony export */   Workchain: () => (/* binding */ Workchain)
/* harmony export */ });
let Workchain = /*#__PURE__*/function (Workchain) {
  Workchain[Workchain["MasterChain"] = -1] = "MasterChain";
  Workchain[Workchain["BaseChain"] = 0] = "BaseChain";
  return Workchain;
}({});
let ApiLiquidUnstakeMode = /*#__PURE__*/function (ApiLiquidUnstakeMode) {
  ApiLiquidUnstakeMode[ApiLiquidUnstakeMode["Default"] = 0] = "Default";
  ApiLiquidUnstakeMode[ApiLiquidUnstakeMode["Instant"] = 1] = "Instant";
  ApiLiquidUnstakeMode[ApiLiquidUnstakeMode["BestRate"] = 2] = "BestRate";
  return ApiLiquidUnstakeMode;
}({});

// Country codes from ISO-3166-1 spec

/***/ }),

/***/ "./src/api/types/payload.ts":
/*!**********************************!*\
  !*** ./src/api/types/payload.ts ***!
  \**********************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./src/api/types/storage.ts":
/*!**********************************!*\
  !*** ./src/api/types/storage.ts ***!
  \**********************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./src/api/types/updates.ts":
/*!**********************************!*\
  !*** ./src/api/types/updates.ts ***!
  \**********************************/
/***/ (() => {

"use strict";


/***/ }),

/***/ "./src/components/App.tsx":
/*!********************************!*\
  !*** ./src/components/App.tsx ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _util_activeTabMonitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/activeTabMonitor */ "./src/util/activeTabMonitor.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_renderPromise__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/renderPromise */ "./src/util/renderPromise.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _util_windowSize__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/windowSize */ "./src/util/windowSize.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../api */ "./src/api/index.ts");
/* harmony import */ var _hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../hooks/useBackgroundMode */ "./src/hooks/useBackgroundMode.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _hooks_useTimeout__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../hooks/useTimeout */ "./src/hooks/useTimeout.ts");
/* harmony import */ var _AppInactive__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AppInactive */ "./src/components/AppInactive.tsx");
/* harmony import */ var _auth_Auth__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./auth/Auth */ "./src/components/auth/Auth.tsx");
/* harmony import */ var _dapps_DappConnectModal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dapps/DappConnectModal */ "./src/components/dapps/DappConnectModal.tsx");
/* harmony import */ var _dapps_DappTransferModal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./dapps/DappTransferModal */ "./src/components/dapps/DappTransferModal.tsx");
/* harmony import */ var _Dialogs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Dialogs */ "./src/components/Dialogs.tsx");
/* harmony import */ var _electron_ElectronHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./electron/ElectronHeader */ "./src/components/electron/ElectronHeader.tsx");
/* harmony import */ var _ledger_LedgerModal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ledger/LedgerModal */ "./src/components/ledger/LedgerModal.tsx");
/* harmony import */ var _main_Main__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./main/Main */ "./src/components/main/Main.tsx");
/* harmony import */ var _main_modals_AddAccountModal__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./main/modals/AddAccountModal */ "./src/components/main/modals/AddAccountModal.tsx");
/* harmony import */ var _main_modals_BackupModal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./main/modals/BackupModal */ "./src/components/main/modals/BackupModal.tsx");
/* harmony import */ var _main_modals_OnRampWidgetModal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./main/modals/OnRampWidgetModal */ "./src/components/main/modals/OnRampWidgetModal.tsx");
/* harmony import */ var _main_modals_QrScannerModal__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./main/modals/QrScannerModal */ "./src/components/main/modals/QrScannerModal.tsx");
/* harmony import */ var _main_modals_SignatureModal__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./main/modals/SignatureModal */ "./src/components/main/modals/SignatureModal.tsx");
/* harmony import */ var _main_modals_SwapActivityModal__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./main/modals/SwapActivityModal */ "./src/components/main/modals/SwapActivityModal.tsx");
/* harmony import */ var _main_modals_TransactionModal__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./main/modals/TransactionModal */ "./src/components/main/modals/TransactionModal.tsx");
/* harmony import */ var _main_modals_UnhideNftModal__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./main/modals/UnhideNftModal */ "./src/components/main/modals/UnhideNftModal.tsx");
/* harmony import */ var _main_Notifications__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./main/Notifications */ "./src/components/main/Notifications.tsx");
/* harmony import */ var _mediaViewer_MediaViewer__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./mediaViewer/MediaViewer */ "./src/components/mediaViewer/MediaViewer.tsx");
/* harmony import */ var _settings_Settings__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./settings/Settings */ "./src/components/settings/Settings.tsx");
/* harmony import */ var _settings_SettingsModal__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./settings/SettingsModal */ "./src/components/settings/SettingsModal.tsx");
/* harmony import */ var _swap_SwapModal__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./swap/SwapModal */ "./src/components/swap/SwapModal.tsx");
/* harmony import */ var _transfer_TransferModal__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./transfer/TransferModal */ "./src/components/transfer/TransferModal.tsx");
/* harmony import */ var _ui_ConfettiContainer__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ui/ConfettiContainer */ "./src/components/ui/ConfettiContainer.tsx");
/* harmony import */ var _ui_InAppBrowser__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./ui/InAppBrowser */ "./src/components/ui/InAppBrowser.tsx");
/* harmony import */ var _ui_LoadingOverlay__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./ui/LoadingOverlay */ "./src/components/ui/LoadingOverlay.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _App_module_scss__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./App.module.scss */ "./src/components/App.module.scss");











































// import Test from './components/test/TestNoRedundancy';

const APP_UPDATE_INTERVAL = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_ELECTRON && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_LINUX || _config__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID_DIRECT ? 5 * 60 * 1000 // 5 min
: undefined;
const PRERENDER_MAIN_DELAY = 1200;
let mainKey = 0;
function App(_ref) {
  let {
    appState,
    accountId,
    isBackupWalletModalOpen,
    isHardwareModalOpen,
    isQrScannerOpen,
    areSettingsOpen,
    isMediaViewerOpen
  } = _ref;
  // return <Test />;
  const {
    closeBackupWalletModal,
    closeHardwareWalletModal,
    closeSettings,
    cancelCaching,
    closeQrScanner,
    checkAppVersion
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_11__.useDeviceScreen)();
  const areSettingsInModal = !isPortrait || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_ELECTRON || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET;
  const [isInactive, markInactive] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_12__["default"])(false);
  const [canPrerenderMain, prerenderMain] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_12__["default"])();
  const renderingKey = isInactive ? _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Inactive : areSettingsOpen && !areSettingsInModal ? _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Settings : appState;
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_15__["default"])(prerenderMain, renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Auth && !canPrerenderMain ? PRERENDER_MAIN_DELAY : undefined);
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_13__["default"])(checkAppVersion, APP_UPDATE_INTERVAL);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    (0,_util_windowSize__WEBPACK_IMPORTED_MODULE_8__.updateSizes)();
    (0,_util_activeTabMonitor__WEBPACK_IMPORTED_MODULE_4__.setActiveTabChangeListener)(() => {
      document.title = `MyTonWallet ${_config__WEBPACK_IMPORTED_MODULE_3__.INACTIVE_MARKER}`;
      markInactive();
      closeSettings();
      cancelCaching();
    });
  }, [markInactive]);
  (0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    void (0,_api__WEBPACK_IMPORTED_MODULE_9__.callApi)('setIsAppFocused', false);
  }, () => {
    void (0,_api__WEBPACK_IMPORTED_MODULE_9__.callApi)('setIsAppFocused', true);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    document.documentElement.classList.add('is-rendered');
    (0,_util_renderPromise__WEBPACK_IMPORTED_MODULE_6__.resolveRender)();
  }, []);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    if (accountId) {
      mainKey += 1;
    }
  }, [accountId]);

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Auth:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_auth_Auth__WEBPACK_IMPORTED_MODULE_17__["default"], null);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Main:
        {
          const slideFullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_App_module_scss__WEBPACK_IMPORTED_MODULE_42__["default"].appSlide, _App_module_scss__WEBPACK_IMPORTED_MODULE_42__["default"].appSlideContent, 'custom-scroll', 'app-slide-content');
          return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_41__["default"], {
            name: "semiFade",
            activeKey: mainKey,
            shouldCleanup: true,
            nextKey: renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Auth && canPrerenderMain ? mainKey + 1 : undefined,
            slideClassName: slideFullClassName
          }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_Main__WEBPACK_IMPORTED_MODULE_23__["default"], {
            key: mainKey,
            isActive: isActive
          }));
        }
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Settings:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_settings_Settings__WEBPACK_IMPORTED_MODULE_34__["default"], null);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Ledger:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerModal__WEBPACK_IMPORTED_MODULE_22__["default"], {
          isOpen: true,
          onClose: handleCloseBrowserTab
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Inactive:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AppInactive__WEBPACK_IMPORTED_MODULE_16__["default"], null);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_ELECTRON && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_LINUX && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_electron_ElectronHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
    withTitle: true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_41__["default"], {
    name: isPortrait ? _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_ANDROID ? 'slideFadeAndroid' : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS ? 'slideLayers' : 'slideFade' : 'semiFade',
    activeKey: renderingKey,
    shouldCleanup: renderingKey !== _global_types__WEBPACK_IMPORTED_MODULE_2__.AppState.Settings && !isMediaViewerOpen,
    className: _App_module_scss__WEBPACK_IMPORTED_MODULE_42__["default"].transitionContainer,
    slideClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_App_module_scss__WEBPACK_IMPORTED_MODULE_42__["default"].appSlide, 'custom-scroll')
  }, renderContent), areSettingsInModal && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_settings_SettingsModal__WEBPACK_IMPORTED_MODULE_35__["default"], {
    isOpen: areSettingsOpen,
    onClose: closeSettings
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_settings_Settings__WEBPACK_IMPORTED_MODULE_34__["default"], {
    isInsideModal: true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_mediaViewer_MediaViewer__WEBPACK_IMPORTED_MODULE_33__["default"], null), !isInactive && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerModal__WEBPACK_IMPORTED_MODULE_22__["default"], {
    isOpen: isHardwareModalOpen,
    onClose: closeHardwareWalletModal
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_BackupModal__WEBPACK_IMPORTED_MODULE_25__["default"], {
    isOpen: isBackupWalletModalOpen,
    onClose: closeBackupWalletModal
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_transfer_TransferModal__WEBPACK_IMPORTED_MODULE_37__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_swap_SwapModal__WEBPACK_IMPORTED_MODULE_36__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_SignatureModal__WEBPACK_IMPORTED_MODULE_28__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_TransactionModal__WEBPACK_IMPORTED_MODULE_30__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_SwapActivityModal__WEBPACK_IMPORTED_MODULE_29__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_dapps_DappConnectModal__WEBPACK_IMPORTED_MODULE_18__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_dapps_DappTransferModal__WEBPACK_IMPORTED_MODULE_19__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_AddAccountModal__WEBPACK_IMPORTED_MODULE_24__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_OnRampWidgetModal__WEBPACK_IMPORTED_MODULE_26__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_UnhideNftModal__WEBPACK_IMPORTED_MODULE_31__["default"], null), !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_Notifications__WEBPACK_IMPORTED_MODULE_32__["default"], null), _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_QrScannerModal__WEBPACK_IMPORTED_MODULE_27__["default"], {
    isOpen: isQrScannerOpen,
    onClose: closeQrScanner
  }), !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Dialogs__WEBPACK_IMPORTED_MODULE_20__["default"], null), !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ConfettiContainer__WEBPACK_IMPORTED_MODULE_38__["default"], null), _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InAppBrowser__WEBPACK_IMPORTED_MODULE_39__["default"], null), !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_LoadingOverlay__WEBPACK_IMPORTED_MODULE_40__["default"], null)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    appState: global.appState,
    accountId: global.currentAccountId,
    isBackupWalletModalOpen: global.isBackupWalletModalOpen,
    isHardwareModalOpen: global.isHardwareModalOpen,
    areSettingsOpen: global.areSettingsOpen,
    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),
    isQrScannerOpen: global.isQrScannerOpen
  };
})(App)));
async function handleCloseBrowserTab() {
  const tab = await chrome.tabs.getCurrent();
  await chrome.tabs.remove(tab.id);
}

/***/ }),

/***/ "./src/components/AppInactive.tsx":
/*!****************************************!*\
  !*** ./src/components/AppInactive.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AppInactive.module.scss */ "./src/components/AppInactive.module.scss");
/* harmony import */ var _assets_app_inactive_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../assets/app-inactive.png */ "./src/assets/app-inactive.png");
/* harmony import */ var _assets_app_inactive_webp__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../assets/app-inactive.webp */ "./src/assets/app-inactive.webp");








function AppInactive() {
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleReload = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    window.location.reload();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].root
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("picture", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].img
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("source", {
    src: _assets_app_inactive_webp__WEBPACK_IMPORTED_MODULE_7__
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: _assets_app_inactive_png__WEBPACK_IMPORTED_MODULE_6__,
    alt: "",
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].img
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].title
  }, lang('Such error, many tabs')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].description
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__["default"])(lang('$many_tabs_error_description'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].actions
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isText: true,
    className: _AppInactive_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].button,
    onClick: handleReload
  }, lang('Reload App')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AppInactive);

/***/ }),

/***/ "./src/components/Dialogs.tsx":
/*!************************************!*\
  !*** ./src/components/Dialogs.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-dialog */ "./mobile/plugins/native-dialog/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");











const Dialogs = _ref => {
  var _dialog$title;
  let {
    dialogs
  } = _ref;
  const {
    dismissDialog
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [isModalOpen, openModal, closeModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const dialog = dialogs[dialogs.length - 1];
  const title = lang((_dialog$title = dialog === null || dialog === void 0 ? void 0 : dialog.title) !== null && _dialog$title !== void 0 ? _dialog$title : 'Something went wrong');
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      if (dialog) {
        native_dialog__WEBPACK_IMPORTED_MODULE_0__.Dialog.alert({
          title,
          message: lang(dialog.message)
        }).then(() => {
          dismissDialog();
        });
      }
    } else if (dialog) {
      openModal();
    } else {
      closeModal();
    }
  }, [dialogs, lang, dialog, openModal, title]);
  if (!dialog || _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isOpen: isModalOpen,
    isCompact: true,
    title: title,
    onClose: closeModal,
    onCloseAnimationEnd: dismissDialog
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", null, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_4__["default"])(lang(dialog.message))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].footerButtons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    onClick: closeModal
  }, lang('OK'))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_5__.pick)(global, ['dialogs']))(Dialogs)));

/***/ }),

/***/ "./src/components/addbuy/AddBuyModal.tsx":
/*!***********************************************!*\
  !*** ./src/components/addbuy/AddBuyModal.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _AddBuyStatic__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AddBuyStatic */ "./src/components/addbuy/AddBuyStatic.tsx");
/* harmony import */ var _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AddBuyModal.module.scss */ "./src/components/addbuy/AddBuyModal.module.scss");





function AddBuyModal(_ref) {
  let {
    isOpen,
    isTestnet,
    isLedgerWallet,
    isSwapDisabled,
    isOnRampDisabled,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_1__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_2__["default"], {
    title: lang('Get TON'),
    isOpen: isOpen,
    onClose: onClose,
    hasCloseButton: true,
    dialogClassName: _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].actionSheetDialog
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AddBuyStatic__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isLedger: isLedgerWallet,
    isTestnet: isTestnet,
    isSwapDisabled: isSwapDisabled,
    isOnRampDisabled: isOnRampDisabled,
    onClose: onClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AddBuyModal));

/***/ }),

/***/ "./src/components/addbuy/AddBuyStatic.tsx":
/*!************************************************!*\
  !*** ./src/components/addbuy/AddBuyStatic.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AddBuyModal.module.scss */ "./src/components/addbuy/AddBuyModal.module.scss");








function AddBuyStatic(_ref) {
  let {
    className,
    isStatic,
    isTestnet,
    isLedger,
    isSwapDisabled,
    isOnRampDisabled,
    onClose
  } = _ref;
  const {
    startSwap,
    openOnRampWidgetModal,
    openReceiveModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;
  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;
  const handleBuyFiat = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    openOnRampWidgetModal();
    onClose === null || onClose === void 0 ? void 0 : onClose();
  });
  const handleSwapClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    startSwap({
      tokenInSlug: _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,
      tokenOutSlug: _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
      amountIn: '100'
    });
    onClose === null || onClose === void 0 ? void 0 : onClose();
  });
  const handleReceiveClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    openReceiveModal();
    onClose === null || onClose === void 0 ? void 0 : onClose();
  });
  const contentClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionButtons, isStatic && _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionButtonStatic);
  const renderActions = () => {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: contentClassName
    }, isOnRampAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionButton,
      onClick: handleBuyFiat
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionIcon, 'icon-card'),
      "aria-hidden": true
    }), lang('Buy with Card'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), isSwapAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionButton,
      onClick: handleSwapClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionIcon, 'icon-crypto'),
      "aria-hidden": true
    }), lang('Buy with Crypto'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionButton,
      onClick: handleReceiveClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].actionIcon, 'icon-receive'),
      "aria-hidden": true
    }), lang('Receive with QR or Invoice'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })));
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].content, className)
  }, renderActions(), onClose && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: _AddBuyModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].cancelButton,
    onClick: onClose
  }, lang('Cancel')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AddBuyStatic));

/***/ }),

/***/ "./src/components/auth/Auth.tsx":
/*!**************************************!*\
  !*** ./src/components/auth/Auth.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _settings_SettingsAbout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../settings/SettingsAbout */ "./src/components/settings/SettingsAbout.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _AuthBackupWalletModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./AuthBackupWalletModal */ "./src/components/auth/AuthBackupWalletModal.tsx");
/* harmony import */ var _AuthCheckPassword__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./AuthCheckPassword */ "./src/components/auth/AuthCheckPassword.tsx");
/* harmony import */ var _AuthConfirmBiometrics__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./AuthConfirmBiometrics */ "./src/components/auth/AuthConfirmBiometrics.tsx");
/* harmony import */ var _AuthConfirmPin__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./AuthConfirmPin */ "./src/components/auth/AuthConfirmPin.tsx");
/* harmony import */ var _AuthCreateBackup__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AuthCreateBackup */ "./src/components/auth/AuthCreateBackup.tsx");
/* harmony import */ var _AuthCreateBiometrics__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AuthCreateBiometrics */ "./src/components/auth/AuthCreateBiometrics.tsx");
/* harmony import */ var _AuthCreateNativeBiometrics__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./AuthCreateNativeBiometrics */ "./src/components/auth/AuthCreateNativeBiometrics.tsx");
/* harmony import */ var _AuthCreatePassword__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./AuthCreatePassword */ "./src/components/auth/AuthCreatePassword.tsx");
/* harmony import */ var _AuthCreatePin__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./AuthCreatePin */ "./src/components/auth/AuthCreatePin.tsx");
/* harmony import */ var _AuthCreatingWallet__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./AuthCreatingWallet */ "./src/components/auth/AuthCreatingWallet.tsx");
/* harmony import */ var _AuthDisclaimer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./AuthDisclaimer */ "./src/components/auth/AuthDisclaimer.tsx");
/* harmony import */ var _AuthImportMnemonic__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./AuthImportMnemonic */ "./src/components/auth/AuthImportMnemonic.tsx");
/* harmony import */ var _AuthStart__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./AuthStart */ "./src/components/auth/AuthStart.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");

























const RENDER_COUNT = Object.keys(_global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState).length / 2;
const Auth = _ref => {
  var _useCurrentOrPrev;
  let {
    state,
    biometricsStep,
    error,
    isLoading,
    mnemonic,
    mnemonicCheckIndexes,
    isBackupModalOpen,
    method
  } = _ref;
  const {
    closeAbout
  } = (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_7__.useDeviceScreen)();

  // Transitioning to ready state is done in another component
  const renderingAuthState = (_useCurrentOrPrev = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_6__["default"])(state === _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.ready ? undefined : state, true)) !== null && _useCurrentOrPrev !== void 0 ? _useCurrentOrPrev : -1;
  const [prevKey, setPrevKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(renderingAuthState + 1);
  const updateRenderingKeys = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    setNextKey(renderingAuthState + 1);
    setPrevKey(renderingAuthState === _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.confirmPin ? _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createPin : undefined);
  });

  // eslint-disable-next-line consistent-return
  function renderAuthScreen(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.none:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthStart__WEBPACK_IMPORTED_MODULE_23__["default"], null);
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createWallet:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreatingWallet__WEBPACK_IMPORTED_MODULE_20__["default"], {
          isActive: isActive
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.checkPassword:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCheckPassword__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          method: "createAccount",
          error: error
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createPin:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreatePin__WEBPACK_IMPORTED_MODULE_19__["default"], {
          isActive: isActive,
          method: "createAccount"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.confirmPin:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthConfirmPin__WEBPACK_IMPORTED_MODULE_14__["default"], {
          isActive: isActive,
          method: "createAccount"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreateBiometrics__WEBPACK_IMPORTED_MODULE_16__["default"], {
          isActive: isActive,
          method: "createAccount"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.confirmBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthConfirmBiometrics__WEBPACK_IMPORTED_MODULE_13__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          error: error,
          biometricsStep: biometricsStep
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createNativeBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreateNativeBiometrics__WEBPACK_IMPORTED_MODULE_17__["default"], {
          isActive: isActive,
          isLoading: isLoading
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createPassword:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreatePassword__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          method: "createAccount"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.createBackup:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreateBackup__WEBPACK_IMPORTED_MODULE_15__["default"], {
          isActive: isActive
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.disclaimerAndBackup:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthDisclaimer__WEBPACK_IMPORTED_MODULE_21__["default"], {
          key: "create",
          isActive: isActive
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWallet:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthImportMnemonic__WEBPACK_IMPORTED_MODULE_22__["default"], {
          isActive: isActive
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletCreatePin:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreatePin__WEBPACK_IMPORTED_MODULE_19__["default"], {
          isActive: isActive,
          method: "importMnemonic"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletConfirmPin:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthConfirmPin__WEBPACK_IMPORTED_MODULE_14__["default"], {
          isActive: isActive,
          method: "importMnemonic"
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletCheckPassword:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCheckPassword__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          method: "importMnemonic",
          error: error
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.disclaimer:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthDisclaimer__WEBPACK_IMPORTED_MODULE_21__["default"], {
          key: "import",
          isActive: isActive,
          isImport: true
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletCreateNativeBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreateNativeBiometrics__WEBPACK_IMPORTED_MODULE_17__["default"], {
          isActive: isActive,
          isLoading: isLoading
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletCreatePassword:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreatePassword__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          method: method
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletCreateBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthCreateBiometrics__WEBPACK_IMPORTED_MODULE_16__["default"], {
          isActive: isActive,
          method: method
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.importWalletConfirmBiometrics:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthConfirmBiometrics__WEBPACK_IMPORTED_MODULE_13__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          error: error,
          biometricsStep: biometricsStep
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_3__.AuthState.about:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_settings_SettingsAbout__WEBPACK_IMPORTED_MODULE_9__["default"], {
          handleBackClick: closeAbout
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_10__["default"], {
    name: isPortrait ? _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_ANDROID ? 'slideFade' : 'slideLayers' : 'semiFade',
    activeKey: renderingAuthState,
    renderCount: RENDER_COUNT,
    shouldCleanup: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transitionContainer,
    slideClassName: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transitionSlide,
    prevKey: prevKey,
    nextKey: nextKey,
    onStop: updateRenderingKeys,
    shouldWrap: true
  }, renderAuthScreen), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthBackupWalletModal__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isOpen: isBackupModalOpen,
    mnemonic: mnemonic,
    checkIndexes: mnemonicCheckIndexes
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  return (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(global.auth, ['state', 'biometricsStep', 'error', 'mnemonic', 'mnemonicCheckIndexes', 'isLoading', 'method', 'isBackupModalOpen']);
})(Auth)));

/***/ }),

/***/ "./src/components/auth/AuthBackupWalletModal.tsx":
/*!*******************************************************!*\
  !*** ./src/components/auth/AuthBackupWalletModal.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _MnemonicCheck__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MnemonicCheck */ "./src/components/auth/MnemonicCheck.tsx");
/* harmony import */ var _MnemonicList__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MnemonicList */ "./src/components/auth/MnemonicList.tsx");
/* harmony import */ var _SafetyRules__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SafetyRules */ "./src/components/auth/SafetyRules.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");












const SLIDE_ANIMATION_DURATION_MS = 250;
var BackupState = /*#__PURE__*/function (BackupState) {
  BackupState[BackupState["Accept"] = 0] = "Accept";
  BackupState[BackupState["View"] = 1] = "View";
  BackupState[BackupState["Confirm"] = 2] = "Confirm";
  return BackupState;
}(BackupState || {});
function AuthBackupWalletModal(_ref) {
  let {
    isOpen,
    mnemonic,
    checkIndexes
  } = _ref;
  const {
    restartCheckMnemonicIndexes,
    closeAuthBackupWalletModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [renderingKey, setRenderingKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(BackupState.Accept);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(BackupState.View);
  const handleModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    setRenderingKey(BackupState.Accept);
    setNextKey(BackupState.View);
  });
  const handleMnemonicView = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    setRenderingKey(BackupState.View);
    setNextKey(BackupState.Confirm);
  });
  const handleRestartCheckMnemonic = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    handleMnemonicView();
    setTimeout(() => {
      restartCheckMnemonicIndexes();
    }, SLIDE_ANIMATION_DURATION_MS);
  });
  const handleShowMnemonicCheck = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    setRenderingKey(BackupState.Confirm);
    setNextKey(undefined);
  });
  const handleMnemonicCheckSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    closeAuthBackupWalletModal({
      isBackupCreated: true
    });
  });

  // eslint-disable-next-line consistent-return
  function renderModalContent(isScreenActive, isFrom, currentScreenKey) {
    switch (currentScreenKey) {
      case BackupState.Accept:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SafetyRules__WEBPACK_IMPORTED_MODULE_9__["default"], {
          isActive: isScreenActive,
          onSubmit: handleMnemonicView,
          onClose: closeAuthBackupWalletModal
        });
      case BackupState.View:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_MnemonicList__WEBPACK_IMPORTED_MODULE_8__["default"], {
          isActive: isScreenActive,
          mnemonic: mnemonic,
          onNext: handleShowMnemonicCheck,
          onClose: closeAuthBackupWalletModal
        });
      case BackupState.Confirm:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_MnemonicCheck__WEBPACK_IMPORTED_MODULE_7__["default"], {
          isActive: isScreenActive,
          mnemonic: mnemonic,
          checkIndexes: checkIndexes,
          buttonLabel: lang('Continue'),
          onSubmit: handleMnemonicCheckSubmit,
          onCancel: handleRestartCheckMnemonic,
          onClose: closeAuthBackupWalletModal
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    dialogClassName: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].modalDialog,
    nativeBottomSheetKey: "disclaimer",
    onClose: closeAuthBackupWalletModal,
    onCloseAnimationEnd: handleModalClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_6__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_2__["default"])(),
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].transition,
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey
  }, renderModalContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthBackupWalletModal));

/***/ }),

/***/ "./src/components/auth/AuthBackupWarning.tsx":
/*!***************************************************!*\
  !*** ./src/components/auth/AuthBackupWarning.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");









function AuthBackupWarning(_ref) {
  let {
    isOpen,
    onSkip,
    onClose
  } = _ref;
  const {
    openAuthBackupWalletModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const canSkipMnemonicCheck = !_config__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isOpen: isOpen,
    onClose: onClose,
    forceBottomSheet: true,
    nativeBottomSheetKey: "backup-warning",
    dialogClassName: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].disclaimerBackupDialog
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].backupNotice
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_backup_warning_notice'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].backupNoticeButtons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isPrimary: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn_wide, !canSkipMnemonicCheck && _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn_single),
    onClick: openAuthBackupWalletModal
  }, lang('Back Up Now')), canSkipMnemonicCheck && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isDestructive: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn_mini),
    onClick: onSkip
  }, lang('Later'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthBackupWarning));

/***/ }),

/***/ "./src/components/auth/AuthCheckPassword.tsx":
/*!***************************************************!*\
  !*** ./src/components/auth/AuthCheckPassword.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");







function AuthCheckPassword(_ref) {
  let {
    isActive,
    isLoading,
    error,
    method
  } = _ref;
  const {
    resetAuth,
    cleanAuthError,
    addAccount
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const isImporting = method !== 'createAccount';
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(password => {
    addAccount({
      method: isImporting ? 'importMnemonic' : 'createAccount',
      password,
      isAuthFlow: true
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].container_scrollable, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isActive: isActive,
    isLoading: isLoading,
    error: error,
    containerClassName: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].passwordForm,
    submitLabel: lang('Send'),
    cancelLabel: lang('Back'),
    onSubmit: handleSubmit,
    onCancel: resetAuth,
    onUpdate: cleanAuthError
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].title
  }, lang('Enter your password'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCheckPassword));

/***/ }),

/***/ "./src/components/auth/AuthConfirmBiometrics.tsx":
/*!*******************************************************!*\
  !*** ./src/components/auth/AuthConfirmBiometrics.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useTimeout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useTimeout */ "./src/hooks/useTimeout.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");











const START_BIOMETRICS_CONFIRMATION_DELAY_MS = 1000;
function AuthConfirmBiometrics(_ref) {
  let {
    isActive,
    biometricsStep,
    error,
    isLoading
  } = _ref;
  const {
    afterCreateBiometrics,
    resetAuth,
    cancelCreateBiometrics
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_7__["default"])(afterCreateBiometrics, isActive ? START_BIOMETRICS_CONFIRMATION_DELAY_MS : undefined, [isActive]);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const shouldRenderSteps = Boolean(biometricsStep);
  const shouldRenderError = Boolean(error && !shouldRenderSteps);
  const renderingError = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_4__["default"])(error, true);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: resetAuth
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container_scrollable, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.guard,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.guardPreview,
    noLoop: false,
    nonInteractive: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].title
  }, lang('Turn On Biometrics')), shouldRenderSteps && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].biometricsStep
  }, lang(biometricsStep === 1 ? 'Step 1 of 2. Registration' : 'Step 2 of 2. Verification')), shouldRenderError && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].biometricsError)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, lang(renderingError || 'Unknown error.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, lang('Please try to confirm your biometrics again.'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].buttons__inner
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isDisabled: Boolean(biometricsStep) || isLoading,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btnHalfWidth),
    onClick: cancelCreateBiometrics
  }, lang('Cancel')), shouldRenderError && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btnHalfWidth),
    isDisabled: Boolean(biometricsStep) || isLoading,
    onClick: afterCreateBiometrics
  }, lang('Try Again')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthConfirmBiometrics));

/***/ }),

/***/ "./src/components/auth/AuthConfirmPin.tsx":
/*!************************************************!*\
  !*** ./src/components/auth/AuthConfirmPin.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_PinPad__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/PinPad */ "./src/components/ui/PinPad.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");













const SUBMIT_PAUSE_MS = 1500;
const AuthConfirmPin = _ref => {
  let {
    isActive,
    method,
    pin
  } = _ref;
  const {
    confirmPin,
    cancelConfirmPin
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [pinConfirm, setPinConfirm] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [error, setError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [isConfirmed, setIsConfirmed] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const isImporting = method !== 'createAccount';
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    cancelConfirmPin({
      isImporting
    });
  });
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: handleBackClick
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      setPinConfirm('');
      setError('');
      setIsConfirmed(false);
    }
  }, [isActive]);
  const handleChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(value => {
    setPinConfirm(value);
    setError('');
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(async value => {
    if (value === pin) {
      setIsConfirmed(true);
      await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.pause)(SUBMIT_PAUSE_MS);
      confirmPin({
        isImporting
      });
    } else {
      setError(lang('Codes don\'t match'));
    }
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].containerFullSize)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].pinPadHeader
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_9__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.guard,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.guardPreview,
    noLoop: false,
    nonInteractive: true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].title
  }, lang(isImporting ? 'Wallet is imported!' : 'Wallet is ready!'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PinPad__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isActive: isActive,
    title: isConfirmed ? lang('Code set successfully') : error || lang('Enter your code again'),
    type: isConfirmed ? 'success' : error ? 'error' : undefined,
    length: _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH,
    value: pinConfirm,
    onChange: handleChange,
    onSubmit: handleSubmit
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    pin: global.auth.password
  };
})(AuthConfirmPin)));

/***/ }),

/***/ "./src/components/auth/AuthCreateBackup.tsx":
/*!**************************************************!*\
  !*** ./src/components/auth/AuthCreateBackup.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");










const AuthCreateBackup = _ref => {
  let {
    isActive
  } = _ref;
  const {
    skipCheckMnemonic,
    openAuthBackupWalletModal,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const canSkipMnemonicCheck = !_config__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].wrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].container, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isSimple: true,
    isText: true,
    onClick: resetAuth,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.snitch,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.snitchPreview,
    noLoop: false,
    nonInteractive: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].title
  }, lang('Create Backup')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].info
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].info__space
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_backup_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", null, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_backup_description2'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", null, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_backup_description3')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isPrimary: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].btn_wide, !canSkipMnemonicCheck && _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].btn_single),
    onClick: openAuthBackupWalletModal
  }, lang('Back Up')), canSkipMnemonicCheck && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isDestructive: true,
    isText: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].btn_push),
    onClick: skipCheckMnemonic
  }, lang('Later')))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreateBackup));

/***/ }),

/***/ "./src/components/auth/AuthCreateBiometrics.tsx":
/*!******************************************************!*\
  !*** ./src/components/auth/AuthCreateBiometrics.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");









const AuthCreateBiometrics = _ref => {
  let {
    isActive,
    method
  } = _ref;
  const {
    startCreatingBiometrics,
    resetAuth,
    skipCreateBiometrics
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const isImporting = method !== 'createAccount';
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__["default"])({
    isActive,
    onBack: resetAuth
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].container_scrollable, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_6__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.happy,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.happyPreview,
    noLoop: false,
    nonInteractive: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].title
  }, lang('Congratulations!')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].info
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", null, lang(isImporting ? 'The wallet is imported' : 'The wallet is ready'), ".")), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].info
  }, lang('Create a password or use biometric authentication to protect it.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isPrimary: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn,
    onClick: startCreatingBiometrics
  }, lang('Connect Biometrics')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isText: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].btn_text),
    onClick: skipCreateBiometrics
  }, lang('Use Password'))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreateBiometrics));

/***/ }),

/***/ "./src/components/auth/AuthCreateNativeBiometrics.tsx":
/*!************************************************************!*\
  !*** ./src/components/auth/AuthCreateNativeBiometrics.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");
/* harmony import */ var _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../assets/settings/settings_biometrics.svg */ "./src/assets/settings/settings_biometrics.svg");
/* harmony import */ var _assets_settings_settings_face_id_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/settings/settings_face-id.svg */ "./src/assets/settings/settings_face-id.svg");










const AuthCreateNativeBiometrics = _ref => {
  let {
    isActive,
    isLoading
  } = _ref;
  const {
    afterCreateNativeBiometrics,
    skipCreateNativeBiometrics,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const isFaceId = (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.getIsFaceIdAvailable)();
  const isTouchId = (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.getIsTouchIdAvailable)();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__["default"])({
    isActive,
    onBack: resetAuth
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].container
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isSimple: true,
    isText: true,
    onClick: resetAuth,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: isFaceId ? _assets_settings_settings_face_id_svg__WEBPACK_IMPORTED_MODULE_9__ : _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_8__,
    alt: "",
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].biometricsIcon
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].biometricsTitle
  }, isFaceId ? lang('Use Face ID') : isTouchId ? lang('Use Touch ID') : lang('Use Biometrics')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].biometricsSubtitle
  }, lang('You can connect your biometric data for more convenience')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isPrimary: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].btn,
    isLoading: isLoading,
    onClick: !isLoading ? afterCreateNativeBiometrics : undefined
  }, lang(isFaceId ? 'Connect Face ID' : isTouchId ? 'Connect Touch ID' : 'Connect Biometrics')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isText: true,
    isDisabled: isLoading,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].btn_text),
    onClick: skipCreateNativeBiometrics
  }, lang('Not Now'))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreateNativeBiometrics));

/***/ }),

/***/ "./src/components/auth/AuthCreatePassword.tsx":
/*!****************************************************!*\
  !*** ./src/components/auth/AuthCreatePassword.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_CreatePasswordForm__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/CreatePasswordForm */ "./src/components/ui/CreatePasswordForm.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");











const AuthCreatePassword = _ref => {
  let {
    isActive,
    method,
    isLoading
  } = _ref;
  const {
    afterCreatePassword,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const isImporting = method !== 'createAccount';
  const formId = getFormId(method);
  const withDescription = !(0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.getIsBiometricAuthSupported)();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: resetAuth
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])((password, isPasswordNumeric) => {
    afterCreatePassword({
      password,
      isPasswordNumeric
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container_scrollable, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.guard,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.guardPreview,
    noLoop: false,
    nonInteractive: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].title, !withDescription && _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].titleSmallMargin)
  }, lang(withDescription ? 'Congratulations!' : 'Create Password')), withDescription && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].info
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", null, lang(isImporting ? 'The wallet is imported' : 'The wallet is ready'), ".")), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].info
  }, lang('Create a password to protect it.'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_CreatePasswordForm__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isActive: isActive,
    isLoading: isLoading,
    formId: formId,
    onCancel: resetAuth,
    onSubmit: handleSubmit
  }));
};

// eslint-disable-next-line consistent-return
function getFormId(method) {
  switch (method) {
    case 'createAccount':
      return 'auth_create_password';
    case 'importMnemonic':
      return 'auth_import_mnemonic_password';
    case 'importHardwareWallet':
      return 'auth_import_hardware_password';
  }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreatePassword));

/***/ }),

/***/ "./src/components/auth/AuthCreatePin.tsx":
/*!***********************************************!*\
  !*** ./src/components/auth/AuthCreatePin.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_PinPad__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/PinPad */ "./src/components/ui/PinPad.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");













const SUBMIT_PAUSE_MS = 750;
const AuthCreatePin = _ref => {
  let {
    isActive,
    method
  } = _ref;
  const {
    createPin,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [pin, setPin] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const isImporting = method !== 'createAccount';
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      setPin('');
    }
  }, [isActive]);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: resetAuth
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(async value => {
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.pause)(SUBMIT_PAUSE_MS);
    createPin({
      pin: value,
      isImporting
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].containerFullSize)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isSimple: true,
    isText: true,
    onClick: resetAuth,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].pinPadHeader
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_9__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.guard,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.guardPreview,
    noLoop: false,
    nonInteractive: true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].title
  }, lang(isImporting ? 'Wallet is imported!' : 'Wallet is ready!'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PinPad__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isActive: isActive,
    title: lang('Create a code to protect it'),
    length: _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH,
    value: pin,
    onChange: setPin,
    onSubmit: handleSubmit
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreatePin));

/***/ }),

/***/ "./src/components/auth/AuthCreatingWallet.tsx":
/*!****************************************************!*\
  !*** ./src/components/auth/AuthCreatingWallet.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useMediaTransition */ "./src/hooks/useMediaTransition.ts");
/* harmony import */ var _hooks_useTimeout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useTimeout */ "./src/hooks/useTimeout.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");









const START_DELAY = 700;
const INTERVAL = 1000;
const AuthCreatingWallet = _ref => {
  let {
    isActive
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const [one, markOne] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [two, markTwo] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [three, markThree] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__["default"])();
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_6__["default"])(markOne, isActive ? START_DELAY : undefined);
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_6__["default"])(markTwo, isActive ? START_DELAY + INTERVAL : undefined);
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_6__["default"])(markThree, isActive ? START_DELAY + INTERVAL * 2 : undefined);
  const oneClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(one);
  const twoClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(two);
  const threeClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(three);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].container, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKERS_PATHS.hello,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKERS_PATHS.helloPreview,
    nonInteractive: true,
    noLoop: false
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].title
  }, lang('Creating Wallet...')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].counter)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].counterTitle
  }, lang('On the count of three...')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].counterDigit, oneClassNames)
  }, "1"), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].counterDigit, twoClassNames)
  }, "2"), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].counterDigit, threeClassNames)
  }, "3")));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthCreatingWallet));

/***/ }),

/***/ "./src/components/auth/AuthDisclaimer.tsx":
/*!************************************************!*\
  !*** ./src/components/auth/AuthDisclaimer.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useDelegatedBottomSheet */ "./src/hooks/useDelegatedBottomSheet.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Checkbox__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Checkbox */ "./src/components/ui/Checkbox.tsx");
/* harmony import */ var _AuthBackupWarning__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./AuthBackupWarning */ "./src/components/auth/AuthBackupWarning.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");

















const AuthDisclaimer = _ref => {
  let {
    isActive,
    isImport
  } = _ref;
  const {
    skipCheckMnemonic,
    confirmDisclaimer,
    cancelDisclaimer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const [isInformationConfirmed, markInformationConfirmed, unmarkInformationConfirmed] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(false);
  const {
    shouldRender: shouldRenderStartButton,
    transitionClassNames: startButtonTransitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_11__["default"])(isInformationConfirmed && isImport);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_8__["default"])({
    isActive,
    onBack: cancelDisclaimer
  });
  const setIsInformationConfirmed = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(isConfirmed => {
    if (isConfirmed) {
      markInformationConfirmed();
    } else {
      unmarkInformationConfirmed();
    }
  });
  (0,_hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_6__.useOpenFromMainBottomSheet)('backup-warning', markInformationConfirmed);
  const handleCloseBackupWarningModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setIsInformationConfirmed(false);
  });
  const handleSkipMnemonic = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    skipCheckMnemonic();
    handleCloseBackupWarningModal();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].wrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].container, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].stickerAndTitle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_12__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.snitch,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.snitchPreview,
    noLoop: false,
    nonInteractive: true,
    size: _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKER_MIDDLE_SIZE_PX,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].title
  }, lang('Use Responsibly'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].infoBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_responsibly_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_responsibly_description2'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_responsibly_description3'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_responsibly_description4')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_14__["default"], {
    id: "information-confirmed",
    checked: isInformationConfirmed,
    onChange: setIsInformationConfirmed,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].informationCheckbox,
    contentClassName: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].informationCheckboxContent
  }, lang('I have read and accept this information')), shouldRenderStartButton && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons, startButtonTransitionClassNames)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
    isPrimary: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].btn_wide),
    onClick: confirmDisclaimer
  }, lang('Start Wallet')))), !isImport && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AuthBackupWarning__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isOpen: isInformationConfirmed,
    onClose: handleCloseBackupWarningModal,
    onSkip: handleSkipMnemonic
  }));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AuthDisclaimer));

/***/ }),

/***/ "./src/components/auth/AuthImportMnemonic.tsx":
/*!****************************************************!*\
  !*** ./src/components/auth/AuthImportMnemonic.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/isMnemonicPrivateKey */ "./src/util/isMnemonicPrivateKey.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useClipboardPaste__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useClipboardPaste */ "./src/hooks/useClipboardPaste.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _common_InputMnemonic__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/InputMnemonic */ "./src/components/common/InputMnemonic.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");


















const MNEMONIC_INPUTS = [...Array(_config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT)].map((_, index) => ({
  id: index,
  label: `${index + 1}`
}));
const MAX_LENGTH = _config__WEBPACK_IMPORTED_MODULE_2__.PRIVATE_KEY_HEX_LENGTH;
const SLIDE_ANIMATION_DURATION_MS = 250;
const AuthImportMnemonic = _ref => {
  let {
    isActive,
    isLoading,
    error
  } = _ref;
  const {
    afterImportMnemonic,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_12__["default"])();
  const [mnemonic, setMnemonic] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__.useDeviceScreen)();
  const handleMnemonicSet = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(pastedMnemonic => {
    var _document$activeEleme;
    if (pastedMnemonic.length !== _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT && !(0,_util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_6__["default"])(pastedMnemonic)) {
      return;
    }

    // RAF is a workaround for several Android browsers (e.g. Vivaldi)
    requestAnimationFrame(() => {
      setMnemonic(pastedMnemonic);
    });
    if ((_document$activeEleme = document.activeElement) !== null && _document$activeEleme !== void 0 && _document$activeEleme.id.startsWith('import-mnemonic-')) {
      document.activeElement.blur();
    }
  });
  const handlePasteMnemonic = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(pastedText => {
    var _document$activeEleme2;
    const pastedMnemonic = parsePastedText(pastedText);
    if (pastedMnemonic.length === 1 && (_document$activeEleme2 = document.activeElement) !== null && _document$activeEleme2 !== void 0 && _document$activeEleme2.id.startsWith('import-mnemonic-')) {
      document.activeElement.value = pastedMnemonic[0];
      const event = new Event('input');
      document.activeElement.dispatchEvent(event);
      return;
    }
    handleMnemonicSet(pastedMnemonic);
  });
  (0,_hooks_useClipboardPaste__WEBPACK_IMPORTED_MODULE_9__["default"])(Boolean(isActive), handlePasteMnemonic);
  const isSubmitDisabled = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const mnemonicValues = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.compact)(Object.values(mnemonic));
    return mnemonicValues.length !== _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT && !(0,_util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_6__["default"])(mnemonicValues);
  }, [mnemonic]);
  const handleSetWord = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])((value, index) => {
    const pastedMnemonic = parsePastedText(value);
    if (pastedMnemonic.length === _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT) {
      handleMnemonicSet(pastedMnemonic);
      return;
    }
    setMnemonic({
      ...mnemonic,
      [index]: pastedMnemonic[0].toLowerCase()
    });
  });
  const handleCancel = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    setTimeout(() => {
      resetAuth();
    }, SLIDE_ANIMATION_DURATION_MS);
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    if (!isSubmitDisabled) {
      afterImportMnemonic({
        mnemonic: Object.values(mnemonic)
      });
    }
  });
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_11__["default"])({
    isActive,
    onBack: handleCancel
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return isSubmitDisabled ? undefined : (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__["default"])({
      onEnter: handleSubmit
    });
  }, [afterImportMnemonic, handleSubmit, isSubmitDisabled, mnemonic]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].container, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].container_scrollable, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_15__["default"], {
    play: isActive,
    size: _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKER_SMALL_SIZE_PX,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.snitch,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.snitchPreview,
    nonInteractive: true,
    noLoop: false,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].sticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].title, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].title_afterSmallSticker)
  }, lang('%1$d Secret Words', _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].infoSmallFont, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].infoPull)
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_import_mnemonic_description', _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].importingContent
  }, MNEMONIC_INPUTS.map(_ref2 => {
    let {
      id,
      label
    } = _ref2;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_InputMnemonic__WEBPACK_IMPORTED_MODULE_14__["default"], {
      key: id,
      id: `import-mnemonic-${id}`,
      nextId: id + 1 < _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT ? `import-mnemonic-${id + 1}` : undefined,
      labelText: label,
      value: mnemonic[id],
      suggestionsPosition: getSuggestPosition(id, isPortrait),
      inputArg: id,
      onInput: handleSetWord
    });
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
  }, error && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].footerError
  }, error), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons__inner
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
    onClick: handleCancel,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].footerButton
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
    isPrimary: true,
    isDisabled: isSubmitDisabled,
    isLoading: isLoading,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].footerButton,
    onClick: handleSubmit
  }, lang('Continue')))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    error: global.auth.error,
    isLoading: global.auth.isLoading
  };
})(AuthImportMnemonic)));
function parsePastedText(str) {
  return str.replace(/(?:\r\n)+|[\r\n\s;,\t]+/g, ' ').trim().split(' ').map(w => w.slice(0, MAX_LENGTH));
}
function getSuggestPosition(id) {
  let isPortrait = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (isPortrait) {
    return 'top';
  }
  return id > 5 && id < 8 || id > 13 && id < 16 || id > 21 ? 'top' : undefined;
}

/***/ }),

/***/ "./src/components/auth/AuthStart.tsx":
/*!*******************************************!*\
  !*** ./src/components/auth/AuthStart.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");
/* harmony import */ var _assets_logo_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../assets/logo.svg */ "./src/assets/logo.svg");












function AuthStart(_ref) {
  let {
    hasAccounts,
    isLoading
  } = _ref;
  const {
    startCreatingWallet,
    startImportingWallet,
    openAbout,
    openHardwareWalletModal,
    resetAuth
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [isLogoReady, markLogoReady] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const {
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__["default"])(isLogoReady, undefined, undefined, 'slow');
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container, 'custom-scroll')
  }, hasAccounts && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isSimple: true,
    isText: true,
    onClick: resetAuth,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: _assets_logo_svg__WEBPACK_IMPORTED_MODULE_11__,
    alt: _config__WEBPACK_IMPORTED_MODULE_2__.APP_NAME,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].logo, transitionClassNames),
    onLoad: markLogoReady
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].appName
  }, _config__WEBPACK_IMPORTED_MODULE_2__.APP_NAME), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].info
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$auth_intro'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isText: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn_about),
    onClick: openAbout
  }, lang('More about MyTonWallet'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-chevron-right",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].importButtonsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn,
    isLoading: isLoading,
    onClick: !isLoading ? startCreatingWallet : undefined
  }, lang('Create Wallet')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].importText
  }, lang('or import from')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].importButtons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn, !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_LEDGER_SUPPORTED && _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn_single),
    onClick: !isLoading ? startImportingWallet : undefined
  }, lang('%1$d Secret Words', _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT)), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_LEDGER_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].btn_mini),
    onClick: !isLoading ? openHardwareWalletModal : undefined
  }, lang('Ledger')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    hasAccounts: Boolean(global.currentAccountId),
    isLoading: global.auth.isLoading
  };
})(AuthStart)));

/***/ }),

/***/ "./src/components/auth/MnemonicCheck.tsx":
/*!***********************************************!*\
  !*** ./src/components/auth/MnemonicCheck.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _common_InputMnemonic__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/InputMnemonic */ "./src/components/common/InputMnemonic.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");













function MnemonicCheck(_ref) {
  var _checkIndexes$map;
  let {
    isActive,
    isInModal,
    mnemonic,
    checkIndexes,
    buttonLabel,
    onCancel,
    onSubmit,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [words, setWords] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)({});
  const [hasMnemonicError, setHasMnemonicError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      setWords({});
      setHasMnemonicError(false);
    }
  }, [isActive]);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: onCancel
  });
  const handleSetWord = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])((value, index) => {
    setWords({
      ...words,
      [index]: value === null || value === void 0 ? void 0 : value.toLowerCase()
    });
  });
  const handleMnemonicCheckSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    e.preventDefault();
    const answer = mnemonic && (checkIndexes === null || checkIndexes === void 0 ? void 0 : checkIndexes.map(index => mnemonic[index]));
    if (answer && (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.areSortedArraysEqual)(answer, Object.values(words))) {
      onSubmit();
    } else {
      setHasMnemonicError(true);
    }
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].transitionContentWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: lang('Let\'s Check!'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].transitionContent, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].small)
  }, lang('Let’s make sure your secrets words are recorded correctly.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].small)
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$mnemonic_check_words_list', checkIndexes === null || checkIndexes === void 0 || (_checkIndexes$map = checkIndexes.map(n => n + 1)) === null || _checkIndexes$map === void 0 ? void 0 : _checkIndexes$map.join(', ')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("form", {
    onSubmit: handleMnemonicCheckSubmit,
    id: "check_mnemonic_form"
  }, checkIndexes.map((key, i) => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_InputMnemonic__WEBPACK_IMPORTED_MODULE_8__["default"], {
    key: key,
    id: `check-mnemonic-${i}`,
    nextId: i + 1 < _config__WEBPACK_IMPORTED_MODULE_1__.MNEMONIC_CHECK_COUNT ? `check-mnemonic-${i + 1}` : undefined,
    labelText: `${key + 1}`,
    value: words[key],
    isInModal: isInModal,
    suggestionsPosition: i > 1 ? 'top' : undefined,
    inputArg: key,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].checkMnemonicInput,
    onInput: handleSetWord
  }))), hasMnemonicError && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].error, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].small)
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$mnemonic_check_error'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: onCancel,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button
  }, lang('Back')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    forFormId: "check_mnemonic_form",
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button
  }, buttonLabel))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(MnemonicCheck));

/***/ }),

/***/ "./src/components/auth/MnemonicList.tsx":
/*!**********************************************!*\
  !*** ./src/components/auth/MnemonicList.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Emoji__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Emoji */ "./src/components/ui/Emoji.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");











function MnemonicList(_ref) {
  let {
    isActive,
    mnemonic,
    onNext,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__["default"])({
    isActive,
    onBack: onClose
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].transitionContentWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_8__["default"], {
    title: lang('%1$d Secret Words', _config__WEBPACK_IMPORTED_MODULE_1__.MNEMONIC_COUNT),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].mnemonicContainer, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].transitionContent, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].small)
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$mnemonic_list_description'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].small)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_7__["default"], {
    from: "\u26A0\uFE0F"
  }), ' ', (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$mnemonic_warning'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("ol", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].words
  }, mnemonic === null || mnemonic === void 0 ? void 0 : mnemonic.map(word => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("li", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].word
  }, word))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isPrimary: true,
    onClick: onNext
  }, lang('Let\'s Check')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(MnemonicList));

/***/ }),

/***/ "./src/components/auth/MnemonicPrivateKey.tsx":
/*!****************************************************!*\
  !*** ./src/components/auth/MnemonicPrivateKey.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Emoji__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Emoji */ "./src/components/ui/Emoji.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");









function MnemonicList(_ref) {
  let {
    isActive,
    privateKeyHex,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__["default"])({
    isActive,
    onBack: onClose
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].transitionContentWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_6__["default"], {
    title: lang('Private Key'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].mnemonicContainer, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].transitionContent, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].info, _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].small)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_5__["default"], {
    from: "\u26A0\uFE0F"
  }), ' ', (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__["default"])(lang('$mnemonic_warning'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].privateKey
  }, privateKeyHex)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(MnemonicList));

/***/ }),

/***/ "./src/components/auth/SafetyRules.tsx":
/*!*********************************************!*\
  !*** ./src/components/auth/SafetyRules.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Checkbox */ "./src/components/ui/Checkbox.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Auth.module.scss */ "./src/components/auth/Auth.module.scss");













function SafetyRules(_ref) {
  let {
    isActive,
    onSubmit,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const [writedownAccepted, setWritedownAccepted] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [openWalletAccepted, setOpenWalletAccepted] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [canBeStolenAccepted, setCanBeStolenAccepted] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const canSubmit = writedownAccepted && openWalletAccepted && canBeStolenAccepted;
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__["default"])(() => {
    if (!canSubmit) {
      return;
    }
    onSubmit();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].transitionContentWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: lang('Safety Rules'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].transitionContent, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_7__["default"], {
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.bill,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.billPreview,
    size: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_SMALL_SIZE_PX,
    play: isActive,
    nonInteractive: true,
    noLoop: false,
    className: _Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].modalSticker
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__["default"], {
    checked: writedownAccepted,
    onChange: setWritedownAccepted
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$safety_rules_one'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__["default"], {
    checked: openWalletAccepted,
    onChange: setOpenWalletAccepted
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$safety_rules_two'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_9__["default"], {
    checked: canBeStolenAccepted,
    onChange: setCanBeStolenAccepted
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$safety_rules_three'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isPrimary: true,
    onClick: handleSubmit,
    isDisabled: !canSubmit
  }, lang('Understood')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SafetyRules));

/***/ }),

/***/ "./src/components/common/Countdown.tsx":
/*!*********************************************!*\
  !*** ./src/components/common/Countdown.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _Countdown_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Countdown.module.scss */ "./src/components/common/Countdown.module.scss");




const WARNING_TIME = 5 * 60; // 5 minutes in seconds;
const SECOND = 1000;
function Countdown(_ref) {
  let {
    timestamp,
    deadline,
    onCompleted
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const initialSeconds = Math.floor((timestamp + deadline - Date.now()) / 1000);
  const [secondsLeft, setSecondsLeft] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(Math.max(initialSeconds, 0));
  const shouldShowWarning = secondsLeft <= WARNING_TIME;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const timerId = setTimeout(() => {
      if (secondsLeft <= 0) return;
      setSecondsLeft(Math.floor((timestamp + deadline - Date.now()) / 1000));
    }, SECOND);
    if (secondsLeft <= 0) {
      onCompleted === null || onCompleted === void 0 ? void 0 : onCompleted();
    }
    return () => clearTimeout(timerId);
  }, [secondsLeft, onCompleted, timestamp, deadline]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Countdown_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].time, shouldShowWarning && _Countdown_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].timeWarning)
  }, formatTime(lang, secondsLeft));
}
function formatTime(lang, seconds) {
  const pad = num => num.toString().padStart(2, '0');
  const hours = Math.floor(seconds / 3600);
  const minutes = Math.floor(seconds % 3600 / 60);
  const remainingSeconds = seconds % 60;
  let formattedTime = hours > 0 ? `${hours}:` : '';
  formattedTime += `${hours > 0 ? pad(minutes) : minutes}:`;
  formattedTime += pad(remainingSeconds);
  return formattedTime;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Countdown));

/***/ }),

/***/ "./src/components/common/InputMnemonic.tsx":
/*!*************************************************!*\
  !*** ./src/components/common/InputMnemonic.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api */ "./src/api/index.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_SuggestionList__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/SuggestionList */ "./src/components/ui/SuggestionList.tsx");
/* harmony import */ var _InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./InputMnemonic.module.scss */ "./src/components/common/InputMnemonic.module.scss");









const SUGGESTION_WORDS_COUNT = 7;
function InputMnemonic(_ref) {
  let {
    id,
    nextId,
    labelText,
    className,
    value = '',
    isInModal,
    suggestionsPosition,
    inputArg,
    onInput
  } = _ref;
  const [hasFocus, markFocus, unmarkFocus] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const [hasError, setHasError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [filteredSuggestions, setFilteredSuggestions] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [activeSuggestionIndex, setActiveSuggestionIndex] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(0);
  const [areSuggestionsShown, setAreSuggestionsShown] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [wordlist, setWordlist] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const shouldRenderSuggestions = areSuggestionsShown && value && filteredSuggestions.length > 0;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    (async () => {
      const words = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.callApi)('getMnemonicWordList');
      setWordlist(words !== null && words !== void 0 ? words : []);
    })();
  }, []);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const noError = !value || areSuggestionsShown && filteredSuggestions.length > 0 || isCorrectMnemonic(value, wordlist);
    setHasError(!noError);
  }, [areSuggestionsShown, filteredSuggestions.length, value, wordlist]);
  const processSuggestions = userInput => {
    // Filter our suggestions that don't contain the user's input
    const unLinked = wordlist.filter(suggestion => suggestion.toLowerCase().startsWith(userInput.toLowerCase())).slice(0, SUGGESTION_WORDS_COUNT);
    onInput(userInput, inputArg);
    setFilteredSuggestions(unLinked);
    setActiveSuggestionIndex(0);
    setAreSuggestionsShown(true);
  };
  const handleChange = e => {
    const userInput = e.target.value;
    processSuggestions(userInput);
  };
  const handlePaste = e => {
    const pastedValue = e.clipboardData.getData('text');
    processSuggestions(pastedValue);
  };
  const handleKeyDown = e => {
    if (!value) {
      return;
    }
    if (e.code === 'Enter' || e.code === 'Tab' && !(e.shiftKey || e.ctrlKey || e.altKey || e.metaKey)) {
      onInput(filteredSuggestions[activeSuggestionIndex], inputArg);
      setFilteredSuggestions([filteredSuggestions[activeSuggestionIndex]]);
      setActiveSuggestionIndex(0);
      setAreSuggestionsShown(false);
      if (areSuggestionsShown) {
        e.preventDefault();
      }
      if (nextId) {
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(() => {
          (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(() => {
            const nextInput = document.getElementById(nextId);
            nextInput === null || nextInput === void 0 ? void 0 : nextInput.focus();
            nextInput === null || nextInput === void 0 ? void 0 : nextInput.select();
          });
        });
      }
    }
    if (e.code === 'ArrowUp') {
      if (activeSuggestionIndex === 0) {
        return;
      }
      setActiveSuggestionIndex(activeSuggestionIndex - 1);
    }
    if (e.code === 'ArrowDown') {
      if (activeSuggestionIndex === filteredSuggestions.length - 1) {
        return;
      }
      setActiveSuggestionIndex(activeSuggestionIndex + 1);
    }
  };
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__["default"])(suggestion => {
    onInput(suggestion, inputArg);
    setAreSuggestionsShown(false);
    setActiveSuggestionIndex(0);
    setFilteredSuggestions([]);
    if (nextId) {
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(() => {
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(() => {
          const nextInput = document.getElementById(nextId);
          nextInput === null || nextInput === void 0 ? void 0 : nextInput.focus();
          nextInput === null || nextInput === void 0 ? void 0 : nextInput.select();
        });
      });
    }
  });
  const handleFocus = e => {
    processSuggestions(e.target.value);
    markFocus();
  };
  const handleBlur = e => {
    // Remove focus from the input element to ensure correct blur handling, especially when triggered by window switching
    e.target.blur();
    unmarkFocus();
    requestAnimationFrame(() => {
      setAreSuggestionsShown(false);
      setFilteredSuggestions([]);
    });
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].wrapper, className, hasFocus && _InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].wrapper_focus, hasError && _InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].wrapper_error)
  }, shouldRenderSuggestions && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_SuggestionList__WEBPACK_IMPORTED_MODULE_7__["default"], {
    suggestions: filteredSuggestions,
    activeIndex: activeSuggestionIndex,
    position: suggestionsPosition,
    isInModal: isInModal,
    onSelect: handleClick
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: _InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].label,
    htmlFor: id
  }, labelText, "."), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
    id: id,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].input, value !== '' && _InputMnemonic_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].touched),
    type: "text",
    autoComplete: "off",
    onChange: handleChange,
    onKeyDown: handleKeyDown,
    onFocus: handleFocus,
    onBlur: handleBlur,
    onPaste: handlePaste,
    value: value,
    tabIndex: 0
  }));
}
function isCorrectMnemonic(mnemonic, wordlist) {
  return mnemonic.length === _config__WEBPACK_IMPORTED_MODULE_1__.PRIVATE_KEY_HEX_LENGTH || wordlist.includes(mnemonic);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(InputMnemonic));

/***/ }),

/***/ "./src/components/common/SwapResult.tsx":
/*!**********************************************!*\
  !*** ./src/components/common/SwapResult.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _SwapTokensInfo__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SwapTokensInfo */ "./src/components/common/SwapTokensInfo.tsx");
/* harmony import */ var _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SwapResult.module.scss */ "./src/components/common/SwapResult.module.scss");










function SwapResult(_ref) {
  let {
    tokenIn,
    tokenOut,
    amountIn,
    amountOut,
    playAnimation,
    firstButtonText,
    secondButtonText,
    swapType,
    toAddress = '',
    onFirstButtonClick,
    onSecondButtonClick
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  function renderButtons() {
    if (!firstButtonText && !secondButtonText) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].buttons
    }, firstButtonText && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].button,
      onClick: onFirstButtonClick
    }, firstButtonText), secondButtonText && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_6__["default"], {
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].button,
      onClick: onSecondButtonClick
    }, secondButtonText));
  }
  function renderSticker() {
    if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_5__["default"], {
      play: playAnimation,
      noLoop: false,
      nonInteractive: true,
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].sticker,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.thumbUp,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.thumbUpPreview
    });
  }
  function renderChangellyInfo() {
    if (swapType !== _global_types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].changellyInfoBlock
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].changellyDescription
    }, lang('$swap_changelly_from_ton_description', {
      blockchain: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].changellyDescriptionBold
      }, (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_2__["default"])(tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain))
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_7__["default"], {
      address: toAddress,
      copyNotification: lang('Address was copied!'),
      noSavedAddress: true,
      noExplorer: true,
      className: _SwapResult_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].changellyTextField
    }));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, renderSticker(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapTokensInfo__WEBPACK_IMPORTED_MODULE_8__["default"], {
    tokenIn: tokenIn,
    amountIn: amountIn,
    tokenOut: tokenOut,
    amountOut: amountOut
  }), renderChangellyInfo(), renderButtons());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapResult));

/***/ }),

/***/ "./src/components/common/SwapTokensInfo.tsx":
/*!**************************************************!*\
  !*** ./src/components/common/SwapTokensInfo.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/swap/getSwapRate */ "./src/util/swap/getSwapRate.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./SwapTokensInfo.module.scss */ "./src/components/common/SwapTokensInfo.module.scss");







function SwapTokensInfo(_ref) {
  let {
    tokenIn,
    amountIn,
    tokenOut,
    amountOut,
    isError = false
  } = _ref;
  function renderTokenInfo(token) {
    var _token$image, _token$symbol;
    let amount = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';
    let isReceived = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
    const image = (_token$image = token === null || token === void 0 ? void 0 : token.image) !== null && _token$image !== void 0 ? _token$image : _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_5__.ASSET_LOGO_PATHS[token === null || token === void 0 ? void 0 : token.symbol.toLowerCase()];
    const amountWithSign = isReceived ? amount : -amount;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRow
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowToken
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: image,
      alt: token === null || token === void 0 ? void 0 : token.symbol,
      className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowText, _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowTextCenter)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowTitle
    }, token === null || token === void 0 ? void 0 : token.name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowDescription
    }, (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_3__["default"])(token === null || token === void 0 ? void 0 : token.blockchain)))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowText, _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowTextRight, _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowTextCenter)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowAmount, isReceived && _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowAmountGreen, isError && _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowAmountError)
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_2__.formatCurrencyExtended)(amountWithSign, (_token$symbol = token === null || token === void 0 ? void 0 : token.symbol) !== null && _token$symbol !== void 0 ? _token$symbol : '')), !isReceived && renderCurrency(amountIn, amountOut, tokenIn, tokenOut)));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoBlock
  }, renderTokenInfo(tokenIn, amountIn), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoSeparator
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoSeparatorIcon, isError && _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoSeparatorIconError, isError ? 'icon-close' : 'icon-arrow-down'),
    "aria-hidden": true
  })), renderTokenInfo(tokenOut, amountOut, true));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapTokensInfo));
function renderCurrency(amountIn, amountOut, fromToken, toToken) {
  const rate = (0,_util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_4__["default"])(amountIn, amountOut, fromToken, toToken);
  if (!rate) return undefined;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowCurrency
  }, rate.firstCurrencySymbol, " \u2248", /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _SwapTokensInfo_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].infoRowCurrencyValue
  }, rate.price, ' ', rate.secondCurrencySymbol));
}

/***/ }),

/***/ "./src/components/common/TokenPriceChart.tsx":
/*!***************************************************!*\
  !*** ./src/components/common/TokenPriceChart.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");




const IS_SMOOTH = true;
const PATH_SMOOTHING = 0.0001;
const MIN_CHART_HEIGHT = 0.000000001;
function TokenPriceChart(_ref) {
  let {
    width,
    height,
    prices,
    selectedIndex,
    className,
    imgClassName,
    onSelectIndex,
    isUpdating
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const boundingPoints = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const priceValues = prices.map(_ref2 => {
      let [, price] = _ref2;
      return price;
    });
    const min = Math.min(...priceValues);
    const max = Math.max(...priceValues);
    return {
      width: prices.length - 1,
      height: Math.max(MIN_CHART_HEIGHT, max - min),
      min
    };
  }, [prices]);
  const points = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const scaleX = width / boundingPoints.width;
    const scaleY = height / boundingPoints.height;
    return prices.map((_ref3, i) => {
      let [, y] = _ref3;
      return {
        x: i * scaleX + 3,
        y: (y - boundingPoints.min) * scaleY + 3
      };
    });
  }, [boundingPoints.height, boundingPoints.min, boundingPoints.width, height, width, prices]);
  function getBasisPoint(i) {
    const indexesCount = points.length - 1;
    const index = i < 0 ? 0 : i > indexesCount ? indexesCount : i;
    const point = points[index];
    const ratio = 1 - PATH_SMOOTHING;
    const tangent = index / indexesCount;
    const firstPoint = points[0];
    const distance = {
      x: points[indexesCount].x - firstPoint.x,
      y: points[indexesCount].y - firstPoint.y
    };
    return {
      x: ratio * point.x + (1 - ratio) * (firstPoint.x + tangent * distance.x),
      y: ratio * point.y + (1 - ratio) * (firstPoint.y + tangent * distance.y)
    };
  }
  function getCurvePath(i) {
    const pCurrent = getBasisPoint(i);
    const pMinus1 = getBasisPoint(i - 1);
    const pMinus2 = getBasisPoint(i - 2);
    const x1 = (2 * pMinus2.x + pMinus1.x) / 3;
    const y1 = (2 * pMinus2.y + pMinus1.y) / 3;
    const x2 = (pMinus2.x + 2 * pMinus1.x) / 3;
    const y2 = (pMinus2.y + 2 * pMinus1.y) / 3;
    const x3 = (pMinus2.x + 4 * pMinus1.x + pCurrent.x) / 6;
    const y3 = (pMinus2.y + 4 * pMinus1.y + pCurrent.y) / 6;
    return `C ${x1} ${y1} ${x2} ${y2} ${x3} ${y3}`;
  }
  function getLinePath(point) {
    return `L ${point.x} ${point.y}`;
  }
  function getPath() {
    let d = points.reduce((acc, point, i) => {
      const partialPath = IS_SMOOTH ? getCurvePath(i) : getLinePath(point);
      return i === 0 ? `M ${point.x} ${point.y} ` : `${acc} ${partialPath} `;
    }, '');
    if (IS_SMOOTH) {
      d += getCurvePath(points.length);
      d += getLinePath(points[points.length - 1]);
    }
    return d;
  }
  function renderSvg() {
    const activePoint = points[selectedIndex] || points[points.length - 1];
    const svg = `<svg viewBox="0 0 ${width + 6} ${height + 6}" height="${height + 6}" width="${width + 6}"
        xmlns="http://www.w3.org/2000/svg" style="transform: scale(1,-1)">
        <g fill="none" stroke="white">
          <path stroke-linejoin="round" stroke-width="1.5" d="${getPath()}" style="stroke-linecap: round" />
          <circle r="2.5" fill="white" cx="${activePoint.x}" cy="${activePoint.y}" />
        </g>
      </svg>`;
    return `data:image/svg+xml;utf8,${svg}`;
  }
  function handleMouseMove(e) {
    const {
      x: containerX,
      width: containerWidth
    } = e.currentTarget.getBoundingClientRect();
    const {
      clientX
    } = 'touches' in e ? e.touches[0] : e;
    const segmentHalfWidth = containerWidth / points.length / 2;
    const x = clientX - containerX - segmentHalfWidth;
    const nextIndex = Math.max(0, Math.min(Math.round(points.length * (x / containerWidth)), points.length - 1));
    onSelectIndex(nextIndex);
  }
  function handleMouseLeave() {
    onSelectIndex(-1);
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: className,
    onMouseMove: handleMouseMove,
    onMouseLeave: handleMouseLeave,
    onTouchStart: handleMouseMove,
    onTouchMove: handleMouseMove,
    onTouchEnd: handleMouseLeave,
    onTouchCancel: handleMouseLeave
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_3__["default"], {
    activeKey: isUpdating ? 1 : 0,
    name: "semiFade",
    shouldCleanup: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: renderSvg(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(imgClassName, isUpdating && 'glare-image'),
    alt: lang('Currency History')
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TokenPriceChart));

/***/ }),

/***/ "./src/components/common/TokenSelector.tsx":
/*!*************************************************!*\
  !*** ./src/components/common/TokenSelector.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/isTonAddressOrDomain */ "./src/util/isTonAddressOrDomain.ts");
/* harmony import */ var _util_modalSwipeManager__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/modalSwipeManager */ "./src/util/modalSwipeManager.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkIcon */ "./src/util/swap/getBlockchainNetworkIcon.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useFocusAfterAnimation */ "./src/hooks/useFocusAfterAnimation.tsx");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./TokenSelector.module.scss */ "./src/components/common/TokenSelector.module.scss");
























var SearchState = /*#__PURE__*/function (SearchState) {
  SearchState[SearchState["Initial"] = 0] = "Initial";
  SearchState[SearchState["Search"] = 1] = "Search";
  SearchState[SearchState["Loading"] = 2] = "Loading";
  SearchState[SearchState["Token"] = 3] = "Token";
  SearchState[SearchState["Empty"] = 4] = "Empty";
  return SearchState;
}(SearchState || {});
const EMPTY_ARRAY = [];
function TokenSelector(_ref) {
  let {
    token,
    userTokens,
    swapTokens,
    popularTokens,
    shouldFilter,
    isInsideSettings,
    baseCurrency,
    tokenInSlug,
    pairsBySlug,
    balancesBySlug,
    isActive,
    isLoading,
    onBack,
    onClose,
    shouldHideMyTokens
  } = _ref;
  const {
    importToken,
    resetImportToken,
    openSettingsWithState,
    setSwapTokenIn,
    setSwapTokenOut,
    addToken,
    addSwapToken
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_16__["default"])();
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.getShortCurrencySymbol)(baseCurrency);

  // eslint-disable-next-line no-null/no-null
  const scrollContainerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  // eslint-disable-next-line no-null/no-null
  const searchInputRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_15__["default"])({
    isActive,
    onBack
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive) return undefined;
    (0,_util_modalSwipeManager__WEBPACK_IMPORTED_MODULE_9__.disableSwipeToClose)();
    return _util_modalSwipeManager__WEBPACK_IMPORTED_MODULE_9__.enableSwipeToClose;
  }, [isActive]);
  (0,_hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_14__["default"])(searchInputRef, !isActive);
  const {
    handleScroll: handleContentScroll
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_18__["default"])();
  const [searchValue, setSearchValue] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [isResetButtonVisible, setIsResetButtonVisible] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [renderingKey, setRenderingKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SearchState.Initial);
  const [searchTokenList, setSearchTokenList] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)([]);

  // It is necessary to use useCallback instead of useLastCallback here
  const filterTokens = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(tokens => {
    return filterAndSortTokens(tokens, tokenInSlug, pairsBySlug);
  }, [pairsBySlug, tokenInSlug]);
  const allUnimportedTonTokens = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return (swapTokens !== null && swapTokens !== void 0 ? swapTokens : EMPTY_ARRAY).filter(popularToken => 'blockchain' in popularToken && popularToken.blockchain === _config__WEBPACK_IMPORTED_MODULE_3__.TON_BLOCKCHAIN);
  }, [swapTokens]);
  const {
    userTokensWithFilter,
    popularTokensWithFilter,
    swapTokensWithFilter
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const currentUserTokens = userTokens !== null && userTokens !== void 0 ? userTokens : EMPTY_ARRAY;
    const currentSwapTokens = swapTokens !== null && swapTokens !== void 0 ? swapTokens : EMPTY_ARRAY;
    const currentPopularTokens = popularTokens !== null && popularTokens !== void 0 ? popularTokens : EMPTY_ARRAY;
    if (!shouldFilter) {
      return {
        userTokensWithFilter: currentUserTokens,
        popularTokensWithFilter: currentPopularTokens,
        swapTokensWithFilter: currentSwapTokens
      };
    }
    const filteredPopularTokens = filterTokens(currentPopularTokens);
    const filteredUserTokens = filterTokens(currentUserTokens);
    const filteredSwapTokens = filterTokens(currentSwapTokens);
    return {
      userTokensWithFilter: filteredUserTokens,
      popularTokensWithFilter: filteredPopularTokens,
      swapTokensWithFilter: filteredSwapTokens
    };
  }, [filterTokens, popularTokens, shouldFilter, swapTokens, userTokens]);
  const filteredTokenList = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _tokensToFilter$filte;
    const tokensToFilter = isInsideSettings ? allUnimportedTonTokens : swapTokensWithFilter;
    const untrimmedSearchValue = searchValue.toLowerCase();
    const lowerCaseSearchValue = untrimmedSearchValue.trim();
    if (untrimmedSearchValue.length && !lowerCaseSearchValue.length) {
      return [];
    }
    const filteredTokens = (_tokensToFilter$filte = tokensToFilter.filter(_ref2 => {
      let {
        name,
        symbol,
        keywords,
        isDisabled
      } = _ref2;
      if (isDisabled) {
        return false;
      }
      const isName = name.toLowerCase().includes(lowerCaseSearchValue);
      const isSymbol = symbol.toLowerCase().includes(lowerCaseSearchValue);
      const isKeyword = keywords === null || keywords === void 0 ? void 0 : keywords.some(key => key.toLowerCase().includes(lowerCaseSearchValue));
      return isName || isSymbol || isKeyword;
    })) !== null && _tokensToFilter$filte !== void 0 ? _tokensToFilter$filte : [];
    const sortFactors = filteredTokens.reduce((acc, searchResultToken) => {
      const factors = {
        tickerExactMatch: 0,
        tickerMatchLength: 0,
        nameMatchLength: 0
      };
      const tokenSymbol = searchResultToken.symbol.toLowerCase();
      const tokenName = searchResultToken.name.toLowerCase();
      if (tokenSymbol === lowerCaseSearchValue) {
        factors.tickerExactMatch = 1;
      }
      if (tokenSymbol.includes(lowerCaseSearchValue)) {
        factors.tickerMatchLength = lowerCaseSearchValue.length;
      }
      if (tokenName.includes(lowerCaseSearchValue)) {
        factors.nameMatchLength = lowerCaseSearchValue.length;
      }
      acc[searchResultToken.slug] = factors;
      return acc;
    }, {});
    return filteredTokens.sort((a, b) => {
      const factorA = sortFactors[a.slug];
      const factorB = sortFactors[b.slug];
      const comparisonResult = compareTokens(factorA, factorB);
      if (comparisonResult !== 0) return comparisonResult;
      return Number(b.amount - a.amount);
    });
  }, [allUnimportedTonTokens, isInsideSettings, searchValue, swapTokensWithFilter]);
  const resetSearch = () => {
    setSearchValue('');
  };
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_19__["default"])(() => {
    setIsResetButtonVisible(Boolean(searchValue.length));
    const isValidAddress = (0,_util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_8__.isTonAddressOrDomain)(searchValue);
    let newRenderingKey = SearchState.Initial;
    if (isLoading && isValidAddress) {
      newRenderingKey = SearchState.Loading;
    } else if (token && isValidAddress) {
      newRenderingKey = SearchState.Token;
    } else if (searchValue.length && filteredTokenList.length !== 0) {
      newRenderingKey = SearchState.Search;
    } else if (filteredTokenList.length === 0) {
      newRenderingKey = SearchState.Empty;
    }
    setRenderingKey(newRenderingKey);
    if (newRenderingKey !== SearchState.Initial) {
      setSearchTokenList(filteredTokenList);
    }
  }, [searchTokenList.length, isLoading, searchValue, token, filteredTokenList]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if ((0,_util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_8__.isTonAddressOrDomain)(searchValue)) {
      importToken({
        address: searchValue,
        isSwap: true
      });
      setRenderingKey(SearchState.Loading);
    } else {
      resetImportToken();
    }
  }, [searchValue]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!isActive || !scrollContainerRef.current) return;
    scrollContainerRef.current.scrollTop = 0;
  }, [isActive]);
  const handleTokenClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(selectedToken => {
    var _searchInputRef$curre;
    (_searchInputRef$curre = searchInputRef.current) === null || _searchInputRef$curre === void 0 ? void 0 : _searchInputRef$curre.blur();
    onBack();
    const isTokenUnimported = (balancesBySlug === null || balancesBySlug === void 0 ? void 0 : balancesBySlug[selectedToken.slug]) === undefined;
    if (isInsideSettings && isTokenUnimported) {
      addToken({
        token: selectedToken
      });
    } else {
      addSwapToken({
        token: selectedToken
      });
      const setToken = shouldFilter ? setSwapTokenOut : setSwapTokenIn;
      setToken({
        tokenSlug: selectedToken.slug
      });
    }
    resetSearch();
  });
  const handleOpenSettings = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    onClose();
    openSettingsWithState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SettingsState.Assets
    });
  });
  function renderSearch() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectInputWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectSearchIcon, 'icon-search'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
      ref: searchInputRef,
      name: "token-search-modal",
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectInput,
      onChange: e => setSearchValue(e.target.value),
      placeholder: lang('Name or Address...'),
      value: searchValue
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
      name: "fade",
      activeKey: isResetButtonVisible ? 0 : 1,
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectSearchResetWrapper
    }, isResetButtonVisible && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
      type: "button",
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectSearchReset,
      "aria-label": lang('Clear'),
      onClick: resetSearch
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectSearchResetIcon, 'icon-close'),
      "aria-hidden": true
    }))));
  }
  function renderToken(currentToken) {
    var _ASSET_LOGO_PATHS;
    const image = (_ASSET_LOGO_PATHS = _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_13__.ASSET_LOGO_PATHS[currentToken === null || currentToken === void 0 ? void 0 : currentToken.symbol.toLowerCase()]) !== null && _ASSET_LOGO_PATHS !== void 0 ? _ASSET_LOGO_PATHS : currentToken === null || currentToken === void 0 ? void 0 : currentToken.image;
    const blockchain = 'blockchain' in currentToken ? currentToken.blockchain : _config__WEBPACK_IMPORTED_MODULE_3__.TON_BLOCKCHAIN;
    const isAvailable = !shouldFilter || currentToken.canSwap;
    const descriptionText = isAvailable ? (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_11__["default"])(blockchain) : lang('Unavailable');
    const handleClick = isAvailable ? () => handleTokenClick(currentToken) : undefined;
    const tokenPrice = currentToken.price === 0 ? lang('No Price') : (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(currentToken.price, shortBaseSymbol, undefined, true);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: currentToken.slug,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenContainer, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenContainerDisabled),
      onClick: handleClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenLogoContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].logoContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: image,
      alt: currentToken.symbol,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenLogo, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenLogoDisabled)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNetworkLogo,
      alt: blockchain,
      src: (0,_util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_10__["default"])(blockchain)
    }), !isAvailable && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNetworkLogoDisabled
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].nameContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenName, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenTextDisabled)
    }, currentToken.name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNetwork, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenTextDisabled)
    }, descriptionText))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenPriceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenAmount, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenTextDisabled)
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(currentToken.amount, currentToken === null || currentToken === void 0 ? void 0 : currentToken.decimals), currentToken.symbol)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenValue, !isAvailable && _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenTextDisabled)
    }, tokenPrice)));
  }
  function renderTokenGroup(tokens, title, shouldShowSettings) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupHeader
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupTitle
    }, title), shouldShowSettings && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupAdditionalTitle,
      onClick: handleOpenSettings
    }, lang('Settings'))), tokens.map(renderToken));
  }
  function renderAllTokens(tokens) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupContainer
    }, tokens.map(renderToken));
  }
  function renderTokenSkeleton() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenContainer, _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenContainerDisabled)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenLogoContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].logoContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenLogoSkeleton
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNetworkLogoSkeleton
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].nameContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNameSkeleton
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenValueSkeleton
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenPriceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNameSkeleton, _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].rotateSkeleton)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenValueSkeleton
    })));
  }
  function renderNotFound(shouldPlay) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNotFound
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_20__["default"], {
      play: shouldPlay,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__.ANIMATED_STICKERS_PATHS.noData,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__.ANIMATED_STICKERS_PATHS.noDataPreview,
      size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_MIDDLE_SIZE_PX,
      noLoop: false,
      nonInteractive: true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNotFoundTitle
    }, lang('Not Found')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenNotFoundDesc
    }, lang('Try another keyword or address.')));
  }
  function renderSearchResults(tokenToImport) {
    if (tokenToImport) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenGroupContainer
      }, renderToken(tokenToImport));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, renderTokenSkeleton(), renderTokenSkeleton(), renderTokenSkeleton(), renderTokenSkeleton(), renderTokenSkeleton());
  }
  function renderTokenGroups() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !shouldHideMyTokens && renderTokenGroup(userTokensWithFilter, lang('MY'), true), renderTokenGroup(popularTokensWithFilter, lang('POPULAR')));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isContentActive, isFrom, currentKey) {
    switch (currentKey) {
      case SearchState.Initial:
        return renderTokenGroups();
      case SearchState.Loading:
        return renderSearchResults();
      case SearchState.Search:
        return renderAllTokens(searchTokenList);
      case SearchState.Token:
        return renderSearchResults(token);
      case SearchState.Empty:
        return renderNotFound(isContentActive);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
    title: lang('Select Token'),
    onBackButtonClick: onBack,
    onClose: onClose
  }), renderSearch(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_TokenSelector_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenSelectContent, 'custom-scroll'),
    onScroll: handleContentScroll,
    ref: scrollContainerRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
    name: "fade",
    activeKey: renderingKey
  }, renderContent)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount, _global$settings$impo, _global$currentSwap;
  const balances = (_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.balances;
  const {
    isLoading,
    token
  } = (_global$settings$impo = global.settings.importToken) !== null && _global$settings$impo !== void 0 ? _global$settings$impo : {};
  const {
    pairs,
    tokenInSlug
  } = (_global$currentSwap = global.currentSwap) !== null && _global$currentSwap !== void 0 ? _global$currentSwap : {};
  const userTokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectAvailableUserForSwapTokens)(global);
  const popularTokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectPopularTokens)(global);
  const swapTokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectSwapTokens)(global);
  const {
    baseCurrency
  } = global.settings;
  return {
    isLoading,
    token,
    userTokens,
    popularTokens,
    swapTokens,
    tokenInSlug,
    baseCurrency,
    pairsBySlug: pairs === null || pairs === void 0 ? void 0 : pairs.bySlug,
    balancesBySlug: balances === null || balances === void 0 ? void 0 : balances.bySlug
  };
})(TokenSelector)));
function filterAndSortTokens(tokens, tokenInSlug, pairsBySlug) {
  if (!tokens.length || !tokenInSlug) return [];
  return tokens.map(token => {
    var _pairsBySlug$tokenInS;
    const canSwap = Boolean(pairsBySlug === null || pairsBySlug === void 0 || (_pairsBySlug$tokenInS = pairsBySlug[tokenInSlug]) === null || _pairsBySlug$tokenInS === void 0 ? void 0 : _pairsBySlug$tokenInS[token.slug]);
    return {
      ...token,
      canSwap
    };
  }).sort((a, b) => Number(b.canSwap) - Number(a.canSwap));
}
function compareTokens(a, b) {
  if (a.tickerExactMatch !== b.tickerExactMatch) {
    return b.tickerExactMatch - a.tickerExactMatch;
  }
  if (a.tickerMatchLength !== b.tickerMatchLength) {
    return b.tickerMatchLength - a.tickerMatchLength;
  }
  return b.nameMatchLength - a.nameMatchLength;
}

/***/ }),

/***/ "./src/components/common/TransactionAmount.tsx":
/*!*****************************************************!*\
  !*** ./src/components/common/TransactionAmount.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TransactionAmount.module.scss */ "./src/components/common/TransactionAmount.module.scss");






function TransactionAmount(_ref) {
  let {
    isIncoming,
    isScam,
    amount,
    decimals,
    tokenSymbol,
    from,
    to,
    status
  } = _ref;
  const amountString = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toDecimal)(amount, decimals);
  const [wholePart, fractionPart] = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencyExtended)(amountString, '', false, decimals).split('.');
  const withBalanceChange = from !== undefined && to !== undefined;
  function renderAmount() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].amount, status && _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].withStatus, isIncoming && !isScam && _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].operationPositive, isScam && _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].operationScam)
    }, wholePart.trim().replace('\u202F', ''), fractionPart && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].amountFraction
    }, ".", fractionPart.trim()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].amountSymbol
    }, tokenSymbol || _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL), withBalanceChange && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].balanceChange
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)(from, '', _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DECIMAL_PLACES), "\xA0\u2192\xA0", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)(to, '', _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DECIMAL_PLACES)));
  }
  if (!status) {
    return renderAmount();
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].wrapper
  }, renderAmount(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].status, isIncoming && !isScam && _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].operationPositive, isScam && _TransactionAmount_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].operationScam)
  }, status));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TransactionAmount));

/***/ }),

/***/ "./src/components/common/TransferResult.tsx":
/*!**************************************************!*\
  !*** ./src/components/common/TransferResult.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TransferResult.module.scss */ "./src/components/common/TransferResult.module.scss");









function TransferResult(_ref) {
  let {
    playAnimation,
    amount = 0n,
    tokenSymbol = _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL,
    decimals = _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DECIMAL_PLACES,
    precision = 2,
    noSign,
    color,
    balance,
    operationAmount,
    fee,
    firstButtonText,
    secondButtonText,
    onFirstButtonClick,
    onSecondButtonClick
  } = _ref;
  const withBalanceChange = Boolean(balance !== undefined && operationAmount);
  let finalBalance = withBalanceChange ? balance + operationAmount : 0n;
  if (finalBalance && fee && tokenSymbol === _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL) {
    finalBalance -= fee;
  }
  const amountString = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toDecimal)(amount, decimals);
  const [wholePart, fractionPart] = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencyExtended)(amountString, '', noSign, decimals).split('.');
  function renderButtons() {
    if (!firstButtonText && !secondButtonText) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].buttons
    }, firstButtonText && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].button,
      onClick: onFirstButtonClick
    }, firstButtonText), secondButtonText && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
      className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].button,
      onClick: onSecondButtonClick
    }, secondButtonText));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_6__["default"], {
    play: playAnimation,
    noLoop: false,
    nonInteractive: true,
    className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].sticker,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.thumbUp,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.thumbUpPreview
  }), Boolean(withBalanceChange) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].balanceChange
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toDecimal)(balance, decimals), tokenSymbol, precision), "\xA0\u2192\xA0", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toDecimal)(finalBalance, decimals), tokenSymbol, precision)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].amount, color && _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"][`amount_${color}`])
  }, wholePart.trim().replace('\u202F', '').replace('-', '−'), fractionPart && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].amountFraction
  }, ".", fractionPart.trim()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].amountSymbol
  }, tokenSymbol)), renderButtons());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TransferResult));

/***/ }),

/***/ "./src/components/dapps/DappConnectModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/dapps/DappConnectModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _DappInfo__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DappInfo */ "./src/components/dapps/DappInfo.tsx");
/* harmony import */ var _DappPassword__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./DappPassword */ "./src/components/dapps/DappPassword.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");





















const HARDWARE_ACCOUNT_ADDRESS_SHIFT = 3;
const ACCOUNT_ADDRESS_SHIFT = 4;
const ACCOUNT_ADDRESS_SHIFT_END = 4;
function DappConnectModal(_ref) {
  let {
    state,
    hasConnectRequest,
    dapp,
    error,
    requiredPermissions,
    requiredProof,
    accounts,
    currentAccountId,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = _ref;
  const {
    submitDappConnectRequestConfirm,
    submitDappConnectRequestConfirmHardware,
    cancelDappConnectRequestConfirm,
    setDappConnectRequestState
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [selectedAccount, setSelectedAccount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(currentAccountId);
  const [isConfirmOpen, openConfirm, closeConfirm] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(false);
  const isOpen = hasConnectRequest;
  const {
    renderingKey,
    nextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_10__["default"])(state !== null && state !== void 0 ? state : 0, isOpen);
  const iterableAccounts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.entries(accounts || {}), [accounts]);
  const isLoading = dapp === undefined;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!currentAccountId) return;
    setSelectedAccount(currentAccountId);
  }, [currentAccountId]);
  const shouldRenderAccounts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return accounts && Object.keys(accounts).length > 1;
  }, [accounts]);
  const {
    iconUrl,
    name,
    url
  } = dapp || {};
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    closeConfirm();
    const {
      isHardware
    } = accounts[selectedAccount];
    const {
      isPasswordRequired,
      isAddressRequired
    } = requiredPermissions || {};
    if (!requiredProof || !isHardware && isAddressRequired && !isPasswordRequired) {
      submitDappConnectRequestConfirm({
        accountId: selectedAccount
      });
      cancelDappConnectRequestConfirm();
    } else if (isHardware) {
      setDappConnectRequestState({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.ConnectHardware
      });
    } else {
      // The confirmation window must be closed before the password screen is displayed
      requestAnimationFrame(() => {
        setDappConnectRequestState({
          state: _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.Password
        });
      });
    }
  });
  const handlePasswordCancel = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    setDappConnectRequestState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.Info
    });
  });
  const submitDappConnectRequestHardware = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    submitDappConnectRequestConfirmHardware({
      accountId: selectedAccount
    });
  });
  const handlePasswordSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(password => {
    submitDappConnectRequestConfirm({
      accountId: selectedAccount,
      password
    });
  });
  function renderAccount(accountId, address, title, isHardware) {
    const isActive = accountId === selectedAccount;
    const onClick = isActive || isLoading ? undefined : () => setSelectedAccount(accountId);
    const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].account, isActive && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].account_current, isLoading && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].account_disabled);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: accountId,
      className: fullClassName,
      "aria-label": lang('Switch Account'),
      onClick: onClick
    }, title && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accountName
    }, title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accountFooter
    }, isHardware && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon-ledger', isHardware && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].iconLedger),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accountAddress
    }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__.shortenAddress)(address, isHardware ? HARDWARE_ACCOUNT_ADDRESS_SHIFT : ACCOUNT_ADDRESS_SHIFT, ACCOUNT_ADDRESS_SHIFT_END))));
  }
  function renderAccounts() {
    const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accounts, 'custom-scroll', iterableAccounts.length === 1 && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accounts_single, iterableAccounts.length === 2 && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accounts_two);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].label
    }, lang('Select wallet to use on this dapp')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: fullClassName
    }, iterableAccounts.map(_ref2 => {
      let [accountId, {
        title,
        address,
        isHardware
      }] = _ref2;
      return renderAccount(accountId, address, title, isHardware);
    })));
  }
  function renderDappInfo() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_15__["default"], {
      title: lang('Connect Dapp'),
      onClose: cancelDappConnectRequestConfirm
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappInfo__WEBPACK_IMPORTED_MODULE_17__["default"], {
      iconUrl: iconUrl,
      name: name,
      url: url,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dapp_first, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dapp_push)
    }), shouldRenderAccounts && renderAccounts(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].footer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
      isPrimary: true,
      onClick: openConfirm
    }, lang('Connect')))));
  }
  function renderWaitForConnection() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_15__["default"], {
      title: lang('Connect Dapp'),
      onClose: cancelDappConnectRequestConfirm
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dappInfoSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dapp_first)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dappInfoIconSkeleton
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].dappInfoTextSkeleton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].nameSkeleton
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].descSkeleton
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].accountWrapperSkeleton
    }, shouldRenderAccounts && renderAccounts())));
  }
  function renderDappInfoWithSkeleton() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_16__["default"], {
      name: "semiFade",
      activeKey: isLoading ? 0 : 1,
      slideClassName: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].skeletonTransitionWrapper
    }, isLoading ? renderWaitForConnection() : renderDappInfo());
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.Info:
        return renderDappInfoWithSkeleton();
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.Password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappPassword__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: isActive,
          error: error,
          onSubmit: handlePasswordSubmit,
          onCancel: handlePasswordCancel,
          onClose: cancelDappConnectRequestConfirm
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.ConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isActive: isActive,
          state: hardwareState,
          isTonAppConnected: isTonAppConnected,
          isLedgerConnected: isLedgerConnected,
          onConnected: submitDappConnectRequestHardware,
          onClose: handlePasswordCancel
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.ConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_11__["default"], {
          isActive: isActive,
          text: lang('Please confirm operation on your Ledger'),
          error: error,
          onTryAgain: submitDappConnectRequestHardware,
          onClose: handlePasswordCancel
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isOpen: isOpen,
    dialogClassName: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].modalDialog,
    nativeBottomSheetKey: "dapp-connect",
    forceFullNative: renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.DappConnectState.Password,
    onClose: cancelDappConnectRequestConfirm,
    onCloseAnimationEnd: cancelDappConnectRequestConfirm
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_16__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey
  }, renderContent)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isOpen: isConfirmOpen,
    isCompact: true,
    title: lang('Dapp Permissions'),
    onClose: closeConfirm
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].description
  }, lang('$dapp_can_view_balance', {
    dappname: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, name)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
    onClick: closeConfirm,
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
    isPrimary: true,
    onClick: handleSubmit,
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
  }, lang('Connect')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _global$dappConnectRe;
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectNetworkAccounts)(global);
  const hasConnectRequest = ((_global$dappConnectRe = global.dappConnectRequest) === null || _global$dappConnectRe === void 0 ? void 0 : _global$dappConnectRe.state) !== undefined;
  const {
    state,
    dapp,
    error,
    accountId,
    permissions,
    proof
  } = global.dappConnectRequest || {};
  const currentAccountId = accountId || global.currentAccountId;
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    state,
    hasConnectRequest,
    dapp,
    error,
    requiredPermissions: permissions,
    requiredProof: proof,
    currentAccountId,
    accounts,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  };
})(DappConnectModal)));

/***/ }),

/***/ "./src/components/dapps/DappInfo.tsx":
/*!*******************************************!*\
  !*** ./src/components/dapps/DappInfo.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");






function DappInfo(_ref) {
  let {
    iconUrl,
    name,
    url,
    origin,
    onDisconnect,
    className
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const shouldShowDisconnect = Boolean(onDisconnect && origin);
  const handleDisconnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    onDisconnect(origin);
  });
  function renderIcon() {
    if (iconUrl) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
        src: iconUrl,
        alt: lang('Logo'),
        className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappLogo
      });
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappLogo, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappLogo_icon)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappIcon, 'icon-laptop'),
      "aria-hidden": true
    }));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dapp, className)
  }, renderIcon(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappInfo
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappName
  }, name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappUrl
  }, url && new URL(url).host)), shouldShowDisconnect && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isSmall: true,
    isPrimary: true,
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].dappDisconnect,
    onClick: handleDisconnect
  }, lang('Disconnect')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DappInfo));

/***/ }),

/***/ "./src/components/dapps/DappLedgerWarning.tsx":
/*!****************************************************!*\
  !*** ./src/components/dapps/DappLedgerWarning.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _DappInfo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DappInfo */ "./src/components/dapps/DappInfo.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");













function DappLedgerWarning(_ref) {
  let {
    tonToken,
    currentAccount,
    dapp
  } = _ref;
  const {
    cancelDappTransfer,
    setDappTransferScreen
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const handleAgree = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    setDappTransferScreen({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial
    });
  });
  function renderDapp() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transactionDirection
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transactionAccount
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].accountTitle
    }, currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].accountBalance
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_6__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.toDecimal)(tonToken.amount), tonToken.symbol))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappInfo__WEBPACK_IMPORTED_MODULE_10__["default"], {
      iconUrl: dapp === null || dapp === void 0 ? void 0 : dapp.iconUrl,
      name: dapp === null || dapp === void 0 ? void 0 : dapp.name,
      url: dapp === null || dapp === void 0 ? void 0 : dapp.url,
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transactionDapp
    }));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].transitionContent
  }, renderDapp(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].descriptionContent
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$dapp_ledger_warning1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$dapp_ledger_warning2')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button,
    onClick: cancelDappTransfer
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    isSubmit: true,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button,
    onClick: handleAgree
  }, lang('Agree'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    dapp
  } = global.currentDappTransfer;
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectNetworkAccounts)(global);
  return {
    currentAccount: accounts === null || accounts === void 0 ? void 0 : accounts[global.currentAccountId],
    dapp
  };
})(DappLedgerWarning)));

/***/ }),

/***/ "./src/components/dapps/DappPassword.tsx":
/*!***********************************************!*\
  !*** ./src/components/dapps/DappPassword.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");







function DappPassword(_ref) {
  let {
    isActive,
    error,
    onSubmit,
    onCancel,
    onClose
  } = _ref;
  const {
    clearDappConnectRequestError
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__["default"])({
    isActive,
    onBack: onCancel
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: lang('Enter Password'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isActive: isActive,
    error: error,
    withCloseButton: _config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR,
    submitLabel: lang('Connect'),
    cancelLabel: lang('Cancel'),
    onSubmit: onSubmit,
    onCancel: onCancel,
    onUpdate: clearDappConnectRequestError
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DappPassword));

/***/ }),

/***/ "./src/components/dapps/DappTransfer.tsx":
/*!***********************************************!*\
  !*** ./src/components/dapps/DappTransfer.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../api/blockchains/ton/constants */ "./src/api/blockchains/ton/constants.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/AmountWithFeeTextField */ "./src/components/ui/AmountWithFeeTextField.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");












const FRACTION_DIGITS = 2;
function DappTransfer(_ref) {
  var _transaction$payload, _transaction$payload2;
  let {
    tonToken,
    transaction,
    fee,
    tokens
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [isPayloadExpanded, expandPayload] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(false);
  const isNftTransfer = ((_transaction$payload = transaction.payload) === null || _transaction$payload === void 0 ? void 0 : _transaction$payload.type) === 'nft:transfer';
  const shouldRenderPayloadWarning = ((_transaction$payload2 = transaction.payload) === null || _transaction$payload2 === void 0 ? void 0 : _transaction$payload2.type) === 'unknown';
  function renderFeeForNft() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].label
    }, lang('Fee')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].payloadField
    }, "\u2248 ", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatCurrencySimple)(_api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_6__.NFT_TRANSFER_TONCOIN_AMOUNT + (fee !== null && fee !== void 0 ? fee : 0n), ''), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].currencySymbol
    }, _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL)));
  }
  function renderPayload(payload, rawPayload) {
    switch (payload.type) {
      case 'comment':
        return payload.comment;
      case 'tokens:transfer-non-standard':
      case 'tokens:transfer':
        {
          var _token$decimals, _token$symbol;
          const {
            slug: tokenSlug,
            amount: tokenAmount,
            destination
          } = payload;
          const token = tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
            let {
              slug
            } = _ref2;
            return slug === tokenSlug;
          });
          const decimals = (_token$decimals = token === null || token === void 0 ? void 0 : token.decimals) !== null && _token$decimals !== void 0 ? _token$decimals : _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_DECIMALS;
          const symbol = (_token$symbol = token === null || token === void 0 ? void 0 : token.symbol) !== null && _token$symbol !== void 0 ? _token$symbol : '';
          return lang('$dapp_transfer_tokens_payload', {
            amount: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_4__.toDecimal)(tokenAmount, decimals), symbol, FRACTION_DIGITS),
            address: destination
          });
        }
      case 'tokens:burn':
        {
          var _token$decimals2, _token$symbol2;
          const {
            slug: tokenSlug,
            amount
          } = payload;
          const token = tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref3 => {
            let {
              slug
            } = _ref3;
            return slug === tokenSlug;
          });
          const decimals = (_token$decimals2 = token === null || token === void 0 ? void 0 : token.decimals) !== null && _token$decimals2 !== void 0 ? _token$decimals2 : _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_DECIMALS;
          const symbol = (_token$symbol2 = token === null || token === void 0 ? void 0 : token.symbol) !== null && _token$symbol2 !== void 0 ? _token$symbol2 : '';
          return lang('$dapp_transfer_tokens_burn', {
            amount: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_4__.toDecimal)(amount, decimals), symbol, FRACTION_DIGITS)
          });
        }
      case 'dns:change-record':
        {
          const {
            record
          } = payload;
          const category = record.type !== 'unknown' ? record.type : record.key;
          if (record.type === 'wallet' && record.value) {
            return lang('$dapp_dns_set_wallet_payload', {
              address: record.value
            });
          } else if (record.type === 'wallet' && !record.value) {
            return lang('$dapp_dns_delete_wallet_payload');
          } else if (record.value) {
            return lang('$dapp_dns_change_record_payload', {
              category,
              value: record.value
            });
          } else {
            return lang('$dapp_dns_delete_record_payload', {
              category
            });
          }
        }
      case 'token-bridge:pay-swap':
        {
          return lang('$dapp_token_bridge_pay_swap_payload', {
            swapId: payload.swapId
          });
        }
      case 'liquid-staking:deposit':
        {
          return lang('$dapp_liquid_staking_deposit_payload');
        }
      case 'liquid-staking:vote':
        {
          return lang('$dapp_liquid_staking_vote_payload', {
            votingAddress: payload.votingAddress,
            vote: payload.vote
          });
        }
      case 'single-nominator:change-validator':
        {
          return lang('$dapp_single_nominator_change_validator_payload', {
            address: payload.address
          });
        }
      case 'single-nominator:withdraw':
        {
          return lang('$dapp_single_nominator_withdraw_payload', {
            amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_4__.toDecimal)(payload.amount)
          });
        }
      case 'vesting:add-whitelist':
        {
          return lang('$dapp_vesting_add_whitelist_payload', {
            address: payload.address
          });
        }
      case 'unknown':
        {
          return rawPayload;
        }
      default:
        return JSON.stringify(payload, undefined, 2).replace(`/"${_util_bigint__WEBPACK_IMPORTED_MODULE_2__.BIGINT_PREFIX}/g`, '"');
    }
  }
  function renderPayloadLabel(payload) {
    switch (payload.type) {
      case 'comment':
        return lang('Comment');
      case 'unknown':
        return lang('Payload');
      default:
        return lang('Nested Transaction');
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].label
  }, lang('Receiving Address')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_10__["default"], {
    address: transaction.toAddress,
    isScam: transaction.isScam,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].dataField, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].receivingAddress),
    copyNotification: lang('Address was copied!')
  }), isNftTransfer ? renderFeeForNft() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_9__["default"], {
    label: lang('Amount'),
    amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_4__.toDecimal)(transaction.amount),
    symbol: tonToken.symbol,
    fee: fee ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_4__.toDecimal)(fee, tonToken.decimals) : undefined,
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].dataField,
    labelClassName: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].label
  }), transaction.payload && !isNftTransfer && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].label
  }, renderPayloadLabel(transaction.payload)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].payloadField, isPayloadExpanded && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].payloadField_expanded)
  }, renderPayload(transaction.payload, transaction.rawPayload), !isPayloadExpanded && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].payloadFieldExpand,
    onClick: expandPayload
  }, lang('View'))), shouldRenderPayloadWarning && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].warningForPayload
  }, lang('$hardware_payload_warning'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DappTransfer));

/***/ }),

/***/ "./src/components/dapps/DappTransferInitial.tsx":
/*!******************************************************!*\
  !*** ./src/components/dapps/DappTransferInitial.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _transfer_NftInfo__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../transfer/NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _DappInfo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DappInfo */ "./src/components/dapps/DappInfo.tsx");
/* harmony import */ var _DappTransfer__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DappTransfer */ "./src/components/dapps/DappTransfer.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");
/* harmony import */ var _assets_scam_svg__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../assets/scam.svg */ "./src/assets/scam.svg");



















function DappTransferInitial(_ref) {
  var _renderingTransaction;
  let {
    tonToken,
    currentAccount,
    transactions,
    fee,
    dapp,
    isLoading,
    tokens,
    onClose
  } = _ref;
  const {
    showDappTransfer,
    submitDappTransferConfirm
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const isSingleTransaction = (transactions === null || transactions === void 0 ? void 0 : transactions.length) === 1;
  const renderingTransactions = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_9__["default"])(transactions, true);
  const isNftTransfer = (renderingTransactions === null || renderingTransactions === void 0 || (_renderingTransaction = renderingTransactions[0].payload) === null || _renderingTransaction === void 0 ? void 0 : _renderingTransaction.type) === 'nft:transfer';
  const nft = isNftTransfer && 'nft' in renderingTransactions[0].payload ? renderingTransactions[0].payload.nft : undefined;
  const hasScamAddresses = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return renderingTransactions === null || renderingTransactions === void 0 ? void 0 : renderingTransactions.some(_ref2 => {
      let {
        isScam
      } = _ref2;
      return isScam;
    });
  }, [renderingTransactions]);
  const totalAmountText = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const feeDecimal = fee ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(fee) : '0';
    let tonAmount = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_3__.Big)(feeDecimal);
    let cost = 0;
    const bySymbol = (renderingTransactions !== null && renderingTransactions !== void 0 ? renderingTransactions : []).reduce((acc, transaction) => {
      var _ref3;
      const {
        payload,
        amount
      } = transaction;
      const amountDecimal = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount);
      tonAmount = tonAmount.plus(amountDecimal);
      cost += (_ref3 = Number(amountDecimal) * tonToken.priceUsd) !== null && _ref3 !== void 0 ? _ref3 : 0;
      if ((payload === null || payload === void 0 ? void 0 : payload.type) === 'tokens:transfer' || (payload === null || payload === void 0 ? void 0 : payload.type) === 'tokens:transfer-non-standard') {
        const {
          slug: tokenSlug,
          amount: tokenAmount
        } = payload;
        const token = tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref4 => {
          let {
            slug
          } = _ref4;
          return tokenSlug === slug;
        });
        if (token) {
          var _acc$symbol;
          const {
            decimals,
            symbol,
            priceUsd
          } = token;
          const tokenAmountDecimal = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(tokenAmount, decimals);
          acc[symbol] = ((_acc$symbol = acc[symbol]) !== null && _acc$symbol !== void 0 ? _acc$symbol : (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_3__.Big)(0)).plus(tokenAmountDecimal);
          cost += Number(tokenAmountDecimal) * priceUsd;
        }
      }
      return acc;
    }, {});
    const text = Object.entries(bySymbol).reduce((acc, _ref5) => {
      let [symbol, amountBig] = _ref5;
      return `${acc} + ${(0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(amountBig.toString(), symbol, _config__WEBPACK_IMPORTED_MODULE_2__.SHORT_FRACTION_DIGITS)}`;
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(tonAmount.toString(), tonToken.symbol, _config__WEBPACK_IMPORTED_MODULE_2__.SHORT_FRACTION_DIGITS));
    return `${text} (${(0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(cost, '$')})`;
  }, [renderingTransactions, fee, tokens, tonToken]);
  function renderDapp() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionDirection
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionAccount
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].accountTitle
    }, currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].accountBalance
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(tonToken.amount), tonToken.symbol))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappInfo__WEBPACK_IMPORTED_MODULE_14__["default"], {
      iconUrl: dapp === null || dapp === void 0 ? void 0 : dapp.iconUrl,
      name: dapp === null || dapp === void 0 ? void 0 : dapp.name,
      url: dapp === null || dapp === void 0 ? void 0 : dapp.url,
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionDapp
    }));
  }
  function renderTransaction() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappTransfer__WEBPACK_IMPORTED_MODULE_15__["default"], {
      transaction: renderingTransactions[0],
      tonToken: tonToken,
      fee: fee,
      tokens: tokens
    });
  }
  function renderTransactionRow(transaction, i) {
    const {
      payload
    } = transaction;
    let extraText = '';
    if ((payload === null || payload === void 0 ? void 0 : payload.type) === 'nft:transfer') {
      extraText = '1 NFT + ';
    } else if ((payload === null || payload === void 0 ? void 0 : payload.type) === 'tokens:transfer' || (payload === null || payload === void 0 ? void 0 : payload.type) === 'tokens:transfer-non-standard') {
      const {
        slug: tokenSlug,
        amount
      } = payload;
      const token = tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref6 => {
        let {
          slug
        } = _ref6;
        return tokenSlug === slug;
      });
      if (token) {
        const {
          decimals,
          symbol
        } = token;
        extraText = `${(0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount, decimals), symbol, _config__WEBPACK_IMPORTED_MODULE_2__.SHORT_FRACTION_DIGITS)} + `;
      }
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: `${transaction.toAddress}_${transaction.amount}_${i}`,
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionRow,
      onClick: () => {
        showDappTransfer({
          transactionIdx: i
        });
      }
    }, transaction.isScam && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: _assets_scam_svg__WEBPACK_IMPORTED_MODULE_18__,
      alt: lang('Scam'),
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].scamImage
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionRowAmount, transaction.isScam && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].scam)
    }, extraText, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(transaction.amount), tonToken.symbol, _config__WEBPACK_IMPORTED_MODULE_2__.SHORT_FRACTION_DIGITS)), ' ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionRowAddress, transaction.isScam && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].scam)
    }, lang('$transaction_to', {
      address: (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__.shortenAddress)(transaction.toAddress)
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionRowChevron, 'icon-chevron-right'),
      "aria-hidden": true
    }));
  }
  function renderTransactions() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].label
    }, lang('$many_transactions', renderingTransactions === null || renderingTransactions === void 0 ? void 0 : renderingTransactions.length, 'i')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transactionList
    }, renderingTransactions === null || renderingTransactions === void 0 ? void 0 : renderingTransactions.map(renderTransactionRow)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].label
    }, lang('Total Amount')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: totalAmountText
    }));
  }
  if (!renderingTransactions) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
  }, renderDapp(), isNftTransfer && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_transfer_NftInfo__WEBPACK_IMPORTED_MODULE_11__["default"], {
    nft: nft
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].contentWithBackground
  }, isSingleTransaction ? renderTransaction() : renderTransactions()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].button,
    onClick: onClose
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isPrimary: true,
    isSubmit: true,
    isLoading: isLoading,
    isDisabled: hasScamAddresses,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].button,
    onClick: !hasScamAddresses ? submitDappTransferConfirm : undefined
  }, lang('Send'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    transactions,
    fee,
    isLoading,
    dapp
  } = global.currentDappTransfer;
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectNetworkAccounts)(global);
  return {
    currentAccount: accounts === null || accounts === void 0 ? void 0 : accounts[global.currentAccountId],
    transactions,
    fee,
    dapp,
    isLoading,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global)
  };
})(DappTransferInitial)));

/***/ }),

/***/ "./src/components/dapps/DappTransferModal.tsx":
/*!****************************************************!*\
  !*** ./src/components/dapps/DappTransferModal.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _DappLedgerWarning__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./DappLedgerWarning */ "./src/components/dapps/DappLedgerWarning.tsx");
/* harmony import */ var _DappTransfer__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./DappTransfer */ "./src/components/dapps/DappTransfer.tsx");
/* harmony import */ var _DappTransferInitial__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./DappTransferInitial */ "./src/components/dapps/DappTransferInitial.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Dapp.module.scss */ "./src/components/dapps/Dapp.module.scss");

























function DappTransferModal(_ref) {
  var _renderingTransaction, _renderingTransaction2;
  let {
    currentDappTransfer: {
      dapp,
      transactions,
      isLoading,
      viewTransactionOnIdx,
      state,
      error
    },
    tokens,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isMediaViewerOpen
  } = _ref;
  const {
    setDappTransferScreen,
    clearDappTransferError,
    submitDappTransferPassword,
    submitDappTransferHardware,
    closeDappTransfer,
    cancelDappTransfer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  }), [tokens]);
  const isOpen = state !== _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.None;
  const [forceFullNative, setForceFullNative] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_11__["default"])(state, isOpen);
  const renderingTransactions = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_8__["default"])(transactions, true);
  const isNftTransfer = (renderingTransactions === null || renderingTransactions === void 0 || (_renderingTransaction = renderingTransactions[0].payload) === null || _renderingTransaction === void 0 ? void 0 : _renderingTransaction.type) === 'nft:transfer';
  const isDappLoading = dapp === undefined;
  const withPayloadWarning = (renderingTransactions === null || renderingTransactions === void 0 || (_renderingTransaction2 = renderingTransactions[0].payload) === null || _renderingTransaction2 === void 0 ? void 0 : _renderingTransaction2.type) === 'unknown';
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    setForceFullNative(isOpen && (withPayloadWarning || renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password));
  }, [withPayloadWarning, renderingKey, isOpen]);
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password) {
      setDappTransferScreen({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial
      });
    }
  });
  const handleTransferPasswordSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(password => {
    submitDappTransferPassword({
      password
    });
  });
  const handleLedgerConnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    submitDappTransferHardware();
  });
  const handleResetTransfer = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    cancelDappTransfer();
    updateNextKey();
  });
  function renderSingleTransaction(isActive) {
    const transaction = viewTransactionOnIdx !== undefined ? transactions === null || transactions === void 0 ? void 0 : transactions[viewTransactionOnIdx] : undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__["default"], {
      title: lang('Is it all ok?'),
      onClose: closeDappTransfer
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__["default"], {
      size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_SMALL_SIZE_PX,
      play: isActive,
      noLoop: false,
      nonInteractive: true,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].sticker, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].sticker_sizeSmall),
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.bill,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.billPreview
    }), Boolean(transaction) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappTransfer__WEBPACK_IMPORTED_MODULE_21__["default"], {
      transaction: transaction,
      tonToken: tonToken,
      tokens: tokens
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      onClick: handleBackClick
    }, lang('Back')))));
  }
  function renderPassword(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__["default"], {
      title: lang('Confirm Action'),
      onClose: closeDappTransfer
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_18__["default"], {
      isActive: isActive,
      isLoading: isLoading,
      error: error,
      withCloseButton: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR,
      submitLabel: lang('Send'),
      cancelLabel: lang('Back'),
      onSubmit: handleTransferPasswordSubmit,
      onCancel: handleBackClick,
      onUpdate: clearDappTransferError
    }));
  }
  function renderWaitForConnection() {
    const renderRow = isLarge => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowContainerSkeleton, isLarge && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowContainerLargeSkeleton)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowTextSkeleton, isLarge && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowTextLargeSkeleton)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowSkeleton, isLarge && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].rowLargeSkeleton)
    }));
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__["default"], {
      title: lang('Send Transaction'),
      onClose: closeDappTransfer
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transactionDirection
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transactionDirectionLeftSkeleton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].nameSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].nameDappSkeleton)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].descSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].descDappSkeleton)
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transactionDirectionRightSkeleton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].dappInfoIconSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].transactionDappIconSkeleton)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].dappInfoDataSkeleton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].nameSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].nameDappSkeleton)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].descSkeleton, _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].descDappSkeleton)
    })))), renderRow(true), renderRow(), renderRow()));
  }
  function renderTransferInitialWithSkeleton() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_19__["default"], {
      name: "semiFade",
      activeKey: isDappLoading ? 0 : 1,
      slideClassName: _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].skeletonTransitionWrapper
    }, isDappLoading ? renderWaitForConnection() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__["default"], {
      title: lang(isNftTransfer ? 'Send NFT' : 'Send Transaction'),
      onClose: closeDappTransfer
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappTransferInitial__WEBPACK_IMPORTED_MODULE_22__["default"], {
      onClose: closeDappTransfer,
      tonToken: tonToken
    })));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial:
        return renderTransferInitialWithSkeleton();
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.WarningHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_17__["default"], {
          title: lang('Send Transaction'),
          onClose: closeDappTransfer
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DappLedgerWarning__WEBPACK_IMPORTED_MODULE_20__["default"], {
          tonToken: tonToken
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm:
        return renderSingleTransaction(isActive);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password:
        return renderPassword(isActive);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.ConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_13__["default"], {
          isActive: isActive,
          state: hardwareState,
          isTonAppConnected: isTonAppConnected,
          isLedgerConnected: isLedgerConnected,
          onConnected: handleLedgerConnect,
          onClose: closeDappTransfer
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.ConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_12__["default"], {
          text: lang('Please confirm transaction on your Ledger'),
          error: error,
          onTryAgain: submitDappTransferHardware,
          onClose: closeDappTransfer
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_16__["default"], {
    hasCloseButton: true,
    isOpen: isOpen && !isMediaViewerOpen,
    noBackdropClose: true,
    dialogClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalDialog, withPayloadWarning && _Dapp_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalDialogExtraHeight),
    nativeBottomSheetKey: "dapp-transfer",
    forceFullNative: forceFullNative,
    onClose: closeDappTransfer,
    onCloseAnimationEnd: handleResetTransfer
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_19__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_6__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    currentDappTransfer: global.currentDappTransfer,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global),
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId)
  };
})(DappTransferModal)));

/***/ }),

/***/ "./src/components/electron/ElectronHeader.tsx":
/*!****************************************************!*\
  !*** ./src/components/electron/ElectronHeader.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useElectronDrag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useElectronDrag */ "./src/hooks/useElectronDrag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _UpdateApp__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./UpdateApp */ "./src/components/electron/UpdateApp.tsx");
/* harmony import */ var _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ElectronHeader.module.scss */ "./src/components/electron/ElectronHeader.module.scss");






function ElectronHeader(_ref) {
  let {
    children,
    withTitle
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_hooks_useElectronDrag__WEBPACK_IMPORTED_MODULE_2__["default"])(containerRef);
  const handleMinimize = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    var _window$electron;
    (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.minimize();
  });
  const handleMaximize = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(async () => {
    var _window$electron2;
    if (await ((_window$electron2 = window.electron) === null || _window$electron2 === void 0 ? void 0 : _window$electron2.getIsMaximized())) {
      var _window$electron3;
      (_window$electron3 = window.electron) === null || _window$electron3 === void 0 ? void 0 : _window$electron3.unmaximize();
    } else {
      var _window$electron4;
      (_window$electron4 = window.electron) === null || _window$electron4 === void 0 ? void 0 : _window$electron4.maximize();
    }
  });
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    var _window$electron5;
    (_window$electron5 = window.electron) === null || _window$electron5 === void 0 ? void 0 : _window$electron5.close();
  });
  const handleDoubleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    var _window$electron6;
    (_window$electron6 = window.electron) === null || _window$electron6 === void 0 ? void 0 : _window$electron6.handleDoubleClick();
  });
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_WINDOWS) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      ref: containerRef,
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].container,
      onDoubleClick: handleDoubleClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].wrapper
    }, Boolean(children) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].buttons
    }, children), withTitle && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].applicationName
    }, "MyTonWallet")), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].windowsButtons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_UpdateApp__WEBPACK_IMPORTED_MODULE_4__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].windowsButton,
      onClick: handleMinimize
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-windows-minimize"
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].windowsButton,
      onClick: handleMaximize
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-windows-maximize"
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].windowsButton,
      onClick: handleClose
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-windows-close"
    }))));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: containerRef,
    className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].container,
    onDoubleClick: handleDoubleClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].wrapper
  }, withTitle && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].applicationName
  }, "MyTonWallet"), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ElectronHeader_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_UpdateApp__WEBPACK_IMPORTED_MODULE_4__["default"], null), children)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(ElectronHeader));

/***/ }),

/***/ "./src/components/electron/UpdateApp.tsx":
/*!***********************************************!*\
  !*** ./src/components/electron/UpdateApp.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _electron_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../electron/types */ "./src/electron/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./UpdateApp.module.scss */ "./src/components/electron/UpdateApp.module.scss");










function UpdateApp(_ref) {
  let {
    isAppUpdateAvailable
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [isElectronUpdateDownloaded, setIsElectronUpdateDownloaded] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isElectronAutoUpdateEnabled, setIsElectronAutoUpdateEnabled] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isDisabled, disable] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    var _window$electron, _window$electron2, _window$electron3;
    const removeUpdateErrorListener = (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.on(_electron_types__WEBPACK_IMPORTED_MODULE_2__.ElectronEvent.UPDATE_ERROR, () => {
      setIsElectronUpdateDownloaded(false);
    });
    const removeUpdateDownloadedListener = (_window$electron2 = window.electron) === null || _window$electron2 === void 0 ? void 0 : _window$electron2.on(_electron_types__WEBPACK_IMPORTED_MODULE_2__.ElectronEvent.UPDATE_DOWNLOADED, () => {
      setIsElectronUpdateDownloaded(true);
    });
    (_window$electron3 = window.electron) === null || _window$electron3 === void 0 ? void 0 : _window$electron3.getIsAutoUpdateEnabled().then(setIsElectronAutoUpdateEnabled);
    return () => {
      removeUpdateErrorListener === null || removeUpdateErrorListener === void 0 ? void 0 : removeUpdateErrorListener();
      removeUpdateDownloadedListener === null || removeUpdateDownloadedListener === void 0 ? void 0 : removeUpdateDownloadedListener();
    };
  }, []);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(async () => {
    if (isDisabled) {
      return;
    }
    if (!isElectronAutoUpdateEnabled) {
      window.open(`${_config__WEBPACK_IMPORTED_MODULE_3__.PRODUCTION_URL}/get`, '_blank', 'noopener');
      return;
    }
    if (isElectronUpdateDownloaded) {
      var _window$electron4;
      disable();
      await ((_window$electron4 = window.electron) === null || _window$electron4 === void 0 ? void 0 : _window$electron4.installUpdate());
      return;
    }
    if (isAppUpdateAvailable) {
      window.location.reload();
    }
  });
  const {
    transitionClassNames,
    shouldRender
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__["default"])(isElectronUpdateDownloaded || isAppUpdateAvailable);
  if (!shouldRender) {
    return null; // eslint-disable-line no-null/no-null
  }

  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].container, transitionClassNames, isDisabled && _UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].disabled),
    onClick: handleClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon-update', _UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _UpdateApp_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].text
  }, lang('Update MyTonWallet')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    isAppUpdateAvailable
  } = global;
  return {
    isAppUpdateAvailable
  };
})(UpdateApp)));

/***/ }),

/***/ "./src/components/explore/Site.tsx":
/*!*****************************************!*\
  !*** ./src/components/explore/Site.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/url */ "./src/util/url.ts");
/* harmony import */ var _ui_Image__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/Image */ "./src/components/ui/Image.tsx");
/* harmony import */ var _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../main/sections/Content/Explore.module.scss */ "./src/components/main/sections/Content/Explore.module.scss");






function Site(_ref) {
  let {
    url,
    icon,
    title,
    description,
    isExternal
  } = _ref;
  function handleClick() {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_1__.vibrate)();
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_2__.openUrl)(url, isExternal, title, (0,_util_url__WEBPACK_IMPORTED_MODULE_3__.getHostnameFromUrl)(url));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].item,
    tabIndex: 0,
    role: "button",
    onClick: handleClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Image__WEBPACK_IMPORTED_MODULE_4__["default"], {
    url: icon,
    className: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].imageWrapper,
    imageClassName: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].image
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].infoWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].title
  }, title)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _main_sections_Content_Explore_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].description
  }, description));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Site));

/***/ }),

/***/ "./src/components/explore/helpers.ts":
/*!*******************************************!*\
  !*** ./src/components/explore/helpers.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   WebViewBridgeMessageType: () => (/* binding */ WebViewBridgeMessageType),
/* harmony export */   getInjectableJsMessage: () => (/* binding */ getInjectableJsMessage),
/* harmony export */   objectToInjection: () => (/* binding */ objectToInjection)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");

let WebViewBridgeMessageType = /*#__PURE__*/function (WebViewBridgeMessageType) {
  WebViewBridgeMessageType["invokeCapFunc"] = "invokeCapFunc";
  WebViewBridgeMessageType["functionResponse"] = "functionResponse";
  WebViewBridgeMessageType["event"] = "event";
  return WebViewBridgeMessageType;
}({});
const objectToInjection = (obj, timeout) => {
  const funcKeys = Object.keys(obj).filter(key => typeof obj[key] === 'function');
  const funcs = funcKeys.reduce((acc, funcName) => `${acc}${funcName}: (...args) => {
      return new Promise((resolve, reject) => window.invokeCapFunc('bridge:${funcName}', args, resolve, reject))
    },`, '');
  return `
    (() => {
      if (window.${_config__WEBPACK_IMPORTED_MODULE_0__.TONCONNECT_WALLET_JSBRIDGE_KEY}) return;
      window.capPromises = {};
      window.capEventListeners = [];
      window.invokeCapFunc = (name, args, resolve, reject) => {
        const invocationId = btoa(Math.random()).substring(0, 12);
        const timeoutMs = ${timeout || 'undefined'};
        const timeoutId = timeoutMs
          ? setTimeout(() => reject(new Error(\`bridge timeout for function with name: \${name}\`)), timeoutMs)
          : null;
        window.capPromises[invocationId] = { resolve, reject, timeoutId };
        const target = 'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab;
        target.postMessage(JSON.stringify({
          type: '${WebViewBridgeMessageType.invokeCapFunc}',
          invocationId: invocationId,
          name,
          args,
        }));
      };
      window.open = (url) => {
        window.invokeCapFunc('window:open', { url });
      };
      window.close = () => {
        window.invokeCapFunc('window:close');
      };
      window.addEventListener('click', (e) => {
        const { href, target } = e.target.closest('a') || {};
        if (href && (target === '_blank' || !href.startsWith('http'))) {
          e.preventDefault();
          window.invokeCapFunc('window:open', { url: href });
        }
      }, false);
      window.addEventListener('message', ({ data }) => {
        try {
          const message = JSON.parse(data);
          if (message.type === '${WebViewBridgeMessageType.functionResponse}') {
            const promise = window.capPromises[message.invocationId];
            if (!promise) {
              return;
            }
            if (promise.timeoutId) {
              clearTimeout(promise.timeoutId);
            }
            if (message.status === 'fulfilled') {
              promise.resolve(message.data);
            } else {
              promise.reject(new Error(message.data));
            }
            delete window.capPromises[message.invocationId];
          }
          if (message.type === '${WebViewBridgeMessageType.event}') {
            window.capEventListeners.forEach((listener) => listener(message.event));
          }
        } catch {}
      });
      function listen(cb) {
        window.capEventListeners.push(cb);
        return function() {
          const index = window.capEventListeners.indexOf(cb);
          if (index > -1) {
            window.capEventListeners.splice(index, 1);
          }
        };
      }
      window.${_config__WEBPACK_IMPORTED_MODULE_0__.TONCONNECT_WALLET_JSBRIDGE_KEY} = {
        tonconnect: Object.assign(
          ${JSON.stringify(obj)},
          {${funcs}},
          { listen },
        ),
      };
    })();
  `;
};
const getInjectableJsMessage = message => {
  return `
    (function() {
      window.dispatchEvent(new MessageEvent('message', {
        data: ${JSON.stringify(message)}
      }));
    })();
  `;
};

/***/ }),

/***/ "./src/components/explore/hooks/useDappBridge.ts":
/*!*******************************************************!*\
  !*** ./src/components/explore/hooks/useDappBridge.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useDappBridge: () => (/* binding */ useDappBridge)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../api/tonConnect/types */ "./src/api/tonConnect/types/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_logs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/logs */ "./src/util/logs.ts");
/* harmony import */ var _util_tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/tonConnectEnvironment */ "./src/util/tonConnectEnvironment.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _useWebViewBridge__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useWebViewBridge */ "./src/components/explore/hooks/useWebViewBridge.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");











function useDappBridge(_ref) {
  let {
    endpoint
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const inAppBrowserRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const [requestId, setRequestId] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(0);
  const origin = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    return endpoint ? new URL(endpoint).origin.toLowerCase() : undefined;
  }, [endpoint]);
  const bridgeObject = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    if (!origin) return undefined;
    return {
      deviceInfo: (0,_util_tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_6__.tonConnectGetDeviceInfo)(),
      protocolVersion: _config__WEBPACK_IMPORTED_MODULE_4__.TONCONNECT_PROTOCOL_VERSION,
      isWalletBrowser: true,
      connect: async (protocolVersion, request) => {
        try {
          var _inAppBrowserRef$curr, _inAppBrowserRef$curr2;
          if (protocolVersion > _config__WEBPACK_IMPORTED_MODULE_4__.TONCONNECT_PROTOCOL_VERSION) {
            return buildConnectError(requestId, 'Unsupported protocol version', _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR);
          }
          verifyConnectRequest(request);
          await ((_inAppBrowserRef$curr = inAppBrowserRef.current) === null || _inAppBrowserRef$curr === void 0 ? void 0 : _inAppBrowserRef$curr.hide());
          if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
            await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.enable();
          }
          const response = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_connect', buildDappRequest(origin), request, requestId);
          if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
            await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
          }
          (_inAppBrowserRef$curr2 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr2 === void 0 ? void 0 : _inAppBrowserRef$curr2.show();
          setRequestId(requestId + 1);
          if ((response === null || response === void 0 ? void 0 : response.event) === 'connect') {
            response.payload.device = (0,_util_tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_6__.tonConnectGetDeviceInfo)();
          }
          return response;
        } catch (err) {
          var _inAppBrowserRef$curr3;
          (0,_util_logs__WEBPACK_IMPORTED_MODULE_5__.logDebugError)('useDAppBridge:connect', err);
          if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
            await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
          }
          (_inAppBrowserRef$curr3 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr3 === void 0 ? void 0 : _inAppBrowserRef$curr3.show();
          if ('event' in err && 'id' in err && 'payload' in err) {
            return err;
          }
          return buildConnectError(requestId, err === null || err === void 0 ? void 0 : err.message, _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR);
        }
      },
      restoreConnection: async () => {
        try {
          const response = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_reconnect', buildDappRequest(origin), requestId);
          setRequestId(requestId + 1);
          if ((response === null || response === void 0 ? void 0 : response.event) === 'connect') {
            response.payload.device = (0,_util_tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_6__.tonConnectGetDeviceInfo)();
          }
          return response;
        } catch (err) {
          (0,_util_logs__WEBPACK_IMPORTED_MODULE_5__.logDebugError)('useDAppBridge:reconnect', err);
          if ('event' in err && 'id' in err && 'payload' in err) {
            return err;
          }
          return buildConnectError(requestId, err === null || err === void 0 ? void 0 : err.message, _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR);
        }
      },
      disconnect: async () => {
        setRequestId(0);
        await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_disconnect', buildDappRequest(origin), {
          id: requestId.toString(),
          method: 'disconnect',
          params: []
        });
      },
      send: async request => {
        var _getGlobal$settings$d;
        setRequestId(requestId + 1);
        const isConnected = (_getGlobal$settings$d = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getGlobal)().settings.dapps) === null || _getGlobal$settings$d === void 0 ? void 0 : _getGlobal$settings$d.some(dapp => dapp.origin === origin);
        if (!isConnected) {
          return {
            error: {
              code: _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR,
              message: 'Unknown app'
            },
            id: request.id.toString()
          };
        }
        const dappRequest = buildDappRequest(origin);
        try {
          switch (request.method) {
            case 'sendTransaction':
              {
                var _inAppBrowserRef$curr4, _inAppBrowserRef$curr5;
                await ((_inAppBrowserRef$curr4 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr4 === void 0 ? void 0 : _inAppBrowserRef$curr4.hide());
                if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
                  await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.enable();
                }
                const callResponse = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_sendTransaction', dappRequest, request);
                if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
                  await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
                }
                if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATED_BOTTOM_SHEET) {
                  void native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.applyScrollPatch();
                }
                (_inAppBrowserRef$curr5 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr5 === void 0 ? void 0 : _inAppBrowserRef$curr5.show();
                return callResponse;
              }
            case 'disconnect':
              {
                const callResponse = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_disconnect', dappRequest, request);
                return callResponse;
              }
            case 'signData':
              {
                var _inAppBrowserRef$curr6, _inAppBrowserRef$curr7;
                await ((_inAppBrowserRef$curr6 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr6 === void 0 ? void 0 : _inAppBrowserRef$curr6.hide());
                if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
                  await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.enable();
                }
                const callResponse = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('tonConnect_signData', dappRequest, request);
                if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
                  await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
                }
                (_inAppBrowserRef$curr7 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr7 === void 0 ? void 0 : _inAppBrowserRef$curr7.show();
                return callResponse;
              }
            default:
              return {
                error: {
                  code: _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR,
                  message: `Method "${request.method}" is not supported`
                },
                id: request.id.toString()
              };
          }
        } catch (err) {
          var _inAppBrowserRef$curr8;
          (0,_util_logs__WEBPACK_IMPORTED_MODULE_5__.logDebugError)('useDAppBridge:send', err);
          if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
            await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
          }
          (_inAppBrowserRef$curr8 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr8 === void 0 ? void 0 : _inAppBrowserRef$curr8.show();
          return {
            error: {
              code: _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR,
              message: err === null || err === void 0 ? void 0 : err.message
            },
            id: request.id.toString()
          };
        }
      }
    };
  }, [origin, requestId]);
  const [bridgeInjectionCode, onMessage, sendEvent] = (0,_useWebViewBridge__WEBPACK_IMPORTED_MODULE_9__.useWebViewBridge)(inAppBrowserRef, bridgeObject);
  const disconnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    try {
      // onDisconnect(endpoint, requestId);
      sendEvent({
        event: 'disconnect',
        payload: {},
        id: requestId
      });
    } catch (err) {
      (0,_util_logs__WEBPACK_IMPORTED_MODULE_5__.logDebugError)('disconnect', err);
    }
  });
  return {
    inAppBrowserRef,
    bridgeInjectionCode,
    onMessage,
    disconnect
  };
}
function buildConnectError(id) {
  let msg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'Unknown error.';
  let code = arguments.length > 2 ? arguments[2] : undefined;
  return {
    event: 'connect_error',
    id,
    payload: {
      code: code || _api_tonConnect_types__WEBPACK_IMPORTED_MODULE_3__.CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR,
      message: msg
    }
  };
}
function verifyConnectRequest(request) {
  var _request$items;
  if (!(request && request.manifestUrl && (_request$items = request.items) !== null && _request$items !== void 0 && _request$items.length)) {
    throw new Error('Wrong request data');
  }
}
function buildDappRequest(origin) {
  return {
    origin,
    accountId: (0,_global__WEBPACK_IMPORTED_MODULE_2__.getGlobal)().currentAccountId
  };
}

/***/ }),

/***/ "./src/components/explore/hooks/useWebViewBridge.ts":
/*!**********************************************************!*\
  !*** ./src/components/explore/hooks/useWebViewBridge.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useWebViewBridge: () => (/* binding */ useWebViewBridge)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_deeplink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/deeplink */ "./src/util/deeplink/index.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ "./src/components/explore/helpers.ts");



const useWebViewBridge = (inAppBrowserRef, bridgeObj, timeout) => {
  const bridgeInjectionCode = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => bridgeObj ? (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.objectToInjection)(bridgeObj, timeout) : '', [bridgeObj, timeout]);
  const postMessage = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(message => {
    var _inAppBrowserRef$curr;
    (_inAppBrowserRef$curr = inAppBrowserRef.current) === null || _inAppBrowserRef$curr === void 0 ? void 0 : _inAppBrowserRef$curr.executeScript({
      code: (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getInjectableJsMessage)(JSON.stringify(message))
    });
  }, [inAppBrowserRef]);
  const onMessage = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async event => {
    if (!bridgeObj) return;
    const message = typeof event.data === 'string' ? JSON.parse(event.data) : event.data;
    if (message.type === _helpers__WEBPACK_IMPORTED_MODULE_2__.WebViewBridgeMessageType.invokeCapFunc) {
      try {
        let result;
        switch (message.name) {
          case 'window:open':
            {
              const {
                url
              } = message.args;
              (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_1__.openDeeplinkOrUrl)(url, true, true);
              result = true;
              break;
            }
          case 'window:close':
            {
              var _inAppBrowserRef$curr2;
              (_inAppBrowserRef$curr2 = inAppBrowserRef.current) === null || _inAppBrowserRef$curr2 === void 0 ? void 0 : _inAppBrowserRef$curr2.close();
              break;
            }
          default:
            {
              const methodName = message.name.replace('bridge:', '');
              result = await bridgeObj[methodName](...message.args);
            }
        }
        postMessage({
          type: _helpers__WEBPACK_IMPORTED_MODULE_2__.WebViewBridgeMessageType.functionResponse,
          invocationId: message.invocationId,
          status: 'fulfilled',
          data: result
        });
      } catch (err) {
        postMessage({
          type: _helpers__WEBPACK_IMPORTED_MODULE_2__.WebViewBridgeMessageType.functionResponse,
          invocationId: message.invocationId,
          status: 'rejected',
          data: err === null || err === void 0 ? void 0 : err.message
        });
      }
    }
  }, [bridgeObj, inAppBrowserRef, postMessage]);
  const sendEvent = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(event => {
    postMessage({
      type: _helpers__WEBPACK_IMPORTED_MODULE_2__.WebViewBridgeMessageType.event,
      event
    });
  }, [postMessage]);
  return [bridgeInjectionCode, onMessage, sendEvent];
};

/***/ }),

/***/ "./src/components/ledger/LedgerConfirmOperation.tsx":
/*!**********************************************************!*\
  !*** ./src/components/ledger/LedgerConfirmOperation.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LedgerModal.module.scss */ "./src/components/ledger/LedgerModal.module.scss");














var ConfirmTransactionState = /*#__PURE__*/function (ConfirmTransactionState) {
  ConfirmTransactionState[ConfirmTransactionState["Waiting"] = 0] = "Waiting";
  ConfirmTransactionState[ConfirmTransactionState["Error"] = 1] = "Error";
  return ConfirmTransactionState;
}(ConfirmTransactionState || {});
function LedgerConfirmOperation(_ref) {
  let {
    isActive,
    text,
    error,
    onClose,
    onTryAgain
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [activeState, setActiveState] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(ConfirmTransactionState.Waiting);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(ConfirmTransactionState.Error);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: onClose
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (error) {
      setActiveState(ConfirmTransactionState.Error);
      setNextKey(ConfirmTransactionState.Waiting);
    } else {
      setActiveState(ConfirmTransactionState.Waiting);
      setNextKey(ConfirmTransactionState.Error);
    }
  }, [error]);
  function renderWaitingConfirm(isActiveSlide) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
      title: lang('Confirm via Ledger'),
      onClose: onClose
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__["default"], {
      size: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_BIG_SIZE_PX,
      play: isActiveSlide,
      noLoop: false,
      nonInteractive: true,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].sticker,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.holdTon,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.holdTonPreview
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock_small)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, text)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock_single)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      onClick: onClose,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
    }, lang('Cancel')))));
  }
  function renderTryAgain(isActiveSlide) {
    const isErrorDetailed = error === '$hardware_blind_sign_not_enabled';
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
      title: lang('Confirm via Ledger'),
      onClose: onClose
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__["default"], {
      size: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_BIG_SIZE_PX,
      play: isActiveSlide,
      noLoop: false,
      nonInteractive: true,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].sticker,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.holdTon,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_5__.ANIMATED_STICKERS_PATHS.holdTonPreview
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].declinedLabel, isErrorDetailed && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].declinedLabelDetailed)
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang(error))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      onClick: onClose,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
    }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      isPrimary: true,
      onClick: onTryAgain,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
    }, lang('Try Again')))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActiveSlide, isFrom, currentKey) {
    switch (currentKey) {
      case ConfirmTransactionState.Waiting:
        return renderWaitingConfirm(isActiveSlide);
      case ConfirmTransactionState.Error:
        return renderTryAgain(isActiveSlide);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_11__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_4__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transition, 'custom-scroll'),
    slideClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transitionSlide, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].slide),
    activeKey: activeState,
    nextKey: nextKey
  }, renderContent);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(LedgerConfirmOperation));

/***/ }),

/***/ "./src/components/ledger/LedgerConnect.tsx":
/*!*************************************************!*\
  !*** ./src/components/ledger/LedgerConnect.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_ledger_tab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/ledger/tab */ "./src/util/ledger/tab.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./LedgerModal.module.scss */ "./src/components/ledger/LedgerModal.module.scss");














const NEXT_SLIDE_DELAY = 500;
function LedgerConnect(_ref) {
  let {
    isActive,
    state,
    isLedgerConnected,
    isTonAppConnected,
    isRemoteTab,
    onConnected,
    onCancel,
    onClose
  } = _ref;
  const {
    connectHardwareWallet,
    resetHardwareWalletConnect,
    initializeHardwareWalletConnection
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const isLedgerFailed = isLedgerConnected === false;
  const isTonAppFailed = isTonAppConnected === false;
  const isConnected = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSingleWallet || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSeveralWallets;
  const isWaitingForBrowser = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.WaitingForBrowser;
  const title = isConnected ? lang('Ledger Connected!') : lang('Connect Ledger');
  const shouldCloseOnCancel = !onCancel;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: onCancel !== null && onCancel !== void 0 ? onCancel : onClose
  });
  const handleConnected = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(isSingleWallet => {
    if (isRemoteTab) {
      return;
    }
    setTimeout(() => {
      onConnected(isSingleWallet);
      setTimeout(() => {
        resetHardwareWalletConnect();
      }, NEXT_SLIDE_DELAY);
    }, NEXT_SLIDE_DELAY);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isRemoteTab || !isActive) return;
    initializeHardwareWalletConnection();
  }, [isActive, isRemoteTab]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSingleWallet || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSeveralWallets) {
      handleConnected(state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSingleWallet);
    }
  }, [state, handleConnected]);
  const handleCloseWithBrowserTab = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    const closeAction = shouldCloseOnCancel ? onClose : onCancel;
    (0,_util_ledger_tab__WEBPACK_IMPORTED_MODULE_4__.closeLedgerTab)();
    closeAction();
  });
  function renderButtons() {
    const isConnecting = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Connecting;
    const isFailed = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Failed;
    if (isRemoteTab && isConnected) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock_single)
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
        isDisabled: isConnecting,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button_single),
        onClick: onClose
      }, lang('Continue')));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock_single)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      isDisabled: isConnecting,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button_single),
      onClick: shouldCloseOnCancel ? onClose : onCancel
    }, lang(shouldCloseOnCancel ? 'Cancel' : 'Back')), !isConnected && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      isPrimary: true,
      isDisabled: isConnecting,
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button,
      onClick: connectHardwareWallet
    }, isFailed ? lang('Try Again') : lang('Continue')));
  }
  function renderWaitingForBrowser() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
      title: title,
      onClose: handleCloseWithBrowserTab
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconBlock, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconBlock_base)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock_gap)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textIcon, 'icon-dot'),
      "aria-hidden": true
    }), lang('Switch to the newly opened tab to connect Ledger.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textIcon, 'icon-dot'),
      "aria-hidden": true
    }), lang('Once connected, switch back to this window to proceed.'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].actionBlock_single)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button, _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button_single),
      onClick: handleCloseWithBrowserTab
    }, lang(shouldCloseOnCancel ? 'Cancel' : 'Back')))));
  }
  function renderConnect() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
      title: title,
      onClose: onClose
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconBlock, isConnected ? _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconBlock_success : _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconBlock_base)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textBlock_success)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text, isLedgerFailed && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_failed, isLedgerConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_connected, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_success)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textIcon, isLedgerConnected ? 'icon-accept' : 'icon-dot'),
      "aria-hidden": true
    }), lang('Connect your Ledger to PC')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text, isTonAppFailed && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_failed, isTonAppConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_connected, isConnected && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_success)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].textIcon, isTonAppConnected ? 'icon-accept' : 'icon-dot'),
      "aria-hidden": true
    }), lang('Unlock it and open the TON App'))), renderButtons()));
  }
  function renderContent() {
    if (isWaitingForBrowser) {
      return renderWaitingForBrowser();
    }
    return renderConnect();
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_11__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].transitionSlide,
    activeKey: isWaitingForBrowser ? 1 : 0
  }, renderContent);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(LedgerConnect));

/***/ }),

/***/ "./src/components/ledger/LedgerModal.tsx":
/*!***********************************************!*\
  !*** ./src/components/ledger/LedgerModal.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _LedgerConnect__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _LedgerSelectWallets__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./LedgerSelectWallets */ "./src/components/ledger/LedgerSelectWallets.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LedgerModal.module.scss */ "./src/components/ledger/LedgerModal.module.scss");












var LedgerModalState = /*#__PURE__*/function (LedgerModalState) {
  LedgerModalState[LedgerModalState["Password"] = 0] = "Password";
  LedgerModalState[LedgerModalState["Connect"] = 1] = "Connect";
  LedgerModalState[LedgerModalState["SelectWallets"] = 2] = "SelectWallets";
  return LedgerModalState;
}(LedgerModalState || {});
function LedgerModal(_ref) {
  let {
    isOpen,
    onClose,
    hardwareWallets,
    accounts,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isRemoteTab
  } = _ref;
  const {
    afterSelectHardwareWallets,
    resetHardwareWalletConnect
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const [currentSlide, setCurrentSlide] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(LedgerModalState.Connect);
  const [nextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(LedgerModalState.SelectWallets);
  const handleAddLedgerWallet = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    afterSelectHardwareWallets({
      hardwareSelectedIndices: [hardwareWallets[0].index]
    });
    onClose();
  });
  const handleConnected = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(isSingleWallet => {
    if (isSingleWallet) {
      handleAddLedgerWallet();
      return;
    }
    setCurrentSlide(LedgerModalState.SelectWallets);
  });
  const handleLedgerModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    setCurrentSlide(LedgerModalState.Connect);
    resetHardwareWalletConnect();
  });

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case LedgerModalState.Connect:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_LedgerConnect__WEBPACK_IMPORTED_MODULE_8__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          isRemoteTab: isRemoteTab,
          onConnected: handleConnected,
          onClose: onClose
        });
      case LedgerModalState.SelectWallets:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_LedgerSelectWallets__WEBPACK_IMPORTED_MODULE_9__["default"], {
          isActive: isActive,
          accounts: accounts,
          hardwareWallets: hardwareWallets,
          onClose: onClose
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    onClose: onClose,
    onCloseAnimationEnd: handleLedgerModalClose,
    dialogClassName: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].modalDialog
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_7__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_4__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].transitionSlide,
    activeKey: currentSlide,
    nextKey: nextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectNetworkAccounts)(global);
  const {
    hardwareWallets,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isRemoteTab
  } = global.hardware;
  return {
    accounts,
    hardwareWallets,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isRemoteTab
  };
})(LedgerModal)));

/***/ }),

/***/ "./src/components/ledger/LedgerSelectWallets.tsx":
/*!*******************************************************!*\
  !*** ./src/components/ledger/LedgerSelectWallets.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./LedgerModal.module.scss */ "./src/components/ledger/LedgerModal.module.scss");












const ACCOUNT_ADDRESS_SHIFT = 4;
const ACCOUNT_BALANCE_DECIMALS = 3;
function LedgerSelectWallets(_ref) {
  let {
    isActive,
    hardwareWallets,
    accounts,
    onCancel,
    onClose
  } = _ref;
  const {
    afterSelectHardwareWallets,
    loadMoreHardwareWallets
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [selectedAccountIndices, setSelectedAccountIndices] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const shouldCloseOnCancel = !onCancel;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: onCancel !== null && onCancel !== void 0 ? onCancel : onClose
  });
  const handleAccountToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(index => {
    if (selectedAccountIndices.includes(index)) {
      setSelectedAccountIndices(selectedAccountIndices.filter(id => id !== index));
    } else {
      setSelectedAccountIndices(selectedAccountIndices.concat([index]));
    }
  });
  const handleAddLedgerWallets = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    afterSelectHardwareWallets({
      hardwareSelectedIndices: selectedAccountIndices
    });
    onClose();
  });
  const alreadyConnectedList = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.values(accounts !== null && accounts !== void 0 ? accounts : []).map(_ref2 => {
    let {
      address
    } = _ref2;
    return address;
  }), [accounts]);
  const handleAddWalletClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    var _list$index, _list;
    const list = hardwareWallets !== null && hardwareWallets !== void 0 ? hardwareWallets : [];
    const lastIndex = (_list$index = (_list = list[list.length - 1]) === null || _list === void 0 ? void 0 : _list.index) !== null && _list$index !== void 0 ? _list$index : 0;
    loadMoreHardwareWallets({
      lastIndex
    });
  });
  function renderAddAccount() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].addAccountContainer,
      onClick: handleAddWalletClick
    }, lang('Add Wallet'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].addAccountIcon, 'icon-plus'),
      "aria-hidden": true
    }));
  }
  function renderAccount(address, balance, index, isConnected) {
    const isActiveAccount = isConnected || selectedAccountIndices.includes(index);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: address,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].account, isActiveAccount && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].account_current),
      onClick: isConnected ? undefined : () => handleAccountToggle(index)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountName
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountCurrencyIcon, 'icon-ton'),
      "aria-hidden": true
    }), (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toDecimal)(balance), '', ACCOUNT_BALANCE_DECIMALS)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountFooter
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountAddress
    }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_5__.shortenAddress)(address, ACCOUNT_ADDRESS_SHIFT, ACCOUNT_ADDRESS_SHIFT))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountCheckMark, isActiveAccount && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accountCheckMark_active)
    }));
  }
  function renderAccounts() {
    const list = hardwareWallets !== null && hardwareWallets !== void 0 ? hardwareWallets : [];
    const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accounts, list.length === 1 && _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].accounts_two, 'custom-scroll');
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: fullClassName
    }, list.map(_ref3 => {
      let {
        address,
        balance,
        index
      } = _ref3;
      return renderAccount(address, balance, index, alreadyConnectedList.includes(address));
    }), renderAddAccount());
  }
  const areAccountsSelected = !selectedAccountIndices.length;
  const title = selectedAccountIndices.length ? lang('%1$d Selected', selectedAccountIndices.length) : lang('Select Ledger Wallets');
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: title,
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].container
  }, renderAccounts(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].actionBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button,
    onClick: shouldCloseOnCancel ? onClose : onCancel
  }, lang(shouldCloseOnCancel ? 'Cancel' : 'Back')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    isDisabled: areAccountsSelected,
    onClick: handleAddLedgerWallets,
    className: _LedgerModal_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].button
  }, lang('Add')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(LedgerSelectWallets));

/***/ }),

/***/ "./src/components/main/Main.tsx":
/*!**************************************!*\
  !*** ./src/components/main/Main.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_captureEvents__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/captureEvents */ "./src/util/captureEvents.ts");
/* harmony import */ var _util_switchTheme__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/switchTheme */ "./src/util/switchTheme.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _util_windowSize__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/windowSize */ "./src/util/windowSize.ts");
/* harmony import */ var _hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useBackgroundMode */ "./src/hooks/useBackgroundMode.ts");
/* harmony import */ var _hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useDelegatedBottomSheet */ "./src/hooks/useDelegatedBottomSheet.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePreventPinchZoomGesture__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/usePreventPinchZoomGesture */ "./src/hooks/usePreventPinchZoomGesture.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _receive_ReceiveModal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../receive/ReceiveModal */ "./src/components/receive/ReceiveModal.tsx");
/* harmony import */ var _staking_StakeModal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../staking/StakeModal */ "./src/components/staking/StakeModal.tsx");
/* harmony import */ var _staking_StakingInfoModal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../staking/StakingInfoModal */ "./src/components/staking/StakingInfoModal.tsx");
/* harmony import */ var _staking_UnstakeModal__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../staking/UnstakeModal */ "./src/components/staking/UnstakeModal.tsx");
/* harmony import */ var _ui_UpdateAvailable__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../ui/UpdateAvailable */ "./src/components/ui/UpdateAvailable.tsx");
/* harmony import */ var _vesting_VestingModal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../vesting/VestingModal */ "./src/components/vesting/VestingModal.tsx");
/* harmony import */ var _vesting_VestingPasswordModal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../vesting/VestingPasswordModal */ "./src/components/vesting/VestingPasswordModal.tsx");
/* harmony import */ var _sections_Actions__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./sections/Actions */ "./src/components/main/sections/Actions/index.ts");
/* harmony import */ var _sections_Card__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./sections/Card */ "./src/components/main/sections/Card/index.ts");
/* harmony import */ var _sections_Card_StickyCard__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./sections/Card/StickyCard */ "./src/components/main/sections/Card/StickyCard.tsx");
/* harmony import */ var _sections_Content__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./sections/Content */ "./src/components/main/sections/Content/index.ts");
/* harmony import */ var _sections_Warnings__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./sections/Warnings */ "./src/components/main/sections/Warnings/index.ts");
/* harmony import */ var _Main_module_scss__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Main.module.scss */ "./src/components/main/Main.module.scss");

































const STICKY_CARD_INTERSECTION_THRESHOLD = -3.75 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.REM;
const UPDATE_SWAPS_INTERVAL_NOT_FOCUSED = 15000; // 15 sec
const UPDATE_SWAPS_INTERVAL = 3000; // 3 sec

function Main(_ref) {
  let {
    isActive,
    currentTokenSlug,
    isStakingActive,
    isUnstakeRequested,
    isTestnet,
    isLedger,
    isStakingInfoModalOpen,
    isSwapDisabled,
    isOnRampDisabled,
    isMediaViewerOpen
  } = _ref;
  const {
    selectToken,
    startStaking,
    openBackupWalletModal,
    setActiveContentTab,
    openStakingInfo,
    closeStakingInfo,
    setLandscapeActionsActiveTabIndex,
    loadExploreSites,
    openReceiveModal,
    updatePendingSwaps
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();

  // eslint-disable-next-line no-null/no-null
  const cardRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const portraitContainerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [canRenderStickyCard, setCanRenderStickyCard] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [shouldRenderDarkStatusBar, setShouldRenderDarkStatusBar] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const safeAreaTop = _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_6__.getStatusBarHeight)() : _util_windowSize__WEBPACK_IMPORTED_MODULE_10__["default"].get().safeAreaTop;
  const [isFocused, markIsFocused, unmarkIsFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_15__["default"])(!(0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_11__.isBackgroundModeActive)());
  (0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_11__["default"])(unmarkIsFocused, markIsFocused);
  (0,_hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_12__.useOpenFromMainBottomSheet)('receive', openReceiveModal);
  (0,_hooks_usePreventPinchZoomGesture__WEBPACK_IMPORTED_MODULE_18__["default"])(isMediaViewerOpen);
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__.useDeviceScreen)();
  const {
    shouldRender: shouldRenderStickyCard,
    transitionClassNames: stickyCardTransitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__["default"])(canRenderStickyCard);
  (0,_hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_14__["default"])(loadExploreSites);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_8__.setStatusBarStyle)(shouldRenderDarkStatusBar);
  }, [shouldRenderDarkStatusBar]);
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_16__["default"])(updatePendingSwaps, isFocused ? UPDATE_SWAPS_INTERVAL : UPDATE_SWAPS_INTERVAL_NOT_FOCUSED);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isPortrait || !isActive) {
      setCanRenderStickyCard(false);
      return undefined;
    }
    const rootMarginTop = STICKY_CARD_INTERSECTION_THRESHOLD - safeAreaTop;
    const observer = new IntersectionObserver(entries => {
      const {
        isIntersecting,
        boundingClientRect: {
          left,
          width
        }
      } = entries[0];
      setCanRenderStickyCard(entries.length > 0 && !isIntersecting && left < width);
    }, {
      rootMargin: `${rootMarginTop}px 0px 0px`
    });
    const cardTopSideObserver = new IntersectionObserver(entries => {
      const {
        isIntersecting
      } = entries[0];
      setShouldRenderDarkStatusBar(!isIntersecting);
    }, {
      rootMargin: `-${safeAreaTop}px 0px 0px`,
      threshold: [1]
    });
    const cardElement = cardRef.current;
    if (cardElement) {
      observer.observe(cardElement);
      cardTopSideObserver.observe(cardElement);
    }
    return () => {
      if (cardElement) {
        observer.unobserve(cardElement);
        cardTopSideObserver.unobserve(cardElement);
      }
    };
  }, [isActive, isPortrait, safeAreaTop]);
  const handleTokenCardClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    selectToken({
      slug: undefined
    });
    setActiveContentTab({
      tab: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets
    });
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_TOUCH_ENV || !isPortrait || !portraitContainerRef.current || !currentTokenSlug) {
      return undefined;
    }
    return (0,_util_captureEvents__WEBPACK_IMPORTED_MODULE_7__.captureEvents)(portraitContainerRef.current, {
      excludedClosestSelector: '.token-card',
      onSwipe: (e, direction) => {
        if (direction === _util_captureEvents__WEBPACK_IMPORTED_MODULE_7__.SwipeDirection.Right) {
          handleTokenCardClose();
          return true;
        }
        return false;
      }
    });
  }, [currentTokenSlug, handleTokenCardClose, isPortrait]);
  const handleEarnClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    if (!isPortrait) {
      setLandscapeActionsActiveTabIndex({
        index: _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake
      });
      return;
    }
    if (isStakingActive || isUnstakeRequested) {
      openStakingInfo();
    } else {
      startStaking();
    }
  });
  function renderPortraitLayout() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Main_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].portraitContainer,
      ref: portraitContainerRef
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Main_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].head
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Warnings__WEBPACK_IMPORTED_MODULE_31__["default"], {
      onOpenBackupWallet: openBackupWalletModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Card__WEBPACK_IMPORTED_MODULE_28__["default"], {
      ref: cardRef,
      forceCloseAccountSelector: shouldRenderStickyCard,
      onTokenCardClose: handleTokenCardClose,
      onApyClick: handleEarnClick
    }), shouldRenderStickyCard && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Card_StickyCard__WEBPACK_IMPORTED_MODULE_29__["default"], {
      classNames: stickyCardTransitionClassNames
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Actions__WEBPACK_IMPORTED_MODULE_27__.PortraitActions, {
      hasStaking: isStakingActive,
      isTestnet: isTestnet,
      isUnstakeRequested: isUnstakeRequested,
      onEarnClick: handleEarnClick,
      isLedger: isLedger,
      isSwapDisabled: isSwapDisabled,
      isOnRampDisabled: isOnRampDisabled
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Content__WEBPACK_IMPORTED_MODULE_30__["default"], {
      onStakedTokenClick: handleEarnClick
    }));
  }
  function renderLandscapeLayout() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Main_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].landscapeContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Main_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].sidebar, 'custom-scroll')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Warnings__WEBPACK_IMPORTED_MODULE_31__["default"], {
      onOpenBackupWallet: openBackupWalletModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Card__WEBPACK_IMPORTED_MODULE_28__["default"], {
      onTokenCardClose: handleTokenCardClose,
      onApyClick: handleEarnClick
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Actions__WEBPACK_IMPORTED_MODULE_27__.LandscapeActions, {
      hasStaking: isStakingActive,
      isUnstakeRequested: isUnstakeRequested,
      isLedger: isLedger
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Main_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].main
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_sections_Content__WEBPACK_IMPORTED_MODULE_30__["default"], {
      onStakedTokenClick: handleEarnClick
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_DELEGATED_BOTTOM_SHEET && (isPortrait ? renderPortraitLayout() : renderLandscapeLayout()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_staking_StakeModal__WEBPACK_IMPORTED_MODULE_21__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_staking_StakingInfoModal__WEBPACK_IMPORTED_MODULE_22__["default"], {
    isOpen: isStakingInfoModalOpen,
    onClose: closeStakingInfo
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_receive_ReceiveModal__WEBPACK_IMPORTED_MODULE_20__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_staking_UnstakeModal__WEBPACK_IMPORTED_MODULE_23__["default"], null), _config__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID_DIRECT && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_UpdateAvailable__WEBPACK_IMPORTED_MODULE_24__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_vesting_VestingModal__WEBPACK_IMPORTED_MODULE_25__["default"], null), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_vesting_VestingPasswordModal__WEBPACK_IMPORTED_MODULE_26__["default"], null));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking, _accountState$staking2, _global$mediaViewer;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  const account = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccount)(global);
  const {
    isSwapDisabled,
    isOnRampDisabled
  } = global.restrictions;
  return {
    isStakingActive: Boolean(accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.balance),
    isUnstakeRequested: accountState === null || accountState === void 0 || (_accountState$staking2 = accountState.staking) === null || _accountState$staking2 === void 0 ? void 0 : _accountState$staking2.isUnstakeRequested,
    currentTokenSlug: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenSlug,
    isTestnet: global.settings.isTestnet,
    isLedger: !!(account !== null && account !== void 0 && account.ledger),
    isStakingInfoModalOpen: global.isStakingInfoModalOpen,
    isMediaViewerOpen: Boolean((_global$mediaViewer = global.mediaViewer) === null || _global$mediaViewer === void 0 ? void 0 : _global$mediaViewer.mediaId),
    isSwapDisabled,
    isOnRampDisabled
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(Main)));

/***/ }),

/***/ "./src/components/main/Notifications.tsx":
/*!***********************************************!*\
  !*** ./src/components/main/Notifications.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _ui_Notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/Notification */ "./src/components/ui/Notification.tsx");




function Notifications(_ref) {
  let {
    notifications
  } = _ref;
  const {
    dismissNotification
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  if (!notifications.length) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    id: "Notifications"
  }, notifications.map(_ref2 => {
    let {
      message,
      icon
    } = _ref2;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Notification__WEBPACK_IMPORTED_MODULE_3__["default"], {
      icon: icon,
      message: message
      // eslint-disable-next-line react/jsx-no-bind
      ,
      onDismiss: dismissNotification
    });
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.pick)(global, ['notifications']))(Notifications)));

/***/ }),

/***/ "./src/components/main/helpers/calcVestingAmountByStatus.ts":
/*!******************************************************************!*\
  !*** ./src/components/main/helpers/calcVestingAmountByStatus.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcVestingAmountByStatus: () => (/* binding */ calcVestingAmountByStatus)
/* harmony export */ });
function calcVestingAmountByStatus(vesting, statuses) {
  return vesting.reduce((acc, currentVesting) => {
    return acc + currentVesting.parts.reduce((currentAcc, part) => {
      return currentAcc + (statuses.includes(part.status) ? part.amount : 0);
    }, 0);
  }, 0).toString();
}

/***/ }),

/***/ "./src/components/main/helpers/cardColors.ts":
/*!***************************************************!*\
  !*** ./src/components/main/helpers/cardColors.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateTokenCardColor: () => (/* binding */ calculateTokenCardColor)
/* harmony export */ });
/* unused harmony export TOKEN_EXCEPTION_COLORS */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_colors__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/colors */ "./src/util/colors.ts");


const TOKEN_CARD_COLORS = {
  green: [80, 135, 51],
  orange: [173, 84, 54],
  pink: [154, 60, 144],
  purple: [104, 48, 149],
  red: [156, 52, 75],
  sea: [43, 116, 123],
  tegro: [3, 93, 229],
  blue: [47, 108, 173]
};
const TOKEN_EXCEPTION_COLORS = {
  [_config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG]: 'blue',
  'ton-eqcqc6ehrj': 'green' // STAKED
};

const DISTANCE_THRESHOLD = 35;
function calculateTokenCardColor(token) {
  let closestColor = 'blue';
  let smallestDistance = Infinity;
  if (!token) return closestColor;
  if (TOKEN_EXCEPTION_COLORS[token.slug]) {
    return TOKEN_EXCEPTION_COLORS[token.slug];
  }
  if (!token.color) return closestColor;
  const tokenRgbColor = (0,_util_colors__WEBPACK_IMPORTED_MODULE_1__.hex2rgb)(token.color);
  Object.entries(TOKEN_CARD_COLORS).forEach(_ref => {
    let [colorName, colorValue] = _ref;
    const distance = (0,_util_colors__WEBPACK_IMPORTED_MODULE_1__.deltaE)(tokenRgbColor, colorValue);
    if (distance < smallestDistance) {
      smallestDistance = distance;
      closestColor = colorName;
    }
  });
  if (smallestDistance > DISTANCE_THRESHOLD) {
    return 'blue';
  }
  return closestColor;
}

/***/ }),

/***/ "./src/components/main/modals/AddAccountModal.tsx":
/*!********************************************************!*\
  !*** ./src/components/main/modals/AddAccountModal.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ledger_LedgerSelectWallets__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ledger/LedgerSelectWallets */ "./src/components/ledger/LedgerSelectWallets.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _AddAccountPasswordModal__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./AddAccountPasswordModal */ "./src/components/main/modals/AddAccountPasswordModal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./AddAccountModal.module.scss */ "./src/components/main/modals/AddAccountModal.module.scss");

























var RenderingState = /*#__PURE__*/function (RenderingState) {
  RenderingState[RenderingState["Initial"] = 0] = "Initial";
  RenderingState[RenderingState["Password"] = 1] = "Password";
  RenderingState[RenderingState["ConnectHardware"] = 2] = "ConnectHardware";
  RenderingState[RenderingState["SelectAccountsHardware"] = 3] = "SelectAccountsHardware";
  return RenderingState;
}(RenderingState || {});
function AddAccountModal(_ref) {
  let {
    isOpen,
    isLoading,
    error,
    hardwareWallets,
    firstNonHardwareAccount,
    accounts,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isOtherVersionsExist
  } = _ref;
  const {
    addAccount,
    clearAccountError,
    closeAddAccountModal,
    afterSelectHardwareWallets,
    showError,
    openSettingsWithState,
    clearAccountLoading
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_13__["default"])();
  const [renderingKey, setRenderingKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(RenderingState.Initial);
  const [isNewAccountImporting, setIsNewAccountImporting] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isCheckingApiAvailability, markCheckingApiAvailability, unmarkCheckingApiAvailability] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_12__["default"])(false);
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    setRenderingKey(RenderingState.Initial);
    clearAccountError();
  });
  const handleModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    setRenderingKey(RenderingState.Initial);
    setIsNewAccountImporting(false);
    clearAccountLoading();
  });
  const handleNewAccountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(async () => {
    if (!firstNonHardwareAccount) {
      addAccount({
        method: 'createAccount',
        password: ''
      });
      return;
    }
    markCheckingApiAvailability();
    const isApiAvailable = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('checkApiAvailability', {
      accountId: (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().currentAccountId
    });
    unmarkCheckingApiAvailability();
    if (isApiAvailable) {
      setRenderingKey(RenderingState.Password);
      setIsNewAccountImporting(false);
    } else {
      showError({
        error: _api_types__WEBPACK_IMPORTED_MODULE_2__.ApiCommonError.ServerError
      });
    }
  });
  const handleImportAccountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    if (!firstNonHardwareAccount) {
      addAccount({
        method: 'importMnemonic',
        password: ''
      });
      return;
    }
    setRenderingKey(RenderingState.Password);
    setIsNewAccountImporting(true);
  });
  const handleImportHardwareWalletClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    setRenderingKey(RenderingState.ConnectHardware);
  });
  const handleAddLedgerWallet = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    afterSelectHardwareWallets({
      hardwareSelectedIndices: [hardwareWallets[0].index]
    });
    closeAddAccountModal();
  });
  const handleHardwareWalletConnected = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(isSingleWallet => {
    if (isSingleWallet) {
      handleAddLedgerWallet();
      return;
    }
    setRenderingKey(RenderingState.SelectAccountsHardware);
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(password => {
    addAccount({
      method: isNewAccountImporting ? 'importMnemonic' : 'createAccount',
      password
    });
  });
  const handleOpenSettingWalletVersion = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    closeAddAccountModal();
    openSettingsWithState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_3__.SettingsState.WalletVersion
    });
  });
  function renderSelector(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_20__["default"], {
      title: lang('Add Wallet'),
      onClose: closeAddAccountModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_17__["default"], {
      size: _config__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKER_BIG_SIZE_PX,
      play: isActive,
      noLoop: false,
      nonInteractive: true,
      className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].sticker,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.forge,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.forgePreview
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalText
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__["default"])(lang('$add_account_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalButtons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_18__["default"], {
      isPrimary: true,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].button, _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].button_single),
      isLoading: isCheckingApiAvailability,
      onClick: handleNewAccountClick
    }, lang('Create Wallet')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].importText
    }, lang('or import from')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].importButtons, !isOtherVersionsExist && _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].importButtonsWithMargin)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_18__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].button, !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_LEDGER_SUPPORTED && _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].button_single),
      onClick: handleImportAccountClick
    }, lang('%1$d Secret Words', _config__WEBPACK_IMPORTED_MODULE_4__.MNEMONIC_COUNT)), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_LEDGER_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_18__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].button, _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].ledgerButton),
      onClick: handleImportHardwareWalletClick
    }, lang('Ledger'))), isOtherVersionsExist && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].walletVersionBlock
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$wallet_switch_version_1', {
      action: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        role: "button",
        tabIndex: 0,
        onClick: handleOpenSettingWalletVersion,
        className: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].walletVersionText
      }, lang('$wallet_switch_version_2'))
    })))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case RenderingState.Initial:
        return renderSelector(isActive);
      case RenderingState.Password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AddAccountPasswordModal__WEBPACK_IMPORTED_MODULE_22__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          error: error,
          onClearError: clearAccountError,
          onSubmit: handleSubmit,
          onBack: handleBackClick,
          onClose: closeAddAccountModal
        });
      case RenderingState.ConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_15__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          onConnected: handleHardwareWalletConnected,
          onCancel: handleBackClick,
          onClose: closeAddAccountModal
        });
      case RenderingState.SelectAccountsHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerSelectWallets__WEBPACK_IMPORTED_MODULE_16__["default"], {
          accounts: accounts,
          hardwareWallets: hardwareWallets,
          onCancel: handleBackClick,
          onClose: closeAddAccountModal
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_19__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    noBackdropClose: true,
    dialogClassName: _AddAccountModal_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalDialog,
    nativeBottomSheetKey: "add-account",
    forceFullNative: renderingKey === RenderingState.Password,
    onCloseAnimationEnd: handleModalClose,
    onClose: closeAddAccountModal
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_21__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_8__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: renderingKey === RenderingState.Initial ? RenderingState.Password : undefined
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _global$walletVersion, _global$accounts, _global$accounts2;
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectNetworkAccounts)(global);
  const firstNonHardwareAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectFirstNonHardwareAccount)(global);
  const {
    byId: versionById
  } = (_global$walletVersion = global.walletVersions) !== null && _global$walletVersion !== void 0 ? _global$walletVersion : {};
  const versions = versionById === null || versionById === void 0 ? void 0 : versionById[global.currentAccountId];
  const isOtherVersionsExist = !!(versions !== null && versions !== void 0 && versions.length);
  const {
    hardwareWallets,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    isOpen: global.isAddAccountModalOpen,
    isLoading: (_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.isLoading,
    error: (_global$accounts2 = global.accounts) === null || _global$accounts2 === void 0 ? void 0 : _global$accounts2.error,
    accounts,
    firstNonHardwareAccount,
    hardwareState,
    hardwareWallets,
    isLedgerConnected,
    isTonAppConnected,
    isOtherVersionsExist
  };
})(AddAccountModal)));

/***/ }),

/***/ "./src/components/main/modals/AddAccountPasswordModal.tsx":
/*!****************************************************************!*\
  !*** ./src/components/main/modals/AddAccountPasswordModal.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");






function AddAccountPasswordModal(_ref) {
  let {
    isActive,
    isLoading,
    error,
    onClearError,
    onSubmit,
    onBack,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_2__["default"])({
    isActive,
    onBack
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_4__["default"], {
    title: lang('Enter Password'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isActive: isActive,
    isLoading: isLoading,
    error: error,
    operationType: "passcode",
    withCloseButton: _config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR,
    submitLabel: lang('Send'),
    cancelLabel: lang('Back'),
    onSubmit: onSubmit,
    onCancel: onBack,
    onUpdate: onClearError
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AddAccountPasswordModal));

/***/ }),

/***/ "./src/components/main/modals/BackupModal.tsx":
/*!****************************************************!*\
  !*** ./src/components/main/modals/BackupModal.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _global_actions_api_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/actions/api/auth */ "./src/global/actions/api/auth.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/isMnemonicPrivateKey */ "./src/util/isMnemonicPrivateKey.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _auth_MnemonicCheck__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../auth/MnemonicCheck */ "./src/components/auth/MnemonicCheck.tsx");
/* harmony import */ var _auth_MnemonicList__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../auth/MnemonicList */ "./src/components/auth/MnemonicList.tsx");
/* harmony import */ var _auth_MnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../auth/MnemonicPrivateKey */ "./src/components/auth/MnemonicPrivateKey.tsx");
/* harmony import */ var _auth_SafetyRules__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../auth/SafetyRules */ "./src/components/auth/SafetyRules.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _BackupModal_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./BackupModal.module.scss */ "./src/components/main/modals/BackupModal.module.scss");





















var SLIDES = /*#__PURE__*/function (SLIDES) {
  SLIDES[SLIDES["confirm"] = 0] = "confirm";
  SLIDES[SLIDES["password"] = 1] = "password";
  SLIDES[SLIDES["mnemonic"] = 2] = "mnemonic";
  SLIDES[SLIDES["check"] = 3] = "check";
  return SLIDES;
}(SLIDES || {});
function BackupModal(_ref) {
  let {
    isOpen,
    currentAccountId,
    onClose
  } = _ref;
  const {
    setIsBackupRequired,
    setIsPinAccepted,
    clearIsPinAccepted
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const [currentSlide, setCurrentSlide] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.confirm);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.password);
  const [checkIndexes, setCheckIndexes] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)([]);
  const [isLoading, setIsLoading] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [error, setError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const mnemonicRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);
  const noResetFullNativeOnBlur = currentSlide === SLIDES.confirm || currentSlide === SLIDES.password;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    mnemonicRef.current = undefined;
  }, [isOpen]);
  const handleSafetyConfirm = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setCurrentSlide(SLIDES.password);
    setNextKey(SLIDES.mnemonic);
  });
  const handlePasswordSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(async password => {
    setIsLoading(true);
    mnemonicRef.current = await (0,_api__WEBPACK_IMPORTED_MODULE_8__.callApi)('getMnemonic', currentAccountId, password);
    if (!mnemonicRef.current) {
      setError('Wrong password, please try again.');
      if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
        void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrateOnError)();
      }
      setIsLoading(false);
      return;
    }
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      setIsPinAccepted();
      await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrateOnSuccess)(true);
      clearIsPinAccepted();
    }
    setIsLoading(false);
    setNextKey(SLIDES.check);
    setCurrentSlide(SLIDES.mnemonic);
  });
  const handleBackupErrorUpdate = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setError(undefined);
  });
  const handleCheckMnemonic = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setCheckIndexes((0,_global_actions_api_auth__WEBPACK_IMPORTED_MODULE_3__.selectMnemonicForCheck)());
    setCurrentSlide(SLIDES.check);
    setNextKey(undefined);
  });
  const handleRestartCheckMnemonic = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setCurrentSlide(SLIDES.mnemonic);
    setNextKey(SLIDES.check);
  });
  const handleModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setIsLoading(false);
    setError(undefined);
    setCurrentSlide(SLIDES.confirm);
    setNextKey(SLIDES.password);
  });
  const handleCheckMnemonicSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    setIsBackupRequired({
      isMnemonicChecked: true
    });
    onClose();
  });

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    const mnemonic = mnemonicRef.current;
    switch (currentKey) {
      case SLIDES.confirm:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_auth_SafetyRules__WEBPACK_IMPORTED_MODULE_14__["default"], {
          isActive: isActive,
          onSubmit: handleSafetyConfirm,
          onClose: onClose
        });
      case SLIDES.password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__["default"], {
          title: lang('Enter Password'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_17__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          error: error,
          withCloseButton: _config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR,
          submitLabel: lang('Back Up'),
          cancelLabel: lang('Cancel'),
          onSubmit: handlePasswordSubmit,
          onCancel: onClose,
          onUpdate: handleBackupErrorUpdate
        }));
      case SLIDES.mnemonic:
        return mnemonic && (0,_util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_6__["default"])(mnemonic) ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_auth_MnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_13__["default"], {
          privateKeyHex: mnemonic[0],
          onClose: onClose
        }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_auth_MnemonicList__WEBPACK_IMPORTED_MODULE_12__["default"], {
          mnemonic: mnemonic,
          onNext: handleCheckMnemonic,
          onClose: onClose
        });
      case SLIDES.check:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_auth_MnemonicCheck__WEBPACK_IMPORTED_MODULE_11__["default"], {
          isActive: isActive,
          isInModal: true,
          mnemonic: mnemonicRef.current,
          checkIndexes: checkIndexes,
          buttonLabel: lang('Done'),
          onSubmit: handleCheckMnemonicSubmit,
          onCancel: handleRestartCheckMnemonic,
          onClose: onClose
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isOpen: isOpen,
    hasCloseButton: true,
    dialogClassName: _BackupModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].modalDialog,
    nativeBottomSheetKey: "backup",
    forceFullNative: currentSlide === SLIDES.password,
    noResetFullNativeOnBlur: noResetFullNativeOnBlur,
    onClose: onClose,
    onCloseAnimationEnd: handleModalClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_18__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_7__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transitionSlide,
    activeKey: currentSlide,
    nextKey: nextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    currentAccountId: global.currentAccountId
  };
})(BackupModal)));

/***/ }),

/***/ "./src/components/main/modals/DeleteSavedAddressModal.tsx":
/*!****************************************************************!*\
  !*** ./src/components/main/modals/DeleteSavedAddressModal.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _DeleteSavedAddressModal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DeleteSavedAddressModal.module.scss */ "./src/components/main/modals/DeleteSavedAddressModal.module.scss");








function DeleteSavedAddressModal(_ref) {
  let {
    isOpen,
    address,
    onClose
  } = _ref;
  const {
    removeFromSavedAddress,
    showNotification
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleDeleteSavedAddress = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    if (!address) {
      return;
    }
    removeFromSavedAddress({
      address
    });
    showNotification({
      message: lang('Address removed from saved'),
      icon: 'icon-trash'
    });
    onClose();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: lang('Delete Saved Address'),
    isCompact: true,
    isOpen: isOpen,
    onClose: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _DeleteSavedAddressModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].text
  }, lang('Are you sure you want to remove this address from your saved ones?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _DeleteSavedAddressModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].text
  }, lang('You will be able to save it again via Transaction Info with this address.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onClose,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isDestructive: true,
    onClick: handleDeleteSavedAddress,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Delete'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DeleteSavedAddressModal));

/***/ }),

/***/ "./src/components/main/modals/DeleteTokenModal.tsx":
/*!*********************************************************!*\
  !*** ./src/components/main/modals/DeleteTokenModal.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _DeleteTokenModal_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DeleteTokenModal.module.scss */ "./src/components/main/modals/DeleteTokenModal.module.scss");









function DeleteTokenModal(_ref) {
  let {
    token
  } = _ref;
  const {
    deleteToken
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const [isOpen, setIsOpen] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (token) {
      setIsOpen(true);
    }
  }, [token]);
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    setIsOpen(false);
  });
  const handleDeleteToken = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    handleClose();
    deleteToken({
      slug: token.slug
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isOpen: isOpen,
    isCompact: true,
    onClose: handleClose,
    title: lang('Delete Token'),
    contentClassName: _DeleteTokenModal_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _DeleteTokenModal_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].description
  }, lang('Are you sure you want to delete?', {
    token: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, token === null || token === void 0 ? void 0 : token.name)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: handleClose,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isDestructive: true,
    onClick: handleDeleteToken,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].button
  }, lang('Delete'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DeleteTokenModal));

/***/ }),

/***/ "./src/components/main/modals/DisconnectDappModal.tsx":
/*!************************************************************!*\
  !*** ./src/components/main/modals/DisconnectDappModal.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./DisconnectDappModal.module.scss */ "./src/components/main/modals/DisconnectDappModal.module.scss");







function DisconnectDappModal(_ref) {
  let {
    isOpen,
    dapp,
    onClose
  } = _ref;
  const {
    deleteAllDapps,
    deleteDapp
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleDeleteAllDapps = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    void deleteAllDapps();
    onClose();
  });
  const handleDeleteDapp = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    void deleteDapp({
      origin: dapp.origin
    });
    onClose();
  });
  const title = dapp ? lang('Disconnect Dapp') : lang('Disconnect Dapps');
  const description = dapp ? lang('Are you sure you want to disconnect?', {
    dappname: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, dapp.name)
  }) : lang('Are you sure you want to disconnect all websites?');
  const onDisconnect = dapp ? handleDeleteDapp : handleDeleteAllDapps;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isOpen: isOpen,
    isCompact: true,
    onClose: onClose,
    title: title,
    contentClassName: _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].description
  }, description), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: onClose,
    className: _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isDestructive: true,
    onClick: onDisconnect,
    className: _DisconnectDappModal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Disconnect'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DisconnectDappModal));

/***/ }),

/***/ "./src/components/main/modals/HideNftModal.tsx":
/*!*****************************************************!*\
  !*** ./src/components/main/modals/HideNftModal.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");







function HideNftModal(_ref) {
  let {
    isOpen,
    selectedNftsToHide
  } = _ref;
  const {
    addNftsToBlacklist,
    closeNftCollection,
    closeHideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleHide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    addNftsToBlacklist({
      addresses: selectedNftsToHide.addresses
    });
    if (selectedNftsToHide !== null && selectedNftsToHide !== void 0 && selectedNftsToHide.isCollection) closeNftCollection();
    closeHideNftModal();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isOpen: isOpen,
    isCompact: true,
    onClose: closeHideNftModal,
    title: lang('Hide NFTs')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].text
  }, selectedNftsToHide !== null && selectedNftsToHide !== void 0 && selectedNftsToHide.isCollection ? lang('Are you sure you want to hide this NFT collection containing %number% NFTs?', {
    number: selectedNftsToHide === null || selectedNftsToHide === void 0 ? void 0 : selectedNftsToHide.addresses.length
  }) : lang('Are you sure you want to hide these %number% NFTs?', {
    number: selectedNftsToHide === null || selectedNftsToHide === void 0 ? void 0 : selectedNftsToHide.addresses.length
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    onClick: closeHideNftModal,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isDestructive: true,
    onClick: handleHide,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button
  }, lang('Hide'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(HideNftModal));

/***/ }),

/***/ "./src/components/main/modals/LogOutModal.tsx":
/*!****************************************************!*\
  !*** ./src/components/main/modals/LogOutModal.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Checkbox__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Checkbox */ "./src/components/ui/Checkbox.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./LogOutModal.module.scss */ "./src/components/main/modals/LogOutModal.module.scss");















function LogOutModal(_ref) {
  let {
    isOpen,
    currentAccountId,
    hasManyAccounts,
    accounts,
    accountStates,
    isBackupRequired,
    onClose
  } = _ref;
  const {
    signOut,
    switchAccount
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [isLogOutFromAllAccounts, setIsLogOutFromAllAccounts] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const accountsWithoutBackups = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!hasManyAccounts) {
      return [];
    }
    return Object.entries(accounts).reduce((acc, _ref2) => {
      var _accountStates$id;
      let [id, {
        title,
        address
      }] = _ref2;
      if (id !== currentAccountId && (_accountStates$id = accountStates[id]) !== null && _accountStates$id !== void 0 && _accountStates$id.isBackupRequired) {
        acc.push({
          id,
          title: title || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__.shortenAddress)(address)
        });
      }
      return acc;
    }, []);
  }, [accounts, accountStates, currentAccountId, hasManyAccounts]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      setIsLogOutFromAllAccounts(false);
    }
  }, [isOpen]);
  const handleSwitchAccount = accountId => {
    onClose(false);
    switchAccount({
      accountId
    });
  };
  const handleLogOut = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    onClose(!isLogOutFromAllAccounts && hasManyAccounts);
    signOut({
      isFromAllAccounts: isLogOutFromAllAccounts
    });
  });
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    onClose(false);
  });
  function renderAccountLink(account, idx) {
    const {
      id,
      title
    } = account;
    const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].accountLink, idx + 2 === accountsWithoutBackups.length && _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].penultimate);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: fullClassName
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      key: id,
      href: "#",
      className: _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].accountLink_inner,
      onClick: e => {
        e.preventDefault();
        handleSwitchAccount(id);
      }
    }, title));
  }
  function renderBackupWarning() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
      className: _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].warning
    }, lang('Warning!')), " ", lang('$logout_without_backup_warning'));
  }
  function renderBackupForAccountsWarning() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
      className: _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].warning
    }, lang('Warning!')), ' ', lang('$logout_accounts_without_backup_warning', {
      links: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, accountsWithoutBackups.map(renderAccountLink))
    }));
  }
  const shouldRenderWarningForAnotherAccounts = isLogOutFromAllAccounts && accountsWithoutBackups.length > 0;
  const shouldRenderWarningForCurrentAccount = isBackupRequired && !shouldRenderWarningForAnotherAccounts;
  // Sibling button has wider text on iOS due to App Store "Remove Wallet" requirements
  const cancelButtonClassNames = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS_APP && _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].shortButton);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isOpen: isOpen,
    isCompact: true,
    title: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS_APP ? lang('Remove Wallet') : lang('Log Out'),
    onClose: handleClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text_noExtraMargin)
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$logout_warning', _config__WEBPACK_IMPORTED_MODULE_2__.MNEMONIC_COUNT))), hasManyAccounts && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Checkbox__WEBPACK_IMPORTED_MODULE_11__["default"], {
    id: "logount_all_accounts",
    className: _LogOutModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].checkbox,
    checked: isLogOutFromAllAccounts,
    onChange: setIsLogOutFromAllAccounts
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$logout_confirm'))), shouldRenderWarningForCurrentAccount && renderBackupWarning(), shouldRenderWarningForAnotherAccounts && renderBackupForAccountsWarning(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: cancelButtonClassNames,
    onClick: handleClose
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isDestructive: true,
    onClick: handleLogOut,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
  }, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS_APP ? lang('Remove Wallet') : lang('Exit'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectNetworkAccounts)(global) || {};
  const currentAccountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  const accountIds = Object.keys(accounts);
  const hasManyAccounts = accountIds.length > 1;
  return {
    currentAccountId: global.currentAccountId,
    hasManyAccounts,
    accounts,
    accountStates: global.byAccountId,
    isBackupRequired: currentAccountState === null || currentAccountState === void 0 ? void 0 : currentAccountState.isBackupRequired
  };
})(LogOutModal)));

/***/ }),

/***/ "./src/components/main/modals/OnRampWidgetModal.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/modals/OnRampWidgetModal.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./OnRampWidgetModal.module.scss */ "./src/components/main/modals/OnRampWidgetModal.module.scss");








const INITIAL_AMOUNT_USD = 50;
const ANIMATION_TIMEOUT = 200;
function OnRampWidgetModal(_ref) {
  let {
    isOpen,
    address,
    countryCode
  } = _ref;
  const {
    closeOnRampWidgetModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const animationTimeoutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const [isAnimationInProgress, setIsAnimationInProgress] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const [isLoading, setIsLoading] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const withExtraHeight = countryCode === 'RU';
  const iframeUrl = getIframeUrl(countryCode).replace('{address}', address !== null && address !== void 0 ? address : '');
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isOpen) {
      setIsAnimationInProgress(true);
      setIsLoading(true);
    }
    return () => window.clearTimeout(animationTimeoutRef.current);
  }, [isOpen]);
  const onIframeLoaded = () => {
    setIsLoading(false);
    animationTimeoutRef.current = window.setTimeout(() => {
      setIsAnimationInProgress(false);
    }, ANIMATION_TIMEOUT);
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    title: lang('Buy with Card'),
    dialogClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].modalDialog, withExtraHeight && _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].modalDialogExtraHeight),
    forceFullNative: withExtraHeight,
    nativeBottomSheetKey: "onramp-widget",
    onClose: closeOnRampWidgetModal
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].loaderContainer, !isLoading && _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].fadeOut, !isAnimationInProgress && _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].inactive)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_5__["default"], null)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("iframe", {
    title: "On Ramp Widget",
    onLoad: onIframeLoaded,
    className: !isLoading && _OnRampWidgetModal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].fadeIn,
    width: "100%",
    height: "100%",
    frameBorder: "none",
    src: iframeUrl
  }, lang('Cannot load widget'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    address
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccount)(global, global.currentAccountId) || {};
  const {
    countryCode
  } = global.restrictions;
  return {
    isOpen: global.isOnRampWidgetModalOpen,
    address,
    countryCode
  };
})(OnRampWidgetModal)));
function getIframeUrl(counryCode) {
  return counryCode === 'RU' ? 'https://dreamwalkers.io/ru/mytonwallet/?wallet={address}&give=CARDRUB&take=TON&type=buy'
  // eslint-disable-next-line max-len
  : `https://widget.changelly.com?from=usd%2Ceur&to=ton&amount=${INITIAL_AMOUNT_USD}&address={address}&fromDefault=usd&toDefault=ton&merchant_id=DdrqYH0dBHq6kGlj&payment_id=&v=3&color=5f41ff&headerId=1&logo=hide&buyButtonTextId=1`;
}

/***/ }),

/***/ "./src/components/main/modals/QrScannerModal.tsx":
/*!*******************************************************!*\
  !*** ./src/components/main/modals/QrScannerModal.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor-mlkit/barcode-scanning */ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./QrScannerModal.module.scss */ "./src/components/main/modals/QrScannerModal.module.scss");















const START_SCAN_DELAY_MS = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS ? 160 : 360;
const MODAL_ANIMATION_DURATION_MS = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS ? 650 : 500;
const DESTROY_SCANNER_DELAY_MS = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS ? 250 : 500;
function QrScannerModal(_ref) {
  let {
    isOpen,
    onClose
  } = _ref;
  const {
    handleQrCode
  } = (0,_global__WEBPACK_IMPORTED_MODULE_3__.getActions)();
  const [isFlashlightAvailable, setIsFlashlightAvailable] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isFlashlightEnabled, setIsFlashlightEnabled] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isScannerStarted, setIsScannerStarted] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  // eslint-disable-next-line no-null/no-null
  const scanSquareRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  (0,_hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.isTorchAvailable().then(result => {
      setIsFlashlightAvailable(result.available);
    });
    _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.isTorchEnabled().then(result => {
      setIsFlashlightEnabled(result.enabled);
    });
  });
  const onCloseAnimationEnd = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(async () => {
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_2__.removeExtraClass)(document.documentElement, _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].documentRoot);
    await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.stopScan();
  });
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    setIsScannerStarted(false);
    onClose();
  });
  const startScan = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(async () => {
    const options = {
      formats: [_capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeFormat.QrCode]
    };
    const scanAreaCoordinates = getDomNodeDimensions(scanSquareRef.current);
    await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.removeAllListeners();
    const listener = await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.addListener('barcodeScanned', async event => {
      let {
        cornerPoints: qrCodeCoordinates
      } = event.barcode;
      qrCodeCoordinates = qrCodeCoordinates ? sortCoordinatesClockwise(qrCodeCoordinates) : undefined;
      if (!scanAreaCoordinates || !qrCodeCoordinates || isQrCodeOutsideScanArea(scanAreaCoordinates, qrCodeCoordinates)) {
        return;
      }
      await listener.remove();
      await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrateOnSuccess)();
      handleQrCode({
        data: event.barcode.rawValue
      });
      handleClose();
      await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_6__.pause)(DESTROY_SCANNER_DELAY_MS);
      if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_2__.removeExtraClass)(document.documentElement, _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].documentRoot);
      }
    });
    setIsScannerStarted(true);
    await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.startScan(options);
  });
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_9__["default"])(_ref2 => {
    let [prevIsOpen] = _ref2;
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) return undefined;
    let startScanTimeoutId;
    let documentClassModifyTimeoutId;
    if (isOpen) {
      startScanTimeoutId = window.setTimeout(startScan, START_SCAN_DELAY_MS);
      documentClassModifyTimeoutId = window.setTimeout(() => {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_2__.addExtraClass)(document.documentElement, _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].documentRoot);
      }, MODAL_ANIMATION_DURATION_MS);
    } else if (prevIsOpen) {
      handleClose();
    }
    return () => {
      if (startScanTimeoutId) window.clearTimeout(startScanTimeoutId);
      if (documentClassModifyTimeoutId) window.clearTimeout(documentClassModifyTimeoutId);
    };
  }, [isOpen, handleClose, startScan]);
  const handleFlashlightClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(async () => {
    if (isFlashlightEnabled) {
      await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.disableTorch();
    } else {
      await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.enableTorch();
    }
    setIsFlashlightEnabled(!isFlashlightEnabled);
  });
  const flashlightButtonClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].flashLightButton, isFlashlightEnabled && _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].flashLightButtonEnabled);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isOpen: isOpen,
    onClose: handleClose,
    nativeBottomSheetKey: "qr-scanner",
    forceFullNative: true,
    onCloseAnimationEnd: onCloseAnimationEnd
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].scanner, isScannerStarted && _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].scannerStarted)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].closeButton,
    "aria-label": lang('Close'),
    role: "button",
    tabIndex: 0,
    onClick: handleClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].closeIcon, 'icon-close'),
    "aria-hidden": true
  })), isFlashlightAvailable && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: flashlightButtonClassName,
    onClick: handleFlashlightClick,
    "aria-label": lang('Toggle Flashlight'),
    role: "button",
    tabIndex: 0
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
    className: "icon-flashlight",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].title
  }, lang('Scan QR Code')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].square,
    ref: scanSquareRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _QrScannerModal_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].squareInner
  }))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)(QrScannerModal));
function sortCoordinatesClockwise(coordinates) {
  coordinates.sort((a, b) => a[1] - b[1]);
  const topHalf = coordinates.slice(0, 2);
  const bottomHalf = coordinates.slice(2);
  topHalf.sort((a, b) => b[0] - a[0]);
  bottomHalf.sort((a, b) => a[0] - b[0]);
  return [...topHalf, ...bottomHalf];
}
function getDomNodeDimensions(node) {
  if (!node) {
    return undefined;
  }
  const scanSquareRect = node.getBoundingClientRect();
  const scaledRect = {
    left: scanSquareRect.left * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR,
    right: scanSquareRect.right * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR,
    top: scanSquareRect.top * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR,
    bottom: scanSquareRect.bottom * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR,
    width: scanSquareRect.width * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR,
    height: scanSquareRect.height * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.DPR
  };
  return [[scaledRect.left, scaledRect.top], [scaledRect.left + scaledRect.width, scaledRect.top], [scaledRect.left + scaledRect.width, scaledRect.top + scaledRect.height], [scaledRect.left, scaledRect.top + scaledRect.height]];
}
function isQrCodeOutsideScanArea(scanArea, qrCodeCoordinates) {
  return scanArea[0][0] > qrCodeCoordinates[0][0] || scanArea[0][1] > qrCodeCoordinates[0][1] || scanArea[1][0] < qrCodeCoordinates[1][0] || scanArea[1][1] > qrCodeCoordinates[1][1] || scanArea[2][0] < qrCodeCoordinates[2][0] || scanArea[2][1] < qrCodeCoordinates[2][1] || scanArea[3][0] > qrCodeCoordinates[3][0] || scanArea[3][1] < qrCodeCoordinates[3][1];
}

/***/ }),

/***/ "./src/components/main/modals/SignatureModal.tsx":
/*!*******************************************************!*\
  !*** ./src/components/main/modals/SignatureModal.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../transfer/Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _SignatureModal_module_scss__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SignatureModal.module.scss */ "./src/components/main/modals/SignatureModal.module.scss");



















var SLIDES = /*#__PURE__*/function (SLIDES) {
  SLIDES[SLIDES["confirm"] = 0] = "confirm";
  SLIDES[SLIDES["password"] = 1] = "password";
  SLIDES[SLIDES["complete"] = 2] = "complete";
  return SLIDES;
}(SLIDES || {});
function SignatureModal(_ref) {
  let {
    dataHex,
    error,
    isSigned
  } = _ref;
  const {
    submitSignature,
    clearSignatureError,
    cancelSignature
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [isModalOpen, openModal, closeModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(false);
  const [currentSlide, setCurrentSlide] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.confirm);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.password);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (dataHex) {
      setCurrentSlide(SLIDES.confirm);
      setNextKey(SLIDES.password);
      openModal();
    }
  }, [dataHex, openModal]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (isSigned) {
      setCurrentSlide(SLIDES.complete);
      setNextKey(undefined);
    }
  }, [isSigned]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => currentSlide === SLIDES.complete ? (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_4__["default"])({
    onEnter: () => {
      closeModal();
    }
  }) : undefined, [closeModal, currentSlide]);
  const handleConfirm = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    setCurrentSlide(SLIDES.password);
    setNextKey(SLIDES.complete);
  });
  const handlePasswordSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(password => {
    submitSignature({
      password
    });
  });
  function renderConfirm() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__["default"], {
      title: lang('Confirmation'),
      onClose: closeModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].label
    }, lang('Data to sign')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputReadOnly
    }, dataHex), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SignatureModal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].error
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$signature_warning'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].button,
      onClick: closeModal
    }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
      isPrimary: true,
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].button,
      onClick: handleConfirm
    }, lang('Sign')))));
  }
  function renderPasswordForm(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__["default"], {
      title: lang('Enter Password'),
      onClose: closeModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_14__["default"], {
      isActive: isActive,
      error: error,
      submitLabel: lang('Sign'),
      cancelLabel: lang('Cancel'),
      onSubmit: handlePasswordSubmit,
      onCancel: closeModal,
      onUpdate: clearSignatureError
    }));
  }
  function renderComplete(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__["default"], {
      title: lang('Done!'),
      onClose: closeModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent_simple)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
      play: isActive,
      noLoop: false,
      nonInteractive: true,
      className: _SignatureModal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].sticker,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.thumbUp,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.thumbUpPreview
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _SignatureModal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].description
    }, lang('Signing was confirmed!')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
      isPrimary: true,
      onClick: closeModal
    }, lang('Close')))));
  }
  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case SLIDES.confirm:
        return renderConfirm();
      case SLIDES.password:
        return renderPasswordForm(isActive);
      case SLIDES.complete:
        return renderComplete(isActive);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_12__["default"], {
    hasCloseButton: true,
    isOpen: isModalOpen,
    dialogClassName: _SignatureModal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].modalDialog,
    onClose: closeModal,
    onCloseAnimationEnd: cancelSignature
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionSlide,
    activeKey: currentSlide,
    nextKey: nextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    dataHex,
    error,
    isSigned
  } = global.currentSignature || {};
  return {
    dataHex,
    error,
    isSigned
  };
})(SignatureModal)));

/***/ }),

/***/ "./src/components/main/modals/SwapActivityModal.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/modals/SwapActivityModal.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePrevDuringAnimation__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/usePrevDuringAnimation */ "./src/hooks/usePrevDuringAnimation.ts");
/* harmony import */ var _hooks_useQrCode__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../hooks/useQrCode */ "./src/hooks/useQrCode.ts");
/* harmony import */ var _common_Countdown__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../common/Countdown */ "./src/components/common/Countdown.tsx");
/* harmony import */ var _common_SwapTokensInfo__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../common/SwapTokensInfo */ "./src/components/common/SwapTokensInfo.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./TransactionModal.module.scss */ "./src/components/main/modals/TransactionModal.module.scss");





















const CHANGELLY_EXPIRE_CHECK_STATUSES = new Set(['new', 'waiting']);
const CHANGELLY_PENDING_STATUSES = new Set(['new', 'waiting', 'confirming', 'exchanging', 'sending']);
const CHANGELLY_ERROR_STATUSES = new Set(['failed', 'expired', 'refunded', 'overdue']);
const ONCHAIN_ERROR_STATUSES = new Set(['failed', 'expired']);
function SwapActivityModal(_ref) {
  let {
    activity,
    tokensBySlug
  } = _ref;
  const {
    startSwap,
    closeActivityInfo
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__.useDeviceScreen)();
  const animationLevel = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings.animationLevel;
  const animationDuration = animationLevel === _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN ? 0 : (isPortrait ? _ui_Modal__WEBPACK_IMPORTED_MODULE_18__.CLOSE_DURATION_PORTRAIT : _ui_Modal__WEBPACK_IMPORTED_MODULE_18__.CLOSE_DURATION) + _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_END_DELAY;
  const renderedActivity = (0,_hooks_usePrevDuringAnimation__WEBPACK_IMPORTED_MODULE_12__["default"])(activity, animationDuration);
  const tonExplorerTitle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lang('View Transaction on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_2__.TON_EXPLORER_NAME
    }).join('');
  }, [lang]);
  const {
    txIds,
    timestamp,
    networkFee = 0
  } = renderedActivity !== null && renderedActivity !== void 0 ? renderedActivity : {};
  let fromToken;
  let toToken;
  let fromAmount = '0';
  let toAmount = '0';
  let isPending = true;
  let isError = false;
  let isCexSwap = false;
  let isCexError = false;
  let isCexHold = false;
  let isCexWaiting = false;
  let isCexPending = false;
  let isExpired = false;
  let cexTransactionId = '';
  let title = '';
  let cexErrorMessage = '';
  let isFromToncoin = true;
  let isCountdownFinished = false;
  if (renderedActivity) {
    const {
      status,
      from,
      to,
      cex
    } = renderedActivity;
    fromToken = tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[from];
    toToken = tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[to];
    fromAmount = renderedActivity.fromAmount;
    toAmount = renderedActivity.toAmount;
    isFromToncoin = from === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG;
    if (cex) {
      isCountdownFinished = timestamp ? timestamp + _config__WEBPACK_IMPORTED_MODULE_2__.CHANGELLY_WAITING_DEADLINE - Date.now() < 0 : false;
      isExpired = CHANGELLY_EXPIRE_CHECK_STATUSES.has(cex.status) && isCountdownFinished;
      isCexSwap = true;
      isPending = !isExpired && CHANGELLY_PENDING_STATUSES.has(cex.status);
      isCexPending = isPending;
      isCexError = isExpired || CHANGELLY_ERROR_STATUSES.has(cex.status);
      isCexHold = cex.status === 'hold';
      // Skip the 'waiting' status for transactions from Toncoin to account for delayed status updates from Сhangelly
      isCexWaiting = cex.status === 'waiting' && !isFromToncoin && !isExpired;
      cexTransactionId = cex.transactionId;
    } else {
      isPending = status === 'pending';
      isError = ONCHAIN_ERROR_STATUSES.has(status);
    }
    if (isPending) {
      title = lang('Swapping');
    } else if (isCexHold) {
      title = lang('Swap On Hold');
    } else if (isCexError) {
      var _renderedActivity$cex;
      const {
        status: cexStatus
      } = (_renderedActivity$cex = renderedActivity === null || renderedActivity === void 0 ? void 0 : renderedActivity.cex) !== null && _renderedActivity$cex !== void 0 ? _renderedActivity$cex : {};
      if (cexStatus === 'expired' || cexStatus === 'overdue') {
        title = lang('Swap Expired');
        cexErrorMessage = lang('You have not sent the coins to the specified address.');
      } else if (cexStatus === 'refunded') {
        title = lang('Swap Refunded');
        cexErrorMessage = lang('Exchange failed and coins were refunded to your wallet.');
      } else {
        title = lang('Swap Failed');
      }
    } else if (isError) {
      title = lang('Swap Failed');
    } else {
      title = lang('Swapped');
    }
  }
  const [, transactionHash] = ((txIds === null || txIds === void 0 ? void 0 : txIds[0]) || '').split(':');
  const transactionUrl = (0,_util_url__WEBPACK_IMPORTED_MODULE_8__.getTonExplorerTransactionUrl)(transactionHash);
  const {
    payinAddress,
    payoutAddress,
    payinExtraId
  } = (renderedActivity === null || renderedActivity === void 0 ? void 0 : renderedActivity.cex) || {};
  const shouldShowQrCode = !payinExtraId;
  const {
    qrCodeRef,
    isInitialized
  } = (0,_hooks_useQrCode__WEBPACK_IMPORTED_MODULE_13__["default"])(payinAddress, !!payinAddress, _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].qrCodeHidden, true);
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    closeActivityInfo({
      id: renderedActivity.id
    });
  });
  const handleSwapClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    closeActivityInfo({
      id: activity.id
    });
    startSwap({
      tokenInSlug: activity.from,
      tokenOutSlug: activity.to,
      amountIn: fromAmount
    });
  });
  function renderHeader() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].transactionHeader
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].headerTitle
    }, title, isPending && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].clockIcon, 'icon-clock'),
      title: title,
      "aria-hidden": true
    })), !!timestamp && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].headerDate
    }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_5__.formatFullDay)(lang.code, timestamp), ", ", (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_5__.formatTime)(timestamp)));
  }
  function renderFooterButton() {
    let isButtonVisible = true;
    let buttonText = 'Swap Again';
    if (isCexWaiting) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
        onClick: handleClose,
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
      }, lang('Close'));
    }
    if (isCexHold) {
      isButtonVisible = false;
    } else if (isCexError) {
      var _renderedActivity$cex2;
      const {
        status: cexStatus
      } = (_renderedActivity$cex2 = renderedActivity === null || renderedActivity === void 0 ? void 0 : renderedActivity.cex) !== null && _renderedActivity$cex2 !== void 0 ? _renderedActivity$cex2 : {};
      if (cexStatus === 'expired' || cexStatus === 'refunded' || cexStatus === 'overdue') {
        buttonText = 'Try Again';
      }
    }
    if (!isButtonVisible) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
      onClick: handleSwapClick,
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
    }, lang(buttonText));
  }
  function renderCexInformation() {
    if (isCexHold) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldWrapperFullWidth
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescription
      }, lang('$swap_changelly_kyc_security', {
        email: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescriptionBold
        }, _config__WEBPACK_IMPORTED_MODULE_2__.CHANGELLY_SECURITY_EMAIL)
      })), cexTransactionId && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
        text: cexTransactionId,
        copyNotification: lang('Transaction ID was copied!'),
        noSavedAddress: true,
        noExplorer: true,
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyTextField
      }));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldWrapperFullWidth, _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].swapSupportBlock)
    }, cexErrorMessage && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].errorCexMessage
    }, cexErrorMessage), isCexPending && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescription)
    }, lang('Please note that it may take up to a few hours for tokens to appear in your wallet.')), isCountdownFinished && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescription
    }, lang('$swap_changelly_support', {
      livechat: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
        href: _config__WEBPACK_IMPORTED_MODULE_2__.CHANGELLY_LIVE_CHAT_URL,
        target: "_blank",
        rel: "noreferrer",
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescriptionBold
      }, lang('Changelly Live Chat')),
      email: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescriptionBold
      }, _config__WEBPACK_IMPORTED_MODULE_2__.CHANGELLY_SUPPORT_EMAIL)
    })), cexTransactionId && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
      text: cexTransactionId,
      copyNotification: lang('Transaction ID was copied!'),
      noSavedAddress: true,
      noExplorer: true,
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyTextField
    })));
  }
  function renderMemo() {
    if (!payinExtraId) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldWrapperFullWidth
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldLabel
    }, lang('Memo')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
      address: payinExtraId,
      copyNotification: lang('Memo was copied!'),
      noSavedAddress: true,
      noExplorer: true,
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyTextField
    }));
  }
  function renderFee() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldLabel
    }, lang('Blockchain Fee')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textField
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_6__.formatCurrency)(networkFee, _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL, undefined, true)));
  }
  function renderAddress() {
    var _toToken, _fromToken;
    if (!payinAddress) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].textFieldLabel
    }, isFromToncoin ? lang('Your %blockchain% Address', {
      blockchain: (_toToken = toToken) === null || _toToken === void 0 ? void 0 : _toToken.name
    }) : lang('Address for %blockchain% transfer', {
      blockchain: (_fromToken = fromToken) === null || _fromToken === void 0 ? void 0 : _fromToken.name
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
      address: isFromToncoin ? payoutAddress : payinAddress,
      copyNotification: lang('Address was copied!'),
      noSavedAddress: true,
      noExplorer: true
    }));
  }
  function renderSwapInfo() {
    if (isCexWaiting) {
      var _fromToken$symbol, _fromToken2, _fromToken3;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyInfoBlock
      }, networkFee > 0 && renderFee(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescription
      }, lang('$swap_changelly_to_ton_description1', {
        value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescriptionBold
        }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_6__.formatCurrencyExtended)(Number(fromAmount), (_fromToken$symbol = (_fromToken2 = fromToken) === null || _fromToken2 === void 0 ? void 0 : _fromToken2.symbol) !== null && _fromToken$symbol !== void 0 ? _fromToken$symbol : '', true)),
        blockchain: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyDescriptionBold
        }, (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_7__["default"])((_fromToken3 = fromToken) === null || _fromToken3 === void 0 ? void 0 : _fromToken3.blockchain)),
        time: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_Countdown__WEBPACK_IMPORTED_MODULE_14__["default"], {
          timestamp: timestamp !== null && timestamp !== void 0 ? timestamp : 0,
          deadline: _config__WEBPACK_IMPORTED_MODULE_2__.CHANGELLY_WAITING_DEADLINE
        })
      })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
        address: payinAddress,
        copyNotification: lang('Address was copied!'),
        noSavedAddress: true,
        noExplorer: true,
        className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].changellyTextField
      }), renderMemo(), shouldShowQrCode && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].qrCode, !isInitialized && _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].qrCodeHidden),
        ref: qrCodeRef
      }));
    }
    const shouldRenderFee = !(isCexError || isCexHold) || networkFee > 0;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, shouldRenderFee && renderFee(), renderAddress(), renderMemo());
  }
  function renderContent() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_SwapTokensInfo__WEBPACK_IMPORTED_MODULE_15__["default"], {
      tokenIn: fromToken,
      amountIn: fromAmount,
      tokenOut: toToken,
      amountOut: toAmount,
      isError: isError || isCexError
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].infoBlock
    }, renderSwapInfo(), isCexSwap && renderCexInformation()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].footer
    }, renderFooterButton()));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_18__["default"], {
    hasCloseButton: true,
    title: renderHeader(),
    isOpen: Boolean(activity),
    nativeBottomSheetKey: "swap-activity",
    onClose: handleClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].transitionContent
  }, transactionUrl && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: transactionUrl,
    target: "_blank",
    rel: "noreferrer noopener",
    className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].tonExplorer,
    title: tonExplorerTitle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-tonexplorer",
    "aria-hidden": true
  })), renderContent()));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$activit, _global$swapTokenInfo;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  const id = accountState === null || accountState === void 0 ? void 0 : accountState.currentActivityId;
  const activity = id ? accountState === null || accountState === void 0 || (_accountState$activit = accountState.activities) === null || _accountState$activit === void 0 ? void 0 : _accountState$activit.byId[id] : undefined;
  return {
    activity: (activity === null || activity === void 0 ? void 0 : activity.kind) === 'swap' ? activity : undefined,
    tokensBySlug: (_global$swapTokenInfo = global.swapTokenInfo) === null || _global$swapTokenInfo === void 0 ? void 0 : _global$swapTokenInfo.bySlug
  };
})(SwapActivityModal)));

/***/ }),

/***/ "./src/components/main/modals/TransactionModal.tsx":
/*!*********************************************************!*\
  !*** ./src/components/main/modals/TransactionModal.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../global/helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePrevDuringAnimation__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../hooks/usePrevDuringAnimation */ "./src/hooks/usePrevDuringAnimation.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _common_TransactionAmount__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../common/TransactionAmount */ "./src/components/common/TransactionAmount.tsx");
/* harmony import */ var _transfer_NftInfo__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../transfer/NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../ui/AmountWithFeeTextField */ "./src/components/ui/AmountWithFeeTextField.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../transfer/Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./TransactionModal.module.scss */ "./src/components/main/modals/TransactionModal.module.scss");
/* harmony import */ var _assets_scam_svg__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../assets/scam.svg */ "./src/assets/scam.svg");


































var SLIDES = /*#__PURE__*/function (SLIDES) {
  SLIDES[SLIDES["initial"] = 0] = "initial";
  SLIDES[SLIDES["password"] = 1] = "password";
  return SLIDES;
}(SLIDES || {});
function TransactionModal(_ref) {
  var _transaction$metadata, _transaction$metadata2;
  let {
    transaction,
    tokensBySlug,
    savedAddresses,
    isTestnet,
    startOfStakingCycle,
    endOfStakingCycle,
    isUnstakeRequested,
    isLongUnstakeRequested,
    stakingStatus,
    isMediaViewerOpen
  } = _ref;
  const {
    startTransfer,
    startStaking,
    closeActivityInfo,
    setIsPinAccepted,
    clearIsPinAccepted,
    setLandscapeActionsActiveTabIndex
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_16__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_15__.useDeviceScreen)();
  const [currentSlide, setCurrentSlide] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.initial);
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(SLIDES.password);
  const animationLevel = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings.animationLevel;
  const animationDuration = animationLevel === _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_LEVEL_MIN ? 0 : (isPortrait ? _ui_Modal__WEBPACK_IMPORTED_MODULE_26__.CLOSE_DURATION_PORTRAIT : _ui_Modal__WEBPACK_IMPORTED_MODULE_26__.CLOSE_DURATION) + _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_END_DELAY;
  const renderedTransaction = (0,_hooks_usePrevDuringAnimation__WEBPACK_IMPORTED_MODULE_18__["default"])(transaction, animationDuration);
  const [unstakeDate, setUnstakeDate] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(Date.now() + _config__WEBPACK_IMPORTED_MODULE_3__.STAKING_CYCLE_DURATION_MS);
  const {
    fromAddress,
    toAddress,
    amount,
    comment,
    encryptedComment,
    fee,
    id,
    isIncoming,
    slug,
    timestamp,
    nft
  } = renderedTransaction || {};
  const [, transactionHash] = (id || '').split(':');
  const isStaking = (renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.type) === 'stake' || (renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.type) === 'unstake';
  const isUnstaking = (renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.type) === 'unstake';
  const isNftTransfer = (renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.type) === 'nftTransferred' || (renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.type) === 'nftReceived' || Boolean(renderedTransaction === null || renderedTransaction === void 0 ? void 0 : renderedTransaction.nft);
  const token = slug ? tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[slug] : undefined;
  const address = isIncoming ? fromAddress : toAddress;
  const addressName = address && (savedAddresses === null || savedAddresses === void 0 ? void 0 : savedAddresses[address]) || (transaction === null || transaction === void 0 || (_transaction$metadata = transaction.metadata) === null || _transaction$metadata === void 0 ? void 0 : _transaction$metadata.name);
  const isScam = Boolean(transaction === null || transaction === void 0 || (_transaction$metadata2 = transaction.metadata) === null || _transaction$metadata2 === void 0 ? void 0 : _transaction$metadata2.isScam);
  const [decryptedComment, setDecryptedComment] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [passwordError, setPasswordError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const transactionUrl = (0,_util_url__WEBPACK_IMPORTED_MODULE_13__.getTonExplorerTransactionUrl)(transactionHash, isTestnet);
  const tonExplorerTitle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lang('View Transaction on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_3__.TON_EXPLORER_NAME
    }).join('');
  }, [lang]);
  const [withUnstakeTimer, setWithUnstakeTimer] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if ((transaction === null || transaction === void 0 ? void 0 : transaction.type) !== 'unstakeRequest' || !startOfStakingCycle) {
      return;
    }
    const shouldDisplayTimer = Boolean(isUnstakeRequested || isLongUnstakeRequested) && transaction.timestamp >= startOfStakingCycle;
    setWithUnstakeTimer(shouldDisplayTimer);
  }, [isUnstakeRequested, startOfStakingCycle, transaction, isLongUnstakeRequested]);
  const {
    shouldRender: shouldRenderUnstakeTimer,
    transitionClassNames: unstakeTimerClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__["default"])(withUnstakeTimer);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (renderedTransaction) {
      setDecryptedComment(undefined);
    }
  }, [renderedTransaction]);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (endOfStakingCycle) {
      setUnstakeDate(endOfStakingCycle);
    }
  }, [endOfStakingCycle]);
  const clearPasswordError = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    setPasswordError(undefined);
  });
  const openPasswordSlide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    setCurrentSlide(SLIDES.password);
    setNextKey(undefined);
  });
  const closePasswordSlide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    setCurrentSlide(SLIDES.initial);
    setNextKey(SLIDES.password);
    clearPasswordError();
  });
  const openHiddenComment = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    if (!encryptedComment) {
      return;
    }
    openPasswordSlide();
  });
  const handleSendClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    closeActivityInfo({
      id: id
    });
    startTransfer({
      isPortrait,
      tokenSlug: slug || _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG,
      toAddress: address,
      amount: (0,_util_bigint__WEBPACK_IMPORTED_MODULE_6__.bigintAbs)(amount),
      comment: !isIncoming ? comment : undefined
    });
  });
  const handleStartStakingClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    closeActivityInfo({
      id: id
    });
    if (!isPortrait) {
      setLandscapeActionsActiveTabIndex({
        index: _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake
      });
      return;
    }
    startStaking();
  });
  const handleUnstakeMoreClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    closeActivityInfo({
      id: id
    });
    if (!isPortrait) {
      setLandscapeActionsActiveTabIndex({
        index: _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake
      });
    }
    startStaking({
      isUnstaking: true
    });
  });
  const handlePasswordSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(async password => {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('decryptComment', (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().currentAccountId, encryptedComment, fromAddress, password);
    if (!result) {
      setPasswordError('Wrong password, please try again.');
      return;
    }
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      setIsPinAccepted();
      await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.vibrateOnSuccess)(true);
    }
    closePasswordSlide();
    setDecryptedComment(result);
  });
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    closeActivityInfo({
      id: id
    });
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      clearIsPinAccepted();
    }
  });
  function getTitle(isLocal) {
    if (isUnstaking) {
      return isLocal ? 'Unstaking' : 'Unstaked';
    }
    if (isIncoming) return 'Received';
    return isLocal ? 'Sending' : 'Sent';
  }
  function renderHeader() {
    const isLocal = Boolean(id && (0,_global_helpers__WEBPACK_IMPORTED_MODULE_4__.getIsTxIdLocal)(id));
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].header, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].header_wideContent)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].title
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].headerTitle
    }, lang(getTitle(isLocal)), isLocal && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-clock",
      title: lang('Transaction in progress'),
      "aria-hidden": true
    }), isScam && isIncoming && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: _assets_scam_svg__WEBPACK_IMPORTED_MODULE_33__,
      alt: lang('Scam'),
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].scamImage
    })), !!timestamp && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].headerDate
    }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.formatFullDay)(lang.code, timestamp), ", ", (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.formatTime)(timestamp))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_24__["default"], {
      isRound: true,
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].closeButton,
      ariaLabel: lang('Close'),
      onClick: handleClose
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].closeIcon, 'icon-close'),
      "aria-hidden": true
    })));
  }
  function renderFee() {
    if (isIncoming || !fee) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_23__["default"], {
      label: lang('Fee'),
      amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(fee),
      currency: _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL
    });
  }
  function renderComment() {
    if (!comment && !encryptedComment || transaction !== null && transaction !== void 0 && transaction.type && !isNftTransfer) {
      return undefined;
    }
    const spoiler = encryptedComment ? lang('Message is encrypted.') : isScam ? lang('Scam comment is hidden.') : undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_30__["default"].label
    }, lang('Comment')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_25__["default"], {
      text: encryptedComment ? decryptedComment : comment,
      spoiler: spoiler,
      spoilerRevealText: encryptedComment ? lang('Decrypt') : lang('Display'),
      spoilerCallback: openHiddenComment,
      copyNotification: lang('Comment was copied!'),
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].copyButtonWrapper,
      textClassName: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].comment
    }));
  }
  function renderUnstakeTimer() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeTime, unstakeTimerClassNames)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeTimeIcon, 'icon-clock'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, lang('$unstaking_when_receive', {
      time: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.formatRelativeHumanDateTime)(lang.code, unstakeDate))
    })));
  }
  function renderTransactionContent() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, isNftTransfer ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_transfer_NftInfo__WEBPACK_IMPORTED_MODULE_22__["default"], {
      nft: nft,
      withTonExplorer: true
    }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TransactionAmount__WEBPACK_IMPORTED_MODULE_21__["default"], {
      isIncoming: isIncoming,
      isScam: isScam,
      amount: amount !== null && amount !== void 0 ? amount : 0n,
      decimals: token === null || token === void 0 ? void 0 : token.decimals,
      tokenSymbol: token === null || token === void 0 ? void 0 : token.symbol,
      status: isUnstaking && !shouldRenderUnstakeTimer ? lang('Successfully') : undefined
    }), !isUnstaking && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _transfer_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_30__["default"].label
    }, lang(isIncoming ? 'Sender' : 'Recipient')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_25__["default"], {
      addressName: addressName,
      address: address,
      isScam: isScam && !isIncoming,
      copyNotification: lang('Address was copied!'),
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].copyButtonWrapper,
      textClassName: isScam && isIncoming ? _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].scamAddress : undefined
    })), renderFee(), renderComment(), shouldRenderUnstakeTimer && renderUnstakeTimer(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].footer
    }, !isStaking && !isIncoming && !isNftTransfer && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_24__["default"], {
      onClick: handleSendClick,
      className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].button
    }, lang('Repeat')), isStaking && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_24__["default"], {
      onClick: handleStartStakingClick,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].button, isUnstaking && stakingStatus === 'active' && _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].buttonWide)
    }, lang('Stake Again')), isUnstaking && stakingStatus === 'active' && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_24__["default"], {
      onClick: handleUnstakeMoreClick,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].button, _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].buttonWide)
    }, lang('Unstake More'))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case SLIDES.initial:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, renderHeader(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionContent
        }, transactionUrl && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
          href: transactionUrl,
          target: "_blank",
          rel: "noreferrer noopener",
          className: _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].tonExplorer,
          title: tonExplorerTitle,
          onClick: _util_openUrl__WEBPACK_IMPORTED_MODULE_11__.handleOpenUrl
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
          className: "icon-tonexplorer",
          "aria-hidden": true
        })), renderTransactionContent()));
      case SLIDES.password:
        if (!encryptedComment) return undefined;
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__["default"], {
          title: lang('Enter Password'),
          onClose: handleClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_28__["default"], {
          isActive: isActive,
          error: passwordError,
          withCloseButton: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR,
          containerClassName: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].passwordFormContent : _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].passwordFormContentInModal,
          submitLabel: lang('Send'),
          onSubmit: handlePasswordSubmit,
          onCancel: closePasswordSlide,
          onUpdate: clearPasswordError
        }));
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_26__["default"], {
    isOpen: Boolean(transaction) && !isMediaViewerOpen,
    hasCloseButton: true,
    nativeBottomSheetKey: "transaction-info",
    forceFullNative: currentSlide === SLIDES.password,
    dialogClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].modalDialog, isUnstaking && _TransactionModal_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeModal),
    onClose: handleClose,
    onCloseAnimationEnd: closePasswordSlide
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_29__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_12__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionSlide,
    activeKey: currentSlide,
    nextKey: nextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$activit, _global$tokenInfo, _accountState$staking;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountState)(global);
  const txId = accountState === null || accountState === void 0 ? void 0 : accountState.currentActivityId;
  const activity = txId ? accountState === null || accountState === void 0 || (_accountState$activit = accountState.activities) === null || _accountState$activit === void 0 ? void 0 : _accountState$activit.byId[txId] : undefined;
  const {
    start: startOfStakingCycle,
    end: endOfStakingCycle
  } = (accountState === null || accountState === void 0 ? void 0 : accountState.staking) || {};
  const savedAddresses = accountState === null || accountState === void 0 ? void 0 : accountState.savedAddresses;
  const stakingStatus = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountStakingStatus)(global);
  return {
    transaction: (activity === null || activity === void 0 ? void 0 : activity.kind) === 'transaction' ? activity : undefined,
    tokensBySlug: (_global$tokenInfo = global.tokenInfo) === null || _global$tokenInfo === void 0 ? void 0 : _global$tokenInfo.bySlug,
    savedAddresses,
    isTestnet: global.settings.isTestnet,
    startOfStakingCycle,
    endOfStakingCycle,
    isUnstakeRequested: accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.isUnstakeRequested,
    isLongUnstakeRequested: accountState === null || accountState === void 0 ? void 0 : accountState.isLongUnstakeRequested,
    stakingStatus,
    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId)
  };
})(TransactionModal)));

/***/ }),

/***/ "./src/components/main/modals/UnhideNftModal.tsx":
/*!*******************************************************!*\
  !*** ./src/components/main/modals/UnhideNftModal.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");








function UnhideNftModal(_ref) {
  let {
    isOpen,
    nftAddress,
    nftName
  } = _ref;
  const {
    addNftsToWhitelist,
    closeUnhideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const handleUnhide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    addNftsToWhitelist({
      addresses: [nftAddress]
    });
    closeUnhideNftModal();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isOpen: isOpen,
    isCompact: true,
    onClose: closeUnhideNftModal,
    title: lang('Unhide NFT')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].text
  }, lang('$unhide_nft_warning', {
    name: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", null, nftName)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: closeUnhideNftModal,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isDestructive: true,
    onClick: handleUnhide,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].button
  }, lang('Unhide'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  const {
    isUnhideNftModalOpen,
    selectedNftToUnhide
  } = (_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global)) !== null && _selectCurrentAccount !== void 0 ? _selectCurrentAccount : {};
  return {
    isOpen: isUnhideNftModalOpen,
    nftAddress: selectedNftToUnhide === null || selectedNftToUnhide === void 0 ? void 0 : selectedNftToUnhide.address,
    nftName: selectedNftToUnhide === null || selectedNftToUnhide === void 0 ? void 0 : selectedNftToUnhide.name
  };
})(UnhideNftModal)));

/***/ }),

/***/ "./src/components/main/sections/Actions/LandscapeActions.tsx":
/*!*******************************************************************!*\
  !*** ./src/components/main/sections/Actions/LandscapeActions.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _addbuy_AddBuyStatic__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../addbuy/AddBuyStatic */ "./src/components/addbuy/AddBuyStatic.tsx");
/* harmony import */ var _staking_StakingInfoContent__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../staking/StakingInfoContent */ "./src/components/staking/StakingInfoContent.tsx");
/* harmony import */ var _staking_StakingInitial__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../staking/StakingInitial */ "./src/components/staking/StakingInitial.tsx");
/* harmony import */ var _swap_SwapInitial__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../swap/SwapInitial */ "./src/components/swap/SwapInitial.tsx");
/* harmony import */ var _transfer_TransferInitial__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../transfer/TransferInitial */ "./src/components/transfer/TransferInitial.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LandscapeActions.module.scss */ "./src/components/main/sections/Actions/LandscapeActions.module.scss");

















const TABS = [_global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Receive, _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer, _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap, _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake];
let activeTransferKey = 0;
function LandscapeActions(_ref) {
  let {
    hasStaking,
    activeTabIndex = _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_LANDSCAPE_ACTION_TAB_ID,
    isUnstakeRequested,
    nfts,
    tokenSlug,
    isTestnet,
    isLedger,
    isSwapDisabled,
    isOnRampDisabled
  } = _ref;
  const {
    setLandscapeActionsActiveTabIndex: setActiveTabIndex
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const isStaking = activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake && (hasStaking || isUnstakeRequested);
  const {
    renderedBgHelpers,
    transitionRef,
    handleTransitionStart
  } = useTabHeightAnimation(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent, isStaking ? _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentSlideStaked : undefined, isStaking);
  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;
  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;
  const isStakingAllowed = !isTestnet;
  const areNotAllTabs = !isSwapAllowed || !isStakingAllowed;
  const isLastTab = !isStakingAllowed && !isSwapAllowed && activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer || !isStakingAllowed && isSwapAllowed && activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap || isStakingAllowed && activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake;
  const transferKey = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (nfts === null || nfts === void 0 ? void 0 : nfts.map(nft => nft.address).join(',')) || tokenSlug, [nfts, tokenSlug]);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    activeTransferKey += 1;
  }, [transferKey]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isSwapAllowed && activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap || !isStakingAllowed && activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake) {
      setActiveTabIndex({
        index: _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer
      });
    }
  }, [activeTabIndex, isTestnet, isLedger, isSwapAllowed, isStakingAllowed]);
  function renderCurrentTab(isActive, isPrev) {
    switch (activeTabIndex) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Receive:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_addbuy_AddBuyStatic__WEBPACK_IMPORTED_MODULE_10__["default"], {
          className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent,
          isStatic: true,
          isTestnet: isTestnet,
          isLedger: isLedger,
          isSwapDisabled: isSwapDisabled,
          isOnRampDisabled: isOnRampDisabled
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent, _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContentTransfer)
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
          activeKey: activeTransferKey,
          name: isPrev ? 'semiFade' : 'none',
          shouldCleanup: true,
          slideClassName: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContentInner
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_transfer_TransferInitial__WEBPACK_IMPORTED_MODULE_14__["default"], {
          key: activeTransferKey,
          isStatic: true,
          onCommentChange: handleTransitionStart
        })));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_swap_SwapInitial__WEBPACK_IMPORTED_MODULE_13__["default"], {
          isStatic: true,
          isActive: isActive
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake:
        if (hasStaking || isUnstakeRequested) {
          return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
            className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent
          }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_staking_StakingInfoContent__WEBPACK_IMPORTED_MODULE_11__["default"], {
            isStatic: true,
            isActive: isActive
          }));
        }
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].slideContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_staking_StakingInitial__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isStatic: true,
          isActive: isActive
        }));
      default:
        return undefined;
    }
  }
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    handleTransitionStart();
  }, [activeTabIndex, handleTransitionStart, lang]);
  function handleSelectTab(index) {
    setActiveTabIndex({
      index
    }, {
      forceOnHeavyAnimation: true
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].container
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabs, areNotAllTabs && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].notAllTabs)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab, activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Receive && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].active),
    onClick: () => handleSelectTab(_global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Receive)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabIcon, 'icon-add-buy'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabText
  }, lang(isSwapAllowed || isOnRampAllowed ? 'Add / Buy' : 'Add')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDecoration,
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab, activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].active),
    onClick: () => handleSelectTab(_global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Transfer)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabIcon, 'icon-send'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabText
  }, lang('Send')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDecoration,
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDelimiter,
    "aria-hidden": true
  })), isSwapAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab, activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].active),
    onClick: () => handleSelectTab(_global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Swap)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabIcon, 'icon-swap'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabText
  }, lang('Swap')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDecoration,
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDelimiter,
    "aria-hidden": true
  })), isStakingAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab, activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].active, isStaking && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab_purple, (hasStaking || isUnstakeRequested) && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tab_purpleText),
    onClick: () => handleSelectTab(_global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Stake)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabIcon, 'icon-earn'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabText
  }, lang(isUnstakeRequested ? 'Unstaking' : hasStaking ? 'Earning' : 'Earn')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDecoration,
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tabDelimiter,
    "aria-hidden": true
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentHeader, activeTabIndex === _global_types__WEBPACK_IMPORTED_MODULE_2__.ActiveTab.Receive && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].firstActive, isLastTab && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].lastActive)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentHeaderInner, isStaking && _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentSlideStaked)
  })), renderedBgHelpers, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
    ref: transitionRef,
    name: "slideFade",
    activeKey: activeTabIndex,
    renderCount: TABS.length,
    className: _LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
  }, renderCurrentTab));
}
function useTabHeightAnimation(slideClassName, contentBackgroundClassName) {
  let isUnstaking = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  // eslint-disable-next-line no-null/no-null
  const transitionRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const contentBgRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const contentFooterRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lastHeightRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const suffix = isUnstaking ? ' .staking-info' : '';
  // eslint-disable-next-line max-len
  const query = `.${slideClassName}.${_ui_Transition__WEBPACK_IMPORTED_MODULE_15__.TO_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${_ui_Transition__WEBPACK_IMPORTED_MODULE_15__.TO_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${_ui_Transition__WEBPACK_IMPORTED_MODULE_15__.ACTIVE_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${_ui_Transition__WEBPACK_IMPORTED_MODULE_15__.ACTIVE_SLIDE_CLASS_NAME}${suffix}`;
  const adjustBg = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(function () {
    var _transitionRef$curren;
    let noTransition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    const slide = (_transitionRef$curren = transitionRef.current) === null || _transitionRef$curren === void 0 ? void 0 : _transitionRef$curren.querySelector(query);
    const rect = slide.getBoundingClientRect();
    const shouldRenderWithoutTransition = !lastHeightRef.current || noTransition;
    if (lastHeightRef.current === rect.height || !contentBgRef.current) return;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestMutation)(() => {
      if (!contentBgRef.current || !contentFooterRef.current) return;
      const contentBgStyle = contentBgRef.current.style;
      const contentFooterStyle = contentFooterRef.current.style;
      if (shouldRenderWithoutTransition) {
        contentBgStyle.transition = 'none';
        contentFooterStyle.transition = 'none';
      }
      contentBgStyle.transform = `scaleY(calc(${rect.height} / 100))`;
      contentFooterStyle.transform = `translateY(${Math.floor(rect.height)}px)`;
      if (shouldRenderWithoutTransition) {
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestMutation)(() => {
          if (!contentBgRef.current || !contentFooterRef.current) return;
          contentBgRef.current.style.transition = '';
          contentFooterRef.current.style.transition = '';
        });
      }
      lastHeightRef.current = rect.height;
    });
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    adjustBg(true);
    const componentObserver = new ResizeObserver(entries => {
      if (!entries.length) return;
      adjustBg(false);
    });
    if (transitionRef.current) {
      componentObserver.observe(transitionRef.current);
    }
    return () => {
      componentObserver.disconnect();
    };
  }, [adjustBg]);
  const renderedBgHelpers = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      ref: contentBgRef,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentBg, contentBackgroundClassName)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      ref: contentFooterRef,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_LandscapeActions_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentFooter, contentBackgroundClassName)
    }));
  }, [contentBackgroundClassName]);
  return {
    renderedBgHelpers,
    transitionRef,
    handleTransitionStart: adjustBg
  };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectAccountState;
  const accountState = (_selectAccountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectAccountState)(global, global.currentAccountId)) !== null && _selectAccountState !== void 0 ? _selectAccountState : {};
  const {
    isSwapDisabled,
    isOnRampDisabled
  } = global.restrictions;
  const {
    nfts,
    tokenSlug = _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG
  } = global.currentTransfer;
  return {
    activeTabIndex: accountState === null || accountState === void 0 ? void 0 : accountState.landscapeActionsActiveTabIndex,
    isTestnet: global.settings.isTestnet,
    nfts,
    tokenSlug,
    isSwapDisabled,
    isOnRampDisabled
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(LandscapeActions)));

/***/ }),

/***/ "./src/components/main/sections/Actions/PortraitActions.tsx":
/*!******************************************************************!*\
  !*** ./src/components/main/sections/Actions/PortraitActions.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _capacitor_action_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/action-sheet */ "./node_modules/@capacitor/action-sheet/dist/esm/index.js");
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _addbuy_AddBuyModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../addbuy/AddBuyModal */ "./src/components/addbuy/AddBuyModal.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PortraitActions.module.scss */ "./src/components/main/sections/Actions/PortraitActions.module.scss");














function PortraitActions(_ref) {
  let {
    hasStaking,
    isTestnet,
    isUnstakeRequested,
    onEarnClick,
    isLedger,
    isSwapDisabled,
    isOnRampDisabled
  } = _ref;
  const {
    startTransfer,
    startSwap,
    openOnRampWidgetModal,
    openReceiveModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_3__.getActions)();
  const [isAddBuyModalOpened, openAddBuyModal, closeAddBuyModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;
  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;
  const isStakingAllowed = !isTestnet;
  const handleStartSwap = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_6__.vibrate)();
    startSwap();
  });
  const handleStartSwapWidget = () => {
    startSwap({
      tokenInSlug: _config__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,
      tokenOutSlug: _config__WEBPACK_IMPORTED_MODULE_4__.TONCOIN_SLUG,
      amountIn: '100'
    });
  };
  const handleStartTransfer = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_6__.vibrate)();
    startTransfer({
      isPortrait: true
    });
  });
  const handleAddBuyClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(async () => {
    var _actionByIndex$result;
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_6__.vibrate)();
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS_APP) {
      openAddBuyModal();
      return;
    }
    const options = [...(isOnRampAllowed ? [{
      title: lang('Buy with Card')
    }] : []), ...(isSwapAllowed ? [{
      title: lang('Buy with Crypto')
    }] : []), {
      title: lang('Receive with QR or Invoice')
    }, {
      title: lang('Cancel'),
      style: _capacitor_action_sheet__WEBPACK_IMPORTED_MODULE_0__.ActionSheetButtonStyle.Cancel
    }];
    const actionByIndex = [...(isOnRampAllowed ? [openOnRampWidgetModal] : []), ...(isSwapAllowed ? [handleStartSwapWidget] : []), openReceiveModal];
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
      await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.disable();
    }
    const result = await _capacitor_action_sheet__WEBPACK_IMPORTED_MODULE_0__.ActionSheet.showActions({
      options
    });
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_DELEGATING_BOTTOM_SHEET) {
      await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.enable();
    }
    (_actionByIndex$result = actionByIndex[result.index]) === null || _actionByIndex$result === void 0 ? void 0 : _actionByIndex$result.call(actionByIndex);
  });
  const handleEarnClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_6__.vibrate)();
    onEarnClick();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
    className: _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].container
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
    className: _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button,
    onClick: handleAddBuyClick,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttonIcon, 'icon-add-buy'),
    "aria-hidden": true
  }), lang(isSwapAllowed || isOnRampAllowed ? 'Add / Buy' : 'Add')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button,
    onClick: handleStartTransfer,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttonIcon, 'icon-send'),
    "aria-hidden": true
  }), lang('Send')), isSwapAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button,
    onClick: handleStartSwap,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttonIcon, 'icon-swap'),
    "aria-hidden": true
  }), lang('Swap')), isStakingAllowed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button, (hasStaking || isUnstakeRequested) && _PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button_purple),
    onClick: handleEarnClick,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_PortraitActions_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttonIcon, 'icon-earn'),
    "aria-hidden": true
  }), lang(isUnstakeRequested ? 'Unstaking' : hasStaking ? 'Earning' : 'Earn'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_addbuy_AddBuyModal__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isOpen: isAddBuyModalOpened,
    isTestnet: isTestnet,
    isLedgerWallet: isLedger,
    isSwapDisabled: isSwapDisabled,
    isOnRampDisabled: isOnRampDisabled,
    onClose: closeAddBuyModal
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.memo)(PortraitActions));

/***/ }),

/***/ "./src/components/main/sections/Actions/index.ts":
/*!*******************************************************!*\
  !*** ./src/components/main/sections/Actions/index.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LandscapeActions: () => (/* reexport safe */ _LandscapeActions__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   PortraitActions: () => (/* reexport safe */ _PortraitActions__WEBPACK_IMPORTED_MODULE_1__["default"])
/* harmony export */ });
/* harmony import */ var _LandscapeActions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LandscapeActions */ "./src/components/main/sections/Actions/LandscapeActions.tsx");
/* harmony import */ var _PortraitActions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PortraitActions */ "./src/components/main/sections/Actions/PortraitActions.tsx");



/***/ }),

/***/ "./src/components/main/sections/Card/AccountSelector.tsx":
/*!***************************************************************!*\
  !*** ./src/components/main/sections/Card/AccountSelector.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_trapFocus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/trapFocus */ "./src/util/trapFocus.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useFocusAfterAnimation */ "./src/hooks/useFocusAfterAnimation.tsx");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useQrScannerSupport */ "./src/hooks/useQrScannerSupport.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./AccountSelector.module.scss */ "./src/components/main/sections/Card/AccountSelector.module.scss");

















const HARDWARE_ACCOUNT_ADDRESS_SHIFT = 3;
const ACCOUNT_ADDRESS_SHIFT = 4;
const ACCOUNTS_AMOUNT_FOR_COMPACT_DIALOG = 2;
function AccountSelector(_ref) {
  let {
    currentAccountId,
    currentAccount,
    canEdit,
    forceClose,
    accountClassName,
    accountSelectorClassName,
    menuButtonClassName,
    noSettingsButton,
    noAccountSelector,
    accounts,
    isInsideSticky,
    shouldForceAccountEdit,
    currentWalletVersion
  } = _ref;
  const {
    switchAccount,
    renameAccount,
    openAddAccountModal,
    openSettings,
    requestOpenQrScanner,
    openSettingsWithState
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();

  // eslint-disable-next-line no-null/no-null
  const modalRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const inputRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const [isOpen, openAccountSelector, closeAccountSelector] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_9__["default"])(false);
  const [isEdit, openEdit, closeEdit] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_9__["default"])(shouldForceAccountEdit);
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_14__["default"])(isOpen && !isEdit, undefined, undefined, 'slow');
  const [inputValue, setInputValue] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)((currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title) || '');
  const isQrScannerSupported = (0,_hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_13__["default"])();
  const noSettingsOrQrSupported = noSettingsButton || isInsideSticky && isQrScannerSupported;
  const withAddW5Button = currentWalletVersion !== 'W5' && !(currentAccount !== null && currentAccount !== void 0 && currentAccount.isHardware);
  const accountsAmount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Object.keys(accounts || {}).length, [accounts]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen && forceClose) {
      closeAccountSelector();
    }
  }, [forceClose, isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => shouldRender ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__["default"])(closeAccountSelector) : undefined, [closeAccountSelector, isOpen, shouldRender]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isEdit ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__["default"])(closeEdit) : undefined, [closeEdit, isEdit]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => shouldRender && modalRef.current ? (0,_util_trapFocus__WEBPACK_IMPORTED_MODULE_8__["default"])(modalRef.current) : undefined, [shouldRender]);
  (0,_hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_10__["default"])(inputRef, !isEdit);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isEdit) {
      setInputValue((currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title) || '');
    }
  }, [currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title, isEdit]);
  const handleOpenAccountSelector = () => {
    openAccountSelector();
  };
  const handleSwitchAccount = value => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    closeAccountSelector();
    switchAccount({
      accountId: value
    });
  };
  const handleEditClick = e => {
    e.stopPropagation();
    openEdit();
  };
  const handleSaveClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    renameAccount({
      accountId: currentAccountId,
      title: inputValue.trim()
    });
    closeAccountSelector();
    closeEdit();
  });
  const handleAddWalletClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    closeAccountSelector();
    openAddAccountModal();
  });
  const handleAddV5WalletClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    closeAccountSelector();
    openSettingsWithState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SettingsState.WalletVersion
    });
  });
  const handleInputKeyDown = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(e => {
    if (e.code === 'Enter') {
      handleSaveClick();
    } else {
      setInputValue(e.currentTarget.value);
    }
  });
  const handleQrScanClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    closeAccountSelector();
    requestOpenQrScanner();
  });
  function renderButton(accountId, address, isHardware, title) {
    const isActive = accountId === currentAccountId;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].button, isActive && _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].button_current),
      "aria-label": lang('Switch Account'),
      onClick: isActive ? undefined : () => handleSwitchAccount(accountId)
    }, title && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].accountName
    }, title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].accountAddressBlock
    }, isHardware && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-ledger",
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__.shortenAddress)(address, isHardware ? HARDWARE_ACCOUNT_ADDRESS_SHIFT : ACCOUNT_ADDRESS_SHIFT, ACCOUNT_ADDRESS_SHIFT))), isActive && canEdit && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].edit,
      onClick: handleEditClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-pen",
      "aria-hidden": true
    })));
  }
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].container, transitionClassNames, accountSelectorClassName);
  const accountTitleClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].accountTitle, accountClassName, isQrScannerSupported && !noSettingsOrQrSupported && _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].accountTitleShort);
  const settingsButtonClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuButton, menuButtonClassName, isQrScannerSupported && _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuButtonFirst);
  function renderCurrentAccount() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !noAccountSelector && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: accountTitleClassName,
      onClick: handleOpenAccountSelector
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].accountTitleInner
    }, (currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.title) || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__.shortenAddress)((currentAccount === null || currentAccount === void 0 ? void 0 : currentAccount.address) || '')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon icon-caret-down', _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].arrowIcon),
      "aria-hidden": true
    })), !noSettingsOrQrSupported && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      className: settingsButtonClassName,
      isText: true,
      isSimple: true,
      kind: "transparent",
      ariaLabel: lang('Main menu'),
      onClick: openSettings
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-cog",
      "aria-hidden": true
    })), isQrScannerSupported && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuButton, menuButtonClassName),
      isText: true,
      isSimple: true,
      kind: "transparent",
      ariaLabel: lang('Scan QR Code'),
      onClick: handleQrScanClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-qr-scanner",
      "aria-hidden": true
    })));
  }
  function renderInput() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputContainer, 'account-edit-input')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
      ref: inputRef,
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].input,
      value: inputValue,
      onKeyDown: handleInputKeyDown,
      onChange: e => setInputValue(e.target.value)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      isSimple: true,
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].saveButton,
      onClick: handleSaveClick
    }, lang('Done')));
  }
  function renderAccountsChooser() {
    const dialogFullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].dialog, accountsAmount <= ACCOUNTS_AMOUNT_FOR_COMPACT_DIALOG && _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].dialog_compact);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      ref: modalRef,
      className: fullClassName,
      tabIndex: -1,
      role: "dialog"
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].backdrop,
      onClick: () => closeAccountSelector()
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: dialogFullClassName
    }, accounts && Object.entries(accounts).map(_ref2 => {
      let [accountId, {
        title,
        address,
        isHardware
      }] = _ref2;
      return renderButton(accountId, address, isHardware, title);
    }), withAddW5Button && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].createAccountButton,
      onClick: handleAddV5WalletClick
    }, lang('Switch to W5'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].createAccountIcon, 'icon-versions'),
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      className: _AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].createAccountButton,
      onClick: handleAddWalletClick
    }, lang('Add Wallet'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_AccountSelector_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].createAccountIcon, 'icon-plus'),
      "aria-hidden": true
    }))));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !isEdit && renderCurrentAccount(), isEdit && renderInput(), shouldRender && renderAccountsChooser());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _global$walletVersion;
  const accounts = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectNetworkAccounts)(global);
  const currentAccountId = global.currentAccountId;
  return {
    currentAccountId,
    currentAccount: accounts === null || accounts === void 0 ? void 0 : accounts[currentAccountId],
    accounts,
    shouldForceAccountEdit: global.shouldForceAccountEdit,
    currentWalletVersion: (_global$walletVersion = global.walletVersions) === null || _global$walletVersion === void 0 ? void 0 : _global$walletVersion.currentVersion
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(AccountSelector)));

/***/ }),

/***/ "./src/components/main/sections/Card/Card.tsx":
/*!****************************************************!*\
  !*** ./src/components/main/sections/Card/Card.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_clipboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/clipboard */ "./src/util/clipboard.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _helpers_calculateFullBalance__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./helpers/calculateFullBalance */ "./src/components/main/sections/Card/helpers/calculateFullBalance.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useUpdateIndicator__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../hooks/useUpdateIndicator */ "./src/hooks/useUpdateIndicator.ts");
/* harmony import */ var _ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../ui/AnimatedCounter */ "./src/components/ui/AnimatedCounter.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_LoadingDots__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../ui/LoadingDots */ "./src/components/ui/LoadingDots.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _AccountSelector__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./AccountSelector */ "./src/components/main/sections/Card/AccountSelector.tsx");
/* harmony import */ var _CurrencySwitcher__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./CurrencySwitcher */ "./src/components/main/sections/Card/CurrencySwitcher.tsx");
/* harmony import */ var _TokenCard__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./TokenCard */ "./src/components/main/sections/Card/TokenCard.tsx");
/* harmony import */ var _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Card.module.scss */ "./src/components/main/sections/Card/Card.module.scss");



























function Card(_ref) {
  let {
    ref,
    address,
    tokens,
    activeDappOrigin,
    currentTokenSlug,
    forceCloseAccountSelector,
    onTokenCardClose,
    onApyClick,
    isTestnet,
    baseCurrency,
    stakingBalance,
    balanceUpdateStartedAt
  } = _ref;
  const {
    showNotification
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const addressUrl = (0,_util_url__WEBPACK_IMPORTED_MODULE_9__.getTonExplorerAddressUrl)(address, isTestnet);
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.getShortCurrencySymbol)(baseCurrency);
  const tonExplorerTitle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lang('View address on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_2__.TON_EXPLORER_NAME
    }).join('');
  }, [lang]);
  const isUpdating = (0,_hooks_useUpdateIndicator__WEBPACK_IMPORTED_MODULE_18__["default"])(balanceUpdateStartedAt);
  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__["default"])(false);
  const currentToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return tokens ? tokens.find(token => token.slug === currentTokenSlug) : undefined;
  }, [currentTokenSlug, tokens]);
  const renderedToken = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_12__["default"])(currentToken, true);
  const {
    shouldRender: shouldRenderTokenCard,
    transitionClassNames: tokenCardTransitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_17__["default"])(Boolean(currentTokenSlug), undefined, true);
  const dappDomain = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!activeDappOrigin) {
      return undefined;
    }
    let value;
    try {
      value = new URL(activeDappOrigin).hostname;
    } catch (err) {
      value = (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__.shortenAddress)(activeDappOrigin);
    }
    return value;
  }, [activeDappOrigin]);
  const renderingDappDomain = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_12__["default"])(dappDomain, true);
  const values = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return tokens ? (0,_helpers_calculateFullBalance__WEBPACK_IMPORTED_MODULE_11__.calculateFullBalance)(tokens, stakingBalance) : undefined;
  }, [tokens, stakingBalance]);
  const {
    shouldRender: shouldRenderDappElement,
    transitionClassNames: dappClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_17__["default"])(Boolean(dappDomain));
  const shouldRenderDapp = _config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION && shouldRenderDappElement;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_14__["default"])({
    isActive: Boolean(currentTokenSlug),
    onBack: onTokenCardClose
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => shouldRenderTokenCard ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_5__["default"])(onTokenCardClose) : undefined, [shouldRenderTokenCard, onTokenCardClose]);
  const handleCopyAddress = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    if (!address) return;
    showNotification({
      message: lang('Address was copied!'),
      icon: 'icon-copy'
    });
    void (0,_util_clipboard__WEBPACK_IMPORTED_MODULE_6__.copyTextToClipboard)(address);
  });
  const {
    primaryValue,
    primaryWholePart,
    primaryFractionPart,
    changeClassName,
    changePrefix,
    changePercent,
    changeValue
  } = values || {};
  function renderLoader() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].isLoading)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_20__["default"], {
      color: "white",
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].center
    }));
  }
  function renderBalance() {
    const iconCaretClassNames = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon', 'icon-caret-down', primaryFractionPart || shortBaseSymbol.length > 1 ? _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].iconCaretFraction : _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].iconCaret);
    const noAnimationCounter = !isUpdating || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_10__.IS_SAFARI || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_10__.IS_IOS;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
      activeKey: isUpdating ? 1 : 0,
      name: "fade",
      shouldCleanup: true,
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceTransition
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].primaryValue
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].currencySwitcher, isUpdating && 'glare-text'),
      role: "button",
      tabIndex: 0,
      onClick: openCurrencyMenu
    }, shortBaseSymbol.length === 1 && shortBaseSymbol, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isDisabled: noAnimationCounter,
      text: primaryWholePart !== null && primaryWholePart !== void 0 ? primaryWholePart : ''
    }), primaryFractionPart && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].primaryFractionPart
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isDisabled: noAnimationCounter,
      text: `.${primaryFractionPart}`
    })), shortBaseSymbol.length > 1 && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].primaryFractionPart
    }, "\xA0", shortBaseSymbol), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: iconCaretClassNames,
      "aria-hidden": true
    })))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_CurrencySwitcher__WEBPACK_IMPORTED_MODULE_24__["default"], {
      isOpen: isCurrencyMenuOpen,
      onClose: closeCurrencyMenu
    }), primaryValue !== '0' && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].change, changeClassName)
    }, changePrefix, "\u2009", /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_19__["default"], {
      text: `${Math.abs(changePercent)}%`
    }), ' · ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_19__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(Math.abs(changeValue), shortBaseSymbol)
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].containerWrapper,
    ref: ref
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
    activeKey: isUpdating ? 1 : 0,
    name: "fade",
    shouldCleanup: true,
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].loadingDotsContainer
  }, isUpdating ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_LoadingDots__WEBPACK_IMPORTED_MODULE_21__["default"], {
    isActive: true,
    isDoubled: true
  }) : undefined), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].container, currentTokenSlug && _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].backstage)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AccountSelector__WEBPACK_IMPORTED_MODULE_23__["default"], {
    forceClose: forceCloseAccountSelector,
    canEdit: true
  }), shouldRenderDapp && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].dapp, dappClassNames)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].dappIcon, 'icon-laptop'),
    "aria-hidden": true
  }), renderingDappDomain), values ? renderBalance() : renderLoader(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].addressContainer
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].address,
    "aria-label": lang('Copy wallet address'),
    onClick: handleCopyAddress
  }, address && (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__.shortenAddress)(address), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].icon, 'icon-copy'),
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: addressUrl,
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].tonExplorerButton,
    title: tonExplorerTitle,
    target: "_blank",
    rel: "noreferrer noopener"
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].icon, 'icon-tonexplorer-small'),
    "aria-hidden": true
  })))), shouldRenderTokenCard && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TokenCard__WEBPACK_IMPORTED_MODULE_25__["default"], {
    token: renderedToken,
    classNames: tokenCardTransitionClassNames,
    isUpdating: isUpdating,
    onApyClick: onApyClick,
    onClose: onTokenCardClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking;
  const {
    address
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectAccount)(global, global.currentAccountId) || {};
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  const stakingBalance = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentNetwork)(global) === 'mainnet' ? accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.balance : 0n;
  return {
    address,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountTokens)(global),
    activeDappOrigin: accountState === null || accountState === void 0 ? void 0 : accountState.activeDappOrigin,
    currentTokenSlug: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenSlug,
    isTestnet: global.settings.isTestnet,
    baseCurrency: global.settings.baseCurrency,
    stakingBalance,
    balanceUpdateStartedAt: global.balanceUpdateStartedAt
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(Card)));

/***/ }),

/***/ "./src/components/main/sections/Card/ChartHistorySwitcher.tsx":
/*!********************************************************************!*\
  !*** ./src/components/main/sections/Card/ChartHistorySwitcher.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _ChartHistorySwitcher_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ChartHistorySwitcher.module.scss */ "./src/components/main/sections/Card/ChartHistorySwitcher.module.scss");








const ITEMS = _config__WEBPACK_IMPORTED_MODULE_2__.HISTORY_PERIODS.map(key => ({
  value: key,
  name: key === 'ALL' ? 'All' : key
}));
function ChartHistorySwitcher(_ref) {
  let {
    isOpen,
    currentPeriod,
    onClose,
    onChange
  } = _ref;
  const {
    setCurrentTokenPeriod
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const handlePeriodChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(period => {
    onClose();
    if (period === currentPeriod) return;
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrate)();
    setCurrentTokenPeriod({
      period: period
    });
    onChange === null || onChange === void 0 ? void 0 : onChange(period);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isOpen: isOpen,
    onClose: onClose,
    items: ITEMS,
    className: _ChartHistorySwitcher_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].menuWrapper,
    bubbleClassName: _ChartHistorySwitcher_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].menu,
    buttonClassName: _ChartHistorySwitcher_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].menuItem,
    selectedValue: currentPeriod,
    menuPositionHorizontal: "right",
    onSelect: handlePeriodChange
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  return {
    currentPeriod: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenPeriod
  };
})(ChartHistorySwitcher)));

/***/ }),

/***/ "./src/components/main/sections/Card/CurrencySwitcher.tsx":
/*!****************************************************************!*\
  !*** ./src/components/main/sections/Card/CurrencySwitcher.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");





function CurrencySwitcher(_ref) {
  let {
    isOpen,
    currentCurrency,
    excludedCurrency,
    menuPositionHorizontal,
    onClose,
    onChange
  } = _ref;
  const {
    changeBaseCurrency
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const currencyList = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => _config__WEBPACK_IMPORTED_MODULE_2__.CURRENCY_LIST.filter(item => item.value !== excludedCurrency), [excludedCurrency]);
  const handleBaseCurrencyChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(currency => {
    onClose();
    if (currency === currentCurrency) return;
    changeBaseCurrency({
      currency: currency
    });
    onChange === null || onChange === void 0 ? void 0 : onChange(currency);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isOpen: isOpen,
    onClose: onClose,
    items: currencyList,
    shouldTranslateOptions: true,
    selectedValue: currentCurrency,
    menuPositionHorizontal: menuPositionHorizontal,
    onSelect: handleBaseCurrencyChange
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    currentCurrency: global.settings.baseCurrency
  };
})(CurrencySwitcher)));

/***/ }),

/***/ "./src/components/main/sections/Card/StickyCard.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/sections/Card/StickyCard.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _helpers_calculateFullBalance__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./helpers/calculateFullBalance */ "./src/components/main/sections/Card/helpers/calculateFullBalance.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _AccountSelector__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AccountSelector */ "./src/components/main/sections/Card/AccountSelector.tsx");
/* harmony import */ var _CurrencySwitcher__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CurrencySwitcher */ "./src/components/main/sections/Card/CurrencySwitcher.tsx");
/* harmony import */ var _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./StickyCard.module.scss */ "./src/components/main/sections/Card/StickyCard.module.scss");











function StickyCard(_ref) {
  let {
    classNames,
    tokens,
    baseCurrency,
    stakingBalance
  } = _ref;
  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(false);
  const values = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return tokens ? (0,_helpers_calculateFullBalance__WEBPACK_IMPORTED_MODULE_6__.calculateFullBalance)(tokens, stakingBalance) : undefined;
  }, [tokens, stakingBalance]);
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.getShortCurrencySymbol)(baseCurrency);
  const {
    primaryWholePart,
    primaryFractionPart
  } = values || {};
  const iconCaretClassNames = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])('icon', 'icon-caret-down', _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconCaret, primaryFractionPart && _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconCaretFraction);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].root
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].background, classNames)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AccountSelector__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isInsideSticky: true,
    accountClassName: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].account,
    accountSelectorClassName: "sticky-card-account-selector",
    menuButtonClassName: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].menuButton,
    noSettingsButton: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_ELECTRON && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_WINDOWS,
    noAccountSelector: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_ELECTRON && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_MAC_OS
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].balance
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].currencySwitcher,
    role: "button",
    tabIndex: 0,
    onClick: openCurrencyMenu
  }, shortBaseSymbol.length === 1 && shortBaseSymbol, primaryWholePart, primaryFractionPart && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].balanceFractionPart
  }, ".", primaryFractionPart), shortBaseSymbol.length > 1 && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _StickyCard_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].balanceFractionPart
  }, "\xA0", shortBaseSymbol), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: iconCaretClassNames,
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_CurrencySwitcher__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isOpen: isCurrencyMenuOpen,
    onClose: closeCurrencyMenu
  })))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global);
  return {
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountTokens)(global),
    baseCurrency: global.settings.baseCurrency,
    stakingBalance: accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.balance
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(StickyCard)));

/***/ }),

/***/ "./src/components/main/sections/Card/TokenCard.tsx":
/*!*********************************************************!*\
  !*** ./src/components/main/sections/Card/TokenCard.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_round__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util/round */ "./src/util/round.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _helpers_cardColors__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../helpers/cardColors */ "./src/components/main/helpers/cardColors.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _hooks_useTimeout__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../hooks/useTimeout */ "./src/hooks/useTimeout.ts");
/* harmony import */ var _common_TokenPriceChart__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../common/TokenPriceChart */ "./src/components/common/TokenPriceChart.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ChartHistorySwitcher__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ChartHistorySwitcher */ "./src/components/main/sections/Card/ChartHistorySwitcher.tsx");
/* harmony import */ var _CurrencySwitcher__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./CurrencySwitcher */ "./src/components/main/sections/Card/CurrencySwitcher.tsx");
/* harmony import */ var _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Card.module.scss */ "./src/components/main/sections/Card/Card.module.scss");
/* harmony import */ var _assets_coins_ton_svg__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../assets/coins/ton.svg */ "./src/assets/coins/ton.svg");





























const OFFLINE_TIMEOUT = 120000; // 2 minutes

const CHART_DIMENSIONS = {
  width: 300,
  height: 64
};
const INTERVAL = 5 * 1000;
const DEFAULT_PERIOD = _config__WEBPACK_IMPORTED_MODULE_2__.HISTORY_PERIODS[0];
function TokenCard(_ref) {
  var _ref3, _selectedHistoryPoint;
  let {
    isTestnet,
    token,
    classNames,
    period = DEFAULT_PERIOD,
    apyValue,
    isUpdating,
    onApyClick,
    onClose,
    baseCurrency,
    historyPeriods,
    minterAddress
  } = _ref;
  const {
    loadPriceHistory
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_17__["default"])();
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_14__["default"])(false);
  const [isHistoryMenuOpen, openHistoryMenu, closeHistoryMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_14__["default"])(false);
  const shouldUseDefaultCurrency = baseCurrency === undefined || baseCurrency === token.symbol;
  const chartCurrency = shouldUseDefaultCurrency ? _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_PRICE_CURRENCY : baseCurrency;
  const currencySymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.getShortCurrencySymbol)(chartCurrency);
  const [selectedHistoryIndex, setSelectedHistoryIndex] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(-1);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_19__["default"])(_ref2 => {
    let [prevHistoryIndex] = _ref2;
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.IS_IOS) return;
    if (prevHistoryIndex !== undefined) {
      (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    }
  }, [selectedHistoryIndex]);
  const {
    slug,
    symbol,
    amount,
    image,
    name,
    price: lastPrice,
    decimals
  } = token;
  const logoPath = slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? _assets_coins_ton_svg__WEBPACK_IMPORTED_MODULE_28__ : image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_12__.ASSET_LOGO_PATHS[symbol.toLowerCase()];
  const refreshHistory = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_18__["default"])(newPeriod => {
    loadPriceHistory({
      slug,
      period: newPeriod !== null && newPeriod !== void 0 ? newPeriod : period
    });
  });
  const handleCurrencyChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_18__["default"])(currency => {
    loadPriceHistory({
      slug,
      period,
      currency
    });
  });
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_16__["default"])(refreshHistory, INTERVAL);
  const history = historyPeriods === null || historyPeriods === void 0 ? void 0 : historyPeriods[period];
  const tokenLastUpdatedAt = history !== null && history !== void 0 && history.length ? history[history.length - 1][0] * 1000 : undefined;
  const tokenLastHistoryPrice = history !== null && history !== void 0 && history.length ? history[history.length - 1][1] : lastPrice;
  const selectedHistoryPoint = history === null || history === void 0 ? void 0 : history[selectedHistoryIndex];
  const price = (_ref3 = (_selectedHistoryPoint = selectedHistoryPoint === null || selectedHistoryPoint === void 0 ? void 0 : selectedHistoryPoint[1]) !== null && _selectedHistoryPoint !== void 0 ? _selectedHistoryPoint : shouldUseDefaultCurrency ? tokenLastHistoryPrice : undefined) !== null && _ref3 !== void 0 ? _ref3 : lastPrice;
  const isLoading = !tokenLastUpdatedAt || Date.now() - tokenLastUpdatedAt > OFFLINE_TIMEOUT;
  const dateStr = selectedHistoryPoint ? (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_6__.formatShortDay)(lang.code, selectedHistoryPoint[0] * 1000, true, true) : isLoading && tokenLastUpdatedAt ? (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_6__.formatShortDay)(lang.code, tokenLastUpdatedAt, true, false) : lang('Now');
  (0,_hooks_useTimeout__WEBPACK_IMPORTED_MODULE_20__["default"])(forceUpdate, isLoading ? undefined : OFFLINE_TIMEOUT, [tokenLastUpdatedAt]);
  const initialPrice = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _history$find;
    return history === null || history === void 0 || (_history$find = history.find(_ref4 => {
      let [, value] = _ref4;
      return Boolean(value);
    })) === null || _history$find === void 0 ? void 0 : _history$find[1];
  }, [history]);
  const change = initialPrice && price ? price - initialPrice : 0;
  const value = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_7__.toBig)(amount, decimals).mul(price).toString();
  const changePrefix = change === undefined ? change : change > 0 ? '↑' : change < 0 ? '↓' : 0;
  const changeValue = change ? Math.abs((0,_util_round__WEBPACK_IMPORTED_MODULE_9__.round)(change, 4)) : 0;
  const changePercent = change ? Math.abs((0,_util_round__WEBPACK_IMPORTED_MODULE_9__.round)(change / initialPrice * 100, 2)) : 0;
  const withChange = Boolean(change !== undefined);
  const historyStartDay = history !== null && history !== void 0 && history.length ? new Date(history[0][0] * 1000) : undefined;
  const withTonExplorerButton = Boolean(token.cmcSlug || minterAddress);
  const shouldHideChartPeriodSwitcher = !(history !== null && history !== void 0 && history.length) && token.priceUsd === 0;
  const color = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_helpers_cardColors__WEBPACK_IMPORTED_MODULE_13__.calculateTokenCardColor)(token), [token]);
  function renderTonExplorerLink() {
    const url = (0,_util_url__WEBPACK_IMPORTED_MODULE_10__.getTonExplorerTokenUrl)(token.cmcSlug, minterAddress, isTestnet);
    if (!url) return undefined;
    const title = lang('Open on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_2__.TOKEN_EXPLORER_NAME
    }).join('');
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, ' · ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: url,
      title: title,
      target: "_blank",
      rel: "noreferrer",
      className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenTonExplorerButton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-tonexplorer-small",
      "aria-hidden": true
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].container, _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenCard, classNames, color, 'token-card')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenInfo
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_22__["default"], {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].backButton,
    isSimple: true,
    onClick: onClose,
    ariaLabel: lang('Back')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-chevron-left",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenLogo,
    src: logoPath,
    alt: token.name
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenAmount
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_7__.toDecimal)(amount, token.decimals), symbol)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenName
  }, name, token.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].apy,
    onClick: onApyClick
  }, "APY ", apyValue, "%")))), withChange && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenPrice
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].currencySwitcher,
    role: "button",
    tabIndex: 0,
    onClick: openCurrencyMenu
  }, "\u2248\u2009", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(value, currencySymbol, undefined, true), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon', 'icon-caret-down', _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].iconCaretSmall),
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_CurrencySwitcher__WEBPACK_IMPORTED_MODULE_26__["default"], {
    isOpen: isCurrencyMenuOpen,
    menuPositionHorizontal: "right",
    excludedCurrency: token.symbol,
    onClose: closeCurrencyMenu,
    onChange: handleCurrencyChange
  }), Boolean(changeValue) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenChange
  }, changePrefix, "\u2009", Math.abs(changePercent), "% \xB7 ", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(Math.abs(changeValue), currencySymbol))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_24__["default"], {
    activeKey: !history ? 0 : history.length ? _config__WEBPACK_IMPORTED_MODULE_2__.HISTORY_PERIODS.indexOf(period) + 1 : -1,
    name: "fade"
  }, !history ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].isLoading)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_23__["default"], {
    color: "white",
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].center
  })) : history !== null && history !== void 0 && history.length ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TokenPriceChart__WEBPACK_IMPORTED_MODULE_21__["default"], {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].chart,
    imgClassName: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].chartImg,
    width: CHART_DIMENSIONS.width,
    height: CHART_DIMENSIONS.height,
    prices: history,
    selectedIndex: selectedHistoryIndex,
    onSelectIndex: setSelectedHistoryIndex,
    isUpdating: isUpdating
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenHistoryPrice
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(history[0][1], currencySymbol, undefined, true), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenPriceDate
  }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_6__.formatShortDay)(lang.code, historyStartDay)))) : undefined), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].periodChooser, shouldHideChartPeriodSwitcher && _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].periodChooserHidden),
    role: "button",
    tabIndex: 0,
    onClick: openHistoryMenu
  }, period === 'ALL' ? 'All' : period, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon', 'icon-caret-down', _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].iconCaretSmall),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ChartHistorySwitcher__WEBPACK_IMPORTED_MODULE_25__["default"], {
    isOpen: isHistoryMenuOpen,
    onChange: refreshHistory,
    onClose: closeHistoryMenu
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenCurrentPrice
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(price, currencySymbol, selectedHistoryIndex === -1 ? 2 : 4, true), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Card_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenPriceDate
  }, dateStr, withTonExplorerButton && renderTonExplorerLink())));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)((global, ownProps) => {
  var _global$tokenInfo$byS, _accountState$staking;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  const minterAddress = (_global$tokenInfo$byS = global.tokenInfo.bySlug[ownProps.token.slug]) === null || _global$tokenInfo$byS === void 0 ? void 0 : _global$tokenInfo$byS.minterAddress;
  return {
    isTestnet: global.settings.isTestnet,
    period: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenPeriod,
    apyValue: (accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.apy) || 0,
    baseCurrency: global.settings.baseCurrency,
    historyPeriods: global.tokenPriceHistory.bySlug[ownProps.token.slug],
    minterAddress
  };
})(TokenCard)));

/***/ }),

/***/ "./src/components/main/sections/Card/helpers/calculateFullBalance.ts":
/*!***************************************************************************!*\
  !*** ./src/components/main/sections/Card/helpers/calculateFullBalance.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calculateFullBalance: () => (/* binding */ calculateFullBalance)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _util_calcChangeValue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../util/calcChangeValue */ "./src/util/calcChangeValue.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../util/math */ "./src/util/math.ts");
/* harmony import */ var _Card_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Card.module.scss */ "./src/components/main/sections/Card/Card.module.scss");







function calculateFullBalance(tokens) {
  let stakingBalance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0n;
  const primaryValue = tokens.reduce((acc, token) => {
    if (token.slug === _config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG) {
      const stakingAmount = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_3__.toBig)(stakingBalance, token.decimals).mul(token.price);
      acc = acc.plus(stakingAmount);
    }
    return acc.plus(token.totalValue);
  }, (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(0));
  const [primaryWholePart, primaryFractionPart] = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatInteger)(primaryValue).split('.');
  const changeValue = tokens.reduce((acc, token) => {
    return acc.plus((0,_util_calcChangeValue__WEBPACK_IMPORTED_MODULE_2__.calcBigChangeValue)(token.totalValue, token.change24h));
  }, (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(0)).round(4).toNumber();
  const changePercent = (0,_util_math__WEBPACK_IMPORTED_MODULE_5__.round)(primaryValue ? changeValue / (primaryValue.toNumber() - changeValue) * 100 : 0, 2);
  const changeClassName = changePercent > 0 ? _Card_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].changeCourseUp : changePercent < 0 ? _Card_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].changeCourseDown : undefined;
  const changePrefix = changeValue > 0 ? '↑' : changeValue < 0 ? '↓' : undefined;
  return {
    primaryValue: primaryValue.toString(),
    primaryWholePart,
    primaryFractionPart,
    changeClassName,
    changePrefix,
    changePercent,
    changeValue
  };
}

/***/ }),

/***/ "./src/components/main/sections/Card/index.ts":
/*!****************************************************!*\
  !*** ./src/components/main/sections/Card/index.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Card__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Card__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Card */ "./src/components/main/sections/Card/Card.tsx");
// eslint-disable-next-line no-restricted-exports


/***/ }),

/***/ "./src/components/main/sections/Content/Activities.tsx":
/*!*************************************************************!*\
  !*** ./src/components/main/sections/Content/Activities.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../global/helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_compareActivities__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/compareActivities */ "./src/util/compareActivities.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../hooks/useInfiniteScroll */ "./src/hooks/useInfiniteScroll.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../hooks/useThrottledCallback */ "./src/hooks/useThrottledCallback.ts");
/* harmony import */ var _hooks_useUpdateIndicator__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../hooks/useUpdateIndicator */ "./src/hooks/useUpdateIndicator.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_InfiniteScroll__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../ui/InfiniteScroll */ "./src/components/ui/InfiniteScroll.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_LoadingDots__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../ui/LoadingDots */ "./src/components/ui/LoadingDots.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _NewWalletGreeting__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./NewWalletGreeting */ "./src/components/main/sections/Content/NewWalletGreeting.tsx");
/* harmony import */ var _Swap__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Swap */ "./src/components/main/sections/Content/Swap.tsx");
/* harmony import */ var _Transaction__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Transaction */ "./src/components/main/sections/Content/Transaction.tsx");
/* harmony import */ var _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Activities.module.scss */ "./src/components/main/sections/Content/Activities.module.scss");




























const FURTHER_SLICE = 30;
const THROTTLE_TIME = 1000;
const DATE_HEADER_HEIGHT = 2.5 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.REM;
const TRANSACTION_COMMENT_HEIGHT = 2.1875 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.REM;
const TRANSACTION_NFT_HEIGHT = 4 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.REM;
const TRANSACTION_HEIGHT = 4 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.REM;
const TIME_BETWEEN_SWAP_AND_TX = 3600000; // 1 hour

function Activities(_ref) {
  let {
    isActive,
    currentAccountId,
    isNewWallet,
    slug,
    idsBySlug,
    byId,
    tokensBySlug,
    swapTokensBySlug,
    areTinyTransfersHidden,
    currentActivityId,
    apyValue,
    savedAddresses,
    isMainHistoryEndReached,
    isHistoryEndReachedBySlug,
    exceptionSlugs,
    activitiesUpdateStartedAt = 0
  } = _ref;
  const {
    fetchTokenTransactions,
    fetchAllTransactions,
    showActivityInfo
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const {
    isLandscape
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__.useDeviceScreen)();

  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const isUpdating = (0,_hooks_useUpdateIndicator__WEBPACK_IMPORTED_MODULE_18__["default"])(activitiesUpdateStartedAt);
  const ids = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    let idList;
    const bySlug = idsBySlug !== null && idsBySlug !== void 0 ? idsBySlug : {};
    if (byId) {
      if (slug) {
        var _bySlug$slug;
        idList = (_bySlug$slug = bySlug[slug]) !== null && _bySlug$slug !== void 0 ? _bySlug$slug : [];
        const lastTokenTxId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.findLast)(idList, id => !(0,_global_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsTxIdLocal)(id) && !(0,_global_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsSwapId)(id));
        if (lastTokenTxId) {
          const lastTokenTxTimestamp = byId[lastTokenTxId].timestamp - TIME_BETWEEN_SWAP_AND_TX;
          idList = idList.filter(txId => byId[txId].timestamp >= lastTokenTxTimestamp);
        }
      } else {
        var _bySlug$TONCOIN_SLUG;
        const lastTonTxId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.findLast)((_bySlug$TONCOIN_SLUG = bySlug[_config__WEBPACK_IMPORTED_MODULE_4__.TONCOIN_SLUG]) !== null && _bySlug$TONCOIN_SLUG !== void 0 ? _bySlug$TONCOIN_SLUG : [], id => !(0,_global_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsTxIdLocal)(id) && !(0,_global_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsSwapId)(id));
        idList = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.unique)(Object.values(bySlug).flat());
        if (lastTonTxId) {
          idList = idList.filter(txId => byId[txId].timestamp >= byId[lastTonTxId].timestamp);
        }
        idList.sort((a, b) => (0,_util_compareActivities__WEBPACK_IMPORTED_MODULE_8__.compareActivities)(byId[a], byId[b]));
      }
    }
    if (!idList) {
      return undefined;
    }
    return idList;
  }, [byId, slug, idsBySlug]);
  const activityList = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!ids) {
      return undefined;
    }
    const allActivities = ids.map(id => byId === null || byId === void 0 ? void 0 : byId[id]).filter(activity => {
      if (activity !== null && activity !== void 0 && activity.shouldHide) {
        return false;
      }
      if ((activity === null || activity === void 0 ? void 0 : activity.kind) === 'swap') {
        return Boolean(!slug || activity.from === slug || activity.to === slug);
      } else {
        return Boolean((activity === null || activity === void 0 ? void 0 : activity.slug) && (!slug || activity.slug === slug) && (!areTinyTransfersHidden || !(0,_global_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsTinyOrScamTransaction)(activity, tokensBySlug[activity.slug]) || (exceptionSlugs === null || exceptionSlugs === void 0 ? void 0 : exceptionSlugs.includes(activity.slug))));
      }
    });
    if (!allActivities.length) {
      return [];
    }
    return allActivities;
  }, [areTinyTransfersHidden, byId, exceptionSlugs, ids, slug, tokensBySlug]);
  const {
    activityIds,
    activitiesById
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const activityIdList = [];
    const activityMap = {};
    activityList === null || activityList === void 0 ? void 0 : activityList.forEach(activity => {
      activityIdList.push(activity.id);
      activityMap[activity.id] = activity;
    });
    return {
      activityIds: activityIdList,
      activitiesById: activityMap
    };
  }, [activityList]);
  const isHistoryEndReached = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (slug) {
      return !!(isHistoryEndReachedBySlug !== null && isHistoryEndReachedBySlug !== void 0 && isHistoryEndReachedBySlug[slug]);
    }
    return !!isMainHistoryEndReached;
  }, [isHistoryEndReachedBySlug, isMainHistoryEndReached, slug]);
  const loadMore = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    if (slug) {
      fetchTokenTransactions({
        slug,
        limit: FURTHER_SLICE * 2,
        shouldLoadWithBudget: true
      });
    } else {
      fetchAllTransactions({
        limit: FURTHER_SLICE * 2,
        shouldLoadWithBudget: true
      });
    }
  });
  const throttledLoadMore = (0,_hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(loadMore, [loadMore], THROTTLE_TIME, true);
  const [viewportIds, getMore, resetScroll] = (0,_hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_14__["default"])(throttledLoadMore, activityIds, undefined, FURTHER_SLICE, slug, isActive);
  const isActivitiesEmpty = !activityList || !activityList.length;
  const activityOffsetInfoById = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const offsetMap = {};
    let dateCount = 0;
    let nftCount = 0;
    let commentCount = 0;
    let lastActivityDayStart = 0;
    activityIds.forEach((id, index) => {
      var _activity$metadata;
      const activity = activitiesById[id];
      if (!activity) return;
      offsetMap[id] = {
        offset: 0,
        offsetNext: 0,
        dateCount: 0,
        commentCount: 0,
        nftCount: 0,
        date: lastActivityDayStart
      };
      const offsetTop = calculateOffset(index, dateCount, commentCount, nftCount);
      const activityDayStart = (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.getDayStartAt)(activity.timestamp);
      const isNewDay = lastActivityDayStart !== activityDayStart;
      const isNftTransfer = activity.kind === 'transaction' && (activity.type === 'nftTransferred' || activity.type === 'nftReceived' || Boolean(activity.nft));
      const canCountComment = activity.kind === 'transaction' && (!activity.type || isNftTransfer);
      if (isNewDay) {
        lastActivityDayStart = activityDayStart;
        dateCount += 1;
      }
      if (canCountComment && (activity.comment || activity.encryptedComment) && !((_activity$metadata = activity.metadata) !== null && _activity$metadata !== void 0 && _activity$metadata.isScam)) {
        commentCount += 1;
      }
      if (isNftTransfer && activity.nft) {
        nftCount += 1;
      }
      offsetMap[id] = {
        ...offsetMap[id],
        offset: offsetTop,
        offsetNext: calculateOffset(index + 1, dateCount, commentCount, nftCount),
        dateCount,
        commentCount,
        nftCount
      };
    });
    return offsetMap;
  }, [activitiesById, activityIds]);
  const currentContainerHeight = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _activityOffsetInfoBy;
    const lastViewportId = viewportIds[viewportIds.length - 1];
    return ((_activityOffsetInfoBy = activityOffsetInfoById[lastViewportId]) === null || _activityOffsetInfoBy === void 0 ? void 0 : _activityOffsetInfoBy.offsetNext) || 0;
  }, [activityOffsetInfoById, viewportIds]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const container = containerRef.current;
    if (!container) return;
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(container, {
      height: isLandscape ? '' : `${currentContainerHeight}px`
    });
  }, [isLandscape, currentContainerHeight]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isHistoryEndReached && ids && isActivitiesEmpty) {
      throttledLoadMore();
    }
  }, [ids, isActivitiesEmpty, isHistoryEndReached, throttledLoadMore]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive && !isLandscape) {
      resetScroll === null || resetScroll === void 0 ? void 0 : resetScroll();
    }
  }, [isActive, isLandscape, resetScroll]);
  const handleActivityClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(id => {
    showActivityInfo({
      id
    });
  });
  if (!currentAccountId) {
    return undefined;
  }
  function renderActivity(activity, isLast, isActivityActive) {
    const isSwap = activity.kind === 'swap';
    if (isSwap) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Swap__WEBPACK_IMPORTED_MODULE_25__["default"], {
        key: activity.id,
        activity: activity,
        tokensBySlug: swapTokensBySlug,
        isLast: isLast,
        isActive: isActivityActive,
        onClick: handleActivityClick
      });
    } else {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Transaction__WEBPACK_IMPORTED_MODULE_26__["default"], {
        key: activity.id,
        transaction: activity,
        tokensBySlug: tokensBySlug,
        isActive: isActivityActive,
        apyValue: apyValue,
        isLast: isLast,
        savedAddresses: savedAddresses,
        onClick: handleActivityClick
      });
    }
  }
  function renderDate(dateValue, isFirst) {
    const formattedDate = (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.formatHumanDay)(lang, dateValue);
    const date = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].date
    }, formattedDate);
    if (!isFirst) {
      return date;
    }
    const dateWithLoader = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].date, _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].date_withLoadingDots)
    }, formattedDate, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_LoadingDots__WEBPACK_IMPORTED_MODULE_22__["default"], {
      isActive: true,
      isDoubled: true,
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].loadingDots
    }));
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_23__["default"], {
      name: "semiFade",
      activeKey: isUpdating ? 1 : 0,
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].dateContainer,
      slideClassName: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].dateSlide
    }, isUpdating ? dateWithLoader : date);
  }
  function renderHistory() {
    return viewportIds.map((id, index) => {
      const activityInfo = activityOffsetInfoById[id];
      const nextActivityId = viewportIds[index + 1];
      const activity = activitiesById[id];
      const nextActivity = activitiesById[nextActivityId];
      if (!activity) return undefined;
      const activityDayStart = (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.getDayStartAt)(activity.timestamp);
      const isNewDay = activityInfo.date !== activityDayStart;
      const nextActivityDayStart = nextActivity ? (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_9__.getDayStartAt)(nextActivity.timestamp) : 0;
      const isFirst = index === 0;
      const isLast = activityDayStart !== nextActivityDayStart;
      const isActivityActive = activity.id === currentActivityId;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        key: id,
        style: `top: ${activityInfo.offset}px`,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])('ListItem', _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].listItem)
      }, isNewDay && renderDate(activityDayStart, isFirst), renderActivity(activity, isLast, isActivityActive));
    });
  }
  if (isNewWallet && isActivitiesEmpty) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(isLandscape && _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].greeting)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NewWalletGreeting__WEBPACK_IMPORTED_MODULE_24__["default"], {
      isActive: isActive,
      mode: isLandscape ? 'emptyList' : 'panel'
    }));
  }
  if (isHistoryEndReached && isActivitiesEmpty) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].emptyList
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_19__["default"], {
      play: isActive,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__.ANIMATED_STICKERS_PATHS.noData,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_12__.ANIMATED_STICKERS_PATHS.noDataPreview,
      size: _config__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKER_BIG_SIZE_PX,
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].sticker,
      noLoop: false,
      nonInteractive: true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].emptyListTitle
    }, lang('No Activity')));
  }
  if (!ids || isActivitiesEmpty) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].emptyList, _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].emptyListLoading)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_21__["default"], null));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InfiniteScroll__WEBPACK_IMPORTED_MODULE_20__["default"], {
    ref: containerRef,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])('custom-scroll', _Activities_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].listGroup),
    scrollContainerClosest: !isLandscape && isActive ? '.app-slide-content' : undefined,
    items: viewportIds,
    preloadBackwards: FURTHER_SLICE,
    withAbsolutePositioning: true,
    maxHeight: currentContainerHeight,
    onLoadMore: getMore
  }, renderHistory());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  var _accountState$activit, _global$tokenInfo, _global$swapTokenInfo, _accountState$staking;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global);
  const accountSettings = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectAccountSettings)(global, global.currentAccountId);
  const isNewWallet = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectIsNewWallet)(global);
  const slug = accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenSlug;
  const {
    idsBySlug,
    byId,
    isMainHistoryEndReached,
    isHistoryEndReachedBySlug
  } = (_accountState$activit = accountState === null || accountState === void 0 ? void 0 : accountState.activities) !== null && _accountState$activit !== void 0 ? _accountState$activit : {};
  return {
    currentAccountId: global.currentAccountId,
    slug,
    byId,
    isNewWallet,
    idsBySlug,
    tokensBySlug: (_global$tokenInfo = global.tokenInfo) === null || _global$tokenInfo === void 0 ? void 0 : _global$tokenInfo.bySlug,
    swapTokensBySlug: (_global$swapTokenInfo = global.swapTokenInfo) === null || _global$swapTokenInfo === void 0 ? void 0 : _global$swapTokenInfo.bySlug,
    areTinyTransfersHidden: global.settings.areTinyTransfersHidden,
    apyValue: (accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.apy) || 0,
    savedAddresses: accountState === null || accountState === void 0 ? void 0 : accountState.savedAddresses,
    isMainHistoryEndReached,
    isHistoryEndReachedBySlug,
    currentActivityId: accountState === null || accountState === void 0 ? void 0 : accountState.currentActivityId,
    exceptionSlugs: accountSettings === null || accountSettings === void 0 ? void 0 : accountSettings.exceptionSlugs,
    activitiesUpdateStartedAt: global.activitiesUpdateStartedAt
  };
}, (global, _, stickToFirst) => {
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountTokens)(global);
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global);
  const tokensCount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectEnabledTokensCountMemoized)(tokens);
  const shouldShowSeparateAssetsPanel = tokensCount > 0 && tokensCount < _config__WEBPACK_IMPORTED_MODULE_4__.MIN_ASSETS_TAB_VIEW;
  return stickToFirst(((accountState === null || accountState === void 0 ? void 0 : accountState.activeContentTab) === _global_types__WEBPACK_IMPORTED_MODULE_3__.ContentTab.Activity || (accountState === null || accountState === void 0 ? void 0 : accountState.activeContentTab) === _global_types__WEBPACK_IMPORTED_MODULE_3__.ContentTab.Assets && shouldShowSeparateAssetsPanel) && global.currentAccountId);
})(Activities)));
function calculateOffset(index, dateCount, commentCount, nftCount) {
  const commentOffset = commentCount * TRANSACTION_COMMENT_HEIGHT;
  const dateOffset = dateCount * DATE_HEADER_HEIGHT;
  const nftOffset = nftCount * TRANSACTION_NFT_HEIGHT;
  return index * TRANSACTION_HEIGHT + dateOffset + commentOffset + nftOffset;
}

/***/ }),

/***/ "./src/components/main/sections/Content/Assets.tsx":
/*!*********************************************************!*\
  !*** ./src/components/main/sections/Content/Assets.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useInfiniteScroll */ "./src/hooks/useInfiniteScroll.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useVesting__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useVesting */ "./src/hooks/useVesting.ts");
/* harmony import */ var _ui_InfiniteScroll__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../ui/InfiniteScroll */ "./src/components/ui/InfiniteScroll.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _NewWalletGreeting__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./NewWalletGreeting */ "./src/components/main/sections/Content/NewWalletGreeting.tsx");
/* harmony import */ var _Token__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Token */ "./src/components/main/sections/Content/Token.tsx");
/* harmony import */ var _Assets_module_scss__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Assets.module.scss */ "./src/components/main/sections/Content/Assets.module.scss");



















const LIST_SLICE = 30;
const TOKEN_HEIGHT_REM = 4;
function Assets(_ref) {
  let {
    isActive,
    tokens,
    isNewWallet,
    vesting,
    stakingStatus,
    stakingBalance,
    isInvestorViewEnabled,
    isSeparatePanel,
    apyValue,
    currentTokenSlug,
    onTokenClick,
    onStakedTokenClick,
    baseCurrency,
    mycoin
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const renderedTokens = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_9__["default"])(tokens, true);
  const renderedMycoin = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_9__["default"])(mycoin, true);
  const toncoin = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => renderedTokens === null || renderedTokens === void 0 ? void 0 : renderedTokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  }), [renderedTokens]);
  const userMycoin = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!renderedTokens || !renderedMycoin) return undefined;
    return renderedTokens.find(_ref3 => {
      let {
        slug
      } = _ref3;
      return slug === renderedMycoin.slug;
    });
  }, [renderedMycoin, renderedTokens]);
  const {
    isLandscape,
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__.useDeviceScreen)();
  const shouldShowGreeting = isNewWallet && isPortrait && !isSeparatePanel;
  const {
    shouldRender: shouldRenderStakedToken,
    transitionClassNames: stakedTokenClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__["default"])(Boolean(stakingStatus && toncoin));
  const {
    shouldRender: shouldRenderVestingToken,
    transitionClassNames: vestingTokenClassNames,
    amount: vestingAmount,
    vestingStatus,
    unfreezeEndDate,
    onVestingTokenClick
  } = (0,_hooks_useVesting__WEBPACK_IMPORTED_MODULE_13__["default"])({
    vesting,
    userMycoin
  });
  const tokenSlugs = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => renderedTokens === null || renderedTokens === void 0 ? void 0 : renderedTokens.filter(_ref4 => {
    let {
      isDisabled
    } = _ref4;
    return !isDisabled;
  }).map(_ref5 => {
    let {
      slug
    } = _ref5;
    return slug;
  }), [renderedTokens]);
  const [viewportSlugs, getMore] = (0,_hooks_useInfiniteScroll__WEBPACK_IMPORTED_MODULE_11__["default"])(undefined, tokenSlugs, undefined, undefined, undefined, isActive, isPortrait);
  const viewportIndex = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!viewportSlugs) return -1;
    let index = tokenSlugs.indexOf(viewportSlugs[0]);
    if (shouldRenderStakedToken) {
      index++;
    }
    if (shouldRenderVestingToken) {
      index++;
    }
    return index;
  }, [shouldRenderStakedToken, shouldRenderVestingToken, tokenSlugs, viewportSlugs]);
  const tokensBySlug = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => renderedTokens ? (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.buildCollectionByKey)(renderedTokens, 'slug') : undefined, [renderedTokens]);
  const withAbsolutePositioning = tokenSlugs && tokenSlugs.length > LIST_SLICE;
  const currentContainerHeight = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!withAbsolutePositioning || !(viewportSlugs !== null && viewportSlugs !== void 0 && viewportSlugs.length) || viewportIndex < 0) return undefined;
    return (viewportIndex + viewportSlugs.length) * TOKEN_HEIGHT_REM * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.REM;
  }, [viewportIndex, viewportSlugs === null || viewportSlugs === void 0 ? void 0 : viewportSlugs.length, withAbsolutePositioning]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const container = containerRef.current;
    if (!container) return;
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(container, {
      height: currentContainerHeight && !isLandscape ? `${currentContainerHeight}px` : ''
    });
  }, [isLandscape, currentContainerHeight]);
  function renderVestingToken() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Token__WEBPACK_IMPORTED_MODULE_17__["default"], {
      key: "vesting",
      token: userMycoin,
      vestingStatus: vestingStatus,
      unfreezeEndDate: unfreezeEndDate,
      amount: vestingAmount,
      isInvestorView: isInvestorViewEnabled,
      classNames: vestingTokenClassNames,
      onClick: onVestingTokenClick,
      baseCurrency: baseCurrency
    });
  }
  function renderStakedToken() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Token__WEBPACK_IMPORTED_MODULE_17__["default"], {
      key: "staking",
      token: toncoin,
      stakingStatus: stakingStatus,
      apyValue: apyValue,
      amount: stakingBalance === undefined ? undefined : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(stakingBalance),
      isInvestorView: isInvestorViewEnabled,
      classNames: stakedTokenClassNames,
      onClick: onStakedTokenClick,
      baseCurrency: baseCurrency
    });
  }
  function renderToken(token, indexInViewport) {
    const style = withAbsolutePositioning ? `position: absolute; top: ${(viewportIndex + indexInViewport) * TOKEN_HEIGHT_REM}rem` : undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Token__WEBPACK_IMPORTED_MODULE_17__["default"], {
      classNames: "token-list-item",
      style: style,
      key: token.slug,
      token: token,
      apyValue: !stakingBalance && token.slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG ? apyValue : undefined,
      isInvestorView: isInvestorViewEnabled,
      isActive: token.slug === currentTokenSlug,
      baseCurrency: baseCurrency,
      onClick: onTokenClick
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InfiniteScroll__WEBPACK_IMPORTED_MODULE_14__["default"], {
    ref: containerRef,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Assets_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].wrapper, isSeparatePanel && !renderedTokens && _Assets_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].wrapperLoading),
    scrollContainerClosest: !isLandscape && isActive ? '.app-slide-content' : undefined,
    items: viewportSlugs,
    itemSelector: ".token-list-item",
    withAbsolutePositioning: withAbsolutePositioning,
    maxHeight: currentContainerHeight,
    onLoadMore: getMore
  }, !renderedTokens && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    key: "loading",
    className: isSeparatePanel ? _Assets_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].emptyListSeparate : _Assets_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].emptyList
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_15__["default"], null)), shouldShowGreeting && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NewWalletGreeting__WEBPACK_IMPORTED_MODULE_16__["default"], {
    key: "new-wallet-greeting",
    isActive: isActive,
    mode: "panel"
  }), shouldRenderVestingToken && renderVestingToken(), shouldRenderStakedToken && renderStakedToken(), viewportSlugs === null || viewportSlugs === void 0 ? void 0 : viewportSlugs.map((tokenSlug, i) => renderToken(tokensBySlug[tokenSlug], i)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  var _accountState$vesting, _accountState$staking, _accountState$staking2;
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global);
  const isNewWallet = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectIsNewWallet)(global);
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  const {
    isInvestorViewEnabled
  } = global.settings;
  const stakingStatus = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountStakingStatus)(global);
  return {
    tokens,
    isNewWallet,
    stakingStatus,
    vesting: accountState === null || accountState === void 0 || (_accountState$vesting = accountState.vesting) === null || _accountState$vesting === void 0 ? void 0 : _accountState$vesting.info,
    stakingBalance: accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.balance,
    isInvestorViewEnabled,
    apyValue: (accountState === null || accountState === void 0 || (_accountState$staking2 = accountState.staking) === null || _accountState$staking2 === void 0 ? void 0 : _accountState$staking2.apy) || 0,
    currentTokenSlug: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenSlug,
    baseCurrency: global.settings.baseCurrency,
    mycoin: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectMycoin)(global)
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(Assets)));

/***/ }),

/***/ "./src/components/main/sections/Content/Content.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/sections/Content/Content.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/captureEvents */ "./src/util/captureEvents.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_TabList__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../ui/TabList */ "./src/components/ui/TabList.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _modals_HideNftModal__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../modals/HideNftModal */ "./src/components/main/modals/HideNftModal.tsx");
/* harmony import */ var _Activities__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Activities */ "./src/components/main/sections/Content/Activities.tsx");
/* harmony import */ var _Assets__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Assets */ "./src/components/main/sections/Content/Assets.tsx");
/* harmony import */ var _Explore__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Explore */ "./src/components/main/sections/Content/Explore.tsx");
/* harmony import */ var _NftCollectionHeader__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./NftCollectionHeader */ "./src/components/main/sections/Content/NftCollectionHeader.tsx");
/* harmony import */ var _Nfts__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Nfts */ "./src/components/main/sections/Content/Nfts.tsx");
/* harmony import */ var _NftSelectionHeader__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./NftSelectionHeader */ "./src/components/main/sections/Content/NftSelectionHeader.tsx");
/* harmony import */ var _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Content.module.scss */ "./src/components/main/sections/Content/Content.module.scss");
























let activeNftKey = 0;
function Content(_ref) {
  let {
    activeContentTab,
    tokensCount,
    nfts,
    currentCollectionAddress,
    selectedAddresses,
    onStakedTokenClick,
    currentTokenSlug,
    blacklistedNftAddresses,
    whitelistedNftAddresses,
    selectedNftsToHide
  } = _ref;
  const {
    selectToken,
    setActiveContentTab,
    setDefaultSwapParams,
    changeTransferToken,
    openNftCollection,
    closeNftCollection,
    openSettingsWithState
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_8__.useDeviceScreen)();
  const hasNftSelection = Boolean(selectedAddresses === null || selectedAddresses === void 0 ? void 0 : selectedAddresses.length);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    if (currentCollectionAddress) {
      activeNftKey += 1;
    } else {
      activeNftKey = 0;
    }
  }, [currentCollectionAddress]);
  const handleNftCollectionClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(address => {
    openNftCollection({
      address
    }, {
      forceOnHeavyAnimation: true
    });
  });
  const handleNftsMenuButtonClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(value => {
    if (value === 'hidden_nfts') {
      openSettingsWithState({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SettingsState.HiddenNfts
      });
    } else {
      handleNftCollectionClick(value);
    }
  });
  const nftCollections = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);
    const whitelistedNftAddressesSet = new Set(whitelistedNftAddresses);
    const collections = Object.values(nfts !== null && nfts !== void 0 ? nfts : {}).filter(nft => (!nft.isHidden || whitelistedNftAddressesSet.has(nft.address)) && !blacklistedNftAddressesSet.has(nft.address)).reduce((acc, nft) => {
      if (nft.collectionAddress) {
        acc[nft.collectionAddress] = nft.collectionName || lang('Unnamed collection');
      }
      return acc;
    }, {});
    const collentionAddresses = Object.keys(collections);
    collentionAddresses.sort((left, right) => collections[left].localeCompare(collections[right]));
    return collentionAddresses.map(key => {
      return {
        id: key,
        name: collections[key],
        value: key
      };
    });
  }, [lang, nfts, blacklistedNftAddresses, whitelistedNftAddresses]);
  const shouldRenderHiddenNftsSection = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const blacklistedAddressesSet = new Set(blacklistedNftAddresses);
    return Object.values(nfts !== null && nfts !== void 0 ? nfts : {}).some(nft => blacklistedAddressesSet.has(nft.address) || nft.isHidden);
  }, [blacklistedNftAddresses, nfts]);

  // eslint-disable-next-line no-null/no-null
  const transitionRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const shouldShowSeparateAssetsPanel = tokensCount > 0 && tokensCount < _config__WEBPACK_IMPORTED_MODULE_3__.MIN_ASSETS_TAB_VIEW;
  const tabs = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => [...(!shouldShowSeparateAssetsPanel ? [{
    id: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets,
    title: lang('Assets'),
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tab
  }] : []), {
    id: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Activity,
    title: lang('Activity'),
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tab
  }, {
    id: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Explore,
    title: lang('Explore'),
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tab
  }, {
    id: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Nft,
    title: lang('NFT'),
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tab,
    menuItems: shouldRenderHiddenNftsSection ? [...nftCollections, {
      name: lang('Hidden NFTs'),
      value: 'hidden_nfts',
      withSeparator: true
    }] : nftCollections,
    onMenuItemClick: handleNftsMenuButtonClick
  }, ...(nftCollections.some(_ref2 => {
    let {
      value
    } = _ref2;
    return value === _config__WEBPACK_IMPORTED_MODULE_3__.NOTCOIN_VOUCHERS_ADDRESS;
  }) ? [{
    id: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.NotcoinVouchers,
    title: 'NOT Vouchers',
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tab
  }] : [])], [lang, nftCollections, shouldShowSeparateAssetsPanel, shouldRenderHiddenNftsSection]);
  const activeTabIndex = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const tabIndex = tabs.findIndex(tab => tab.id === activeContentTab);
    if (tabIndex === -1) {
      return _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets;
    }
    return tabIndex;
  }, [tabs, activeContentTab]);
  (0,_hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    if (activeContentTab === undefined) {
      setActiveContentTab({
        tab: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets
      });
    }
  });
  const handleSwitchTab = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(tab => {
    if (tab === _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.NotcoinVouchers) {
      selectToken({
        slug: undefined
      }, {
        forceOnHeavyAnimation: true
      });
      setActiveContentTab({
        tab: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Nft
      }, {
        forceOnHeavyAnimation: true
      });
      handleNftCollectionClick(_config__WEBPACK_IMPORTED_MODULE_3__.NOTCOIN_VOUCHERS_ADDRESS);
      return;
    }
    selectToken({
      slug: undefined
    }, {
      forceOnHeavyAnimation: true
    });
    setActiveContentTab({
      tab
    }, {
      forceOnHeavyAnimation: true
    });
  });
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__["default"])({
    isActive: activeTabIndex !== 0,
    onBack: () => handleSwitchTab(_global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets)
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_TOUCH_ENV) {
      return undefined;
    }
    return (0,_util_captureEvents__WEBPACK_IMPORTED_MODULE_6__.captureEvents)(transitionRef.current, {
      includedClosestSelector: '.swipe-container',
      onSwipe: (e, direction) => {
        if (direction === _util_captureEvents__WEBPACK_IMPORTED_MODULE_6__.SwipeDirection.Left) {
          const tab = tabs[Math.min(tabs.length - 1, activeTabIndex + 1)];
          handleSwitchTab(tab.id);
          return true;
        } else if (direction === _util_captureEvents__WEBPACK_IMPORTED_MODULE_6__.SwipeDirection.Right) {
          if (currentCollectionAddress) {
            closeNftCollection();
          } else {
            const tab = tabs[Math.max(0, activeTabIndex - 1)];
            handleSwitchTab(tab.id);
          }
          return true;
        }
        return false;
      }
    });
  }, [tabs, handleSwitchTab, activeTabIndex, currentCollectionAddress]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (currentTokenSlug !== undefined) return;
    setDefaultSwapParams({
      tokenInSlug: undefined,
      tokenOutSlug: undefined
    });
    changeTransferToken({
      tokenSlug: _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG
    });
  }, [currentTokenSlug]);
  const handleClickAsset = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(slug => {
    selectToken({
      slug
    });
    if (slug) {
      if (slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG) {
        setDefaultSwapParams({
          tokenInSlug: _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SWAP_SECOND_TOKEN_SLUG,
          tokenOutSlug: slug
        });
      } else {
        setDefaultSwapParams({
          tokenOutSlug: slug
        });
      }
      changeTransferToken({
        tokenSlug: slug
      });
    }
    setActiveContentTab({
      tab: _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Activity
    });
  });
  const containerClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].container, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_TOUCH_ENV && 'swipe-container', isPortrait ? _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].portraitContainer : _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].landscapeContainer);
  function renderTabsPanel() {
    if (hasNftSelection) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftSelectionHeader__WEBPACK_IMPORTED_MODULE_22__["default"], null);
    }
    return currentCollectionAddress ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftCollectionHeader__WEBPACK_IMPORTED_MODULE_20__["default"], {
      key: "collection"
    }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_TabList__WEBPACK_IMPORTED_MODULE_14__["default"], {
      tabs: tabs,
      activeTab: activeTabIndex,
      onSwitchTab: handleSwitchTab,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tabs, 'content-tabslist')
    });
  }
  function renderCurrentTab(isActive) {
    // When assets are shown separately, there is effectively no tab with index 0,
    // so we fall back to next tab to not break parent's component logic.
    if (activeTabIndex === 0 && shouldShowSeparateAssetsPanel) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Activities__WEBPACK_IMPORTED_MODULE_17__["default"], {
        isActive: isActive
      });
    }
    switch (tabs[activeTabIndex].id) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Assets:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Assets__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: isActive,
          onTokenClick: handleClickAsset,
          onStakedTokenClick: onStakedTokenClick
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Activity:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Activities__WEBPACK_IMPORTED_MODULE_17__["default"], {
          isActive: isActive
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Nft:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
          activeKey: activeNftKey,
          name: isPortrait ? 'slide' : 'slideFade',
          className: "nfts-container"
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Nfts__WEBPACK_IMPORTED_MODULE_21__["default"], {
          key: currentCollectionAddress || 'all',
          isActive: isActive
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.ContentTab.Explore:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Explore__WEBPACK_IMPORTED_MODULE_19__["default"], {
          isActive: isActive
        });
      default:
        return undefined;
    }
  }
  function renderContent() {
    const activeKey = hasNftSelection ? 2 : currentCollectionAddress ? 1 : 0;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
      activeKey: activeKey,
      name: "slideFade",
      className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tabsContainer
    }, renderTabsPanel()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
      ref: transitionRef,
      name: isPortrait ? 'slide' : 'slideFade',
      activeKey: activeTabIndex,
      renderCount: tabs.length,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].slides, 'content-transition'),
      slideClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].slide, 'custom-scroll')
    }, renderCurrentTab));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: containerClassName
  }, shouldShowSeparateAssetsPanel && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].assetsPanel
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Assets__WEBPACK_IMPORTED_MODULE_18__["default"], {
    isActive: true,
    isSeparatePanel: true,
    onStakedTokenClick: onStakedTokenClick,
    onTokenClick: handleClickAsset
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(isPortrait ? _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].contentPanel : _Content_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].landscapeContentPanel)
  }, renderContent()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_modals_HideNftModal__WEBPACK_IMPORTED_MODULE_16__["default"], {
    isOpen: Boolean(selectedNftsToHide === null || selectedNftsToHide === void 0 ? void 0 : selectedNftsToHide.addresses.length),
    selectedNftsToHide: selectedNftsToHide
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectAccountState, _selectCurrentAccount, _selectCurrentAccount2;
  const accountState = (_selectAccountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectAccountState)(global, global.currentAccountId)) !== null && _selectAccountState !== void 0 ? _selectAccountState : {};
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global);
  const tokensCount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectEnabledTokensCountMemoized)(tokens);
  const {
    byAddress: nfts,
    currentCollectionAddress,
    selectedAddresses
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  const {
    blacklistedNftAddresses,
    whitelistedNftAddresses,
    selectedNftsToHide
  } = (_selectCurrentAccount2 = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) !== null && _selectCurrentAccount2 !== void 0 ? _selectCurrentAccount2 : {};
  return {
    nfts,
    currentCollectionAddress,
    selectedAddresses,
    tokensCount,
    activeContentTab: accountState === null || accountState === void 0 ? void 0 : accountState.activeContentTab,
    currentTokenSlug: accountState === null || accountState === void 0 ? void 0 : accountState.currentTokenSlug,
    blacklistedNftAddresses,
    whitelistedNftAddresses,
    selectedNftsToHide
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(Content)));

/***/ }),

/***/ "./src/components/main/sections/Content/Explore.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/sections/Content/Explore.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _explore_Site__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../explore/Site */ "./src/components/explore/Site.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_Menu__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../ui/Menu */ "./src/components/ui/Menu.tsx");
/* harmony import */ var _ui_MenuItem__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../ui/MenuItem */ "./src/components/ui/MenuItem.tsx");
/* harmony import */ var _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Explore.module.scss */ "./src/components/main/sections/Content/Explore.module.scss");






















const SUGGESTIONS_OPEN_DELAY = 300;
const GOOGLE_SEARCH_URL = 'https://www.google.com/search?q=';
function Explore(_ref) {
  let {
    isActive,
    sites,
    shouldRestrict,
    browserHistory
  } = _ref;
  const {
    loadExploreSites,
    getDapps,
    addSiteToBrowserHistory,
    removeSiteFromBrowserHistory
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();

  // eslint-disable-next-line no-null/no-null
  const inputRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const suggestionsTimeoutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_14__["default"])();
  const {
    isLandscape
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.useDeviceScreen)();
  const [searchValue, setSearchValue] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [isSuggestionsVisible, showSuggestions, hideSuggestions] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__["default"])(false);
  const filteredBrowserHistory = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const result = browserHistory === null || browserHistory === void 0 ? void 0 : browserHistory.filter(url => url.toLowerCase().includes(searchValue.toLowerCase()));
    return result !== null && result !== void 0 && result.length ? result : undefined;
  }, [browserHistory, searchValue]);
  const renderingBrowserHistory = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_11__["default"])(filteredBrowserHistory, true);
  const openSite = (originalUrl, isExternal, title) => {
    let url = originalUrl;
    if (!url.startsWith('http:') && !url.startsWith('https:')) {
      url = `https://${url}`;
    }
    if (!(0,_util_url__WEBPACK_IMPORTED_MODULE_8__.isValidUrl)(url)) {
      url = `${GOOGLE_SEARCH_URL}${encodeURIComponent(originalUrl)}`;
    } else {
      addSiteToBrowserHistory({
        url
      });
    }
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_6__.openUrl)(url, isExternal, title, (0,_util_url__WEBPACK_IMPORTED_MODULE_8__.getHostnameFromUrl)(url));
  };
  const handleSiteClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_15__["default"])((e, url) => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    hideSuggestions();
    const site = sites === null || sites === void 0 ? void 0 : sites.find(_ref2 => {
      let {
        url: currentUrl
      } = _ref2;
      return currentUrl === url;
    });
    openSite(url, site === null || site === void 0 ? void 0 : site.isExternal, site === null || site === void 0 ? void 0 : site.name);
  });
  const handleSiteClear = (e, url) => {
    (0,_util_stopEvent__WEBPACK_IMPORTED_MODULE_7__["default"])(e);
    removeSiteFromBrowserHistory({
      url
    });
  };
  const handleChange = e => {
    setSearchValue(e.target.value);
  };
  const handleFocus = () => {
    if (!(filteredBrowserHistory !== null && filteredBrowserHistory !== void 0 && filteredBrowserHistory.length)) return;

    // Simultaneous opening of the virtual keyboard and display of Saved Addresses causes animation degradation
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_ANDROID) {
      suggestionsTimeoutRef.current = window.setTimeout(showSuggestions, SUGGESTIONS_OPEN_DELAY);
    } else {
      showSuggestions();
    }
  };
  const handleBlur = () => {
    if (!isSuggestionsVisible) return;
    hideSuggestions();
    if (suggestionsTimeoutRef.current) {
      window.clearTimeout(suggestionsTimeoutRef.current);
    }
  };
  const handleMenuClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_15__["default"])(() => {
    var _inputRef$current;
    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.blur();
  });
  const handleSubmit = e => {
    (0,_util_stopEvent__WEBPACK_IMPORTED_MODULE_7__["default"])(e);
    handleMenuClose();
    openSite(searchValue);
    setSearchValue('');
  };
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive) return;
    getDapps();
    loadExploreSites();
  }, [isActive]);
  function renderSearch() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("form", {
      action: "#",
      onSubmit: handleSubmit,
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].searchWrapper,
      autoComplete: "off"
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].searchIcon, 'icon-search'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
      ref: inputRef,
      name: "explore-search",
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].searchInput,
      placeholder: lang('Search or enter address...'),
      value: searchValue,
      autoCapitalize: "off",
      onChange: handleChange,
      onFocus: handleFocus,
      onBlur: handleBlur
    }));
  }
  function renderSearchSuggestions() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Menu__WEBPACK_IMPORTED_MODULE_19__["default"], {
      type: "suggestion",
      noBackdrop: true,
      isOpen: Boolean(isSuggestionsVisible && (filteredBrowserHistory === null || filteredBrowserHistory === void 0 ? void 0 : filteredBrowserHistory.length)),
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].suggestions,
      bubbleClassName: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].suggestionsMenu,
      onClose: handleMenuClose
    }, renderingBrowserHistory === null || renderingBrowserHistory === void 0 ? void 0 : renderingBrowserHistory.map(url => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_MenuItem__WEBPACK_IMPORTED_MODULE_20__["default"], {
      key: url,
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].suggestion,
      onClick: handleSiteClick,
      clickArg: url
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].suggestionIcon, searchValue.length ? 'icon-search' : 'icon-globe'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].suggestionAddress
    }, (0,_util_url__WEBPACK_IMPORTED_MODULE_8__.getHostnameFromUrl)(url)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].clearSuggestion,
      type: "button",
      "aria-label": lang('Clear'),
      title: lang('Clear'),
      onMouseDown: e => handleSiteClear(e, url),
      onClick: _util_stopEvent__WEBPACK_IMPORTED_MODULE_7__["default"]
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-close",
      "aria-hidden": true
    })))));
  }
  if (sites === undefined) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].emptyList, _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].emptyListLoading)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_18__["default"], null));
  }
  if (sites.length === 0) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].emptyList
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_17__["default"], {
      play: isActive,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_10__.ANIMATED_STICKERS_PATHS.happy,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_10__.ANIMATED_STICKERS_PATHS.happyPreview,
      size: _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKER_BIG_SIZE_PX,
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].sticker,
      noLoop: false,
      nonInteractive: true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].emptyListTitle
    }, lang('No partners yet')));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].wrapper
  }, renderSearch(), renderSearchSuggestions(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].list, isLandscape && _Explore_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].landscapeList)
  }, sites.filter(site => !(shouldRestrict && site.canBeRestricted)).map(site => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_explore_Site__WEBPACK_IMPORTED_MODULE_16__["default"], {
    key: site.url,
    url: site.url,
    icon: site.icon,
    title: site.name,
    description: site.description,
    isExternal: site.isExternal
  }))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    browserHistory
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global) || {};
  return {
    sites: global.exploreSites,
    shouldRestrict: global.restrictions.isLimitedRegion && (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_IOS_APP || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_ANDROID_APP),
    browserHistory
  };
})(Explore)));

/***/ }),

/***/ "./src/components/main/sections/Content/NewWalletGreeting.tsx":
/*!********************************************************************!*\
  !*** ./src/components/main/sections/Content/NewWalletGreeting.tsx ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NewWalletGreeting.module.scss */ "./src/components/main/sections/Content/NewWalletGreeting.module.scss");







function NewWalletGreeting(_ref) {
  let {
    isActive,
    mode
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].container, _NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"][mode])
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_5__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.hello,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.helloPreview,
    nonInteractive: true,
    noLoop: false,
    size: mode === 'emptyList' ? _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_BIG_SIZE_PX : _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_SMALL_SIZE_PX
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].text
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].header
  }, lang('You have just created a new wallet')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _NewWalletGreeting_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].description
  }, lang('You can now transfer your tokens from another wallet or exchange.'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(NewWalletGreeting));

/***/ }),

/***/ "./src/components/main/sections/Content/Nft.tsx":
/*!******************************************************!*\
  !*** ./src/components/main/sections/Content/Nft.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_preloadImage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/preloadImage */ "./src/util/preloadImage.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_Image__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../ui/Image */ "./src/components/ui/Image.tsx");
/* harmony import */ var _ui_Radio__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../ui/Radio */ "./src/components/ui/Radio.tsx");
/* harmony import */ var _NftMenu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NftMenu */ "./src/components/main/sections/Content/NftMenu.tsx");
/* harmony import */ var _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Nft.module.scss */ "./src/components/main/sections/Content/Nft.module.scss");














function Nft(_ref) {
  let {
    nft,
    selectedAddresses
  } = _ref;
  const {
    openMediaViewer,
    selectNfts,
    clearNftSelection
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [menuPosition, setMenuPosition] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const isSelectionEnabled = !!selectedAddresses && selectedAddresses.length > 0;
  const isSelected = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => selectedAddresses === null || selectedAddresses === void 0 ? void 0 : selectedAddresses.includes(nft.address), [selectedAddresses, nft.address]);
  const isMenuOpen = Boolean(menuPosition);
  const {
    shouldRender: shouldRenderWarning,
    transitionClassNames: warningTransitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_9__["default"])(isSelectionEnabled && nft.isOnSale);
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].item, !isSelectionEnabled && nft.isOnSale && _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].item_onSale, isMenuOpen && _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].itemWithMenu, isSelectionEnabled && nft.isOnSale && _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].nonInteractive);
  function handleClick() {
    if (isSelectionEnabled) {
      if (isSelected) {
        clearNftSelection({
          address: nft.address
        });
      } else {
        selectNfts({
          addresses: [nft.address]
        });
      }
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrate)();
    openMediaViewer({
      mediaId: nft.address,
      mediaType: _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft
    });
  }
  const handleOpenMenu = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    const {
      right: x,
      y
    } = ref.current.getBoundingClientRect();
    setMenuPosition({
      x,
      y
    });
  });
  const handleCloseMenu = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    setMenuPosition(undefined);
  });
  const handleIntersect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    (0,_util_preloadImage__WEBPACK_IMPORTED_MODULE_5__.preloadImage)(nft.image).catch(() => {});
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    key: nft.address,
    ref: ref,
    "data-nft-address": nft.address,
    onClick: !isSelectionEnabled || !nft.isOnSale ? handleClick : undefined,
    className: fullClassName
  }, isSelectionEnabled && !nft.isOnSale && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Radio__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isChecked: isSelected,
    name: "nft",
    value: nft.address,
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].radio
  }), !isSelectionEnabled && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftMenu__WEBPACK_IMPORTED_MODULE_12__["default"], {
    nft: nft,
    menuPosition: menuPosition,
    onOpen: handleOpenMenu,
    onClose: handleCloseMenu
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Image__WEBPACK_IMPORTED_MODULE_10__["default"], {
    url: nft.thumbnail,
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].imageWrapper,
    imageClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].image, isSelected && _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].imageSelected),
    onIntersect: handleIntersect
  }), shouldRenderWarning && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].warning, warningTransitionClassNames)
  }, lang('For sale. Cannot be sent and burned')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].infoWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", {
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].title
  }, nft.name || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__.shortenAddress)(nft.address, 4))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].collection
  }, nft.collectionName));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Nft));

/***/ }),

/***/ "./src/components/main/sections/Content/NftCollectionHeader.tsx":
/*!**********************************************************************!*\
  !*** ./src/components/main/sections/Content/NftCollectionHeader.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../hooks/useMenuPosition */ "./src/hooks/useMenuPosition.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./NftCollectionHeader.module.scss */ "./src/components/main/sections/Content/NftCollectionHeader.module.scss");

















const MENU_ITEMS = [{
  name: 'Send All',
  value: 'sendAll'
}, {
  name: 'Getgems',
  value: 'getgems',
  fontIcon: 'external'
}, {
  name: _config__WEBPACK_IMPORTED_MODULE_2__.TON_EXPLORER_NAME,
  value: 'tonExplorer',
  fontIcon: 'external'
}, {
  name: 'Hide All',
  value: 'hideAll'
}, {
  name: 'Burn All',
  value: 'burnAll',
  isDangerous: true
}, {
  name: 'Select All',
  value: 'selectAll',
  withSeparator: true
}];
function NftCollectionHeader(_ref) {
  let {
    isTestnet,
    nfts,
    currentCollectionAddress
  } = _ref;
  const {
    closeNftCollection,
    selectNfts,
    startTransfer,
    burnNfts,
    openHideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const [menuPosition, setMenuPosition] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const isMenuOpen = Boolean(menuPosition);
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const nftFromCurrentCollection = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!currentCollectionAddress || !nfts) {
      return undefined;
    }
    return Object.values(nfts).find(nft => nft.collectionAddress === currentCollectionAddress);
  }, [currentCollectionAddress, nfts]);
  const amount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!currentCollectionAddress || !nfts) {
      return undefined;
    }
    return Object.values(nfts).reduce((acc, nft) => {
      return nft.collectionAddress === currentCollectionAddress ? acc + 1 : acc;
    }, 0);
  }, [currentCollectionAddress, nfts]);
  const renderedNft = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_8__["default"])(nftFromCurrentCollection, true);
  const renderedAmount = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_8__["default"])(amount, true);
  const isActive = Boolean(currentCollectionAddress);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__["default"])({
    isActive,
    onBack: closeNftCollection
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isActive ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_5__["default"])(closeNftCollection) : undefined, [isActive]);
  const getTriggerElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => ref.current);
  const getRootElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => document.body);
  const getMenuElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => document.querySelector('#portals .menu-bubble'));
  const getLayout = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => ({
    withPortal: true
  }));
  const {
    positionY,
    transformOriginX,
    transformOriginY,
    style: menuStyle
  } = (0,_hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_13__["default"])(menuPosition, getTriggerElement, getRootElement, getMenuElement, getLayout);
  const handleMenuItemClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(value => {
    switch (value) {
      case 'sendAll':
        {
          const collectionNfts = Object.values(nfts).filter(nft => {
            return nft.collectionAddress === currentCollectionAddress && !nft.isOnSale;
          });
          startTransfer({
            nfts: collectionNfts,
            isPortrait: (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__.getIsPortrait)()
          });
          break;
        }
      case 'getgems':
        {
          const getgemsBaseUrl = isTestnet ? _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_MAINNET_URL;
          (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_6__.openUrl)(`${getgemsBaseUrl}collection/${renderedNft === null || renderedNft === void 0 ? void 0 : renderedNft.collectionAddress}`);
          break;
        }
      case 'tonExplorer':
        {
          const url = (0,_util_url__WEBPACK_IMPORTED_MODULE_7__.getTonExplorerNftCollectionUrl)(renderedNft === null || renderedNft === void 0 ? void 0 : renderedNft.collectionAddress, isTestnet);
          if (url) {
            (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_6__.openUrl)(url);
          }
          break;
        }
      case 'selectAll':
        {
          const addresses = Object.values(nfts || {}).filter(nft => nft.collectionAddress === currentCollectionAddress && !nft.isOnSale).map(nft => nft.address);
          selectNfts({
            addresses
          });
          break;
        }
      case 'burnAll':
        {
          const collectionNfts = Object.values(nfts).filter(nft => {
            return nft.collectionAddress === currentCollectionAddress && !nft.isOnSale;
          });
          burnNfts({
            nfts: collectionNfts
          });
          break;
        }
      case 'hideAll':
        {
          const collectionNfts = Object.values(nfts).filter(nft => {
            return nft.collectionAddress === currentCollectionAddress;
          }).map(nft => nft.address);
          openHideNftModal({
            addresses: collectionNfts,
            isCollection: true
          });
        }
    }
  });
  const handleMenuOpen = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    const {
      right: x,
      bottom: y
    } = ref.current.getBoundingClientRect();
    setMenuPosition({
      x,
      y
    });
  });
  const handleMenuClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    setMenuPosition(undefined);
  });
  if (!renderedNft) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].root
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].backButton,
    isSimple: true,
    isText: true,
    onClick: closeNftCollection
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].backIcon, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].title
  }, (renderedNft === null || renderedNft === void 0 ? void 0 : renderedNft.collectionName) || lang('Unnamed Collection')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].amount
  }, renderedAmount > 1 ? lang('%amount% NFTs', {
    amount: renderedAmount
  }) : lang('1 NFT'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isSimple: true,
    ref: ref,
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuButton,
    onClick: handleMenuOpen,
    ariaLabel: lang('Open Menu')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-menu-dots",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isOpen: isMenuOpen,
    withPortal: true,
    shouldTranslateOptions: true,
    menuPositionHorizontal: "right",
    menuPosition: positionY,
    menuStyle: menuStyle,
    transformOriginX: transformOriginX,
    transformOriginY: transformOriginY,
    buttonClassName: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuItem,
    bubbleClassName: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menu,
    items: MENU_ITEMS,
    onSelect: handleMenuItemClick,
    onClose: handleMenuClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  const {
    byAddress: nfts,
    currentCollectionAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  return {
    isTestnet: global.settings.isTestnet,
    nfts,
    currentCollectionAddress
  };
})(NftCollectionHeader)));

/***/ }),

/***/ "./src/components/main/sections/Content/NftMenu.tsx":
/*!**********************************************************!*\
  !*** ./src/components/main/sections/Content/NftMenu.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useMenuPosition */ "./src/hooks/useMenuPosition.ts");
/* harmony import */ var _mediaViewer_hooks_useNftMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../mediaViewer/hooks/useNftMenu */ "./src/components/mediaViewer/hooks/useNftMenu.ts");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _NftMenu_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./NftMenu.module.scss */ "./src/components/main/sections/Content/NftMenu.module.scss");










function NftMenu(_ref) {
  let {
    nft,
    menuPosition,
    onOpen,
    onClose,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = _ref;
  const isNftBlackListed = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return blacklistedNftAddresses === null || blacklistedNftAddresses === void 0 ? void 0 : blacklistedNftAddresses.includes(nft.address);
  }, [nft, blacklistedNftAddresses]);
  const isNftWhiteListed = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return whitelistedNftAddresses === null || whitelistedNftAddresses === void 0 ? void 0 : whitelistedNftAddresses.includes(nft.address);
  }, [nft, whitelistedNftAddresses]);
  const {
    menuItems,
    handleMenuItemSelect
  } = (0,_mediaViewer_hooks_useNftMenu__WEBPACK_IMPORTED_MODULE_7__["default"])(nft, isNftBlackListed, isNftWhiteListed);
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const isOpen = Boolean(menuPosition);
  const getTriggerElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => ref.current);
  const getRootElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => document.body);
  const getMenuElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => document.querySelector('#portals .menu-bubble'));
  const getLayout = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => ({
    withPortal: true
  }));
  const {
    positionY,
    transformOriginX,
    transformOriginY,
    style: menuStyle
  } = (0,_hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_6__["default"])(menuPosition, getTriggerElement, getRootElement, getMenuElement, getLayout);
  const handleButtonClick = e => {
    (0,_util_stopEvent__WEBPACK_IMPORTED_MODULE_4__["default"])(e);
    if (isOpen) {
      onClose();
    } else {
      onOpen();
    }
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    ref: ref,
    type: "button",
    className: _NftMenu_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].button,
    onClick: handleButtonClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_NftMenu_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon, 'icon-menu-dots'),
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isOpen: isOpen,
    withPortal: true,
    menuPositionHorizontal: "right",
    menuPosition: positionY,
    menuStyle: menuStyle,
    transformOriginX: transformOriginX,
    transformOriginY: transformOriginY,
    items: menuItems,
    shouldTranslateOptions: true,
    className: _NftMenu_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].menu,
    buttonClassName: _NftMenu_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].item,
    shouldCleanup: true,
    onClose: onClose,
    onSelect: handleMenuItemSelect
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global) || {};
  const {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = accountState;
  return {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  };
})(NftMenu)));

/***/ }),

/***/ "./src/components/main/sections/Content/NftSelectionHeader.tsx":
/*!*********************************************************************!*\
  !*** ./src/components/main/sections/Content/NftSelectionHeader.tsx ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useMenuPosition */ "./src/hooks/useMenuPosition.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NftCollectionHeader.module.scss */ "./src/components/main/sections/Content/NftCollectionHeader.module.scss");













const MENU_ITEMS = [{
  name: 'Send',
  value: 'send'
}, {
  name: 'Hide',
  value: 'hide'
}, {
  name: 'Burn',
  value: 'burn',
  isDangerous: true
}];
function NftSelectionHeader(_ref) {
  var _selectedAddresses$le;
  let {
    selectedAddresses,
    byAddress
  } = _ref;
  const {
    clearNftsSelection,
    startTransfer,
    burnNfts,
    openHideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const amount = (_selectedAddresses$le = selectedAddresses === null || selectedAddresses === void 0 ? void 0 : selectedAddresses.length) !== null && _selectedAddresses$le !== void 0 ? _selectedAddresses$le : 1;
  const isActive = Boolean(selectedAddresses === null || selectedAddresses === void 0 ? void 0 : selectedAddresses.length);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: clearNftsSelection
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isActive ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_4__["default"])(clearNftsSelection) : undefined, [isActive]);
  const handleSendClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    var _map;
    const nfts = (_map = selectedAddresses.map(address => byAddress[address])) !== null && _map !== void 0 ? _map : [];
    clearNftsSelection();
    startTransfer({
      isPortrait: (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.getIsPortrait)(),
      nfts
    });
  });
  const handleBurnClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    var _map2;
    const nfts = (_map2 = selectedAddresses.map(address => byAddress[address])) !== null && _map2 !== void 0 ? _map2 : [];
    clearNftsSelection();
    burnNfts({
      nfts
    });
  });
  const handleHideClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    clearNftsSelection();
    openHideNftModal({
      addresses: selectedAddresses,
      isCollection: false
    });
  });
  const [menuPosition, setMenuPosition] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const isMenuOpen = Boolean(menuPosition);
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const handleMenuOpen = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    const {
      right: x,
      bottom: y
    } = ref.current.getBoundingClientRect();
    setMenuPosition({
      x,
      y
    });
  });
  const handleMenuClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    setMenuPosition(undefined);
  });
  const getTriggerElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => ref.current);
  const getRootElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => document.body);
  const getMenuElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => document.querySelector('#portals .menu-bubble'));
  const getLayout = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => ({
    withPortal: true
  }));
  const {
    positionY,
    transformOriginX,
    transformOriginY,
    style: menuStyle
  } = (0,_hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_9__["default"])(menuPosition, getTriggerElement, getRootElement, getMenuElement, getLayout);
  const handleMenuItemClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(value => {
    switch (value) {
      case 'send':
        {
          handleSendClick();
          break;
        }
      case 'hide':
        {
          handleHideClick();
          break;
        }
      case 'burn':
        {
          handleBurnClick();
          break;
        }
    }
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].root
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].backButton,
    isSimple: true,
    isText: true,
    onClick: clearNftsSelection
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].backIcon, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].title
  }, amount > 1 ? lang('%amount% NFTs Selected', {
    amount
  }) : lang('1 NFT Selected'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isSimple: true,
    ref: ref,
    className: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].menuButton,
    onClick: handleMenuOpen,
    ariaLabel: lang('Open Menu')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-menu-dots",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isOpen: isMenuOpen,
    withPortal: true,
    shouldTranslateOptions: true,
    menuPositionHorizontal: "right",
    menuPosition: positionY,
    menuStyle: menuStyle,
    transformOriginX: transformOriginX,
    transformOriginY: transformOriginY,
    buttonClassName: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].menuItem,
    bubbleClassName: _NftCollectionHeader_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].menu,
    items: MENU_ITEMS,
    onSelect: handleMenuItemClick,
    onClose: handleMenuClose
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  const {
    selectedAddresses,
    byAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  return {
    selectedAddresses,
    byAddress
  };
})(NftSelectionHeader)));

/***/ }),

/***/ "./src/components/main/sections/Content/Nfts.tsx":
/*!*******************************************************!*\
  !*** ./src/components/main/sections/Content/Nfts.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _Nft__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Nft */ "./src/components/main/sections/Content/Nft.tsx");
/* harmony import */ var _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Nft.module.scss */ "./src/components/main/sections/Content/Nft.module.scss");


















const GETGEMS_ENABLED = !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_IOS_APP && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.IS_ANDROID_APP;
function Nfts(_ref) {
  let {
    isActive,
    orderedAddresses,
    selectedAddresses,
    byAddress,
    currentCollectionAddress,
    isTestnet,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = _ref;
  const {
    clearNftsSelection,
    burnNfts
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const {
    isLandscape
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__.useDeviceScreen)();
  const hasSelection = Boolean(selectedAddresses === null || selectedAddresses === void 0 ? void 0 : selectedAddresses.length);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(clearNftsSelection, [clearNftsSelection, isActive, currentCollectionAddress]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => hasSelection ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__["default"])(clearNftsSelection) : undefined, [hasSelection]);
  const getgemsBaseUrl = isTestnet ? _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_MAINNET_URL;
  const nfts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!orderedAddresses || !byAddress) {
      return undefined;
    }
    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);
    const whitelistedNftAddressesSet = new Set(whitelistedNftAddresses);
    return orderedAddresses.map(address => byAddress[address]).filter(nft => {
      if (!nft) return false;
      return !currentCollectionAddress || nft.collectionAddress === currentCollectionAddress;
    }).filter(nft => (!nft.isHidden || whitelistedNftAddressesSet.has(nft.address)) && !blacklistedNftAddressesSet.has(nft.address));
  }, [byAddress, currentCollectionAddress, orderedAddresses, blacklistedNftAddresses, whitelistedNftAddresses]);
  const handleBurnNotcoinVouchersClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    burnNfts({
      nfts: nfts
    });
  });
  if (nfts === undefined) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyList, _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyListLoading)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_14__["default"], null));
  }
  if (nfts.length === 0) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyList
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_12__["default"], {
      play: isActive,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.happy,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.happyPreview,
      size: _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKER_BIG_SIZE_PX,
      className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].sticker,
      noLoop: false,
      nonInteractive: true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyListTitle
    }, lang('No NFTs yet')), GETGEMS_ENABLED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyListText
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$nft_explore_offer'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].emptyListButton,
      href: getgemsBaseUrl,
      rel: "noreferrer noopener",
      target: "_blank"
    }, lang('Open Getgems'))));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, currentCollectionAddress === _config__WEBPACK_IMPORTED_MODULE_2__.NOTCOIN_VOUCHERS_ADDRESS && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
    isPrimary: true,
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].notcoinVoucherButton,
    onClick: handleBurnNotcoinVouchersClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("svg", {
    className: _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].notcoinVoucherIcon,
    xmlns: "http://www.w3.org/2000/svg",
    width: "16",
    height: "16",
    viewBox: "0 0 16 16",
    color: "#ffffff",
    style: "transform: rotateX(180deg);"
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("path", {
    "fill-rule": "evenodd",
    "clip-rule": "evenodd",
    d: "M7.14138 15.4996C7.2095 15.5943 7.34508 15.767 7.576 15.8689C7.84607 15.9881 8.15383 15.9881 8.4239 15.8689C8.65482 15.767 8.7904 15.5943 8.85852 15.4996C8.92424 15.4081 8.99102 15.2945 9.04911 15.1957L14.3316 6.21548C14.6645 5.64971 14.9405 5.18052 15.1235 4.79199C15.3081 4.40015 15.4553 3.97793 15.4105 3.52755C15.3472 2.89047 15.0155 2.31052 14.4985 1.93295C14.133 1.66602 13.6944 1.57879 13.2631 1.53922C12.8355 1.49998 12.2912 1.49999 11.6348 1.5H4.36532C3.70891 1.49999 3.16447 1.49998 2.73678 1.53922C2.30546 1.57879 1.86692 1.66602 1.50141 1.93294C0.984382 2.31052 0.652684 2.89047 0.589388 3.52755C0.544641 3.97793 0.691804 4.40015 0.876386 4.79199C1.05941 5.18052 1.33542 5.6497 1.66824 6.21547L6.95075 15.1956C7.00885 15.2945 7.07565 15.4081 7.14138 15.4996ZM8.74995 3L8.74994 12.7458L8.74995 12.7563L13.4336 4.80929C13.7831 4.21637 13.9578 3.91991 13.9337 3.67629C13.9127 3.46383 13.8022 3.27038 13.6298 3.14442C13.4322 3 13.088 3 12.3996 3H8.74995ZM7.99995 14.0208L7.98772 14H8.01218L7.99995 14.0208ZM7.24995 12.7563V3H3.60028C2.91192 3 2.56774 3 2.37007 3.14442C2.19769 3.27038 2.08716 3.46383 2.06617 3.67629C2.04211 3.91991 2.21684 4.21637 2.56629 4.80929L7.24995 12.7563Z",
    fill: "currentColor"
  })), lang('Burn NOT Vouchers')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
    name: "fade",
    activeKey: nfts.length,
    shouldCleanup: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].list, isLandscape && _Nft_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].landscapeList)
  }, nfts.map(nft => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Nft__WEBPACK_IMPORTED_MODULE_16__["default"], {
    key: nft.address,
    nft: nft,
    selectedAddresses: selectedAddresses
  })))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  const {
    orderedAddresses,
    byAddress,
    currentCollectionAddress,
    selectedAddresses
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  const {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global) || {};
  return {
    orderedAddresses,
    selectedAddresses,
    byAddress,
    currentCollectionAddress,
    isTestnet: global.settings.isTestnet,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  };
}, (global, _, stickToFirst) => {
  var _selectCurrentAccount2;
  const {
    currentCollectionAddress
  } = ((_selectCurrentAccount2 = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount2 === void 0 ? void 0 : _selectCurrentAccount2.nfts) || {};
  return stickToFirst(`${global.currentAccountId}_${currentCollectionAddress || 'all'}`);
})(Nfts)));

/***/ }),

/***/ "./src/components/main/sections/Content/Swap.tsx":
/*!*******************************************************!*\
  !*** ./src/components/main/sections/Content/Swap.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/swap/getSwapRate */ "./src/util/swap/getSwapRate.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Transaction.module.scss */ "./src/components/main/sections/Content/Transaction.module.scss");










const CHANGELLY_PENDING_STATUSES = new Set(['new', 'waiting', 'confirming', 'exchanging', 'sending', 'hold']);
const CHANGELLY_EXPIRED_STATUSES = new Set(['failed', 'expired', 'refunded', 'overdue']);
const ONCHAIN_ERROR_STATUSES = new Set(['expired', 'failed']);
function Swap(_ref) {
  var _cex$status, _cex$status2;
  let {
    ref,
    tokensBySlug,
    activity,
    isLast,
    isActive,
    onClick
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const {
    id,
    timestamp,
    status,
    from,
    to,
    cex
  } = activity;
  const fromToken = tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[from];
  const toToken = tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[to];
  const fromAmount = Number(activity.fromAmount);
  const toAmount = Number(activity.toAmount);
  const isPending = status === 'pending' || CHANGELLY_PENDING_STATUSES.has((_cex$status = cex === null || cex === void 0 ? void 0 : cex.status) !== null && _cex$status !== void 0 ? _cex$status : '');
  const isError = ONCHAIN_ERROR_STATUSES.has(status) || CHANGELLY_EXPIRED_STATUSES.has((_cex$status2 = cex === null || cex === void 0 ? void 0 : cex.status) !== null && _cex$status2 !== void 0 ? _cex$status2 : '');
  const isHold = (cex === null || cex === void 0 ? void 0 : cex.status) === 'hold';
  const isFromToncoin = from === _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG;
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    onClick(id);
  });
  const swapIconClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])('icon-swap', _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon_swap, isError && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon_error);
  const iconFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon, swapIconClass);
  function renderAmount() {
    const amountSwapClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].amount, _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapAmount);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].amountWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: amountSwapClass
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapSell, isError && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapError)
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencyExtended)(Math.abs(fromAmount), (fromToken === null || fromToken === void 0 ? void 0 : fromToken.symbol) || _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL, true)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapArrowRight, 'icon-arrow-right', isError && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapError, isHold && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapHold),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapBuy, isError && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapError, isHold && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapHold)
    }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencyExtended)(Math.abs(toAmount), (toToken === null || toToken === void 0 ? void 0 : toToken.symbol) || _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL, true))), renderCurrency(activity, fromToken, toToken));
  }
  function renderErrorMessage() {
    const date = (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_3__.formatTime)(timestamp);
    let state = '';
    const cexStatus = cex === null || cex === void 0 ? void 0 : cex.status;
    if (cexStatus === 'expired' || cexStatus === 'overdue') {
      state = lang('Expired');
    } else if (cexStatus === 'refunded') {
      state = lang('Refunded');
    } else if (cexStatus === 'hold') {
      state = lang('On Hold');
    } else if (cexStatus === 'failed' || isError) {
      state = lang('Failed');
    } else if (cexStatus === 'waiting' && !isFromToncoin) {
      // Skip the `waiting` status for transactions from TON to account for delayed status updates from Changelly
      state = lang('Waiting for Payment');
    } else if (isPending) {
      state = lang('In Progress');
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].date, isError && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].isSwapErrorMessage)
    }, date, state ? `${_config__WEBPACK_IMPORTED_MODULE_1__.WHOLE_PART_DELIMITER}∙${_config__WEBPACK_IMPORTED_MODULE_1__.WHOLE_PART_DELIMITER}${state}` : '');
  }
  function renderTitle() {
    if (isHold || isError) {
      return lang('SwapTitle');
    } else if (isPending) {
      return lang('Swapping');
    }
    return lang('Swapped');
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    ref: ref,
    key: id,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].item, isLast && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].itemLast, isActive && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].active),
    onClick: handleClick,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: iconFullClass,
    "aria-hidden": true
  }), isPending && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconWaiting, _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconWaitingSwap, 'icon-clock'),
    title: lang('Swap is not completed'),
    "aria-hidden": true
  }), isError && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconError, 'icon-close-filled'),
    title: lang('Swap is not completed'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].leftBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].operationName
  }, renderTitle()), renderErrorMessage()), renderAmount(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].iconArrow, 'icon-chevron-right'),
    "aria-hidden": true
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Swap));
function renderCurrency(activity, fromToken, toToken) {
  const rate = (0,_util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_5__["default"])(activity.fromAmount, activity.toAmount, fromToken, toToken);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapPrice
  }, rate && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, rate.firstCurrencySymbol, ' ≈ ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].swapPriceValue
  }, rate.price, ' ', rate.secondCurrencySymbol)));
}

/***/ }),

/***/ "./src/components/main/sections/Content/Token.tsx":
/*!********************************************************!*\
  !*** ./src/components/main/sections/Content/Token.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_calcChangeValue__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/calcChangeValue */ "./src/util/calcChangeValue.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_round__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/round */ "./src/util/round.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../ui/AnimatedCounter */ "./src/components/ui/AnimatedCounter.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Token.module.scss */ "./src/components/main/sections/Content/Token.module.scss");
















const DAY = 1000 * 60 * 60 * 24;
const UNFREEZE_DANGER_DURATION = 7 * DAY;
function Token(_ref) {
  let {
    token,
    amount,
    stakingStatus,
    vestingStatus,
    unfreezeEndDate,
    apyValue,
    isInvestorView,
    classNames,
    style,
    isActive,
    baseCurrency,
    onClick
  } = _ref;
  const {
    name,
    symbol,
    slug,
    amount: tokenAmount,
    price,
    change24h: change,
    image,
    decimals
  } = token;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const isVesting = Boolean(vestingStatus === null || vestingStatus === void 0 ? void 0 : vestingStatus.length);
  const renderedAmount = amount !== null && amount !== void 0 ? amount : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(tokenAmount, decimals, true);
  const logoPath = image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__.ASSET_LOGO_PATHS[symbol.toLowerCase()];
  const value = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_2__.Big)(renderedAmount).mul(price).toString();
  const changeClassName = change > 0 ? _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change_up : change < 0 ? _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change_down : undefined;
  const changeValue = Math.abs((0,_util_round__WEBPACK_IMPORTED_MODULE_8__.round)((0,_util_calcChangeValue__WEBPACK_IMPORTED_MODULE_4__.calcChangeValue)(Number(value), change), 4));
  const changePercent = Math.abs((0,_util_round__WEBPACK_IMPORTED_MODULE_8__.round)(change * 100, 2));
  const withApy = Boolean(apyValue) && slug === _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG;
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].container, isActive && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].active, classNames);
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.getShortCurrencySymbol)(baseCurrency);
  const {
    shouldRender: shouldRenderApy,
    transitionClassNames: renderApyClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__["default"])(withApy);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    onClick(slug);
  });
  function renderApy() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].apy, stakingStatus && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].apy_staked, renderApyClassNames)
    }, "APY ", apyValue, "%");
  }
  function renderChangeIcon() {
    if (change === 0) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].iconArrow, change > 0 ? 'icon-arrow-up' : 'icon-arrow-down'),
      "aria-hidden": true
    });
  }
  function renderInvestorView() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
      className: fullClassName,
      isSimple: true,
      style: style,
      onClick: handleClick
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: symbol,
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].icon
    }), stakingStatus && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(stakingStatus === 'active' ? 'icon-percent' : 'icon-clock', _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].percent),
      "aria-hidden": true
    }), vestingStatus && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(vestingStatus === 'frozen' ? 'icon-snow' : 'icon-fire', _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].vestingIcon),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].primaryCell
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].name, withApy && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].name_withApy)
    }, name, shouldRenderApy && renderApy()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].subtitle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(renderedAmount, symbol)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].dot,
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(price, shortBaseSymbol, undefined, true)
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryCell
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue, stakingStatus && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_staked, isVesting && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_vesting, isVesting && vestingStatus === 'readyToUnfreeze' && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_vestingUnfreeze)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(value, shortBaseSymbol)
    })), unfreezeEndDate ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change, unfreezeEndDate - Date.now() < UNFREEZE_DANGER_DURATION && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change_down)
    }, lang('Unfreeze'), ' ', lang('until %date%', {
      date: `${(0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_5__.formatFullDay)(lang.code, unfreezeEndDate)}`
    })) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change, changeClassName)
    }, renderChangeIcon(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: String(changePercent)
    }), "%", /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].dot,
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(changeValue, shortBaseSymbol, undefined, true)
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].iconChevron, 'icon-chevron-right'),
      "aria-hidden": true
    }));
  }
  function renderDefaultView() {
    const totalAmount = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_2__.Big)(renderedAmount).mul(price);
    const canRenderApy = Boolean(apyValue) && slug === _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
      className: fullClassName,
      style: style,
      onClick: handleClick,
      isSimple: true
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: symbol,
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].icon
    }), stakingStatus && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(stakingStatus === 'active' ? 'icon-percent' : 'icon-clock', _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].percent),
      "aria-hidden": true
    }), vestingStatus && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(vestingStatus === 'frozen' ? 'icon-snow' : 'icon-fire', _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].vestingIcon),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].primaryCell
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].name, canRenderApy && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].name_withApy)
    }, name, canRenderApy && renderApy()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].subtitle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(price, shortBaseSymbol, undefined, true)
    }), !stakingStatus && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].dot,
      "aria-hidden": true
    }), unfreezeEndDate ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: unfreezeEndDate - Date.now() < UNFREEZE_DANGER_DURATION && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].change_down
    }, lang('Unfreeze'), ' ', lang('until %date%', {
      date: `${(0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_5__.formatFullDay)(lang.code, unfreezeEndDate)}`
    })) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: changeClassName
    }, renderChangeIcon(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: String(changePercent)
    }), "%")))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryCell
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue, stakingStatus && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_staked, isVesting && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_vesting, isVesting && vestingStatus === 'readyToUnfreeze' && _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].secondaryValue_vestingUnfreeze)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(renderedAmount, symbol)
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].subtitle
    }, totalAmount.gt(0) ? '≈' : '', "\u2009", /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)(totalAmount, shortBaseSymbol, undefined, true)
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Token_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].iconChevron, 'icon-chevron-right'),
      "aria-hidden": true
    }));
  }
  return isInvestorView ? renderInvestorView() : renderDefaultView();
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Token));

/***/ }),

/***/ "./src/components/main/sections/Content/Transaction.tsx":
/*!**************************************************************!*\
  !*** ./src/components/main/sections/Content/Transaction.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../global/helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Transaction.module.scss */ "./src/components/main/sections/Content/Transaction.module.scss");
/* harmony import */ var _assets_scam_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../assets/scam.svg */ "./src/assets/scam.svg");
















function Transaction(_ref) {
  let {
    ref,
    tokensBySlug,
    transaction,
    isActive,
    apyValue,
    savedAddresses,
    isLast,
    onClick
  } = _ref;
  const {
    openMediaViewer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const {
    txId,
    amount,
    fromAddress,
    toAddress,
    timestamp,
    comment,
    encryptedComment,
    isIncoming,
    type,
    metadata,
    slug,
    nft
  } = transaction;
  const isStake = type === 'stake';
  const isUnstake = type === 'unstake';
  const isUnstakeRequest = type === 'unstakeRequest';
  const isStaking = isStake || isUnstake || isUnstakeRequest;
  const isNftTransfer = type === 'nftTransferred' || type === 'nftReceived' || Boolean(nft);
  const token = tokensBySlug === null || tokensBySlug === void 0 ? void 0 : tokensBySlug[slug];
  const address = isIncoming ? fromAddress : toAddress;
  const addressName = (savedAddresses === null || savedAddresses === void 0 ? void 0 : savedAddresses[address]) || (metadata === null || metadata === void 0 ? void 0 : metadata.name);
  const isLocal = (0,_global_helpers__WEBPACK_IMPORTED_MODULE_4__.getIsTxIdLocal)(txId);
  const isScam = Boolean(metadata === null || metadata === void 0 ? void 0 : metadata.isScam);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    onClick(txId);
  });
  const handleNftClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(event => {
    event.stopPropagation();
    openMediaViewer({
      mediaId: nft.address,
      mediaType: _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft,
      txId
    });
  });
  function getOperationName() {
    if (isStake) {
      return 'Staked';
    }
    if (isUnstakeRequest) {
      return 'Unstake Requested';
    }
    if (isUnstake) {
      return 'Unstaked';
    }
    return isIncoming ? 'Received' : 'Sent';
  }
  function renderNft() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nft, isIncoming && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].received, comment && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nftWithComment, 'transaction-nft'),
      onClick: handleNftClick,
      "data-nft-address": nft === null || nft === void 0 ? void 0 : nft.address,
      "data-tx-id": txId
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: nft.thumbnail,
      alt: nft.name,
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nftImage
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nftData
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nftName
    }, nft.name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].nftCollection
    }, nft.collectionName)));
  }
  function renderComment() {
    if (isStaking || isScam || !comment && !encryptedComment) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].comment, isIncoming ? _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].comment_incoming : _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].comment_outgoing)
    }, encryptedComment && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].commentIcon, 'icon-lock'),
      "aria-hidden": true
    }), encryptedComment ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", null, lang('Encrypted Message')) : comment);
  }
  const stakeIconClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(isStaking && 'icon-earn', isStake && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].icon_purple, isStaking && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].icon_staking, !isStaking && (isIncoming ? 'icon-receive-alt' : 'icon-send-alt'));
  const iconFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].icon, isIncoming && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].icon_operationPositive, stakeIconClass);
  function renderAmount() {
    const amountOtherClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].amount, isIncoming ? _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].amount_operationPositive : isStake ? _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].amount_stake : _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].amount_operationNegative);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].amountWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: amountOtherClass
    }, isNftTransfer ? 'NFT' : (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrencyExtended)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(isStaking ? (0,_util_bigint__WEBPACK_IMPORTED_MODULE_5__.bigintAbs)(amount) : amount, token.decimals), (token === null || token === void 0 ? void 0 : token.symbol) || _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL, isStaking)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].address
    }, !isStaking && lang(isIncoming ? '$transaction_from' : '$transaction_to', {
      address: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].addressValue
      }, addressName || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__.shortenAddress)(address))
    }), isStake && lang('at %apy_value%', {
      apy_value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].apyValue
      }, "APY ", apyValue, "%")
    }), (isUnstake || isUnstakeRequest) && '\u00A0'));
  }
  const waitingIconClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].iconWaiting, isStake && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].iconWaitingStake, 'icon-clock');
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_13__["default"], {
    ref: ref,
    key: txId,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item, isLast && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].itemLast, isActive && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].active, isNftTransfer && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].withNft, isNftTransfer && comment && _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].withNftAndComment),
    onClick: handleClick,
    isSimple: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: iconFullClass,
    "aria-hidden": true
  }), isLocal && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: waitingIconClassName,
    title: lang('Transaction is not completed'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].leftBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].operationName
  }, lang(getOperationName()), isScam && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: _assets_scam_svg__WEBPACK_IMPORTED_MODULE_15__,
    alt: lang('Scam'),
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].scamImage
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].date
  }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_7__.formatTime)(timestamp))), renderAmount(), nft && renderNft(), renderComment(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Transaction_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].iconArrow, 'icon-chevron-right'),
    "aria-hidden": true
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Transaction));

/***/ }),

/***/ "./src/components/main/sections/Content/index.ts":
/*!*******************************************************!*\
  !*** ./src/components/main/sections/Content/index.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Content__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Content__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Content */ "./src/components/main/sections/Content/Content.tsx");
// eslint-disable-next-line no-restricted-exports


/***/ }),

/***/ "./src/components/main/sections/Warnings/BackupWarning.tsx":
/*!*****************************************************************!*\
  !*** ./src/components/main/sections/Warnings/BackupWarning.tsx ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useBrowserUiColor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../hooks/useBrowserUiColor */ "./src/hooks/useBrowserUiColor.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Warnings.module.scss */ "./src/components/main/sections/Warnings/Warnings.module.scss");








const UI_BG_RED_LIGHT = '#F36A6B';
const UI_BG_RED_DARK = '#C44646';
function BackupWarning(_ref) {
  let {
    isRequired,
    theme,
    onOpenBackupWallet
  } = _ref;
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_6__["default"])(isRequired, undefined, true);
  const {
    isLandscape
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_4__.useDeviceScreen)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  (0,_hooks_useBrowserUiColor__WEBPACK_IMPORTED_MODULE_3__["default"])({
    isActive: isRequired,
    currentTheme: theme,
    lightColor: UI_BG_RED_LIGHT,
    darkColor: UI_BG_RED_DARK
  });
  const handleClick = () => {
    onOpenBackupWallet();
  };
  if (!shouldRender) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Warnings_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].wrapper, isLandscape && _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].wrapper_landscape, transitionClassNames),
    onClick: handleClick
  }, lang('Wallet is not backed up'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Warnings_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].icon, 'icon-chevron-right'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].text
  }, lang('Back up wallet to have full access to it')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    theme: global.settings.theme
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(BackupWarning)));

/***/ }),

/***/ "./src/components/main/sections/Warnings/SecurityWarning.tsx":
/*!*******************************************************************!*\
  !*** ./src/components/main/sections/Warnings/SecurityWarning.tsx ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Warnings.module.scss */ "./src/components/main/sections/Warnings/Warnings.module.scss");










function SecurityWarning(_ref) {
  let {
    isSecurityWarningHidden
  } = _ref;
  const {
    closeSecurityWarning
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_8__["default"])(!isSecurityWarningHidden, undefined, true);
  const {
    isLandscape
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  function handleClick() {
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_4__.openUrl)(_config__WEBPACK_IMPORTED_MODULE_2__.MY_TON_WALLET_PROMO_URL);
  }
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    e.stopPropagation();
    closeSecurityWarning();
  });
  if (!shouldRender) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].wrapper, isLandscape && _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].wrapper_landscape, transitionClassNames),
    onClick: handleClick
  }, lang('Consider More Secure Version'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].icon, 'icon-chevron-right'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].text
  }, lang('Install our native app or browser extension.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    className: _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].closeButton,
    "aria-label": lang('Close'),
    onClick: handleClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-close",
    "aria-hidden": true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    isSecurityWarningHidden: global.settings.isSecurityWarningHidden
  };
})(SecurityWarning)));

/***/ }),

/***/ "./src/components/main/sections/Warnings/Warnings.tsx":
/*!************************************************************!*\
  !*** ./src/components/main/sections/Warnings/Warnings.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _BackupWarning__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BackupWarning */ "./src/components/main/sections/Warnings/BackupWarning.tsx");
/* harmony import */ var _SecurityWarning__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./SecurityWarning */ "./src/components/main/sections/Warnings/SecurityWarning.tsx");
/* harmony import */ var _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Warnings.module.scss */ "./src/components/main/sections/Warnings/Warnings.module.scss");










const IS_UNSAFE_WEB = !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_ELECTRON && !_config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_IOS && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_ANDROID;
function Warnings(_ref) {
  let {
    isBackupRequired,
    isTestnet,
    onOpenBackupWallet
  } = _ref;
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, isTestnet && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: isPortrait ? _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].portraitContainer : _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].container
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Warnings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].testnetWarning
  }, lang('Testnet Version'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_BackupWarning__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isRequired: isBackupRequired,
    onOpenBackupWallet: onOpenBackupWallet
  }), IS_UNSAFE_WEB && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SecurityWarning__WEBPACK_IMPORTED_MODULE_8__["default"], null));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  return {
    isBackupRequired: Boolean((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.isBackupRequired),
    isTestnet: global.settings.isTestnet
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(Warnings)));

/***/ }),

/***/ "./src/components/main/sections/Warnings/index.ts":
/*!********************************************************!*\
  !*** ./src/components/main/sections/Warnings/index.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* reexport safe */ _Warnings__WEBPACK_IMPORTED_MODULE_0__["default"])
/* harmony export */ });
/* harmony import */ var _Warnings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Warnings */ "./src/components/main/sections/Warnings/Warnings.tsx");
// eslint-disable-next-line no-restricted-exports


/***/ }),

/***/ "./src/components/mediaViewer/Actions.tsx":
/*!************************************************!*\
  !*** ./src/components/mediaViewer/Actions.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useNftMenu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hooks/useNftMenu */ "./src/components/mediaViewer/hooks/useNftMenu.ts");
/* harmony import */ var _ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");











function Actions(_ref) {
  let {
    onClose,
    nft,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [isMenuOpen, openMenu, closeMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const isNftBlackListed = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return blacklistedNftAddresses === null || blacklistedNftAddresses === void 0 ? void 0 : blacklistedNftAddresses.includes(nft.address);
  }, [nft, blacklistedNftAddresses]);
  const isNftWhiteListed = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return whitelistedNftAddresses === null || whitelistedNftAddresses === void 0 ? void 0 : whitelistedNftAddresses.includes(nft.address);
  }, [nft, whitelistedNftAddresses]);
  const {
    menuItems,
    handleMenuItemSelect
  } = (0,_hooks_useNftMenu__WEBPACK_IMPORTED_MODULE_8__["default"])(nft, isNftBlackListed, isNftWhiteListed);
  const handleSelect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(value => {
    if (value === 'send') {
      onClose();
    }
    handleMenuItemSelect(value);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].actions
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    "aria-label": lang('More actions'),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].actionButton, _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].menuButton, isMenuOpen && _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].menuButton_active),
    onClick: openMenu
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon icon-more",
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_DropdownMenu__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isOpen: isMenuOpen,
    items: menuItems,
    menuPosition: "top",
    menuPositionHorizontal: "right",
    shouldTranslateOptions: true,
    onClose: closeMenu,
    className: "component-theme-dark",
    buttonClassName: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].menuItem,
    onSelect: handleSelect
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    "aria-label": lang('Close'),
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].actionButton,
    onClick: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])('icon-windows-close', _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].actionIcon),
    "aria-hidden": true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)((global, _ref2) => {
  var _selectCurrentAccount;
  let {
    mediaId
  } = _ref2;
  const {
    mediaType = _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft
  } = global.mediaViewer || {};
  if (!mediaId || mediaType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft) return {};
  const {
    byAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  const nft = byAddress === null || byAddress === void 0 ? void 0 : byAddress[mediaId];
  if (!nft) return {};
  const {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global) || {};
  return {
    nft,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  };
})(Actions)));

/***/ }),

/***/ "./src/components/mediaViewer/Media.tsx":
/*!**********************************************!*\
  !*** ./src/components/mediaViewer/Media.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");
/* harmony import */ var _assets_scam_svg__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/scam.svg */ "./src/assets/scam.svg");










function Media(_ref) {
  let {
    mediaId,
    alt,
    thumbnail,
    image,
    description,
    isScam,
    whitelistedMediaIds
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const src = image || thumbnail;
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_6__.useDeviceScreen)();
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const element = ref.current;
    const {
      height
    } = element.getBoundingClientRect();
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_3__.requestMutation)(() => {
      // Inner scroll requires max-height to be set
      element.style.setProperty('--max-height', `${height}px`);
    });
  }, [isPortrait]);
  const isNftWhiteListed = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return whitelistedMediaIds === null || whitelistedMediaIds === void 0 ? void 0 : whitelistedMediaIds.includes(mediaId);
  }, [mediaId, whitelistedMediaIds]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: src,
    alt: alt,
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].image
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].contentDescription,
    ref: ref
  }, description && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].contentTextWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].contentText, 'custom-scroll'),
    dir: "auto"
  }, isScam && !isNftWhiteListed && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: _assets_scam_svg__WEBPACK_IMPORTED_MODULE_9__,
    alt: lang('Scam'),
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].scamImage
  }), description))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)((global, _ref2) => {
  var _selectCurrentAccount;
  let {
    mediaId
  } = _ref2;
  const {
    mediaType = _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft
  } = global.mediaViewer || {};
  if (mediaType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft) return {};
  const {
    byAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  const nft = byAddress === null || byAddress === void 0 ? void 0 : byAddress[mediaId];
  if (!nft) return {};
  const {
    whitelistedNftAddresses
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global) || {};
  return {
    alt: nft.name,
    thumbnail: nft.thumbnail,
    image: nft.image,
    description: nft.description,
    isScam: nft.isScam,
    whitelistedMediaIds: whitelistedNftAddresses
  };
})(Media)));

/***/ }),

/***/ "./src/components/mediaViewer/MediaInfo.tsx":
/*!**************************************************!*\
  !*** ./src/components/mediaViewer/MediaInfo.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");










function MediaInfo(_ref) {
  let {
    title,
    description,
    descriptionUrl
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].mediaInfo
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].mediaInfoTitle
  }, title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: descriptionUrl,
    target: "_blank",
    "aria-label": lang('Open NFT Collection'),
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].mediaInfoDescription,
    rel: "noreferrer",
    onClick: _util_openUrl__WEBPACK_IMPORTED_MODULE_6__.handleOpenUrl
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].descriptionText
  }, description), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])('icon-tooltip', _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].tooltip),
    "aria-hidden": true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)((global, _ref2) => {
  var _selectCurrentAccount;
  let {
    mediaId
  } = _ref2;
  const {
    mediaType = _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft
  } = global.mediaViewer || {};
  if (!mediaId || mediaType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft) return {};
  const isTestnet = global.settings.isTestnet;
  const getgemsBaseUrl = isTestnet ? _config__WEBPACK_IMPORTED_MODULE_3__.GETGEMS_BASE_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_3__.GETGEMS_BASE_MAINNET_URL;
  const {
    byAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  const nft = byAddress === null || byAddress === void 0 ? void 0 : byAddress[mediaId];
  if (!nft) return {};
  return {
    title: nft.name || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__.shortenAddress)(nft.address, 4),
    description: nft.collectionName,
    descriptionUrl: `${getgemsBaseUrl}collection/${nft.collectionAddress}`
  };
})(MediaInfo)));

/***/ }),

/***/ "./src/components/mediaViewer/MediaViewer.tsx":
/*!****************************************************!*\
  !*** ./src/components/mediaViewer/MediaViewer.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_memo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/memo */ "./src/util/memo.ts");
/* harmony import */ var _helpers_ghostAnimation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./helpers/ghostAnimation */ "./src/components/mediaViewer/helpers/ghostAnimation.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _ui_ShowTransition__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/ShowTransition */ "./src/components/ui/ShowTransition.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _Actions__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Actions */ "./src/components/mediaViewer/Actions.tsx");
/* harmony import */ var _MediaInfo__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./MediaInfo */ "./src/components/mediaViewer/MediaInfo.tsx");
/* harmony import */ var _Slides__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Slides */ "./src/components/mediaViewer/Slides.tsx");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");



















function MediaViewer(_ref) {
  let {
    mediaId,
    mediaIds,
    mediaType,
    mediaUrl,
    withAnimation,
    mediaByIds,
    blacklistedIds,
    txId,
    hiddenNfts,
    noGhostAnimation
  } = _ref;
  const {
    closeMediaViewer,
    openMediaViewer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const isOpen = Boolean(mediaId);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const prevMediaId = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_12__["default"])(mediaId);
  const prevTxId = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_12__["default"])(txId);
  const prevHiddenNfts = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_12__["default"])(hiddenNfts);
  const prevNoGhostAnimation = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_12__["default"])(noGhostAnimation);
  const headerAnimation = withAnimation ? 'slideFade' : 'none';
  const shouldAnimateOpening = withAnimation && isOpen && !prevMediaId && !noGhostAnimation;
  const shouldAnimateClosing = withAnimation && !isOpen && !!prevMediaId && !prevNoGhostAnimation;
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => closeMediaViewer());
  const renderedMediaIds = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return mediaIds.filter(id => {
      const media = mediaByIds === null || mediaByIds === void 0 ? void 0 : mediaByIds[id];
      return media && !media.isHidden && !blacklistedIds.includes(id);
    });
  }, [blacklistedIds, mediaByIds, mediaIds]);
  const selectedMediaIndex = renderedMediaIds.indexOf(mediaId);
  const getMediaId = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])((fromId, direction) => {
    if (fromId === undefined) return undefined;
    const index = renderedMediaIds.indexOf(fromId);
    if (direction === -1 && index > 0 || direction === 1 && index < renderedMediaIds.length - 1) {
      return renderedMediaIds[index + direction];
    }
    return undefined;
  });
  const selectMedia = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(id => {
    openMediaViewer({
      mediaType,
      mediaId: id
    });
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    document.body.classList.toggle('is-media-viewer-open', isOpen);
  }, [isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isOpen ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_6__["default"])(handleClose) : undefined, [handleClose, isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (shouldAnimateOpening) {
      (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__.dispatchHeavyAnimationEvent)(_helpers_ghostAnimation__WEBPACK_IMPORTED_MODULE_8__.ANIMATION_DURATION + _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_END_DELAY);
      (0,_helpers_ghostAnimation__WEBPACK_IMPORTED_MODULE_8__.animateOpening)(mediaType, mediaId, mediaUrl, txId, hiddenNfts);
    }
    if (shouldAnimateClosing) {
      (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__.dispatchHeavyAnimationEvent)(_helpers_ghostAnimation__WEBPACK_IMPORTED_MODULE_8__.ANIMATION_DURATION + _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_END_DELAY);
      (0,_helpers_ghostAnimation__WEBPACK_IMPORTED_MODULE_8__.animateClosing)(mediaType, prevMediaId, prevTxId, prevHiddenNfts);
    }
  }, [shouldAnimateOpening, shouldAnimateClosing, mediaId, mediaType, mediaUrl, prevMediaId, txId, prevTxId, hiddenNfts, prevHiddenNfts]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ShowTransition__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].root, 'opacity-transition', 'slow'),
    isOpen: isOpen,
    shouldAnimateFirstRender: true,
    isCustom: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].header,
    dir: lang.isRtl ? 'rtl' : undefined
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_14__["default"], {
    activeKey: selectedMediaIndex,
    name: headerAnimation,
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].headerTransition
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_MediaInfo__WEBPACK_IMPORTED_MODULE_16__["default"], {
    mediaId: mediaId
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Actions__WEBPACK_IMPORTED_MODULE_15__["default"], {
    mediaId: mediaId,
    onClose: handleClose
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Slides__WEBPACK_IMPORTED_MODULE_17__["default"], {
    isOpen: isOpen,
    mediaId: mediaId,
    getMediaId: getMediaId,
    selectMedia: selectMedia,
    withAnimation: withAnimation,
    onClose: handleClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _global$settings;
  const {
    mediaId,
    mediaType = _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft,
    txId,
    hiddenNfts,
    noGhostAnimation
  } = global.mediaViewer || {};
  const animationLevel = (_global$settings = global.settings) === null || _global$settings === void 0 ? void 0 : _global$settings.animationLevel;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  let mediaIds = _util_memo__WEBPACK_IMPORTED_MODULE_7__.MEMO_EMPTY_ARRAY;
  let mediaUrl;
  let mediaByIds;
  let blacklistedIds = _util_memo__WEBPACK_IMPORTED_MODULE_7__.MEMO_EMPTY_ARRAY;
  if (mediaType === _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft) {
    const {
      orderedAddresses,
      byAddress
    } = (accountState === null || accountState === void 0 ? void 0 : accountState.nfts) || {};
    const {
      blacklistedNftAddresses
    } = accountState || {};
    const nft = byAddress === null || byAddress === void 0 ? void 0 : byAddress[mediaId];
    mediaUrl = (nft === null || nft === void 0 ? void 0 : nft.image) || (nft === null || nft === void 0 ? void 0 : nft.thumbnail);
    mediaIds = orderedAddresses || _util_memo__WEBPACK_IMPORTED_MODULE_7__.MEMO_EMPTY_ARRAY;
    mediaByIds = byAddress;
    if (blacklistedNftAddresses !== null && blacklistedNftAddresses !== void 0 && blacklistedNftAddresses.length) {
      blacklistedIds = blacklistedNftAddresses;
    }
  }
  return {
    mediaId,
    txId,
    hiddenNfts,
    noGhostAnimation,
    mediaIds,
    mediaType,
    mediaUrl,
    mediaByIds,
    blacklistedIds,
    withAnimation: animationLevel > 0
  };
})(MediaViewer)));

/***/ }),

/***/ "./src/components/mediaViewer/Slides.tsx":
/*!***********************************************!*\
  !*** ./src/components/mediaViewer/Slides.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/animation */ "./src/util/animation.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/captureEvents */ "./src/util/captureEvents.ts");
/* harmony import */ var _util_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/math */ "./src/util/math.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useDebouncedCallback */ "./src/hooks/useDebouncedCallback.ts");
/* harmony import */ var _hooks_useDerivedState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useDerivedState */ "./src/hooks/useDerivedState.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSignal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useSignal */ "./src/hooks/useSignal.ts");
/* harmony import */ var _hooks_useSignalRef__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useSignalRef */ "./src/hooks/useSignalRef.ts");
/* harmony import */ var _hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useWindowSize */ "./src/hooks/useWindowSize.ts");
/* harmony import */ var _hooks_useZoomChangeSignal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./hooks/useZoomChangeSignal */ "./src/components/mediaViewer/hooks/useZoomChangeSignal.ts");
/* harmony import */ var _Media__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Media */ "./src/components/mediaViewer/Media.tsx");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");


















var SwipeDirection = /*#__PURE__*/function (SwipeDirection) {
  SwipeDirection[SwipeDirection["Horizontal"] = 0] = "Horizontal";
  SwipeDirection[SwipeDirection["Vertical"] = 1] = "Vertical";
  return SwipeDirection;
}(SwipeDirection || {});
const SWIPE_X_THRESHOLD = 50; // px
const SWIPE_Y_THRESHOLD = 50; // px
const SLIDES_GAP = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV ? 40 : 0; // px
const ANIMATION_DURATION = 350; // ms
const DEBOUNCE_SELECT_MEDIA = 350; // ms
const DEBOUNCE_SWIPE = 500; // ms
const DOUBLE_TAP_ZOOM = 3;
const CLICK_Y_THRESHOLD = 80; // px
const MAX_ZOOM = 4;
const MIN_ZOOM = 1;
const {
  easeOutCubic,
  easeOutQuart
} = _util_animation__WEBPACK_IMPORTED_MODULE_1__.timingFunctions;
let cancelAnimation;
let cancelZoomAnimation;
function Slides(_ref) {
  let {
    isOpen,
    mediaId,
    selectMedia,
    getMediaId,
    withAnimation,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const activeSlideRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const leftSlideRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const rightSlideRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lastTransformRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)({
    x: 0,
    y: 0,
    scale: 1
  });
  const swipeDirectionRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);
  const initialContentRectRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(undefined);
  const isReleasedRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const [getZoomChange] = (0,_hooks_useZoomChangeSignal__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const prevZoomChangeRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(getZoomChange());
  const [isMouseDown, setIsMouseDown] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [getTransform, setTransform] = (0,_hooks_useSignal__WEBPACK_IMPORTED_MODULE_12__["default"])({
    x: 0,
    y: 0,
    scale: 1
  });
  const transformRef = (0,_hooks_useSignalRef__WEBPACK_IMPORTED_MODULE_13__.useSignalRef)(getTransform);
  const [getActiveMediaId, setActiveMediaId] = (0,_hooks_useSignal__WEBPACK_IMPORTED_MODULE_12__["default"])(mediaId);
  const activeMediaIdRef = (0,_hooks_useSignalRef__WEBPACK_IMPORTED_MODULE_13__.useSignalRef)(getActiveMediaId);
  const isScaled = (0,_hooks_useDerivedState__WEBPACK_IMPORTED_MODULE_8__["default"])(() => getTransform().scale !== 1, [getTransform]);
  const activeMediaId = (0,_hooks_useDerivedState__WEBPACK_IMPORTED_MODULE_8__["default"])(getActiveMediaId);
  const {
    height: windowHeight,
    width: windowWidth,
    isResizing
  } = (0,_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_14__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_9__["default"])({
    isActive: isOpen,
    onBack: onClose,
    shouldBeReplaced: true
  });
  const selectMediaDebounced = (0,_hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(selectMedia, [selectMedia], DEBOUNCE_SELECT_MEDIA, true);
  const clearSwipeDirectionDebounced = (0,_hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    swipeDirectionRef.current = undefined;
  }, [], DEBOUNCE_SWIPE, true);
  const clickXThreshold = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV ? 40 : windowWidth / 10;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const {
      scale,
      x,
      y
    } = transformRef.current;
    // Only update active media if slide is in default position
    if (x === 0 && y === 0 && scale === 1) {
      setActiveMediaId(mediaId);
    }
  }, [mediaId, setActiveMediaId, transformRef]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const {
      x,
      y,
      scale
    } = getTransform();
    if (leftSlideRef.current) {
      leftSlideRef.current.style.transform = getTransformStyle(-windowWidth + x - SLIDES_GAP);
    }
    if (activeSlideRef.current) {
      activeSlideRef.current.style.transform = getTransformStyle(x, y, scale);
    }
    if (rightSlideRef.current) {
      rightSlideRef.current.style.transform = getTransformStyle(windowWidth + x + SLIDES_GAP);
    }
  }, [getTransform, windowWidth]);
  const changeSlide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(function (direction) {
    let dryRun = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    let lastTransform = lastTransformRef.current;
    const mId = getMediaId(activeMediaIdRef.current, direction);
    if (dryRun) return mId !== undefined;
    if (mId === undefined) return false;
    const offset = (windowWidth + SLIDES_GAP) * direction;
    const transform = transformRef.current;
    const x = transform.x + offset;
    setActiveMediaId(mId);
    selectMediaDebounced(mId);
    lastTransform = {
      x: 0,
      y: 0,
      scale: 1
    };
    if (!withAnimation) {
      setTransform(lastTransform);
      return true;
    }
    cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
      from: x,
      to: 0,
      duration: ANIMATION_DURATION,
      timing: easeOutCubic,
      onUpdate: value => setTransform({
        y: 0,
        x: value,
        scale: 1
      })
    });
    return true;
  });
  const handleNextSlide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => changeSlide(1));
  const handlePrevSlide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => changeSlide(-1));
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!containerRef.current || activeMediaIdRef.current === undefined) {
      return undefined;
    }
    let lastTransform = lastTransformRef.current;
    const lastDragOffset = {
      x: 0,
      y: 0
    };
    const lastZoomCenter = {
      x: 0,
      y: 0
    };
    const panDelta = {
      x: 0,
      y: 0
    };
    let lastGestureTime = Date.now();
    let content;
    const setLastGestureTime = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.debounce)(() => {
      lastGestureTime = Date.now();
    }, 500, false, true);
    const changeSlideOnClick = e => {
      const {
        scale
      } = transformRef.current;
      if (scale !== 1) return [false, false];
      let direction = 0;
      if (windowHeight - e.pageY < CLICK_Y_THRESHOLD) {
        return [false, false];
      }
      if (e.pageX < clickXThreshold) {
        direction = -1;
      } else if (e.pageX > windowWidth - clickXThreshold) {
        direction = 1;
      }
      const hasNextSlide = changeSlide(direction, !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV);
      const isInThreshold = direction !== 0;
      return [isInThreshold, hasNextSlide];
    };
    const handleKeyDown = e => {
      const {
        scale
      } = transformRef.current;
      if (scale !== 1) return;
      switch (e.key) {
        case 'Left': // IE/Edge specific value
        case 'ArrowLeft':
          changeSlide(-1);
          break;
        case 'Right': // IE/Edge specific value
        case 'ArrowRight':
          changeSlide(1);
          break;
      }
    };
    const calculateOffsetBoundaries = function (_ref2) {
      let {
        x,
        y,
        scale
      } = _ref2;
      let offsetTop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
      const initialContentRect = initialContentRectRef.current;
      if (!initialContentRect) return [{
        x,
        y,
        scale
      }, true, true];
      // Get current content boundaries
      let inBoundsX = true;
      let inBoundsY = true;
      const centerX = (windowWidth - windowWidth * scale) / 2;
      const centerY = (windowHeight - windowHeight * scale) / 2;

      // If content is outside window we calculate offset boundaries
      // based on initial content rect and current scale
      const minOffsetX = Math.max(-initialContentRect.left * scale, centerX);
      const maxOffsetX = windowWidth - initialContentRect.right * scale;
      inBoundsX = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.isBetween)(x, maxOffsetX, minOffsetX);
      x = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(x, maxOffsetX, minOffsetX);
      const minOffsetY = Math.max(-initialContentRect.top * scale + offsetTop, centerY);
      const maxOffsetY = windowHeight - initialContentRect.bottom * scale;
      inBoundsY = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.isBetween)(y, maxOffsetY, minOffsetY);
      y = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(y, maxOffsetY, minOffsetY);
      return [{
        x,
        y,
        scale
      }, inBoundsX, inBoundsY];
    };
    const onRelease = e => {
      // This allows to prevent onRelease triggered by debounced wheel event
      // after onRelease was triggered manually in onDrag
      if (isReleasedRef.current) {
        isReleasedRef.current = false;
        return;
      }
      if (e.type === 'mouseup') {
        setIsMouseDown(false);
      }
      const transform = transformRef.current;
      const {
        y,
        scale
      } = transform;
      let x = transform.x;
      const absX = Math.abs(x);
      const absY = Math.abs(y);
      clearSwipeDirectionDebounced();

      // If scale is less than 1 we need to bounce back
      if (scale < 1) {
        lastTransform = {
          x: 0,
          y: 0,
          scale: 1
        };
        cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
          from: [x, y, scale],
          to: [0, 0, 1],
          duration: ANIMATION_DURATION,
          timing: easeOutCubic,
          onUpdate: value => setTransform({
            x: value[0],
            y: value[1],
            scale: value[2]
          })
        });
        return;
      }
      if (scale > 1) {
        // Get current content boundaries
        const s1 = Math.min(scale, MAX_ZOOM);
        const scaleFactor = s1 / scale;

        // Calculate new position based on the last zoom center to keep the zoom center
        // at the same position when bouncing back from max zoom
        let x1 = x * scaleFactor + (lastZoomCenter.x - scaleFactor * lastZoomCenter.x);
        let y1 = y * scaleFactor + (lastZoomCenter.y - scaleFactor * lastZoomCenter.y);

        // Arbitrary pan velocity coefficient
        const k = 0.15;

        // If scale didn't change, we need to add inertia to pan gesture
        if (e.type !== 'wheel' && lastTransform.scale === scale) {
          // Calculate user gesture velocity
          const Vx = Math.abs(lastDragOffset.x) / (Date.now() - lastGestureTime);
          const Vy = Math.abs(lastDragOffset.y) / (Date.now() - lastGestureTime);

          // Add extra distance based on gesture velocity and last pan delta
          x1 -= Math.abs(lastDragOffset.x) * Vx * k * panDelta.x;
          y1 -= Math.abs(lastDragOffset.y) * Vy * k * panDelta.y;
        }
        [lastTransform] = calculateOffsetBoundaries({
          x: x1,
          y: y1,
          scale: s1
        });
        cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
          from: [x, y, scale],
          to: [lastTransform.x, lastTransform.y, lastTransform.scale],
          duration: ANIMATION_DURATION,
          timing: easeOutCubic,
          onUpdate: value => setTransform({
            x: value[0],
            y: value[1],
            scale: value[2]
          })
        });
        return;
      }
      lastTransform = {
        x,
        y,
        scale
      };
      if (absY >= SWIPE_Y_THRESHOLD) {
        onClose();
        return;
      }
      // Bounce back if vertical swipe is below threshold
      if (absY > 0) {
        cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
          from: y,
          to: 0,
          duration: ANIMATION_DURATION,
          timing: easeOutCubic,
          onUpdate: value => setTransform({
            x: 0,
            y: value,
            scale
          })
        });
        return;
      }
      // Get horizontal swipe direction
      const direction = x < 0 ? 1 : -1;
      const mId = getMediaId(activeMediaIdRef.current, x < 0 ? 1 : -1);
      // Get the direction of the last pan gesture.
      // Could be different from the total horizontal swipe direction
      // if user starts a swipe in one direction and then changes the direction
      // we need to cancel slide transition
      const dirX = panDelta.x < 0 ? -1 : 1;
      if (mId !== undefined && absX >= SWIPE_X_THRESHOLD && direction === dirX) {
        const offset = (windowWidth + SLIDES_GAP) * direction;
        // If image is shifted by more than SWIPE_X_THRESHOLD,
        // We shift everything by one screen width and then set new active message id
        x += offset;
        setActiveMediaId(mId);
        selectMediaDebounced(mId);
      }
      // Then we always return to the original position
      cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
        from: x,
        to: 0,
        duration: ANIMATION_DURATION,
        timing: easeOutCubic,
        onUpdate: value => setTransform({
          y: 0,
          x: value,
          scale: scale !== null && scale !== void 0 ? scale : 1
        })
      });
    };
    const cleanup = (0,_util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.captureEvents)(containerRef.current, {
      isNotPassive: true,
      withNativeDrag: true,
      excludedClosestSelector: `${_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].header}, .${_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].contentDescription}`,
      minZoom: MIN_ZOOM,
      maxZoom: MAX_ZOOM,
      doubleTapZoom: DOUBLE_TAP_ZOOM,
      withWheelDrag: true,
      onCapture: e => {
        const {
          x,
          y,
          scale
        } = transformRef.current;
        if (e.type === 'mousedown') {
          setIsMouseDown(true);
          if (scale !== 1) {
            e.preventDefault();
            return;
          }
        }
        lastGestureTime = Date.now();
        if (x === 0 && y === 0 && scale === 1) {
          if (!activeSlideRef.current) return;
          content = activeSlideRef.current.querySelector('img, video');
          if (!content) return;
          // Store initial content rect, without transformations
          initialContentRectRef.current = content.getBoundingClientRect();
        }
      },
      onDrag: (event, captureEvent, _ref3, cancelDrag) => {
        let {
          dragOffsetX,
          dragOffsetY
        } = _ref3;
        if (isReleasedRef.current) return;
        // Avoid conflicts with swipe-to-back gestures
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_IOS && captureEvent.type === 'touchstart') {
          const {
            pageX
          } = captureEvent.touches[0];
          if (pageX <= _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.IOS_SCREEN_EDGE_THRESHOLD || pageX >= windowWidth - _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.IOS_SCREEN_EDGE_THRESHOLD) {
            return;
          }
        }
        if (cancelAnimation) {
          cancelAnimation();
          cancelAnimation = undefined;
        }
        panDelta.x = lastDragOffset.x - dragOffsetX;
        panDelta.y = lastDragOffset.y - dragOffsetY;
        lastDragOffset.x = dragOffsetX;
        lastDragOffset.y = dragOffsetY;
        const absOffsetX = Math.abs(dragOffsetX);
        const absOffsetY = Math.abs(dragOffsetY);
        const {
          x,
          y,
          scale
        } = transformRef.current;

        // If user is inactive but is still touching the screen
        // we reset last gesture time
        setLastGestureTime();

        // If image is scaled we just need to pan it
        if (scale !== 1) {
          const x1 = lastTransform.x + dragOffsetX;
          const y1 = lastTransform.y + dragOffsetY;
          if (['wheel', 'mousemove'].includes(event.type)) {
            const [transform, inBoundsX, inBoundsY] = calculateOffsetBoundaries({
              x: x1,
              y: y1,
              scale
            });
            if (cancelDrag) cancelDrag(!inBoundsX, !inBoundsY);
            setTransform(transform);
            return;
          }
          if ('touches' in event && event.touches.length === 1) {
            setTransform({
              x: x1,
              y: y1,
              scale
            });
          }
          return;
        }
        if (event.type === 'mousemove') return;
        if (swipeDirectionRef.current !== SwipeDirection.Vertical) {
          // If user is swiping horizontally or horizontal shift is dominant
          // we change only horizontal position
          if (swipeDirectionRef.current === SwipeDirection.Horizontal || Math.abs(x) > _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.SWIPE_DIRECTION_THRESHOLD || absOffsetX / absOffsetY > _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.SWIPE_DIRECTION_TOLERANCE) {
            swipeDirectionRef.current = SwipeDirection.Horizontal;
            const limit = windowWidth + SLIDES_GAP;
            const x1 = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(dragOffsetX, -limit, limit);
            setTransform({
              x: x1,
              y: 0,
              scale
            });
            // We know that at this point onRelease will trigger slide change,
            // We can trigger onRelease directly instead of waiting for the debounced callback
            // to avoid a delay
            if (event.type === 'wheel' && Math.abs(x1) > SWIPE_X_THRESHOLD * 2) {
              onRelease(event);
              isReleasedRef.current = true;
            }
            return;
          }
        }
        // If vertical shift is dominant we change only vertical position
        if (swipeDirectionRef.current === SwipeDirection.Vertical || Math.abs(y) > _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.SWIPE_DIRECTION_THRESHOLD || absOffsetY / absOffsetX > _util_captureEvents__WEBPACK_IMPORTED_MODULE_3__.SWIPE_DIRECTION_TOLERANCE) {
          swipeDirectionRef.current = SwipeDirection.Vertical;
          const limit = windowHeight;
          const y1 = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(dragOffsetY, -limit, limit);
          setTransform({
            x: 0,
            y: y1,
            scale
          });
          if (event.type === 'wheel' && Math.abs(y1) > SWIPE_Y_THRESHOLD * 2) {
            onRelease(event);
            isReleasedRef.current = true;
          }
        }
      },
      onZoom: (e, _ref4) => {
        let {
          zoom,
          zoomFactor,
          initialCenterX,
          initialCenterY,
          dragOffsetX,
          dragOffsetY,
          currentCenterX,
          currentCenterY
        } = _ref4;
        if (cancelAnimation) cancelAnimation();
        initialCenterX = initialCenterX || windowWidth / 2;
        initialCenterY = initialCenterY || windowHeight / 2;
        currentCenterX = currentCenterX || windowWidth / 2;
        currentCenterY = currentCenterY || windowHeight / 2;

        // Calculate current scale based on zoom factor and limits, add zoom margin for bounce back effect
        const scale = zoom !== null && zoom !== void 0 ? zoom : (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(lastTransform.scale * zoomFactor, MIN_ZOOM * 0.5, MAX_ZOOM * 3);
        const scaleFactor = scale / lastTransform.scale;
        const offsetX = Math.abs(Math.min(lastTransform.x, 0));
        const offsetY = Math.abs(Math.min(lastTransform.y, 0));

        // Save last zoom center for bounce back effect
        lastZoomCenter.x = currentCenterX;
        lastZoomCenter.y = currentCenterY;

        // Calculate new center relative to the shifted image
        const scaledCenterX = offsetX + initialCenterX;
        const scaledCenterY = offsetY + initialCenterY;

        // Calculate how much we need to shift the image to keep the zoom center at the same position
        const scaleOffsetX = scaledCenterX - scaleFactor * scaledCenterX;
        const scaleOffsetY = scaledCenterY - scaleFactor * scaledCenterY;
        const [transform] = calculateOffsetBoundaries({
          x: lastTransform.x + scaleOffsetX + dragOffsetX,
          y: lastTransform.y + scaleOffsetY + dragOffsetY,
          scale
        });
        setTransform(transform);
      },
      onClick(e) {
        setIsMouseDown(false);
        const [isInThreshold, hasNextSlide] = changeSlideOnClick(e);
        if (isInThreshold) {
          e.preventDefault();
          e.stopPropagation();
          if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV) return;
          if (!hasNextSlide) onClose();
          return;
        }
        if (lastTransform.scale !== 1 || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV) return;
        onClose();
      },
      onDoubleClick(e, _ref5) {
        let {
          centerX,
          centerY
        } = _ref5;
        const [isInThreshold] = changeSlideOnClick(e);
        if (isInThreshold) {
          e.preventDefault();
          e.stopPropagation();
          return;
        }
        if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV && e.type !== 'wheel') return;
        const {
          x,
          y,
          scale
        } = transformRef.current;
        // Calculate how much we need to shift the image to keep the zoom center at the same position
        const scaleOffsetX = centerX - DOUBLE_TAP_ZOOM * centerX;
        const scaleOffsetY = centerY - DOUBLE_TAP_ZOOM * centerY;
        if (scale === 1) {
          if (x !== 0 || y !== 0) return;
          lastTransform = calculateOffsetBoundaries({
            x: scaleOffsetX,
            y: scaleOffsetY,
            scale: DOUBLE_TAP_ZOOM
          })[0];
        } else {
          lastTransform = {
            x: 0,
            y: 0,
            scale: 1
          };
        }
        cancelAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
          from: [x, y, scale],
          to: [lastTransform.x, lastTransform.y, lastTransform.scale],
          duration: ANIMATION_DURATION,
          timing: easeOutCubic,
          onUpdate: value => {
            const transform = {
              x: value[0],
              y: value[1],
              scale: value[2]
            };
            setTransform(transform);
          }
        });
      },
      onRelease
    });
    document.addEventListener('keydown', handleKeyDown, false);
    return () => {
      cleanup();
      document.removeEventListener('keydown', handleKeyDown, false);
    };
  }, [onClose, setTransform, getMediaId, windowWidth, windowHeight, clickXThreshold, selectMediaDebounced, clearSwipeDirectionDebounced, withAnimation, setIsMouseDown, transformRef, setActiveMediaId, activeMediaIdRef, changeSlide]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const zoomChange = getZoomChange();
    const hasZoomChanged = prevZoomChangeRef.current !== undefined && prevZoomChangeRef.current !== zoomChange;
    if (!containerRef.current || !hasZoomChanged) return;
    prevZoomChangeRef.current = zoomChange;
    const {
      scale
    } = transformRef.current;
    const dir = zoomChange > 0 ? -1 : +1;
    const minZoom = MIN_ZOOM * 0.6;
    const maxZoom = MAX_ZOOM * 3;
    let steps = 100;
    let prevValue = 0;
    if (scale <= minZoom && dir > 0) return;
    if (scale >= maxZoom && dir < 0) return;
    if (scale === 1 && dir > 0) steps = 20;
    if (cancelZoomAnimation) cancelZoomAnimation();
    cancelZoomAnimation = (0,_util_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
      from: dir,
      to: dir * steps,
      duration: ANIMATION_DURATION,
      timing: easeOutQuart,
      onUpdate: value => {
        if (!containerRef.current) return;
        const delta = (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.round)(value - prevValue, 2);
        prevValue = value;
        // To reuse existing logic we trigger wheel event for zoom buttons
        const wheelEvent = new WheelEvent('wheel', {
          deltaY: delta,
          ctrlKey: true
        });
        containerRef.current.dispatchEvent(wheelEvent);
      }
    });
  }, [getZoomChange, transformRef]);

  // eslint-disable-next-line no-null/no-null
  if (activeMediaId === undefined) return null;
  const nextMediaId = getMediaId(activeMediaId, 1);
  const prevMediaId = getMediaId(activeMediaId, -1);
  const hasPrev = prevMediaId !== undefined;
  const hasNext = nextMediaId !== undefined;
  const isMoving = isMouseDown && isScaled;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slides,
    ref: containerRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide,
    ref: leftSlideRef
  }, hasPrev && !isScaled && !isResizing && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Media__WEBPACK_IMPORTED_MODULE_16__["default"], {
    mediaId: prevMediaId
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide, _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide_active, isMoving && _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide_moving),
    ref: activeSlideRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Media__WEBPACK_IMPORTED_MODULE_16__["default"], {
    mediaId: activeMediaId
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide,
    ref: rightSlideRef
  }, hasNext && !isScaled && !isResizing && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Media__WEBPACK_IMPORTED_MODULE_16__["default"], {
    mediaId: nextMediaId
  })), hasPrev && !isScaled && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    onClick: handlePrevSlide,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].navigation, _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].navigation_prev),
    "aria-label": lang('Previous'),
    dir: lang.isRtl ? 'rtl' : undefined
  }), hasNext && !isScaled && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_TOUCH_ENV && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    onClick: handleNextSlide,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].navigation, _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].navigation_next),
    "aria-label": lang('Next'),
    dir: lang.isRtl ? 'rtl' : undefined
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Slides));
function getTransformStyle() {
  let x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
  let y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  let scale = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;
  return `translate3d(${x.toFixed(3)}px, ${y.toFixed(3)}px, 0px) scale(${scale.toFixed(3)})`;
}

/***/ }),

/***/ "./src/components/mediaViewer/helpers/ghostAnimation.ts":
/*!**************************************************************!*\
  !*** ./src/components/mediaViewer/helpers/ghostAnimation.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ANIMATION_DURATION: () => (/* binding */ ANIMATION_DURATION),
/* harmony export */   animateClosing: () => (/* binding */ animateClosing),
/* harmony export */   animateOpening: () => (/* binding */ animateOpening)
/* harmony export */ });
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_animation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/animation */ "./src/util/animation.ts");
/* harmony import */ var _util_isElementInViewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/isElementInViewport */ "./src/util/isElementInViewport.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _util_windowSize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/windowSize */ "./src/util/windowSize.ts");
/* harmony import */ var _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MediaViewer.module.scss */ "./src/components/mediaViewer/MediaViewer.module.scss");









const ANIMATION_DURATION = 200;

// Header height + bottom padding, keep in sync with styles.image max-height
const OCCUPIED_HEIGHT = 14 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.REM;
function animateOpening(type, mediaId, mediaUrl, txId, hiddenNfts) {
  const {
    image: fromImage
  } = getNode(type, mediaId, txId, hiddenNfts);
  if (!fromImage || !mediaUrl) {
    return;
  }
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(async () => {
    document.body.classList.add('ghost-animating');
    const {
      width: windowWidth,
      height: windowHeight
    } = _util_windowSize__WEBPACK_IMPORTED_MODULE_7__["default"].get();
    const {
      width: mediaWidth,
      height: mediaHeight
    } = await getImageDimension(mediaUrl);
    const availableHeight = windowHeight - OCCUPIED_HEIGHT;
    const offsetTop = (windowWidth <= _config__WEBPACK_IMPORTED_MODULE_1__.MOBILE_SCREEN_MAX_WIDTH ? 8 : 7) * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.REM;
    const {
      width: toWidth,
      height: toHeight
    } = calculateDimensions(windowWidth, availableHeight, mediaWidth, mediaHeight);
    const toLeft = (windowWidth - toWidth) / 2;
    const toTop = offsetTop + (availableHeight - toHeight) / 2;
    const {
      top: fromTop,
      left: fromLeft,
      width: fromWidth,
      height: fromHeight
    } = fromImage.getBoundingClientRect();
    const fromTranslateX = fromLeft + fromWidth / 2 - (toLeft + toWidth / 2);
    const fromTranslateY = fromTop + fromHeight / 2 - (toTop + toHeight / 2);
    const fromScaleX = fromWidth / toWidth;
    const fromScaleY = fromHeight / toHeight;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
      const ghost = createGhost(fromImage);
      applyShape(ghost, type, true);
      (0,_util_animation__WEBPACK_IMPORTED_MODULE_3__.applyStyles)(ghost, {
        top: `${toTop}px`,
        left: `${toLeft}px`,
        width: `${toWidth}px`,
        height: `${toHeight}px`,
        transform: `translate3d(${fromTranslateX}px, ${fromTranslateY}px, 0) scale(${fromScaleX}, ${fromScaleY})`
      });
      document.body.appendChild(ghost);
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
        ghost.style.transform = '';
        clearShape(ghost, type, true);
        setTimeout(() => {
          (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
            if (document.body.contains(ghost)) {
              document.body.removeChild(ghost);
            }
            document.body.classList.remove('ghost-animating');
          });
        }, ANIMATION_DURATION + _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATION_END_DELAY);
      });
    });
  });
}
function animateClosing(type, mediaId, txId, hiddenNfts) {
  const {
    container,
    image: toImage
  } = getNode(type, mediaId, txId, hiddenNfts);
  const fromImage = document.querySelector(`.${_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].slide_active} img`);
  if (!fromImage || !toImage) {
    return;
  }
  const {
    top: fromTop,
    left: fromLeft,
    width: fromWidth,
    height: fromHeight
  } = fromImage.getBoundingClientRect();
  const {
    top: targetTop,
    left: toLeft,
    width: toWidth,
    height: toHeight
  } = toImage.getBoundingClientRect();
  let toTop = targetTop;
  if (!(0,_util_isElementInViewport__WEBPACK_IMPORTED_MODULE_4__.isElementInViewport)(toImage)) {
    const {
      height: windowHeight
    } = _util_windowSize__WEBPACK_IMPORTED_MODULE_7__["default"].get();
    toTop = targetTop < fromTop ? -toHeight : windowHeight;
  }
  const fromTranslateX = fromLeft + fromWidth / 2 - (toLeft + toWidth / 2);
  const fromTranslateY = fromTop + fromHeight / 2 - (toTop + toHeight / 2);
  const fromScaleX = fromWidth / toWidth;
  const fromScaleY = fromHeight / toHeight;
  const existingGhost = document.querySelector(`.${_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost}`);
  const ghost = existingGhost || createGhost(fromImage);
  let ghostStyles;
  if (existingGhost) {
    const {
      top,
      left,
      width,
      height
    } = existingGhost.getBoundingClientRect();
    const scaleX = width / toWidth;
    const scaleY = height / toHeight;
    ghostStyles = {
      transition: 'none',
      top: `${toTop}px`,
      left: `${toLeft}px`,
      transformOrigin: 'top left',
      transform: `translate3d(${left - toLeft}px, ${top - toTop}px, 0) scale(${scaleX}, ${scaleY})`,
      width: `${toWidth}px`,
      height: `${toHeight}px`
    };
  } else {
    ghostStyles = {
      top: `${toTop}px`,
      left: `${toLeft}px`,
      width: `${toWidth}px`,
      height: `${toHeight}px`,
      transform: `translate3d(${fromTranslateX}px, ${fromTranslateY}px, 0) scale(${fromScaleX}, ${fromScaleY})`
    };
  }
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
    applyShape(ghost, type);
    (0,_util_animation__WEBPACK_IMPORTED_MODULE_3__.applyStyles)(ghost, ghostStyles);
    if (!existingGhost) document.body.appendChild(ghost);
    document.body.classList.add('ghost-animating');
    if (container) {
      container.classList.add('ghost-target');
    }
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
      if (existingGhost) {
        existingGhost.style.transition = '';
      }
      ghost.style.transform = '';
      setTimeout(() => {
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
          if (document.body.contains(ghost)) {
            document.body.removeChild(ghost);
          }
          document.body.classList.remove('ghost-animating');
          if (container) {
            container.classList.remove('ghost-target');
          }
        });
      }, ANIMATION_DURATION + _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATION_END_DELAY);
    });
  });
}
function getNode(type, mediaId, txId, hiddenNfts) {
  let image;
  let container;
  if (type === _global_types__WEBPACK_IMPORTED_MODULE_0__.MediaType.Nft) {
    var _container;
    container = document.querySelector(txId ? `.transaction-nft[data-tx-id="${txId}"][data-nft-address="${mediaId}"]` : hiddenNfts ? `.hidden-nfts-${hiddenNfts} [data-nft-address="${mediaId}"]` : `.nfts-container > .Transition_slide-active [data-nft-address="${mediaId}"]`);
    image = (_container = container) === null || _container === void 0 ? void 0 : _container.querySelector('img');
  }
  return {
    container,
    image
  };
}
function createGhost(source) {
  const ghost = document.createElement('div');
  ghost.classList.add(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost);
  const img = new Image();
  img.classList.add(_MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghostImage);
  img.draggable = false;
  img.oncontextmenu = _util_stopEvent__WEBPACK_IMPORTED_MODULE_5__["default"];
  img.src = source.src;
  ghost.appendChild(img);
  return ghost;
}
function calculateDimensions(availableWidth, availableHeight, mediaWidth, mediaHeight) {
  const aspectRatio = mediaHeight / mediaWidth;
  const calculatedWidth = Math.min(mediaWidth, availableWidth);
  const calculatedHeight = Math.round(calculatedWidth * aspectRatio);
  if (calculatedHeight > availableHeight) {
    return {
      width: Math.round(availableHeight / aspectRatio),
      height: availableHeight
    };
  }
  return {
    width: calculatedWidth,
    height: Math.round(calculatedWidth * aspectRatio)
  };
}
function applyShape(ghost, type) {
  let isOpening = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (type === _global_types__WEBPACK_IMPORTED_MODULE_0__.MediaType.Nft) {
    ghost.classList.add(isOpening ? _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost_roundedOpening : _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost_roundedClosing);
  }
}
function clearShape(ghost, type) {
  let isOpening = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (type === _global_types__WEBPACK_IMPORTED_MODULE_0__.MediaType.Nft) {
    ghost.classList.remove(isOpening ? _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost_roundedOpening : _MediaViewer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].ghost_roundedClosing);
  }
}
async function getImageDimension(url) {
  const img = new Image();
  img.src = url;
  await new Promise(resolve => {
    img.onload = resolve;
  });
  return {
    width: img.width,
    height: img.height
  };
}

/***/ }),

/***/ "./src/components/mediaViewer/hooks/useNftMenu.ts":
/*!********************************************************!*\
  !*** ./src/components/mediaViewer/hooks/useNftMenu.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useNftMenu)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/url */ "./src/util/url.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");







const ON_SALE_ITEM = {
  name: 'Cannot be sent',
  value: 'send',
  description: 'NFT is for sale',
  isDisabled: true
};
const TON_DNS_ITEM = {
  name: 'Configure DNS',
  value: 'tondns',
  fontIcon: 'external'
};
const SEND_ITEM = {
  name: 'Send',
  value: 'send'
};
const FRAGMENT_ITEM = {
  name: 'Fragment',
  value: 'fragment',
  fontIcon: 'external'
};
const GETGEMS_ITEM = {
  name: 'Getgems',
  value: 'getgems',
  fontIcon: 'external'
};
const TON_EXPLORER_ITEM = {
  name: _config__WEBPACK_IMPORTED_MODULE_2__.TON_EXPLORER_NAME,
  value: 'tonExplorer',
  fontIcon: 'external'
};
const COLLECTION_ITEM = {
  name: 'Collection',
  value: 'collection'
};
const HIDE_ITEM = {
  name: 'Hide',
  value: 'hide'
};
const NOT_SCAM = {
  name: 'Not Scam',
  value: 'not_scam'
};
const UNHIDE = {
  name: 'Unhide',
  value: 'unhide'
};
const BURN_ITEM = {
  name: 'Burn',
  value: 'burn',
  isDangerous: true
};
const SELECT_ITEM = {
  name: 'Select',
  value: 'select',
  withSeparator: true
};
function useNftMenu(nft, isNftBlacklisted, isNftWhitelisted) {
  const {
    startTransfer,
    selectNfts,
    openNftCollection,
    burnNfts,
    addNftsToBlacklist,
    addNftsToWhitelist,
    closeMediaViewer,
    openUnhideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const handleMenuItemSelect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__["default"])(value => {
    const {
      isTestnet
    } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings;
    switch (value) {
      case 'send':
        {
          startTransfer({
            isPortrait: (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.getIsPortrait)(),
            nfts: [nft]
          });
          closeMediaViewer();
          break;
        }
      case 'tonExplorer':
        {
          const url = (0,_util_url__WEBPACK_IMPORTED_MODULE_4__.getTonExplorerNftUrl)(nft.address, isTestnet);
          (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_3__.openUrl)(url);
          break;
        }
      case 'getgems':
        {
          const getgemsBaseUrl = isTestnet ? _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_2__.GETGEMS_BASE_MAINNET_URL;
          const getgemsUrl = nft.collectionAddress ? `${getgemsBaseUrl}collection/${nft.collectionAddress}/${nft.address}` : `${getgemsBaseUrl}nft/${nft.address}`;
          (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_3__.openUrl)(getgemsUrl);
          break;
        }
      case 'tondns':
        {
          const url = `https://dns.ton.org/#${(nft.name || '').replace(/\.ton$/i, '')}`;
          (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_3__.openUrl)(url);
          break;
        }
      case 'fragment':
        {
          var _collectionName;
          let url;
          if ((_collectionName = nft.collectionName) !== null && _collectionName !== void 0 && _collectionName.toLowerCase().includes('numbers')) {
            var _name;
            url = `https://fragment.com/number/${(_name = nft.name) === null || _name === void 0 ? void 0 : _name.replace(/[^0-9]/g, '')}`;
          } else {
            var _name2;
            url = `https://fragment.com/username/${encodeURIComponent(((_name2 = nft.name) === null || _name2 === void 0 ? void 0 : _name2.substring(1)) || '')}`;
          }
          (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_3__.openUrl)(url);
          break;
        }
      case 'collection':
        {
          openNftCollection({
            address: nft.collectionAddress
          }, {
            forceOnHeavyAnimation: true
          });
          break;
        }
      case 'hide':
        {
          addNftsToBlacklist({
            addresses: [nft.address]
          });
          closeMediaViewer();
          break;
        }
      case 'not_scam':
        {
          openUnhideNftModal({
            address: nft.address,
            name: nft.name
          });
          break;
        }
      case 'unhide':
        {
          addNftsToWhitelist({
            addresses: [nft.address]
          });
          closeMediaViewer();
          break;
        }
      case 'burn':
        {
          burnNfts({
            nfts: [nft]
          });
          closeMediaViewer();
          break;
        }
      case 'select':
        {
          selectNfts({
            addresses: [nft.address]
          });
          break;
        }
    }
  });
  const menuItems = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!nft) return [];
    return [...(nft.collectionAddress === _config__WEBPACK_IMPORTED_MODULE_2__.TON_DNS_COLLECTION ? [TON_DNS_ITEM] : []), nft.isOnSale ? ON_SALE_ITEM : SEND_ITEM, ...(nft.isOnFragment ? [FRAGMENT_ITEM] : []), GETGEMS_ITEM, TON_EXPLORER_ITEM, ...(nft.collectionAddress ? [COLLECTION_ITEM] : []), ...(!nft.isScam && !isNftBlacklisted || isNftWhitelisted ? [HIDE_ITEM] : []), ...(nft.isScam && !isNftWhitelisted ? [NOT_SCAM] : []), ...(!nft.isScam && isNftBlacklisted ? [UNHIDE] : []), ...(!nft.isOnSale ? [BURN_ITEM, SELECT_ITEM] : [])];
  }, [nft, isNftBlacklisted, isNftWhitelisted]);
  return {
    menuItems,
    handleMenuItemSelect
  };
}

/***/ }),

/***/ "./src/components/mediaViewer/hooks/useZoomChangeSignal.ts":
/*!*****************************************************************!*\
  !*** ./src/components/mediaViewer/hooks/useZoomChangeSignal.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useZoomChange)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_signals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/signals */ "./src/util/signals.ts");


const [getZoomChange, setZoomChange] = (0,_util_signals__WEBPACK_IMPORTED_MODULE_1__.createSignal)(1);
function useZoomChange() {
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return () => {
      setZoomChange(1);
    };
  }, []);
  return [getZoomChange, setZoomChange];
}

/***/ }),

/***/ "./src/components/receive/Content.tsx":
/*!********************************************!*\
  !*** ./src/components/receive/Content.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useQrCode__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useQrCode */ "./src/hooks/useQrCode.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ReceiveModal.module.scss */ "./src/components/receive/ReceiveModal.module.scss");











function Content(_ref) {
  let {
    isOpen,
    address,
    isStatic,
    onInvoiceModalOpen,
    isLedger
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const {
    qrCodeRef,
    isInitialized
  } = (0,_hooks_useQrCode__WEBPACK_IMPORTED_MODULE_6__["default"])(address, isOpen, _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].qrCodeHidden, undefined, true);
  const {
    verifyHardwareAddress
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const handleVerify = e => {
    e.preventDefault();
    e.stopPropagation();
    verifyHardwareAddress();
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].contentTitle
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$receive_ton_description'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].label
  }, lang('Your address')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_8__["default"], {
    address: address,
    className: isStatic ? _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].copyButtonStatic : undefined,
    copyNotification: lang('Your address was copied!'),
    noSavedAddress: true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].qrCode, !isInitialized && _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].qrCodeHidden),
    ref: qrCodeRef
  }), isLedger && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].contentTitle
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$ledger_verify_address')), ' ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "#",
    onClick: handleVerify,
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dottedLink
  }, lang('Verify now'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_7__["default"], {
    onClick: onInvoiceModalOpen,
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].invoiceButton
  }, lang('Create Deposit Link'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const account = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectAccount)(global, global.currentAccountId);
  return {
    address: account === null || account === void 0 ? void 0 : account.address,
    isLedger: Boolean(account === null || account === void 0 ? void 0 : account.ledger)
  };
})(Content)));

/***/ }),

/***/ "./src/components/receive/InvoiceModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/receive/InvoiceModal.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_ton_formatTransferUrl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/ton/formatTransferUrl */ "./src/util/ton/formatTransferUrl.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Dropdown__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Dropdown */ "./src/components/ui/Dropdown.tsx");
/* harmony import */ var _ui_Input__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ReceiveModal.module.scss */ "./src/components/receive/ReceiveModal.module.scss");

















function InvoiceModal(_ref) {
  let {
    address,
    isOpen,
    tokens,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const [amount, setAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);
  const [comment, setComment] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [hasAmountError, setHasAmountError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const invoiceUrl = address ? (0,_util_ton_formatTransferUrl__WEBPACK_IMPORTED_MODULE_7__["default"])(address, amount, comment) : '';
  const decimals = _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_DECIMAL_PLACES; // TODO Change it after token selection is supported

  const dropdownItems = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!tokens) {
      return [];
    }
    return tokens.reduce((acc, token) => {
      if (token.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG) {
        acc.push({
          value: token.slug,
          icon: token.image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_8__.ASSET_LOGO_PATHS[token.symbol.toLowerCase()],
          name: token.symbol
        });
      }
      return acc;
    }, []);
  }, [tokens]);
  const handleAmountInput = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(stringValue => {
    setHasAmountError(false);
    if (!stringValue) {
      setAmount(undefined);
      return;
    }
    const value = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.fromDecimal)(stringValue, decimals);
    if (value < 0) {
      setHasAmountError(true);
      return;
    }
    setAmount(value);
  });
  function renderTokens() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Dropdown__WEBPACK_IMPORTED_MODULE_11__["default"], {
      items: dropdownItems,
      selectedValue: _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
      className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tokenDropdown
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isOpen: isOpen,
    hasCloseButton: true,
    title: lang('Deposit Link'),
    contentClassName: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].content,
    nativeBottomSheetKey: "invoice",
    onClose: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentTitle
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$receive_invoice_description'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_15__["default"], {
    key: "amount",
    id: "amount",
    hasError: hasAmountError,
    value: amount === undefined ? undefined : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount),
    labelText: lang('Amount'),
    onChange: handleAmountInput
  }, renderTokens()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Input__WEBPACK_IMPORTED_MODULE_12__["default"], {
    value: comment,
    label: lang('Comment'),
    placeholder: lang('Optional'),
    wrapperClassName: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].invoiceComment,
    onInput: setComment
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].label, _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].labelForInvoice)
  }, lang('Share this URL to receive TON')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_13__["default"], {
    text: invoiceUrl,
    copyNotification: lang('Invoice link was copied!'),
    className: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].invoiceLinkField
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectAccount;
  const address = (_selectAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectAccount)(global, global.currentAccountId)) === null || _selectAccount === void 0 ? void 0 : _selectAccount.address;
  return {
    address,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global)
  };
})(InvoiceModal)));

/***/ }),

/***/ "./src/components/receive/ReceiveModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/receive/ReceiveModal.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useDelegatedBottomSheet */ "./src/hooks/useDelegatedBottomSheet.ts");
/* harmony import */ var _hooks_useDelegatingBottomSheet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useDelegatingBottomSheet */ "./src/hooks/useDelegatingBottomSheet.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _Content__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Content */ "./src/components/receive/Content.tsx");
/* harmony import */ var _InvoiceModal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./InvoiceModal */ "./src/components/receive/InvoiceModal.tsx");
/* harmony import */ var _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ReceiveModal.module.scss */ "./src/components/receive/ReceiveModal.module.scss");













function ReceiveModal(_ref) {
  let {
    isOpen
  } = _ref;
  const {
    closeReceiveModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [isInvoiceModalOpen, openInvoiceModal, closeInvoiceModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__["default"])(false);
  (0,_hooks_useDelegatingBottomSheet__WEBPACK_IMPORTED_MODULE_5__.useOpenFromNativeBottomSheet)('invoice', openInvoiceModal);
  (0,_hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_4__.useOpenFromMainBottomSheet)('invoice', openInvoiceModal);
  const handleOpenInvoiceModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    closeReceiveModal();
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_DELEGATED_BOTTOM_SHEET) {
      native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.openInMain({
        key: 'invoice'
      });
    } else {
      openInvoiceModal();
    }
  });
  const handleClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    closeReceiveModal();
    closeInvoiceModal();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isOpen: isOpen,
    title: lang('Receive'),
    hasCloseButton: true,
    contentClassName: _ReceiveModal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].content,
    nativeBottomSheetKey: "receive",
    onClose: closeReceiveModal
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_Content__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isOpen: isOpen,
    onInvoiceModalOpen: handleOpenInvoiceModal
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_InvoiceModal__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isOpen: isInvoiceModalOpen,
    onClose: handleClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  return {
    isOpen: global.isReceiveModalOpen
  };
})(ReceiveModal)));

/***/ }),

/***/ "./src/components/settings/Settings.tsx":
/*!**********************************************!*\
  !*** ./src/components/settings/Settings.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var capacitor_native_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! capacitor-native-settings */ "./node_modules/capacitor-native-settings/dist/esm/index.js");
/* harmony import */ var native_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! native-dialog */ "./mobile/plugins/native-dialog/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_swipeController__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../util/swipeController */ "./src/util/swipeController.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _hooks_usePrevious2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../hooks/usePrevious2 */ "./src/hooks/usePrevious2.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useStateRef__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../hooks/useStateRef */ "./src/hooks/useStateRef.ts");
/* harmony import */ var _main_modals_LogOutModal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../main/modals/LogOutModal */ "./src/components/main/modals/LogOutModal.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _biometrics_Biometrics__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./biometrics/Biometrics */ "./src/components/settings/biometrics/Biometrics.tsx");
/* harmony import */ var _biometrics_NativeBiometricsToggle__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./biometrics/NativeBiometricsToggle */ "./src/components/settings/biometrics/NativeBiometricsToggle.tsx");
/* harmony import */ var _biometrics_NativeBiometricsTurnOn__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./biometrics/NativeBiometricsTurnOn */ "./src/components/settings/biometrics/NativeBiometricsTurnOn.tsx");
/* harmony import */ var _SettingsAbout__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./SettingsAbout */ "./src/components/settings/SettingsAbout.tsx");
/* harmony import */ var _SettingsAppearance__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./SettingsAppearance */ "./src/components/settings/SettingsAppearance.tsx");
/* harmony import */ var _SettingsAssets__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./SettingsAssets */ "./src/components/settings/SettingsAssets.tsx");
/* harmony import */ var _SettingsDapps__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./SettingsDapps */ "./src/components/settings/SettingsDapps.tsx");
/* harmony import */ var _SettingsDeveloperOptions__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./SettingsDeveloperOptions */ "./src/components/settings/SettingsDeveloperOptions.tsx");
/* harmony import */ var _SettingsDisclaimer__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./SettingsDisclaimer */ "./src/components/settings/SettingsDisclaimer.tsx");
/* harmony import */ var _SettingsHiddenNfts__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./SettingsHiddenNfts */ "./src/components/settings/SettingsHiddenNfts.tsx");
/* harmony import */ var _SettingsLanguage__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./SettingsLanguage */ "./src/components/settings/SettingsLanguage.tsx");
/* harmony import */ var _SettingsTokenList__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./SettingsTokenList */ "./src/components/settings/SettingsTokenList.tsx");
/* harmony import */ var _SettingsWalletVersion__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./SettingsWalletVersion */ "./src/components/settings/SettingsWalletVersion.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");
/* harmony import */ var _assets_settings_settings_about_svg__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ../../assets/settings/settings_about.svg */ "./src/assets/settings/settings_about.svg");
/* harmony import */ var _assets_settings_settings_appearance_svg__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! ../../assets/settings/settings_appearance.svg */ "./src/assets/settings/settings_appearance.svg");
/* harmony import */ var _assets_settings_settings_assets_activity_svg__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! ../../assets/settings/settings_assets-activity.svg */ "./src/assets/settings/settings_assets-activity.svg");
/* harmony import */ var _assets_settings_settings_backup_secret_svg__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! ../../assets/settings/settings_backup-secret.svg */ "./src/assets/settings/settings_backup-secret.svg");
/* harmony import */ var _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! ../../assets/settings/settings_biometrics.svg */ "./src/assets/settings/settings_biometrics.svg");
/* harmony import */ var _assets_settings_settings_connected_dapps_svg__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! ../../assets/settings/settings_connected-dapps.svg */ "./src/assets/settings/settings_connected-dapps.svg");
/* harmony import */ var _assets_settings_settings_disclaimer_svg__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! ../../assets/settings/settings_disclaimer.svg */ "./src/assets/settings/settings_disclaimer.svg");
/* harmony import */ var _assets_settings_settings_exit_svg__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! ../../assets/settings/settings_exit.svg */ "./src/assets/settings/settings_exit.svg");
/* harmony import */ var _assets_settings_settings_install_app_svg__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! ../../assets/settings/settings_install-app.svg */ "./src/assets/settings/settings_install-app.svg");
/* harmony import */ var _assets_settings_settings_install_desktop_svg__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! ../../assets/settings/settings_install-desktop.svg */ "./src/assets/settings/settings_install-desktop.svg");
/* harmony import */ var _assets_settings_settings_install_mobile_svg__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! ../../assets/settings/settings_install-mobile.svg */ "./src/assets/settings/settings_install-mobile.svg");
/* harmony import */ var _assets_settings_settings_language_svg__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! ../../assets/settings/settings_language.svg */ "./src/assets/settings/settings_language.svg");
/* harmony import */ var _assets_settings_settings_ledger_svg__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! ../../assets/settings/settings_ledger.svg */ "./src/assets/settings/settings_ledger.svg");
/* harmony import */ var _assets_settings_settings_support_svg__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! ../../assets/settings/settings_support.svg */ "./src/assets/settings/settings_support.svg");
/* harmony import */ var _assets_settings_settings_telegram_menu_svg__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! ../../assets/settings/settings_telegram-menu.svg */ "./src/assets/settings/settings_telegram-menu.svg");
/* harmony import */ var _assets_settings_settings_ton_links_svg__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! ../../assets/settings/settings_ton-links.svg */ "./src/assets/settings/settings_ton-links.svg");
/* harmony import */ var _assets_settings_settings_ton_magic_svg__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! ../../assets/settings/settings_ton-magic.svg */ "./src/assets/settings/settings_ton-magic.svg");
/* harmony import */ var _assets_settings_settings_ton_proxy_svg__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! ../../assets/settings/settings_ton-proxy.svg */ "./src/assets/settings/settings_ton-proxy.svg");
/* harmony import */ var _assets_settings_settings_wallet_version_svg__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! ../../assets/settings/settings_wallet-version.svg */ "./src/assets/settings/settings_wallet-version.svg");

































































const AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE = 5;
const SUPPORT_ACCOUNTS_COUNT_DEFAULT = 1;
function Settings(_ref) {
  let {
    settings: {
      state,
      theme,
      animationLevel,
      areTinyTransfersHidden,
      isTestnet,
      isInvestorViewEnabled,
      canPlaySounds,
      langCode,
      isTonProxyEnabled,
      isTonMagicEnabled,
      isDeeplinkHookEnabled,
      areTokensWithNoCostHidden,
      isSortByValueEnabled,
      dapps,
      baseCurrency
    },
    isOpen = false,
    tokens,
    orderedSlugs,
    isInsideModal,
    isBiometricAuthEnabled,
    isPasswordPresent,
    isHardwareAccount,
    currentVersion,
    versions,
    isCopyStorageEnabled,
    supportAccountsCount = SUPPORT_ACCOUNTS_COUNT_DEFAULT
  } = _ref;
  const {
    setSettingsState,
    openBackupWalletModal,
    openHardwareWalletModal,
    closeSettings,
    toggleDeeplinkHook,
    toggleTonProxy,
    toggleTonMagic,
    getDapps,
    initTokensOrder,
    openBiometricsTurnOn,
    openBiometricsTurnOffWarning,
    clearIsPinAccepted
  } = (0,_global__WEBPACK_IMPORTED_MODULE_3__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_19__["default"])();
  // eslint-disable-next-line no-null/no-null
  const transitionRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);
  const {
    renderingKey,
    nextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_21__["default"])(state, isOpen);
  const [clicksAmount, setClicksAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useState)(isTestnet ? AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE : 0);
  const prevRenderingKeyRef = (0,_hooks_useStateRef__WEBPACK_IMPORTED_MODULE_25__.useStateRef)((0,_hooks_usePrevious2__WEBPACK_IMPORTED_MODULE_22__["default"])(renderingKey));
  const [isDeveloperModalOpen, openDeveloperModal, closeDeveloperModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_17__["default"])();
  const [isLogOutModalOpened, openLogOutModal, closeLogOutModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_17__["default"])();
  const activeLang = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => _config__WEBPACK_IMPORTED_MODULE_5__.LANG_LIST.find(l => l.langCode === langCode), [langCode]);
  const shouldRenderNativeBiometrics = isPasswordPresent && ((0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.getIsNativeBiometricAuthSupported)() || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_IOS_APP);
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_11__.getShortCurrencySymbol)(baseCurrency);
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_5__.TONCOIN_SLUG;
  }), [tokens]);
  const wallets = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useMemo)(() => {
    var _versions$map;
    return (_versions$map = versions === null || versions === void 0 ? void 0 : versions.map(v => {
      var _tonToken$symbol, _tonToken$price;
      const tonBalance = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(v.balance), (_tonToken$symbol = tonToken === null || tonToken === void 0 ? void 0 : tonToken.symbol) !== null && _tonToken$symbol !== void 0 ? _tonToken$symbol : '');
      const balanceInCurrency = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_11__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toBig)(v.balance).mul((_tonToken$price = tonToken === null || tonToken === void 0 ? void 0 : tonToken.price) !== null && _tonToken$price !== void 0 ? _tonToken$price : 0).round(tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals), shortBaseSymbol);
      const accountTokens = [tonBalance];
      return {
        address: v.address,
        version: v.version,
        totalBalance: balanceInCurrency,
        tokens: accountTokens
      };
    })) !== null && _versions$map !== void 0 ? _versions$map : [];
  }, [shortBaseSymbol, tonToken, versions]);
  const {
    transitionClassNames: telegramLinkClassNames,
    shouldRender: isTelegramLinkRendered
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_24__["default"])(isTonMagicEnabled);
  (0,_hooks_useEffectOnce__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    initTokensOrder();
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_23__["default"])();
  const handleSlideAnimationStop = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (prevRenderingKeyRef.current === _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.NativeBiometricsTurnOn) {
      clearIsPinAccepted();
    }
  });
  const handleCloseSettings = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    closeSettings(undefined, {
      forceOnHeavyAnimation: true
    });
  });
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_18__["default"])({
    isActive: !isInsideModal && renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Initial,
    onBack: handleCloseSettings
  });
  const handleConnectedDappsOpen = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    getDapps();
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Dapps
    });
  });
  function handleAppearanceOpen() {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Appearance
    });
  }
  function handleAssetsOpen() {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Assets
    });
  }
  function handleLanguageOpen() {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Language
    });
  }
  function handleAboutOpen() {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.About
    });
  }
  function handleDisclaimerOpen() {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Disclaimer
    });
  }
  const handleNativeBiometricsTurnOnOpen = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (!(0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.getIsNativeBiometricAuthSupported)()) {
      const warningDescription = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_IOS ? 'To use this feature, first enable Face ID in your phone settings.' : 'To use this feature, first enable biometrics in your phone settings.';
      native_dialog__WEBPACK_IMPORTED_MODULE_1__.Dialog.confirm({
        title: lang('Warning!'),
        message: lang(warningDescription),
        okButtonTitle: lang('Open Settings'),
        cancelButtonTitle: lang('Cancel')
      }).then(_ref3 => {
        let {
          value
        } = _ref3;
        if (value) {
          capacitor_native_settings__WEBPACK_IMPORTED_MODULE_0__.NativeSettings.open({
            optionAndroid: capacitor_native_settings__WEBPACK_IMPORTED_MODULE_0__.AndroidSettings.ApplicationDetails,
            optionIOS: capacitor_native_settings__WEBPACK_IMPORTED_MODULE_0__.IOSSettings.App
          });
        }
      });
    } else {
      setSettingsState({
        state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.NativeBiometricsTurnOn
      });
    }
  });
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Initial
    });
  });
  const handleBackClickToAssets = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Assets
    });
  });
  const handleOpenWalletVersion = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.WalletVersion
    });
  });
  const handleDeeplinkHookToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    toggleDeeplinkHook({
      isEnabled: !isDeeplinkHookEnabled
    });
  });
  const handleTonProxyToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    toggleTonProxy({
      isEnabled: !isTonProxyEnabled
    });
  });
  const handleTonMagicToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    toggleTonMagic({
      isEnabled: !isTonMagicEnabled
    });
  });
  const handleBiometricAuthToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (isBiometricAuthEnabled) {
      openBiometricsTurnOffWarning();
    } else {
      openBiometricsTurnOn();
    }
  });
  function handleClickInstallApp() {
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_12__.openUrl)('https://mytonwallet.io/get', true);
  }
  function handleClickInstallOnDesktop() {
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_12__.openUrl)('https://mytonwallet.io/get/desktop', true);
  }
  function handleClickInstallOnMobile() {
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_12__.openUrl)('https://mytonwallet.io/get/mobile', true);
  }
  function handleOpenBackupWallet() {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_DELEGATED_BOTTOM_SHEET) {
      handleCloseSettings();
    }
    openBackupWalletModal();
  }
  const [isTrayIconEnabled, setIsTrayIconEnabled] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    var _window$electron;
    (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.getIsTrayIconEnabled().then(setIsTrayIconEnabled);
  }, []);
  const handleTrayIconEnabledToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    var _window$electron2;
    setIsTrayIconEnabled(!isTrayIconEnabled);
    (_window$electron2 = window.electron) === null || _window$electron2 === void 0 ? void 0 : _window$electron2.setIsTrayIconEnabled(!isTrayIconEnabled);
  });
  const [isAutoUpdateEnabled, setIsAutoUpdateEnabled] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    var _window$electron3;
    (_window$electron3 = window.electron) === null || _window$electron3 === void 0 ? void 0 : _window$electron3.getIsAutoUpdateEnabled().then(setIsAutoUpdateEnabled);
  }, []);
  const handleAutoUpdateEnabledToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    var _window$electron4;
    setIsAutoUpdateEnabled(!isAutoUpdateEnabled);
    (_window$electron4 = window.electron) === null || _window$electron4 === void 0 ? void 0 : _window$electron4.setIsAutoUpdateEnabled(!isAutoUpdateEnabled);
  });
  const handleBackOrCloseAction = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Initial) {
      handleCloseSettings();
    } else {
      handleBackClick();
    }
  });
  const handleCloseLogOutModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_20__["default"])(shouldCloseSettings => {
    closeLogOutModal();
    if (shouldCloseSettings) {
      handleCloseSettings();
    }
  });
  function handleOpenHardwareModal() {
    openHardwareWalletModal();
  }
  const handleMultipleClick = () => {
    if (clicksAmount + 1 >= AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE) {
      openDeveloperModal();
    } else {
      setClicksAmount(clicksAmount + 1);
    }
  };
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_9__["default"])(handleBackOrCloseAction), [handleBackOrCloseAction]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_TOUCH_ENV) {
      return undefined;
    }
    return (0,_util_swipeController__WEBPACK_IMPORTED_MODULE_14__.captureControlledSwipe)(transitionRef.current, {
      onSwipeRightStart: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_DELEGATED_BOTTOM_SHEET ? handleBackClick : handleBackOrCloseAction,
      onCancel: () => {
        setSettingsState({
          state: prevRenderingKeyRef.current
        });
      }
    });
  }, [handleBackClick, handleBackOrCloseAction, prevRenderingKeyRef]);
  function renderHandleDeeplinkButton() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleDeeplinkHookToggle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_ton_links_svg__WEBPACK_IMPORTED_MODULE_61__,
      alt: lang('Handle ton:// links')
    }), lang('Handle ton:// links'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_29__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuSwitcher,
      label: lang('Handle ton:// links'),
      checked: isDeeplinkHookEnabled
    }));
  }
  function renderSettings() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].slide
    }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_28__["default"], {
      title: lang('Settings'),
      withNotch: isScrolled,
      onClose: handleCloseSettings,
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].modalHeader
    }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_27__["default"], {
      isSimple: true,
      isText: true,
      onClick: handleCloseSettings,
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].headerBack
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevron, 'icon-chevron-left'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("span", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].headerTitle
    }, lang('Settings'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].content, 'custom-scroll'),
      onScroll: handleContentScroll
    }, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_WEB && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleClickInstallApp
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_install_app_svg__WEBPACK_IMPORTED_MODULE_54__,
      alt: lang('Install App')
    }), lang('Install App'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), shouldRenderNativeBiometrics && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_biometrics_NativeBiometricsToggle__WEBPACK_IMPORTED_MODULE_32__["default"], {
      onEnable: handleNativeBiometricsTurnOnOpen
    }), isPasswordPresent && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_BIOMETRIC_AUTH_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleBiometricAuthToggle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_50__,
      alt: lang('Biometric Authentication')
    }), lang('Biometric Authentication'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_29__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuSwitcher,
      label: lang('Biometric Authentication'),
      checked: isBiometricAuthEnabled
    }))), _config__WEBPACK_IMPORTED_MODULE_5__.IS_EXTENSION && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, _config__WEBPACK_IMPORTED_MODULE_5__.PROXY_HOSTS && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleTonProxyToggle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_ton_proxy_svg__WEBPACK_IMPORTED_MODULE_63__,
      alt: lang('TON Proxy')
    }), lang('TON Proxy'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_29__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuSwitcher,
      label: lang('Toggle TON Proxy'),
      checked: isTonProxyEnabled
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleTonMagicToggle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_ton_magic_svg__WEBPACK_IMPORTED_MODULE_62__,
      alt: lang('TON Magic')
    }), lang('TON Magic'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_29__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuSwitcher,
      label: lang('Toggle TON Magic'),
      checked: isTonMagicEnabled
    })), isTelegramLinkRendered && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item, telegramLinkClassNames),
      onClick: handleOpenTelegramWeb
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_telegram_menu_svg__WEBPACK_IMPORTED_MODULE_60__,
      alt: lang('Open Telegram Web')
    }), lang('Open Telegram Web'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), renderHandleDeeplinkButton()), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_ELECTRON && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, renderHandleDeeplinkButton()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleAppearanceOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_appearance_svg__WEBPACK_IMPORTED_MODULE_47__,
      alt: lang('Appearance')
    }), lang('Appearance'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleAssetsOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_assets_activity_svg__WEBPACK_IMPORTED_MODULE_48__,
      alt: lang('Assets & Activity')
    }), lang('Assets & Activity'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_DAPP_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleConnectedDappsOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_connected_dapps_svg__WEBPACK_IMPORTED_MODULE_51__,
      alt: lang('Connected Dapps')
    }), lang('Connected Dapps'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].itemInfo
    }, dapps.length ? dapps.length : '', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleLanguageOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_language_svg__WEBPACK_IMPORTED_MODULE_57__,
      alt: lang('Language')
    }), lang('Language'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].itemInfo
    }, activeLang === null || activeLang === void 0 ? void 0 : activeLang.name, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, !isHardwareAccount && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleOpenBackupWallet
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_backup_secret_svg__WEBPACK_IMPORTED_MODULE_49__,
      alt: lang('Back Up Secret Words')
    }), lang('Back Up Secret Words'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), !!(versions !== null && versions !== void 0 && versions.length) && !isHardwareAccount && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleOpenWalletVersion
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_wallet_version_svg__WEBPACK_IMPORTED_MODULE_64__,
      alt: lang('Wallet Versions')
    }), lang('Wallet Versions'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].itemInfo
    }, currentVersion, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_LEDGER_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleOpenHardwareModal
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_ledger_svg__WEBPACK_IMPORTED_MODULE_58__,
      alt: lang('Connect Ledger')
    }), lang('Connect Ledger'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleDisclaimerOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_disclaimer_svg__WEBPACK_IMPORTED_MODULE_52__,
      alt: lang('Use Responsibly')
    }), lang('Use Responsibly'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    })), supportAccountsCount > 0 && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("a", {
      href: `https://t.me/${_config__WEBPACK_IMPORTED_MODULE_5__.SUPPORT_USERNAME}`,
      target: "_blank",
      rel: "noopener noreferrer",
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_support_svg__WEBPACK_IMPORTED_MODULE_59__,
      alt: lang('Get Support')
    }), lang('Get Support'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].itemInfo
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("span", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].small
    }, "@", _config__WEBPACK_IMPORTED_MODULE_5__.SUPPORT_USERNAME), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleAboutOpen
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_about_svg__WEBPACK_IMPORTED_MODULE_46__,
      alt: lang('About')
    }), lang('About'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), _config__WEBPACK_IMPORTED_MODULE_5__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleClickInstallOnDesktop
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_install_desktop_svg__WEBPACK_IMPORTED_MODULE_55__,
      alt: lang('Install on Desktop')
    }), lang('Install on Desktop'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_ELECTRON && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleClickInstallOnMobile
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_install_mobile_svg__WEBPACK_IMPORTED_MODULE_56__,
      alt: lang('Install on Mobile')
    }), lang('Install on Mobile'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), _config__WEBPACK_IMPORTED_MODULE_5__.IS_EXTENSION && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item,
      onClick: handleClickInstallApp
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_install_app_svg__WEBPACK_IMPORTED_MODULE_54__,
      alt: lang('Install App')
    }), lang('Install App'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].item_red),
      onClick: openLogOutModal
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("img", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].menuIcon,
      src: _assets_settings_settings_exit_svg__WEBPACK_IMPORTED_MODULE_53__,
      alt: lang('Exit')
    }), lang('Exit'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].iconChevronRight, 'icon-chevron-right'),
      "aria-hidden": true
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].version,
      onClick: handleMultipleClick
    }, _config__WEBPACK_IMPORTED_MODULE_5__.APP_NAME, " ", _config__WEBPACK_IMPORTED_MODULE_5__.APP_VERSION, " ", _config__WEBPACK_IMPORTED_MODULE_5__.APP_ENV_MARKER)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsDeveloperOptions__WEBPACK_IMPORTED_MODULE_38__["default"], {
      isOpen: isDeveloperModalOpen,
      onClose: closeDeveloperModal,
      isTestnet: isTestnet,
      isCopyStorageEnabled: isCopyStorageEnabled
    }));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Initial:
        return renderSettings();
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Appearance:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsAppearance__WEBPACK_IMPORTED_MODULE_35__["default"], {
          isActive: isActive,
          theme: theme,
          animationLevel: animationLevel,
          canPlaySounds: canPlaySounds,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal,
          isTrayIconEnabled: isTrayIconEnabled,
          onTrayIconEnabledToggle: handleTrayIconEnabledToggle,
          isAutoUpdateEnabled: isAutoUpdateEnabled,
          onAutoUpdateEnabledToggle: handleAutoUpdateEnabledToggle
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Assets:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsAssets__WEBPACK_IMPORTED_MODULE_36__["default"], {
          isActive: isActive,
          tokens: tokens,
          orderedSlugs: orderedSlugs,
          isInvestorViewEnabled: isInvestorViewEnabled,
          areTinyTransfersHidden: areTinyTransfersHidden,
          areTokensWithNoCostHidden: areTokensWithNoCostHidden,
          isSortByValueEnabled: isSortByValueEnabled,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal,
          baseCurrency: baseCurrency
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Dapps:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsDapps__WEBPACK_IMPORTED_MODULE_37__["default"], {
          isActive: isActive,
          dapps: dapps,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Language:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsLanguage__WEBPACK_IMPORTED_MODULE_41__["default"], {
          isActive: isActive,
          langCode: langCode,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.About:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsAbout__WEBPACK_IMPORTED_MODULE_34__["default"], {
          isActive: isActive,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.Disclaimer:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsDisclaimer__WEBPACK_IMPORTED_MODULE_39__["default"], {
          isActive: isActive,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.NativeBiometricsTurnOn:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_biometrics_NativeBiometricsTurnOn__WEBPACK_IMPORTED_MODULE_33__["default"], {
          isActive: isActive,
          handleBackClick: handleBackClick
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.SelectTokenList:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsTokenList__WEBPACK_IMPORTED_MODULE_42__["default"], {
          isActive: isActive,
          handleBackClick: handleBackClickToAssets
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.WalletVersion:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsWalletVersion__WEBPACK_IMPORTED_MODULE_43__["default"], {
          currentVersion: currentVersion,
          handleBackClick: handleBackClick,
          isInsideModal: isInsideModal,
          wallets: wallets
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_4__.SettingsState.HiddenNfts:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_SettingsHiddenNfts__WEBPACK_IMPORTED_MODULE_40__["default"], {
          isActive: isActive,
          handleBackClick: handleBackClickToAssets,
          isInsideModal: isInsideModal
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].wrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_30__["default"], {
    ref: transitionRef,
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_13__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(isInsideModal ? _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_44__["default"].transition : _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].transitionContainer, 'custom-scroll'),
    activeKey: renderingKey,
    nextKey: nextKey,
    slideClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_44__["default"].transitionSlide, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_45__["default"].transitionSlide),
    withSwipeControl: true,
    onStop: _config__WEBPACK_IMPORTED_MODULE_5__.IS_CAPACITOR ? handleSlideAnimationStop : undefined
  }, renderContent), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_main_modals_LogOutModal__WEBPACK_IMPORTED_MODULE_26__["default"], {
    isOpen: isLogOutModalOpened,
    onClose: handleCloseLogOutModal
  }), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_BIOMETRIC_AUTH_SUPPORTED && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__["default"].createElement(_biometrics_Biometrics__WEBPACK_IMPORTED_MODULE_31__["default"], null));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_3__.withGlobal)(global => {
  var _selectAccountSetting, _global$walletVersion;
  const {
    authConfig
  } = global.settings;
  const {
    orderedSlugs
  } = (_selectAccountSetting = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectAccountSettings)(global, global.currentAccountId)) !== null && _selectAccountSetting !== void 0 ? _selectAccountSetting : {};
  const isHardwareAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectIsHardwareAccount)(global);
  const isPasswordPresent = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectIsPasswordPresent)(global);
  const {
    isCopyStorageEnabled,
    supportAccountsCount = 1
  } = global.restrictions;
  const {
    currentVersion,
    byId: versionsById
  } = (_global$walletVersion = global.walletVersions) !== null && _global$walletVersion !== void 0 ? _global$walletVersion : {};
  const versions = versionsById === null || versionsById === void 0 ? void 0 : versionsById[global.currentAccountId];
  return {
    settings: global.settings,
    isOpen: global.areSettingsOpen,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountTokens)(global),
    orderedSlugs,
    isBiometricAuthEnabled: !!authConfig && authConfig.kind !== 'password',
    isPasswordPresent,
    isHardwareAccount,
    currentVersion,
    versions,
    isCopyStorageEnabled,
    supportAccountsCount
  };
})(Settings)));
function handleOpenTelegramWeb() {
  window.open(_config__WEBPACK_IMPORTED_MODULE_5__.TELEGRAM_WEB_URL, '_blank', 'noopener');
}

/***/ }),

/***/ "./src/components/settings/SettingsAbout.tsx":
/*!***************************************************!*\
  !*** ./src/components/settings/SettingsAbout.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Emoji__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Emoji */ "./src/components/ui/Emoji.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");
/* harmony import */ var _assets_logo_svg__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../assets/logo.svg */ "./src/assets/logo.svg");













function SettingsAbout(_ref) {
  let {
    isActive,
    handleBackClick,
    isInsideModal
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: lang('About'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].headerTitle
  }, lang('About'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].content, isInsideModal && 'custom-scroll', !isInsideModal && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].content_noScroll),
    onScroll: isInsideModal ? handleContentScroll : undefined
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: _assets_logo_svg__WEBPACK_IMPORTED_MODULE_12__,
    alt: lang('Logo'),
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].logo
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h2", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].title
  }, _config__WEBPACK_IMPORTED_MODULE_1__.APP_NAME, " ", _config__WEBPACK_IMPORTED_MODULE_1__.APP_VERSION, " ", _config__WEBPACK_IMPORTED_MODULE_1__.APP_ENV_MARKER, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "https://mytonwallet.io/",
    target: "_blank",
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].titleLink,
    rel: "noreferrer"
  }, "mytonwallet.io")), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].blockAbout, !isInsideModal && 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_description2'))), _config__WEBPACK_IMPORTED_MODULE_1__.IS_EXTENSION ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].heading)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_9__["default"], {
    from: "\uD83E\uDD77"
  }), " ", lang('What is TON Proxy?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_extension_description1')), ' ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2",
    target: "_blank",
    rel: "noopener noreferrer"
  }, lang('More info and demo.'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].heading)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_9__["default"], {
    from: "\uD83E\uDD84"
  }), " ", lang('What is TON Magic?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_extension_description2'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, lang('$about_extension_description3'), ' ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "https://telegra.ph/Telegram--TON-11-10",
    target: "_blank",
    rel: "noopener noreferrer"
  }, lang('More info and demo.')))) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].heading)
  }, lang('$about_proxy_magic_title', {
    ninja: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_9__["default"], {
      from: "\uD83E\uDD77"
    }),
    unicorn: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Emoji__WEBPACK_IMPORTED_MODULE_9__["default"], {
      from: "\uD83E\uDD84"
    })
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, lang('$about_proxy_magic_description', {
    extension_link: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: "https://mytonwallet.io/",
      target: "_blank",
      rel: "noreferrer"
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_extension_link_text')))
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].heading)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].github, 'icon-github'),
    "aria-hidden": true
  }), " ", lang('Is it open source?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, lang('$about_wallet_github', {
    github_link: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: _config__WEBPACK_IMPORTED_MODULE_1__.APP_REPO_URL,
      target: "_blank",
      rel: "noreferrer"
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_github_link_text')))
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("h3", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].heading
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].telegram, 'icon-telegram'),
    "aria-hidden": true
  }), " ", lang('Is there a community?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, lang('$about_wallet_community', {
    community_link: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: lang.code === 'ru' ? 'https://t.me/MyTonWalletRu' : 'https://t.me/MyTonWalletEn',
      target: "_blank",
      rel: "noreferrer"
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$about_community_link_text')))
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].aboutFooterWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].aboutFooterContent
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "https://mytonwallet.io/terms-of-use",
    target: "_blank",
    rel: "noreferrer",
    onClick: _util_openUrl__WEBPACK_IMPORTED_MODULE_4__.handleOpenUrl
  }, lang('Terms of Use')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].dotLarge,
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: "https://mytonwallet.io/privacy-policy",
    target: "_blank",
    rel: "noreferrer",
    onClick: _util_openUrl__WEBPACK_IMPORTED_MODULE_4__.handleOpenUrl
  }, lang('Privacy Policy'))))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsAbout));

/***/ }),

/***/ "./src/components/settings/SettingsAppearance.tsx":
/*!********************************************************!*\
  !*** ./src/components/settings/SettingsAppearance.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_switchAnimationLevel__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/switchAnimationLevel */ "./src/util/switchAnimationLevel.ts");
/* harmony import */ var _util_switchTheme__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/switchTheme */ "./src/util/switchTheme.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");
/* harmony import */ var _assets_theme_theme_dark_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../assets/theme/theme_dark.png */ "./src/assets/theme/theme_dark.png");
/* harmony import */ var _assets_theme_theme_light_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../assets/theme/theme_light.png */ "./src/assets/theme/theme_light.png");
/* harmony import */ var _assets_theme_theme_system_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../assets/theme/theme_system.png */ "./src/assets/theme/theme_system.png");


















const SWITCH_THEME_DURATION_MS = 300;
function SettingsAppearance(_ref) {
  let {
    isActive,
    theme,
    handleBackClick,
    animationLevel,
    canPlaySounds,
    isInsideModal,
    isTrayIconEnabled,
    onTrayIconEnabledToggle,
    isAutoUpdateEnabled,
    onAutoUpdateEnabledToggle
  } = _ref;
  const {
    setTheme,
    setAnimationLevel,
    toggleCanPlaySounds
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const THEME_OPTIONS = [{
    value: 'light',
    name: lang('Light'),
    icon: _assets_theme_theme_light_png__WEBPACK_IMPORTED_MODULE_16__
  }, {
    value: 'system',
    name: lang('System'),
    icon: _assets_theme_theme_system_png__WEBPACK_IMPORTED_MODULE_17__
  }, {
    value: 'dark',
    name: lang('Dark'),
    icon: _assets_theme_theme_dark_png__WEBPACK_IMPORTED_MODULE_15__
  }];
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const handleThemeChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(newTheme => {
    document.documentElement.classList.add('no-transitions');
    setTheme({
      theme: newTheme
    });
    (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_5__["default"])(newTheme);
    setTimeout(() => {
      document.documentElement.classList.remove('no-transitions');
    }, SWITCH_THEME_DURATION_MS);
  });
  const handleAnimationLevelToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    const level = animationLevel === _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN ? _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MAX : _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN;
    setAnimationLevel({
      level
    });
    (0,_util_switchAnimationLevel__WEBPACK_IMPORTED_MODULE_4__["default"])(level);
  });
  const handleCanPlaySoundToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    toggleCanPlaySounds({
      isEnabled: !canPlaySounds
    });
  });
  function renderThemes() {
    return THEME_OPTIONS.map(_ref2 => {
      let {
        name,
        value,
        icon
      } = _ref2;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        key: value,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].theme, value === theme && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].theme_active),
        onClick: () => handleThemeChange(value)
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].themeIcon, value === theme && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].themeIcon_active)
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
        src: icon,
        alt: name,
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].themeImg
      })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, name));
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_12__["default"], {
    title: lang('Appearance'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].headerTitle
  }, lang('Appearance'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].content, 'custom-scroll'),
    onScroll: handleContentScroll
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].blockTitle
  }, lang('Theme')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].themeWrapper
  }, renderThemes())), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].blockTitle
  }, lang('Other')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item_small),
    onClick: handleAnimationLevelToggle
  }, lang('Enable Animations'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuSwitcher,
    label: lang('Enable Animations'),
    checked: animationLevel !== _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item_small),
    onClick: handleCanPlaySoundToggle
  }, lang('Play Sounds'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuSwitcher,
    label: lang('Play Sounds'),
    checked: canPlaySounds
  })), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ELECTRON && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_WINDOWS && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item_small),
    onClick: onTrayIconEnabledToggle
  }, lang('Display Tray Icon'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuSwitcher,
    label: lang('Display Tray Icon'),
    checked: isTrayIconEnabled
  })), _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ELECTRON && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item_small),
    onClick: onAutoUpdateEnabledToggle
  }, lang('Enable Auto-Updates'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_13__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuSwitcher,
    label: lang('Enable Auto-Updates'),
    checked: isAutoUpdateEnabled
  })))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsAppearance));

/***/ }),

/***/ "./src/components/settings/SettingsAssets.tsx":
/*!****************************************************!*\
  !*** ./src/components/settings/SettingsAssets.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_memo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/memo */ "./src/util/memo.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Dropdown__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Dropdown */ "./src/components/ui/Dropdown.tsx");
/* harmony import */ var _ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/IconWithTooltip */ "./src/components/ui/IconWithTooltip.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _SettingsTokens__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./SettingsTokens */ "./src/components/settings/SettingsTokens.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");


















function SettingsAssets(_ref) {
  let {
    isActive,
    tokens,
    orderedSlugs,
    areTinyTransfersHidden,
    isInvestorViewEnabled,
    areTokensWithNoCostHidden,
    isSortByValueEnabled,
    handleBackClick,
    isInsideModal,
    baseCurrency,
    nftsByAddress,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = _ref;
  const {
    toggleTinyTransfersHidden,
    toggleInvestorView,
    toggleTokensWithNoCost,
    toggleSortByValue,
    changeBaseCurrency,
    setSettingsState
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();

  // eslint-disable-next-line no-null/no-null
  const scrollContainerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const handleTinyTransfersHiddenToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    toggleTinyTransfersHidden({
      isEnabled: !areTinyTransfersHidden
    });
  });
  const handleInvestorViewToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    toggleInvestorView({
      isEnabled: !isInvestorViewEnabled
    });
  });
  const handleOpenHiddenNfts = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    setSettingsState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SettingsState.HiddenNfts
    });
  });
  const handleTokensWithNoPriceToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    toggleTokensWithNoCost({
      isEnabled: !areTokensWithNoCostHidden
    });
  });
  const handleSortByValueToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    toggleSortByValue({
      isEnabled: !isSortByValueEnabled
    });
  });
  const [localBaseCurrency, setLocalBaseCurrency] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(baseCurrency);
  const handleBaseCurrencyChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(currency => {
    if (currency === baseCurrency) return;
    setLocalBaseCurrency(currency);
    changeBaseCurrency({
      currency: currency
    });
  });
  const {
    shouldRenderHiddenNftsSection,
    hiddenNftsCount
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const nfts = Object.values(nftsByAddress || {});
    const blacklistedAddressesSet = new Set(blacklistedNftAddresses);
    const whitelistedAddressesSet = new Set(whitelistedNftAddresses);
    const shouldRender = nfts.some(nft => blacklistedAddressesSet.has(nft.address) || nft.isHidden);
    const hiddenNfts = nfts.filter(nft => !whitelistedAddressesSet.has(nft.address) && (blacklistedAddressesSet.has(nft.address) || nft.isHidden));
    return {
      shouldRenderHiddenNftsSection: shouldRender,
      hiddenNftsCount: hiddenNfts.length
    };
  }, [nftsByAddress, blacklistedNftAddresses, whitelistedNftAddresses]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
    title: lang('Assets & Activity'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].headerTitle
  }, lang('Assets & Activity'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].content, 'custom-scroll'),
    onScroll: handleContentScroll,
    ref: scrollContainerRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Dropdown__WEBPACK_IMPORTED_MODULE_12__["default"], {
    label: lang('Base Currency'),
    items: _config__WEBPACK_IMPORTED_MODULE_3__.CURRENCY_LIST,
    selectedValue: baseCurrency !== null && baseCurrency !== void 0 ? baseCurrency : _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_PRICE_CURRENCY,
    theme: "light",
    shouldTranslateOptions: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onChange: handleBaseCurrencyChange,
    isLoading: localBaseCurrency !== baseCurrency
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onClick: handleInvestorViewToggle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].blockWithTooltip
  }, lang('Investor View'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_13__["default"], {
    message: lang('Focus on asset value rather than current balance'),
    tooltipClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].tooltip,
    iconClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].iconQuestion
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].menuSwitcher,
    label: lang('Investor View'),
    checked: isInvestorViewEnabled
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onClick: handleTinyTransfersHiddenToggle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].blockWithTooltip
  }, lang('Hide Tiny Transfers'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_13__["default"], {
    message: lang('$tiny_transfers_help', {
      value: _config__WEBPACK_IMPORTED_MODULE_3__.TINY_TRANSFER_MAX_COST
    }),
    tooltipClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].tooltip, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].tooltip_wide),
    iconClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].iconQuestion
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].menuSwitcher,
    label: lang('Hide Tiny Transfers'),
    checked: areTinyTransfersHidden
  }))), shouldRenderHiddenNftsSection && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onClick: handleOpenHiddenNfts
  }, lang('Hidden NFTs'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].itemInfo
  }, hiddenNftsCount, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].iconChevronRight, 'icon-chevron-right'),
    "aria-hidden": true
  })))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].blockTitle
  }, lang('Token Settings')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onClick: handleSortByValueToggle
  }, lang('Sort By Cost'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].menuSwitcher,
    label: lang('Sort By Cost'),
    checked: isSortByValueEnabled
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].item_small),
    onClick: handleTokensWithNoPriceToggle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].blockWithTooltip
  }, lang('Hide Tokens With No Cost'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_13__["default"], {
    message: lang('$hide_tokens_no_cost_help', {
      value: _config__WEBPACK_IMPORTED_MODULE_3__.TINY_TRANSFER_MAX_COST
    }),
    tooltipClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].tooltip, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].tooltip_wide),
    iconClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].iconQuestion
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].menuSwitcher,
    label: lang('Hide Tokens With No Cost'),
    checked: areTokensWithNoCostHidden
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SettingsTokens__WEBPACK_IMPORTED_MODULE_16__["default"], {
    parentContainer: scrollContainerRef,
    tokens: tokens,
    orderedSlugs: orderedSlugs,
    isSortByValueEnabled: isSortByValueEnabled,
    baseCurrency: baseCurrency
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount;
  const {
    blacklistedNftAddresses = _util_memo__WEBPACK_IMPORTED_MODULE_6__.MEMO_EMPTY_ARRAY,
    whitelistedNftAddresses = _util_memo__WEBPACK_IMPORTED_MODULE_6__.MEMO_EMPTY_ARRAY
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global) || {};
  const {
    byAddress
  } = ((_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.nfts) || {};
  return {
    nftsByAddress: byAddress,
    blacklistedNftAddresses,
    whitelistedNftAddresses
  };
})(SettingsAssets)));

/***/ }),

/***/ "./src/components/settings/SettingsDapps.tsx":
/*!***************************************************!*\
  !*** ./src/components/settings/SettingsDapps.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _dapps_DappInfo__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dapps/DappInfo */ "./src/components/dapps/DappInfo.tsx");
/* harmony import */ var _main_modals_DisconnectDappModal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../main/modals/DisconnectDappModal */ "./src/components/main/modals/DisconnectDappModal.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");
















function SettingsDapps(_ref) {
  let {
    isActive,
    dapps,
    handleBackClick,
    isInsideModal
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [isDisconnectModalOpen, openDisconnectModal, closeDisconnectModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const [dappToDelete, setDappToDelete] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const handleDisconnectDapp = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(origin => {
    const dapp = dapps.find(d => d.origin === origin);
    setDappToDelete(dapp);
    openDisconnectModal();
  });
  const handleDisconnectAll = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    setDappToDelete(undefined);
    openDisconnectModal();
  });
  function renderDapp(dapp) {
    const {
      iconUrl,
      name,
      url,
      origin
    } = dapp;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_dapps_DappInfo__WEBPACK_IMPORTED_MODULE_9__["default"], {
      key: origin,
      iconUrl: iconUrl,
      name: name,
      url: url,
      origin: origin,
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].dapp,
      onDisconnect: handleDisconnectDapp
    });
  }
  function renderDapps() {
    const dappList = dapps.map(renderDapp);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].slide
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].disconnectAllBlock
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].disconnectButton,
      isSimple: true,
      onClick: handleDisconnectAll
    }, lang('Disconnect All Dapps')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].blockDescription
    }, lang('$dapps-description'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].blockTitle
    }, lang('Logged in with MyTonWallet')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].block
    }, dappList));
  }
  function renderEmptyDappsMessage(isPlaying) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].emptyList
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__["default"], {
      play: isPlaying,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.noData,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKERS_PATHS.noDataPreview,
      size: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_BIG_SIZE_PX,
      noLoop: false,
      nonInteractive: true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].emptyListTitle
    }, lang('No active connections')));
  }
  const content = dapps.length === 0 ? renderEmptyDappsMessage(isActive) : renderDapps();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__["default"], {
    title: lang('Dapps'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].headerTitle
  }, lang('Dapps'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].content, 'custom-scroll'),
    onScroll: handleContentScroll
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_14__["default"], {
    activeKey: dapps.length === 0 ? 0 : 1,
    name: "fade"
  }, content)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_DisconnectDappModal__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isOpen: isDisconnectModalOpen,
    onClose: closeDisconnectModal,
    dapp: dappToDelete
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsDapps));

/***/ }),

/***/ "./src/components/settings/SettingsDeveloperOptions.tsx":
/*!**************************************************************!*\
  !*** ./src/components/settings/SettingsDeveloperOptions.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Dropdown__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Dropdown */ "./src/components/ui/Dropdown.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");









const NETWORK_OPTIONS = [{
  value: 'mainnet',
  name: 'Mainnet'
}, {
  value: 'testnet',
  name: 'Testnet'
}];
function SettingsDeveloperOptions(_ref) {
  let {
    isOpen,
    onClose,
    isTestnet,
    isCopyStorageEnabled
  } = _ref;
  const {
    startChangingNetwork,
    copyStorageData
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const currentNetwork = NETWORK_OPTIONS[isTestnet ? 1 : 0].value;
  const handleNetworkChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(newNetwork => {
    if (currentNetwork === newNetwork) {
      return;
    }
    startChangingNetwork({
      network: newNetwork
    });
    onClose();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isOpen: isOpen,
    onClose: onClose,
    noBackdropClose: true,
    isCompact: true
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].developerTitle
  }, lang('Developer Options')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Dropdown__WEBPACK_IMPORTED_MODULE_6__["default"], {
    label: lang('Network'),
    items: NETWORK_OPTIONS,
    selectedValue: currentNetwork,
    theme: "light",
    arrow: "chevron",
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].item_small),
    onChange: handleNetworkChange
  })), isCopyStorageEnabled && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].blockTitle
  }, lang('Dangerous')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].settingsBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].item_small),
    onClick: () => copyStorageData()
  }, lang('Copy Storage Data'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].iconChevronRight, 'icon-copy'),
    "aria-hidden": true
  })))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].developerCloseButton,
    onClick: onClose
  }, lang('Close')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsDeveloperOptions));

/***/ }),

/***/ "./src/components/settings/SettingsDisclaimer.tsx":
/*!********************************************************!*\
  !*** ./src/components/settings/SettingsDisclaimer.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");












function SettingsDisclaimer(_ref) {
  let {
    isActive,
    handleBackClick,
    isInsideModal
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: "",
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].content, isInsideModal && 'custom-scroll', !isInsideModal && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].content_noScroll),
    onScroll: isInsideModal ? handleContentScroll : undefined
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].stickerAndTitle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_8__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.snitch,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.snitchPreview,
    noLoop: false,
    nonInteractive: true,
    size: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATED_STICKER_MIDDLE_SIZE_PX
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].sideTitle
  }, lang('Use Responsibly'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].blockAbout, !isInsideModal && 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$auth_responsibly_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$auth_responsibly_description2'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$auth_responsibly_description3'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].text
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_2__["default"])(lang('$auth_responsibly_description4'))))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsDisclaimer));

/***/ }),

/***/ "./src/components/settings/SettingsHiddenNfts.tsx":
/*!********************************************************!*\
  !*** ./src/components/settings/SettingsHiddenNfts.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _nfts_HiddenByUserNft__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./nfts/HiddenByUserNft */ "./src/components/settings/nfts/HiddenByUserNft.tsx");
/* harmony import */ var _nfts_ProbablyScamNft__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./nfts/ProbablyScamNft */ "./src/components/settings/nfts/ProbablyScamNft.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");














function SettingsHiddenNfts(_ref) {
  let {
    isActive,
    handleBackClick,
    isInsideModal,
    blacklistedNftAddresses,
    whitelistedNftAddresses,
    orderedAddresses,
    byAddress
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    isScrolled,
    handleScroll: handleContentScroll
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const nfts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!orderedAddresses || !byAddress) {
      return undefined;
    }
    return orderedAddresses.map(address => byAddress[address]).filter(Boolean);
  }, [byAddress, orderedAddresses]);
  const hiddenByUserNfts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);
    return nfts === null || nfts === void 0 ? void 0 : nfts.filter(nft => blacklistedNftAddressesSet.has(nft.address));
  }, [nfts, blacklistedNftAddresses]);
  const probablyScamNfts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return nfts === null || nfts === void 0 ? void 0 : nfts.filter(nft => nft.isHidden);
  }, [nfts]);
  const whitelistedNftAddressesSet = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return new Set(whitelistedNftAddresses);
  }, [whitelistedNftAddresses]);
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const areSettingsInModal = !isPortrait || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_ELECTRON || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATED_BOTTOM_SHEET;
  function renderHiddenByUserNfts() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].blockTitle
    }, lang('Hidden By Me')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].block, !areSettingsInModal && 'hidden-nfts-user')
    }, hiddenByUserNfts.map(nft => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_nfts_HiddenByUserNft__WEBPACK_IMPORTED_MODULE_11__["default"], {
      key: nft.address,
      nft: nft
    }))));
  }
  function renderProbablyScamNfts() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].blockTitle
    }, lang('Probably Scam')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].block, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].settingsBlockWithDescription, !areSettingsInModal && 'hidden-nfts-scam')
    }, probablyScamNfts.map(nft => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_nfts_ProbablyScamNft__WEBPACK_IMPORTED_MODULE_12__["default"], {
      key: nft.address,
      nft: nft,
      isWhitelisted: whitelistedNftAddressesSet.has(nft.address)
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].blockDescription
    }, lang('$settings_nft_probably_scam_description')));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_10__["default"], {
    title: lang('Hidden NFTs'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].headerTitle
  }, lang('Hidden NFTs'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].content, 'custom-scroll'),
    onScroll: handleContentScroll
  }, Boolean(hiddenByUserNfts === null || hiddenByUserNfts === void 0 ? void 0 : hiddenByUserNfts.length) && renderHiddenByUserNfts(), Boolean(probablyScamNfts === null || probablyScamNfts === void 0 ? void 0 : probablyScamNfts.length) && renderProbablyScamNfts()));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _selectCurrentAccount, _selectCurrentAccount2, _selectCurrentAccount3;
  const {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  } = (_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global)) !== null && _selectCurrentAccount !== void 0 ? _selectCurrentAccount : {};
  const {
    orderedAddresses,
    byAddress
  } = (_selectCurrentAccount2 = (_selectCurrentAccount3 = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount3 === void 0 ? void 0 : _selectCurrentAccount3.nfts) !== null && _selectCurrentAccount2 !== void 0 ? _selectCurrentAccount2 : {};
  return {
    blacklistedNftAddresses,
    whitelistedNftAddresses,
    orderedAddresses,
    byAddress
  };
})(SettingsHiddenNfts)));

/***/ }),

/***/ "./src/components/settings/SettingsLanguage.tsx":
/*!******************************************************!*\
  !*** ./src/components/settings/SettingsLanguage.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");
/* harmony import */ var _assets_settings_settings_checkmark_svg__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../assets/settings/settings_checkmark.svg */ "./src/assets/settings/settings_checkmark.svg");












function SettingsLanguage(_ref) {
  let {
    isActive,
    langCode,
    handleBackClick,
    isInsideModal
  } = _ref;
  const {
    changeLanguage
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const handleLanguageChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(newLangCode => {
    void (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_4__.setLanguage)(newLangCode, () => {
      changeLanguage({
        langCode: newLangCode
      });
    });
  });
  function renderLanguages() {
    return _config__WEBPACK_IMPORTED_MODULE_2__.LANG_LIST.map(_ref2 => {
      let {
        name,
        nativeName,
        langCode: lc
      } = _ref2;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        key: lc,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].item_lang),
        onClick: () => handleLanguageChange(lc)
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].languageInfo
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].languageMain
      }, name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].languageNative
      }, nativeName)), langCode === lc && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
        src: _assets_settings_settings_checkmark_svg__WEBPACK_IMPORTED_MODULE_11__,
        alt: name
      }));
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_9__["default"], {
    title: lang('Language'),
    onBackButtonClick: handleBackClick,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].modalHeader, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].languageHeader)
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].header
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].headerTitle
  }, lang('Language'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].content, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].block
  }, renderLanguages())));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsLanguage));

/***/ }),

/***/ "./src/components/settings/SettingsModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/settings/SettingsModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");







function SettingsModal(_ref) {
  let {
    children,
    isOpen,
    onClose,
    isMediaViewerOpen
  } = _ref;
  const fullDialogClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].modalDialog, !(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_ELECTRON || _config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION) && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].modalDialogWeb);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    hasCloseButton: true,
    isOpen: isOpen && !isMediaViewerOpen,
    dialogClassName: fullDialogClassName,
    contentClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].modalContent,
    nativeBottomSheetKey: "settings",
    forceFullNative: true,
    onClose: onClose
  }, children);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId)
  };
})(SettingsModal)));

/***/ }),

/***/ "./src/components/settings/SettingsTokenList.tsx":
/*!*******************************************************!*\
  !*** ./src/components/settings/SettingsTokenList.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _common_TokenSelector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/TokenSelector */ "./src/components/common/TokenSelector.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");




function SettingsTokenList(_ref) {
  let {
    isActive,
    handleBackClick
  } = _ref;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_1__["default"])({
    isActive,
    onBack: handleBackClick
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].slide
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TokenSelector__WEBPACK_IMPORTED_MODULE_2__["default"], {
    isActive: isActive,
    onBack: handleBackClick,
    onClose: handleBackClick,
    isInsideSettings: true,
    shouldHideMyTokens: true
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsTokenList));

/***/ }),

/***/ "./src/components/settings/SettingsTokens.tsx":
/*!****************************************************!*\
  !*** ./src/components/settings/SettingsTokens.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_math__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/math */ "./src/util/math.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _main_modals_DeleteTokenModal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../main/modals/DeleteTokenModal */ "./src/components/main/modals/DeleteTokenModal.tsx");
/* harmony import */ var _ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/AnimatedCounter */ "./src/components/ui/AnimatedCounter.tsx");
/* harmony import */ var _ui_Draggable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Draggable */ "./src/components/ui/Draggable.tsx");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");

















const TOKEN_HEIGHT_PX = 64;
const TOP_OFFSET = 48;
function SettingsTokens(_ref) {
  var _tokens$length;
  let {
    parentContainer,
    tokens,
    orderedSlugs,
    isSortByValueEnabled,
    baseCurrency
  } = _ref;
  const {
    openSettingsWithState,
    sortTokens,
    toggleExceptionToken
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.getShortCurrencySymbol)(baseCurrency);

  // eslint-disable-next-line no-null/no-null
  const tokensRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const sortableContainerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [tokenToDelete, setTokenToDelete] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [state, setState] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)({
    orderedTokenSlugs: orderedSlugs,
    dragOrderTokenSlugs: orderedSlugs,
    draggedIndex: undefined
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!arraysAreEqual(orderedSlugs, state.orderedTokenSlugs)) {
      setState({
        orderedTokenSlugs: orderedSlugs,
        dragOrderTokenSlugs: orderedSlugs,
        draggedIndex: undefined
      });
    }
  }, [orderedSlugs, state.orderedTokenSlugs]);
  const handleOpenAddTokenPage = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    openSettingsWithState({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SettingsState.SelectTokenList
    });
  });
  const handleDrag = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])((translation, id) => {
    var _state$orderedTokenSl, _state$orderedTokenSl2, _state$orderedTokenSl3, _orderedSlugs$length;
    const delta = Math.round(translation.y / TOKEN_HEIGHT_PX);
    const index = (_state$orderedTokenSl = (_state$orderedTokenSl2 = state.orderedTokenSlugs) === null || _state$orderedTokenSl2 === void 0 ? void 0 : _state$orderedTokenSl2.indexOf(id)) !== null && _state$orderedTokenSl !== void 0 ? _state$orderedTokenSl : 0;
    const dragOrderTokens = (_state$orderedTokenSl3 = state.orderedTokenSlugs) === null || _state$orderedTokenSl3 === void 0 ? void 0 : _state$orderedTokenSl3.filter(tokenSlug => tokenSlug !== id);
    if (!dragOrderTokens || !(0,_util_math__WEBPACK_IMPORTED_MODULE_8__.isBetween)(index + delta, 0, (_orderedSlugs$length = orderedSlugs === null || orderedSlugs === void 0 ? void 0 : orderedSlugs.length) !== null && _orderedSlugs$length !== void 0 ? _orderedSlugs$length : 0)) {
      return;
    }
    dragOrderTokens.splice(index + delta, 0, id);
    setState(current => ({
      ...current,
      draggedIndex: index,
      dragOrderTokenSlugs: dragOrderTokens
    }));
  });
  const handleDragEnd = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    setState(current => {
      sortTokens({
        orderedSlugs: current.dragOrderTokenSlugs
      });
      return {
        ...current,
        orderedTokenSlugs: current.dragOrderTokenSlugs,
        draggedIndex: undefined
      };
    });
  });
  const handleExceptionToken = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])((slug, e) => {
    if (slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG) return;
    e.preventDefault();
    e.stopPropagation();
    toggleExceptionToken({
      slug
    });
  });
  const handleDeleteToken = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])((token, e) => {
    e.stopPropagation();
    setTokenToDelete(token);
  });
  function renderToken(token, index) {
    const {
      symbol,
      image,
      name,
      amount,
      price,
      slug,
      isDisabled
    } = token;
    const isToncoin = slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
    const logoPath = image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__.ASSET_LOGO_PATHS[symbol.toLowerCase()];
    const totalAmount = (0,_util_bigint__WEBPACK_IMPORTED_MODULE_4__.bigintMultiplyToNumber)(amount, price);
    const isDragged = state.draggedIndex === index;
    const draggedTop = isSortByValueEnabled ? getOffsetByIndex(index) : getOffsetBySlug(slug, state.orderedTokenSlugs);
    const top = isSortByValueEnabled ? getOffsetByIndex(index) : getOffsetBySlug(slug, state.dragOrderTokenSlugs);
    const style = `top: ${isDragged ? draggedTop : top}px;`;
    const knobStyle = 'left: 1rem;';
    const isDeleteButtonVisible = amount === 0n && !isToncoin;
    const isDragDisabled = isSortByValueEnabled || tokens.length <= 1;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Draggable__WEBPACK_IMPORTED_MODULE_14__["default"], {
      key: slug,
      id: slug,
      onDrag: handleDrag,
      onDragEnd: handleDragEnd,
      style: style,
      knobStyle: knobStyle,
      isDisabled: isDragDisabled,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].item_token, !isSortByValueEnabled && _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].draggable),
      offset: {
        top: TOP_OFFSET
      },
      parentRef: tokensRef,
      scrollRef: parentContainer
      // eslint-disable-next-line react/jsx-no-bind
      ,
      onClick: e => handleExceptionToken(slug, e)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: symbol,
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tokenInfo
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tokenTitle
    }, name), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].tokenDescription
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(totalAmount, token.decimals, true), shortBaseSymbol)
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].dot,
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedCounter__WEBPACK_IMPORTED_MODULE_13__["default"], {
      text: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount, token.decimals), symbol)
    }), isDeleteButtonVisible && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].dot,
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].deleteText,
      onClick: e => handleDeleteToken(token, e)
    }, lang('Delete'))))), !isToncoin && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_15__["default"], {
      className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].menuSwitcher,
      checked: !isDisabled
    }));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].blockTitle
  }, lang('My Tokens')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].contentRelative,
    ref: sortableContainerRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].settingsBlock, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].sortableContainer),
    style: `height: ${((_tokens$length = tokens === null || tokens === void 0 ? void 0 : tokens.length) !== null && _tokens$length !== void 0 ? _tokens$length : 0) * TOKEN_HEIGHT_PX + TOP_OFFSET}px`,
    ref: tokensRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].item_small),
    onClick: handleOpenAddTokenPage
  }, lang('Add Token'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].iconChevronRight, 'icon-chevron-right'),
    "aria-hidden": true
  })), tokens === null || tokens === void 0 ? void 0 : tokens.map(renderToken))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_DeleteTokenModal__WEBPACK_IMPORTED_MODULE_12__["default"], {
    token: tokenToDelete
  }));
}
function arraysAreEqual() {
  let arr1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];
  let arr2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  return arr1.length === arr2.length && arr1.every((value, index) => value === arr2[index]);
}
function getOffsetBySlug(slug) {
  let list = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
  const realIndex = list.indexOf(slug);
  const index = realIndex === -1 ? list.length : realIndex;
  return getOffsetByIndex(index);
}
function getOffsetByIndex(index) {
  return index * TOKEN_HEIGHT_PX + TOP_OFFSET;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsTokens));

/***/ }),

/***/ "./src/components/settings/SettingsWalletVersion.tsx":
/*!***********************************************************!*\
  !*** ./src/components/settings/SettingsWalletVersion.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useScrolledState */ "./src/hooks/useScrolledState.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Settings.module.scss */ "./src/components/settings/Settings.module.scss");











function SettingsWalletVersion(_ref) {
  let {
    isActive,
    handleBackClick,
    isInsideModal,
    currentVersion,
    wallets
  } = _ref;
  const {
    closeSettings,
    importAccountByVersion
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_4__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const {
    handleScroll: handleContentScroll,
    isScrolled
  } = (0,_hooks_useScrolledState__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const handleAddWallet = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__["default"])(version => {
    closeSettings();
    importAccountByVersion({
      version
    });
  });
  function renderWallets() {
    return wallets === null || wallets === void 0 ? void 0 : wallets.map(v => {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        key: v.address,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].item, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].item_wallet_version),
        onClick: () => handleAddWallet(v.version)
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionInfo
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionTitle
      }, v.version), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionAddress
      }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_3__.shortenAddress)(v.address))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionInfoRight
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionTokens
      }, v.tokens.join(', ')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].walletVersionAmount
      }, "\u2248\u2009", v.totalBalance)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconChevronRight, 'icon-chevron-right'),
        "aria-hidden": true
      }));
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].slide
  }, isInsideModal ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_9__["default"], {
    title: lang('Wallet Versions'),
    withNotch: isScrolled,
    onBackButtonClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].modalHeader
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].headerBack
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].headerTitle
  }, lang('Wallet Versions'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].content, 'custom-scroll'),
    onScroll: handleContentScroll
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].blockWalletVersionText
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$current_wallet_version', {
    version: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, currentVersion)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('You have tokens on other versions of your wallet. You can import them from here.'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].block
  }, renderWallets()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].blockWalletVersionReadMore
  }, lang('$read_more_about_wallet_version', {
    ton_link: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: "https://docs.ton.org/participate/wallets/contracts",
      target: "_blank",
      rel: "noreferrer"
    }, "ton.org")
  }))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SettingsWalletVersion));

/***/ }),

/***/ "./src/components/settings/biometrics/Biometrics.tsx":
/*!***********************************************************!*\
  !*** ./src/components/settings/biometrics/Biometrics.tsx ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _TurnOff__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TurnOff */ "./src/components/settings/biometrics/TurnOff.tsx");
/* harmony import */ var _TurnOffWarning__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TurnOffWarning */ "./src/components/settings/biometrics/TurnOffWarning.tsx");
/* harmony import */ var _TurnOn__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TurnOn */ "./src/components/settings/biometrics/TurnOn.tsx");






function Biometrics(_ref) {
  let {
    state,
    error
  } = _ref;
  const {
    closeBiometricSettings
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const isTurnOnBiometricsOpened = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnRegistration || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnVerification || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnComplete;
  const isTurnOffBiometricsOpened = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffBiometricConfirmation || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffCreatePassword || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffComplete;
  const isTurnOffBiometricsWarningOpened = state === _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffWarning;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TurnOn__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isOpen: isTurnOnBiometricsOpened,
    state: state,
    error: error,
    onClose: closeBiometricSettings
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TurnOff__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isOpen: isTurnOffBiometricsOpened,
    state: state,
    error: error,
    onClose: closeBiometricSettings
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TurnOffWarning__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isOpen: isTurnOffBiometricsWarningOpened,
    onClose: closeBiometricSettings
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    biometrics: {
      state,
      error
    }
  } = global;
  return {
    state,
    error
  };
})(Biometrics)));

/***/ }),

/***/ "./src/components/settings/biometrics/NativeBiometricsToggle.tsx":
/*!***********************************************************************!*\
  !*** ./src/components/settings/biometrics/NativeBiometricsToggle.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-dialog */ "./mobile/plugins/native-dialog/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../Settings.module.scss */ "./src/components/settings/Settings.module.scss");
/* harmony import */ var _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../assets/settings/settings_biometrics.svg */ "./src/assets/settings/settings_biometrics.svg");
/* harmony import */ var _assets_settings_settings_face_id_svg__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../assets/settings/settings_face-id.svg */ "./src/assets/settings/settings_face-id.svg");

















function NativeBiometricsToggle(_ref) {
  let {
    isBiometricAuthEnabled,
    onEnable
  } = _ref;
  const {
    disableNativeBiometrics
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const isFaceId = (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.getIsFaceIdAvailable)() || !(0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.getIsNativeBiometricAuthSupported)() && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_IOS;
  const isTouchId = (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.getIsTouchIdAvailable)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const [isWarningModalOpen, openWarningModal, closeWarningModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const switcherTitle = isFaceId ? 'Face ID' : isTouchId ? 'Touch ID' : lang('Biometric Authentication');
  const warningTitle = isFaceId ? 'Turn Off Face ID' : isTouchId ? 'Turn Off Touch ID' : 'Turn Off Biometrics';
  const warningDescription = isFaceId ? 'Are you sure you want to disable Face ID?' : isTouchId ? 'Are you sure you want to disable Touch ID?' : 'Are you sure you want to disable biometrics?';
  const icon = isFaceId ? _assets_settings_settings_face_id_svg__WEBPACK_IMPORTED_MODULE_16__ : _assets_settings_settings_biometrics_svg__WEBPACK_IMPORTED_MODULE_15__;
  const handleConfirmDisableBiometrics = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    closeWarningModal();
    disableNativeBiometrics();
  });
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) return;
    if (isWarningModalOpen) {
      native_dialog__WEBPACK_IMPORTED_MODULE_0__.Dialog.confirm({
        title: lang(warningTitle),
        message: lang(warningDescription),
        okButtonTitle: lang('Yes'),
        cancelButtonTitle: lang('Cancel')
      }).then(_ref2 => {
        let {
          value
        } = _ref2;
        if (value) {
          handleConfirmDisableBiometrics();
        }
      }).finally(closeWarningModal);
    }
  }, [handleConfirmDisableBiometrics, isWarningModalOpen, lang, warningDescription, warningTitle]);
  const handleBiometricAuthToggle = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    if (isBiometricAuthEnabled) {
      openWarningModal();
    } else {
      onEnable();
    }
  });
  function renderDisableNativeBiometricsWarning() {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_11__["default"], {
      isCompact: true,
      isOpen: isWarningModalOpen,
      title: lang(warningTitle),
      onClose: closeWarningModal,
      dialogClassName: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].stakingSafeDialog
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang(warningDescription))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
      onClick: closeWarningModal
    }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_10__["default"], {
      onClick: handleConfirmDisableBiometrics
    }, lang('Yes'))));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].block
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].item,
    onClick: handleBiometricAuthToggle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("img", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuIcon,
    src: icon,
    alt: ""
  }), switcherTitle, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_12__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_14__["default"].menuSwitcher,
    label: switcherTitle,
    checked: isBiometricAuthEnabled
  })), renderDisableNativeBiometricsWarning());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  const {
    authConfig
  } = global.settings;
  return {
    isBiometricAuthEnabled: !!authConfig && authConfig.kind === 'native-biometrics'
  };
})(NativeBiometricsToggle)));

/***/ }),

/***/ "./src/components/settings/biometrics/NativeBiometricsTurnOn.tsx":
/*!***********************************************************************!*\
  !*** ./src/components/settings/biometrics/NativeBiometricsTurnOn.tsx ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_PinPad__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/PinPad */ "./src/components/ui/PinPad.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../Settings.module.scss */ "./src/components/settings/Settings.module.scss");














function NativeBiometricsTurnOn(_ref) {
  let {
    isActive,
    isPinAccepted,
    error,
    isNativeBiometricsEnabled,
    handleBackClick
  } = _ref;
  const {
    enableNativeBiometrics,
    clearNativeBiometricsError
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const {
    isSmallHeight
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const [pin, setPin] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const pinPadType = pin.length !== _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH ? undefined : isPinAccepted ? 'success' : error ? 'error' : undefined;
  const pinTitle = isPinAccepted ? 'Correct' : error && pin.length === _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH ? error : 'Enter your code';
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive) return;
    setPin('');
  }, [isActive]);
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__["default"])(_ref2 => {
    let [prevIsEnabled] = _ref2;
    if (isNativeBiometricsEnabled && !prevIsEnabled) {
      handleBackClick();
    }
  }, [isNativeBiometricsEnabled, handleBackClick]);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_7__["default"])({
    isActive,
    onBack: handleBackClick
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(password => {
    enableNativeBiometrics({
      password
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].slide
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].content, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].contentFullSize)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isSimple: true,
    isText: true,
    onClick: handleBackClick,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].headerBack, _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].headerBackInContent)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].iconChevron, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].pinPadHeader
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
    play: isActive,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.guard,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.guardPreview,
    noLoop: false,
    nonInteractive: true,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].stickerNativeBiometric
  }), !isSmallHeight && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].pinPadTitle
  }, lang('Confirm Passcode'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PinPad__WEBPACK_IMPORTED_MODULE_12__["default"], {
    isActive: isActive,
    onClearError: clearNativeBiometricsError,
    title: lang(pinTitle),
    type: pinPadType,
    length: _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH,
    value: pin,
    onChange: setPin,
    onSubmit: handleSubmit
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    nativeBiometricsError,
    isPinAccepted,
    settings: {
      authConfig
    }
  } = global;
  return {
    isPinAccepted,
    error: nativeBiometricsError,
    isNativeBiometricsEnabled: !!authConfig && authConfig.kind === 'native-biometrics'
  };
})(NativeBiometricsTurnOn)));

/***/ }),

/***/ "./src/components/settings/biometrics/TurnOff.tsx":
/*!********************************************************!*\
  !*** ./src/components/settings/biometrics/TurnOff.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_CreatePasswordForm__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/CreatePasswordForm */ "./src/components/ui/CreatePasswordForm.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Biometrics.module.scss */ "./src/components/settings/biometrics/Biometrics.module.scss");


















const STICKER_SIZE = 180;
function TurnOff(_ref) {
  let {
    isOpen,
    state,
    error,
    onClose
  } = _ref;
  const {
    disableBiometrics
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_9__["default"])(state, isOpen);
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])((password, isPasswordNumeric) => {
    disableBiometrics({
      password,
      isPasswordNumeric
    });
  });

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffBiometricConfirmation:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Biometric Confirmation'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.holdTon,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.holdTonPreview,
          play: isActive,
          size: STICKER_SIZE,
          nonInteractive: true,
          noLoop: false,
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].sticker
        }), error ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].error
        }, lang(error)) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].step
        }, lang('Please verify the operation.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
          onClick: onClose,
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].customSubmitButton
        }, lang('Cancel')))));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffCreatePassword:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Create Password'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.guard,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.guardPreview,
          play: isActive,
          size: STICKER_SIZE,
          nonInteractive: true,
          noLoop: false,
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].sticker
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_CreatePasswordForm__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isActive: isActive,
          formId: "biometrics-create-password",
          onSubmit: handleSubmit,
          onCancel: onClose
        })));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffComplete:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Biometrics Disabled'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.yeee,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_6__.ANIMATED_STICKERS_PATHS.yeeePreview,
          play: isActive,
          size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_HUGE_SIZE_PX,
          nonInteractive: true,
          noLoop: false,
          className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].sticker, _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].stickerHuge)
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
          isPrimary: true,
          onClick: onClose,
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].customSubmitButton
        }, lang('Done')))));
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    dialogClassName: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].modalDialog,
    onClose: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_15__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TurnOff));

/***/ }),

/***/ "./src/components/settings/biometrics/TurnOffWarning.tsx":
/*!***************************************************************!*\
  !*** ./src/components/settings/biometrics/TurnOffWarning.tsx ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");







function TurnOffWaning(_ref) {
  let {
    isOpen,
    onClose
  } = _ref;
  const {
    openBiometricsTurnOff
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_5__["default"], {
    isOpen: isOpen,
    isCompact: true,
    title: lang('Turn Off Biometrics'),
    onClose: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].text
  }, lang('If you turn off biometric protection, you will need to create a password.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttons, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttonsNoExtraSpace)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button,
    onClick: onClose
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isPrimary: true,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button,
    onClick: openBiometricsTurnOff
  }, lang('Continue'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TurnOffWaning));

/***/ }),

/***/ "./src/components/settings/biometrics/TurnOn.tsx":
/*!*******************************************************!*\
  !*** ./src/components/settings/biometrics/TurnOn.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Biometrics.module.scss */ "./src/components/settings/biometrics/Biometrics.module.scss");



















const STICKER_SIZE = 180;
function TurnOn(_ref) {
  let {
    isOpen,
    state,
    error,
    onClose
  } = _ref;
  const {
    enableBiometrics
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [localError, setLocalError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_10__["default"])(state, isOpen);
  const shouldDisablePasswordForm = Boolean(state !== _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      setLocalError('');
    }
  }, [isOpen]);
  const handleClearError = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    setLocalError(undefined);
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(password => {
    if (shouldDisablePasswordForm) {
      return;
    }
    try {
      enableBiometrics({
        password
      });
    } catch (err) {
      setLocalError(err.message || 'Unknown error.');
    }
  });

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Turn On Biometrics'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_15__["default"], {
          isActive: isActive,
          isLoading: false,
          error: error || localError,
          operationType: "passcode",
          help: lang('Enabling biometric confirmation will reset the password.'),
          submitLabel: lang('Continue'),
          onSubmit: handleSubmit,
          onCancel: onClose,
          onUpdate: handleClearError
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnRegistration:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Biometric Registration'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.holdTon,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.holdTonPreview,
          play: isActive,
          size: STICKER_SIZE,
          nonInteractive: true,
          noLoop: false,
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].sticker
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].step
        }, lang('Step 1 of 2. Registration')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
          onClick: onClose,
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].customCancelButton
        }, lang('Cancel')))));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnVerification:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Biometric Registration'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.holdTon,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.holdTonPreview,
          play: isActive,
          size: STICKER_SIZE,
          nonInteractive: true,
          noLoop: false,
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].sticker
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].step
        }, lang(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ELECTRON ? 'Verification' : 'Step 2 of 2. Verification')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
          onClick: onClose,
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].customCancelButton
        }, lang('Cancel')))));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnComplete:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
          title: lang('Biometrics Enabled'),
          onClose: onClose
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionContent
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__["default"], {
          tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.yeee,
          previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_7__.ANIMATED_STICKERS_PATHS.yeeePreview,
          play: isActive,
          size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_HUGE_SIZE_PX,
          nonInteractive: true,
          noLoop: false,
          className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].sticker, _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].stickerHuge)
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].buttons
        }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
          isPrimary: true,
          onClick: onClose,
          className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].customSubmitButton
        }, lang('Done')))));
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    hasCloseButton: true,
    isOpen: isOpen,
    dialogClassName: _Biometrics_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].modalDialog,
    onClose: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_16__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_5__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_17__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TurnOn));

/***/ }),

/***/ "./src/components/settings/nfts/HiddenByUserNft.tsx":
/*!**********************************************************!*\
  !*** ./src/components/settings/nfts/HiddenByUserNft.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Settings.module.scss */ "./src/components/settings/Settings.module.scss");













function HiddenByUserNft(_ref) {
  let {
    nft
  } = _ref;
  const {
    openMediaViewer,
    removeNftSpecialStatus
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const [isNftHidden,, unmarkNftHidden] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_7__["default"])(true);
  const handleUnhide = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    removeNftSpecialStatus({
      address: nft.address
    });
  });
  const {
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_10__["default"])(isNftHidden, handleUnhide);
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_6__.useDeviceScreen)();
  const areSettingsInModal = !isPortrait || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_ELECTRON || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATING_BOTTOM_SHEET || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET;
  function handleNftClick() {
    openMediaViewer({
      mediaId: nft.address,
      mediaType: _global_types__WEBPACK_IMPORTED_MODULE_3__.MediaType.Nft,
      noGhostAnimation: areSettingsInModal,
      hiddenNfts: 'user'
    });
  }
  return /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].item, transitionClassNames),
    onClick: handleNftClick,
    key: nft.address,
    role: "button",
    tabIndex: 0,
    "data-nft-address": !areSettingsInModal && nft.address
  }, /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("img", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].nftImage,
    src: nft.image,
    alt: nft.name
  }), /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].nftPrimaryCell
  }, /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].nftName
  }, nft.name || lang('Untitled')), nft.collectionName && /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].nftCollection
  }, nft.collectionName)), /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isSmall: true,
    isPrimary: true,
    isText: true,
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].nftButtonUnhide,
    onClick: unmarkNftHidden,
    shouldStopPropagation: true
  }, lang('Unhide')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(HiddenByUserNft));

/***/ }),

/***/ "./src/components/settings/nfts/ProbablyScamNft.tsx":
/*!**********************************************************!*\
  !*** ./src/components/settings/nfts/ProbablyScamNft.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Switcher__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ui/Switcher */ "./src/components/ui/Switcher.tsx");
/* harmony import */ var _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../Settings.module.scss */ "./src/components/settings/Settings.module.scss");










function ProbablyScamNft(_ref) {
  let {
    nft,
    isWhitelisted
  } = _ref;
  const {
    openMediaViewer,
    removeNftSpecialStatus,
    openUnhideNftModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const areSettingsInModal = !isPortrait || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_ELECTRON || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATED_BOTTOM_SHEET;
  const handleNftClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    openMediaViewer({
      mediaId: nft.address,
      mediaType: _global_types__WEBPACK_IMPORTED_MODULE_3__.MediaType.Nft,
      noGhostAnimation: areSettingsInModal,
      hiddenNfts: 'scam'
    });
  });
  const handleSwitcherClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    e.stopPropagation();
    if (isWhitelisted) {
      removeNftSpecialStatus({
        address: nft.address
      });
    } else {
      openUnhideNftModal({
        address: nft.address,
        name: nft.name
      });
    }
  });
  return /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].item,
    onClick: handleNftClick,
    key: nft.address,
    role: "button",
    tabIndex: 0,
    "data-nft-address": !areSettingsInModal && nft.address
  }, /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("img", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].nftImage,
    src: nft.image,
    alt: nft.name
  }), /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].nftPrimaryCell
  }, /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].nftName
  }, nft.name), nft.collectionName && /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].nftCollection
  }, nft.collectionName)), /*#__PURE__*/_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Switcher__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: _Settings_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].menuSwitcher,
    label: lang('Show'),
    checked: isWhitelisted,
    onChange: handleSwitcherClick,
    shouldStopPropagation: true
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(ProbablyScamNft));

/***/ }),

/***/ "./src/components/staking/StakeModal.tsx":
/*!***********************************************!*\
  !*** ./src/components/staking/StakeModal.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _common_TransferResult__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../common/TransferResult */ "./src/components/common/TransferResult.tsx");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _StakingInitial__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./StakingInitial */ "./src/components/staking/StakingInitial.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Staking_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Staking.module.scss */ "./src/components/staking/Staking.module.scss");
























const IS_OPEN_STATES = new Set([_global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeInitial, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakePassword, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeConnectHardware, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeConfirmHardware, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeComplete]);
function StakeModal(_ref) {
  let {
    state,
    isLoading,
    amount,
    error,
    tokens,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = _ref;
  const {
    startStaking,
    setStakingScreen,
    cancelStaking,
    clearStakingError,
    submitStakingPassword,
    submitStakingHardware,
    openStakingInfo
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const isOpen = IS_OPEN_STATES.has(state);
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  }), [tokens]);
  const [renderedStakingAmount, setRenderedStakingAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(amount);
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_12__["default"])(state, isOpen);
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakePassword) {
      clearStakingError();
      setStakingScreen({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeInitial
      });
    }
  });
  const handleLedgerConnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    setRenderedStakingAmount(amount);
    submitStakingHardware();
  });
  const handleTransferSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(password => {
    setRenderedStakingAmount(amount);
    submitStakingPassword({
      password
    });
  });
  const handleViewStakingInfoClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    cancelStaking();
    openStakingInfo();
  });
  function renderStakingShortInfo() {
    if (!tonToken || !amount) return undefined;
    const logoPath = tonToken.image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__.ASSET_LOGO_PATHS[tonToken.symbol.toLowerCase()];
    const stakingInfoClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].stakingShortInfo, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].stakingShortInfoInsidePasswordForm);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: stakingInfoClassName
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: tonToken.symbol,
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount), tonToken.symbol)));
  }
  function renderPassword(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
      title: lang('Confirm Staking'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isActive: isActive,
      isLoading: isLoading,
      error: error,
      withCloseButton: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR,
      operationType: "staking",
      placeholder: "Confirm operation with your password",
      submitLabel: lang('Confirm'),
      cancelLabel: lang('Back'),
      onSubmit: handleTransferSubmit,
      onCancel: handleBackClick,
      onUpdate: clearStakingError
    }, renderStakingShortInfo()));
  }
  function renderComplete(isActive) {
    var _tonToken$amount;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
      title: lang('Coins have been staked!'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TransferResult__WEBPACK_IMPORTED_MODULE_13__["default"], {
      color: "purple",
      playAnimation: isActive,
      amount: renderedStakingAmount,
      noSign: true,
      balance: (_tonToken$amount = tonToken === null || tonToken === void 0 ? void 0 : tonToken.amount) !== null && _tonToken$amount !== void 0 ? _tonToken$amount : 0n,
      operationAmount: amount ? -amount : undefined,
      firstButtonText: lang('View'),
      secondButtonText: lang('Stake More'),
      onFirstButtonClick: handleViewStakingInfoClick,
      onSecondButtonClick: startStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_16__["default"], {
      onClick: cancelStaking,
      isPrimary: true
    }, lang('Close')))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeInitial:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
          title: lang('Stake TON'),
          onClose: cancelStaking
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_StakingInitial__WEBPACK_IMPORTED_MODULE_21__["default"], {
          isActive: isActive
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakePassword:
        return renderPassword(isActive);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_15__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          onConnected: handleLedgerConnect,
          onClose: cancelStaking
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_14__["default"], {
          text: lang('Please confirm operation on your Ledger'),
          error: error,
          onClose: cancelStaking,
          onTryAgain: handleLedgerConnect
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakeComplete:
        return renderComplete(isActive);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_17__["default"], {
    isOpen: isOpen,
    hasCloseButton: true,
    noBackdropClose: true,
    dialogClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].modalDialog,
    nativeBottomSheetKey: "stake",
    forceFullNative: renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.StakePassword,
    onClose: cancelStaking,
    onCloseAnimationEnd: updateNextKey
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_20__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_8__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global);
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    ...global.staking,
    tokens,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  };
})(StakeModal)));

/***/ }),

/***/ "./src/components/staking/StakingInfoContent.tsx":
/*!*******************************************************!*\
  !*** ./src/components/staking/StakingInfoContent.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useWindowSize */ "./src/hooks/useWindowSize.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_RichNumberField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/RichNumberField */ "./src/components/ui/RichNumberField.tsx");
/* harmony import */ var _StakingInitial__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./StakingInitial */ "./src/components/staking/StakingInitial.tsx");
/* harmony import */ var _StakingProfitItem__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./StakingProfitItem */ "./src/components/staking/StakingProfitItem.tsx");
/* harmony import */ var _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Staking.module.scss */ "./src/components/staking/Staking.module.scss");





















const UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec
const HISTORY_SCROLL_APPEARANCE_HEIGHT_PX = 640;
function StakingInfoContent(_ref) {
  let {
    isActive,
    isStatic,
    amount,
    apyValue,
    totalProfit,
    stakingHistory,
    tokens,
    isUnstakeRequested,
    endOfStakingCycle,
    onClose
  } = _ref;
  const {
    startStaking,
    fetchStakingHistory
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const isLoading = !amount;
  const hasHistory = Boolean(stakingHistory === null || stakingHistory === void 0 ? void 0 : stakingHistory.length);
  const {
    shouldRender: shouldRenderSpinner,
    transitionClassNames: spinnerClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_12__["default"])(isLoading && isActive);
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG;
  }), [tokens]);
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const {
    height
  } = (0,_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_13__["default"])();
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_9__["default"])(forceUpdate, isUnstakeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      fetchStakingHistory();
    }
  }, [fetchStakingHistory, isActive]);
  const handleStakeClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    onClose === null || onClose === void 0 ? void 0 : onClose();
    startStaking();
  });
  const handleUnstakeClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_11__["default"])(() => {
    onClose === null || onClose === void 0 ? void 0 : onClose();
    startStaking({
      isUnstaking: true
    });
  });
  const stakingResult = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toBig)(amount).round(_StakingInitial__WEBPACK_IMPORTED_MODULE_18__.STAKING_DECIMAL).toString();
  const balanceResult = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toBig)(amount).mul(apyValue / 100 + 1).round(_StakingInitial__WEBPACK_IMPORTED_MODULE_18__.STAKING_DECIMAL).toString();
  function renderUnstakeDescription() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].unstakeTime, _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].unstakeTime_purple)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].unstakeTimeIcon, 'icon-clock'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, Boolean(endOfStakingCycle) && lang('$unstaking_when_receive', {
      time: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_5__.formatRelativeHumanDateTime)(lang.code, endOfStakingCycle))
    })));
  }
  function renderHistory() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].history, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].history_static)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].historyTotal
    }, lang('$total', {
      value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].historyTotalValue
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(totalProfit), _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL))
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].historyTitle
    }, lang('Earning History')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].historyList, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].historyList_static, isStatic && 'custom-scroll', !isStatic && height >= HISTORY_SCROLL_APPEARANCE_HEIGHT_PX && 'custom-scroll')
    }, stakingHistory === null || stakingHistory === void 0 ? void 0 : stakingHistory.map(record => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_StakingProfitItem__WEBPACK_IMPORTED_MODULE_19__["default"], {
      key: record.timestamp,
      profit: record.profit,
      timestamp: record.timestamp,
      tonToken: tonToken
    }))));
  }
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfo, !isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfo_modal, !hasHistory && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoNoHistory, isStatic && 'staking-info');
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: fullClassName
  }, !isStatic && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__["default"], {
    title: lang('Staking'),
    closeClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoClose,
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberField__WEBPACK_IMPORTED_MODULE_17__["default"], {
    labelText: lang('Currently Staked'),
    zeroValue: "...",
    value: stakingResult,
    decimals: _StakingInitial__WEBPACK_IMPORTED_MODULE_18__.STAKING_DECIMAL,
    suffix: _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL,
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingBalance,
    labelClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].balanceStakedLabel,
    valueClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].balanceStakedResult
  }, shouldRenderSpinner && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_15__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoLoading, spinnerClassNames)
  })), isUnstakeRequested ? renderUnstakeDescription() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberField__WEBPACK_IMPORTED_MODULE_17__["default"], {
    labelText: lang('Est. balance in a year'),
    zeroValue: "...",
    value: balanceResult,
    decimals: _StakingInitial__WEBPACK_IMPORTED_MODULE_18__.STAKING_DECIMAL,
    suffix: _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL,
    inputClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].balanceResultInput,
    labelClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].balanceStakedLabel,
    valueClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].balanceResult
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoButtons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoButton,
    isPrimary: true,
    isDisabled: isLoading,
    onClick: handleStakeClick
  }, lang('Stake More')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_14__["default"], {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].stakingInfoButton,
    isDisabled: isLoading,
    onClick: handleUnstakeClick
  }, lang('Unstake'))))), hasHistory && renderHistory());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking, _accountState$staking2, _accountState$staking3, _accountState$staking4, _accountState$staking5, _accountState$staking6;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  return {
    amount: (accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.balance) || 0n,
    apyValue: (accountState === null || accountState === void 0 || (_accountState$staking2 = accountState.staking) === null || _accountState$staking2 === void 0 ? void 0 : _accountState$staking2.apy) || 0,
    totalProfit: (_accountState$staking3 = accountState === null || accountState === void 0 || (_accountState$staking4 = accountState.staking) === null || _accountState$staking4 === void 0 ? void 0 : _accountState$staking4.totalProfit) !== null && _accountState$staking3 !== void 0 ? _accountState$staking3 : 0n,
    stakingHistory: accountState === null || accountState === void 0 ? void 0 : accountState.stakingHistory,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountTokens)(global),
    isUnstakeRequested: accountState === null || accountState === void 0 || (_accountState$staking5 = accountState.staking) === null || _accountState$staking5 === void 0 ? void 0 : _accountState$staking5.isUnstakeRequested,
    endOfStakingCycle: accountState === null || accountState === void 0 || (_accountState$staking6 = accountState.staking) === null || _accountState$staking6 === void 0 ? void 0 : _accountState$staking6.end
  };
})(StakingInfoContent)));

/***/ }),

/***/ "./src/components/staking/StakingInfoModal.tsx":
/*!*****************************************************!*\
  !*** ./src/components/staking/StakingInfoModal.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _StakingInfoContent__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./StakingInfoContent */ "./src/components/staking/StakingInfoContent.tsx");
/* harmony import */ var _Staking_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Staking.module.scss */ "./src/components/staking/Staking.module.scss");









const UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec

function StakingInfoModal(_ref) {
  let {
    isOpen,
    isUnstakeRequested,
    hasHistory,
    onClose
  } = _ref;
  const {
    fetchStakingHistory
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__["default"])();
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_5__["default"])(forceUpdate, isUnstakeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      fetchStakingHistory();
    }
  }, [fetchStakingHistory, isOpen]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isOpen: isOpen,
    contentClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].stakingInfoModalContent),
    nativeBottomSheetKey: "staking-info",
    onClose: onClose,
    forceFullNative: hasHistory
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_StakingInfoContent__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isActive: isOpen,
    onClose: onClose
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global);
  return {
    isUnstakeRequested: accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.isUnstakeRequested,
    hasHistory: (accountState === null || accountState === void 0 ? void 0 : accountState.stakingHistory) && accountState.stakingHistory.length > 0
  };
})(StakingInfoModal)));

/***/ }),

/***/ "./src/components/staking/StakingInitial.tsx":
/*!***************************************************!*\
  !*** ./src/components/staking/StakingInitial.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   STAKING_DECIMAL: () => (/* binding */ STAKING_DECIMAL),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_dialog__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-dialog */ "./mobile/plugins/native-dialog/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_RichNumberField__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/RichNumberField */ "./src/components/ui/RichNumberField.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Staking.module.scss */ "./src/components/staking/Staking.module.scss");



























const STAKING_DECIMAL = 2;
const ACTIVE_STATES = new Set([_global_types__WEBPACK_IMPORTED_MODULE_3__.StakingState.StakeInitial, _global_types__WEBPACK_IMPORTED_MODULE_3__.StakingState.None]);
const runThrottled = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_11__.throttle)(cb => cb(), 1500, true);
const TWO_TON = 2n * _config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON;
const MINIMUM_REQUIRED_AMOUNT_TON = 3n * _config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON + _config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON / 10n;
function StakingInitial(_ref) {
  let {
    isActive,
    isStatic,
    isLoading,
    apiError,
    tokens,
    fee,
    stakingBalance,
    apyValue,
    shouldUseNominators
  } = _ref;
  const {
    submitStakingInitial,
    fetchStakingFee
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_16__["default"])();
  const [isStakingInfoModalOpen, openStakingInfoModal, closeStakingInfoModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const [amount, setAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)();
  const [isNotEnough, setIsNotEnough] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isInsufficientBalance, setIsInsufficientBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isInsufficientFee, setIsInsufficientFee] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [isBelowMinimumAmount, setIsBelowMinimumAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const [shouldUseAllBalance, setShouldUseAllBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  const {
    amount: balance,
    symbol
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_4__.TONCOIN_SLUG;
  }), [tokens]) || {};
  const hasAmountError = Boolean(isInsufficientBalance || apiError);
  const calculatedFee = fee !== null && fee !== void 0 ? fee : _config__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_FEE;
  const decimals = _config__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_DECIMAL_PLACES;
  const minAmount = shouldUseNominators ? _config__WEBPACK_IMPORTED_MODULE_4__.NOMINATORS_STAKING_MIN_AMOUNT : _config__WEBPACK_IMPORTED_MODULE_4__.STAKING_MIN_AMOUNT;
  const shouldRenderBalanceWithSmallFee = balance && balance >= MINIMUM_REQUIRED_AMOUNT_TON;
  const availableBalance = shouldRenderBalanceWithSmallFee ? balance - TWO_TON : balance && balance > _config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON ? balance - _config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON : balance;
  const validateAndSetAmount = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(function (newAmount) {
    let noReset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    if (!noReset) {
      setShouldUseAllBalance(false);
      setIsNotEnough(false);
      setIsInsufficientBalance(false);
      setIsBelowMinimumAmount(false);
      setIsInsufficientFee(false);
    }
    if (newAmount === undefined) {
      setAmount(undefined);
      return;
    }
    if (Number.isNaN(newAmount) || newAmount < 0) {
      setIsNotEnough(true);
      return;
    }
    if (newAmount < minAmount) {
      setIsBelowMinimumAmount(true);
    } else if (!availableBalance || newAmount + calculatedFee > availableBalance) {
      setIsInsufficientBalance(true);
    } else if (newAmount >= minAmount && newAmount < TWO_TON && !shouldRenderBalanceWithSmallFee) {
      setIsInsufficientFee(true);
    } else if (availableBalance + stakingBalance < minAmount) {
      setIsNotEnough(true);
    }
    setAmount(newAmount);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (shouldUseAllBalance && availableBalance) {
      const newAmount = availableBalance - calculatedFee;
      validateAndSetAmount(newAmount, true);
    } else {
      validateAndSetAmount(amount, true);
    }
  }, [amount, fee, shouldUseAllBalance, validateAndSetAmount, calculatedFee, availableBalance]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!amount) {
      return;
    }
    runThrottled(() => {
      fetchStakingFee({
        amount
      });
    });
  }, [amount, fetchStakingFee]);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_18__["default"])(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_DELEGATED_BOTTOM_SHEET) return;
    if (isStakingInfoModalOpen) {
      native_dialog__WEBPACK_IMPORTED_MODULE_0__.Dialog.alert({
        title: lang('Why is staking safe?'),
        message: [`1. ${lang('$safe_staking_description1')}`, `2. ${lang('$safe_staking_description2')}`, `3. ${lang('$safe_staking_description3')}`].join('\n\n').replace(/\*\*/g, '')
      }).then(closeStakingInfoModal);
    }
  }, [isStakingInfoModalOpen, lang]);
  const handleAmountBlur = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    if (amount && amount + stakingBalance < minAmount) {
      setIsNotEnough(true);
    }
  });
  const handleMaxAmountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(e => {
    e.preventDefault();
    e.stopPropagation();
    if (!availableBalance) {
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.vibrate)();
    setShouldUseAllBalance(true);
  });
  const canSubmit = amount && availableBalance && !isNotEnough && !isBelowMinimumAmount && !isInsufficientFee && amount <= availableBalance && amount + stakingBalance >= minAmount;
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(e => {
    e.preventDefault();
    if (!canSubmit) {
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.vibrate)();
    submitStakingInitial({
      amount
    });
  });
  const handleAmountChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(stringValue => {
    const value = stringValue ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.fromDecimal)(stringValue, decimals) : undefined;
    validateAndSetAmount(value);
  });
  function getError() {
    if (isInsufficientBalance) {
      return lang('Insufficient balance');
    }
    if (isInsufficientFee) {
      return lang('$insufficient_fee', {
        fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_10__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toDecimal)(_config__WEBPACK_IMPORTED_MODULE_4__.ONE_TON), symbol !== null && symbol !== void 0 ? symbol : '')
      });
    }
    if (isBelowMinimumAmount) {
      return lang('$min_value', {
        value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
          className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].minAmountValue
        }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_10__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toDecimal)(minAmount), symbol !== null && symbol !== void 0 ? symbol : ''))
      });
    }
    return apiError ? lang(apiError) : undefined;
  }
  function renderTopRight() {
    if (!symbol) return undefined;
    const hasBalance = availableBalance !== undefined;
    const balanceButton = lang('$max_balance', {
      balance: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
        role: "button",
        tabIndex: 0,
        className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceLink,
        onClick: handleMaxAmountClick
      }, hasBalance ? (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_10__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toDecimal)(availableBalance, decimals), symbol) : lang('Loading...'))
    });
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_24__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountTopRight, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountTopRight_static),
      slideClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountTopRight_slide,
      name: "fade",
      activeKey: 0
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balance
    }, balanceButton)));
  }
  function renderBottomRight() {
    const error = getError();
    const activeKey = isInsufficientBalance ? 0 : isInsufficientFee ? 1 : isBelowMinimumAmount ? 2 : apiError ? 3 : !stakingBalance && !hasAmountError ? 4 : 5;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_24__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottomRight, isNotEnough && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottomRight_error),
      slideClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottomRight_slide,
      name: "fade",
      activeKey: activeKey
    }, error ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceError
    }, error) : lang('$min_value', {
      value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
        className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].minAmountValue
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_10__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toDecimal)(minAmount), 'TON'))
    }));
  }
  function renderStakingSafeModal() {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_DELEGATED_BOTTOM_SHEET) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_21__["default"], {
      isCompact: true,
      isOpen: isStakingInfoModalOpen,
      title: lang('Why is staking safe?'),
      onClose: closeStakingInfoModal,
      dialogClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].stakingSafeDialog
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].text
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__["default"])(lang('$safe_staking_description1'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].text
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__["default"])(lang('$safe_staking_description2'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("p", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].text
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__["default"])(lang('$safe_staking_description3'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_20__["default"], {
      onClick: closeStakingInfoModal
    }, lang('Close'))));
  }
  function renderStakingResult() {
    const balanceResult = amount ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toBig)(amount).mul(apyValue / 100 + 1).round(STAKING_DECIMAL).toString() : '0';
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_RichNumberField__WEBPACK_IMPORTED_MODULE_22__["default"], {
      labelText: lang('Est. balance in a year'),
      zeroValue: "...",
      value: balanceResult,
      decimals: decimals,
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceResultWrapper,
      inputClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceResultInput, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].inputRichStatic),
      labelClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceResultLabel,
      valueClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].balanceResult
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("form", {
    className: isStatic ? undefined : _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].transitionContent,
    onSubmit: handleSubmit
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].welcome, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].welcome_static)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_19__["default"], {
    size: isStatic ? _config__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKER_MIDDLE_SIZE_PX : _config__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKER_SMALL_SIZE_PX,
    play: isActive,
    noLoop: false,
    nonInteractive: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].sticker, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].sticker_static),
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_13__.ANIMATED_STICKERS_PATHS.wait,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_13__.ANIMATED_STICKERS_PATHS.waitPreview
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].welcomeInformation, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].welcomeInformation_static)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", null, lang('Earn from your tokens while holding them')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].stakingApy
  }, lang('$est_apy_val', apyValue)), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_20__["default"], {
    isText: true,
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].textButton,
    onClick: openStakingInfoModal
  }, lang('Why this is safe')))), renderTopRight(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_23__["default"], {
    key: "staking_amount",
    id: "staking_amount",
    hasError: isNotEnough || isInsufficientBalance,
    value: amount === undefined ? undefined : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_9__.toDecimal)(amount),
    labelText: lang('Amount'),
    onBlur: handleAmountBlur,
    onChange: handleAmountChange,
    onPressEnter: handleSubmit,
    decimals: decimals,
    inputClassName: isStatic ? _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].inputRichStatic : undefined,
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountInput
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].ton
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("img", {
    src: _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_14__.ASSET_LOGO_PATHS.ton,
    alt: "",
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].tonIcon
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].tonName
  }, symbol))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottomWrapper, isStatic && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottomWrapper_static)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].amountBottom
  }, renderBottomRight())), renderStakingResult(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_25__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_20__["default"], {
    isPrimary: true,
    isSubmit: true,
    isDisabled: !canSubmit,
    isLoading: isLoading
  }, lang('Stake TON'))), renderStakingSafeModal());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  var _accountState$staking, _accountState$staking2, _accountState$staking3;
  const {
    state,
    isLoading,
    fee,
    error: apiError
  } = global.staking;
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountTokens)(global);
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global);
  const shouldUseNominators = (accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.type) === 'nominators';
  return {
    isLoading: isLoading && ACTIVE_STATES.has(state),
    tokens,
    apiError,
    fee,
    stakingBalance: (accountState === null || accountState === void 0 || (_accountState$staking2 = accountState.staking) === null || _accountState$staking2 === void 0 ? void 0 : _accountState$staking2.balance) || 0n,
    apyValue: (accountState === null || accountState === void 0 || (_accountState$staking3 = accountState.staking) === null || _accountState$staking3 === void 0 ? void 0 : _accountState$staking3.apy) || 0,
    shouldUseNominators
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(StakingInitial)));

/***/ }),

/***/ "./src/components/staking/StakingProfitItem.tsx":
/*!******************************************************!*\
  !*** ./src/components/staking/StakingProfitItem.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./StakingProfileItem.module.scss */ "./src/components/staking/StakingProfileItem.module.scss");






function StakingProfitItem(_ref) {
  let {
    tonToken,
    timestamp,
    profit
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].item
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].icon, 'icon-earn'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].leftBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].operationName
  }, lang('Earned')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].date
  }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_2__.formatHumanDay)(lang, timestamp), ", ", (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_2__.formatTime)(timestamp))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _StakingProfileItem_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].amount
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_3__.formatCurrencyExtended)(profit, tonToken.symbol)));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(StakingProfitItem));

/***/ }),

/***/ "./src/components/staking/UnstakeModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/staking/UnstakeModal.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _common_TransferResult__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../common/TransferResult */ "./src/components/common/TransferResult.tsx");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Staking.module.scss */ "./src/components/staking/Staking.module.scss");

































const IS_OPEN_STATES = new Set([_global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeInitial, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakePassword, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConnectHardware, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConfirmHardware, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeComplete, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.NotEnoughBalance]);
const FULL_SIZE_NBS_STATES = new Set([_global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakePassword, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConnectHardware, _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConfirmHardware]);
const UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec

function UnstakeModal(_ref) {
  let {
    state,
    isLoading,
    error,
    tokens,
    stakingType,
    stakingBalance,
    endOfStakingCycle,
    stakingInfo,
    baseCurrency,
    shouldUseNominators,
    isHardwareAccount,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    amount
  } = _ref;
  const {
    setStakingScreen,
    cancelStaking,
    clearStakingError,
    submitStakingInitial,
    submitStakingPassword,
    submitStakingHardware,
    fetchStakingHistory,
    openReceiveModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_16__["default"])();
  const isOpen = IS_OPEN_STATES.has(state);
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  }), [tokens]);
  const [renderedBalance, setRenderedBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(tonToken === null || tonToken === void 0 ? void 0 : tonToken.amount);
  const [hasAmountError, setHasAmountError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isLongUnstake, setIsLongUnstake] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isInsufficientBalance, setIsInsufficientBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [unstakeAmount, setUnstakeAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(shouldUseNominators ? stakingBalance : undefined);
  const [successUnstakeAmount, setSuccessUnstakeAmount] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(undefined);
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.getShortCurrencySymbol)(baseCurrency);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    var _stakingInfo$liquid$i, _stakingInfo$liquid;
    const isInstantUnstake = Boolean(stakingType === 'liquid' && (stakingBalance !== null && stakingBalance !== void 0 ? stakingBalance : 0n) < ((_stakingInfo$liquid$i = (_stakingInfo$liquid = stakingInfo.liquid) === null || _stakingInfo$liquid === void 0 ? void 0 : _stakingInfo$liquid.instantAvailable) !== null && _stakingInfo$liquid$i !== void 0 ? _stakingInfo$liquid$i : 0n));
    setIsLongUnstake(!isInstantUnstake);
  }, [stakingType, stakingBalance, stakingInfo]);
  const [unstakeDate, setUnstakeDate] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(Date.now() + _config__WEBPACK_IMPORTED_MODULE_3__.STAKING_CYCLE_DURATION_MS);
  const hasBalanceForUnstake = tonToken && tonToken.amount >= _config__WEBPACK_IMPORTED_MODULE_3__.MIN_BALANCE_FOR_UNSTAKE;
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_14__["default"])();
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_18__["default"])(state, isOpen);
  const amountInCurrency = tonToken && tonToken.price && unstakeAmount ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toBig)(unstakeAmount, tonToken.decimals).mul(tonToken.price).round(tonToken.decimals, _lib_big_js__WEBPACK_IMPORTED_MODULE_4__.Big.roundHalfUp).toString() : undefined;
  const renderingAmountInCurrency = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_13__["default"])(amountInCurrency, true);
  const isUnstakeDisabled = !hasBalanceForUnstake || isInsufficientBalance || !unstakeAmount;
  const {
    shouldRender: shouldRenderCurrency,
    transitionClassNames: currencyClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_19__["default"])(Boolean(amountInCurrency));
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      fetchStakingHistory();
      setUnstakeAmount(shouldUseNominators ? stakingBalance : undefined);
      setHasAmountError(false);
      setIsInsufficientBalance(false);
    }
  }, [isOpen, fetchStakingHistory, shouldUseNominators, stakingBalance]);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_20__["default"])(() => {
    if (endOfStakingCycle) {
      setUnstakeDate(endOfStakingCycle);
    }
  }, [endOfStakingCycle]);
  const refreshUnstakeDate = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    if (unstakeDate < Date.now()) {
      fetchStakingHistory();
    }
    forceUpdate();
  });
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_15__["default"])(refreshUnstakeDate, UPDATE_UNSTAKE_DATE_INTERVAL_MS);
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakePassword) {
      setStakingScreen({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeInitial
      });
    }
  });
  const handleStartUnstakeClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    submitStakingInitial({
      isUnstaking: true,
      amount: unstakeAmount
    });
  });
  const handleTransferSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(password => {
    setSuccessUnstakeAmount(amount);
    setRenderedBalance(tonToken === null || tonToken === void 0 ? void 0 : tonToken.amount);
    submitStakingPassword({
      password,
      isUnstaking: true
    });
  });
  const handleLedgerConnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    setSuccessUnstakeAmount(amount);
    submitStakingHardware({
      isUnstaking: true
    });
  });
  const handleGetTon = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(() => {
    cancelStaking();
    openReceiveModal();
  });
  function renderUnstakingShortInfo() {
    if (!tonToken || !unstakeAmount) return undefined;
    const logoPath = tonToken.image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_12__.ASSET_LOGO_PATHS[tonToken.symbol.toLowerCase()];
    const className = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].stakingShortInfo, _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstake, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].stakingShortInfoInsidePasswordForm);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: className
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: tonToken.symbol,
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(unstakeAmount), tonToken.symbol)));
  }
  const validateAndSetAmount = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(function (newAmount) {
    let noReset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    if (!noReset) {
      setHasAmountError(false);
      setIsInsufficientBalance(false);
    }
    if (newAmount === undefined) {
      setUnstakeAmount(undefined);
      return;
    }
    if (newAmount < 0) {
      setHasAmountError(true);
      return;
    }
    if (!stakingBalance || newAmount > stakingBalance) {
      setHasAmountError(true);
      setIsInsufficientBalance(true);
    }
    setUnstakeAmount(newAmount);
  });
  const handleMaxAmountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(e => {
    e.preventDefault();
    if (!stakingBalance) {
      return;
    }
    validateAndSetAmount(stakingBalance);
  });
  const handleAmountChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_17__["default"])(stringValue => {
    const value = stringValue ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.fromDecimal)(stringValue, tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals) : undefined;
    validateAndSetAmount(value);
  });
  function renderBalance() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].balanceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].balance
    }, lang('$all_balance', {
      balance: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
        href: "#",
        onClick: handleMaxAmountClick,
        className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].balanceLink
      }, stakingBalance !== undefined ? (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrencySimple)(stakingBalance, tonToken === null || tonToken === void 0 ? void 0 : tonToken.symbol, tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals) : lang('Loading...'))
    })));
  }
  function renderCurrencyValue() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountInCurrency, currencyClassNames)
    }, "\u2248\u2009", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)(renderingAmountInCurrency || '0', shortBaseSymbol));
  }
  function renderBottomRight() {
    var _stakingInfo$liquid2;
    const instantAvailable = (_stakingInfo$liquid2 = stakingInfo.liquid) === null || _stakingInfo$liquid2 === void 0 ? void 0 : _stakingInfo$liquid2.instantAvailable;
    const activeKey = isInsufficientBalance ? 0 : !hasBalanceForUnstake ? 1 : instantAvailable ? 2 : 3;
    const insufficientBalanceText = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].balanceError
    }, lang('Insufficient balance'));
    const insufficientFeeText = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].balanceError
    }, lang('$insufficient_fee', {
      fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toBig)(_config__WEBPACK_IMPORTED_MODULE_3__.MIN_BALANCE_FOR_UNSTAKE), _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL)
    }));
    const instantAvailableText = instantAvailable ? lang('$unstake_up_to_information', {
      value: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(instantAvailable, tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals), _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL)
    }) : ' ';
    const content = isInsufficientBalance ? insufficientBalanceText : !hasBalanceForUnstake ? insufficientFeeText : instantAvailable ? instantAvailableText : ' ';
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_30__["default"], {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountBottomRight,
      slideClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountBottomRight_slide,
      name: "fade",
      activeKey: activeKey
    }, content);
  }
  function renderUnstakeTimer() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeTime)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeTimeIcon, 'icon-clock'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, lang('$unstaking_when_receive', {
      time: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("strong", null, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_7__.formatRelativeHumanDateTime)(lang.code, unstakeDate))
    })));
  }
  function renderUnstakeInfo() {
    const shouldShowInfo = !isInsufficientBalance && unstakeAmount;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_30__["default"], {
      name: "fade",
      activeKey: !shouldShowInfo ? 0 : !isLongUnstake ? 1 : 2
    }, !shouldShowInfo ? undefined : !isLongUnstake ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].unstakeInfo
    }, lang('$unstake_information_instantly')) : renderUnstakeTimer());
  }
  function renderNotEnoughBalance(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__["default"], {
      title: lang('Unstake TON'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionContent, _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].notEnoughBalanceContent)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_24__["default"], {
      play: isActive,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.forge,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.forgePreview,
      noLoop: false,
      nonInteractive: true,
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].sticker
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].notEnoughBalanceText
    }, lang('$unstaking_not_enough_balance', {
      value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].notEnoughBalanceTextBold
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toBig)(_config__WEBPACK_IMPORTED_MODULE_3__.MIN_BALANCE_FOR_UNSTAKE), _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL))
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_25__["default"], {
      isPrimary: true,
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].button,
      onClick: handleGetTon
    }, lang('Get TON')))));
  }
  function renderInitial() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__["default"], {
      title: lang('Unstake TON'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionContent
    }, !isHardwareAccount && renderBalance(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_29__["default"], {
      key: "unstaking_amount",
      id: "unstaking_amount",
      hasError: hasAmountError,
      value: unstakeAmount === undefined ? undefined : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(unstakeAmount, tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals),
      labelText: lang('Amount to unstake'),
      onChange: handleAmountChange,
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountInput,
      decimals: tonToken === null || tonToken === void 0 ? void 0 : tonToken.decimals,
      disabled: shouldUseNominators
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].ton
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_12__.ASSET_LOGO_PATHS.ton,
      alt: "",
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].tonIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].tonName
    }, tonToken === null || tonToken === void 0 ? void 0 : tonToken.symbol))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountBottomWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].amountBottom
    }, shouldRenderCurrency && renderCurrencyValue(), renderBottomRight())), renderUnstakeInfo(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_25__["default"], {
      isPrimary: true,
      isLoading: isLoading,
      isDisabled: isUnstakeDisabled,
      onClick: handleStartUnstakeClick
    }, lang('Unstake')))));
  }
  function renderPassword(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__["default"], {
      title: lang('Confirm Unstaking'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_28__["default"], {
      isActive: isActive,
      isLoading: isLoading,
      withCloseButton: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR,
      operationType: "unstaking",
      error: error,
      placeholder: "Confirm operation with your password",
      submitLabel: lang('Confirm'),
      cancelLabel: lang('Back'),
      onSubmit: handleTransferSubmit,
      onCancel: handleBackClick,
      onUpdate: clearStakingError
    }, renderUnstakingShortInfo()));
  }
  function renderComplete(isActive) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_27__["default"], {
      title: lang('Request for unstaking is sent!'),
      onClose: cancelStaking
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TransferResult__WEBPACK_IMPORTED_MODULE_21__["default"], {
      color: "green",
      playAnimation: isActive,
      amount: successUnstakeAmount,
      noSign: true,
      balance: renderedBalance,
      operationAmount: successUnstakeAmount
    }), isLongUnstake && renderUnstakeTimer(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_25__["default"], {
      onClick: cancelStaking,
      isPrimary: true
    }, lang('Close')))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.NotEnoughBalance:
        return renderNotEnoughBalance(isActive);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeInitial:
        return renderInitial();
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakePassword:
        return renderPassword(isActive);
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_23__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          onConnected: handleLedgerConnect,
          onClose: cancelStaking
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_22__["default"], {
          text: lang('Please confirm operation on your Ledger'),
          error: error,
          onClose: cancelStaking,
          onTryAgain: handleLedgerConnect
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.StakingState.UnstakeComplete:
        return renderComplete(isActive);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_26__["default"], {
    isOpen: isOpen,
    hasCloseButton: true,
    noBackdropClose: true,
    dialogClassName: _Staking_module_scss__WEBPACK_IMPORTED_MODULE_32__["default"].modalDialog,
    nativeBottomSheetKey: "unstake",
    forceFullNative: FULL_SIZE_NBS_STATES.has(renderingKey),
    onClose: cancelStaking,
    onCloseAnimationEnd: updateNextKey
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_30__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_10__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_31__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$staking, _currentAccountState$, _currentAccountState$2, _currentAccountState$3;
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountTokens)(global);
  const currentAccountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountState)(global);
  const baseCurrency = global.settings.baseCurrency;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectAccountState)(global, global.currentAccountId);
  const shouldUseNominators = (accountState === null || accountState === void 0 || (_accountState$staking = accountState.staking) === null || _accountState$staking === void 0 ? void 0 : _accountState$staking.type) === 'nominators';
  const isHardwareAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectIsHardwareAccount)(global);
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    ...global.staking,
    tokens,
    stakingType: currentAccountState === null || currentAccountState === void 0 || (_currentAccountState$ = currentAccountState.staking) === null || _currentAccountState$ === void 0 ? void 0 : _currentAccountState$.type,
    stakingBalance: currentAccountState === null || currentAccountState === void 0 || (_currentAccountState$2 = currentAccountState.staking) === null || _currentAccountState$2 === void 0 ? void 0 : _currentAccountState$2.balance,
    endOfStakingCycle: currentAccountState === null || currentAccountState === void 0 || (_currentAccountState$3 = currentAccountState.staking) === null || _currentAccountState$3 === void 0 ? void 0 : _currentAccountState$3.end,
    stakingInfo: global.stakingInfo,
    baseCurrency,
    shouldUseNominators,
    isHardwareAccount,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  };
})(UnstakeModal)));

/***/ }),

/***/ "./src/components/swap/SwapBlockchain.tsx":
/*!************************************************!*\
  !*** ./src/components/swap/SwapBlockchain.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_clipboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/clipboard */ "./src/util/clipboard.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../api */ "./src/api/index.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useQrScannerSupport */ "./src/hooks/useQrScannerSupport.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Input__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");

























const SHORT_ADDRESS_SHIFT = 14;
const MIN_ADDRESS_LENGTH_TO_SHORTEN = SHORT_ADDRESS_SHIFT * 2;
function SwapBlockchain(_ref) {
  let {
    isActive,
    swapType,
    toAddress = '',
    tokenIn,
    tokenOut
  } = _ref;
  const {
    cancelSwap,
    setSwapCexAddress,
    showNotification,
    setSwapScreen,
    requestOpenQrScanner
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.useDeviceScreen)();

  // eslint-disable-next-line no-null/no-null
  const toAddressRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  // Note: As of 27-11-2023, Firefox does not support readText()
  const [shouldRenderPasteButton, setShouldRenderPasteButton] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_FIREFOX || _config__WEBPACK_IMPORTED_MODULE_3__.IS_FIREFOX_EXTENSION));
  const [isAddressFocused, markAddressFocused, unmarkAddressFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_13__["default"])();
  const [hasToAddressError, setHasToAddressError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [canContinue, setCanContinue] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(swapType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainFromToncoin);
  const isQrScannerSupported = (0,_hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_17__["default"])();
  const withPasteButton = shouldRenderPasteButton && toAddress === '';
  const toAddressShort = toAddress.length > MIN_ADDRESS_LENGTH_TO_SHORTEN ? (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_7__.shortenAddress)(toAddress, SHORT_ADDRESS_SHIFT) || '' : toAddress;
  const handleCancelClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    setHasToAddressError(false);
    setCanContinue(false);
    setSwapScreen({
      state: isPortrait ? _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Initial : _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.None
    });
  });
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_14__["default"])({
    isActive,
    onBack: handleCancelClick
  });
  const handleAddressFocus = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    const el = toAddressRef.current;

    // `selectionStart` is only updated in the next frame after `focus` event
    requestAnimationFrame(() => {
      const caretPosition = el.selectionStart;
      markAddressFocused();

      // Restore caret position after input field value has been focused and expanded
      requestAnimationFrame(() => {
        const newCaretPosition = caretPosition <= SHORT_ADDRESS_SHIFT + 3 ? caretPosition : Math.max(0, el.value.length - (toAddressShort.length - caretPosition));
        el.setSelectionRange(newCaretPosition, newCaretPosition);
        if (newCaretPosition > SHORT_ADDRESS_SHIFT * 2) {
          el.scrollLeft = el.scrollWidth - el.clientWidth;
        }
      });
    });
  });
  const validateToAddress = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(async address => {
    if (!address.length) {
      setHasToAddressError(false);
      setCanContinue(false);
      return;
    }
    const response = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('swapCexValidateAddress', {
      slug: tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.slug,
      address
    });
    if (!response) {
      setHasToAddressError(false);
      setCanContinue(false);
      return;
    }
    setHasToAddressError(!response.result);
    setCanContinue(response.result);
  });
  const handleAddressBlur = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    unmarkAddressFocused();
  });
  const handleAddressInput = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(newToAddress => {
    setSwapCexAddress({
      toAddress: newToAddress.trim()
    });
  });
  const handlePasteClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(async () => {
    try {
      const {
        type,
        text
      } = await (0,_util_clipboard__WEBPACK_IMPORTED_MODULE_6__.readClipboardContent)();
      if (type === 'text/plain') {
        setSwapCexAddress({
          toAddress: text.trim()
        });
        validateToAddress(text.trim());
      }
    } catch (error) {
      showNotification({
        message: lang('Error reading clipboard')
      });
      setShouldRenderPasteButton(false);
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    validateToAddress(toAddress);
  }, [toAddress, validateToAddress]);
  const submitPassword = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    setSwapScreen({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password
    });
  });
  const handleQrScanClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    requestOpenQrScanner();
    cancelSwap();
  });
  function renderInfo() {
    const text = hasToAddressError ? lang('Incorrect address.') : lang('Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.', {
      blockchain: (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_8__["default"])(tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain)
    });
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
      name: "fade",
      activeKey: hasToAddressError ? 0 : 1,
      slideClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].blockchainHintWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].blockchainHintText, hasToAddressError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].blockchainHintTextError)
    }, text));
  }
  function renderInputAddress() {
    if (swapType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainFromToncoin) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].inputAddress
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Input__WEBPACK_IMPORTED_MODULE_20__["default"], {
      ref: toAddressRef,
      isRequired: true,
      placeholder: lang('Your address on another blockchain'),
      value: isAddressFocused ? toAddress : toAddressShort,
      onInput: handleAddressInput,
      onFocus: handleAddressFocus,
      onBlur: handleAddressBlur,
      wrapperClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].inputAddressWrapper
    }, isQrScannerSupported && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isSimple: true,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].inputButton, withPasteButton && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].inputButtonShifted),
      onClick: handleQrScanClick,
      ariaLabel: lang('Scan QR Code')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-qr-scanner-alt",
      "aria-hidden": true
    })), withPasteButton && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isSimple: true,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].inputButton,
      onClick: handlePasteClick,
      ariaLabel: lang('Paste')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-paste",
      "aria-hidden": true
    })))), renderInfo());
  }
  const title = lang('$swap_from_to', {
    from: tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol,
    to: tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.symbol
  }).join('');
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
    title: title,
    onClose: cancelSwap
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].scrollContent, _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].selectBlockchainBlock, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_18__["default"], {
    play: isActive,
    noLoop: false,
    nonInteractive: true,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.bill,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.billPreview,
    size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_BIG_SIZE_PX
  }), renderInputAddress(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].blockchainButtons, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].footerButtons)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
    onClick: handleCancelClick,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].buttonHalfWidth
  }, lang('Close')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
    isPrimary: true,
    isDisabled: !canContinue,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].buttonHalfWidth,
    onClick: submitPassword
  }, lang('Continue')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapBlockchain));

/***/ }),

/***/ "./src/components/swap/SwapComplete.tsx":
/*!**********************************************!*\
  !*** ./src/components/swap/SwapComplete.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _common_SwapResult__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../common/SwapResult */ "./src/components/common/SwapResult.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");









function SwapComplete(_ref) {
  let {
    isActive,
    tokenIn,
    tokenOut,
    amountIn,
    amountOut,
    swapType,
    toAddress,
    onInfoClick,
    onStartSwap,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_2__["default"])({
    isActive,
    onBack: onClose
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_6__["default"], {
    title: lang('Swap Placed'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].scrollContent, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_SwapResult__WEBPACK_IMPORTED_MODULE_4__["default"], {
    tokenIn: tokenIn,
    amountIn: amountIn,
    tokenOut: tokenOut,
    amountOut: amountOut,
    swapType: swapType,
    toAddress: toAddress,
    playAnimation: isActive,
    firstButtonText: lang('Details'),
    secondButtonText: lang('Repeat'),
    onFirstButtonClick: onInfoClick,
    onSecondButtonClick: onStartSwap
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_5__["default"], {
    onClick: onClose,
    isPrimary: true
  }, lang('Close')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapComplete));

/***/ }),

/***/ "./src/components/swap/SwapInitial.tsx":
/*!*********************************************!*\
  !*** ./src/components/swap/SwapInitial.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/swap/getSwapRate */ "./src/util/swap/getSwapRate.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useBackgroundMode */ "./src/hooks/useBackgroundMode.ts");
/* harmony import */ var _hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useDebouncedCallback */ "./src/hooks/useDebouncedCallback.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../hooks/useThrottledCallback */ "./src/hooks/useThrottledCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _components_SwapSelectToken__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./components/SwapSelectToken */ "./src/components/swap/components/SwapSelectToken.tsx");
/* harmony import */ var _components_SwapSubmitButton__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./components/SwapSubmitButton */ "./src/components/swap/components/SwapSubmitButton.tsx");
/* harmony import */ var _SwapSettingsModal__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./SwapSettingsModal */ "./src/components/swap/SwapSettingsModal.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");




























const ESTIMATE_REQUEST_INTERVAL = 1_000;
const SET_AMOUNT_DEBOUNCE_TIME = 500;
const DEFAULT_SWAP_FEE = 500000000n; // 0.5 TON

function SwapInitial(_ref) {
  let {
    currentSwap: {
      tokenInSlug,
      tokenOutSlug,
      amountIn,
      amountOut,
      errorType,
      isEstimating,
      shouldEstimate,
      networkFee = 0,
      realNetworkFee = 0,
      priceImpact = 0,
      inputSource,
      swapType,
      limits,
      isLoading,
      pairs,
      isSettingsModalOpen,
      dieselStatus,
      swapFee
    },
    accountId,
    tokens,
    isActive,
    isStatic
  } = _ref;
  const {
    setDefaultSwapParams,
    setSwapAmountIn,
    setSwapAmountOut,
    switchSwapTokens,
    estimateSwap,
    estimateSwapCex,
    setSwapScreen,
    loadSwapPairs,
    setSwapType,
    setSwapCexAddress,
    toggleSwapSettingsModal,
    authorizeDiesel
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_15__["default"])();

  // eslint-disable-next-line no-null/no-null
  const inputInRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const inputOutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const estimateIntervalId = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [hasAmountInError, setHasAmountInError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const currentTokenInSlug = tokenInSlug !== null && tokenInSlug !== void 0 ? tokenInSlug : _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  const currentTokenOutSlug = tokenOutSlug !== null && tokenOutSlug !== void 0 ? tokenOutSlug : _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_SWAP_SECOND_TOKEN_SLUG;
  const tokenInTransitionKey = useTokenTransitionKey(currentTokenInSlug !== null && currentTokenInSlug !== void 0 ? currentTokenInSlug : '');
  const accountIdPrev = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_17__["default"])(accountId, true);
  const tokenIn = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === currentTokenInSlug), [currentTokenInSlug, tokens]);
  const tokenOut = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === currentTokenOutSlug), [currentTokenOutSlug, tokens]);
  const toncoin = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _tokens$find;
    return (_tokens$find = tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG)) !== null && _tokens$find !== void 0 ? _tokens$find : {
      amount: 0
    };
  }, [tokens]);
  const isToncoinIn = currentTokenInSlug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  const totalToncoinAmount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!tokenIn || !amountIn) {
      return 0n;
    }
    if (isToncoinIn) {
      return (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.fromDecimal)(amountIn) + (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.fromDecimal)(networkFee) + _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FEE;
    }
    return (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.fromDecimal)(networkFee) + _config__WEBPACK_IMPORTED_MODULE_3__.DEFAULT_FEE;
  }, [tokenIn, amountIn, isToncoinIn, networkFee]);
  const amountInBig = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_4__.Big)(amountIn || 0), [amountIn]);
  const amountOutBig = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_4__.Big)(amountOut || 0), [amountOut]);
  const tokenInAmountBig = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _tokenIn$amount;
    return (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)((_tokenIn$amount = tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.amount) !== null && _tokenIn$amount !== void 0 ? _tokenIn$amount : 0n, tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.decimals);
  }, [tokenIn]);
  const isErrorExist = errorType !== undefined;
  const isEnoughToncoin = toncoin.amount > totalToncoinAmount;
  const isDieselSwap = swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.OnChain && !isEnoughToncoin && (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.slug) && _config__WEBPACK_IMPORTED_MODULE_3__.DIESEL_TOKENS.has(tokenIn.slug);

  // eslint-disable-next-line max-len
  const isCorrectAmountIn = Boolean(amountIn && (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.amount) && amountInBig.gt(0) && amountInBig.lte(tokenInAmountBig)) || swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin;
  const isEnoughFee = swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin || isEnoughToncoin || dieselStatus === 'available' || dieselStatus === 'not-authorized';
  const isCorrectAmountOut = amountOut && amountOutBig.gt(0);
  const canSubmit = Boolean(isCorrectAmountIn && isCorrectAmountOut && isEnoughFee && !isEstimating && !isErrorExist);
  const isPriceImpactError = priceImpact >= _SwapSettingsModal__WEBPACK_IMPORTED_MODULE_25__.MAX_PRICE_IMPACT_VALUE;
  const isCrosschain = swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainFromToncoin || swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin;
  const isReverseProhibited = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    var _pairs$bySlug;
    return isCrosschain || (pairs === null || pairs === void 0 || (_pairs$bySlug = pairs.bySlug) === null || _pairs$bySlug === void 0 || (_pairs$bySlug = _pairs$bySlug[currentTokenInSlug]) === null || _pairs$bySlug === void 0 || (_pairs$bySlug = _pairs$bySlug[currentTokenOutSlug]) === null || _pairs$bySlug === void 0 ? void 0 : _pairs$bySlug.isReverseProhibited);
  }, [currentTokenInSlug, currentTokenOutSlug, isCrosschain, pairs === null || pairs === void 0 ? void 0 : pairs.bySlug]);
  const handleEstimateSwap = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(shouldBlock => {
    if (!isActive || (0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_12__.isBackgroundModeActive)()) return;
    if (isCrosschain) {
      estimateSwapCex({
        shouldBlock
      });
      return;
    }
    estimateSwap({
      shouldBlock,
      isEnoughToncoin
    });
  });
  const throttledEstimateSwap = (0,_hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_19__["default"])(handleEstimateSwap, [handleEstimateSwap], ESTIMATE_REQUEST_INTERVAL, true);
  const debounceSetAmountIn = (0,_hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(setSwapAmountIn, [setSwapAmountIn], SET_AMOUNT_DEBOUNCE_TIME, true);
  const debounceSetAmountOut = (0,_hooks_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(setSwapAmountOut, [setSwapAmountOut], SET_AMOUNT_DEBOUNCE_TIME, true);
  const createEstimateTimer = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    estimateIntervalId.current = window.setInterval(() => {
      throttledEstimateSwap(false);
    }, ESTIMATE_REQUEST_INTERVAL);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!tokenInSlug && !tokenOutSlug) {
      setDefaultSwapParams();
    }
  }, [tokenInSlug, tokenOutSlug]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const clearEstimateTimer = () => estimateIntervalId.current && window.clearInterval(estimateIntervalId.current);
    if (shouldEstimate) {
      clearEstimateTimer();
      throttledEstimateSwap(true);
    }
    createEstimateTimer();
    return clearEstimateTimer;
  }, [shouldEstimate, createEstimateTimer, throttledEstimateSwap]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const shouldForceUpdate = accountId !== accountIdPrev;
    if (currentTokenInSlug) {
      loadSwapPairs({
        tokenSlug: currentTokenInSlug,
        shouldForceUpdate
      });
    }
    if (currentTokenOutSlug) {
      loadSwapPairs({
        tokenSlug: currentTokenOutSlug,
        shouldForceUpdate
      });
    }
  }, [accountId, accountIdPrev, currentTokenInSlug, currentTokenOutSlug]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if ((tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.blockchain) === 'ton' && (tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain) !== 'ton') {
      setSwapType({
        type: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainFromToncoin
      });
      return;
    } else if ((tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain) === 'ton' && (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.blockchain) !== 'ton') {
      setSwapType({
        type: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin
      });
      return;
    }
    setSwapType({
      type: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.OnChain
    });
  }, [tokenIn, tokenOut]);
  const validateAmountIn = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(amount => {
    if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin) {
      setHasAmountInError(false);
      return;
    }
    const amountBig = amount === undefined ? undefined : (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_4__.Big)(amount);
    const hasError = amountBig !== undefined && (amountBig.lt(0) || (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.amount) !== undefined && amountBig.gt(tokenInAmountBig));
    setHasAmountInError(hasError);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    validateAmountIn(amountIn);
  }, [amountIn, tokenIn, validateAmountIn, swapType]);
  const handleAmountInChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(function (amount) {
    let noReset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    if (!noReset) {
      setHasAmountInError(false);
    }
    if (!amount) {
      debounceSetAmountIn({
        amount: undefined
      });
      return;
    }
    validateAmountIn(amount);
    debounceSetAmountIn({
      amount
    });
  });
  const handleAmountOutChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(amount => {
    debounceSetAmountOut({
      amount
    });
  });
  const handleMaxAmountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(e => {
    e.preventDefault();
    if (!(tokenIn !== null && tokenIn !== void 0 && tokenIn.amount)) {
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrate)();
    const amountWithFee = tokenIn.amount > DEFAULT_SWAP_FEE ? tokenIn.amount - DEFAULT_SWAP_FEE : tokenIn.amount;
    const newAmount = isToncoinIn ? amountWithFee : tokenIn.amount;
    const amount = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(newAmount, tokenIn.decimals);
    validateAmountIn(amount);
    setSwapAmountIn({
      amount
    });
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(e => {
    e.preventDefault();
    if (!canSubmit) {
      return;
    }
    if (isDieselSwap && dieselStatus === 'not-authorized') {
      authorizeDiesel();
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrate)();
    if (isCrosschain) {
      setSwapCexAddress({
        toAddress: ''
      });
      if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin) {
        setSwapScreen({
          state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password
        });
      } else {
        setSwapScreen({
          state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Blockchain
        });
      }
      return;
    }
    setSwapScreen({
      state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password
    });
  });
  const handleSwitchTokens = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrate)();
    switchSwapTokens();
  });
  const openSettingsModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    toggleSwapSettingsModal({
      isOpen: true
    });
  });
  const closeSettingsModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    toggleSwapSettingsModal({
      isOpen: false
    });
  });
  function renderBalance() {
    const isBalanceVisible = tokenIn && swapType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
      name: "fade",
      activeKey: tokenInTransitionKey
    }, isBalanceVisible && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].balanceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].balance
    }, lang('$max_balance', {
      balance: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        role: "button",
        tabIndex: 0,
        onClick: handleMaxAmountClick,
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].balanceLink
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_8__.toDecimal)(tokenIn.amount, tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.decimals), tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol))
    }))));
  }
  function renderPrice() {
    const isPriceVisible = Boolean(amountIn && amountOut);
    const shouldBeRendered = isPriceVisible && !isEstimating;
    if (!shouldBeRendered) return undefined;
    const rate = (0,_util_swap_getSwapRate__WEBPACK_IMPORTED_MODULE_10__["default"])(amountIn ? String(amountIn) : undefined, amountOut ? String(amountOut) : undefined, tokenIn, tokenOut, true);
    if (!rate) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenPrice
    }, rate.firstCurrencySymbol, ' ≈ ', /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].tokenPriceBold
    }, rate.price, ' ', rate.secondCurrencySymbol));
  }
  function renderPriceImpactWarning() {
    if (!priceImpact || !isPriceImpactError || isCrosschain) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpact, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactStatic),
      onClick: openSettingsModal
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_20__["default"], {
      play: isActive,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.run,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_11__.ANIMATED_STICKERS_PATHS.runPreview,
      noLoop: false,
      nonInteractive: true,
      size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_TINY_SIZE_PX,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactSticker
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactTitle
    }, lang('The exchange rate is below market value!', {
      value: `${priceImpact}%`
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactArrow, 'icon-arrow-right-swap'),
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].priceImpactDescription
    }, lang('We do not recommend to perform an exchange, try to specify a lower amount.'))));
  }
  function renderChangellyInfo() {
    if (!isCrosschain) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyInfo, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyInfoStatic)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyInfoContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyInfoTitle
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])('icon-changelly', _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyIcon),
      "aria-hidden": true
    }), lang('Cross-chain exchange provided by Changelly')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].changellyInfoDescription
    }, lang('$swap_changelly_agreement_message', {
      terms: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
        href: _config__WEBPACK_IMPORTED_MODULE_3__.CHANGELLY_TERMS_OF_USE,
        target: "_blank",
        rel: "noreferrer"
      }, lang('$swap_changelly_terms_of_use')),
      policy: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
        href: _config__WEBPACK_IMPORTED_MODULE_3__.CHANGELLY_PRIVACY_POLICY,
        target: "_blank",
        rel: "noreferrer"
      }, lang('$swap_changelly_privacy_policy')),
      kyc: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
        href: _config__WEBPACK_IMPORTED_MODULE_3__.CHANGELLY_AML_KYC,
        target: "_blank",
        rel: "noreferrer"
      }, "Changelly AML/KYC")
    }))));
  }
  function renderFee() {
    const isFeeEqualZero = realNetworkFee === 0;
    let feeBlock;
    if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.OnChain && isDieselSwap && swapFee && tokenIn && (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.slug) !== _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG && !isLoading) {
      // Diesel swap
      feeBlock = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeText
      }, lang('$fee_value', {
        fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)(swapFee, tokenIn.symbol)
      }));
    } else if (swapType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin) {
      feeBlock = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeText
      }, lang(isFeeEqualZero ? '$fee_value' : '$fee_value_almost_equal', {
        fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_9__.formatCurrency)(realNetworkFee, _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL)
      }));
    }
    const priceBlock = renderPrice();
    const activeKey = (isFeeEqualZero ? 0 : 1) + (priceBlock ? 2 : 3);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
      name: "fade",
      activeKey: activeKey,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeContent, !isCrosschain && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeContentClickable),
      onClick: isCrosschain ? undefined : openSettingsModal
    }, priceBlock, feeBlock, isCrosschain ? undefined : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].feeIcon, 'icon-params'),
      "aria-hidden": true
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("form", {
    className: isStatic ? undefined : _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_26__["default"].transitionContent,
    onSubmit: handleSubmit
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].content
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: inputInRef,
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].inputContainer
  }, renderBalance(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_21__["default"], {
    id: "swap-sell",
    labelText: lang('You sell'),
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].amountInput,
    hasError: hasAmountInError,
    value: amountIn === null || amountIn === void 0 ? void 0 : amountIn.toString(),
    isLoading: isEstimating && inputSource === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapInputSource.Out,
    onChange: handleAmountInChange,
    onPressEnter: handleSubmit,
    decimals: tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.decimals,
    labelClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].inputLabel,
    inputClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].amountInputInner,
    cornerClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapCornerTop, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapCornerStaticTop),
    isStatic: isStatic
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_components_SwapSelectToken__WEBPACK_IMPORTED_MODULE_23__["default"], {
    token: tokenIn
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapButtonWrapper, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapButtonWrapperStatic)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(AnimatedArrows, {
    onClick: handleSwitchTokens
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: inputOutRef,
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].inputContainer
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_21__["default"], {
    id: "swap-buy",
    labelText: lang('You buy'),
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].amountInputBuy,
    value: amountOut === null || amountOut === void 0 ? void 0 : amountOut.toString(),
    isLoading: isEstimating && inputSource === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapInputSource.In,
    disabled: isReverseProhibited,
    onChange: handleAmountOutChange,
    onPressEnter: handleSubmit,
    decimals: tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.decimals,
    labelClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].inputLabel,
    inputClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].amountInputInner,
    cornerClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapCornerBottom, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapCornerStaticBottom),
    isStatic: isStatic
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_components_SwapSelectToken__WEBPACK_IMPORTED_MODULE_23__["default"], {
    token: tokenOut,
    shouldFilter: true
  })))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].footerBlock, isStatic && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].footerBlockStatic)
  }, renderFee(), renderPriceImpactWarning(), renderChangellyInfo(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_components_SwapSubmitButton__WEBPACK_IMPORTED_MODULE_24__["default"], {
    tokenIn: tokenIn,
    tokenOut: tokenOut,
    amountIn: amountIn,
    amountOut: amountOut,
    swapType: swapType,
    isEstimating: isEstimating,
    isEnoughToncoin: isEnoughToncoin,
    dieselStatus: dieselStatus,
    isSending: isLoading,
    isPriceImpactError: isPriceImpactError,
    canSubmit: canSubmit,
    errorType: errorType,
    limits: limits
  }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapSettingsModal__WEBPACK_IMPORTED_MODULE_25__["default"], {
    isOpen: Boolean(isSettingsModalOpen),
    tokenOut: tokenOut,
    fee: realNetworkFee,
    onClose: closeSettingsModal
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    accountId: global.currentAccountId,
    currentSwap: global.currentSwap,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectSwapTokens)(global)
  };
}, (global, _, stickToFirst) => stickToFirst(global.currentAccountId))(SwapInitial)));
function useTokenTransitionKey(tokenSlug) {
  const transitionKeyRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_18__["default"])(() => {
    transitionKeyRef.current++;
  }, [tokenSlug]);
  return transitionKeyRef.current;
}
function AnimatedArrows(_ref2) {
  let {
    onClick
  } = _ref2;
  const animationLevel = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings.animationLevel;
  const shouldAnimate = animationLevel === _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_LEVEL_MAX;
  const [hasAnimation, startAnimation, stopAnimation] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_14__["default"])(false);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_16__["default"])(() => {
    if (shouldAnimate) {
      startAnimation();
      window.setTimeout(() => {
        stopAnimation();
      }, 350);
    }
    onClick === null || onClick === void 0 ? void 0 : onClick();
  });
  function renderArrow(isInverted) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].arrowContainer, isInverted && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].arrowContainerInverted)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].arrow
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-arrow-up-swap",
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].arrowOld, hasAnimation && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].animateDisappear)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-arrow-up-swap",
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].arrowNew, hasAnimation && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].animateAppear)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-arrow-up-swap",
      "aria-hidden": true
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_27__["default"].swapButton,
    onClick: handleClick
  }, renderArrow(), renderArrow(true));
}

/***/ }),

/***/ "./src/components/swap/SwapModal.tsx":
/*!*******************************************!*\
  !*** ./src/components/swap/SwapModal.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkIcon */ "./src/util/swap/getBlockchainNetworkIcon.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _common_TokenSelector__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/TokenSelector */ "./src/components/common/TokenSelector.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _SwapBlockchain__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./SwapBlockchain */ "./src/components/swap/SwapBlockchain.tsx");
/* harmony import */ var _SwapComplete__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./SwapComplete */ "./src/components/swap/SwapComplete.tsx");
/* harmony import */ var _SwapInitial__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./SwapInitial */ "./src/components/swap/SwapInitial.tsx");
/* harmony import */ var _SwapPassword__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./SwapPassword */ "./src/components/swap/SwapPassword.tsx");
/* harmony import */ var _SwapWaitTokens__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./SwapWaitTokens */ "./src/components/swap/SwapWaitTokens.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");

























function SwapModal(_ref) {
  let {
    currentSwap: {
      state,
      tokenInSlug,
      tokenOutSlug,
      amountIn = '0',
      amountOut = '0',
      isLoading,
      error,
      activityId,
      swapType,
      toAddress,
      payinAddress,
      payinExtraId,
      isSettingsModalOpen
    },
    swapTokens,
    activityById
  } = _ref;
  const {
    startSwap,
    cancelSwap,
    setSwapScreen,
    submitSwap,
    showActivityInfo,
    submitSwapCexFromToncoin,
    submitSwapCexToToncoin
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__.useDeviceScreen)();
  const isOpen = state !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.None;
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_13__["default"])(state, isOpen);
  const tokenIn = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => swapTokens === null || swapTokens === void 0 ? void 0 : swapTokens.find(token => token.slug === tokenInSlug), [tokenInSlug, swapTokens]);
  const tokenOut = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => swapTokens === null || swapTokens === void 0 ? void 0 : swapTokens.find(token => token.slug === tokenOutSlug), [swapTokens, tokenOutSlug]);
  const [renderedSwapType, setRenderedSwapType] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(swapType);
  const [renderedTransactionAmountIn, setRenderedTransactionAmountIn] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(amountIn);
  const [renderedTransactionAmountOut, setRenderedTransactionAmountOut] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(amountOut);
  const [renderedTransactionTokenIn, setRenderedTransactionTokenIn] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(tokenIn);
  const [renderedTransactionTokenOut, setRenderedTransactionTokenOut] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(tokenOut);
  const [renderedActivity, setRenderedActivity] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isOpen || !activityById || !activityId || swapType !== _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin) {
      setRenderedActivity(undefined);
      return;
    }
    const activity = activityById[activityId];
    setRenderedActivity(activity);
    if (activity.kind === 'swap') {
      var _activity$cex;
      const status = (_activity$cex = activity.cex) === null || _activity$cex === void 0 ? void 0 : _activity$cex.status;
      if (status === 'exchanging' || status === 'confirming') {
        setSwapScreen({
          state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Complete
        });
      }
    }
  }, [activityById, activityId, isOpen, swapType]);
  const handleTransferSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(password => {
    setRenderedTransactionAmountIn(amountIn);
    setRenderedTransactionAmountOut(amountOut);
    setRenderedTransactionTokenIn(tokenIn);
    setRenderedTransactionTokenOut(tokenOut);
    setRenderedSwapType(swapType);
    if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.OnChain) {
      submitSwap({
        password
      });
      return;
    }
    if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainToToncoin) {
      submitSwapCexToToncoin({
        password
      });
    } else {
      submitSwapCexFromToncoin({
        password
      });
    }
  });
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password) {
      if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapType.CrosschainFromToncoin) {
        setSwapScreen({
          state: _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Blockchain
        });
      } else {
        setSwapScreen({
          state: isPortrait ? _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Initial : _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.None
        });
      }
      return;
    }
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenTo || state === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenFrom) {
      setSwapScreen({
        state: isPortrait ? _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Initial : _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.None
      });
    }
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Blockchain) {
      setSwapScreen({
        state: isPortrait ? _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Initial : _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.None
      });
    }
  });
  const handleTransactionInfoClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    cancelSwap({
      shouldReset: true
    });
    showActivityInfo({
      id: activityId
    });
  });
  const handleModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    cancelSwap({
      shouldReset: isPortrait
    });
    updateNextKey();
  });
  const handleModalCloseWithReset = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    cancelSwap({
      shouldReset: true
    });
  });
  const handleStartSwap = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    startSwap({
      amountIn: renderedTransactionAmountIn,
      tokenInSlug: renderedTransactionTokenIn === null || renderedTransactionTokenIn === void 0 ? void 0 : renderedTransactionTokenIn.slug,
      tokenOutSlug: renderedTransactionTokenOut === null || renderedTransactionTokenOut === void 0 ? void 0 : renderedTransactionTokenOut.slug
    });
  });
  function renderSwapShortInfo() {
    var _tokenIn$image, _tokenOut$image, _tokenIn$symbol, _tokenOut$symbol;
    if (!tokenIn || !tokenOut || !amountIn || !amountOut) return undefined;
    const logoIn = (_tokenIn$image = tokenIn.image) !== null && _tokenIn$image !== void 0 ? _tokenIn$image : _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__.ASSET_LOGO_PATHS[tokenIn.symbol.toLowerCase()];
    const logoOut = (_tokenOut$image = tokenOut.image) !== null && _tokenOut$image !== void 0 ? _tokenOut$image : _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_9__.ASSET_LOGO_PATHS[tokenOut.symbol.toLowerCase()];
    const swapInfoClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfo, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfoInsidePasswordForm);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: swapInfoClassName
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].tokenIconWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoIn,
      alt: tokenIn.symbol,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfoTokenIcon
    }), tokenIn.blockchain && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: (0,_util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_8__["default"])(tokenIn.blockchain),
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfoBlockchainIcon,
      alt: tokenIn.blockchain
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortValue
    }, lang('%amount_from% to %amount_to%', {
      amount_from: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortAmount
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_6__.formatCurrencyExtended)(amountIn, (_tokenIn$symbol = tokenIn.symbol) !== null && _tokenIn$symbol !== void 0 ? _tokenIn$symbol : '', true)),
      amount_to: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortAmount
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_6__.formatCurrencyExtended)(amountOut, (_tokenOut$symbol = tokenOut.symbol) !== null && _tokenOut$symbol !== void 0 ? _tokenOut$symbol : '', true))
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].tokenIconWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoOut,
      alt: tokenOut.symbol,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfoTokenIcon
    }), tokenOut.blockchain && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: (0,_util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_8__["default"])(tokenOut.blockchain),
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].swapShortInfoBlockchainIcon,
      alt: tokenOut.blockchain
    })));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Initial:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_16__["default"], {
          title: lang('SwapTitle'),
          onClose: cancelSwap
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapInitial__WEBPACK_IMPORTED_MODULE_20__["default"], {
          isActive: isActive
        }));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Blockchain:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapBlockchain__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: isActive,
          toAddress: toAddress,
          tokenIn: tokenIn,
          tokenOut: tokenOut,
          swapType: swapType
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.WaitTokens:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapWaitTokens__WEBPACK_IMPORTED_MODULE_22__["default"], {
          isActive: isActive,
          tokenIn: renderedTransactionTokenIn,
          tokenOut: renderedTransactionTokenOut,
          amountIn: renderedTransactionAmountIn,
          amountOut: renderedTransactionAmountOut,
          payinAddress: payinAddress,
          payinExtraId: payinExtraId,
          activity: renderedActivity,
          onClose: handleModalCloseWithReset
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapPassword__WEBPACK_IMPORTED_MODULE_21__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          error: error,
          onSubmit: handleTransferSubmit,
          onBack: handleBackClick
        }, renderSwapShortInfo());
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Complete:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_SwapComplete__WEBPACK_IMPORTED_MODULE_19__["default"], {
          isActive: isActive,
          tokenIn: renderedTransactionTokenIn,
          tokenOut: renderedTransactionTokenOut,
          amountIn: renderedTransactionAmountIn,
          amountOut: renderedTransactionAmountOut,
          onInfoClick: handleTransactionInfoClick,
          onStartSwap: handleStartSwap,
          swapType: renderedSwapType,
          toAddress: toAddress,
          onClose: handleModalCloseWithReset
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenFrom:
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenTo:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TokenSelector__WEBPACK_IMPORTED_MODULE_14__["default"], {
          isActive: isActive,
          shouldFilter: currentKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenTo,
          onBack: handleBackClick,
          onClose: handleModalCloseWithReset
        });
    }
  }
  const forceFullNative = isSettingsModalOpen || [_global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.Password, _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenFrom, _global_types__WEBPACK_IMPORTED_MODULE_2__.SwapState.SelectTokenTo].includes(renderingKey);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isOpen: isOpen,
    onClose: cancelSwap,
    noBackdropClose: true,
    dialogClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_24__["default"].modalDialog,
    nativeBottomSheetKey: "swap",
    forceFullNative: forceFullNative,
    hasCloseButton: true,
    onCloseAnimationEnd: handleModalClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_17__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_7__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_23__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _accountState$activit;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  const activityById = accountState === null || accountState === void 0 || (_accountState$activit = accountState.activities) === null || _accountState$activit === void 0 ? void 0 : _accountState$activit.byId;
  return {
    currentSwap: global.currentSwap,
    swapTokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectSwapTokens)(global),
    activityById
  };
})(SwapModal)));

/***/ }),

/***/ "./src/components/swap/SwapPassword.tsx":
/*!**********************************************!*\
  !*** ./src/components/swap/SwapPassword.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");







function SwapPassword(_ref) {
  let {
    isActive,
    isLoading,
    error,
    children,
    onSubmit,
    onBack
  } = _ref;
  const {
    cancelSwap,
    clearSwapError
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__["default"])({
    isActive,
    onBack
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: lang('Confirm Swap'),
    onClose: cancelSwap
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isActive: isActive,
    isLoading: isLoading,
    withCloseButton: _config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR,
    error: error,
    operationType: "swap",
    submitLabel: lang('Send'),
    cancelLabel: lang('Back'),
    onSubmit: onSubmit,
    onCancel: onBack,
    onUpdate: clearSwapError
  }, children));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapPassword));

/***/ }),

/***/ "./src/components/swap/SwapSettingsModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/swap/SwapSettingsModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MAX_PRICE_IMPACT_VALUE: () => (/* binding */ MAX_PRICE_IMPACT_VALUE),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/IconWithTooltip */ "./src/components/ui/IconWithTooltip.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");














const SLIPPAGE_VALUES = [0.5, 1, 2, 5, 10];
const MAX_SLIPPAGE_VALUE = 50;
const MAX_PRICE_IMPACT_VALUE = 5;
function SwapSettingsModal(_ref) {
  let {
    isOpen,
    onClose,
    tokenOut,
    slippage,
    priceImpact = 0,
    fee = 0,
    amountOutMin = '0'
  } = _ref;
  const {
    setSlippage
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [isSlippageFocused, markSlippageFocused, unmarkSlippageFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const [hasError, setHasError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [currentSlippage, setCurrentSlippage] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(slippage);
  const priceImpactError = priceImpact >= MAX_PRICE_IMPACT_VALUE;
  const slippageError = currentSlippage === undefined || currentSlippage > MAX_SLIPPAGE_VALUE;
  const handleSave = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    setSlippage({
      slippage: currentSlippage
    });
    onClose();
  });
  const resetModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    setCurrentSlippage(slippage);
  });
  const handleInputChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(stringValue => {
    const value = stringValue ? Number(stringValue) : undefined;
    setCurrentSlippage(value);
  });
  function renderSlippageValues() {
    const slippageList = SLIPPAGE_VALUES.map((value, index) => {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        role: "button",
        tabIndex: 0,
        onClick: () => setCurrentSlippage(value),
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].balanceLink
      }, value, "%"), index + 1 !== SLIPPAGE_VALUES.length && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].dot,
        "aria-hidden": true
      }));
    });
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedSlippageContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedSlippage
    }, slippageList));
  }
  function renderSlippageError() {
    const error = currentSlippage === undefined ? lang('Slippage not specified') : currentSlippage > MAX_SLIPPAGE_VALUE ? lang('Slippage too high') : '';
    setHasError(!!error);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedSlippageError
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang(error)));
  }
  function renderSlippageLabel() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, lang('Slippage'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_9__["default"], {
      message: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipMessage
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_slippage_tooltip1')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_slippage_tooltip2'))),
      tooltipClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipContainer,
      iconClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltip, slippageError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedError)
    }));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_10__["default"], {
    isOpen: isOpen,
    onClose: onClose,
    isCompact: true,
    onCloseAnimationEnd: resetModal
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTitle
  }, lang('Swap Details')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedInput
  }, renderSlippageValues(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_11__["default"], {
    labelText: renderSlippageLabel(),
    labelClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].slippageLabel,
    value: currentSlippage === null || currentSlippage === void 0 ? void 0 : currentSlippage.toString(),
    hasError: hasError,
    decimals: 2,
    suffix: isSlippageFocused ? '' : '%',
    onChange: handleInputChange,
    onFocus: markSlippageFocused,
    onBlur: unmarkSlippageFocused
  }), renderSlippageError()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedBlock
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedRow
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedDescription
  }, lang('Blockchain Fee')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedValue
  }, "\u2248 ", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)(fee, _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL, undefined, true))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedRow
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedDescription
  }, lang('Routing Fees'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_9__["default"], {
    message: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipMessage
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_routing_fees_tooltip'))),
    tooltipClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipContainer,
    iconClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltip, priceImpactError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedError)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedValue
  }, lang('Included'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedRow
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedDescription, priceImpactError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedError)
  }, lang('Price Impact'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_9__["default"], {
    message: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipMessage
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_price_impact_tooltip1')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_price_impact_tooltip2'))),
    tooltipClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipContainer,
    iconClassName: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltip, priceImpactError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedError)
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedValue, priceImpactError && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedError)
  }, priceImpact, "%")), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedRow
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedDescription
  }, lang('Minimum Received'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_9__["default"], {
    message: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipMessage
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_minimum_received_tooltip1')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('$swap_minimum_received_tooltip2'))),
    tooltipClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltipContainer,
    iconClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedTooltip
  })), tokenOut && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].advancedValue
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrency)(Number(amountOutMin), tokenOut.symbol)))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].button,
    onClick: onClose
  }, lang('Close')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_8__["default"], {
    isPrimary: true,
    isDisabled: hasError,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].button,
    onClick: handleSave
  }, lang('Save'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    slippage,
    priceImpact,
    amountOutMin
  } = global.currentSwap;
  return {
    slippage,
    priceImpact,
    amountOutMin
  };
})(SwapSettingsModal)));

/***/ }),

/***/ "./src/components/swap/SwapWaitTokens.tsx":
/*!************************************************!*\
  !*** ./src/components/swap/SwapWaitTokens.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/swap/getBlockchainNetworkName */ "./src/util/swap/getBlockchainNetworkName.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useQrCode__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useQrCode */ "./src/hooks/useQrCode.ts");
/* harmony import */ var _common_Countdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/Countdown */ "./src/components/common/Countdown.tsx");
/* harmony import */ var _common_SwapTokensInfo__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../common/SwapTokensInfo */ "./src/components/common/SwapTokensInfo.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Swap.module.scss */ "./src/components/swap/Swap.module.scss");

















function SwapWaitTokens(_ref) {
  let {
    isActive,
    tokenIn,
    tokenOut,
    amountIn,
    amountOut,
    payinAddress,
    payinExtraId,
    activity,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [isExpired, setIsExpired] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const timestamp = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => Date.now(), []);
  const {
    qrCodeRef,
    isInitialized
  } = (0,_hooks_useQrCode__WEBPACK_IMPORTED_MODULE_8__["default"])(payinAddress, isActive, _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].qrCodeHidden, true);
  const shouldShowQrCode = !payinExtraId;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_5__["default"])({
    isActive,
    onBack: onClose
  });
  const handleTimeout = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    setIsExpired(true);
  });
  function renderMemo() {
    if (!payinExtraId) return undefined;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].textFieldWrapperFullWidth
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].textFieldLabel
    }, lang('Memo')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_12__["default"], {
      address: payinExtraId,
      copyNotification: lang('Memo was copied!'),
      noSavedAddress: true,
      noExplorer: true,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyTextField
    }));
  }
  function renderInfo() {
    var _tokenIn$symbol;
    if (isExpired) {
      var _activity$cex;
      const cexTransactionId = activity && 'cex' in activity ? (_activity$cex = activity.cex) === null || _activity$cex === void 0 ? void 0 : _activity$cex.transactionId : undefined;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyInfoBlock
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyImportantRed
      }, lang('The time for sending coins is over.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescription
      }, lang('$swap_changelly_support', {
        livechat: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
          href: _config__WEBPACK_IMPORTED_MODULE_1__.CHANGELLY_LIVE_CHAT_URL,
          target: "_blank",
          rel: "noreferrer",
          className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescriptionBold
        }, lang('Changelly Live Chat')),
        email: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescriptionBold
        }, _config__WEBPACK_IMPORTED_MODULE_1__.CHANGELLY_SUPPORT_EMAIL)
      })), cexTransactionId && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_12__["default"], {
        text: cexTransactionId,
        copyNotification: lang('Transaction ID was copied!'),
        noSavedAddress: true,
        noExplorer: true,
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyTextField
      }));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyInfoBlock
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescription
    }, lang('$swap_changelly_to_ton_description1', {
      value: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescriptionBold
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_3__.formatCurrencyExtended)(Number(amountIn), (_tokenIn$symbol = tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol) !== null && _tokenIn$symbol !== void 0 ? _tokenIn$symbol : '', true)),
      blockchain: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescriptionBold
      }, (0,_util_swap_getBlockchainNetworkName__WEBPACK_IMPORTED_MODULE_4__["default"])(tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.blockchain)),
      time: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_Countdown__WEBPACK_IMPORTED_MODULE_9__["default"], {
        timestamp: timestamp,
        deadline: _config__WEBPACK_IMPORTED_MODULE_1__.CHANGELLY_WAITING_DEADLINE,
        onCompleted: handleTimeout
      })
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_12__["default"], {
      address: payinAddress,
      copyNotification: lang('Address was copied!'),
      noSavedAddress: true,
      noExplorer: true,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyTextField
    }), renderMemo(), shouldShowQrCode && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].qrCode, !isInitialized && _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].qrCodeHidden),
      ref: qrCodeRef
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].changellyDescription
    }, lang('Please note that it may take up to a few hours for tokens to appear in your wallet.')));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_13__["default"], {
    title: lang(isExpired ? 'Swap Expired' : 'Waiting for Payment'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].scrollContent, _Swap_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].selectBlockchainBlock, 'custom-scroll')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_SwapTokensInfo__WEBPACK_IMPORTED_MODULE_10__["default"], {
    tokenIn: tokenIn,
    amountIn: amountIn,
    tokenOut: tokenOut,
    amountOut: amountOut
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_14__["default"], {
    name: "fade",
    activeKey: isExpired ? 1 : 0
  }, renderInfo()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isPrimary: true,
    onClick: onClose
  }, lang('Close')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapWaitTokens));

/***/ }),

/***/ "./src/components/swap/components/SwapSelectToken.tsx":
/*!************************************************************!*\
  !*** ./src/components/swap/components/SwapSelectToken.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/swap/getBlockchainNetworkIcon */ "./src/util/swap/getBlockchainNetworkIcon.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../Swap.module.scss */ "./src/components/swap/Swap.module.scss");













function SwapSelectToken(_ref) {
  let {
    token,
    shouldFilter
  } = _ref;
  const {
    setSwapScreen
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const {
    transitionRef
  } = useSelectorWidth(token);
  const handleOpenSelectTokenModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_9__["default"])(() => {
    setSwapScreen({
      state: shouldFilter ? _global_types__WEBPACK_IMPORTED_MODULE_3__.SwapState.SelectTokenTo : _global_types__WEBPACK_IMPORTED_MODULE_3__.SwapState.SelectTokenFrom
    });
  });
  const buttonTransitionKeyRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const buttonStateStr = `${token === null || token === void 0 ? void 0 : token.symbol}_${token === null || token === void 0 ? void 0 : token.blockchain}`;
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    buttonTransitionKeyRef.current++;
  }, [buttonStateStr]);
  function renderToken(tokenToRender) {
    var _ASSET_LOGO_PATHS, _tokenToRender$blockc;
    const image = (_ASSET_LOGO_PATHS = _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_8__.ASSET_LOGO_PATHS[tokenToRender === null || tokenToRender === void 0 ? void 0 : tokenToRender.symbol.toLowerCase()]) !== null && _ASSET_LOGO_PATHS !== void 0 ? _ASSET_LOGO_PATHS : tokenToRender === null || tokenToRender === void 0 ? void 0 : tokenToRender.image;
    const blockchain = (_tokenToRender$blockc = tokenToRender === null || tokenToRender === void 0 ? void 0 : tokenToRender.blockchain) !== null && _tokenToRender$blockc !== void 0 ? _tokenToRender$blockc : _config__WEBPACK_IMPORTED_MODULE_4__.TON_BLOCKCHAIN;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_11__["default"], {
      ref: transitionRef,
      name: "fade",
      activeKey: buttonTransitionKeyRef.current,
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenSelectorWrapper,
      slideClassName: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenSelectorSlide
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
      type: "button",
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenSelector,
      onClick: handleOpenSelectTokenModal
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenIconWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: image,
      alt: "",
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: (0,_util_swap_getBlockchainNetworkIcon__WEBPACK_IMPORTED_MODULE_6__["default"])(blockchain),
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenBlockchainIcon,
      alt: blockchain
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenContent
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, tokenToRender === null || tokenToRender === void 0 ? void 0 : tokenToRender.symbol), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])('icon-chevron-right', _Swap_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].tokenSelectorIcon),
      "aria-hidden": true
    }))));
  }
  return renderToken(token);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapSelectToken));
const BUTTON_WIDTH = 70 / _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.REM;
const CHARACTER_WIDTH = 10;
function useSelectorWidth(token) {
  // eslint-disable-next-line no-null/no-null
  const transitionRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!transitionRef.current || !token) return;
    const symbolWidth = token.symbol.length * CHARACTER_WIDTH / _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_7__.REM;
    const minWidth = `${symbolWidth + BUTTON_WIDTH}rem`;
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(transitionRef.current, {
      minWidth
    });
  }, [token]);
  return {
    transitionRef
  };
}

/***/ }),

/***/ "./src/components/swap/components/SwapSubmitButton.tsx":
/*!*************************************************************!*\
  !*** ./src/components/swap/components/SwapSubmitButton.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useAsyncResolvers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../hooks/useAsyncResolvers */ "./src/hooks/useAsyncResolvers.ts");
/* harmony import */ var _hooks_useDerivedSignal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../hooks/useDerivedSignal */ "./src/hooks/useDerivedSignal.ts");
/* harmony import */ var _hooks_useDerivedState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useDerivedState */ "./src/hooks/useDerivedState.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _Swap_module_scss__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../Swap.module.scss */ "./src/components/swap/Swap.module.scss");












const BUTTON_ANIMATION_DURATION = 250 + _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_END_DELAY;
function SwapSubmitButton(_ref) {
  var _limits$fromMin, _tokenIn$symbol, _limits$fromMax, _tokenIn$symbol2;
  let {
    tokenIn,
    tokenOut,
    amountIn,
    amountOut,
    swapType,
    isEstimating,
    isSending,
    isEnoughToncoin,
    dieselStatus,
    isPriceImpactError,
    canSubmit,
    errorType,
    limits
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_8__["default"])();
  const isErrorExist = errorType !== undefined;
  const shouldSendingBeVisible = isSending && swapType === _global_types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainToToncoin;
  const isDisabled = !canSubmit || shouldSendingBeVisible;
  const isLoading = isEstimating || shouldSendingBeVisible;
  const errorMsgByType = {
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.UnexpectedError]: lang('Unexpected Error'),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair]: lang('Invalid Pair'),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.NotEnoughLiquidity]: lang('Insufficient liquidity'),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMinSwap]: lang('Minimum amount', {
      value: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencySimple)((_limits$fromMin = limits === null || limits === void 0 ? void 0 : limits.fromMin) !== null && _limits$fromMin !== void 0 ? _limits$fromMin : '0', (_tokenIn$symbol = tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol) !== null && _tokenIn$symbol !== void 0 ? _tokenIn$symbol : '', tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.decimals)
    }),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMaxSwap]: lang('Maximum amount', {
      value: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_4__.formatCurrencySimple)((_limits$fromMax = limits === null || limits === void 0 ? void 0 : limits.fromMax) !== null && _limits$fromMax !== void 0 ? _limits$fromMax : '0', (_tokenIn$symbol2 = tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol) !== null && _tokenIn$symbol2 !== void 0 ? _tokenIn$symbol2 : '', tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.decimals)
    }),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.NotEnoughForFee]: lang('Not Enough %symbol%', {
      symbol: tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol
    }),
    [_global_types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.TooSmallAmount]: lang('$swap_too_small_amount')
  };
  const isTouched = Boolean(amountIn || amountOut);
  let text = '$swap_from_to';
  if (isTouched && isErrorExist) {
    text = errorMsgByType[errorType];
  } else if (isTouched && !isEnoughToncoin && swapType !== _global_types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainToToncoin) {
    if (dieselStatus === 'not-available') {
      text = lang('Not Enough %symbol%', {
        symbol: 'TON'
      });
    } else if (dieselStatus === 'pending-previous') {
      text = lang('Awaiting Previous Fee');
    } else if (dieselStatus === 'not-authorized') {
      text = lang('Authorize %token% Fee', {
        token: tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol
      });
    }
  }
  const textStr = Array.isArray(text) ? text.join('') : text;
  let shouldShowError = !isEstimating && (isPriceImpactError || isErrorExist || !isEnoughToncoin && (dieselStatus === 'not-available' || dieselStatus === 'pending-previous'));
  if (swapType === _global_types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainToToncoin) {
    shouldShowError = !isEstimating && (isPriceImpactError || isErrorExist);
  }
  const isDestructive = isTouched && shouldShowError;
  const transitionKeyRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const render = (0,_hooks_useDerivedSignal__WEBPACK_IMPORTED_MODULE_6__["default"])(() => {
    const renderedText = textStr === '$swap_from_to' ? lang('$swap_from_to', {
      from: tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol,
      icon: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])('icon-arrow-right', _Swap_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].swapArrowIcon),
        "aria-hidden": true
      }),
      to: tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.symbol
    }) : textStr;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_10__["default"], {
      name: "semiFade",
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].footerButtonWrapper,
      activeKey: transitionKeyRef.current++
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
      className: _Swap_module_scss__WEBPACK_IMPORTED_MODULE_11__["default"].footerButton,
      isDisabled: isDisabled,
      isPrimary: true,
      isSubmit: true,
      isLoading: isLoading,
      isDestructive: isDestructive
    }, renderedText));
  }, [isDestructive, isDisabled, isLoading, lang, textStr, tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.symbol, tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.symbol]);
  const renderThrottled = (0,_hooks_useAsyncResolvers__WEBPACK_IMPORTED_MODULE_5__.useThrottledSignal)(render, BUTTON_ANIMATION_DURATION);
  const rendered = (0,_hooks_useDerivedState__WEBPACK_IMPORTED_MODULE_7__["default"])(renderThrottled);
  return rendered;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SwapSubmitButton));

/***/ }),

/***/ "./src/components/transfer/NftChips.tsx":
/*!**********************************************!*\
  !*** ./src/components/transfer/NftChips.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./NftChips.module.scss */ "./src/components/transfer/NftChips.module.scss");





const LIMIT = 10;
function NftChips(_ref) {
  let {
    nfts,
    isStatic
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [isCollapsed,, expand] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__["default"])(true);
  const shouldRenderExpander = isCollapsed && nfts.length > LIMIT + 1;
  const renderedNfts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => shouldRenderExpander ? nfts.slice(0, LIMIT) : nfts, [shouldRenderExpander, nfts]);
  function renderNft(nft) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: nft.address,
      className: _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].nft
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: nft.thumbnail,
      alt: nft.name,
      className: _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].image
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].name
    }, nft.name || nft.address));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].root, isStatic && _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"]["static"], 'custom-scroll')
  }, renderedNfts.map(renderNft), shouldRenderExpander && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    className: _NftChips_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].expander,
    onClick: () => expand()
  }, "+", lang('%amount% NFTs', {
    amount: nfts.length - LIMIT
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(NftChips));

/***/ }),

/***/ "./src/components/transfer/NftInfo.tsx":
/*!*********************************************!*\
  !*** ./src/components/transfer/NftInfo.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/url */ "./src/util/url.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./NftInfo.module.scss */ "./src/components/transfer/NftInfo.module.scss");













function NftInfo(_ref) {
  let {
    nft,
    isStatic,
    withTonExplorer
  } = _ref;
  const {
    openMediaViewer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const tonExplorerTitle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lang('Open on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_3__.TON_EXPLORER_NAME
    }).join('');
  }, [lang]);
  const handleClickInfo = event => {
    event.stopPropagation();
    const url = (0,_util_url__WEBPACK_IMPORTED_MODULE_7__.getTonExplorerNftUrl)(nft.address, (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings.isTestnet);
    (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_5__.openUrl)(url);
  };
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    openMediaViewer({
      mediaId: nft.address,
      mediaType: _global_types__WEBPACK_IMPORTED_MODULE_2__.MediaType.Nft
    });
  });
  if (!nft) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].root, isStatic && _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].rootStatic)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_11__["default"], {
      play: true,
      noLoop: false,
      nonInteractive: true,
      size: _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATED_STICKER_TINY_SIZE_PX,
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].thumbnail,
      tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.wait,
      previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_8__.ANIMATED_STICKERS_PATHS.waitPreview
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].info
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].title
    }, "NFT"), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].description
    }, lang('Name and collection are not available. Please check back later.'))));
  }
  const name = nft.name || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_6__.shortenAddress)(nft.address);
  function renderContent() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: nft.thumbnail,
      alt: name,
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].thumbnail
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].info
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].title
    }, name, withTonExplorer && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].icon, 'icon-tonexplorer-small'),
      onClick: handleClickInfo,
      title: tonExplorerTitle,
      "aria-label": tonExplorerTitle,
      role: "button",
      tabIndex: 0
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].description
    }, nft.collectionName)));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    role: "button",
    tabIndex: 0,
    "aria-label": lang('NFT'),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].root, isStatic && _NftInfo_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].rootStatic),
    onClick: handleClick
  }, renderContent());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(NftInfo));

/***/ }),

/***/ "./src/components/transfer/TransferComplete.tsx":
/*!******************************************************!*\
  !*** ./src/components/transfer/TransferComplete.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _common_TransferResult__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../common/TransferResult */ "./src/components/common/TransferResult.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _NftChips__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./NftChips */ "./src/components/transfer/NftChips.tsx");
/* harmony import */ var _NftInfo__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _common_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/TransferResult.module.scss */ "./src/components/common/TransferResult.module.scss");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");

















const AMOUNT_PRECISION = 4;
function TransferComplete(_ref) {
  let {
    isActive,
    amount,
    symbol,
    balance,
    fee,
    operationAmount,
    txId,
    tokenSlug,
    toAddress,
    comment,
    decimals,
    nfts,
    onInfoClick,
    onClose
  } = _ref;
  const {
    startTransfer
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_5__.useDeviceScreen)();
  const isNftTransfer = Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive,
    onBack: onClose
  });
  const handleTransactionRepeatClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_8__["default"])(() => {
    startTransfer({
      isPortrait,
      tokenSlug: tokenSlug || _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
      toAddress,
      amount,
      comment
    });
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_12__["default"], {
    title: lang(isNftTransfer ? 'NFT has been sent!' : 'Coins have been sent!'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].transitionContent
  }, isNftTransfer ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_10__["default"], {
    play: isActive,
    noLoop: false,
    nonInteractive: true,
    className: _common_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].sticker,
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.thumbUp,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_4__.ANIMATED_STICKERS_PATHS.thumbUpPreview
  }), nfts.length === 1 ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftInfo__WEBPACK_IMPORTED_MODULE_14__["default"], {
    nft: nfts[0]
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftChips__WEBPACK_IMPORTED_MODULE_13__["default"], {
    nfts: nfts
  }), Boolean(txId) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_common_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].buttons, _common_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].buttonsAfterNft)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    className: _common_TransferResult_module_scss__WEBPACK_IMPORTED_MODULE_15__["default"].button,
    onClick: onInfoClick
  }, lang('Details')))) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_common_TransferResult__WEBPACK_IMPORTED_MODULE_9__["default"], {
    playAnimation: isActive,
    amount: amount ? -amount : undefined,
    tokenSymbol: symbol,
    precision: AMOUNT_PRECISION,
    balance: balance,
    fee: fee !== null && fee !== void 0 ? fee : 0n,
    operationAmount: operationAmount ? -operationAmount : undefined,
    firstButtonText: txId ? lang('Details') : undefined,
    secondButtonText: lang('Repeat'),
    onFirstButtonClick: onInfoClick,
    onSecondButtonClick: handleTransactionRepeatClick,
    decimals: decimals
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_11__["default"], {
    onClick: onClose,
    isPrimary: true
  }, lang('Close')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TransferComplete));

/***/ }),

/***/ "./src/components/transfer/TransferConfirm.tsx":
/*!*****************************************************!*\
  !*** ./src/components/transfer/TransferConfirm.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../api/blockchains/ton/constants */ "./src/api/blockchains/ton/constants.ts");
/* harmony import */ var _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../ui/helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/AmountWithFeeTextField */ "./src/components/ui/AmountWithFeeTextField.tsx");
/* harmony import */ var _ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ui/IconWithTooltip */ "./src/components/ui/IconWithTooltip.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _NftChips__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./NftChips */ "./src/components/transfer/NftChips.tsx");
/* harmony import */ var _NftInfo__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");























function TransferConfirm(_ref) {
  let {
    currentTransfer: {
      amount,
      toAddress,
      resolvedAddress,
      fee,
      comment,
      shouldEncrypt,
      promiseId,
      isLoading,
      toAddressName,
      isToNewAddress,
      isScam,
      binPayload,
      nfts,
      withDiesel,
      dieselAmount
    },
    symbol,
    decimals,
    isActive,
    savedAddresses,
    onBack,
    onClose
  } = _ref;
  const {
    submitTransferConfirm
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_11__["default"])();
  const addressName = (savedAddresses === null || savedAddresses === void 0 ? void 0 : savedAddresses[toAddress]) || toAddressName;
  const isNftTransfer = Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length);
  const isBurning = resolvedAddress === _config__WEBPACK_IMPORTED_MODULE_2__.BURN_ADDRESS;
  const isNotcoinBurning = resolvedAddress === _config__WEBPACK_IMPORTED_MODULE_2__.NOTCOIN_EXCHANGERS[0];
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_10__["default"])({
    isActive,
    onBack
  });
  const handleConfirm = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_12__["default"])(() => {
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.vibrate)();
    submitTransferConfirm();
  });
  function renderNfts() {
    if (nfts.length === 1) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftInfo__WEBPACK_IMPORTED_MODULE_20__["default"], {
        nft: nfts[0]
      });
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftChips__WEBPACK_IMPORTED_MODULE_19__["default"], {
      nfts: nfts
    });
  }
  function renderFeeForNft() {
    const totalFee = (_api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_8__.NFT_TRANSFER_TONCOIN_AMOUNT + (fee !== null && fee !== void 0 ? fee : 0n)) * BigInt(Math.ceil(nfts.length / _config__WEBPACK_IMPORTED_MODULE_2__.NFT_BATCH_SIZE));
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].label
    }, lang('Fee')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].inputReadOnly
    }, "\u2248 ", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_7__.formatCurrencySimple)(totalFee, ''), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].currencySymbol
    }, _config__WEBPACK_IMPORTED_MODULE_2__.TON_SYMBOL)));
  }
  function renderFeeWithDiesel() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_13__["default"], {
      label: lang('Amount'),
      amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount !== null && amount !== void 0 ? amount : 0n, decimals),
      symbol: symbol,
      fee: dieselAmount ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(dieselAmount, decimals) : undefined,
      feeSymbol: symbol
    });
  }
  function renderComment() {
    if (binPayload) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].label
      }, lang('Data to sign')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
        text: binPayload,
        copyNotification: lang('Data was copied!'),
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].addressWidget
      }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].error
      }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$signature_warning'))));
    }
    if (!comment) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].label
    }, shouldEncrypt ? lang('Encrypted Message') : lang('Comment or Memo')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].inputReadOnly, _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].inputReadOnly_words, _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].commentInputWrapper)
    }, comment));
  }
  const burningDurationMin = nfts !== null && nfts !== void 0 && nfts.length ? Math.ceil(nfts.length / _config__WEBPACK_IMPORTED_MODULE_2__.NFT_BATCH_SIZE) * _config__WEBPACK_IMPORTED_MODULE_2__.BURN_CHUNK_DURATION_APPROX_SEC / 60 : undefined;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_18__["default"], {
    title: lang('Is it all ok?'),
    onClose: onClose
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].transitionContent
  }, isNftTransfer ? renderNfts() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__["default"], {
    size: _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATED_STICKER_SMALL_SIZE_PX,
    play: isActive,
    noLoop: false,
    nonInteractive: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].sticker, _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].sticker_sizeSmall),
    tgsUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.bill,
    previewUrl: _ui_helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.billPreview
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].label
  }, lang('Receiving Address'), isToNewAddress && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_IconWithTooltip__WEBPACK_IMPORTED_MODULE_16__["default"], {
    emoji: "\u26A0\uFE0F",
    message: lang('This address is new and never received transfers before.'),
    tooltipClassName: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].warningTooltipContainer
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_17__["default"], {
    address: resolvedAddress,
    addressName: addressName,
    isScam: isScam,
    copyNotification: lang('Address was copied!'),
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].addressWidget
  }), isNftTransfer ? renderFeeForNft() : withDiesel ? renderFeeWithDiesel() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_AmountWithFeeTextField__WEBPACK_IMPORTED_MODULE_13__["default"], {
    label: lang('Amount'),
    amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(amount !== null && amount !== void 0 ? amount : 0n, decimals),
    symbol: symbol,
    fee: fee ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_6__.toDecimal)(fee) : undefined
  }), renderComment(), nfts && (isBurning || isNotcoinBurning && (nfts === null || nfts === void 0 ? void 0 : nfts.length) > 1) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].burnWarning
  }, (nfts === null || nfts === void 0 ? void 0 : nfts.length) === 1 ? (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('Are you sure you want to burn this NFT? It will be lost forever.')) : [(0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$multi_burn_nft_warning', {
    amount: nfts.length
  })), ' ', (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_3__["default"])(lang('$multi_send_nft_warning', {
    duration: burningDurationMin
  }))]), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].buttons, _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].buttonsInsideContentWithScroll)
  }, promiseId ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    onClick: onClose,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].button
  }, lang('Cancel')) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    onClick: onBack,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].button
  }, lang('Edit')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isPrimary: true,
    isLoading: isLoading,
    isDestructive: isBurning || isScam,
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].button,
    onClick: handleConfirm
  }, lang(isBurning || isNotcoinBurning ? 'Burn NFT' : 'Confirm')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    currentTransfer: global.currentTransfer
  };
})(TransferConfirm)));

/***/ }),

/***/ "./src/components/transfer/TransferInitial.tsx":
/*!*****************************************************!*\
  !*** ./src/components/transfer/TransferInitial.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_clipboard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/clipboard */ "./src/util/clipboard.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_dns__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../util/dns */ "./src/util/dns.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../util/isTonAddressOrDomain */ "./src/util/isTonAddressOrDomain.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../api/blockchains/ton/constants */ "./src/api/blockchains/ton/constants.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../hooks/useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../hooks/useQrScannerSupport */ "./src/hooks/useQrScannerSupport.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _main_modals_DeleteSavedAddressModal__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../main/modals/DeleteSavedAddressModal */ "./src/components/main/modals/DeleteSavedAddressModal.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Dropdown__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../ui/Dropdown */ "./src/components/ui/Dropdown.tsx");
/* harmony import */ var _ui_Input__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../ui/Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../ui/InteractiveTextField */ "./src/components/ui/InteractiveTextField.tsx");
/* harmony import */ var _ui_Menu__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../ui/Menu */ "./src/components/ui/Menu.tsx");
/* harmony import */ var _ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../ui/RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _NftChips__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./NftChips */ "./src/components/transfer/NftChips.tsx");
/* harmony import */ var _NftInfo__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");







































const SAVED_ADDRESS_OPEN_DELAY = 300;
const COMMENT_MAX_SIZE_BYTES = 5000;
const SHORT_ADDRESS_SHIFT = 12;
const MIN_ADDRESS_LENGTH_TO_SHORTEN = SHORT_ADDRESS_SHIFT * 2;
const COMMENT_DROPDOWN_ITEMS = [{
  value: 'raw',
  name: 'Comment or Memo'
}, {
  value: 'encrypted',
  name: 'Encrypted Message'
}];
const ACTIVE_STATES = new Set([_global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial, _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.None]);
const STAKED_TOKEN_SLUG = 'ton-eqcqc6ehrj';
const AUTHORIZE_DIESEL_INTERVAL_MS = 1000;
const INPUT_CLEAR_BUTTON_ID = 'input-clear-button';
const runThrottled = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_14__.throttle)(cb => cb(), 1500, true);
function TransferInitial(_ref) {
  let {
    isStatic,
    tokenSlug = _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG,
    toAddress = '',
    amount,
    comment = '',
    shouldEncrypt,
    tokens,
    fee,
    savedAddresses,
    accounts,
    currentAccountId,
    isEncryptedCommentSupported,
    isMemoRequired,
    isLoading,
    onCommentChange,
    baseCurrency,
    nfts,
    binPayload,
    dieselAmount,
    dieselStatus,
    isDieselAuthorizationStarted
  } = _ref;
  const {
    submitTransferInitial,
    showNotification,
    fetchFee,
    fetchNftFee,
    changeTransferToken,
    setTransferAmount,
    setTransferToAddress,
    setTransferComment,
    setTransferShouldEncrypt,
    cancelTransfer,
    requestOpenQrScanner,
    showDialog,
    authorizeDiesel,
    fetchDieselState
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();

  // eslint-disable-next-line no-null/no-null
  const toAddressRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const addressBookTimeoutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_23__["default"])();

  // Note: As of 27-11-2023, Firefox does not support readText()
  const [shouldRenderPasteButton, setShouldRenderPasteButton] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_17__.IS_FIREFOX || _config__WEBPACK_IMPORTED_MODULE_3__.IS_FIREFOX_EXTENSION));
  const [isAddressFocused, markAddressFocused, unmarkAddressFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_21__["default"])();
  const [isAddressBookOpen, openAddressBook, closeAddressBook] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_21__["default"])();
  const [savedAddressForDeletion, setSavedAddressForDeletion] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [hasToAddressError, setHasToAddressError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [hasAmountError, setHasAmountError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isInsufficientBalance, setIsInsufficientBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isInsufficientFee, setIsInsufficientFee] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const isNftTransfer = Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length);
  const toAddressShort = toAddress.length > MIN_ADDRESS_LENGTH_TO_SHORTEN ? (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_15__.shortenAddress)(toAddress, SHORT_ADDRESS_SHIFT) || '' : toAddress;
  const isAddressValid = (0,_util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_13__.isTonAddressOrDomain)(toAddress);
  const otherAccountIds = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return accounts ? Object.keys(accounts).filter(accountId => accountId !== currentAccountId) : [];
  }, [currentAccountId, accounts]);
  const shouldUseAddressBook = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return otherAccountIds.length > 0 || Object.keys(savedAddresses || {}).length > 0;
  }, [otherAccountIds.length, savedAddresses]);
  const {
    amount: balance,
    decimals,
    price,
    symbol
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === tokenSlug), [tokenSlug, tokens]) || {};
  const isToncoin = tokenSlug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  const isTonFullBalance = isToncoin && balance === amount;
  const tonToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG), [tokens]);
  const shouldDisableClearButton = !toAddress && !amount && !(comment || binPayload) && !shouldEncrypt && !(nfts !== null && nfts !== void 0 && nfts.length && isStatic);
  const isQrScannerSupported = (0,_hooks_useQrScannerSupport__WEBPACK_IMPORTED_MODULE_25__["default"])();
  const amountInCurrency = price && amount ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toBig)(amount, decimals).mul(price).round(decimals, _lib_big_js__WEBPACK_IMPORTED_MODULE_4__.Big.roundHalfUp).toString() : undefined;
  const renderingAmountInCurrency = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_20__["default"])(amountInCurrency, true);
  const renderingFee = (0,_hooks_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_20__["default"])(fee, true);
  const withPasteButton = shouldRenderPasteButton && toAddress === '';
  const withAddressClearButton = !!toAddress.length;
  const shortBaseSymbol = (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.getShortCurrencySymbol)(baseCurrency);
  const additionalAmount = amount && tokenSlug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG ? amount : 0n;
  const isEnoughToncoin = isTonFullBalance ? fee && fee < tonToken.amount : fee && fee + additionalAmount <= tonToken.amount;
  const isDieselAvailable = dieselStatus === 'available';
  const isDieselNotAuthorized = dieselStatus === 'not-authorized';
  const withDiesel = dieselStatus && dieselStatus !== 'not-available';
  const isEnoughDiesel = withDiesel && amount && balance && dieselAmount ? balance - amount > dieselAmount : undefined;
  const authorizeDieselInterval = isDieselNotAuthorized && isDieselAuthorizationStarted && tokenSlug && !isToncoin ? AUTHORIZE_DIESEL_INTERVAL_MS : undefined;
  const {
    shouldRender: shouldRenderCurrency,
    transitionClassNames: currencyClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_26__["default"])(Boolean(amountInCurrency));
  const updateDieselState = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    fetchDieselState({
      tokenSlug
    });
  });
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_22__["default"])(updateDieselState, authorizeDieselInterval);
  const dropDownItems = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!tokens) {
      return [];
    }
    return tokens.reduce((acc, token) => {
      if (token.amount > 0 || token.slug === tokenSlug) {
        acc.push({
          value: token.slug,
          icon: token.image || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_19__.ASSET_LOGO_PATHS[token.symbol.toLowerCase()],
          name: token.symbol
        });
      }
      return acc;
    }, []);
  }, [tokenSlug, tokens]);
  const validateAndSetAmount = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(function (newAmount) {
    let noReset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    if (!noReset) {
      setHasAmountError(false);
      setIsInsufficientBalance(false);
      setIsInsufficientFee(false);
    }
    if (newAmount === undefined) {
      setTransferAmount({
        amount: undefined
      });
      return;
    }
    if (newAmount < 0) {
      setHasAmountError(true);
      return;
    }
    const tonBalance = tonToken.amount;
    const tonAmount = isToncoin ? newAmount : 0n;
    if (!balance || newAmount > balance) {
      setHasAmountError(true);
      setIsInsufficientBalance(true);
    } else if (isToncoin && tonAmount === tonToken.amount) {
      // Do nothing
    } else if (fee && (fee >= tonBalance || fee + tonAmount > tonBalance) && !isDieselAvailable) {
      setIsInsufficientFee(true);
    }
    setTransferAmount({
      amount: newAmount
    });
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isToncoin && balance && amount && fee && amount < balance && fee < balance && amount + fee >= balance) {
      validateAndSetAmount(balance - fee);
    } else {
      validateAndSetAmount(amount);
    }
  }, [isToncoin, tokenSlug, amount, balance, fee, decimals, validateAndSetAmount, isDieselAvailable]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!toAddress || hasToAddressError || !(amount || nfts !== null && nfts !== void 0 && nfts.length) || !isAddressValid) {
      return;
    }
    runThrottled(() => {
      if (isNftTransfer) {
        fetchNftFee({
          toAddress,
          comment,
          nftAddresses: (nfts === null || nfts === void 0 ? void 0 : nfts.map(_ref2 => {
            let {
              address
            } = _ref2;
            return address;
          })) || []
        });
      } else {
        fetchFee({
          tokenSlug,
          toAddress,
          amount: amount,
          comment,
          binPayload
        });
      }
    });
  }, [amount, binPayload, comment, hasToAddressError, isAddressValid, isNftTransfer, nfts, toAddress, tokenSlug]);
  const handleTokenChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(slug => {
    changeTransferToken({
      tokenSlug: slug
    });
    if (slug === STAKED_TOKEN_SLUG) {
      showDialog({
        title: lang('Warning!'),
        // eslint-disable-next-line max-len
        message: lang('You are about to transfer an important service token, which is needed to withdraw your deposit from staking.')
      });
    }
  });
  const validateToAddress = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    setHasToAddressError(Boolean(toAddress) && !isAddressValid);
  });
  const handleAddressBookClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    if (!shouldUseAddressBook || !isAddressBookOpen) return;
    closeAddressBook();
    if (addressBookTimeoutRef.current) {
      window.clearTimeout(addressBookTimeoutRef.current);
    }
  });
  const handleAddressFocus = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    const el = toAddressRef.current;

    // `selectionStart` is only updated in the next frame after `focus` event
    requestAnimationFrame(() => {
      const caretPosition = el.selectionStart;
      markAddressFocused();

      // Restore caret position after input field value has been focused and expanded
      requestAnimationFrame(() => {
        const newCaretPosition = caretPosition <= SHORT_ADDRESS_SHIFT + 3 ? caretPosition : Math.max(0, el.value.length - (toAddressShort.length - caretPosition));
        el.setSelectionRange(newCaretPosition, newCaretPosition);
        if (newCaretPosition > SHORT_ADDRESS_SHIFT * 2) {
          el.scrollLeft = el.scrollWidth - el.clientWidth;
        }
      });
    });
    if (shouldUseAddressBook) {
      // Simultaneous opening of the virtual keyboard and display of Saved Addresses causes animation degradation
      if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_17__.IS_ANDROID) {
        addressBookTimeoutRef.current = window.setTimeout(openAddressBook, SAVED_ADDRESS_OPEN_DELAY);
      } else {
        openAddressBook();
      }
    }
  });
  const handleAddressBlur = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(e => {
    var _e$relatedTarget;
    unmarkAddressFocused();
    if (((_e$relatedTarget = e.relatedTarget) === null || _e$relatedTarget === void 0 ? void 0 : _e$relatedTarget.id) === INPUT_CLEAR_BUTTON_ID) {
      handleAddressBookClose();
      return;
    }
    if (_util_dns__WEBPACK_IMPORTED_MODULE_11__["default"].isDnsDomain(toAddress) && toAddress !== toAddress.toLowerCase()) {
      setTransferToAddress({
        toAddress: toAddress.toLowerCase().trim()
      });
    } else if (toAddress !== toAddress.trim()) {
      setTransferToAddress({
        toAddress: toAddress.trim()
      });
    }
    requestAnimationFrame(() => {
      validateToAddress();
      handleAddressBookClose();
    });
  });
  const handleAddressInput = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(newToAddress => {
    setTransferToAddress({
      toAddress: newToAddress
    });
  });
  const handleAddressClearClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    setTransferToAddress({
      toAddress: undefined
    });
    setHasToAddressError(false);
  });
  const handleQrScanClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    requestOpenQrScanner();
    cancelTransfer();
  });
  const handleClear = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    if (isStatic) {
      cancelTransfer({
        shouldReset: true
      });
    } else {
      handleAddressClearClick();
      setTransferAmount({
        amount: undefined
      });
      setTransferComment({
        comment: undefined
      });
      setTransferShouldEncrypt({
        shouldEncrypt: false
      });
      setHasAmountError(false);
      setIsInsufficientBalance(false);
      setIsInsufficientFee(false);
    }
  });
  const handlePasteClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(async () => {
    try {
      const {
        type,
        text
      } = await (0,_util_clipboard__WEBPACK_IMPORTED_MODULE_9__.readClipboardContent)();
      if (type === 'text/plain' && (0,_util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_13__.isTonAddressOrDomain)(text.trim())) {
        setTransferToAddress({
          toAddress: text.trim()
        });
        validateToAddress();
      }
    } catch (err) {
      showNotification({
        message: lang('Error reading clipboard')
      });
      setShouldRenderPasteButton(false);
    }
  });
  const handleAddressBookItemClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(address => {
    setTransferToAddress({
      toAddress: address
    });
    closeAddressBook();
  });
  const handleDeleteSavedAddressClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(address => {
    setSavedAddressForDeletion(address);
    closeAddressBook();
  });
  const closeDeleteSavedAddressModal = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(() => {
    setSavedAddressForDeletion(undefined);
  });
  const handleAmountChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(stringValue => {
    const value = stringValue ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.fromDecimal)(stringValue, decimals) : undefined;
    validateAndSetAmount(value);
  });
  const handleMaxAmountClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(e => {
    e.preventDefault();
    if (!balance) {
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.vibrate)();
    setTransferAmount({
      amount: balance
    });
  });
  const handleCommentChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(value => {
    setTransferComment({
      comment: trimStringByMaxBytes(value, COMMENT_MAX_SIZE_BYTES)
    });
    onCommentChange === null || onCommentChange === void 0 ? void 0 : onCommentChange();
  });
  const isCommentRequired = Boolean(toAddress) && isMemoRequired;
  const hasCommentError = isCommentRequired && !comment;
  const requiredAmount = isNftTransfer ? _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_18__.NFT_TRANSFER_TONCOIN_AMOUNT : amount;
  const canSubmit = Boolean(toAddress.length && requiredAmount && balance && requiredAmount > 0 && requiredAmount <= balance && !hasToAddressError && !hasAmountError && (isEnoughToncoin || isEnoughDiesel || isDieselNotAuthorized) && !hasCommentError && (!isNftTransfer || Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length)));
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(e => {
    e.preventDefault();
    if (withDiesel && dieselStatus === 'not-authorized') {
      authorizeDiesel();
      return;
    }
    if (!canSubmit) {
      return;
    }
    (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_8__.vibrate)();
    submitTransferInitial({
      tokenSlug,
      amount: isNftTransfer ? _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_18__.NFT_TRANSFER_TONCOIN_AMOUNT : amount,
      toAddress,
      comment,
      shouldEncrypt,
      nftAddresses: isNftTransfer ? nfts.map(_ref3 => {
        let {
          address
        } = _ref3;
        return address;
      }) : undefined,
      withDiesel
    });
  });
  const handleCommentOptionsChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_24__["default"])(option => {
    setTransferShouldEncrypt({
      shouldEncrypt: option === 'encrypted'
    });
  });
  const renderedSavedAddresses = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!savedAddresses) {
      return undefined;
    }
    return Object.keys(savedAddresses).map(address => renderAddressItem({
      key: `saved-${address}`,
      address,
      name: savedAddresses[address],
      deleteLabel: lang('Delete'),
      onClick: handleAddressBookItemClick,
      onDeleteClick: handleDeleteSavedAddressClick
    }));
  }, [savedAddresses, lang, handleAddressBookItemClick, handleDeleteSavedAddressClick]);
  const renderedOtherAccounts = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (otherAccountIds.length === 0) {
      return undefined;
    }
    const addressesToBeIgnored = Object.keys(savedAddresses || {});
    return otherAccountIds.filter(id => !addressesToBeIgnored.includes(accounts[id].address)).map(id => renderAddressItem({
      key: id,
      address: accounts[id].address,
      name: accounts[id].title,
      isHardware: accounts[id].isHardware,
      onClick: handleAddressBookItemClick
    }));
  }, [otherAccountIds, savedAddresses, accounts, handleAddressBookItemClick]);
  function renderAddressBook() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Menu__WEBPACK_IMPORTED_MODULE_32__["default"], {
      positionX: "right",
      type: "suggestion",
      noBackdrop: true,
      bubbleClassName: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressBubble,
      isOpen: isAddressBookOpen && !(toAddress !== null && toAddress !== void 0 && toAddress.length),
      onClose: closeAddressBook
    }, renderedSavedAddresses, renderedOtherAccounts);
  }
  function renderBottomRight() {
    const withFee = fee && amount && amount > 0;
    const activeKey = isInsufficientBalance ? 0 : isInsufficientFee ? 1 : withFee ? 2 : 3;
    const insufficientBalanceText = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balanceError
    }, lang('Insufficient balance'));
    const insufficientFeeText = withFee ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balanceError
    }, lang('$insufficient_fee', {
      fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrencyExtended)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(renderingFee), _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL, true)
    })) : ' ';
    const insufficientDieselText = withFee && dieselAmount && symbol ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balanceError
    }, lang('$insufficient_fee', {
      fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrencyExtended)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(dieselAmount, decimals), symbol, true)
    })) : ' ';
    let feeText = ' ';
    if (withDiesel && dieselAmount && symbol) {
      feeText = lang('$fee_value', {
        fee: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].feeValue
        }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrencyExtended)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(dieselAmount, decimals), symbol, true, decimals))
      });
    } else if (withFee) {
      feeText = lang('$fee_value', {
        fee: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].feeValue
        }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrencyExtended)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(renderingFee), _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL, true, tonToken.decimals))
      });
    }
    const content = isInsufficientBalance ? insufficientBalanceText : withDiesel && !isEnoughDiesel ? insufficientDieselText : isInsufficientFee ? insufficientFeeText : withFee ? feeText : ' ';
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_34__["default"], {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountBottomRight, isStatic && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountBottomRight_static),
      slideClassName: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountBottomRight_slide,
      name: "fade",
      activeKey: activeKey
    }, content);
  }
  function renderInputActions() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_34__["default"], {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButtonTransition,
      activeKey: toAddress.length ? 0 : 1,
      name: "fade"
    }, toAddress.length ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_28__["default"], {
      isSimple: true,
      id: INPUT_CLEAR_BUTTON_ID,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButton, _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButtonClear),
      onClick: handleAddressClearClick,
      ariaLabel: lang('Clear')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-close-filled",
      "aria-hidden": true
    })) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, isQrScannerSupported && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_28__["default"], {
      isSimple: true,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButton, withPasteButton && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButtonShifted),
      onClick: handleQrScanClick,
      ariaLabel: lang('Scan QR Code')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-qr-scanner-alt",
      "aria-hidden": true
    })), withPasteButton && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_28__["default"], {
      isSimple: true,
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputButton,
      onClick: handlePasteClick,
      ariaLabel: lang('Paste')
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: "icon-paste",
      "aria-hidden": true
    }))));
  }
  function renderBalance() {
    if (!symbol || nfts !== null && nfts !== void 0 && nfts.length) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balanceContainer
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balance
    }, lang('$max_balance', {
      balance: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        role: "button",
        tabIndex: 0,
        onClick: handleMaxAmountClick,
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].balanceLink
      }, balance !== undefined ? (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(balance, decimals), symbol) : lang('Loading...'))
    })));
  }
  function renderTokens() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Dropdown__WEBPACK_IMPORTED_MODULE_29__["default"], {
      items: dropDownItems,
      selectedValue: tokenSlug,
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].tokenDropdown,
      onChange: handleTokenChange
    });
  }
  function renderCurrencyValue() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountInCurrency, currencyClassNames)
    }, "\u2248\u2009", (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_12__.formatCurrency)(renderingAmountInCurrency || '0', shortBaseSymbol, undefined, true));
  }
  function renderCommentLabel() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Dropdown__WEBPACK_IMPORTED_MODULE_29__["default"], {
      items: isEncryptedCommentSupported ? COMMENT_DROPDOWN_ITEMS : [COMMENT_DROPDOWN_ITEMS[0]],
      selectedValue: COMMENT_DROPDOWN_ITEMS[shouldEncrypt ? 1 : 0].value,
      theme: "light",
      menuPositionHorizontal: "left",
      shouldTranslateOptions: true,
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].commentLabel,
      onChange: handleCommentOptionsChange
    });
  }
  const withButton = isQrScannerSupported || withPasteButton || withAddressClearButton;
  function renderButtonText() {
    if (!isEnoughToncoin && withDiesel && !isDieselAvailable) {
      if (dieselStatus === 'pending-previous') {
        return lang('Awaiting Previous Fee');
      } else {
        return lang('Authorize %token% Fee', {
          token: symbol
        });
      }
    } else {
      return lang('$send_token_symbol', isNftTransfer ? 'NFT' : symbol || 'TON');
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("form", {
    className: isStatic ? undefined : _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_37__["default"].transitionContent,
    onSubmit: handleSubmit
  }, (nfts === null || nfts === void 0 ? void 0 : nfts.length) === 1 && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftInfo__WEBPACK_IMPORTED_MODULE_36__["default"], {
    nft: nfts[0],
    isStatic: isStatic
  }), Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length) && nfts.length > 1 && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftChips__WEBPACK_IMPORTED_MODULE_35__["default"], {
    nfts: nfts,
    isStatic: isStatic
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Input__WEBPACK_IMPORTED_MODULE_30__["default"], {
    ref: toAddressRef,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(isStatic && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputStatic, withButton && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputWithIcon),
    isRequired: true,
    label: lang('Recipient Address'),
    placeholder: lang('Wallet address or domain'),
    value: isAddressFocused ? toAddress : toAddressShort,
    error: hasToAddressError ? lang('Incorrect address') : undefined,
    onInput: handleAddressInput,
    onFocus: handleAddressFocus,
    onBlur: handleAddressBlur
  }, renderInputActions()), shouldUseAddressBook && renderAddressBook(), renderBalance(), !isNftTransfer && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberInput__WEBPACK_IMPORTED_MODULE_33__["default"], {
    key: "amount",
    id: "amount",
    hasError: hasAmountError,
    value: amount === undefined ? undefined : (0,_util_decimals__WEBPACK_IMPORTED_MODULE_10__.toDecimal)(amount, decimals),
    labelText: lang('Amount'),
    onChange: handleAmountChange,
    onPressEnter: handleSubmit,
    decimals: decimals,
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountInput,
    inputClassName: isStatic ? _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputRichStatic : undefined
  }, renderTokens()), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountBottomWrapper
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].amountBottom
  }, shouldRenderCurrency && renderCurrencyValue(), renderBottomRight()))), binPayload ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].label
  }, lang('Data to sign')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_InteractiveTextField__WEBPACK_IMPORTED_MODULE_31__["default"], {
    text: binPayload,
    copyNotification: lang('Data was copied!'),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].addressWidget, isStatic && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputStatic)
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].error
  }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_5__["default"])(lang('$signature_warning')))) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Input__WEBPACK_IMPORTED_MODULE_30__["default"], {
    wrapperClassName: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].commentInputWrapper,
    className: isStatic ? _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].inputStatic : undefined,
    label: renderCommentLabel(),
    placeholder: isCommentRequired ? lang('Required') : lang('Optional'),
    value: comment,
    isControlled: true,
    isMultiline: true,
    onInput: handleCommentChange,
    isRequired: isCommentRequired
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_28__["default"], {
    isDisabled: shouldDisableClearButton || isLoading,
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].button,
    onClick: handleClear
  }, lang('Clear')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_28__["default"], {
    isPrimary: true,
    isSubmit: true,
    isDisabled: !canSubmit,
    isLoading: isLoading,
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].button
  }, renderButtonText()))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_DeleteSavedAddressModal__WEBPACK_IMPORTED_MODULE_27__["default"], {
    isOpen: Boolean(savedAddressForDeletion),
    address: savedAddressForDeletion,
    onClose: closeDeleteSavedAddressModal
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    toAddress,
    amount,
    comment,
    shouldEncrypt,
    fee,
    tokenSlug,
    isLoading,
    state,
    nfts,
    binPayload,
    isMemoRequired,
    dieselStatus,
    dieselAmount
  } = global.currentTransfer;
  const isLedger = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectIsHardwareAccount)(global);
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global);
  const baseCurrency = global.settings.baseCurrency;
  return {
    toAddress,
    amount,
    comment,
    shouldEncrypt,
    fee,
    nfts,
    tokenSlug,
    binPayload,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountTokens)(global),
    savedAddresses: accountState === null || accountState === void 0 ? void 0 : accountState.savedAddresses,
    isEncryptedCommentSupported: !isLedger && !(nfts !== null && nfts !== void 0 && nfts.length) && !isMemoRequired,
    isMemoRequired,
    isLoading: isLoading && ACTIVE_STATES.has(state),
    baseCurrency,
    currentAccountId: global.currentAccountId,
    accounts: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_6__.selectNetworkAccounts)(global),
    dieselAmount,
    dieselStatus,
    isDieselAuthorizationStarted: accountState === null || accountState === void 0 ? void 0 : accountState.isDieselAuthorizationStarted
  };
}, (global, _ref4, stickToFirst) => {
  let {
    isStatic
  } = _ref4;
  if (!isStatic) {
    return stickToFirst(global.currentAccountId);
  }
  const {
    nfts,
    tokenSlug = _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG
  } = global.currentTransfer;
  const key = nfts !== null && nfts !== void 0 && nfts.length ? `${nfts[0].address}_${nfts.length}` : tokenSlug;
  return stickToFirst(`${global.currentAccountId}_${key}`);
})(TransferInitial)));
function trimStringByMaxBytes(str, maxBytes) {
  const decoder = new TextDecoder('utf-8');
  const encoded = new TextEncoder().encode(str);
  return decoder.decode(encoded.slice(0, maxBytes)).replace(/\uFFFD/g, '');
}
function renderAddressItem(_ref5) {
  let {
    key,
    address,
    name,
    isHardware,
    deleteLabel,
    onClick,
    onDeleteClick
  } = _ref5;
  const isSavedAddress = !!onDeleteClick;
  const handleDeleteClick = e => {
    e.preventDefault();
    e.stopPropagation();
    onDeleteClick(address);
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    key: key,
    tabIndex: -1,
    role: "button",
    onMouseDown: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_17__.IS_TOUCH_ENV ? undefined : () => onClick(address),
    onClick: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_17__.IS_TOUCH_ENV ? () => onClick(address) : undefined,
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressItem
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressName
  }, name || (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_15__.shortenAddress)(address), isHardware && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_7__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].iconLedger, 'icon-ledger'),
    "aria-hidden": true
  })), isSavedAddress && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressDelete
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    tabIndex: -1,
    role: "button",
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressDeleteInner,
    onMouseDown: handleDeleteClick
  }, deleteLabel)), name && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressAddress
  }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_15__.shortenAddress)(address)), isSavedAddress && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_38__["default"].savedAddressDeleteIcon,
    role: "button",
    tabIndex: -1,
    onMouseDown: handleDeleteClick,
    onClick: _util_stopEvent__WEBPACK_IMPORTED_MODULE_16__["default"],
    "aria-label": deleteLabel
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-trash",
    "aria-hidden": true
  })));
}

/***/ }),

/***/ "./src/components/transfer/TransferModal.tsx":
/*!***************************************************!*\
  !*** ./src/components/transfer/TransferModal.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../ui/helpers/assetLogos */ "./src/components/ui/helpers/assetLogos.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useWindowSize */ "./src/hooks/useWindowSize.ts");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _TransferComplete__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./TransferComplete */ "./src/components/transfer/TransferComplete.tsx");
/* harmony import */ var _TransferConfirm__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./TransferConfirm */ "./src/components/transfer/TransferConfirm.tsx");
/* harmony import */ var _TransferInitial__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./TransferInitial */ "./src/components/transfer/TransferInitial.tsx");
/* harmony import */ var _TransferMultiNftProcess__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./TransferMultiNftProcess */ "./src/components/transfer/TransferMultiNftProcess.tsx");
/* harmony import */ var _TransferPassword__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./TransferPassword */ "./src/components/transfer/TransferPassword.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");






























const SCREEN_HEIGHT_FOR_FORCE_FULLSIZE_NBS = 762; // Computed empirically

function TransferModal(_ref) {
  let {
    currentTransfer: {
      state,
      amount,
      toAddress,
      fee,
      comment,
      error,
      isLoading,
      txId,
      tokenSlug,
      nfts,
      sentNftsCount
    },
    tokens,
    savedAddresses,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isMediaViewerOpen
  } = _ref;
  const {
    submitTransferConfirm,
    submitTransferPassword,
    submitTransferHardware,
    setTransferScreen,
    cancelTransfer,
    showActivityInfo
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_13__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.useDeviceScreen)();
  const isOpen = state !== _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.None;
  const {
    screenHeight
  } = (0,_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_17__["default"])();
  const selectedToken = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(token => token.slug === tokenSlug), [tokenSlug, tokens]);
  const decimals = selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.decimals;
  const [renderedTokenBalance, setRenderedTokenBalance] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.amount);
  const renderedTransactionAmount = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_16__["default"])(amount, true);
  const symbol = (selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.symbol) || '';
  const isNftTransfer = Boolean(nfts === null || nfts === void 0 ? void 0 : nfts.length);
  const isBurning = toAddress === _config__WEBPACK_IMPORTED_MODULE_3__.BURN_ADDRESS;
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_15__["default"])(state, isOpen);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => state === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm ? (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_6__["default"])({
    onEnter: () => {
      submitTransferConfirm();
    }
  }) : undefined, [state, submitTransferConfirm]);
  const handleTransferSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(password => {
    setRenderedTokenBalance(selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.amount);
    submitTransferPassword({
      password
    });
  });
  const handleBackClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm) {
      setTransferScreen({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial
      });
    }
    if (state === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password) {
      setTransferScreen({
        state: _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm
      });
    }
  });
  const handleTransactionInfoClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    cancelTransfer({
      shouldReset: true
    });
    showActivityInfo({
      id: txId
    });
  });
  const handleModalClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    cancelTransfer({
      shouldReset: isPortrait
    });
    updateNextKey();
  });
  const handleModalCloseWithReset = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    cancelTransfer({
      shouldReset: true
    });
  });
  const handleLedgerConnect = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(() => {
    submitTransferHardware();
  });
  function renderTransferShortInfo() {
    var _, _2;
    const transferInfoClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].transferShortInfo, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].transferShortInfoInsidePasswordForm);
    const logoPath = isNftTransfer ? (_ = nfts[0]) === null || _ === void 0 ? void 0 : _.thumbnail : (selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.image) || _ui_helpers_assetLogos__WEBPACK_IMPORTED_MODULE_11__.ASSET_LOGO_PATHS[symbol.toLowerCase()];
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: transferInfoClassName
    }, logoPath && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: logoPath,
      alt: symbol,
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].transferShortInfoText
    }, lang('%amount% to %address%', {
      amount: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].bold
      }, isNftTransfer ? nfts.length > 1 ? lang('%amount% NFTs', {
        amount: nfts.length
      }) : ((_2 = nfts[0]) === null || _2 === void 0 ? void 0 : _2.name) || 'NFT' : (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_7__.toDecimal)(amount, decimals), symbol)),
      address: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].bold
      }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__.shortenAddress)(toAddress))
    })));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Initial:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_21__["default"], {
          title: lang(isNftTransfer ? 'Send NFT' : 'Send'),
          onClose: handleModalCloseWithReset
        }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TransferInitial__WEBPACK_IMPORTED_MODULE_25__["default"], null));
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Confirm:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TransferConfirm__WEBPACK_IMPORTED_MODULE_24__["default"], {
          isActive: isActive,
          symbol: symbol,
          decimals: selectedToken === null || selectedToken === void 0 ? void 0 : selectedToken.decimals,
          savedAddresses: savedAddresses,
          onBack: isPortrait ? handleBackClick : handleModalClose,
          onClose: handleModalCloseWithReset
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TransferPassword__WEBPACK_IMPORTED_MODULE_27__["default"], {
          isActive: isActive,
          isLoading: isLoading,
          isBurning: isBurning,
          error: error,
          onSubmit: handleTransferSubmit,
          onCancel: handleModalCloseWithReset
        }, renderTransferShortInfo());
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.ConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_19__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          onConnected: handleLedgerConnect,
          onClose: handleModalCloseWithReset
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.ConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_18__["default"], {
          text: lang('Please confirm transaction on your Ledger'),
          error: error,
          onClose: handleModalCloseWithReset,
          onTryAgain: submitTransferHardware
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Complete:
        return ((nfts === null || nfts === void 0 ? void 0 : nfts.length) || 0) <= _config__WEBPACK_IMPORTED_MODULE_3__.NFT_BATCH_SIZE ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TransferComplete__WEBPACK_IMPORTED_MODULE_23__["default"], {
          isActive: isActive,
          nfts: nfts,
          amount: renderedTransactionAmount,
          symbol: symbol,
          balance: renderedTokenBalance,
          fee: fee,
          operationAmount: amount,
          txId: txId,
          tokenSlug: tokenSlug,
          toAddress: toAddress,
          comment: comment,
          onInfoClick: handleTransactionInfoClick,
          onClose: handleModalCloseWithReset,
          decimals: decimals
        }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_TransferMultiNftProcess__WEBPACK_IMPORTED_MODULE_26__["default"], {
          nfts: nfts,
          sentNftsCount: sentNftsCount,
          toAddress: toAddress,
          onClose: handleModalCloseWithReset
        });
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_20__["default"], {
    isOpen: isOpen && !isMediaViewerOpen,
    noBackdropClose: true,
    dialogClassName: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_29__["default"].modalDialog,
    nativeBottomSheetKey: "transfer",
    forceFullNative: screenHeight <= SCREEN_HEIGHT_FOR_FORCE_FULLSIZE_NBS || renderingKey === _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.Password,
    onClose: handleModalCloseWithReset,
    onCloseAnimationEnd: handleModalClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_22__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_9__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_28__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_28__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global);
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    currentTransfer: global.currentTransfer,
    tokens: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountTokens)(global),
    savedAddresses: accountState === null || accountState === void 0 ? void 0 : accountState.savedAddresses,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId)
  };
})(TransferModal)));

/***/ }),

/***/ "./src/components/transfer/TransferMultiNftProcess.tsx":
/*!*************************************************************!*\
  !*** ./src/components/transfer/TransferMultiNftProcess.tsx ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Loading__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ui/Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _NftChips__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./NftChips */ "./src/components/transfer/NftChips.tsx");
/* harmony import */ var _NftInfo__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./NftInfo */ "./src/components/transfer/NftInfo.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Transfer.module.scss */ "./src/components/transfer/Transfer.module.scss");










function TransferMultiNftProcess(_ref) {
  let {
    nfts,
    sentNftsCount = 0,
    toAddress,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const isInProgress = sentNftsCount < nfts.length;
  const isBurning = toAddress === _config__WEBPACK_IMPORTED_MODULE_1__.BURN_ADDRESS;
  const isNotcoinBurning = toAddress === _config__WEBPACK_IMPORTED_MODULE_1__.NOTCOIN_EXCHANGERS[0];
  const title = isInProgress ? lang(`${isBurning || isNotcoinBurning ? 'Burning' : 'Sending'}: %n% of %m% NFTs...`, {
    n: sentNftsCount,
    m: nfts.length
  }) : lang('Sent');
  const duration = Math.ceil(nfts.length / _config__WEBPACK_IMPORTED_MODULE_1__.NFT_BATCH_SIZE) * _config__WEBPACK_IMPORTED_MODULE_1__.BURN_CHUNK_DURATION_APPROX_SEC / 60;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: title
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].transitionContent
  }, isInProgress && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Loading__WEBPACK_IMPORTED_MODULE_4__["default"], {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].spinner
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Transfer_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].infoBox
  }, lang('$multi_send_nft_warning', {
    duration
  }))), nfts.length === 1 ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftInfo__WEBPACK_IMPORTED_MODULE_7__["default"], {
    nft: nfts[0]
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_NftChips__WEBPACK_IMPORTED_MODULE_6__["default"], {
    nfts: nfts
  }), !isInProgress && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    onClick: onClose,
    isPrimary: true
  }, lang('Close')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TransferMultiNftProcess));

/***/ }),

/***/ "./src/components/transfer/TransferPassword.tsx":
/*!******************************************************!*\
  !*** ./src/components/transfer/TransferPassword.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");







function TransferPassword(_ref) {
  let {
    isActive,
    isLoading,
    isBurning,
    error,
    children,
    onSubmit,
    onCancel
  } = _ref;
  const {
    cancelTransfer,
    clearTransferError
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_3__["default"])({
    isActive,
    onBack: onCancel
  });
  const title = isBurning ? 'Confirm Burning' : 'Confirm Sending';
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, !_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_5__["default"], {
    title: lang(title),
    onClose: cancelTransfer
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_6__["default"], {
    isActive: isActive,
    isLoading: isLoading,
    withCloseButton: Boolean(children),
    operationType: "transfer",
    error: error,
    submitLabel: lang('Send'),
    cancelLabel: lang('Back'),
    onSubmit: onSubmit,
    onCancel: onCancel,
    onUpdate: clearTransferError
  }, children));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TransferPassword));

/***/ }),

/***/ "./src/components/ui/AmountWithFeeTextField.tsx":
/*!******************************************************!*\
  !*** ./src/components/ui/AmountWithFeeTextField.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AmountWithFeeTextField.module.scss */ "./src/components/ui/AmountWithFeeTextField.module.scss");






function AmountWithFeeTextField(_ref) {
  let {
    amount,
    label,
    currency = '',
    symbol,
    fee,
    feeSymbol = _config__WEBPACK_IMPORTED_MODULE_1__.TON_SYMBOL,
    className,
    labelClassName
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].label, labelClassName)
  }, label), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].root, className)
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_3__.formatCurrencyExtended)(amount, currency, true), symbol && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].suffix
  }, symbol), Boolean(fee) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].feeLabel
  }, lang('Fee')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _AmountWithFeeTextField_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].feeConfirm
  }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_3__.formatCurrencyExtended)(fee, feeSymbol)))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AmountWithFeeTextField));

/***/ }),

/***/ "./src/components/ui/AnimatedCounter.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/AnimatedCounter.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./AnimatedCounter.module.scss */ "./src/components/ui/AnimatedCounter.module.scss");








const ANIMATION_TIME = 200;
const MAX_SIMULTANEOUS_ANIMATIONS = 10;
let scheduledAnimationsCounter = 0;
const resetCounterOnTickEnd = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_3__.throttleWithTickEnd)(() => {
  scheduledAnimationsCounter = 0;
});
const AnimatedCounter = _ref => {
  let {
    text,
    isDisabled
  } = _ref;
  const animationLevel = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)().settings.animationLevel;
  const {
    isRtl
  } = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_5__["default"])();
  const prevText = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_6__["default"])(text);
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const shouldAnimate = scheduleAnimation(!isDisabled && animationLevel === _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MAX && prevText !== undefined && prevText !== text);
  const characters = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return shouldAnimate ? renderAnimatedCharacters(text, prevText) : text;
  }, [shouldAnimate, prevText, text]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!shouldAnimate) return undefined;
    const timeoutId = window.setTimeout(() => {
      forceUpdate();
    }, ANIMATION_TIME);
    return () => {
      window.clearTimeout(timeoutId);
    };
  }, [shouldAnimate, text]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: !isDisabled && _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].root,
    dir: isRtl ? 'rtl' : undefined
  }, characters);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AnimatedCounter));
function scheduleAnimation(condition) {
  if (!condition || scheduledAnimationsCounter >= MAX_SIMULTANEOUS_ANIMATIONS) return false;
  if (scheduledAnimationsCounter === 0) {
    resetCounterOnTickEnd();
  }
  scheduledAnimationsCounter++;
  return true;
}
function renderAnimatedCharacters(text, prevText) {
  var _prevText$length;
  const elements = [];
  const textLength = text.length;
  const prevTextLength = (_prevText$length = prevText === null || prevText === void 0 ? void 0 : prevText.length) !== null && _prevText$length !== void 0 ? _prevText$length : 0;
  for (let i = 0; i <= textLength; i++) {
    const charIndex = textLength - i;
    const prevTextCharIndex = prevTextLength - i;
    if (prevText && prevTextCharIndex >= 0 && text[charIndex] !== prevText[prevTextCharIndex]) {
      var _text$charIndex, _text$charIndex2;
      elements.unshift( /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].characterContainer
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].character
      }, (_text$charIndex = text[charIndex]) !== null && _text$charIndex !== void 0 ? _text$charIndex : ''), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].characterOld
      }, prevText[prevTextCharIndex]), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _AnimatedCounter_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].characterNew
      }, (_text$charIndex2 = text[charIndex]) !== null && _text$charIndex2 !== void 0 ? _text$charIndex2 : '')));
    } else {
      var _text$charIndex3;
      elements.unshift( /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, (_text$charIndex3 = text[charIndex]) !== null && _text$charIndex3 !== void 0 ? _text$charIndex3 : ''));
    }
  }
  return elements;
}

/***/ }),

/***/ "./src/components/ui/AnimatedIcon.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/AnimatedIcon.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useMediaTransition */ "./src/hooks/useMediaTransition.ts");
/* harmony import */ var _AnimatedSticker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./AnimatedSticker */ "./src/components/ui/AnimatedSticker.tsx");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }






function AnimatedIcon(props) {
  const {
    size,
    play = true,
    noLoop = true,
    className,
    noTransition,
    nonInteractive,
    onLoad,
    onClick,
    ...otherProps
  } = props;
  const [isAnimationLoaded, markAnimationLoaded] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__["default"])(false);
  const transitionClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_4__["default"])(noTransition || isAnimationLoaded);
  const handleLoad = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    markAnimationLoaded();
    onLoad === null || onLoad === void 0 ? void 0 : onLoad();
  });
  const [playKey, setPlayKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(String(Math.random()));
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    if (play === true) {
      setPlayKey(String(Math.random()));
    }
    onClick === null || onClick === void 0 ? void 0 : onClick();
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AnimatedSticker__WEBPACK_IMPORTED_MODULE_5__["default"], _extends({
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(className, transitionClassNames),
    size: size,
    play: play === true ? playKey : play,
    noLoop: noLoop,
    onClick: !nonInteractive ? handleClick : undefined,
    onLoad: handleLoad
    /* eslint-disable-next-line react/jsx-props-no-spreading */
  }, otherProps));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AnimatedIcon));

/***/ }),

/***/ "./src/components/ui/AnimatedIconWithPreview.tsx":
/*!*******************************************************!*\
  !*** ./src/components/ui/AnimatedIconWithPreview.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_buildStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildStyle */ "./src/util/buildStyle.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useMediaTransition */ "./src/hooks/useMediaTransition.ts");
/* harmony import */ var _AnimatedIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./AnimatedIcon */ "./src/components/ui/AnimatedIcon.tsx");
/* harmony import */ var _AnimatedIconWithPreview_module_scss__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AnimatedIconWithPreview.module.scss */ "./src/components/ui/AnimatedIconWithPreview.module.scss");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }










const loadedPreviewUrls = new Set();
const DEFAULT_SIZE = 150;
function AnimatedIconWithPreview(props) {
  const {
    size = DEFAULT_SIZE,
    previewUrl,
    thumbDataUri,
    className,
    noAnimation,
    ...otherProps
  } = props;
  const [isPreviewLoaded, markPreviewLoaded] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])(Boolean(thumbDataUri) || loadedPreviewUrls.has(previewUrl));
  const transitionClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_7__["default"])(isPreviewLoaded);
  const [isAnimationReady, markAnimationReady, markAnimationNotReady] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (noAnimation) {
      markAnimationNotReady();
    }
  }, [markAnimationNotReady, noAnimation]);
  const handlePreviewLoad = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_6__["default"])(() => {
    markPreviewLoaded();
    loadedPreviewUrls.add(previewUrl);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(className, _AnimatedIconWithPreview_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].root, transitionClassNames),
    style: (0,_util_buildStyle__WEBPACK_IMPORTED_MODULE_4__["default"])(size !== undefined && `width: ${size}px; height: ${size}px;`)
  }, thumbDataUri && !previewUrl && !isAnimationReady &&
  /*#__PURE__*/
  // eslint-disable-next-line jsx-a11y/alt-text
  _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: thumbDataUri,
    className: _AnimatedIconWithPreview_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].preview
  }), previewUrl && !isAnimationReady &&
  /*#__PURE__*/
  // eslint-disable-next-line jsx-a11y/alt-text
  _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: previewUrl,
    className: _AnimatedIconWithPreview_module_scss__WEBPACK_IMPORTED_MODULE_9__["default"].preview,
    onLoad: handlePreviewLoad
  }), !noAnimation && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AnimatedIcon__WEBPACK_IMPORTED_MODULE_8__["default"], _extends({
    size: size
  }, otherProps, {
    onLoad: markAnimationReady,
    noTransition: true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    noAnimation: global.settings.animationLevel === _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN
  };
})(AnimatedIconWithPreview)));

/***/ }),

/***/ "./src/components/ui/AnimatedSticker.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/AnimatedSticker.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _lib_rlottie_RLottie_async__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/rlottie/RLottie.async */ "./src/lib/rlottie/RLottie.async.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_buildStyle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildStyle */ "./src/util/buildStyle.ts");
/* harmony import */ var _util_generateUniqueId__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/generateUniqueId */ "./src/util/generateUniqueId.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useBackgroundMode */ "./src/hooks/useBackgroundMode.ts");
/* harmony import */ var _hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePriorityPlaybackCheck__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/usePriorityPlaybackCheck */ "./src/hooks/usePriorityPlaybackCheck.ts");
/* harmony import */ var _hooks_useSharedIntersectionObserver__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useSharedIntersectionObserver */ "./src/hooks/useSharedIntersectionObserver.ts");
/* harmony import */ var _hooks_useStateRef__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useStateRef */ "./src/hooks/useStateRef.ts");
/* harmony import */ var _hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useThrottledCallback */ "./src/hooks/useThrottledCallback.ts");
/* harmony import */ var _hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useUniqueId */ "./src/hooks/useUniqueId.ts");
















const THROTTLE_MS = 150;
const AnimatedSticker = _ref => {
  let {
    ref,
    renderId,
    className,
    style,
    tgsUrl,
    play,
    playSegment,
    speed,
    noLoop,
    size,
    quality,
    isLowPriority,
    color,
    forceOnHeavyAnimation,
    forceInBackground,
    sharedCanvas,
    sharedCanvasCoords,
    onClick,
    onLoad,
    onEnded,
    onLoop
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  let containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  if (ref) {
    containerRef = ref;
  }
  const viewId = (0,_hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_15__["default"])();
  const [animation, setAnimation] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const animationRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const isFirstRender = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  const playKey = play || (play === false ? false : playSegment);
  const playRef = (0,_hooks_useStateRef__WEBPACK_IMPORTED_MODULE_13__.useStateRef)(play);
  const playSegmentRef = (0,_hooks_useStateRef__WEBPACK_IMPORTED_MODULE_13__.useStateRef)(playSegment);
  const rgbColor = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const isUnmountedRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return () => {
      isUnmountedRef.current = true;
    };
  }, []);
  const init = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    if (animationRef.current || isUnmountedRef.current || !tgsUrl || sharedCanvas && (!sharedCanvasCoords || !sharedCanvas.offsetWidth || !sharedCanvas.offsetHeight)) {
      return;
    }
    const container = containerRef.current || sharedCanvas;
    if (!container) {
      return;
    }
    const newAnimation = (0,_lib_rlottie_RLottie_async__WEBPACK_IMPORTED_MODULE_2__.getRLottie)().init(tgsUrl, container, renderId || (0,_util_generateUniqueId__WEBPACK_IMPORTED_MODULE_5__["default"])(), {
      size,
      noLoop,
      quality,
      isLowPriority,
      coords: sharedCanvasCoords
    }, viewId, rgbColor.current, onLoad, onEnded, onLoop);
    if (speed) {
      newAnimation.setSpeed(speed);
    }
    setAnimation(newAnimation);
    animationRef.current = newAnimation;
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if ((0,_lib_rlottie_RLottie_async__WEBPACK_IMPORTED_MODULE_2__.getRLottie)()) {
      init();
    } else {
      (0,_lib_rlottie_RLottie_async__WEBPACK_IMPORTED_MODULE_2__.ensureRLottie)().then(init);
    }
  }, [init, tgsUrl, sharedCanvas, sharedCanvasCoords]);
  const throttledInit = (0,_hooks_useThrottledCallback__WEBPACK_IMPORTED_MODULE_14__["default"])(init, [init], THROTTLE_MS);
  (0,_hooks_useSharedIntersectionObserver__WEBPACK_IMPORTED_MODULE_12__["default"])(sharedCanvas, throttledInit);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!animation) return;
    animation.setColor(rgbColor.current);
  }, [color, animation]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return () => {
      var _animationRef$current;
      (_animationRef$current = animationRef.current) === null || _animationRef$current === void 0 ? void 0 : _animationRef$current.removeView(viewId);
    };
  }, [viewId]);
  const playAnimation = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(function () {
    let shouldRestart = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    if (!animation || !(playRef.current || playSegmentRef.current) || isFrozen(forceOnHeavyAnimation, forceInBackground)) {
      return;
    }
    if (playSegmentRef.current) {
      animation.playSegment(playSegmentRef.current, shouldRestart, viewId);
    } else {
      animation.play(shouldRestart, viewId);
    }
  });
  const playAnimationOnRaf = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMeasure)(playAnimation);
  });
  const pauseAnimation = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    if (animation !== null && animation !== void 0 && animation.isPlaying()) {
      animation.pause(viewId);
    }
  });
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_8__["default"])(_ref2 => {
    let [prevNoLoop] = _ref2;
    if (prevNoLoop !== undefined && noLoop !== prevNoLoop) {
      animation === null || animation === void 0 ? void 0 : animation.setNoLoop(noLoop);
    }
  }, [noLoop, animation]);
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_8__["default"])(_ref3 => {
    let [prevSharedCanvasCoords] = _ref3;
    if (prevSharedCanvasCoords !== undefined && sharedCanvasCoords !== prevSharedCanvasCoords) {
      animation === null || animation === void 0 ? void 0 : animation.setSharedCanvasCoords(viewId, sharedCanvasCoords);
    }
  }, [sharedCanvasCoords, viewId, animation]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!animation) {
      return;
    }
    if (playKey) {
      if (!isFrozen(forceOnHeavyAnimation, forceInBackground)) {
        playAnimation(noLoop);
      }
    } else {
      pauseAnimation();
    }
  }, [animation, playKey, noLoop, playAnimation, pauseAnimation, forceOnHeavyAnimation, forceInBackground]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (animation) {
      if (isFirstRender.current) {
        isFirstRender.current = false;
      } else if (tgsUrl) {
        animation.changeData(tgsUrl);
        playAnimation();
      }
    }
  }, [playAnimation, animation, tgsUrl]);
  (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__["default"])(pauseAnimation, playAnimation, forceOnHeavyAnimation || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_IOS || !playKey);
  (0,_hooks_usePriorityPlaybackCheck__WEBPACK_IMPORTED_MODULE_11__["default"])(pauseAnimation, playAnimation, !playKey);
  // Pausing frame may not happen in background,
  // so we need to make sure it happens right after focusing,
  // then we can play again.
  (0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_7__["default"])(pauseAnimation, playAnimationOnRaf, !playKey || forceInBackground);
  if (sharedCanvas) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: containerRef,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])('AnimatedSticker', className),
    style: (0,_util_buildStyle__WEBPACK_IMPORTED_MODULE_4__["default"])(size !== undefined && `width: ${size}px; height: ${size}px;`, onClick && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ELECTRON && 'cursor: pointer', style),
    onClick: onClick
  });
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(AnimatedSticker));
function isFrozen() {
  let forceOnHeavyAnimation = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  let forceInBackground = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  return !forceOnHeavyAnimation && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_IOS && (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_9__.isHeavyAnimating)() || (0,_hooks_usePriorityPlaybackCheck__WEBPACK_IMPORTED_MODULE_11__.isPriorityPlaybackActive)() || !forceInBackground && (0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_7__.isBackgroundModeActive)();
}

/***/ }),

/***/ "./src/components/ui/Button.tsx":
/*!**************************************!*\
  !*** ./src/components/ui/Button.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _LoadingDots__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoadingDots */ "./src/components/ui/LoadingDots.tsx");
/* harmony import */ var _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Button.module.scss */ "./src/components/ui/Button.module.scss");





// Longest animation duration
const CLICKED_TIMEOUT = 400;
function Button(_ref) {
  let {
    ref,
    children,
    id,
    className,
    style,
    ariaLabel,
    forFormId,
    kind,
    isSubmit,
    isLoading,
    isPrimary,
    isSimple,
    isText,
    isDisabled,
    isRound,
    isSmall,
    isDestructive,
    onClick,
    shouldStopPropagation
  } = _ref;
  const [isClicked, setIsClicked] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(event => {
    if (!isDisabled && onClick) {
      if (shouldStopPropagation) {
        event.stopPropagation();
      }
      onClick();
    }
    setIsClicked(true);
    setTimeout(() => {
      setIsClicked(false);
    }, CLICKED_TIMEOUT);
  });
  const loadingClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(isLoading !== undefined && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].loadingInit, isLoading && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].loadingStart);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    id: id,
    ref: ref,
    type: isSubmit || forFormId ? 'submit' : 'button',
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].button, isSimple && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].isSimple, isSmall && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].sizeSmall, isPrimary && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].primary, (isDisabled || isLoading) && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].disabled, loadingClassName, isRound && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].round, isText && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].isText, isDestructive && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].destructive, isClicked && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].clicked, className, kind && _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"][kind]),
    style: style,
    "aria-label": ariaLabel,
    onClick: handleClick,
    disabled: isDisabled || isLoading,
    form: forFormId
  }, children, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_LoadingDots__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isActive: isLoading,
    className: _Button_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].loadingDots
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Button));

/***/ }),

/***/ "./src/components/ui/Checkbox.tsx":
/*!****************************************!*\
  !*** ./src/components/ui/Checkbox.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _Checkbox_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Checkbox.module.scss */ "./src/components/ui/Checkbox.module.scss");




function Checkbox(_ref) {
  let {
    id,
    className,
    contentClassName,
    children,
    checked,
    onChange
  } = _ref;
  const handleChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(e => {
    e.preventDefault();
    onChange(e.currentTarget.checked);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Checkbox_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].wrapper, className)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
    id: id,
    type: "checkbox",
    className: _Checkbox_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].input,
    checked: checked,
    tabIndex: 0,
    onChange: handleChange
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Checkbox_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].content, contentClassName)
  }, children));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Checkbox));

/***/ }),

/***/ "./src/components/ui/ConfettiContainer.tsx":
/*!*************************************************!*\
  !*** ./src/components/ui/ConfettiContainer.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useWindowSize */ "./src/hooks/useWindowSize.ts");
/* harmony import */ var _ConfettiContainer_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ConfettiContainer.module.scss */ "./src/components/ui/ConfettiContainer.module.scss");









const CONFETTI_FADEOUT_TIMEOUT = 10000;
const DEFAULT_CONFETTI_SIZE = 10;
const CONFETTI_COLORS = ['#E8BC2C', '#D0049E', '#02CBFE', '#5723FD', '#FE8C27', '#6CB859'];
function ConfettiContainer(_ref) {
  let {
    lastRequestedAt
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const canvasRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const confettiRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)([]);
  const isRafStartedRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const windowSize = (0,_hooks_useWindowSize__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_3__.useDeviceScreen)();
  const defaultConfettiAmount = isPortrait ? 50 : 100;
  const invokeGenerateConfetti = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])((w, h) => {
    generateConfetti(confettiRef, w, h, defaultConfettiAmount);
  });
  const updateCanvas = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    if (!canvasRef.current || !isRafStartedRef.current) {
      return;
    }
    const canvas = canvasRef.current;
    const ctx = canvas.getContext('2d');
    if (!ctx) {
      return;
    }
    const {
      width: canvasWidth,
      height: canvasHeight
    } = canvas;
    ctx.clearRect(0, 0, canvasWidth, canvasHeight);
    const confettiToRemove = new Set([]);
    confettiRef.current.forEach((c, i) => {
      const {
        pos,
        velocity,
        size,
        color,
        flicker,
        flickerFrequency,
        rotation,
        lastDrawnAt,
        frameCount
      } = c;
      const diff = (Date.now() - lastDrawnAt) / 1000;
      const newPos = {
        x: pos.x + velocity.x * diff,
        y: pos.y + velocity.y * diff
      };
      const newVelocity = {
        x: velocity.x * 0.98,
        // Air Resistance
        y: velocity.y += diff * 1000 // Gravity
      };

      const newFlicker = size * Math.abs(Math.sin(frameCount * flickerFrequency));
      const newRotation = 5 * frameCount * flickerFrequency * (Math.PI / 180);
      const newFrameCount = frameCount + 1;
      const newLastDrawnAt = Date.now();
      const shouldRemove = newPos.y > canvasHeight + c.size;
      if (shouldRemove) {
        confettiToRemove.add(c);
        return;
      }
      confettiRef.current[i] = {
        ...c,
        pos: newPos,
        velocity: newVelocity,
        flicker: newFlicker,
        rotation: newRotation,
        lastDrawnAt: newLastDrawnAt,
        frameCount: newFrameCount
      };
      ctx.fillStyle = color;
      ctx.beginPath();
      ctx.ellipse(pos.x, pos.y, size, flicker, rotation, 0, 2 * Math.PI);
      ctx.fill();
    });
    confettiRef.current = confettiRef.current.filter(c => !confettiToRemove.has(c));
    if (confettiRef.current.length) {
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(updateCanvas);
    } else {
      isRafStartedRef.current = false;
    }
  });
  (0,_hooks_useSyncEffect__WEBPACK_IMPORTED_MODULE_6__["default"])(_ref2 => {
    let [prevConfettiTime] = _ref2;
    let hideTimeout;
    if (lastRequestedAt && prevConfettiTime !== lastRequestedAt) {
      invokeGenerateConfetti(windowSize.width, windowSize.height);
      hideTimeout = window.setTimeout(forceUpdate, CONFETTI_FADEOUT_TIMEOUT);
      if (!isRafStartedRef.current) {
        isRafStartedRef.current = true;
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(updateCanvas);
      }
    }
    return () => {
      window.clearTimeout(hideTimeout);
    };
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps -- Old timeout should be cleared only if new confetti is generated
  }, [lastRequestedAt, forceUpdate, updateCanvas]);
  if (!lastRequestedAt || Date.now() - lastRequestedAt > CONFETTI_FADEOUT_TIMEOUT) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    id: "Confetti",
    className: _ConfettiContainer_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].root
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("canvas", {
    ref: canvasRef,
    width: windowSize.width,
    height: windowSize.height
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  return {
    lastRequestedAt: global.confettiRequestedAt
  };
})(ConfettiContainer)));
function generateConfetti(confettiRef, width, height, amount) {
  for (let i = 0; i < amount; i++) {
    const leftSide = i % 2;
    const pos = {
      x: width * (leftSide ? -0.1 : 1.1),
      y: height * 0.75
    };
    const randomX = Math.random() * width * 1.5;
    const randomY = -height / 2 - Math.random() * height;
    const velocity = {
      x: leftSide ? randomX : randomX * -1,
      y: randomY
    };
    const randomColor = CONFETTI_COLORS[Math.floor(Math.random() * CONFETTI_COLORS.length)];
    const size = DEFAULT_CONFETTI_SIZE;
    confettiRef.current.push({
      pos,
      size,
      color: randomColor,
      velocity,
      flicker: size,
      flickerFrequency: Math.random() * 0.2,
      rotation: 0,
      lastDrawnAt: Date.now(),
      frameCount: 0
    });
  }
}

/***/ }),

/***/ "./src/components/ui/CreatePasswordForm.tsx":
/*!**************************************************!*\
  !*** ./src/components/ui/CreatePasswordForm.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFocusAfterAnimation */ "./src/hooks/useFocusAfterAnimation.tsx");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePasswordValidation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/usePasswordValidation */ "./src/hooks/usePasswordValidation.ts");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../auth/Auth.module.scss */ "./src/components/auth/Auth.module.scss");
/* harmony import */ var _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Modal.module.scss */ "./src/components/ui/Modal.module.scss");














function CreatePasswordForm(_ref) {
  let {
    isActive,
    isLoading,
    formId,
    onCancel,
    onSubmit
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const isMobile = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID;

  // eslint-disable-next-line no-null/no-null
  const firstInputRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [isJustSubmitted, setIsJustSubmitted] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [firstPassword, setFirstPassword] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [secondPassword, setSecondPassword] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [isPasswordFocused, markPasswordFocused, unmarkPasswordFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__["default"])(false);
  const [isWeakPasswordModalOpen, openWeakPasswordModal, closeWeakPasswordModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__["default"])(false);
  const [hasError, setHasError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isPasswordsNotEqual, setIsPasswordsNotEqual] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [isSecondPasswordFocused, markSecondPasswordFocused, unmarkSecondPasswordFocused] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__["default"])(false);
  const canSubmit = isActive && firstPassword.length > 0 && secondPassword.length > 0 && !hasError;
  const shouldRenderError = hasError && !isPasswordFocused;
  const validation = (0,_hooks_usePasswordValidation__WEBPACK_IMPORTED_MODULE_8__.usePasswordValidation)({
    firstPassword,
    secondPassword,
    isOnlyNumbers: isMobile,
    requiredLength: isMobile ? _config__WEBPACK_IMPORTED_MODULE_1__.PIN_LENGTH : undefined
  });
  (0,_hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_5__["default"])(firstInputRef, !isActive);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    setIsPasswordsNotEqual(false);
    if (firstPassword === '' || !isActive || isPasswordFocused) {
      setHasError(false);
      return;
    }
    const {
      noEqual,
      invalidLength
    } = validation;
    if ((!isSecondPasswordFocused || isJustSubmitted) && noEqual && secondPassword !== '') {
      setHasError(true);
      setIsPasswordsNotEqual(true);
    } else if (!noEqual || secondPassword === '' || isSecondPasswordFocused && !isJustSubmitted) {
      setHasError(false);
    }
    if (isMobile && invalidLength && !isJustSubmitted) {
      setHasError(true);
    }
  }, [isActive, firstPassword, secondPassword, validation, isSecondPasswordFocused, isPasswordFocused, isJustSubmitted, isMobile]);
  const handleFirstPasswordChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(value => {
    setFirstPassword(value);
    if (isJustSubmitted) {
      setIsJustSubmitted(false);
    }
  });
  const handleSecondPasswordChange = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(value => {
    setSecondPassword(value);
    if (isJustSubmitted) {
      setIsJustSubmitted(false);
    }
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    e.preventDefault();
    e.stopPropagation();
    if (!canSubmit) {
      return;
    }
    if (firstPassword !== secondPassword) {
      setIsJustSubmitted(true);
      setHasError(true);
      setIsPasswordsNotEqual(true);
      return;
    }
    const isWeakPassword = Object.values(validation).find(rule => rule);
    if (!isMobile && isWeakPassword && !isWeakPasswordModalOpen) {
      openWeakPasswordModal();
      return;
    }
    if (isWeakPasswordModalOpen) {
      closeWeakPasswordModal();
    }
    onSubmit(firstPassword, isMobile);
  });
  function renderErrors() {
    if (isPasswordsNotEqual) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].errors, _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].error)
      }, lang('Passwords must be equal.'));
    }
    const {
      invalidLength,
      noUpperCase,
      noLowerCase,
      noNumber,
      noSpecialChar
    } = validation;
    if (isMobile) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].passwordRules
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: getValidationRuleClass(shouldRenderError, invalidLength || noNumber)
      }, lang('Password must contain %length% digits.', {
        length: _config__WEBPACK_IMPORTED_MODULE_1__.PIN_LENGTH
      })));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].passwordRules
    }, lang('To protect your wallet as much as possible, use a password with'), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: getValidationRuleClass(shouldRenderError, invalidLength)
    }, ' ', lang('$auth_password_rule_8chars'), ","), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: getValidationRuleClass(shouldRenderError, noLowerCase)
    }, ' ', lang('$auth_password_rule_one_small_char'), ","), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: getValidationRuleClass(shouldRenderError, noUpperCase)
    }, ' ', lang('$auth_password_rule_one_capital_char'), ","), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: getValidationRuleClass(shouldRenderError, noNumber)
    }, ' ', lang('$auth_password_rule_one_digit'), ","), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: getValidationRuleClass(shouldRenderError, noSpecialChar)
    }, ' ', lang('$auth_password_rule_one_special_char')), ".");
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("form", {
    id: formId,
    className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].form,
    onSubmit: handleSubmit
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].formWidgets
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Input__WEBPACK_IMPORTED_MODULE_10__["default"], {
    ref: firstInputRef,
    type: "password",
    isRequired: true,
    id: "first-password",
    inputMode: isMobile ? 'numeric' : undefined,
    hasError: shouldRenderError,
    placeholder: lang('Enter your password...'),
    value: firstPassword,
    autoComplete: "new-password",
    onInput: handleFirstPasswordChange,
    onFocus: markPasswordFocused,
    onBlur: unmarkPasswordFocused,
    className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].input,
    maxLength: isMobile ? _config__WEBPACK_IMPORTED_MODULE_1__.PIN_LENGTH : undefined
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Input__WEBPACK_IMPORTED_MODULE_10__["default"], {
    type: "password",
    isRequired: true,
    id: "second-password",
    inputMode: isMobile ? 'numeric' : undefined,
    placeholder: lang('...and repeat it'),
    hasError: isPasswordsNotEqual,
    value: secondPassword,
    autoComplete: "new-password",
    onInput: handleSecondPasswordChange,
    onFocus: markSecondPasswordFocused,
    onBlur: unmarkSecondPasswordFocused,
    className: _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].input,
    maxLength: isMobile ? _config__WEBPACK_IMPORTED_MODULE_1__.PIN_LENGTH : undefined
  })), renderErrors(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttons
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: onCancel,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
  }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isSubmit: true,
    isPrimary: true,
    isDisabled: isPasswordsNotEqual || firstPassword === '',
    isLoading: isLoading,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
  }, lang('Continue')))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Modal__WEBPACK_IMPORTED_MODULE_11__["default"], {
    isOpen: isWeakPasswordModalOpen,
    isCompact: true,
    onClose: closeWeakPasswordModal,
    title: lang('Insecure Password')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
  }, lang('Your have entered an insecure password, which can be easily guessed by scammers.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", {
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].text
  }, lang('Continue or change password to something more secure?')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttons, _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].buttonsNoExtraSpace)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    isPrimary: true,
    onClick: closeWeakPasswordModal,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
  }, lang('Change')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_9__["default"], {
    forFormId: formId,
    isSubmit: true,
    isDestructive: true,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].button
  }, lang('Continue')))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(CreatePasswordForm));
function getValidationRuleClass(shouldRenderError, ruleHasError) {
  return (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].passwordRule, !ruleHasError ? _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].valid : shouldRenderError ? _auth_Auth_module_scss__WEBPACK_IMPORTED_MODULE_12__["default"].invalid : undefined);
}

/***/ }),

/***/ "./src/components/ui/Draggable.tsx":
/*!*****************************************!*\
  !*** ./src/components/ui/Draggable.tsx ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_buildStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildStyle */ "./src/util/buildStyle.ts");
/* harmony import */ var _util_math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/math */ "./src/util/math.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _Draggable_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Draggable.module.scss */ "./src/components/ui/Draggable.module.scss");









const ZERO_POINT = {
  x: 0,
  y: 0
};
const DEFAULT_OFFSET = {
  top: 0,
  bottom: 0,
  left: 0,
  right: 0
};
const EDGE_THRESHOLD = 150;
function Draggable(_ref) {
  let {
    children,
    id,
    onDrag,
    onDragEnd,
    style: externalStyle,
    knobStyle,
    isDisabled,
    offset = DEFAULT_OFFSET,
    parentRef,
    scrollRef,
    className,
    onClick
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const buttonRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  const scrollIntervalId = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)();
  const [state, setState] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)({
    isDragging: false,
    scrollTop: 0,
    origin: ZERO_POINT,
    translation: ZERO_POINT
  });
  const lastMousePosition = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)({
    x: 0,
    y: 0
  });
  const updateDraggablePosition = () => {
    if (!state.isDragging || !ref.current || !(parentRef !== null && parentRef !== void 0 && parentRef.current) || !(scrollRef !== null && scrollRef !== void 0 && scrollRef.current)) return;
    const translation = calculateConstrainedTranslation(state, lastMousePosition.current, scrollRef.current.scrollTop, ref.current, parentRef.current, offset);
    setState(current => ({
      ...current,
      translation
    }));
    onDrag(translation, id);
  };
  const stopContinuousScroll = () => {
    if (scrollIntervalId.current !== undefined) {
      cancelAnimationFrame(scrollIntervalId.current);
      scrollIntervalId.current = undefined;
    }
  };
  const startContinuousScroll = (scrollContainer, speed) => {
    const animateScroll = () => {
      scrollContainer.scrollBy(0, speed);
      updateDraggablePosition();
      scrollIntervalId.current = requestAnimationFrame(animateScroll);
    };
    stopContinuousScroll();
    animateScroll();
  };
  const setInitialState = e => {
    var _scrollRef$current$sc, _scrollRef$current, _ref$current, _ref$current2;
    const origin = getClientCoordinate(e);
    const scrollTop = (_scrollRef$current$sc = scrollRef === null || scrollRef === void 0 || (_scrollRef$current = scrollRef.current) === null || _scrollRef$current === void 0 ? void 0 : _scrollRef$current.scrollTop) !== null && _scrollRef$current$sc !== void 0 ? _scrollRef$current$sc : 0;
    setState({
      ...state,
      isDragging: true,
      origin,
      scrollTop,
      width: (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.offsetWidth,
      height: (_ref$current2 = ref.current) === null || _ref$current2 === void 0 ? void 0 : _ref$current2.offsetHeight
    });
  };
  const handleMouseDown = e => {
    setInitialState(e);
  };
  const handleTouchStart = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    e.stopPropagation();
    e.preventDefault();
    setInitialState(e);
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) {
      void native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.clearScrollPatch();
    }
  });
  const handleMouseMove = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    if (!ref.current || !(parentRef !== null && parentRef !== void 0 && parentRef.current) || !(scrollRef !== null && scrollRef !== void 0 && scrollRef.current)) return;
    const {
      x,
      y
    } = getClientCoordinate(e);
    lastMousePosition.current = {
      x,
      y
    };
    const translation = calculateConstrainedTranslation(state, lastMousePosition.current, scrollRef.current.scrollTop, ref.current, parentRef.current, offset);
    const scrollRect = scrollRef.current.getBoundingClientRect();
    const distanceFromTop = y - scrollRect.top;
    const distanceFromBottom = scrollRect.bottom - y;
    if (distanceFromTop < EDGE_THRESHOLD) {
      startContinuousScroll(scrollRef.current, -scaledEase((EDGE_THRESHOLD - distanceFromTop) / EDGE_THRESHOLD));
    } else if (distanceFromBottom < EDGE_THRESHOLD) {
      startContinuousScroll(scrollRef.current, scaledEase((EDGE_THRESHOLD - distanceFromBottom) / EDGE_THRESHOLD));
    } else {
      stopContinuousScroll();
    }
    setState(current => ({
      ...current,
      translation
    }));
    onDrag(translation, id);
  });
  const handleMouseUp = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    setState(current => ({
      ...current,
      isDragging: false,
      width: undefined,
      height: undefined
    }));
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) {
      void native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.applyScrollPatch();
    }
    onDragEnd();
  });
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    if (state.isDragging) {
      return;
    }
    onClick(e);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    const dragButtonRef = buttonRef.current;
    if (dragButtonRef) {
      dragButtonRef.addEventListener('touchstart', handleTouchStart, {
        passive: false
      });
    }
    if (state.isDragging) {
      window.addEventListener('touchmove', handleMouseMove);
      window.addEventListener('mousemove', handleMouseMove);
      window.addEventListener('touchend', handleMouseUp);
      window.addEventListener('touchcancel', handleMouseUp);
      window.addEventListener('mouseup', handleMouseUp);
    } else {
      stopContinuousScroll();
      window.removeEventListener('touchmove', handleMouseMove);
      window.removeEventListener('mousemove', handleMouseMove);
      window.removeEventListener('touchend', handleMouseUp);
      window.removeEventListener('touchcancel', handleMouseUp);
      window.removeEventListener('mouseup', handleMouseUp);
      setState(current => ({
        ...current,
        translation: ZERO_POINT
      }));
    }
    return () => {
      if (state.isDragging) {
        stopContinuousScroll();
        window.removeEventListener('touchmove', handleMouseMove);
        window.removeEventListener('mousemove', handleMouseMove);
        window.removeEventListener('touchend', handleMouseUp);
        window.removeEventListener('touchcancel', handleMouseUp);
        window.removeEventListener('mouseup', handleMouseUp);
        if (dragButtonRef) {
          dragButtonRef.removeEventListener('touchstart', handleTouchStart);
        }
      }
    };
  }, [handleMouseMove, handleMouseUp, handleTouchStart, state.isDragging, buttonRef, isDisabled]);
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Draggable_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].container, className, state.isDragging && _Draggable_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].isDragging);
  const cssStyles = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {
    return (0,_util_buildStyle__WEBPACK_IMPORTED_MODULE_3__["default"])(state.isDragging && `transform: translate(${state.translation.x}px, ${state.translation.y}px)`, state.width ? `width: ${state.width}px` : undefined, state.height ? `height: ${state.height}px` : undefined, externalStyle);
  }, [externalStyle, state.height, state.isDragging, state.translation.x, state.translation.y, state.width]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    style: cssStyles,
    className: fullClassName,
    ref: ref,
    onClick: handleClick
  }, !isDisabled && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    ref: buttonRef,
    "aria-label": lang('i18n_dragToSort'),
    tabIndex: 0,
    role: "button",
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Draggable_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].knob, 'div-button', 'draggable-knob'),
    onMouseDown: handleMouseDown,
    style: knobStyle
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
    className: "icon icon-sort",
    "aria-hidden": true
  })), children);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)(Draggable));
function getClientCoordinate(e) {
  let x;
  let y;
  if ('touches' in e) {
    x = e.touches[0].clientX;
    y = e.touches[0].clientY;
  } else {
    x = e.clientX;
    y = e.clientY;
  }
  return {
    x,
    y
  };
}
function scaledEase(n) {
  return 5 * n ** 3 + 1;
}
function calculateConstrainedTranslation(state, lastMousePosition, lastScrollTop, draggableElement, parentElement, offset) {
  const translation = {
    x: lastMousePosition.x - state.origin.x,
    y: lastMousePosition.y - state.origin.y + lastScrollTop - state.scrollTop
  };
  const {
    top = 0,
    right = 0,
    bottom = 0,
    left = 0
  } = offset;
  const parentRect = parentElement.getBoundingClientRect();
  const draggableRect = draggableElement.getBoundingClientRect();
  const minX = -draggableElement.offsetLeft + left;
  const maxX = parentRect.width - draggableRect.width - draggableElement.offsetLeft + right;
  const minY = -draggableElement.offsetTop + top;
  const maxY = parentRect.height - draggableRect.height - draggableElement.offsetTop + bottom;
  return {
    x: (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(translation.x, minX, maxX),
    y: (0,_util_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(translation.y, minY, maxY)
  };
}

/***/ }),

/***/ "./src/components/ui/Dropdown.tsx":
/*!****************************************!*\
  !*** ./src/components/ui/Dropdown.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _DropdownMenu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _Loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Dropdown.module.scss */ "./src/components/ui/Dropdown.module.scss");







const DEFAULT_ARROW = 'caret';
const DEFAULT_MENU_POSITION_HORIZONTAL = 'right';
function Dropdown(_ref) {
  let {
    label,
    items,
    selectedValue,
    className,
    theme,
    arrow = DEFAULT_ARROW,
    menuPosition,
    menuPositionHorizontal = DEFAULT_MENU_POSITION_HORIZONTAL,
    disabled,
    shouldTranslateOptions,
    onChange,
    isLoading = false
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [isMenuOpen, openMenu, closeMenu] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const selectedItem = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return items.find(item => item.value === selectedValue);
  }, [items, selectedValue]);
  if (!items.length) {
    return undefined;
  }
  const buttonArrowIcon = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].buttonIcon, arrow === 'chevron' ? 'icon-chevron-down' : 'icon-caret-down');
  const withMenu = items.length > 1;
  const isFullyInteractive = Boolean(label);
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(className, theme && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"][theme], withMenu && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].interactive, isFullyInteractive && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].wide, isFullyInteractive && disabled && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].disabled);
  const buttonFullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].button, withMenu && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].interactive, !isFullyInteractive && disabled && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].disabled);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: fullClassName,
    onClick: isFullyInteractive && !disabled && withMenu ? openMenu : undefined
  }, label && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].label
  }, label), isLoading ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Loading__WEBPACK_IMPORTED_MODULE_5__["default"], {
    className: _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].spinner
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    className: buttonFullClassName,
    onClick: !isFullyInteractive && withMenu ? openMenu : undefined,
    disabled: disabled
  }, (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.icon) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: selectedItem.icon,
    alt: "",
    className: _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].itemIcon
  }), (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.fontIcon) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(`icon-${selectedItem.fontIcon}`, _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].fontIcon),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].itemName, 'itemName')
  }, shouldTranslateOptions ? lang(selectedItem.name) : selectedItem.name), withMenu && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: buttonArrowIcon,
    "aria-hidden": true
  })), withMenu && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DropdownMenu__WEBPACK_IMPORTED_MODULE_4__["default"], {
    isOpen: isMenuOpen && !isLoading,
    menuPositionHorizontal: menuPositionHorizontal,
    menuPosition: menuPosition,
    items: items,
    shouldTranslateOptions: shouldTranslateOptions,
    selectedValue: selectedValue,
    onSelect: onChange,
    onClose: closeMenu
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Dropdown));

/***/ }),

/***/ "./src/components/ui/DropdownMenu.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/DropdownMenu.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _Menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Menu */ "./src/components/ui/Menu.tsx");
/* harmony import */ var _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Dropdown.module.scss */ "./src/components/ui/Dropdown.module.scss");





function DropdownMenu(_ref) {
  let {
    isOpen,
    selectedValue,
    items,
    withPortal,
    menuPosition,
    menuPositionHorizontal,
    menuStyle,
    transformOriginX,
    transformOriginY,
    shouldTranslateOptions,
    className,
    bubbleClassName,
    buttonClassName,
    shouldCleanup,
    onSelect,
    onClose
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleItemClick = (e, value) => {
    e.stopPropagation();
    onSelect === null || onSelect === void 0 ? void 0 : onSelect(value);
    onClose();
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Menu__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isOpen: isOpen,
    type: "dropdown",
    style: menuStyle,
    withPortal: withPortal,
    positionX: menuPositionHorizontal,
    positionY: menuPosition,
    transformOriginX: transformOriginX,
    transformOriginY: transformOriginY,
    className: className,
    bubbleClassName: bubbleClassName,
    shouldCleanup: shouldCleanup,
    onClose: onClose
  }, items.map((item, index) => {
    const fullButtonClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].item, item.icon && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].item_with_icon, item.isDisabled && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].disabled, item.isDangerous && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].dangerous, item.withSeparator && index > 0 && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].separator, selectedValue === item.value && _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].item_selected, buttonClassName, 'capture-scroll');
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
      key: item.value,
      type: "button",
      className: fullButtonClassName,
      disabled: item.isDisabled,
      onClick: e => handleItemClick(e, item.value)
    }, item.icon && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: item.icon,
      alt: "",
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])('icon', _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].itemIcon)
    }), item.fontIcon && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(`icon icon-${item.fontIcon}`, _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].fontIcon),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].itemName, 'menuItemName')
    }, shouldTranslateOptions ? lang(item.name) : item.name, item.description && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _Dropdown_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].itemDescription
    }, shouldTranslateOptions ? lang(item.description) : item.description)));
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(DropdownMenu));

/***/ }),

/***/ "./src/components/ui/Emoji.tsx":
/*!*************************************!*\
  !*** ./src/components/ui/Emoji.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useMediaTransition */ "./src/hooks/useMediaTransition.ts");
/* harmony import */ var _Emoji_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Emoji.module.scss */ "./src/components/ui/Emoji.module.scss");






const PATH_BY_EMOJI = {
  '🥷': '1f977',
  '🦄': '1f984',
  '⚠️': '26a0'
};
const loadedImages = new Set();
function Emoji(_ref) {
  let {
    from
  } = _ref;
  const key = from in PATH_BY_EMOJI ? PATH_BY_EMOJI[from] : from;
  const src = `./emoji/${key}.png`;
  const [isLoaded, markLoaded] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_2__["default"])(loadedImages.has(src));
  const transitionClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_4__["default"])(isLoaded);
  const handleLoad = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    markLoaded();
    loadedImages.add(src);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    src: src,
    alt: from,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Emoji_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].root, _Emoji_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"][`key-${key}`], transitionClassNames),
    onLoad: handleLoad
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Emoji));

/***/ }),

/***/ "./src/components/ui/IconWithTooltip.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/IconWithTooltip.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useUniqueId */ "./src/hooks/useUniqueId.ts");
/* harmony import */ var _Emoji__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Emoji */ "./src/components/ui/Emoji.tsx");
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Portal */ "./src/components/ui/Portal.ts");
/* harmony import */ var _IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./IconWithTooltip.module.scss */ "./src/components/ui/IconWithTooltip.module.scss");











const ARROW_WIDTH = 0.6875 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.REM;
const GAP = 2 * _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.REM;
const IconWithTooltip = _ref => {
  let {
    message,
    emoji,
    iconClassName,
    tooltipClassName
  } = _ref;
  const [isOpen, open, close] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const {
    transitionClassNames,
    shouldRender
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_6__["default"])(isOpen);

  // eslint-disable-next-line no-null/no-null
  const iconRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const tooltipRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const tooltipStyle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const arrowStyle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const randomTooltipKey = (0,_hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const handleClickOutside = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(event => {
    if (!event.target.closest(`[data-tooltip-key="${randomTooltipKey}"]`)) {
      close();
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isOpen) return undefined;
    document.addEventListener('touchstart', handleClickOutside);
    return () => {
      document.removeEventListener('touchstart', handleClickOutside);
    };
  }, [isOpen, close, handleClickOutside]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!iconRef.current || !tooltipRef.current) return;
    const {
      top,
      left,
      width
    } = iconRef.current.getBoundingClientRect();
    const {
      width: tooltipWidth,
      height: tooltipHeight
    } = tooltipRef.current.getBoundingClientRect();
    const tooltipCenter = (window.innerWidth - tooltipWidth) / 2;
    const arrowPosition = left - tooltipCenter + width / 2 - ARROW_WIDTH / 2;
    const horizontalOffset = arrowPosition < GAP ? GAP - arrowPosition : 0;
    const tooltipVerticalStyle = `top: ${top - tooltipHeight - ARROW_WIDTH}px;`;
    const tooltipHorizontalStyle = `left: ${tooltipCenter - horizontalOffset}px;`;
    const arrowHorizontalStyle = `left: ${arrowPosition + horizontalOffset}px;`;
    const arrowVerticalStyle = `top: ${tooltipHeight - ARROW_WIDTH / 2 - 1}px;`;
    tooltipStyle.current = `${tooltipVerticalStyle} ${tooltipHorizontalStyle}`;
    arrowStyle.current = `${arrowVerticalStyle} ${arrowHorizontalStyle}`;
  }, [shouldRender]);
  function renderIcon() {
    if (emoji) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        ref: iconRef,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].icon, iconClassName),
        onClick: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_TOUCH_ENV ? _util_stopEvent__WEBPACK_IMPORTED_MODULE_2__["default"] : undefined,
        onMouseEnter: open,
        onMouseLeave: close
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Emoji__WEBPACK_IMPORTED_MODULE_8__["default"], {
        from: emoji
      }));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      ref: iconRef,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].icon, 'icon-question', iconClassName),
      onClick: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_TOUCH_ENV ? _util_stopEvent__WEBPACK_IMPORTED_MODULE_2__["default"] : undefined,
      onMouseEnter: open,
      onMouseLeave: close
    });
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].wrapper,
    "data-tooltip-key": randomTooltipKey
  }, shouldRender && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Portal__WEBPACK_IMPORTED_MODULE_9__["default"], null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].container, transitionClassNames),
    onClick: _util_stopEvent__WEBPACK_IMPORTED_MODULE_2__["default"],
    style: tooltipStyle.current
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: tooltipRef,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].tooltip, tooltipClassName)
  }, message), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _IconWithTooltip_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].arrow,
    style: arrowStyle.current
  }))), renderIcon());
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(IconWithTooltip));

/***/ }),

/***/ "./src/components/ui/Image.tsx":
/*!*************************************!*\
  !*** ./src/components/ui/Image.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_preloadImage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/preloadImage */ "./src/util/preloadImage.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useIntersectionObserver */ "./src/hooks/useIntersectionObserver.ts");
/* harmony import */ var _hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useMediaTransition */ "./src/hooks/useMediaTransition.ts");






const INTERSECTION_THROTTLE = 200;
function ImageComponent(_ref) {
  let {
    url,
    alt,
    loading,
    className,
    imageClassName,
    onIntersect
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [isLoaded, markIsLoaded] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_3__["default"])(_util_preloadImage__WEBPACK_IMPORTED_MODULE_2__.preloadedImageUrls.has(url));
  const {
    observe
  } = (0,_hooks_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_4__.useIntersectionObserver)({
    rootRef: containerRef,
    throttleMs: INTERSECTION_THROTTLE,
    isDisabled: !onIntersect
  });
  (0,_hooks_useIntersectionObserver__WEBPACK_IMPORTED_MODULE_4__.useOnIntersect)(ref, observe, entry => {
    if (onIntersect && entry.isIntersecting) {
      onIntersect();
    }
  });
  const handleLoad = () => {
    markIsLoaded();
    _util_preloadImage__WEBPACK_IMPORTED_MODULE_2__.preloadedImageUrls.add(url);
  };
  const transitionClassNames = (0,_hooks_useMediaTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(isLoaded);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(transitionClassNames, className)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
    ref: ref,
    src: url,
    alt: alt,
    loading: loading,
    className: imageClassName,
    referrerPolicy: "same-origin",
    onLoad: !isLoaded ? handleLoad : undefined
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(ImageComponent));

/***/ }),

/***/ "./src/components/ui/InAppBrowser.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/InAppBrowser.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   getInAppBrowser: () => (/* binding */ getInAppBrowser)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_logs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/logs */ "./src/util/logs.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/url */ "./src/util/url.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _explore_hooks_useDappBridge__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../explore/hooks/useDappBridge */ "./src/components/explore/hooks/useDappBridge.ts");
/* harmony import */ var _InAppBrowser_module_scss__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./InAppBrowser.module.scss */ "./src/components/ui/InAppBrowser.module.scss");














let inAppBrowser;
let hideCompletionResolves;
function InAppBrowser(_ref) {
  let {
    title,
    subtitle,
    url,
    theme
  } = _ref;
  const {
    closeBrowser
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const {
    hasOpenClass,
    hasShownClass
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_11__["default"])(Boolean(url));
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const {
    inAppBrowserRef,
    bridgeInjectionCode,
    onMessage,
    disconnect
  } = (0,_explore_hooks_useDappBridge__WEBPACK_IMPORTED_MODULE_12__.useDappBridge)({
    endpoint: url
  });
  const handleError = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(err => {
    (0,_util_logs__WEBPACK_IMPORTED_MODULE_6__.logDebugError)('inAppBrowser error', err);
  });
  const handleHideCompletion = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    for (const resolve of hideCompletionResolves || []) {
      resolve();
    }
    hideCompletionResolves = undefined;
  });
  const handleBrowserClose = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(async () => {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATING_BOTTOM_SHEET) {
      await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.enable();
    }
    disconnect();
    inAppBrowser.removeEventListener('loaderror', handleError);
    inAppBrowser.removeEventListener('message', onMessage);
    inAppBrowser.removeEventListener('hidecompletion', handleHideCompletion);
    inAppBrowser = undefined;
    // eslint-disable-next-line no-null/no-null
    inAppBrowserRef.current = null;
    closeBrowser();
  });
  const openBrowser = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(async () => {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATING_BOTTOM_SHEET) {
      await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
    }
    const browserTitle = !title && url ? (0,_util_url__WEBPACK_IMPORTED_MODULE_7__.getHostnameFromUrl)(url) : title;
    const browserSubtitle = subtitle === browserTitle ? undefined : subtitle;
    const ADDITIONAL_INAPP_BROWSER_OPTIONS = `,${(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_5__.compact)([_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_IOS || browserTitle ? `title=${browserTitle || ''}` : undefined, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_IOS || browserSubtitle ? `subtitle=${browserSubtitle || ''}` : undefined, url ? `shareurl=${encodeURIComponent(url)}` : undefined, `theme=${theme}`, `closebuttoncaption=${_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_IOS ? lang('Close') : 'x'}`, `backbuttoncaption=${lang('Back')}`, `reloadcaption=${lang('Reload Page')}`, `openinbrowsercaption=${lang(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_IOS ? 'Open in Safari' : 'Open in Browser')}`, `copyurlcaption=${lang('CopyURL')}`, `sharecaption=${lang('Share')}`, `theme=${theme}`]).join(',')}`;
    inAppBrowser = cordova.InAppBrowser.open(url, '_blank', _util_capacitor__WEBPACK_IMPORTED_MODULE_4__.INAPP_BROWSER_OPTIONS + ADDITIONAL_INAPP_BROWSER_OPTIONS, bridgeInjectionCode);
    const originalHide = inAppBrowser.hide;
    inAppBrowser.hide = () => {
      return new Promise(resolve => {
        originalHide === null || originalHide === void 0 ? void 0 : originalHide();
        // On iOS, the animation takes some time. We have to ensure it's completed.
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_IOS_APP) {
          var _hideCompletionResolv;
          if (!hideCompletionResolves) hideCompletionResolves = [];
          (_hideCompletionResolv = hideCompletionResolves) === null || _hideCompletionResolv === void 0 ? void 0 : _hideCompletionResolv.push(resolve);
        } else {
          resolve();
        }
      });
    };
    inAppBrowserRef.current = inAppBrowser;
    inAppBrowser.addEventListener('loaderror', handleError);
    inAppBrowser.addEventListener('message', onMessage);
    inAppBrowser.addEventListener('exit', handleBrowserClose);
    inAppBrowser.addEventListener('hidecompletion', handleHideCompletion);
    inAppBrowser.show();
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!url) return;
    void openBrowser();
  }, [url, title, subtitle]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(hasShownClass && _InAppBrowser_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].browserShown, hasOpenClass && _InAppBrowser_module_scss__WEBPACK_IMPORTED_MODULE_13__["default"].browserOpen)
  });
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  const {
    currentBrowserOptions,
    settings
  } = global;
  return {
    url: currentBrowserOptions === null || currentBrowserOptions === void 0 ? void 0 : currentBrowserOptions.url,
    title: currentBrowserOptions === null || currentBrowserOptions === void 0 ? void 0 : currentBrowserOptions.title,
    subtitle: currentBrowserOptions === null || currentBrowserOptions === void 0 ? void 0 : currentBrowserOptions.subtitle,
    theme: settings.theme
  };
})(InAppBrowser)));
function getInAppBrowser() {
  return inAppBrowser;
}

/***/ }),

/***/ "./src/components/ui/InfiniteScroll.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/InfiniteScroll.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildStyle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildStyle */ "./src/util/buildStyle.ts");
/* harmony import */ var _util_resetScroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/resetScroll */ "./src/util/resetScroll.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useLayoutEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useLayoutEffectWithPrevDeps */ "./src/hooks/useLayoutEffectWithPrevDeps.ts");









const DEFAULT_LIST_SELECTOR = '.ListItem';
const DEFAULT_PRELOAD_BACKWARDS = 20;
const DEFAULT_SENSITIVE_AREA = 800;
const InfiniteScroll = _ref => {
  let {
    ref,
    style,
    className,
    items,
    itemSelector = DEFAULT_LIST_SELECTOR,
    preloadBackwards = DEFAULT_PRELOAD_BACKWARDS,
    sensitiveArea = DEFAULT_SENSITIVE_AREA,
    withAbsolutePositioning,
    maxHeight,
    // Used to turn off restoring scroll position (e.g. for frequently re-ordered chat or user lists)
    noScrollRestore = false,
    noScrollRestoreOnTop = false,
    noFastList,
    // Used to re-query `listItemElements` if rendering is delayed by transition
    cacheBuster,
    beforeChildren,
    scrollContainerClosest,
    children,
    onLoadMore,
    onScroll,
    onWheel,
    onClick,
    onKeyDown,
    onDragOver,
    onDragLeave
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  let containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  if (ref) {
    containerRef = ref;
  }
  const stateRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)({});
  const [loadMoreBackwards, loadMoreForwards] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!onLoadMore) {
      return [];
    }
    return [(0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.debounce)(() => {
      onLoadMore({
        direction: _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Backwards
      });
    }, 1000, true, false), (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.debounce)(() => {
      onLoadMore({
        direction: _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards
      });
    }, 1000, true, false)];
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, [onLoadMore, items]);

  // Initial preload
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!loadMoreBackwards) {
      return;
    }
    if (preloadBackwards > 0 && (!items || items.length < preloadBackwards)) {
      loadMoreBackwards();
      return;
    }
    const scrollContainer = scrollContainerClosest ? containerRef.current.closest(scrollContainerClosest) : containerRef.current;
    const {
      scrollHeight,
      clientHeight
    } = scrollContainer;
    if (clientHeight && scrollHeight <= clientHeight) {
      loadMoreBackwards();
    }
  }, [items, loadMoreBackwards, preloadBackwards, scrollContainerClosest]);

  // Restore `scrollTop` after adding items
  (0,_hooks_useLayoutEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_8__["default"])(_ref2 => {
    let [prevItems] = _ref2;
    const scrollContainer = scrollContainerClosest ? containerRef.current.closest(scrollContainerClosest) : containerRef.current;
    const state = stateRef.current;
    const listItemElements = scrollContainer.querySelectorAll(itemSelector);
    state.listItemElements = listItemElements;
    if (!(prevItems !== null && prevItems !== void 0 && prevItems.length)) return;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestForcedReflow)(() => {
      let newScrollTop;
      if (state.currentAnchor && Array.from(listItemElements).includes(state.currentAnchor)) {
        const {
          scrollTop
        } = scrollContainer;
        const newAnchorTop = state.currentAnchor.getBoundingClientRect().top;
        newScrollTop = scrollTop + (newAnchorTop - state.currentAnchorTop);
      } else {
        const nextAnchor = listItemElements[0];
        if (nextAnchor) {
          state.currentAnchor = nextAnchor;
          state.currentAnchorTop = nextAnchor.getBoundingClientRect().top;
        }
      }
      if (withAbsolutePositioning || noScrollRestore) {
        return undefined;
      }
      const {
        scrollTop
      } = scrollContainer;
      if (noScrollRestoreOnTop && scrollTop === 0) {
        return undefined;
      }
      return () => {
        (0,_util_resetScroll__WEBPACK_IMPORTED_MODULE_4__["default"])(scrollContainer, newScrollTop);
        state.isScrollTopJustUpdated = true;
      };
    });
  }, [items, itemSelector, noScrollRestore, noScrollRestoreOnTop, cacheBuster, withAbsolutePositioning, scrollContainerClosest]);
  const handleScroll = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(e => {
    if (loadMoreForwards && loadMoreBackwards) {
      const {
        isScrollTopJustUpdated,
        currentAnchor,
        currentAnchorTop
      } = stateRef.current;
      const listItemElements = stateRef.current.listItemElements;
      if (isScrollTopJustUpdated) {
        stateRef.current.isScrollTopJustUpdated = false;
        return;
      }
      const listLength = listItemElements.length;
      const scrollContainer = scrollContainerClosest ? containerRef.current.closest(scrollContainerClosest) : containerRef.current;
      const {
        scrollTop,
        scrollHeight,
        offsetHeight
      } = scrollContainer;
      const top = listLength ? listItemElements[0].offsetTop : 0;
      const isNearTop = scrollTop <= top + sensitiveArea;
      const bottom = listLength ? listItemElements[listLength - 1].offsetTop + listItemElements[listLength - 1].offsetHeight : scrollHeight;
      const isNearBottom = bottom - (scrollTop + offsetHeight) <= sensitiveArea;
      let isUpdated = false;
      if (isNearTop) {
        const nextAnchor = listItemElements[0];
        if (nextAnchor) {
          const nextAnchorTop = nextAnchor.getBoundingClientRect().top;
          const newAnchorTop = currentAnchor !== null && currentAnchor !== void 0 && currentAnchor.offsetParent && currentAnchor !== nextAnchor ? currentAnchor.getBoundingClientRect().top : nextAnchorTop;
          const isMovingUp = currentAnchor && currentAnchorTop !== undefined && newAnchorTop > currentAnchorTop;
          if (isMovingUp) {
            stateRef.current.currentAnchor = nextAnchor;
            stateRef.current.currentAnchorTop = nextAnchorTop;
            isUpdated = true;
            loadMoreForwards();
          }
        }
      }
      if (isNearBottom) {
        const nextAnchor = listItemElements[listLength - 1];
        if (nextAnchor) {
          const nextAnchorTop = nextAnchor.getBoundingClientRect().top;
          const newAnchorTop = currentAnchor !== null && currentAnchor !== void 0 && currentAnchor.offsetParent && currentAnchor !== nextAnchor ? currentAnchor.getBoundingClientRect().top : nextAnchorTop;
          const isMovingDown = currentAnchor && currentAnchorTop !== undefined && newAnchorTop < currentAnchorTop;
          if (isMovingDown) {
            stateRef.current.currentAnchor = nextAnchor;
            stateRef.current.currentAnchorTop = nextAnchorTop;
            isUpdated = true;
            loadMoreBackwards();
          }
        }
      }
      if (!isUpdated) {
        if (currentAnchor !== null && currentAnchor !== void 0 && currentAnchor.offsetParent) {
          stateRef.current.currentAnchorTop = currentAnchor.getBoundingClientRect().top;
        } else {
          const nextAnchor = listItemElements[0];
          if (nextAnchor) {
            stateRef.current.currentAnchor = nextAnchor;
            stateRef.current.currentAnchorTop = nextAnchor.getBoundingClientRect().top;
          }
        }
      }
    }
    if (onScroll) {
      onScroll(e);
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!scrollContainerClosest) return undefined;
    const closestScrollContainer = containerRef.current.closest(scrollContainerClosest);
    if (!closestScrollContainer) return undefined;
    const handleNativeScroll = e => handleScroll(e);
    closestScrollContainer.addEventListener('scroll', handleNativeScroll);
    return () => {
      closestScrollContainer.removeEventListener('scroll', handleNativeScroll);
    };
  }, [handleScroll, scrollContainerClosest]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: containerRef,
    className: className,
    onScroll: handleScroll,
    onWheel: onWheel,
    teactFastList: !noFastList && !withAbsolutePositioning,
    onKeyDown: onKeyDown,
    onDragOver: onDragOver,
    onDragLeave: onDragLeave,
    onClick: onClick,
    style: style
  }, beforeChildren, withAbsolutePositioning && items !== null && items !== void 0 && items.length ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    teactFastList: !noFastList,
    style: (0,_util_buildStyle__WEBPACK_IMPORTED_MODULE_3__["default"])('position: relative', _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ANDROID && `height: ${maxHeight}px`)
  }, children) : children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InfiniteScroll);

/***/ }),

/***/ "./src/components/ui/Input.tsx":
/*!*************************************!*\
  !*** ./src/components/ui/Input.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Input.module.scss */ "./src/components/ui/Input.module.scss");





function Input(_ref) {
  let {
    ref,
    id,
    label,
    placeholder,
    inputMode,
    isRequired,
    isControlled,
    isMultiline,
    hasError,
    type = 'text',
    error,
    value = '',
    maxLength,
    inputArg,
    className,
    wrapperClassName,
    autoComplete,
    children,
    onInput,
    onKeyDown,
    onFocus,
    onBlur
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_3__["default"])();
  const [isPasswordVisible, setIsPasswordVisible] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const handleInput = e => {
    onInput(e.currentTarget.value, inputArg);
  };
  const handleTogglePasswordVisibility = () => {
    setIsPasswordVisible(!isPasswordVisible);
  };
  const handleChange = e => {
    const {
      currentTarget
    } = e;
    const {
      scrollHeight
    } = currentTarget;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMutation)(() => {
      currentTarget.style.height = '0';
      currentTarget.style.height = `${scrollHeight}px`;
    });
  };
  const finalType = type === 'text' || isPasswordVisible ? 'text' : 'password';
  const inputFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].input, className, type === 'password' && _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].input_password, (hasError || error) && _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].error);
  const labelFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label, (hasError || error) && _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].error, (hasError || error) && type === 'password' && _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label_forPassword);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].wrapper, wrapperClassName)
  }, error && !!label && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label, _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label_error, _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].error),
    htmlFor: id
  }, error), !!label && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: labelFullClass,
    htmlFor: id
  }, label), isMultiline ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("textarea", {
    ref: ref,
    id: id,
    className: inputFullClass,
    value: value,
    maxLength: maxLength,
    autoComplete: autoComplete,
    onInput: handleInput,
    onChange: handleChange,
    onKeyDown: onKeyDown,
    onFocus: onFocus,
    onBlur: onBlur,
    tabIndex: 0,
    required: isRequired,
    placeholder: placeholder,
    teactExperimentControlled: isControlled
  }) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
    ref: ref,
    id: id,
    className: inputFullClass,
    type: finalType,
    value: value,
    inputMode: inputMode,
    maxLength: maxLength,
    autoComplete: autoComplete,
    onInput: handleInput,
    onKeyDown: onKeyDown,
    onFocus: onFocus,
    onBlur: onBlur,
    tabIndex: 0,
    required: isRequired,
    placeholder: placeholder,
    teactExperimentControlled: isControlled
  }), type === 'password' && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].visibilityToggle, label && _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].visibilityToggle_push),
    type: "button",
    onClick: handleTogglePasswordVisibility,
    "aria-label": lang('Change password visibility'),
    tabIndex: -1
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: isPasswordVisible ? 'icon-eye' : 'icon-eye-closed',
    "aria-hidden": true
  })), error && !label && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label, _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].label_errorBottom, _Input_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].error),
    htmlFor: id
  }, error), children);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Input));

/***/ }),

/***/ "./src/components/ui/InteractiveTextField.tsx":
/*!****************************************************!*\
  !*** ./src/components/ui/InteractiveTextField.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_clipboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/clipboard */ "./src/util/clipboard.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _util_url__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/url */ "./src/util/url.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useFocusAfterAnimation */ "./src/hooks/useFocusAfterAnimation.tsx");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _main_modals_DeleteSavedAddressModal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../main/modals/DeleteSavedAddressModal */ "./src/components/main/modals/DeleteSavedAddressModal.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _Modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _Transition__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./InteractiveTextField.module.scss */ "./src/components/ui/InteractiveTextField.module.scss");
/* harmony import */ var _Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _assets_scam_svg__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../assets/scam.svg */ "./src/assets/scam.svg");






















const SAVED_ADDRESS_NAME_MAX_LENGTH = 255;
function InteractiveTextField(_ref) {
  let {
    address,
    addressName,
    isScam,
    text,
    spoiler,
    spoilerRevealText,
    spoilerCallback,
    copyNotification,
    noSavedAddress,
    noExplorer,
    className,
    textClassName,
    isAddressAlreadySaved,
    isTestnet
  } = _ref;
  const {
    showNotification,
    addSavedAddress
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();

  // eslint-disable-next-line no-null/no-null
  const addressNameRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_12__["default"])();
  const [isSaveAddressModalOpen, openSaveAddressModal, closeSaveAddressModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const [isDeleteSavedAddressModalOpen, openDeletedSavedAddressModal, closeDeleteSavedAddressModal] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_10__["default"])();
  const [savedAddressName, setSavedAddressName] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(addressName);
  const [isConcealedWithSpoiler,, revealSpoiler] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_10__["default"])(Boolean(spoiler));
  const addressUrl = (0,_util_url__WEBPACK_IMPORTED_MODULE_9__.getTonExplorerAddressUrl)(address, isTestnet);
  const tonExplorerTitle = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return lang('View Address on %ton_explorer_name%', {
      ton_explorer_name: _config__WEBPACK_IMPORTED_MODULE_2__.TON_EXPLORER_NAME
    }).join('');
  }, [lang]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isSaveAddressModalOpen) {
      setSavedAddressName('');
    }
  }, [isSaveAddressModalOpen]);
  const handleSaveAddressSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    if (!savedAddressName || !address) {
      return;
    }
    addSavedAddress({
      address,
      name: savedAddressName
    });
    showNotification({
      message: lang('Address was saved!'),
      icon: 'icon-star'
    });
    closeSaveAddressModal();
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isSaveAddressModalOpen ? (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__["default"])({
    onEnter: handleSaveAddressSubmit
  }) : undefined, [handleSaveAddressSubmit, isSaveAddressModalOpen]);
  (0,_hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_11__["default"])(addressNameRef, !isSaveAddressModalOpen);
  const handleCopy = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    if (!copyNotification) return;
    showNotification({
      message: copyNotification,
      icon: 'icon-copy'
    });
    void (0,_util_clipboard__WEBPACK_IMPORTED_MODULE_6__.copyTextToClipboard)(address || text || '');
  });
  const handleRevealSpoiler = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    revealSpoiler();
    spoilerCallback === null || spoilerCallback === void 0 ? void 0 : spoilerCallback();
  });
  function renderContentOrSpoiler() {
    const content = addressName || address || text;
    if (!spoiler) {
      return renderContent(content);
    }
    const isConcealed = isConcealedWithSpoiler || !content;
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Transition__WEBPACK_IMPORTED_MODULE_18__["default"], {
      activeKey: isConcealed ? 1 : 0,
      name: "fade",
      className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].commentContainer
    }, isConcealed ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].button, _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].button_spoiler, textClassName)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", null, spoiler), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      onClick: handleRevealSpoiler,
      tabIndex: 0,
      role: "button",
      className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].revealSpoiler
    }, spoilerRevealText)) : renderContent(content));
  }
  function renderContent(content) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].button, isScam && _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].scam, textClassName),
      title: lang('Copy'),
      onClick: handleCopy,
      tabIndex: 0,
      role: "button"
    }, isScam && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: _assets_scam_svg__WEBPACK_IMPORTED_MODULE_21__,
      alt: lang('Scam'),
      className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].scamImage
    }), content, Boolean(addressName) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].shortAddress, isScam && _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].scam)
    }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_8__.shortenAddress)(address)), Boolean(copyNotification) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].icon, 'icon-copy'),
      "aria-hidden": true
    }));
  }
  function renderSaveAddressModal() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Modal__WEBPACK_IMPORTED_MODULE_17__["default"], {
      title: lang('Save Address'),
      isCompact: true,
      isOpen: isSaveAddressModalOpen,
      onClose: closeSaveAddressModal
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("p", null, lang('You can save this address for quick access while sending.')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Input__WEBPACK_IMPORTED_MODULE_16__["default"], {
      ref: addressNameRef,
      placeholder: lang('Name'),
      onInput: setSavedAddressName,
      value: savedAddressName,
      maxLength: SAVED_ADDRESS_NAME_MAX_LENGTH,
      className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].nameInput
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      onClick: closeSaveAddressModal,
      className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
    }, lang('Cancel')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      onClick: handleSaveAddressSubmit,
      isPrimary: true,
      isDisabled: !savedAddressName,
      className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].button
    }, lang('Save'))));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].wrapper, className)
  }, renderContentOrSpoiler(), !isScam && !noSavedAddress && address && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].button,
    title: lang(isAddressAlreadySaved ? 'Remove From Saved Addresses' : 'Add To Saved Addresses'),
    onClick: isAddressAlreadySaved ? openDeletedSavedAddressModal : openSaveAddressModal,
    tabIndex: 0,
    role: "button"
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].icon, _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].iconStar, isAddressAlreadySaved ? 'icon-star-filled' : 'icon-star'),
    "aria-hidden": true
  })), !noExplorer && address && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
    href: addressUrl,
    className: _InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].button,
    title: tonExplorerTitle,
    target: "_blank",
    rel: "noreferrer noopener",
    onClick: _util_openUrl__WEBPACK_IMPORTED_MODULE_7__.handleOpenUrl
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_InteractiveTextField_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].icon, 'icon-tonexplorer-small'),
    "aria-hidden": true
  }))), address && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, renderSaveAddressModal(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_main_modals_DeleteSavedAddressModal__WEBPACK_IMPORTED_MODULE_14__["default"], {
    isOpen: isDeleteSavedAddressModalOpen,
    address: address,
    onClose: closeDeleteSavedAddressModal
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)((global, _ref2) => {
  var _accountState$savedAd;
  let {
    address
  } = _ref2;
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccountState)(global);
  const isAddressAlreadySaved = Boolean(address && (accountState === null || accountState === void 0 || (_accountState$savedAd = accountState.savedAddresses) === null || _accountState$savedAd === void 0 ? void 0 : _accountState$savedAd[address]));
  return {
    isAddressAlreadySaved,
    isTestnet: global.settings.isTestnet
  };
})(InteractiveTextField)));

/***/ }),

/***/ "./src/components/ui/Loading.tsx":
/*!***************************************!*\
  !*** ./src/components/ui/Loading.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Loading.module.scss */ "./src/components/ui/Loading.module.scss");




function Loading(_ref) {
  let {
    color = 'blue',
    backgroundColor,
    className
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].spinner, _Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"][color], className, backgroundColor && _Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].withBackground, backgroundColor && _Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"][backgroundColor]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: fullClassName,
    "aria-label": lang('Loading...')
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Loading_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].inner
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Loading));

/***/ }),

/***/ "./src/components/ui/LoadingDots.tsx":
/*!*******************************************!*\
  !*** ./src/components/ui/LoadingDots.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./LoadingDots.module.scss */ "./src/components/ui/LoadingDots.module.scss");




function LoadingDots(_ref) {
  let {
    isActive,
    className,
    isDoubled
  } = _ref;
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_2__["default"])(isActive);
  if (!shouldRender) {
    // eslint-disable-next-line no-null/no-null
    return null;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].root, isDoubled && _LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].doubled, className, transitionClassNames)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].dot
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].dot
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _LoadingDots_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].dot
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(LoadingDots));

/***/ }),

/***/ "./src/components/ui/LoadingOverlay.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/LoadingOverlay.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _Loading__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Loading */ "./src/components/ui/Loading.tsx");
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Portal */ "./src/components/ui/Portal.ts");
/* harmony import */ var _LoadingOverlay_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./LoadingOverlay.module.scss */ "./src/components/ui/LoadingOverlay.module.scss");








function LoadingOverlay(_ref) {
  let {
    isOpen
  } = _ref;
  const {
    closeLoadingOverlay
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_4__["default"])(isOpen);
  if (!shouldRender) return undefined;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Portal__WEBPACK_IMPORTED_MODULE_6__["default"], null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_LoadingOverlay_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].root, transitionClassNames),
    onClick: () => closeLoadingOverlay()
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Loading__WEBPACK_IMPORTED_MODULE_5__["default"], {
    color: "white"
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  var _global$dappConnectRe;
  const isDpppModalOpen = ((_global$dappConnectRe = global.dappConnectRequest) === null || _global$dappConnectRe === void 0 ? void 0 : _global$dappConnectRe.state) !== undefined || global.currentDappTransfer.state !== _global_types__WEBPACK_IMPORTED_MODULE_2__.TransferState.None;
  return {
    isOpen: global.isLoadingOverlayOpen && !isDpppModalOpen
  };
})(LoadingOverlay)));

/***/ }),

/***/ "./src/components/ui/Menu.tsx":
/*!************************************!*\
  !*** ./src/components/ui/Menu.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _hooks_useVirtualBackdrop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useVirtualBackdrop */ "./src/hooks/useVirtualBackdrop.ts");
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Portal */ "./src/components/ui/Portal.ts");
/* harmony import */ var _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Menu.module.scss */ "./src/components/ui/Menu.module.scss");











const ANIMATION_DURATION = 200;
const Menu = _ref => {
  let {
    children,
    isOpen,
    id,
    className,
    bubbleClassName,
    style,
    positionX = 'left',
    positionY = 'top',
    transformOriginX,
    transformOriginY,
    type = 'menu',
    autoClose = false,
    shouldSkipTransition,
    noBackdrop = false,
    withPortal,
    noCloseOnBackdrop = false,
    shouldCleanup,
    onCloseAnimationEnd,
    onClose,
    onMouseEnter,
    onMouseLeave
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const menuRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_6__["default"])({
    isActive: Boolean(isOpen && onClose),
    onBack: onClose,
    shouldBeReplaced: true
  });
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_7__["default"])(isOpen, onCloseAnimationEnd, shouldSkipTransition, undefined, shouldSkipTransition);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isOpen && onClose ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_2__["default"])(onClose) : undefined, [isOpen, onClose]);
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_4__["default"])(_ref2 => {
    let [prevIsOpen] = _ref2;
    if (isOpen || !isOpen && prevIsOpen === true) {
      (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_5__.dispatchHeavyAnimationEvent)(ANIMATION_DURATION);
    }
  }, [isOpen]);
  (0,_hooks_useVirtualBackdrop__WEBPACK_IMPORTED_MODULE_8__["default"])(isOpen && !noBackdrop, menuRef, noCloseOnBackdrop ? undefined : onClose);
  const fullBubbleClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].bubble, bubbleClassName, 'menu-bubble', _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"][positionY], _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"][positionX], _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"][type], transitionClassNames);
  const transformOriginYStyle = transformOriginY !== undefined ? `${transformOriginY}px` : undefined;
  const transformOriginXStyle = transformOriginX !== undefined ? `${transformOriginX}px` : undefined;
  if (shouldCleanup && !shouldRender) {
    return undefined;
  }
  const menu = /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    id: id,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].wrapper, className, withPortal && _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].inPortal),
    style: style,
    onMouseEnter: onMouseEnter,
    onMouseLeave: isOpen ? onMouseLeave : undefined
  }, isOpen && !noBackdrop &&
  /*#__PURE__*/
  // This only prevents click events triggering on underlying elements
  _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Menu_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].backdrop,
    onClick: _util_stopEvent__WEBPACK_IMPORTED_MODULE_3__["default"]
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: menuRef,
    className: fullBubbleClassName,
    style: `transform-origin: ${transformOriginXStyle || positionX} ${transformOriginYStyle || positionY}`,
    onClick: autoClose ? onClose : undefined
  }, children));
  if (withPortal) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Portal__WEBPACK_IMPORTED_MODULE_9__["default"], null, menu);
  }
  return menu;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Menu);

/***/ }),

/***/ "./src/components/ui/MenuItem.tsx":
/*!****************************************!*\
  !*** ./src/components/ui/MenuItem.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _MenuItem_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MenuItem.module.scss */ "./src/components/ui/MenuItem.module.scss");




const MenuItem = props => {
  const {
    className,
    href,
    children,
    onClick,
    clickArg,
    isDestructive,
    isSeparator
  } = props;
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(e => {
    if (!onClick) {
      e.stopPropagation();
      e.preventDefault();
      return;
    }
    onClick(e, clickArg);
  });
  const handleKeyDown = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(e => {
    if (e.code !== 'Enter' && e.code !== 'Space') {
      return;
    }
    if (!onClick) {
      e.stopPropagation();
      e.preventDefault();
      return;
    }
    onClick(e);
  });
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_MenuItem_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].menuItem, className, isDestructive && _MenuItem_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].destructive, isSeparator && _MenuItem_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].menuItem_separator);
  if (href) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("a", {
      href: href,
      target: "_blank",
      rel: "noopener noreferrer",
      className: fullClassName
    }, children);
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    role: "button",
    tabIndex: 0,
    className: fullClassName,
    onClick: handleClick,
    onKeyDown: handleKeyDown
  }, children);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MenuItem);

/***/ }),

/***/ "./src/components/ui/Modal.tsx":
/*!*************************************!*\
  !*** ./src/components/ui/Modal.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CLOSE_DURATION: () => (/* binding */ CLOSE_DURATION),
/* harmony export */   CLOSE_DURATION_PORTRAIT: () => (/* binding */ CLOSE_DURATION_PORTRAIT),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEvents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/captureEvents */ "./src/util/captureEvents.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_modalSwipeManager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/modalSwipeManager */ "./src/util/modalSwipeManager.ts");
/* harmony import */ var _util_trapFocus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/trapFocus */ "./src/util/trapFocus.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _util_windowSize__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/windowSize */ "./src/util/windowSize.ts");
/* harmony import */ var _hooks_freezeWhenClosed__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/freezeWhenClosed */ "./src/hooks/freezeWhenClosed.ts");
/* harmony import */ var _hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useDelegatedBottomSheet */ "./src/hooks/useDelegatedBottomSheet.ts");
/* harmony import */ var _hooks_useDelegatingBottomSheet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useDelegatingBottomSheet */ "./src/hooks/useDelegatingBottomSheet.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_useHideBrowser__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../hooks/useHideBrowser */ "./src/hooks/useHideBrowser.ts");
/* harmony import */ var _hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../hooks/useHistoryBack */ "./src/hooks/useHistoryBack.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _InAppBrowser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./InAppBrowser */ "./src/components/ui/InAppBrowser.tsx");
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Portal */ "./src/components/ui/Portal.ts");
/* harmony import */ var _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Modal.module.scss */ "./src/components/ui/Modal.module.scss");























const CLOSE_DURATION = 350;
const CLOSE_DURATION_PORTRAIT = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_ANDROID ? 200 : 500;
const SCROLL_CONTENT_CHECK_THRESHOLD_MS = 500;
function Modal(_ref) {
  let {
    dialogRef,
    title,
    className,
    dialogClassName,
    contentClassName,
    isOpen,
    isCompact,
    nativeBottomSheetKey,
    forceFullNative,
    forceBottomSheet,
    noResetFullNativeOnBlur,
    noBackdrop,
    noBackdropClose,
    header,
    hasCloseButton,
    children,
    onClose,
    onCloseAnimationEnd,
    onEnter
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_17__["default"])();
  // eslint-disable-next-line no-null/no-null
  const modalRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);

  // eslint-disable-next-line no-null/no-null
  const localDialogRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const swipeDownDateRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);
  dialogRef || (dialogRef = localDialogRef);
  const {
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_13__.useDeviceScreen)();
  onCloseAnimationEnd = (0,_hooks_useHideBrowser__WEBPACK_IMPORTED_MODULE_15__["default"])(isOpen, isCompact, onCloseAnimationEnd);
  const animationDuration = isPortrait ? CLOSE_DURATION_PORTRAIT : CLOSE_DURATION;
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_18__["default"])(isOpen, onCloseAnimationEnd, undefined, false, undefined, animationDuration + _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_END_DELAY);
  const isSlideUp = !isCompact && isPortrait;
  (0,_hooks_useHistoryBack__WEBPACK_IMPORTED_MODULE_16__["default"])({
    isActive: isOpen,
    onBack: onClose
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET || !isCompact) return;

    // Expand NBS to full size for a compact modal inside NBS
    native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.toggleSelfFullSize({
      isFullSize: !!isOpen
    });
  }, [isCompact, isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => isOpen ? (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_5__["default"])({
    onEnter,
    onEsc: e => {
      if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION) {
        e.preventDefault();
      }
      onClose();
    }
  }) : undefined, [isOpen, onClose, onEnter]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => isOpen && modalRef.current ? (0,_util_trapFocus__WEBPACK_IMPORTED_MODULE_7__["default"])(modalRef.current) : undefined, [isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => isOpen ? (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_14__.dispatchHeavyAnimationEvent)(animationDuration + _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_END_DELAY) : undefined, [animationDuration, isOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_TOUCH_ENV || !isOpen || !isPortrait || !isSlideUp || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET) {
      return undefined;
    }
    return (0,_util_captureEvents__WEBPACK_IMPORTED_MODULE_4__.captureEvents)(modalRef.current, {
      excludedClosestSelector: '.capture-scroll',
      onSwipe: (e, direction) => {
        if (direction === _util_captureEvents__WEBPACK_IMPORTED_MODULE_4__.SwipeDirection.Down && getCanCloseModal(swipeDownDateRef, e.target)) {
          onClose();
          return true;
        }
        return false;
      }
    });
  }, [isOpen, isPortrait, isSlideUp, onClose]);

  // Make sure to hide browser before presenting modals
  const [isBrowserHidden, setIsBrowserHidden] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!isOpen) {
      setIsBrowserHidden(false); // Reset to re-hide it next time
      return;
    }
    const browser = (0,_InAppBrowser__WEBPACK_IMPORTED_MODULE_20__.getInAppBrowser)();
    browser === null || browser === void 0 ? void 0 : browser.hide().then(() => {
      setIsBrowserHidden(true);
    });
  }, [isOpen]);
  const isDelegatingToNative = (0,_hooks_useDelegatingBottomSheet__WEBPACK_IMPORTED_MODULE_12__.useDelegatingBottomSheet)(nativeBottomSheetKey, isPortrait, isOpen && (!(0,_InAppBrowser__WEBPACK_IMPORTED_MODULE_20__.getInAppBrowser)() || isBrowserHidden), onClose);
  (0,_hooks_useDelegatedBottomSheet__WEBPACK_IMPORTED_MODULE_11__.useDelegatedBottomSheet)(nativeBottomSheetKey, isOpen && (!(0,_InAppBrowser__WEBPACK_IMPORTED_MODULE_20__.getInAppBrowser)() || isBrowserHidden), onClose, dialogRef, forceFullNative, noResetFullNativeOnBlur);
  if (!shouldRender) {
    return undefined;
  }
  function renderHeader() {
    if (header) {
      return header;
    }
    if (!title) {
      return undefined;
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].header, _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].header_wideContent, !hasCloseButton && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].header_noClose)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].title, _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].singleTitle)
    }, title), hasCloseButton && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_19__["default"], {
      isRound: true,
      className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].closeButton,
      ariaLabel: lang('Close'),
      onClick: onClose
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].closeIcon, 'icon-close'),
      "aria-hidden": true
    })));
  }
  const fullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].modal, className, transitionClassNames, isSlideUp && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].slideUpAnimation, isCompact && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].compact, isCompact && 'is-compact-modal', forceBottomSheet && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].forceBottomSheet, isDelegatingToNative && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].delegatingToNative);
  const backdropFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].backdrop, noBackdrop && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].noBackdrop);
  const contentFullClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].content, isCompact && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].contentCompact, 'custom-scroll', contentClassName);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_Portal__WEBPACK_IMPORTED_MODULE_21__["default"], null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    ref: modalRef,
    className: fullClassName,
    tabIndex: -1,
    role: "dialog"
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].container
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: backdropFullClass,
    onClick: !noBackdropClose ? onClose : undefined
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_22__["default"].dialog, dialogClassName),
    ref: dialogRef
  }, renderHeader(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: contentFullClassName
  }, children)))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_hooks_freezeWhenClosed__WEBPACK_IMPORTED_MODULE_10__["default"])(Modal));
function getCanCloseModal(lastScrollRef, el) {
  if (_util_windowSize__WEBPACK_IMPORTED_MODULE_9__["default"].getIsKeyboardVisible() || (0,_util_modalSwipeManager__WEBPACK_IMPORTED_MODULE_6__.getIsSwipeToCloseDisabled)()) {
    return false;
  }
  const now = Date.now();
  if (lastScrollRef.current && now - lastScrollRef.current < SCROLL_CONTENT_CHECK_THRESHOLD_MS) {
    return false;
  }
  lastScrollRef.current = now;
  const scrollEl = el === null || el === void 0 ? void 0 : el.closest('.custom-scroll');
  return !scrollEl || scrollEl.scrollTop === 0;
}

/***/ }),

/***/ "./src/components/ui/ModalHeader.tsx":
/*!*******************************************!*\
  !*** ./src/components/ui/ModalHeader.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Modal.module.scss */ "./src/components/ui/Modal.module.scss");





function ModalHeader(_ref) {
  let {
    title,
    className,
    withNotch,
    closeClassName,
    onClose,
    onBackButtonClick
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].header, 'with-notch-on-scroll', withNotch && 'is-scrolled', !onBackButtonClick && _Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].header_wideContent, className)
  }, onBackButtonClick && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isSimple: true,
    isText: true,
    onClick: onBackButtonClick,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].header_back
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].header_backIcon, 'icon-chevron-left'),
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", null, lang('Back'))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].title, _Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].singleTitle)
  }, title), onClose && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_3__["default"], {
    isRound: true,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].closeButton, closeClassName),
    ariaLabel: lang('Close'),
    onClick: onClose
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_4__["default"].closeIcon, 'icon-close'),
    "aria-hidden": true
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(ModalHeader));

/***/ }),

/***/ "./src/components/ui/Notification.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/Notification.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/captureEscKeyListener */ "./src/util/captureEscKeyListener.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _Portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Portal */ "./src/components/ui/Portal.ts");
/* harmony import */ var _Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Notification.module.scss */ "./src/components/ui/Notification.module.scss");








const DURATION_MS = 5000;
const ANIMATION_DURATION = 250;
const Notification = _ref => {
  let {
    icon,
    message,
    containerId,
    onDismiss
  } = _ref;
  const [isOpen, setIsOpen] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  // eslint-disable-next-line no-null/no-null
  const timerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const {
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(isOpen);
  const closeAndDismiss = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    setIsOpen(false);
    setTimeout(onDismiss, ANIMATION_DURATION);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => isOpen ? (0,_util_captureEscKeyListener__WEBPACK_IMPORTED_MODULE_2__["default"])(closeAndDismiss) : undefined, [isOpen, closeAndDismiss]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    timerRef.current = window.setTimeout(closeAndDismiss, DURATION_MS);
    return () => {
      if (timerRef.current) {
        clearTimeout(timerRef.current);
        timerRef.current = undefined;
      }
    };
  }, [closeAndDismiss]);
  const handleMouseEnter = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (timerRef.current) {
      clearTimeout(timerRef.current);
      timerRef.current = undefined;
    }
  });
  const handleMouseLeave = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    timerRef.current = window.setTimeout(closeAndDismiss, DURATION_MS);
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Portal__WEBPACK_IMPORTED_MODULE_6__["default"], {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].container, _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_ELECTRON && _Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].container_electron),
    containerId: containerId
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].notification, transitionClassNames),
    onClick: closeAndDismiss,
    onMouseEnter: handleMouseEnter,
    onMouseLeave: handleMouseLeave
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].content
  }, icon && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Notification_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].icon, icon),
    "aria-hidden": true
  }), message)));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Notification);

/***/ }),

/***/ "./src/components/ui/PasswordForm.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/PasswordForm.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_authApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/authApi */ "./src/util/authApi/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./helpers/animatedAssets */ "./src/components/ui/helpers/animatedAssets.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/useFocusAfterAnimation */ "./src/hooks/useFocusAfterAnimation.tsx");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./AnimatedIconWithPreview */ "./src/components/ui/AnimatedIconWithPreview.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _Input__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Input */ "./src/components/ui/Input.tsx");
/* harmony import */ var _PinPad__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./PinPad */ "./src/components/ui/PinPad.tsx");
/* harmony import */ var _Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./PasswordForm.module.scss */ "./src/components/ui/PasswordForm.module.scss");




















const STICKER_SIZE = 180;
const APPEAR_ANIMATION_DURATION_MS = 300;
function PasswordForm(_ref) {
  let {
    isActive,
    isLoading,
    operationType,
    isPasswordNumeric,
    isBiometricAuthEnabled,
    isNativeBiometricAuthEnabled,
    authConfig,
    cancelLabel,
    submitLabel,
    stickerSize = STICKER_SIZE,
    placeholder = 'Enter your password',
    error,
    help,
    containerClassName,
    children,
    withCloseButton,
    onUpdate,
    onCancel,
    onSubmit
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_12__["default"])();

  // eslint-disable-next-line no-null/no-null
  const passwordRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [password, setPassword] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [localError, setLocalError] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const {
    isSmallHeight,
    isPortrait
  } = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_10__.useDeviceScreen)();
  const isSubmitDisabled = !password.length;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isActive) {
      setLocalError('');
      setPassword('');
    }
  }, [isActive]);
  const handleBiometrics = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(async () => {
    try {
      const biometricPassword = await _util_authApi__WEBPACK_IMPORTED_MODULE_3__["default"].getPassword(authConfig);
      if (!biometricPassword) {
        setLocalError(operationType === 'transfer' ? 'Declined. Please try to confirm transaction using biometrics again.' : 'Declined. Please try to confirm operation using biometrics again.');
      } else {
        onSubmit(biometricPassword);
      }
    } catch (err) {
      setLocalError(err.message || lang('Something went wrong.'));
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATING_BOTTOM_SHEET || !isActive || !isBiometricAuthEnabled) {
      return;
    }
    (async () => {
      await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_7__.pause)(APPEAR_ANIMATION_DURATION_MS);
      void handleBiometrics();
    })();
  }, [handleBiometrics, isActive, isBiometricAuthEnabled]);
  (0,_hooks_useFocusAfterAnimation__WEBPACK_IMPORTED_MODULE_11__["default"])(passwordRef, !isActive || isBiometricAuthEnabled);
  const handleClearError = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    setLocalError('');
    onUpdate();
  });
  const handleInput = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(value => {
    setPassword(value);
    if (error) {
      onUpdate();
    }
  });
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    onSubmit(password);
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return isSubmitDisabled ? undefined : (0,_util_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_6__["default"])({
      onEnter: handleSubmit
    });
  }, [handleSubmit, isSubmitDisabled]);
  function getPinPadTitle() {
    switch (operationType) {
      case 'unfreeze':
        return 'Confirm Unfreezing';
      case 'passcode':
        return 'Confirm Passcode';
      case 'transfer':
      case 'sending':
        return 'Confirm Sending';
      case 'staking':
        return 'Confirm Staking';
      case 'unstaking':
        return 'Confirm Unstaking';
      case 'swap':
        return 'Confirm Swap';
      default:
        return 'Confirm Action';
    }
  }
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    const hasError = Boolean(localError || error);
    const title = getPinPadTitle();
    const actionName = lang(!isNativeBiometricAuthEnabled ? 'Enter code' : (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.getIsFaceIdAvailable)() ? 'Enter code or use Face ID' : (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_5__.getIsTouchIdAvailable)() ? 'Enter code or use Touch ID' : 'Enter code or use biometrics');
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, withCloseButton && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
      isRound: true,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].closeButton, _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].closeButton),
      ariaLabel: lang('Close'),
      onClick: onCancel
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].closeIcon, 'icon-close'),
      "aria-hidden": true
    })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].pinPadHeader
    }, isPortrait && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__["default"], {
      play: isActive,
      tgsUrl: _helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.guard,
      previewUrl: _helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.guardPreview,
      noLoop: false,
      nonInteractive: true
    }), !isSmallHeight && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].title
    }, lang(title)), children), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_PinPad__WEBPACK_IMPORTED_MODULE_17__["default"], {
      isActive: isActive,
      title: lang(hasError ? localError || error : isSmallHeight ? title : actionName),
      type: hasError ? 'error' : undefined,
      length: _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH,
      value: password,
      onBiometricsClick: isNativeBiometricAuthEnabled ? handleBiometrics : undefined,
      onChange: setPassword,
      onClearError: handleClearError,
      onSubmit: onSubmit
    }));
  }
  function renderBiometricPrompt() {
    const renderingError = localError || error;
    if (renderingError) {
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].error
      }, lang(renderingError));
    }
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].verify
    }, lang(operationType === 'transfer' ? 'Please confirm transaction using biometrics.' : 'Please confirm operation using biometrics.'));
  }
  function renderPasswordForm() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Input__WEBPACK_IMPORTED_MODULE_16__["default"], {
      ref: passwordRef,
      type: "password",
      isRequired: true,
      id: "first-password",
      inputMode: isPasswordNumeric ? 'numeric' : undefined,
      error: error ? lang(error) : localError,
      placeholder: lang(placeholder),
      value: password,
      onInput: handleInput,
      maxLength: isPasswordNumeric ? _config__WEBPACK_IMPORTED_MODULE_2__.PIN_LENGTH : undefined
    }), localError && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].errorMessage
    }, lang(localError)), help && !error && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].label
    }, help));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_4__["default"])(_Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].transitionContent, containerClassName)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_AnimatedIconWithPreview__WEBPACK_IMPORTED_MODULE_14__["default"], {
    tgsUrl: _helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.holdTon,
    previewUrl: _helpers_animatedAssets__WEBPACK_IMPORTED_MODULE_9__.ANIMATED_STICKERS_PATHS.holdTonPreview,
    play: isActive,
    size: stickerSize,
    nonInteractive: true,
    noLoop: false,
    className: _PasswordForm_module_scss__WEBPACK_IMPORTED_MODULE_19__["default"].sticker
  }), children, isBiometricAuthEnabled ? renderBiometricPrompt() : renderPasswordForm(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].footerButtons
  }, onCancel && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    onClick: isBiometricAuthEnabled && isLoading ? undefined : onCancel,
    isLoading: isLoading && isBiometricAuthEnabled,
    isDisabled: isLoading && !isBiometricAuthEnabled,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].buttonHalfWidth
  }, cancelLabel || lang('Cancel')), isBiometricAuthEnabled && Boolean(localError) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isPrimary: true,
    isLoading: isLoading,
    isDisabled: isLoading,
    onClick: !isLoading ? handleBiometrics : undefined,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].buttonHalfWidth
  }, lang('Try Again')), !isBiometricAuthEnabled && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Button__WEBPACK_IMPORTED_MODULE_15__["default"], {
    isPrimary: true,
    isLoading: isLoading,
    isDisabled: isSubmitDisabled,
    onClick: !isLoading ? handleSubmit : undefined,
    className: _Modal_module_scss__WEBPACK_IMPORTED_MODULE_18__["default"].buttonHalfWidth
  }, submitLabel || lang('Send'))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    isPasswordNumeric,
    authConfig
  } = global.settings;
  const isBiometricAuthEnabled = !!authConfig && authConfig.kind !== 'password';
  const isNativeBiometricAuthEnabled = !!authConfig && authConfig.kind === 'native-biometrics';
  return {
    isPasswordNumeric,
    isBiometricAuthEnabled,
    isNativeBiometricAuthEnabled,
    authConfig
  };
})(PasswordForm)));

/***/ }),

/***/ "./src/components/ui/PinPad.tsx":
/*!**************************************!*\
  !*** ./src/components/ui/PinPad.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _PinPadButton__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./PinPadButton */ "./src/components/ui/PinPadButton.tsx");
/* harmony import */ var _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./PinPad.module.scss */ "./src/components/ui/PinPad.module.scss");











const DEFAULT_PIN_LENGTH = 4;
const RESET_STATE_DELAY_MS = 1500;
function PinPad(_ref) {
  let {
    isActive,
    title,
    type,
    value,
    length = DEFAULT_PIN_LENGTH,
    onBiometricsClick,
    isPinAccepted,
    className,
    onChange,
    onClearError,
    onSubmit
  } = _ref;
  const {
    clearIsPinAccepted
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getActions)();
  const isFaceId = (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.getIsFaceIdAvailable)();
  const canRenderBackspace = value.length > 0;
  const isSuccess = type === 'success' || isPinAccepted;
  const prevIsPinAccepted = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_8__["default"])(isPinAccepted);
  const arePinButtonsDisabled = isSuccess || value.length === length && type !== 'error'; // Allow pincode entry in case of an error

  const titleClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].title, type === 'error' && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].error, isSuccess && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].success);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (prevIsPinAccepted && !isPinAccepted && length === value.length) {
      onChange('');
    }
  }, [isPinAccepted, length, onChange, prevIsPinAccepted, value.length]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    return () => {
      clearIsPinAccepted();
    };
  }, []);

  // Fix for iOS, enable fast pinpad button presses
  (0,_hooks_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__["default"])(_ref2 => {
    let [prevIsActive] = _ref2;
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) return;
    if (isActive) {
      void native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.clearScrollPatch();
    } else if (prevIsActive) {
      void native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.applyScrollPatch();
    }
  }, [isActive]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (type !== 'error') return undefined;
    const timeoutId = window.setTimeout(() => {
      if (value.length === length) {
        onChange('');
      }
      onClearError === null || onClearError === void 0 ? void 0 : onClearError();
    }, RESET_STATE_DELAY_MS);
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    return () => {
      window.clearTimeout(timeoutId);
    };
  }, [length, onChange, onClearError, type, value.length]);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(char => {
    if (value.length === length || value.length === 0) {
      onClearError === null || onClearError === void 0 ? void 0 : onClearError();
    }
    if (value.length === length) {
      onChange(char);
      return;
    }
    const newValue = `${value}${char}`;
    onChange(newValue);
    if (newValue.length === length) {
      onSubmit(newValue);
    }
  });
  const handleBackspaceClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    onClearError === null || onClearError === void 0 ? void 0 : onClearError();
    if (!value.length) return;
    onChange(value.slice(0, -1));
  });
  function renderDots() {
    const dotsClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dots, type === 'error' && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dotsError, isSuccess && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dotsLoading);
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      className: dotsClassName,
      "aria-hidden": true
    }, Array.from({
      length
    }, (_, i) => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
      key: i,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dot, i < value.length && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].dotFilled, type === 'error' && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].error, isSuccess && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].success)
    })));
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].root, className)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: titleClassName
  }, title), renderDots(), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("div", {
    className: _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].grid
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "1",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "2",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "3",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "4",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "5",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "6",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "7",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "8",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "9",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), !onBiometricsClick ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("span", null) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    onClick: onBiometricsClick,
    isDisabled: isSuccess
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])('icon', isFaceId ? 'icon-face-id' : 'icon-touch-id'),
    "aria-hidden": true
  })), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    value: "0",
    onClick: handleClick,
    isDisabled: arePinButtonsDisabled
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement(_PinPadButton__WEBPACK_IMPORTED_MODULE_9__["default"], {
    className: !canRenderBackspace && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_10__["default"].buttonHidden,
    isDisabled: !canRenderBackspace || isSuccess,
    onClick: handleBackspaceClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__["default"].createElement("i", {
    className: "icon icon-backspace",
    "aria-hidden": true
  }))));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_2__.withGlobal)(global => {
  const {
    isPinAccepted
  } = global;
  return {
    isPinAccepted
  };
})(PinPad)));

/***/ }),

/***/ "./src/components/ui/PinPadButton.tsx":
/*!********************************************!*\
  !*** ./src/components/ui/PinPadButton.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PinPad.module.scss */ "./src/components/ui/PinPad.module.scss");




const CLICKED_TIMEOUT_MS = 200;
function PinPadButton(_ref) {
  let {
    value,
    children,
    className,
    isDisabled,
    onClick
  } = _ref;
  const [isClicked, setIsClicked] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const handleClick = () => {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_2__.vibrate)();
    onClick === null || onClick === void 0 ? void 0 : onClick(value);
    setIsClicked(true);
    setTimeout(() => {
      setIsClicked(false);
    }, CLICKED_TIMEOUT_MS);
  };
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    onMouseDown: !isDisabled ? handleClick : undefined,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_PinPad_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].button, isClicked && _PinPad_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].buttonActive, className),
    role: "button",
    tabIndex: 0
  }, value || children);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(PinPadButton));

/***/ }),

/***/ "./src/components/ui/Portal.ts":
/*!*************************************!*\
  !*** ./src/components/ui/Portal.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");


function Portal(_ref) {
  let {
    containerId,
    className,
    style,
    children
  } = _ref;
  const elementRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  if (!elementRef.current) {
    elementRef.current = document.createElement('div');
  }
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const container = document.querySelector(containerId || '#portals');
    if (!container) {
      return undefined;
    }
    const element = elementRef.current;
    if (className) {
      element.className = className;
    }
    if (style) {
      element.style.cssText = style;
    }
    container.appendChild(element);
    return () => {
      _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__["default"].render(undefined, element);
      container.removeChild(element);
    };
  }, [className, style, containerId]);
  return _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__["default"].render(children, elementRef.current);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Portal);

/***/ }),

/***/ "./src/components/ui/Radio.tsx":
/*!*************************************!*\
  !*** ./src/components/ui/Radio.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _Radio_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Radio.module.scss */ "./src/components/ui/Radio.module.scss");



function Radio(_ref) {
  let {
    id,
    name,
    value,
    isChecked,
    className,
    onChange
  } = _ref;
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Radio_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].root, className, isChecked && _Radio_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].checked)
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
    id: id,
    type: "radio",
    name: name,
    className: "visually-hidden",
    value: value,
    checked: isChecked,
    onChange: onChange,
    teactExperimentControlled: true
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Radio));

/***/ }),

/***/ "./src/components/ui/RichNumberField.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/RichNumberField.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _RichNumberInput__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RichNumberInput */ "./src/components/ui/RichNumberInput.tsx");
/* harmony import */ var _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Input.module.scss */ "./src/components/ui/Input.module.scss");






function RichNumberInput(_ref) {
  let {
    id,
    labelText,
    value,
    error,
    suffix,
    zeroValue,
    decimals = _config__WEBPACK_IMPORTED_MODULE_1__.FRACTION_DIGITS,
    className,
    inputClassName,
    labelClassName,
    valueClassName,
    children
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const contentRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const prevValueRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)('');
  const renderValue = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(function () {
    let inputValue = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
    let noFallbackToPrev = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
    const contentEl = contentRef.current;
    const valueRegex = (0,_RichNumberInput__WEBPACK_IMPORTED_MODULE_4__.getInputRegex)(decimals);
    const values = inputValue.toString().match(valueRegex);

    // eslint-disable-next-line no-null/no-null
    if (values === null || values.length < 4 || values[0] === '') {
      if (noFallbackToPrev || inputValue === '') {
        prevValueRef.current = '';
        contentEl.innerText = '';
      } else {
        renderValue(prevValueRef.current, true);
      }
      return;
    }
    prevValueRef.current = inputValue;
    contentEl.innerHTML = (0,_RichNumberInput__WEBPACK_IMPORTED_MODULE_4__.buildContentHtml)({
      values,
      suffix,
      decimals,
      withRadix: true
    });
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (value) {
      renderValue(value);
    } else if (zeroValue) {
      contentRef.current.innerHTML = zeroValue;
    }
  }, [decimals, renderValue, value, zeroValue]);
  const inputWrapperFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].input__wrapper, inputClassName);
  const inputFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].input, _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].input_rich, _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].disabled, error && _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].error, valueClassName);
  const labelTextClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].label, labelClassName);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].wrapper, className)
  }, error && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].label, _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].label_error, _Input_module_scss__WEBPACK_IMPORTED_MODULE_5__["default"].error),
    htmlFor: id
  }, error), labelText && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: labelTextClassName,
    htmlFor: id,
    id: `${id}Label`
  }, labelText), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: inputWrapperFullClass
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: contentRef,
    id: id,
    className: inputFullClass
  }), children));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(RichNumberInput));

/***/ }),

/***/ "./src/components/ui/RichNumberInput.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/RichNumberInput.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildContentHtml: () => (/* binding */ buildContentHtml),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   getInputRegex: () => (/* binding */ getInputRegex)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_saveCaretPosition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/saveCaretPosition */ "./src/util/saveCaretPosition.ts");
/* harmony import */ var _hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useFlag */ "./src/hooks/useFlag.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Input.module.scss */ "./src/components/ui/Input.module.scss");









const MIN_LENGTH_FOR_SHRINK = 5;
const MIN_SIZE_SCALE = 0.25; // 12px
const measureEl = document.createElement('div');
function RichNumberInput(_ref) {
  let {
    id,
    labelText,
    hasError,
    isLoading = false,
    suffix,
    value,
    children,
    className,
    inputClassName,
    labelClassName,
    valueClassName,
    cornerClassName,
    onChange,
    onBlur,
    onFocus,
    onPressEnter,
    decimals = _config__WEBPACK_IMPORTED_MODULE_1__.FRACTION_DIGITS,
    disabled = false,
    isStatic = false
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const inputRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_6__["default"])();
  const [hasFocus, markHasFocus, unmarkHasFocus] = (0,_hooks_useFlag__WEBPACK_IMPORTED_MODULE_5__["default"])(false);
  const [isContentEditable, setContentEditable] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!disabled);
  const isFontShrinkedRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const updateFontScale = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(content => {
    const input = inputRef.current;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.forceMeasure)(() => {
      const {
        clientWidth: width
      } = input;
      measureEl.className = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(input.className, 'measure-hidden');
      measureEl.style.width = `${width}px`;
      measureEl.innerHTML = content;
      document.body.appendChild(measureEl);
      let delta = 1;
      while (delta > MIN_SIZE_SCALE) {
        measureEl.style.setProperty('--base-font-size', delta.toString());
        if (measureEl.scrollWidth <= width) {
          break;
        }
        delta -= 0.05;
      }
      isFontShrinkedRef.current = delta < 1;
      document.body.removeChild(measureEl);
      measureEl.className = '';
      input.style.setProperty('--base-font-size', delta.toString());
    });
  });
  const handleLoadingHtml = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])((input, parts) => {
    const newHtml = parts ? buildContentHtml({
      values: parts,
      suffix,
      decimals
    }) : '';
    input.innerHTML = newHtml;
    setContentEditable(false);
    return newHtml;
  });
  const handleNumberHtml = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])((input, parts) => {
    const newHtml = parts ? buildContentHtml({
      values: parts,
      suffix,
      decimals
    }) : '';
    const restoreCaretPosition = document.activeElement === inputRef.current ? (0,_util_saveCaretPosition__WEBPACK_IMPORTED_MODULE_4__.saveCaretPosition)(input, decimals) : undefined;
    input.innerHTML = newHtml;
    setContentEditable(!disabled);
    restoreCaretPosition === null || restoreCaretPosition === void 0 ? void 0 : restoreCaretPosition();
    return newHtml;
  });
  const updateHtml = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(parts => {
    const input = inputRef.current;
    const content = isLoading ? handleLoadingHtml(input, parts) : handleNumberHtml(input, parts);
    const textContent = (parts === null || parts === void 0 ? void 0 : parts[0]) || '';
    if (textContent.length > MIN_LENGTH_FOR_SHRINK || isFontShrinkedRef.current) {
      updateFontScale(content);
    }
    if (content.length) {
      input.classList.remove(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].isEmpty);
    } else {
      input.classList.add(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].isEmpty);
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (value === undefined) {
      updateHtml();
    } else {
      updateHtml(getParts(value));
    }
  }, [updateHtml, value]);
  function handleChange(e) {
    const inputValue = e.currentTarget.innerText.trim();
    const newValue = clearValue(inputValue, decimals);
    const parts = getParts(newValue, decimals);
    const isEmpty = inputValue === '';
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
      if (!parts && !isEmpty && value) {
        updateHtml(getParts(value, decimals));
      } else {
        updateHtml(parts);
      }
      if ((newValue || isEmpty) && newValue !== value) {
        onChange === null || onChange === void 0 ? void 0 : onChange(newValue);
      }
    });
  }
  const handleFocus = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    if (disabled) return;
    markHasFocus();
    onFocus === null || onFocus === void 0 ? void 0 : onFocus();
  });
  const handleBlur = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    if (disabled) return;
    unmarkHasFocus();
    onBlur === null || onBlur === void 0 ? void 0 : onBlur();
  });
  const handleKeyDown = e => {
    if (e.key === 'Enter' && onPressEnter) {
      onPressEnter(e);
    }
  };
  const inputWrapperFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].input__wrapper, isStatic && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].inputWrapperStatic, hasError && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].error, hasFocus && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].input__wrapper_hasFocus, inputClassName);
  const inputFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].input, _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].input_rich, !value && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].isEmpty, valueClassName, isLoading && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].isLoading);
  const labelTextClassName = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].label, hasError && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].error, labelClassName);
  const cornerFullClass = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(cornerClassName, hasFocus && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].swapCorner, hasError && _Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].swapCorner_error);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].wrapper, className)
  }, Boolean(labelText) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: labelTextClassName,
    htmlFor: id,
    id: `${id}Label`
  }, labelText), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: inputWrapperFullClass
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: inputRef,
    contentEditable: isContentEditable,
    id: id,
    role: "textbox",
    "aria-required": true,
    "aria-placeholder": lang('Amount value'),
    "aria-labelledby": labelText ? `${id}Label` : undefined,
    tabIndex: 0,
    inputMode: "decimal",
    className: inputFullClass,
    onKeyDown: handleKeyDown,
    onChange: handleChange,
    onFocus: handleFocus,
    onBlur: handleBlur
  }), children), cornerClassName && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: cornerFullClass
  }));
}
function getParts(value) {
  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DECIMAL_PLACES;
  const regex = getInputRegex(decimals);
  return value.match(regex) || undefined;
}
function getInputRegex(decimals) {
  if (!decimals) return /^(\d+)$/;
  return new RegExp(`^(\\d+)([.,])?(\\d{1,${decimals}})?`);
}
function clearValue(value, decimals) {
  var _value$replace$replac, _value$replace$replac2;
  return (_value$replace$replac = (_value$replace$replac2 = value.replace(',', '.') // Replace comma to point
  .replace(/[^\d.]/, '') // Remove incorrect symbols
  .match(getInputRegex(decimals))) === null || _value$replace$replac2 === void 0 ? void 0 : _value$replace$replac2[0] // Trim extra decimal places
  .replace(/^0+(?=([1-9]|0\.))/, '') // Trim extra zeros at beginning
  .replace(/^0+$/, '0') // Trim extra zeros (if only zeros are entered)
  ) !== null && _value$replace$replac !== void 0 ? _value$replace$replac : '';
}
function buildContentHtml(_ref2) {
  let {
    values,
    suffix,
    decimals = _config__WEBPACK_IMPORTED_MODULE_1__.FRACTION_DIGITS,
    withRadix = false
  } = _ref2;
  let [, wholePart] = values;
  const [,, dotPart, fractionPart] = values;
  const fractionStr = fractionPart || dotPart ? `.${(fractionPart || '').substring(0, decimals)}` : '';
  const suffixStr = suffix ? `&thinsp;${suffix}` : '';
  if (withRadix) {
    wholePart = wholePart.replace(/\d(?=(\d{3})+($|\.))/g, `$&${_config__WEBPACK_IMPORTED_MODULE_1__.WHOLE_PART_DELIMITER}`);
  }
  return `${wholePart}<span class="${_Input_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].fractional}">${fractionStr}${suffixStr}</span>`;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(RichNumberInput));

/***/ }),

/***/ "./src/components/ui/ShowTransition.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/ShowTransition.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");




const ShowTransition = _ref => {
  let {
    isOpen,
    isHidden,
    isCustom,
    id,
    className,
    onClick,
    children,
    noCloseTransition,
    shouldAnimateFirstRender,
    style,
    ref
  } = _ref;
  const prevIsOpen = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_2__["default"])(isOpen);
  const prevChildren = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_2__["default"])(children);
  const fromChildrenRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const isFirstRender = prevIsOpen === undefined;
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_3__["default"])(isOpen && !isHidden, undefined, isFirstRender && !shouldAnimateFirstRender, isCustom ? false : undefined, noCloseTransition);
  if (prevIsOpen && !isOpen) {
    fromChildrenRef.current = prevChildren;
  }
  return (shouldRender || isHidden) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    id: id,
    ref: ref,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(className, transitionClassNames),
    onClick: onClick,
    style: style
  }, isOpen ? children : fromChildrenRef.current);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ShowTransition);

/***/ }),

/***/ "./src/components/ui/SuggestionList.tsx":
/*!**********************************************!*\
  !*** ./src/components/ui/SuggestionList.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SuggestionList.module.scss */ "./src/components/ui/SuggestionList.module.scss");




function SuggestionList(_ref) {
  let {
    position = 'bottom',
    suggestions,
    activeIndex,
    isInModal,
    onSelect
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_2__["default"])();
  const handleClick = e => {
    e.preventDefault();
    const suggest = e.target.innerText.trim();
    onSelect(suggest);
  };
  return suggestions.length ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("ul", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].suggestions, _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"][position], isInModal && _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].embedded)
  }, suggestions.map((suggestion, index) => {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("li", {
      key: suggestion,
      role: "button",
      tabIndex: 0,
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].suggestion, index === activeIndex && _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].active),
      onMouseDown: handleClick
    }, suggestion);
  })) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].suggestions
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("li", {
    className: _SuggestionList_module_scss__WEBPACK_IMPORTED_MODULE_3__["default"].suggestion
  }, lang('No suggestions, you\'re on your own!')));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(SuggestionList));

/***/ }),

/***/ "./src/components/ui/Switcher.tsx":
/*!****************************************!*\
  !*** ./src/components/ui/Switcher.tsx ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _Switcher_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Switcher.module.scss */ "./src/components/ui/Switcher.module.scss");



function Switcher(_ref) {
  let {
    id,
    name,
    value,
    label,
    checked = false,
    className,
    onChange,
    onCheck,
    shouldStopPropagation
  } = _ref;
  function handleChange(e) {
    if (onChange) {
      onChange(e);
    }
    if (onCheck) {
      onCheck(e.currentTarget.checked);
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("label", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(_Switcher_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].container, className),
    title: label,
    onClick: shouldStopPropagation ? e => e.stopPropagation() : undefined,
    tabIndex: 0,
    role: "button"
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("input", {
    type: "checkbox",
    id: id,
    name: name,
    value: value,
    checked: checked,
    className: _Switcher_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].input,
    onChange: handleChange,
    teactExperimentControlled: shouldStopPropagation || !onChange && !onCheck
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Switcher_module_scss__WEBPACK_IMPORTED_MODULE_2__["default"].widget
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(Switcher));

/***/ }),

/***/ "./src/components/ui/Tab.tsx":
/*!***********************************!*\
  !*** ./src/components/ui/Tab.tsx ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_forceReflow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/forceReflow */ "./src/util/forceReflow.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../hooks/useMenuPosition */ "./src/hooks/useMenuPosition.ts");
/* harmony import */ var _DropdownMenu__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DropdownMenu */ "./src/components/ui/DropdownMenu.tsx");
/* harmony import */ var _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Tab.module.scss */ "./src/components/ui/Tab.module.scss");









function Tab(_ref) {
  let {
    className,
    title,
    isActive,
    previousActiveTab,
    menuItems,
    onClick,
    clickArg,
    onMenuItemClick
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const tabRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  // eslint-disable-next-line no-null/no-null
  const contentRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const [menuPosition, setMenuPosition] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const hasMenu = Boolean(menuItems === null || menuItems === void 0 ? void 0 : menuItems.length);
  const isMenuOpen = Boolean(menuPosition);
  const getTriggerElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => contentRef.current);
  const getRootElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => document.body);
  const getMenuElement = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => document.querySelector('#portals .menu-bubble'));
  const getLayout = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => ({
    withPortal: true
  }));
  const closeMenu = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => setMenuPosition(undefined));
  const {
    positionY,
    transformOriginX,
    transformOriginY,
    style: menuStyle
  } = (0,_hooks_useMenuPosition__WEBPACK_IMPORTED_MODULE_6__["default"])(menuPosition, getTriggerElement, getRootElement, getMenuElement, getLayout);
  const handleClick = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(() => {
    if (isActive && !hasMenu) return;
    if (!isActive) {
      onClick(clickArg);
      return;
    }
    if (isMenuOpen) {
      closeMenu();
    } else {
      const {
        right: x,
        y,
        height
      } = contentRef.current.getBoundingClientRect();
      setMenuPosition({
        x,
        y: y + height
      });
    }
  });
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    // Set initial active state
    if (isActive && previousActiveTab === undefined && tabRef.current) {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(tabRef.current, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab_active);
    }
  }, [isActive, previousActiveTab]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive || previousActiveTab === undefined) {
      return;
    }
    const tabEl = tabRef.current;
    const prevTabEl = tabEl.parentElement.children[previousActiveTab];
    if (!prevTabEl) {
      // The number of tabs in the parent component has decreased. It is necessary to add the active tab class name.
      if (isActive && !tabEl.classList.contains(_Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab_active)) {
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(tabEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab_active);
        });
      }
      return;
    }
    const platformEl = tabEl.querySelector(`.${_Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform}`);
    const prevPlatformEl = prevTabEl.querySelector(`.${_Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform}`);

    // We move and resize the platform, so it repeats the position and size of the previous one
    const shiftLeft = prevPlatformEl.parentElement.offsetLeft - platformEl.parentElement.offsetLeft;
    const scaleFactor = prevPlatformEl.clientWidth / platformEl.clientWidth;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMutation)(() => {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(prevPlatformEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform_animate);
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(platformEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform_animate);
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(platformEl, {
        transform: `translate3d(${shiftLeft}px, 0, 0) scale3d(${scaleFactor}, 1, 1)`
      });
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestForcedReflow)(() => {
        (0,_util_forceReflow__WEBPACK_IMPORTED_MODULE_4__["default"])(platformEl);
        return () => {
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(platformEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform_animate);
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(platformEl, {
            transform: 'none'
          });
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(prevTabEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab_active);
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(tabEl, _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab_active);
        };
      });
    });
  }, [isActive, previousActiveTab]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].Tab, className, hasMenu && _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].interactive),
    onClick: handleClick,
    ref: tabRef
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
    className: _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].content,
    ref: contentRef
  }, title, hasMenu && isActive && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: "icon-caret-down",
    "aria-hidden": true
  }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].platform,
    "aria-hidden": true
  })), hasMenu && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_DropdownMenu__WEBPACK_IMPORTED_MODULE_7__["default"], {
    isOpen: isMenuOpen,
    items: menuItems,
    withPortal: true,
    buttonClassName: _Tab_module_scss__WEBPACK_IMPORTED_MODULE_8__["default"].menuItem,
    menuPositionHorizontal: "right",
    menuPosition: positionY,
    menuStyle: menuStyle,
    transformOriginX: transformOriginX,
    transformOriginY: transformOriginY,
    onSelect: onMenuItemClick,
    onClose: closeMenu
  }));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Tab);

/***/ }),

/***/ "./src/components/ui/TabList.tsx":
/*!***************************************!*\
  !*** ./src/components/ui/TabList.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_animateHorizontalScroll__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/animateHorizontalScroll */ "./src/util/animateHorizontalScroll.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useHorizontalScroll__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useHorizontalScroll */ "./src/hooks/useHorizontalScroll.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _Tab__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Tab */ "./src/components/ui/Tab.tsx");
/* harmony import */ var _TabList_module_scss__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TabList.module.scss */ "./src/components/ui/TabList.module.scss");








const TAB_SCROLL_THRESHOLD_PX = 16;
// Should match duration from `--slide-transition` CSS variable
const SCROLL_DURATION = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS ? 450 : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID ? 400 : 300;
function TabList(_ref) {
  let {
    tabs,
    activeTab,
    big,
    className,
    onSwitchTab
  } = _ref;
  // eslint-disable-next-line no-null/no-null
  const containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  const previousActiveTab = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_5__["default"])(activeTab);
  (0,_hooks_useHorizontalScroll__WEBPACK_IMPORTED_MODULE_4__["default"])(containerRef, undefined, true);

  // Scroll container to place active tab in the center
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const container = containerRef.current;
    const {
      scrollWidth,
      offsetWidth,
      scrollLeft
    } = container;
    if (scrollWidth <= offsetWidth) {
      return;
    }
    const activeTabElement = container.childNodes[activeTab];
    if (!activeTabElement) {
      return;
    }
    const {
      offsetLeft: activeTabOffsetLeft,
      offsetWidth: activeTabOffsetWidth
    } = activeTabElement;
    const newLeft = activeTabOffsetLeft - offsetWidth / 2 + activeTabOffsetWidth / 2;

    // Prevent scrolling by only a couple of pixels, which doesn't look smooth
    if (Math.abs(newLeft - scrollLeft) < TAB_SCROLL_THRESHOLD_PX) {
      return;
    }
    (0,_util_animateHorizontalScroll__WEBPACK_IMPORTED_MODULE_1__["default"])(container, newLeft, SCROLL_DURATION);
  }, [activeTab]);
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_2__["default"])(_TabList_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].container, 'no-scrollbar', big && _TabList_module_scss__WEBPACK_IMPORTED_MODULE_7__["default"].big, className),
    ref: containerRef
  }, tabs.map((tab, i) => /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_Tab__WEBPACK_IMPORTED_MODULE_6__["default"], {
    key: tab.title,
    title: tab.title,
    isActive: i === activeTab,
    previousActiveTab: previousActiveTab,
    className: tab === null || tab === void 0 ? void 0 : tab.className,
    menuItems: tab === null || tab === void 0 ? void 0 : tab.menuItems,
    onMenuItemClick: tab === null || tab === void 0 ? void 0 : tab.onMenuItemClick,
    onClick: onSwitchTab,
    clickArg: tab.id
  })));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)(TabList));

/***/ }),

/***/ "./src/components/ui/Transition.tsx":
/*!******************************************!*\
  !*** ./src/components/ui/Transition.tsx ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACTIVE_SLIDE_CLASS_NAME: () => (/* binding */ ACTIVE_SLIDE_CLASS_NAME),
/* harmony export */   TO_SLIDE_CLASS_NAME: () => (/* binding */ TO_SLIDE_CLASS_NAME),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/cssAnimationEndListeners */ "./src/util/cssAnimationEndListeners.ts");
/* harmony import */ var _util_forceReflow__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/forceReflow */ "./src/util/forceReflow.ts");
/* harmony import */ var _util_swipeController__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/swipeController */ "./src/util/swipeController.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../hooks/usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _Transition_scss__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Transition.scss */ "./src/components/ui/Transition.scss");













const FALLBACK_ANIMATION_END = 1000;
const CLASSES = {
  slide: 'Transition_slide',
  active: 'Transition_slide-active',
  from: 'Transition_slide-from',
  to: 'Transition_slide-to',
  inactive: 'Transition_slide-inactive'
};
const ACTIVE_SLIDE_CLASS_NAME = CLASSES.active;
const TO_SLIDE_CLASS_NAME = CLASSES.to;
function Transition(_ref) {
  let {
    ref,
    activeKey,
    nextKey,
    prevKey,
    name,
    direction = 'auto',
    renderCount,
    shouldRestoreHeight,
    shouldCleanup,
    cleanupExceptionKey,
    shouldWrap,
    wrapExceptionKey,
    id,
    className,
    slideClassName,
    withSwipeControl,
    onStart,
    onStop,
    children
  } = _ref;
  const currentKeyRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  // No need for a container to update on change
  const {
    animationLevel
  } = (0,_global__WEBPACK_IMPORTED_MODULE_2__.getGlobal)().settings;
  const shouldDisableAnimation = animationLevel === _config__WEBPACK_IMPORTED_MODULE_3__.ANIMATION_LEVEL_MIN;

  // eslint-disable-next-line no-null/no-null
  let containerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  if (ref) {
    containerRef = ref;
  }
  const rendersRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)({});
  const prevActiveKey = (0,_hooks_usePrevious__WEBPACK_IMPORTED_MODULE_11__["default"])(activeKey);
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const isAnimatingRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const isSwipeJustCancelledRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const hasActiveKeyChanged = prevActiveKey !== undefined && activeKey !== prevActiveKey;
  if (!renderCount && hasActiveKeyChanged) {
    rendersRef.current = {
      [prevActiveKey]: rendersRef.current[prevActiveKey]
    };
  }
  rendersRef.current[activeKey] = children;
  if (prevKey) {
    rendersRef.current[prevKey] = children;
  }
  if (nextKey) {
    rendersRef.current[nextKey] = children;
  }
  const isBackwards = direction === -1 || direction === 'auto' && prevActiveKey > activeKey || direction === 'inverse' && prevActiveKey < activeKey;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    function cleanup() {
      if (!shouldCleanup) {
        return;
      }
      const preservedRender = cleanupExceptionKey !== undefined ? rendersRef.current[cleanupExceptionKey] : undefined;
      rendersRef.current = preservedRender ? {
        [cleanupExceptionKey]: preservedRender
      } : {};
      forceUpdate();
    }
    const isSlideOptimized = name === 'slideOptimized' || name === 'slideOptimizedRtl';
    const container = containerRef.current;
    const keys = Object.keys(rendersRef.current).map(Number);
    const prevActiveIndex = renderCount ? prevActiveKey : keys.indexOf(prevActiveKey);
    const activeIndex = renderCount ? activeKey : keys.indexOf(activeKey);
    const childNodes = Array.from(container.childNodes);
    if (!childNodes.length) {
      return;
    }
    const childElements = Array.from(container.children);
    childElements.forEach(el => {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(el, CLASSES.slide);
      if (slideClassName) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(el, slideClassName);
      }
    });
    if (!hasActiveKeyChanged) {
      if (isAnimatingRef.current) {
        return;
      }
      childElements.forEach(childElement => {
        if (childElement === childNodes[activeIndex]) {
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(childElement, CLASSES.active);
          if (isSlideOptimized) {
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(childElement, {
              transition: 'none',
              transform: 'translate3d(0, 0, 0)'
            });
          }
        } else if (!isSlideOptimized) {
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(childElement, CLASSES.inactive);
        }
      });
      return;
    }
    currentKeyRef.current = activeKey;
    if (isSlideOptimized) {
      if (!childNodes[activeIndex]) {
        return;
      }
      performSlideOptimized(shouldDisableAnimation, name, isBackwards, cleanup, activeKey, currentKeyRef, isAnimatingRef, container, childNodes[activeIndex], childNodes[prevActiveIndex], shouldRestoreHeight, onStart, onStop);
      return;
    }
    if (name === 'none' || shouldDisableAnimation || isSwipeJustCancelledRef.current) {
      if (isSwipeJustCancelledRef.current) {
        isSwipeJustCancelledRef.current = false;
      }
      childNodes.forEach((node, i) => {
        if (node instanceof HTMLElement) {
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(node, CLASSES.from);
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(node, CLASSES.to);
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.active, i === activeIndex);
          (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.inactive, i !== activeIndex);
        }
      });
      cleanup();
      return;
    }
    childNodes.forEach((node, i) => {
      if (node instanceof HTMLElement) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(node, CLASSES.active);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.from, i === prevActiveIndex);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.to, i === activeIndex);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.inactive, i !== prevActiveIndex && i !== activeIndex);
      }
    });
    isAnimatingRef.current = true;
    const dispatchHeavyAnimationStop = (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_10__.dispatchHeavyAnimationEvent)();
    onStart === null || onStart === void 0 ? void 0 : onStart();
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}`, !isBackwards);
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}Backwards`, isBackwards);
    function onAnimationEnd() {
      const activeElement = container.querySelector(`.${CLASSES.active}`);
      const {
        clientHeight
      } = activeElement || {};
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestMutation)(() => {
        if (activeKey !== currentKeyRef.current) {
          return;
        }
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(container, `Transition-${name}`);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(container, `Transition-${name}Backwards`);
        childNodes.forEach((node, i) => {
          if (node instanceof HTMLElement) {
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(node, CLASSES.from);
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(node, CLASSES.to);
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.active, i === activeIndex);
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(node, CLASSES.inactive, i !== activeIndex);
          }
        });
        if (shouldRestoreHeight) {
          if (activeElement) {
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(activeElement, {
              height: 'auto'
            });
            (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(container, {
              height: `${clientHeight}px`
            });
          }
        }
        onStop === null || onStop === void 0 ? void 0 : onStop();
        dispatchHeavyAnimationStop();
        isAnimatingRef.current = false;
        cleanup();
      });
    }
    const watchedNode = (name === 'reveal' || name === 'slideFadeAndroid') && isBackwards ? childNodes[prevActiveIndex] : childNodes[activeIndex];
    if (watchedNode) {
      if (withSwipeControl && childNodes[prevActiveIndex]) {
        const giveUpAnimationEnd = (0,_util_cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_6__.waitForAnimationEnd)(watchedNode, onAnimationEnd);
        (0,_util_swipeController__WEBPACK_IMPORTED_MODULE_8__.allowSwipeControlForTransition)(childNodes[prevActiveIndex], childNodes[activeIndex], () => {
          giveUpAnimationEnd();
          isSwipeJustCancelledRef.current = true;
          onStop === null || onStop === void 0 ? void 0 : onStop();
          dispatchHeavyAnimationStop();
          isAnimatingRef.current = false;
        });
      } else {
        (0,_util_cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_6__.waitForAnimationEnd)(watchedNode, onAnimationEnd, undefined, FALLBACK_ANIMATION_END);
      }
    } else {
      onAnimationEnd();
    }
  }, [activeKey, nextKey, prevActiveKey, hasActiveKeyChanged, isBackwards, name, onStart, onStop, renderCount, shouldRestoreHeight, shouldCleanup, slideClassName, cleanupExceptionKey, shouldDisableAnimation, forceUpdate, withSwipeControl]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!shouldRestoreHeight) {
      return;
    }
    const container = containerRef.current;
    const activeElement = container.querySelector(`.${CLASSES.active}`) || container.querySelector(`.${CLASSES.from}`);
    if (!activeElement) {
      return;
    }
    const {
      clientHeight
    } = activeElement || {};
    if (!clientHeight) {
      return;
    }
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestMutation)(() => {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(activeElement, {
        height: 'auto'
      });
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(container, {
        height: `${clientHeight}px`,
        flexBasis: `${clientHeight}px`
      });
    });
  }, [shouldRestoreHeight, children]);
  const asFastList = !renderCount;
  const renders = rendersRef.current;
  const renderKeys = Object.keys(renderCount ? new Array(renderCount).fill(undefined) : renders).map(Number);
  const contents = renderKeys.map(key => {
    const render = renders[key];
    if (!render) {
      return undefined;
    }
    const rendered = typeof render === 'function' ? render(key === activeKey, key === prevActiveKey, key, activeKey) : render;
    return shouldWrap && key !== wrapExceptionKey || asFastList ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: key,
      teactOrderKey: key
    }, rendered) : rendered;
  });
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
    ref: containerRef,
    id: id,
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_5__["default"])('Transition', className),
    teactFastList: asFastList
  }, contents);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Transition);
function performSlideOptimized(shouldDisableAnimation, name, isBackwards, cleanup, activeKey, currentKeyRef, isAnimatingRef, container, toSlide, fromSlide, shouldRestoreHeight, onStart, onStop) {
  if (shouldDisableAnimation) {
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}`, !isBackwards);
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}Backwards`, isBackwards);
    if (fromSlide instanceof HTMLElement) {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(fromSlide, CLASSES.active);
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(fromSlide, {
        transition: 'none',
        transform: ''
      });
    }
    if (toSlide instanceof HTMLElement) {
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(toSlide, CLASSES.active);
      (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(toSlide, {
        transition: 'none',
        transform: 'translate3d(0, 0, 0)'
      });
    }
    cleanup();
    return;
  }
  if (name === 'slideOptimizedRtl') {
    isBackwards = !isBackwards;
  }
  isAnimatingRef.current = true;
  const dispatchHeavyAnimationStop = (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_10__.dispatchHeavyAnimationEvent)();
  onStart === null || onStart === void 0 ? void 0 : onStart();
  (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}`, !isBackwards);
  (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.toggleExtraClass)(container, `Transition-${name}Backwards`, isBackwards);
  if (fromSlide instanceof HTMLElement) {
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(fromSlide, {
      transition: 'none',
      transform: 'translate3d(0, 0, 0)'
    });
  }
  if (toSlide instanceof HTMLElement) {
    (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(toSlide, {
      transition: 'none',
      transform: `translate3d(${isBackwards ? '-' : ''}100%, 0, 0)`
    });
  }
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestForcedReflow)(() => {
    if (toSlide instanceof HTMLElement) {
      (0,_util_forceReflow__WEBPACK_IMPORTED_MODULE_7__["default"])(toSlide);
    }
    return () => {
      if (fromSlide instanceof HTMLElement) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(fromSlide, CLASSES.active);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(fromSlide, {
          transition: '',
          transform: `translate3d(${isBackwards ? '' : '-'}100%, 0, 0)`
        });
      }
      if (toSlide instanceof HTMLElement) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.addExtraClass)(toSlide, CLASSES.active);
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(toSlide, {
          transition: '',
          transform: 'translate3d(0, 0, 0)'
        });
      }
    };
  });
  (0,_util_cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_6__.waitForTransitionEnd)(toSlide, () => {
    const clientHeight = toSlide instanceof HTMLElement ? toSlide.clientHeight : undefined;
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_4__.requestMutation)(() => {
      if (activeKey !== currentKeyRef.current) {
        return;
      }
      if (fromSlide instanceof HTMLElement) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(fromSlide, {
          transition: 'none',
          transform: ''
        });
      }
      if (shouldRestoreHeight && clientHeight && toSlide instanceof HTMLElement) {
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(toSlide, {
          height: 'auto'
        });
        (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.setExtraStyles)(container, {
          height: `${clientHeight}px`
        });
      }
      onStop === null || onStop === void 0 ? void 0 : onStop();
      dispatchHeavyAnimationStop();
      isAnimatingRef.current = false;
      cleanup();
    });
  });
}

/***/ }),

/***/ "./src/components/ui/UpdateAvailable.tsx":
/*!***********************************************!*\
  !*** ./src/components/ui/UpdateAvailable.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../hooks/useShowTransition */ "./src/hooks/useShowTransition.ts");
/* harmony import */ var _UpdateAvailable_module_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./UpdateAvailable.module.scss */ "./src/components/ui/UpdateAvailable.module.scss");







function UpdateAvailable(_ref) {
  let {
    isAppUpdateAvailable,
    newAppVersion
  } = _ref;
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_4__["default"])();
  const {
    shouldRender,
    transitionClassNames
  } = (0,_hooks_useShowTransition__WEBPACK_IMPORTED_MODULE_5__["default"])(isAppUpdateAvailable);
  const handleClick = () => {
    // eslint-disable-next-line max-len
    const url = `${_config__WEBPACK_IMPORTED_MODULE_2__.APP_REPO_URL}/releases/download/v${encodeURIComponent(newAppVersion || '')}/${encodeURIComponent(_config__WEBPACK_IMPORTED_MODULE_2__.APP_NAME)}.apk`;
    window.open(url, '_blank', 'noopener');
  };
  if (!shouldRender) {
    return undefined;
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("button", {
    type: "button",
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_UpdateAvailable_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].wrapper, transitionClassNames),
    onClick: handleClick
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])('icon icon-download-filled', _UpdateAvailable_module_scss__WEBPACK_IMPORTED_MODULE_6__["default"].icon),
    "aria-hidden": true
  }), lang('Update MyTonWallet'));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => ({
  isAppUpdateAvailable: global.isAppUpdateAvailable,
  newAppVersion: global.latestAppVersion
}))(UpdateAvailable)));

/***/ }),

/***/ "./src/components/ui/helpers/animatedAssets.ts":
/*!*****************************************************!*\
  !*** ./src/components/ui/helpers/animatedAssets.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ANIMATED_STICKERS_PATHS: () => (/* binding */ ANIMATED_STICKERS_PATHS)
/* harmony export */ });
/* harmony import */ var _assets_lottie_duck_bill_tgs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../assets/lottie/duck_bill.tgs */ "./src/assets/lottie/duck_bill.tgs");
/* harmony import */ var _assets_lottie_duck_forges_tgs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../assets/lottie/duck_forges.tgs */ "./src/assets/lottie/duck_forges.tgs");
/* harmony import */ var _assets_lottie_duck_guard_tgs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../assets/lottie/duck_guard.tgs */ "./src/assets/lottie/duck_guard.tgs");
/* harmony import */ var _assets_lottie_duck_happy_tgs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../assets/lottie/duck_happy.tgs */ "./src/assets/lottie/duck_happy.tgs");
/* harmony import */ var _assets_lottie_duck_hello_tgs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../assets/lottie/duck_hello.tgs */ "./src/assets/lottie/duck_hello.tgs");
/* harmony import */ var _assets_lottie_duck_no_data_tgs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../assets/lottie/duck_no-data.tgs */ "./src/assets/lottie/duck_no-data.tgs");
/* harmony import */ var _assets_lottie_duck_run_tgs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../assets/lottie/duck_run.tgs */ "./src/assets/lottie/duck_run.tgs");
/* harmony import */ var _assets_lottie_duck_snitch_tgs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../assets/lottie/duck_snitch.tgs */ "./src/assets/lottie/duck_snitch.tgs");
/* harmony import */ var _assets_lottie_duck_thumb_tgs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../assets/lottie/duck_thumb.tgs */ "./src/assets/lottie/duck_thumb.tgs");
/* harmony import */ var _assets_lottie_duck_ton_tgs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../assets/lottie/duck_ton.tgs */ "./src/assets/lottie/duck_ton.tgs");
/* harmony import */ var _assets_lottie_duck_wait_tgs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../assets/lottie/duck_wait.tgs */ "./src/assets/lottie/duck_wait.tgs");
/* harmony import */ var _assets_lottie_duck_yeee_tgs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../assets/lottie/duck_yeee.tgs */ "./src/assets/lottie/duck_yeee.tgs");
/* harmony import */ var _assets_lottiePreview_duck_bill_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_bill.png */ "./src/assets/lottiePreview/duck_bill.png");
/* harmony import */ var _assets_lottiePreview_duck_forges_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_forges.png */ "./src/assets/lottiePreview/duck_forges.png");
/* harmony import */ var _assets_lottiePreview_duck_guard_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_guard.png */ "./src/assets/lottiePreview/duck_guard.png");
/* harmony import */ var _assets_lottiePreview_duck_happy_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_happy.png */ "./src/assets/lottiePreview/duck_happy.png");
/* harmony import */ var _assets_lottiePreview_duck_hello_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_hello.png */ "./src/assets/lottiePreview/duck_hello.png");
/* harmony import */ var _assets_lottiePreview_duck_no_data_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_no-data.png */ "./src/assets/lottiePreview/duck_no-data.png");
/* harmony import */ var _assets_lottiePreview_duck_run_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_run.png */ "./src/assets/lottiePreview/duck_run.png");
/* harmony import */ var _assets_lottiePreview_duck_snitch_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_snitch.png */ "./src/assets/lottiePreview/duck_snitch.png");
/* harmony import */ var _assets_lottiePreview_duck_thumb_png__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_thumb.png */ "./src/assets/lottiePreview/duck_thumb.png");
/* harmony import */ var _assets_lottiePreview_duck_ton_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_ton.png */ "./src/assets/lottiePreview/duck_ton.png");
/* harmony import */ var _assets_lottiePreview_duck_wait_png__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_wait.png */ "./src/assets/lottiePreview/duck_wait.png");
/* harmony import */ var _assets_lottiePreview_duck_yeee_png__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../assets/lottiePreview/duck_yeee.png */ "./src/assets/lottiePreview/duck_yeee.png");
























const ANIMATED_STICKERS_PATHS = {
  hello: _assets_lottie_duck_hello_tgs__WEBPACK_IMPORTED_MODULE_4__,
  snitch: _assets_lottie_duck_snitch_tgs__WEBPACK_IMPORTED_MODULE_7__,
  bill: _assets_lottie_duck_bill_tgs__WEBPACK_IMPORTED_MODULE_0__,
  thumbUp: _assets_lottie_duck_thumb_tgs__WEBPACK_IMPORTED_MODULE_8__,
  holdTon: _assets_lottie_duck_ton_tgs__WEBPACK_IMPORTED_MODULE_9__,
  happy: _assets_lottie_duck_happy_tgs__WEBPACK_IMPORTED_MODULE_3__,
  noData: _assets_lottie_duck_no_data_tgs__WEBPACK_IMPORTED_MODULE_5__,
  forge: _assets_lottie_duck_forges_tgs__WEBPACK_IMPORTED_MODULE_1__,
  wait: _assets_lottie_duck_wait_tgs__WEBPACK_IMPORTED_MODULE_10__,
  run: _assets_lottie_duck_run_tgs__WEBPACK_IMPORTED_MODULE_6__,
  yeee: _assets_lottie_duck_yeee_tgs__WEBPACK_IMPORTED_MODULE_11__,
  guard: _assets_lottie_duck_guard_tgs__WEBPACK_IMPORTED_MODULE_2__,
  helloPreview: _assets_lottiePreview_duck_hello_png__WEBPACK_IMPORTED_MODULE_16__,
  snitchPreview: _assets_lottiePreview_duck_snitch_png__WEBPACK_IMPORTED_MODULE_19__,
  billPreview: _assets_lottiePreview_duck_bill_png__WEBPACK_IMPORTED_MODULE_12__,
  thumbUpPreview: _assets_lottiePreview_duck_thumb_png__WEBPACK_IMPORTED_MODULE_20__,
  holdTonPreview: _assets_lottiePreview_duck_ton_png__WEBPACK_IMPORTED_MODULE_21__,
  happyPreview: _assets_lottiePreview_duck_happy_png__WEBPACK_IMPORTED_MODULE_15__,
  noDataPreview: _assets_lottiePreview_duck_no_data_png__WEBPACK_IMPORTED_MODULE_17__,
  forgePreview: _assets_lottiePreview_duck_forges_png__WEBPACK_IMPORTED_MODULE_13__,
  waitPreview: _assets_lottiePreview_duck_wait_png__WEBPACK_IMPORTED_MODULE_22__,
  runPreview: _assets_lottiePreview_duck_run_png__WEBPACK_IMPORTED_MODULE_18__,
  yeeePreview: _assets_lottiePreview_duck_yeee_png__WEBPACK_IMPORTED_MODULE_23__,
  guardPreview: _assets_lottiePreview_duck_guard_png__WEBPACK_IMPORTED_MODULE_14__
};

/***/ }),

/***/ "./src/components/ui/helpers/assetLogos.ts":
/*!*************************************************!*\
  !*** ./src/components/ui/helpers/assetLogos.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ASSET_LOGO_PATHS: () => (/* binding */ ASSET_LOGO_PATHS)
/* harmony export */ });
/* harmony import */ var _assets_coins_coin_btc_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../assets/coins/coin_btc.png */ "./src/assets/coins/coin_btc.png");
/* harmony import */ var _assets_coins_coin_ton_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../assets/coins/coin_ton.png */ "./src/assets/coins/coin_ton.png");


const ASSET_LOGO_PATHS = {
  ton: _assets_coins_coin_ton_png__WEBPACK_IMPORTED_MODULE_1__,
  btc: _assets_coins_coin_btc_png__WEBPACK_IMPORTED_MODULE_0__
};

/***/ }),

/***/ "./src/components/vesting/VestingModal.tsx":
/*!*************************************************!*\
  !*** ./src/components/vesting/VestingModal.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_dateFormat__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/dateFormat */ "./src/util/dateFormat.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../main/helpers/calcVestingAmountByStatus */ "./src/components/main/helpers/calcVestingAmountByStatus.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useInterval */ "./src/hooks/useInterval.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _staking_StakingInitial__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../staking/StakingInitial */ "./src/components/staking/StakingInitial.tsx");
/* harmony import */ var _ui_Button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../ui/Button */ "./src/components/ui/Button.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../ui/ModalHeader */ "./src/components/ui/ModalHeader.tsx");
/* harmony import */ var _ui_RichNumberField__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ui/RichNumberField */ "./src/components/ui/RichNumberField.tsx");
/* harmony import */ var _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./VestingModal.module.scss */ "./src/components/vesting/VestingModal.module.scss");

















const UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec
const MY_TOKEN_SYMBOL = 'MY';
function VestingModal(_ref) {
  let {
    isOpen,
    isUnfreezeRequested,
    vesting,
    mycoin
  } = _ref;
  const {
    fetchStakingHistory,
    closeVestingModal,
    startClaimingVesting
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_9__["default"])();
  const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_7__["default"])();
  const currentlyFrozenAmount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!vesting) return '0';
    return (0,_main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_6__.calcVestingAmountByStatus)(vesting, ['frozen', 'ready']);
  }, [vesting]);
  const currentlyReadyToUnfreezeAmount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!vesting) return '0';
    return (0,_main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_6__.calcVestingAmountByStatus)(vesting, ['ready']);
  }, [vesting]);
  const isDisabledUnfreeze = currentlyReadyToUnfreezeAmount === '0';
  (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_8__["default"])(forceUpdate, isUnfreezeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      fetchStakingHistory();
    }
  }, [fetchStakingHistory, isOpen]);
  const handleStartClaimingVesting = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_10__["default"])(() => {
    startClaimingVesting();
  });
  if (!mycoin) {
    return undefined;
  }
  function renderUnfrozenDescription() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].unfreezeTime
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].unfreezeTimeIcon, 'icon-clock'),
      "aria-hidden": true
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", null, lang('You will receive your unfrozen coins in a few minutes.')));
  }
  function renderVestingInfo(info) {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      key: info.id,
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].block
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].vestingInfo
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].blockTitle
    }, info.title), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].blockSubtitle
    }, lang('%volume% in %amount% parts', {
      volume: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", null, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)(info.initialAmount, mycoin.symbol, mycoin.decimals)),
      amount: info.parts.length.toString()
    }))), info.parts.map(part => {
      const icon = part.status === 'frozen' ? 'icon-snow' : part.status === 'missed' ? 'icon-missed' : part.status === 'unfrozen' ? 'icon-check' : 'icon-fire';
      const title = part.status === 'frozen' ? 'Frozen' : part.status === 'missed' ? 'Missed' : part.status === 'unfrozen' ? 'Unfrozen' : 'Ready to Unfreeze';
      const isInteractive = !isUnfreezeRequested && part.status === 'ready';
      const endsAt = part.status === 'frozen' ? part.time : part.status === 'ready' ? part.timeEnd : undefined;
      return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        key: part.id,
        role: isInteractive ? 'button' : undefined,
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].part, part.status, isInteractive && _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].partInteractive),
        onClick: isInteractive ? handleStartClaimingVesting : undefined
      }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].partIcon, icon, part.status),
        "aria-hidden": true
      }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].partName
      }, lang(title), Boolean(endsAt) && /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].date
      }, lang('until %date%', {
        date: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
          className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].bold
        }, (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_4__.formatFullDay)(lang.code, endsAt)), ",", ' ', (0,_util_dateFormat__WEBPACK_IMPORTED_MODULE_4__.formatTime)(endsAt))
      }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
        className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].partValue, part.status)
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatCurrency)(part.amount, mycoin.symbol, mycoin.decimals)));
    }));
  }
  function renderVestingSchedule() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].actions
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].actionsTitle
    }, lang('Vesting Schedule')), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_3__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].actionsList, 'custom-scroll')
    }, vesting === null || vesting === void 0 ? void 0 : vesting.map(renderVestingInfo)));
  }
  function renderContent() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].amountWrapper
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_ModalHeader__WEBPACK_IMPORTED_MODULE_14__["default"], {
      title: lang('Vesting'),
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].modalHeader,
      closeClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].close,
      onClose: closeVestingModal
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberField__WEBPACK_IMPORTED_MODULE_15__["default"], {
      labelText: lang('Vesting Balance'),
      zeroValue: "...",
      value: currentlyFrozenAmount || '0',
      decimals: _staking_StakingInitial__WEBPACK_IMPORTED_MODULE_11__.STAKING_DECIMAL,
      suffix: MY_TOKEN_SYMBOL,
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputWrapper,
      labelClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputLabel,
      valueClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputValue
    }), isUnfreezeRequested ? renderUnfrozenDescription() : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_RichNumberField__WEBPACK_IMPORTED_MODULE_15__["default"], {
      labelText: lang('Ready to Unfreeze'),
      zeroValue: "...",
      value: currentlyReadyToUnfreezeAmount,
      decimals: _staking_StakingInitial__WEBPACK_IMPORTED_MODULE_11__.STAKING_DECIMAL,
      suffix: MY_TOKEN_SYMBOL,
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputWrapper,
      inputClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].unfreezeInput,
      labelClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].inputLabel,
      valueClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].unfreezeResult
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].buttons
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Button__WEBPACK_IMPORTED_MODULE_12__["default"], {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].button,
      isPrimary: true,
      isDisabled: isDisabledUnfreeze,
      onClick: !isDisabledUnfreeze ? handleStartClaimingVesting : undefined
    }, lang('Unfreeze'))))), renderVestingSchedule());
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_13__["default"], {
    isOpen: isOpen,
    contentClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_16__["default"].modalDialog,
    nativeBottomSheetKey: "vesting-info",
    forceFullNative: true,
    onClose: closeVestingModal
  }, renderContent());
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global);
  const {
    info: vesting,
    unfreezeRequestedIds
  } = (accountState === null || accountState === void 0 ? void 0 : accountState.vesting) || {};
  return {
    isOpen: global.isVestingModalOpen,
    vesting,
    isUnfreezeRequested: Boolean(unfreezeRequestedIds === null || unfreezeRequestedIds === void 0 ? void 0 : unfreezeRequestedIds.length),
    mycoin: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_2__.selectMycoin)(global)
  };
})(VestingModal)));

/***/ }),

/***/ "./src/components/vesting/VestingPasswordModal.tsx":
/*!*********************************************************!*\
  !*** ./src/components/vesting/VestingPasswordModal.tsx ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/buildClassName */ "./src/util/buildClassName.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_formatNumber__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../util/formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../util/resolveModalTransitionName */ "./src/util/resolveModalTransitionName.ts");
/* harmony import */ var _util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../util/shortenAddress */ "./src/util/shortenAddress.ts");
/* harmony import */ var _main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../main/helpers/calcVestingAmountByStatus */ "./src/components/main/helpers/calcVestingAmountByStatus.ts");
/* harmony import */ var _hooks_useLang__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useLang */ "./src/hooks/useLang.ts");
/* harmony import */ var _hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../hooks/useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../hooks/useModalTransitionKeys */ "./src/hooks/useModalTransitionKeys.ts");
/* harmony import */ var _ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../ledger/LedgerConfirmOperation */ "./src/components/ledger/LedgerConfirmOperation.tsx");
/* harmony import */ var _ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../ledger/LedgerConnect */ "./src/components/ledger/LedgerConnect.tsx");
/* harmony import */ var _ui_Modal__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../ui/Modal */ "./src/components/ui/Modal.tsx");
/* harmony import */ var _ui_PasswordForm__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../ui/PasswordForm */ "./src/components/ui/PasswordForm.tsx");
/* harmony import */ var _ui_Transition__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../ui/Transition */ "./src/components/ui/Transition.tsx");
/* harmony import */ var _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../ui/Modal.module.scss */ "./src/components/ui/Modal.module.scss");
/* harmony import */ var _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./VestingModal.module.scss */ "./src/components/vesting/VestingModal.module.scss");






















function VestingPasswordModal(_ref) {
  let {
    isOpen,
    vesting,
    tokens,
    isLoading,
    address,
    error,
    mycoin,
    state = _global_types__WEBPACK_IMPORTED_MODULE_2__.VestingUnfreezeState.Password,
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isHardwareAccount
  } = _ref;
  const {
    submitClaimingVesting,
    submitClaimingVestingHardware,
    cancelClaimingVesting,
    clearVestingError
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const lang = (0,_hooks_useLang__WEBPACK_IMPORTED_MODULE_12__["default"])();
  const {
    amount: balance
  } = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => tokens === null || tokens === void 0 ? void 0 : tokens.find(_ref2 => {
    let {
      slug
    } = _ref2;
    return slug === _config__WEBPACK_IMPORTED_MODULE_3__.TONCOIN_SLUG;
  }), [tokens]) || {};
  const claimAmount = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_7__.toBig)(_config__WEBPACK_IMPORTED_MODULE_3__.CLAIM_AMOUNT);
  const hasAmountError = !balance || balance < _config__WEBPACK_IMPORTED_MODULE_3__.CLAIM_AMOUNT;
  const {
    renderingKey,
    nextKey,
    updateNextKey
  } = (0,_hooks_useModalTransitionKeys__WEBPACK_IMPORTED_MODULE_14__["default"])(state, Boolean(isOpen));
  const withModalHeader = !isHardwareAccount && !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR;
  const currentlyReadyToUnfreezeAmount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!vesting) return '0';
    return (0,_main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_11__.calcVestingAmountByStatus)(vesting, ['ready']);
  }, [vesting]);
  const handleSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(password => {
    if (hasAmountError) return;
    submitClaimingVesting({
      password
    });
  });
  const handleHardwareSubmit = (0,_hooks_useLastCallback__WEBPACK_IMPORTED_MODULE_13__["default"])(() => {
    if (hasAmountError) return;
    submitClaimingVestingHardware();
  });
  if (!mycoin) {
    return undefined;
  }
  function renderInfo() {
    return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].Fragment, null, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].operationInfo, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].operationInfoWithGap)
    }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("img", {
      src: mycoin.image,
      alt: "",
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].tokenIcon
    }), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
      className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].operationInfoText
    }, lang('%amount% to %address%', {
      amount: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].bold
      }, (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(currentlyReadyToUnfreezeAmount, mycoin.symbol, mycoin.decimals)),
      address: /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("span", {
        className: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].bold
      }, (0,_util_shortenAddress__WEBPACK_IMPORTED_MODULE_10__.shortenAddress)(address))
    }))), /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("div", {
      className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].operationInfoFee, !_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR && _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].operationInfoFeeWithGap)
    }, (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_4__["default"])(lang('$fee_value_bold', {
      fee: (0,_util_formatNumber__WEBPACK_IMPORTED_MODULE_8__.formatCurrency)(claimAmount, _config__WEBPACK_IMPORTED_MODULE_3__.TON_SYMBOL)
    }))));
  }

  // eslint-disable-next-line consistent-return
  function renderContent(isActive, isFrom, currentKey) {
    switch (currentKey) {
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.VestingUnfreezeState.ConnectHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConnect__WEBPACK_IMPORTED_MODULE_16__["default"], {
          isActive: isActive,
          state: hardwareState,
          isLedgerConnected: isLedgerConnected,
          isTonAppConnected: isTonAppConnected,
          onConnected: handleHardwareSubmit,
          onClose: cancelClaimingVesting
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.VestingUnfreezeState.ConfirmHardware:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ledger_LedgerConfirmOperation__WEBPACK_IMPORTED_MODULE_15__["default"], {
          text: lang('Please confirm transaction on your Ledger'),
          error: error,
          onClose: cancelClaimingVesting,
          onTryAgain: handleHardwareSubmit
        });
      case _global_types__WEBPACK_IMPORTED_MODULE_2__.VestingUnfreezeState.Password:
        return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_PasswordForm__WEBPACK_IMPORTED_MODULE_18__["default"], {
          isActive: Boolean(isOpen),
          isLoading: isLoading,
          withCloseButton: true,
          operationType: "unfreeze",
          error: hasAmountError ? lang('Insufficient Balance for Fee') : error,
          submitLabel: lang('Confirm'),
          onSubmit: handleSubmit,
          onCancel: cancelClaimingVesting,
          onUpdate: clearVestingError
        }, renderInfo());
    }
  }
  return /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Modal__WEBPACK_IMPORTED_MODULE_17__["default"], {
    isOpen: isOpen,
    title: withModalHeader ? lang('Confirm Unfreezing') : undefined,
    hasCloseButton: withModalHeader,
    forceFullNative: true,
    nativeBottomSheetKey: "vesting-confirm",
    contentClassName: _VestingModal_module_scss__WEBPACK_IMPORTED_MODULE_21__["default"].passwordModalDialog,
    onClose: cancelClaimingVesting
  }, /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement(_ui_Transition__WEBPACK_IMPORTED_MODULE_19__["default"], {
    name: (0,_util_resolveModalTransitionName__WEBPACK_IMPORTED_MODULE_9__["default"])(),
    className: (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_6__["default"])(_ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].transition, 'custom-scroll'),
    slideClassName: _ui_Modal_module_scss__WEBPACK_IMPORTED_MODULE_20__["default"].transitionSlide,
    activeKey: renderingKey,
    nextKey: nextKey,
    onStop: updateNextKey
  }, renderContent));
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.memo)((0,_global__WEBPACK_IMPORTED_MODULE_1__.withGlobal)(global => {
  const {
    address
  } = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectAccount)(global, global.currentAccountId) || {};
  const accountState = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountState)(global);
  const isHardwareAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectIsHardwareAccount)(global);
  const {
    isConfirmRequested: isOpen,
    info: vesting,
    isLoading,
    error,
    unfreezeState
  } = (accountState === null || accountState === void 0 ? void 0 : accountState.vesting) || {};
  const tokens = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountTokens)(global);
  const {
    hardwareState,
    isLedgerConnected,
    isTonAppConnected
  } = global.hardware;
  return {
    isOpen,
    vesting,
    tokens,
    isLoading,
    error,
    address,
    state: unfreezeState,
    mycoin: (0,_global_selectors__WEBPACK_IMPORTED_MODULE_5__.selectMycoin)(global),
    hardwareState,
    isLedgerConnected,
    isTonAppConnected,
    isHardwareAccount
  };
})(VestingPasswordModal)));

/***/ }),

/***/ "./src/config.ts":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ACTIVE_TAB_STORAGE_KEY: () => (/* binding */ ACTIVE_TAB_STORAGE_KEY),
/* harmony export */   ANIMATED_STICKER_BIG_SIZE_PX: () => (/* binding */ ANIMATED_STICKER_BIG_SIZE_PX),
/* harmony export */   ANIMATED_STICKER_HUGE_SIZE_PX: () => (/* binding */ ANIMATED_STICKER_HUGE_SIZE_PX),
/* harmony export */   ANIMATED_STICKER_MIDDLE_SIZE_PX: () => (/* binding */ ANIMATED_STICKER_MIDDLE_SIZE_PX),
/* harmony export */   ANIMATED_STICKER_SMALL_SIZE_PX: () => (/* binding */ ANIMATED_STICKER_SMALL_SIZE_PX),
/* harmony export */   ANIMATED_STICKER_TINY_SIZE_PX: () => (/* binding */ ANIMATED_STICKER_TINY_SIZE_PX),
/* harmony export */   ANIMATION_END_DELAY: () => (/* binding */ ANIMATION_END_DELAY),
/* harmony export */   ANIMATION_LEVEL_DEFAULT: () => (/* binding */ ANIMATION_LEVEL_DEFAULT),
/* harmony export */   ANIMATION_LEVEL_MAX: () => (/* binding */ ANIMATION_LEVEL_MAX),
/* harmony export */   ANIMATION_LEVEL_MED: () => (/* binding */ ANIMATION_LEVEL_MED),
/* harmony export */   ANIMATION_LEVEL_MIN: () => (/* binding */ ANIMATION_LEVEL_MIN),
/* harmony export */   APP_ENV: () => (/* binding */ APP_ENV),
/* harmony export */   APP_ENV_MARKER: () => (/* binding */ APP_ENV_MARKER),
/* harmony export */   APP_NAME: () => (/* binding */ APP_NAME),
/* harmony export */   APP_REPO_URL: () => (/* binding */ APP_REPO_URL),
/* harmony export */   APP_VERSION: () => (/* binding */ APP_VERSION),
/* harmony export */   BETA_URL: () => (/* binding */ BETA_URL),
/* harmony export */   BOT_USERNAME: () => (/* binding */ BOT_USERNAME),
/* harmony export */   BROWSER_HISTORY_LIMIT: () => (/* binding */ BROWSER_HISTORY_LIMIT),
/* harmony export */   BURN_ADDRESS: () => (/* binding */ BURN_ADDRESS),
/* harmony export */   BURN_CHUNK_DURATION_APPROX_SEC: () => (/* binding */ BURN_CHUNK_DURATION_APPROX_SEC),
/* harmony export */   CHANGELLY_AML_KYC: () => (/* binding */ CHANGELLY_AML_KYC),
/* harmony export */   CHANGELLY_LIVE_CHAT_URL: () => (/* binding */ CHANGELLY_LIVE_CHAT_URL),
/* harmony export */   CHANGELLY_PRIVACY_POLICY: () => (/* binding */ CHANGELLY_PRIVACY_POLICY),
/* harmony export */   CHANGELLY_SECURITY_EMAIL: () => (/* binding */ CHANGELLY_SECURITY_EMAIL),
/* harmony export */   CHANGELLY_SUPPORT_EMAIL: () => (/* binding */ CHANGELLY_SUPPORT_EMAIL),
/* harmony export */   CHANGELLY_TERMS_OF_USE: () => (/* binding */ CHANGELLY_TERMS_OF_USE),
/* harmony export */   CHANGELLY_WAITING_DEADLINE: () => (/* binding */ CHANGELLY_WAITING_DEADLINE),
/* harmony export */   CLAIM_ADDRESS: () => (/* binding */ CLAIM_ADDRESS),
/* harmony export */   CLAIM_AMOUNT: () => (/* binding */ CLAIM_AMOUNT),
/* harmony export */   CLAIM_COMMENT: () => (/* binding */ CLAIM_COMMENT),
/* harmony export */   CURRENCY_LIST: () => (/* binding */ CURRENCY_LIST),
/* harmony export */   DEBUG: () => (/* binding */ DEBUG),
/* harmony export */   DEBUG_ALERT_MSG: () => (/* binding */ DEBUG_ALERT_MSG),
/* harmony export */   DEBUG_MORE: () => (/* binding */ DEBUG_MORE),
/* harmony export */   DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG: () => (/* binding */ DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG),
/* harmony export */   DEFAULT_DECIMAL_PLACES: () => (/* binding */ DEFAULT_DECIMAL_PLACES),
/* harmony export */   DEFAULT_ERROR_PAUSE: () => (/* binding */ DEFAULT_ERROR_PAUSE),
/* harmony export */   DEFAULT_FEE: () => (/* binding */ DEFAULT_FEE),
/* harmony export */   DEFAULT_LANDSCAPE_ACTION_TAB_ID: () => (/* binding */ DEFAULT_LANDSCAPE_ACTION_TAB_ID),
/* harmony export */   DEFAULT_PRICE_CURRENCY: () => (/* binding */ DEFAULT_PRICE_CURRENCY),
/* harmony export */   DEFAULT_RETRIES: () => (/* binding */ DEFAULT_RETRIES),
/* harmony export */   DEFAULT_SLIPPAGE_VALUE: () => (/* binding */ DEFAULT_SLIPPAGE_VALUE),
/* harmony export */   DEFAULT_SWAP_SECOND_TOKEN_SLUG: () => (/* binding */ DEFAULT_SWAP_SECOND_TOKEN_SLUG),
/* harmony export */   DEFAULT_TIMEOUT: () => (/* binding */ DEFAULT_TIMEOUT),
/* harmony export */   DIESEL_TOKENS: () => (/* binding */ DIESEL_TOKENS),
/* harmony export */   ELECTRON_HOST_URL: () => (/* binding */ ELECTRON_HOST_URL),
/* harmony export */   ELECTRON_TONHTTPAPI_MAINNET_API_KEY: () => (/* binding */ ELECTRON_TONHTTPAPI_MAINNET_API_KEY),
/* harmony export */   ELECTRON_TONHTTPAPI_TESTNET_API_KEY: () => (/* binding */ ELECTRON_TONHTTPAPI_TESTNET_API_KEY),
/* harmony export */   EMPTY_HASH_VALUE: () => (/* binding */ EMPTY_HASH_VALUE),
/* harmony export */   FRACTION_DIGITS: () => (/* binding */ FRACTION_DIGITS),
/* harmony export */   GETGEMS_BASE_MAINNET_URL: () => (/* binding */ GETGEMS_BASE_MAINNET_URL),
/* harmony export */   GETGEMS_BASE_TESTNET_URL: () => (/* binding */ GETGEMS_BASE_TESTNET_URL),
/* harmony export */   GLOBAL_STATE_CACHE_DISABLED: () => (/* binding */ GLOBAL_STATE_CACHE_DISABLED),
/* harmony export */   GLOBAL_STATE_CACHE_KEY: () => (/* binding */ GLOBAL_STATE_CACHE_KEY),
/* harmony export */   HISTORY_PERIODS: () => (/* binding */ HISTORY_PERIODS),
/* harmony export */   INACTIVE_MARKER: () => (/* binding */ INACTIVE_MARKER),
/* harmony export */   INIT_SWAP_ASSETS: () => (/* binding */ INIT_SWAP_ASSETS),
/* harmony export */   IS_ANDROID_DIRECT: () => (/* binding */ IS_ANDROID_DIRECT),
/* harmony export */   IS_CAPACITOR: () => (/* binding */ IS_CAPACITOR),
/* harmony export */   IS_EXTENSION: () => (/* binding */ IS_EXTENSION),
/* harmony export */   IS_FIREFOX_EXTENSION: () => (/* binding */ IS_FIREFOX_EXTENSION),
/* harmony export */   IS_PACKAGED_ELECTRON: () => (/* binding */ IS_PACKAGED_ELECTRON),
/* harmony export */   IS_PRODUCTION: () => (/* binding */ IS_PRODUCTION),
/* harmony export */   IS_TEST: () => (/* binding */ IS_TEST),
/* harmony export */   LANG_CACHE_NAME: () => (/* binding */ LANG_CACHE_NAME),
/* harmony export */   LANG_LIST: () => (/* binding */ LANG_LIST),
/* harmony export */   LIQUID_JETTON: () => (/* binding */ LIQUID_JETTON),
/* harmony export */   LIQUID_POOL: () => (/* binding */ LIQUID_POOL),
/* harmony export */   MAIN_ACCOUNT_ID: () => (/* binding */ MAIN_ACCOUNT_ID),
/* harmony export */   MIN_ASSETS_TAB_VIEW: () => (/* binding */ MIN_ASSETS_TAB_VIEW),
/* harmony export */   MIN_BALANCE_FOR_UNSTAKE: () => (/* binding */ MIN_BALANCE_FOR_UNSTAKE),
/* harmony export */   MNEMONIC_CHECK_COUNT: () => (/* binding */ MNEMONIC_CHECK_COUNT),
/* harmony export */   MNEMONIC_COUNT: () => (/* binding */ MNEMONIC_COUNT),
/* harmony export */   MOBILE_SCREEN_MAX_WIDTH: () => (/* binding */ MOBILE_SCREEN_MAX_WIDTH),
/* harmony export */   MULTITAB_DATA_CHANNEL_NAME: () => (/* binding */ MULTITAB_DATA_CHANNEL_NAME),
/* harmony export */   MYCOIN_SLUG: () => (/* binding */ MYCOIN_SLUG),
/* harmony export */   MYCOIN_SLUG_TESTNET: () => (/* binding */ MYCOIN_SLUG_TESTNET),
/* harmony export */   MYCOIN_TOKEN: () => (/* binding */ MYCOIN_TOKEN),
/* harmony export */   MYCOIN_TOKEN_TESTNET: () => (/* binding */ MYCOIN_TOKEN_TESTNET),
/* harmony export */   MY_TON_WALLET_PROMO_URL: () => (/* binding */ MY_TON_WALLET_PROMO_URL),
/* harmony export */   NATIVE_BIOMETRICS_SERVER: () => (/* binding */ NATIVE_BIOMETRICS_SERVER),
/* harmony export */   NATIVE_BIOMETRICS_USERNAME: () => (/* binding */ NATIVE_BIOMETRICS_USERNAME),
/* harmony export */   NFT_BATCH_SIZE: () => (/* binding */ NFT_BATCH_SIZE),
/* harmony export */   NOMINATORS_STAKING_MIN_AMOUNT: () => (/* binding */ NOMINATORS_STAKING_MIN_AMOUNT),
/* harmony export */   NOTCOIN_EXCHANGERS: () => (/* binding */ NOTCOIN_EXCHANGERS),
/* harmony export */   NOTCOIN_VOUCHERS_ADDRESS: () => (/* binding */ NOTCOIN_VOUCHERS_ADDRESS),
/* harmony export */   ONE_TON: () => (/* binding */ ONE_TON),
/* harmony export */   PIN_LENGTH: () => (/* binding */ PIN_LENGTH),
/* harmony export */   POPULAR_WALLET_VERSIONS: () => (/* binding */ POPULAR_WALLET_VERSIONS),
/* harmony export */   PRIVATE_KEY_HEX_LENGTH: () => (/* binding */ PRIVATE_KEY_HEX_LENGTH),
/* harmony export */   PRODUCTION_URL: () => (/* binding */ PRODUCTION_URL),
/* harmony export */   PROXY_HOSTS: () => (/* binding */ PROXY_HOSTS),
/* harmony export */   SHORT_CURRENCY_SYMBOL_MAP: () => (/* binding */ SHORT_CURRENCY_SYMBOL_MAP),
/* harmony export */   SHORT_FRACTION_DIGITS: () => (/* binding */ SHORT_FRACTION_DIGITS),
/* harmony export */   STAKING_CYCLE_DURATION_MS: () => (/* binding */ STAKING_CYCLE_DURATION_MS),
/* harmony export */   STAKING_MIN_AMOUNT: () => (/* binding */ STAKING_MIN_AMOUNT),
/* harmony export */   STAKING_POOLS: () => (/* binding */ STAKING_POOLS),
/* harmony export */   STRICTERDOM_ENABLED: () => (/* binding */ STRICTERDOM_ENABLED),
/* harmony export */   SUPPORT_USERNAME: () => (/* binding */ SUPPORT_USERNAME),
/* harmony export */   TELEGRAM_WEB_URL: () => (/* binding */ TELEGRAM_WEB_URL),
/* harmony export */   THEME_DEFAULT: () => (/* binding */ THEME_DEFAULT),
/* harmony export */   TINY_TRANSFER_MAX_COST: () => (/* binding */ TINY_TRANSFER_MAX_COST),
/* harmony export */   TOKEN_EXPLORER_MAINNET_URL: () => (/* binding */ TOKEN_EXPLORER_MAINNET_URL),
/* harmony export */   TOKEN_EXPLORER_NAME: () => (/* binding */ TOKEN_EXPLORER_NAME),
/* harmony export */   TOKEN_EXPLORER_TESTNET_URL: () => (/* binding */ TOKEN_EXPLORER_TESTNET_URL),
/* harmony export */   TOKEN_INFO: () => (/* binding */ TOKEN_INFO),
/* harmony export */   TONCOIN_SLUG: () => (/* binding */ TONCOIN_SLUG),
/* harmony export */   TONCONNECT_PROTOCOL_VERSION: () => (/* binding */ TONCONNECT_PROTOCOL_VERSION),
/* harmony export */   TONCONNECT_WALLET_JSBRIDGE_KEY: () => (/* binding */ TONCONNECT_WALLET_JSBRIDGE_KEY),
/* harmony export */   TONHTTPAPI_MAINNET_API_KEY: () => (/* binding */ TONHTTPAPI_MAINNET_API_KEY),
/* harmony export */   TONHTTPAPI_MAINNET_URL: () => (/* binding */ TONHTTPAPI_MAINNET_URL),
/* harmony export */   TONHTTPAPI_TESTNET_API_KEY: () => (/* binding */ TONHTTPAPI_TESTNET_API_KEY),
/* harmony export */   TONHTTPAPI_TESTNET_URL: () => (/* binding */ TONHTTPAPI_TESTNET_URL),
/* harmony export */   TON_BLOCKCHAIN: () => (/* binding */ TON_BLOCKCHAIN),
/* harmony export */   TON_DNS_COLLECTION: () => (/* binding */ TON_DNS_COLLECTION),
/* harmony export */   TON_EXPLORER_BASE_MAINNET_URL: () => (/* binding */ TON_EXPLORER_BASE_MAINNET_URL),
/* harmony export */   TON_EXPLORER_BASE_TESTNET_URL: () => (/* binding */ TON_EXPLORER_BASE_TESTNET_URL),
/* harmony export */   TON_EXPLORER_NAME: () => (/* binding */ TON_EXPLORER_NAME),
/* harmony export */   TON_SYMBOL: () => (/* binding */ TON_SYMBOL),
/* harmony export */   WHOLE_PART_DELIMITER: () => (/* binding */ WHOLE_PART_DELIMITER),
/* harmony export */   WINDOW_PROVIDER_CHANNEL: () => (/* binding */ WINDOW_PROVIDER_CHANNEL)
/* harmony export */ });
/* unused harmony exports IS_PERF, BASE_URL, SWAP_FEE_ADDRESS, ANIMATED_STICKER_DEFAULT_PX, TONHTTPAPI_V3_MAINNET_API_URL, TONAPIIO_MAINNET_URL, TONHTTPAPI_V3_TESTNET_API_URL, TONAPIIO_TESTNET_URL, BRILLIANT_API_BASE_URL, VALIDATION_PERIOD_MS, STAKING_FORWARD_AMOUNT, NFT_FRAGMENT_COLLECTIONS, INDEXED_DB_NAME, INDEXED_DB_STORE_NAME, DEFAULT_WALLET_VERSION, NOTCOIN_FORWARD_TON_AMOUNT, RE_LINK_TEMPLATE, RE_TG_BOT_MENTION, DIESEL_ADDRESS */
const APP_ENV = "development";
const APP_NAME =  false || 'MyTonWallet';
const APP_VERSION = "3.0.10";
const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;
const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';
const DEBUG_MORE = false;
const IS_PRODUCTION = APP_ENV === 'production';
const IS_TEST = APP_ENV === 'test';
const IS_PERF = APP_ENV === 'perf';
const IS_EXTENSION = false === '1';
const IS_FIREFOX_EXTENSION = false === '1';
const IS_PACKAGED_ELECTRON = false === '1';
const IS_CAPACITOR = false === '1';
const IS_ANDROID_DIRECT = false === '1';
const ELECTRON_HOST_URL = 'https://dumb-host';
const INACTIVE_MARKER = '[Inactive]';
const PRODUCTION_URL = 'https://mytonwallet.app';
const BETA_URL = 'https://beta.mytonwallet.app';
const APP_REPO_URL = 'https://github.com/mytonwalletorg/mytonwallet';
const BASE_URL = "https://mytonwallet.app";
const BOT_USERNAME =  false || 'MyTonWalletBot';
const SWAP_FEE_ADDRESS =  false || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';
const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;
const DEBUG_ALERT_MSG = 'Shoot!\nSomething went wrong, please see the error details in Dev Tools Console.';
const PIN_LENGTH = 4;
const NATIVE_BIOMETRICS_USERNAME = 'MyTonWallet';
const NATIVE_BIOMETRICS_SERVER = 'https://mytonwallet.app';
const MNEMONIC_COUNT = 24;
const PRIVATE_KEY_HEX_LENGTH = 64;
const MNEMONIC_CHECK_COUNT = 3;
const MOBILE_SCREEN_MAX_WIDTH = 700; // px

const ANIMATION_END_DELAY = 50;
const ANIMATED_STICKER_TINY_SIZE_PX = 70;
const ANIMATED_STICKER_SMALL_SIZE_PX = 110;
const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;
const ANIMATED_STICKER_DEFAULT_PX = 150;
const ANIMATED_STICKER_BIG_SIZE_PX = 156;
const ANIMATED_STICKER_HUGE_SIZE_PX = 192;
const TON_SYMBOL = 'TON';
const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;
const DEFAULT_DECIMAL_PLACES = 9;
const WHOLE_PART_DELIMITER = ' '; // https://www.compart.com/en/unicode/U+202F

const DEFAULT_SLIPPAGE_VALUE = 5;
const GLOBAL_STATE_CACHE_DISABLED = false;
const GLOBAL_STATE_CACHE_KEY = 'mytonwallet-global-state';
const ANIMATION_LEVEL_MIN = 0;
const ANIMATION_LEVEL_MED = 1;
const ANIMATION_LEVEL_MAX = 2;
const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;
const THEME_DEFAULT = 'system';
const MAIN_ACCOUNT_ID = '0-ton-mainnet';
const TONHTTPAPI_MAINNET_URL =  false || 'https://tonhttpapi.mytonwallet.org/api/v2/jsonRPC';
const TONHTTPAPI_MAINNET_API_KEY = null;
const ELECTRON_TONHTTPAPI_MAINNET_API_KEY = null;
const TONHTTPAPI_V3_MAINNET_API_URL =  false || 'https://tonhttpapi-v3.mytonwallet.org/api/v3';
const TONAPIIO_MAINNET_URL =  false || 'https://tonapiio.mytonwallet.org';
const TONHTTPAPI_TESTNET_URL =  false || 'https://tonhttpapi-testnet.mytonwallet.org/api/v2/jsonRPC';
const TONHTTPAPI_TESTNET_API_KEY = null;
const ELECTRON_TONHTTPAPI_TESTNET_API_KEY = null;
const TONHTTPAPI_V3_TESTNET_API_URL =  false || 'https://tonhttpapi-v3-testnet.mytonwallet.org/api/v3';
const TONAPIIO_TESTNET_URL =  false || 'https://tonapiio-testnet.mytonwallet.org';
const BRILLIANT_API_BASE_URL =  false || 'https://api.mytonwallet.org';
const FRACTION_DIGITS = 9;
const SHORT_FRACTION_DIGITS = 2;
const SUPPORT_USERNAME = 'MyTonWalletSupport';
const MY_TON_WALLET_PROMO_URL = 'https://mytonwallet.io';
const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';
const TON_EXPLORER_BASE_MAINNET_URL = 'https://tonviewer.com/';
const TON_EXPLORER_BASE_TESTNET_URL = 'https://testnet.tonviewer.com/';
const TON_EXPLORER_NAME = 'Tonviewer';
const TOKEN_EXPLORER_MAINNET_URL = 'https://tonviewer.com/{address}?section=jetton';
const TOKEN_EXPLORER_TESTNET_URL = 'https://testnet.tonviewer.com/{address}?section=jetton';
const TOKEN_EXPLORER_NAME = 'TonViewer';
const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';
const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';
const EMPTY_HASH_VALUE = 'NOHASH';
const CHANGELLY_SUPPORT_EMAIL = 'support@changelly.com';
const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';
const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';
const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';
const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';
const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';
const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hour

const TONCOIN_SLUG = 'toncoin';
const DEFAULT_SWAP_SECOND_TOKEN_SLUG = 'ton-eqcxe6mutq'; // USD₮
const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = 'usdtrx';
const PROXY_HOSTS = null;
const TINY_TRANSFER_MAX_COST = 0.01;
const LANG_CACHE_NAME = 'mtw-lang-125';
const LANG_LIST = [{
  langCode: 'en',
  name: 'English',
  nativeName: 'English',
  rtl: false
}, {
  langCode: 'es',
  name: 'Spanish',
  nativeName: 'Español',
  rtl: false
}, {
  langCode: 'ru',
  name: 'Russian',
  nativeName: 'Русский',
  rtl: false
}, {
  langCode: 'zh-Hans',
  name: 'Chinese (Simplified)',
  nativeName: '简体',
  rtl: false
}, {
  langCode: 'zh-Hant',
  name: 'Chinese (Traditional)',
  nativeName: '繁體',
  rtl: false
}, {
  langCode: 'tr',
  name: 'Turkish',
  nativeName: 'Türkçe',
  rtl: false
}, {
  langCode: 'de',
  name: 'German',
  nativeName: 'Deutsch',
  rtl: false
}, {
  langCode: 'th',
  name: 'Thai',
  nativeName: 'ไทย',
  rtl: false
}, {
  langCode: 'uk',
  name: 'Ukrainian',
  nativeName: 'Українська',
  rtl: false
}, {
  langCode: 'pl',
  name: 'Polish',
  nativeName: 'Polski',
  rtl: false
}];
const STAKING_CYCLE_DURATION_MS = 131072000; // 36.4 hours
const VALIDATION_PERIOD_MS = 65536000; // 18.2 h.
const ONE_TON = 1000000000n;
const MIN_BALANCE_FOR_UNSTAKE = 1020000000n; // 1.02 TON
const STAKING_FORWARD_AMOUNT = ONE_TON;
const DEFAULT_FEE = 15000000n; // 0.015 TON

const STAKING_POOLS =  false ? 0 : [];
const LIQUID_POOL =  false || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';
const LIQUID_JETTON =  false || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';
const STAKING_MIN_AMOUNT = ONE_TON;
const NOMINATORS_STAKING_MIN_AMOUNT = ONE_TON * 10001n;
const TONCONNECT_PROTOCOL_VERSION = 2;
const TONCONNECT_WALLET_JSBRIDGE_KEY = 'mytonwallet';
const NFT_FRAGMENT_COLLECTIONS = new Set(['0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2',
// Anonymous Telegram Numbers
'0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2' // Telegram Usernames
]);

const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';
const MYCOIN_TOKEN = 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w';
const MYCOIN_SLUG = 'ton-eqcfvnlrbn';
const MYCOIN_TOKEN_TESTNET = 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ';
const MYCOIN_SLUG_TESTNET = 'ton-kqawlxpebw';
const TOKEN_INFO = {
  toncoin: {
    name: 'Toncoin',
    symbol: TON_SYMBOL,
    slug: TONCOIN_SLUG,
    cmcSlug: TONCOIN_SLUG,
    quote: {
      slug: TONCOIN_SLUG,
      price: 1.95,
      priceUsd: 1.95,
      percentChange24h: 0
    },
    decimals: DEFAULT_DECIMAL_PLACES
  }
};
const TON_BLOCKCHAIN = 'ton';
const INIT_SWAP_ASSETS = {
  toncoin: {
    name: 'Toncoin',
    symbol: TON_SYMBOL,
    blockchain: TON_BLOCKCHAIN,
    slug: TONCOIN_SLUG,
    decimals: DEFAULT_DECIMAL_PLACES,
    price: 0,
    priceUsd: 0,
    isPopular: true
  },
  'ton-eqcxe6mutq': {
    name: 'Tether USD',
    symbol: 'USD₮',
    blockchain: TON_BLOCKCHAIN,
    slug: 'ton-eqcxe6mutq',
    decimals: 9,
    // eslint-disable-next-line max-len
    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',
    contract: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',
    price: 0,
    priceUsd: 0,
    isPopular: true
  }
};
const MULTITAB_DATA_CHANNEL_NAME = 'mtw-multitab';
const ACTIVE_TAB_STORAGE_KEY = 'mtw-active-tab';
const INDEXED_DB_NAME = 'keyval-store';
const INDEXED_DB_STORE_NAME = 'keyval';
const WINDOW_PROVIDER_CHANNEL = 'windowProvider';
const MIN_ASSETS_TAB_VIEW = 5;
const DEFAULT_PRICE_CURRENCY = 'USD';
const SHORT_CURRENCY_SYMBOL_MAP = {
  USD: '$',
  EUR: '€',
  RUB: '₽',
  CNY: '¥'
};
const CURRENCY_LIST = [{
  value: 'USD',
  name: 'US Dollar'
}, {
  value: 'EUR',
  name: 'Euro'
}, {
  value: 'RUB',
  name: 'Ruble'
}, {
  value: 'CNY',
  name: 'Yuan'
}, {
  value: 'BTC',
  name: 'Bitcoin'
}, {
  value: TON_SYMBOL,
  name: 'Toncoin'
}];
const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';
const DEFAULT_WALLET_VERSION = 'W5';
const POPULAR_WALLET_VERSIONS = ['v3R1', 'v3R2', 'v4R2', 'W5'];
const DEFAULT_TIMEOUT = 10000;
const DEFAULT_RETRIES = 3;
const DEFAULT_ERROR_PAUSE = 500;
const HISTORY_PERIODS = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];
const BROWSER_HISTORY_LIMIT = 10;
const NFT_BATCH_SIZE = 4;
const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';
const BURN_CHUNK_DURATION_APPROX_SEC = 30;
const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON
const NOTCOIN_EXCHANGERS = ['EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2', 'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ', 'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s', 'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm', 'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd', 'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD', 'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p', 'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO', 'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe', 'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-', 'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu', 'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH', 'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy', 'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT', 'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu', 'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw'];
const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';
const CLAIM_AMOUNT = 30000000n; // 0.03 TON
const CLAIM_COMMENT = 'claim';

// eslint-disable-next-line max-len
const RE_LINK_TEMPLATE = /((ftp|https?):\/\/)?(?<host>(www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z][-a-zA-Z0-9]{1,62})\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;
// eslint-disable-next-line max-len
const RE_TG_BOT_MENTION = /telegram[:\s-]*((@[a-z0-9_]+)|(https:\/\/)?(t\.me|telegram\.me|telegram\.dog)\/[a-z0-9_]+)/mig;
const DIESEL_ADDRESS =  false || 'EQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0D5s';
const DIESEL_TOKENS = new Set(['ton-eqcxe6mutq',
// USDT
'ton-eqavlwfdxg',
// Notcoin
'ton-eqcvxjy4eg' // DOGS
]);

/***/ }),

/***/ "./src/electron/types.ts":
/*!*******************************!*\
  !*** ./src/electron/types.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ElectronEvent: () => (/* binding */ ElectronEvent)
/* harmony export */ });
/* unused harmony export ElectronAction */
let ElectronEvent = /*#__PURE__*/function (ElectronEvent) {
  ElectronEvent["DEEPLINK"] = "deeplink";
  ElectronEvent["UPDATE_ERROR"] = "update-error";
  ElectronEvent["UPDATE_DOWNLOADED"] = "update-downloaded";
  return ElectronEvent;
}({});
let ElectronAction = /*#__PURE__*/function (ElectronAction) {
  ElectronAction["CLOSE"] = "close";
  ElectronAction["MINIMIZE"] = "minimize";
  ElectronAction["MAXIMIZE"] = "maximize";
  ElectronAction["UNMAXIMIZE"] = "unmaximize";
  ElectronAction["GET_IS_MAXIMIZED"] = "get-is-maximized";
  ElectronAction["INSTALL_UPDATE"] = "install-update";
  ElectronAction["HANDLE_DOUBLE_CLICK"] = "handle-double-click";
  ElectronAction["TOGGLE_DEEPLINK_HANDLER"] = "toggle-deeplink-handler";
  ElectronAction["GET_IS_TOUCH_ID_SUPPORTED"] = "get-is-touch-id-supported";
  ElectronAction["ENCRYPT_PASSWORD"] = "encrypt-password";
  ElectronAction["DECRYPT_PASSWORD"] = "decrypt-password";
  ElectronAction["SET_IS_TRAY_ICON_ENABLED"] = "set-is-tray-icon-enabled";
  ElectronAction["GET_IS_TRAY_ICON_ENABLED"] = "get-is-tray-icon-enabled";
  ElectronAction["SET_IS_AUTO_UPDATE_ENABLED"] = "set-is-auto-update-enabled";
  ElectronAction["GET_IS_AUTO_UPDATE_ENABLED"] = "get-is-auto-update-enabled";
  ElectronAction["RESTORE_STORAGE"] = "restore-storage";
  return ElectronAction;
}({});

/***/ }),

/***/ "./src/global/actions/api/auth.ts":
/*!****************************************!*\
  !*** ./src/global/actions/api/auth.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   selectMnemonicForCheck: () => (/* binding */ selectMnemonicForCheck)
/* harmony export */ });
/* harmony import */ var _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capgo/capacitor-native-biometric */ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js");
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/account */ "./src/util/account.ts");
/* harmony import */ var _util_authApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/authApi */ "./src/util/authApi/index.ts");
/* harmony import */ var _util_authApi_webAuthn__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/authApi/webAuthn */ "./src/util/authApi/webAuthn.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_clipboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/clipboard */ "./src/util/clipboard.ts");
/* harmony import */ var _util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/isMnemonicPrivateKey */ "./src/util/isMnemonicPrivateKey.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../.. */ "./src/global/index.ts");
/* harmony import */ var _initialState__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../initialState */ "./src/global/initialState.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");




















const CREATING_DURATION = 3300;
const NATIVE_BIOMETRICS_PAUSE_MS = 750;
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('resetAuth', global => {
  if (global.currentAccountId) {
    global = {
      ...global,
      appState: _types__WEBPACK_IMPORTED_MODULE_2__.AppState.Main
    };

    // Restore the network when refreshing the page during the switching networks
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
      isTestnet: (0,_util_account__WEBPACK_IMPORTED_MODULE_4__.parseAccountId)(global.currentAccountId).network === 'testnet'
    });
  }
  global = {
    ...global,
    auth: (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.cloneDeep)(_initialState__WEBPACK_IMPORTED_MODULE_17__.INITIAL_STATE.auth)
  };
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('startCreatingWallet', async (global, actions) => {
  var _selectAccounts;
  const accounts = (_selectAccounts = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAccounts)(global)) !== null && _selectAccounts !== void 0 ? _selectAccounts : {};
  const isFirstAccount = !Object.values(accounts).length;
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectFirstNonHardwareAccount)(global);
  const nextAuthState = firstNonHardwareAccount ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBackup : isFirstAccount ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createWallet
  // The app only has hardware wallets accounts, which means we need to create a password or biometrics
  : _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPin : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_BIOMETRIC_AUTH_SUPPORTED ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPassword;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectCurrentNetwork)(global);
  const checkResult = await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('checkApiAvailability', {
    blockchainKey: 'ton',
    network
  });
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  if (!checkResult) {
    actions.showError({
      error: _api_types__WEBPACK_IMPORTED_MODULE_1__.ApiCommonError.ServerError
    });
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if (Boolean(firstNonHardwareAccount) && !global.auth.password) {
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.checkPassword,
      error: undefined
    }));
    return;
  }
  const promiseCalls = [(0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('generateMnemonic'), ...(!firstNonHardwareAccount ? [(0,_util_schedulers__WEBPACK_IMPORTED_MODULE_13__.pause)(CREATING_DURATION)] : [])];
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: nextAuthState,
    method: 'createAccount',
    error: undefined
  }));
  const [mnemonic] = await Promise.all(promiseCalls);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)(), {
    mnemonic,
    mnemonicCheckIndexes: selectMnemonicForCheck()
  });
  if (firstNonHardwareAccount) {
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    actions.afterCreatePassword({
      password: global.auth.password
    });
    return;
  }
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPin : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_BIOMETRIC_AUTH_SUPPORTED ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPassword
  }));
  if (isFirstAccount) {
    actions.requestConfetti();
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnSuccess)();
    }
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('startCreatingBiometrics', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: global.auth.method !== 'createAccount' ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletConfirmBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.confirmBiometrics,
    biometricsStep: 1
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('cancelCreateBiometrics', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBiometrics,
    biometricsStep: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('createPin', (global, actions, _ref) => {
  let {
    pin,
    isImporting
  } = _ref;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: isImporting ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletConfirmPin : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.confirmPin,
    password: pin
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('confirmPin', (global, actions, _ref2) => {
  let {
    isImporting
  } = _ref2;
  if ((0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.getIsNativeBiometricAuthSupported)()) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      state: isImporting ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCreateNativeBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createNativeBiometrics
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  } else {
    actions.skipCreateNativeBiometrics();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('cancelConfirmPin', (global, actions, _ref3) => {
  let {
    isImporting
  } = _ref3;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: isImporting ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCreatePin : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPin
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('cancelDisclaimer', global => {
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPin : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_BIOMETRIC_AUTH_SUPPORTED ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPassword
  }));
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterCreatePassword', (global, actions, _ref4) => {
  let {
    password,
    isPasswordNumeric
  } = _ref4;
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true
  }));
  const {
    method
  } = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)().auth;
  const isImporting = method !== 'createAccount';
  const isHardware = method === 'importHardwareWallet';
  if (isHardware) {
    actions.createHardwareAccounts();
    return;
  }
  actions.createAccount({
    password,
    isImporting,
    isPasswordNumeric
  });
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterCreateBiometrics', async (global, actions) => {
  const withCredential = !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_ELECTRON;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true,
    error: undefined,
    biometricsStep: withCredential ? 1 : undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  try {
    const credential = withCredential ? await _util_authApi_webAuthn__WEBPACK_IMPORTED_MODULE_6__["default"].createCredential() : undefined;
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      biometricsStep: withCredential ? 2 : undefined
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    const result = await _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].setupBiometrics({
      credential
    });
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      isLoading: false,
      biometricsStep: undefined
    });
    if (!result) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
        error: 'Biometric setup failed.'
      });
      (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
      return;
    }
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
      authConfig: result.config
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    actions.afterCreatePassword({
      password: result.password
    });
  } catch (err) {
    const error = err !== null && err !== void 0 && err.message.includes('privacy-considerations-client') ? 'Biometric setup failed.' : (err === null || err === void 0 ? void 0 : err.message) || 'Biometric setup failed.';
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      isLoading: false,
      error,
      biometricsStep: undefined
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('skipCreateBiometrics', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createPassword
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterCreateNativeBiometrics', async (global, actions) => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true,
    error: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  try {
    const {
      password
    } = global.auth;
    const result = await _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].setupNativeBiometrics(password);
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      isLoading: false
    });
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
      authConfig: result.config
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    actions.afterCreatePassword({
      password: password,
      isPasswordNumeric: true
    });
  } catch (err) {
    const error = err !== null && err !== void 0 && err.message.includes('privacy-considerations-client') ? 'Biometric setup failed.' : (err === null || err === void 0 ? void 0 : err.message) || 'Biometric setup failed.';
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      isLoading: false,
      error
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('skipCreateNativeBiometrics', (global, actions) => {
  const {
    password
  } = global.auth;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: false,
    error: undefined
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
    authConfig: {
      kind: 'password'
    },
    isPasswordNumeric: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  actions.afterCreatePassword({
    password: password,
    isPasswordNumeric: true
  });
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('createAccount', async (global, actions, _ref5) => {
  let {
    password,
    isImporting,
    isPasswordNumeric,
    version
  } = _ref5;
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true
  }));
  const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectCurrentNetwork)((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)());
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)(isImporting ? 'importMnemonic' : 'createWallet', network, global.auth.mnemonic, password, version);
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if (!result || 'error' in result) {
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      isLoading: undefined
    }));
    actions.showError({
      error: result === null || result === void 0 ? void 0 : result.error
    });
    return;
  }
  const {
    accountId,
    address
  } = result;
  if (!isImporting) {
    global = {
      ...global,
      appState: _types__WEBPACK_IMPORTED_MODULE_2__.AppState.Auth,
      isAddAccountModalOpen: undefined
    };
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    address,
    accountId,
    isLoading: undefined,
    password: undefined,
    ...(isPasswordNumeric && {
      isPasswordNumeric: true
    })
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearIsPinAccepted)(global);
  if (isImporting) {
    const hasAccounts = Object.keys((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAccounts)(global) || {}).length > 0;
    if (hasAccounts) {
      (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
      actions.afterConfirmDisclaimer();
      return;
    } else {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
        state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.disclaimer
      });
    }
  } else {
    var _selectAccounts2;
    const accounts = (_selectAccounts2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAccounts)(global)) !== null && _selectAccounts2 !== void 0 ? _selectAccounts2 : {};
    const isFirstAccount = !Object.values(accounts).length;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
      state: isFirstAccount ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.disclaimerAndBackup : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.createBackup
    });
  }
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('createHardwareAccounts', async (global, actions) => {
  const isFirstAccount = !global.currentAccountId;
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isLoading: true
  }));
  const {
    hardwareSelectedIndices = []
  } = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)().hardware;
  const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectCurrentNetwork)((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)());
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  const wallets = await Promise.all(hardwareSelectedIndices.map(wallet => ledgerApi.importLedgerWallet(network, wallet)));
  const updatedGlobal = wallets.reduce((currentGlobal, wallet) => {
    if (!wallet) {
      return currentGlobal;
    }
    const {
      accountId,
      address,
      walletInfo
    } = wallet;
    currentGlobal = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(currentGlobal, accountId);
    currentGlobal = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.createAccount)(currentGlobal, accountId, address, {
      isHardware: true,
      ...(walletInfo && {
        ledger: {
          driver: walletInfo.driver,
          index: walletInfo.index
        }
      })
    });
    return currentGlobal;
  }, (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)());
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(updatedGlobal, {
    isLoading: false
  });
  global = {
    ...global,
    shouldForceAccountEdit: true
  };
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  if ((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)().areSettingsOpen) {
    actions.closeSettings();
  }
  if (isFirstAccount) {
    actions.afterSignIn();
    actions.resetApiSettings();
    actions.requestConfetti();
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnSuccess)();
    }
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterCheckMnemonic', (global, actions) => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(global, global.auth.accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountState)(global, {});
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.createAccount)(global, global.auth.accountId, global.auth.address);
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  actions.afterSignIn();
  if ((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectIsOneAccount)(global)) {
    actions.resetApiSettings();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('restartCheckMnemonicIndexes', global => {
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    mnemonicCheckIndexes: selectMnemonicForCheck()
  }));
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('skipCheckMnemonic', (global, actions) => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('skipCheckMnemonic');
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(global, global.auth.accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountState)(global, {
    isBackupRequired: true
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.createAccount)(global, global.auth.accountId, global.auth.address);
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  actions.afterSignIn();
  if ((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectIsOneAccount)(global)) {
    actions.resetApiSettings();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('startImportingWallet', global => {
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectFirstNonHardwareAccount)(global);
  const state = firstNonHardwareAccount && !global.auth.password ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCheckPassword : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWallet;
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state,
    error: undefined,
    method: 'importMnemonic'
  }));
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('openAbout', global => {
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.about,
    error: undefined
  }));
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('closeAbout', global => {
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.none,
    error: undefined
  }));
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterImportMnemonic', async (global, actions, _ref6) => {
  let {
    mnemonic
  } = _ref6;
  mnemonic = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.compact)(mnemonic);
  if (!(0,_util_isMnemonicPrivateKey__WEBPACK_IMPORTED_MODULE_9__["default"])(mnemonic)) {
    if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('validateMnemonic', mnemonic))) {
      (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)(), {
        error: 'Your mnemonic words are invalid.'
      }));
      return;
    }
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectFirstNonHardwareAccount)(global);
  const hasAccounts = Object.keys((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAccounts)(global) || {}).length > 0;
  const state = _config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCreatePin : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_BIOMETRIC_AUTH_SUPPORTED ? _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCreateBiometrics : _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.importWalletCreatePassword;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    mnemonic,
    error: undefined,
    ...(!firstNonHardwareAccount && {
      state
    })
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  if (!firstNonHardwareAccount) {
    if (!hasAccounts) {
      actions.requestConfetti();
    }
    if (_config__WEBPACK_IMPORTED_MODULE_3__.IS_CAPACITOR) {
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnSuccess)();
    }
  } else {
    actions.confirmDisclaimer();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('confirmDisclaimer', (global, actions) => {
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectFirstNonHardwareAccount)(global);
  if (firstNonHardwareAccount) {
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    actions.afterCreatePassword({
      password: global.auth.password
    });
    return;
  }
  actions.afterConfirmDisclaimer();
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterConfirmDisclaimer', (global, actions) => {
  const {
    accountId,
    address
  } = global.auth;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(global, accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.AuthState.ready
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.createAccount)(global, accountId, address);
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  actions.afterSignIn();
  if ((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectIsOneAccount)(global)) {
    actions.resetApiSettings();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('cleanAuthError', global => {
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    error: undefined
  }));
});
function selectMnemonicForCheck() {
  return Array(_config__WEBPACK_IMPORTED_MODULE_3__.MNEMONIC_COUNT).fill(0).map((_, i) => ({
    i,
    rnd: Math.random()
  })).sort((a, b) => a.rnd - b.rnd).map(i => i.i).slice(0, _config__WEBPACK_IMPORTED_MODULE_3__.MNEMONIC_CHECK_COUNT).sort((a, b) => a - b);
}
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('startChangingNetwork', (global, actions, _ref7) => {
  let {
    network
  } = _ref7;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('startChangingNetwork', {
      network
    });
  }
  const accountIds = Object.keys((0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectNetworkAccountsMemoized)(network, global.accounts.byId));
  if (accountIds.length) {
    const accountId = accountIds[0];
    actions.switchAccount({
      accountId,
      newNetwork: network
    });
  } else {
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)({
      ...global,
      areSettingsOpen: false,
      appState: _types__WEBPACK_IMPORTED_MODULE_2__.AppState.Auth
    });
    actions.changeNetwork({
      network
    });
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('switchAccount', async (global, actions, payload) => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('switchAccount', payload);
  }
  const {
    accountId,
    newNetwork
  } = payload;
  const newestTxIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectNewestTxIds)(global, accountId);
  await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('activateAccount', accountId, newestTxIds);
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(global, accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearCurrentTransfer)(global);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearCurrentSwap)(global);
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  if (newNetwork) {
    actions.changeNetwork({
      network: newNetwork
    });
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('connectHardwareWallet', async (global, actions) => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    hardwareState: _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Connecting,
    hardwareWallets: undefined,
    hardwareSelectedIndices: undefined,
    isLedgerConnected: undefined,
    isTonAppConnected: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  const isLedgerConnected = await ledgerApi.connectLedger();
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if (!isLedgerConnected) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
      isLedgerConnected: false,
      hardwareState: _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Failed
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    isLedgerConnected: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  const isTonAppConnected = await ledgerApi.waitLedgerTonApp();
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if (!isTonAppConnected) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
      isTonAppConnected: false,
      hardwareState: _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Failed
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    isTonAppConnected: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  try {
    var _selectAllHardwareAcc;
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    const {
      isRemoteTab
    } = global.hardware;
    const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectCurrentNetwork)(global);
    const lastIndex = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectLedgerAccountIndexToImport)(global);
    const currentHardwareAccounts = (_selectAllHardwareAcc = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAllHardwareAccounts)(global)) !== null && _selectAllHardwareAcc !== void 0 ? _selectAllHardwareAcc : [];
    const currentHardwareAddresses = currentHardwareAccounts.map(account => account.address);
    const hardwareWallets = isRemoteTab ? [] : await ledgerApi.getNextLedgerWallets(network, lastIndex, currentHardwareAddresses);
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    if ('error' in hardwareWallets) {
      actions.showError({
        error: hardwareWallets.error
      });
      throw Error(hardwareWallets.error);
    }
    const nextHardwareState = isRemoteTab || hardwareWallets.length === 1 ? _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSingleWallet : _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.ConnectedWithSeveralWallets;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
      hardwareWallets,
      hardwareState: nextHardwareState
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  } catch (err) {
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
      hardwareState: _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Failed
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('loadMoreHardwareWallets', async (global, actions, _ref8) => {
  var _global$hardware$hard;
  let {
    lastIndex
  } = _ref8;
  const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectCurrentNetwork)(global);
  const oldHardwareWallets = (_global$hardware$hard = global.hardware.hardwareWallets) !== null && _global$hardware$hard !== void 0 ? _global$hardware$hard : [];
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  const hardwareWallets = await ledgerApi.getNextLedgerWallets(network, lastIndex);
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if ('error' in hardwareWallets) {
    actions.showError({
      error: hardwareWallets.error
    });
    throw Error(hardwareWallets.error);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    hardwareWallets: oldHardwareWallets.concat(hardwareWallets)
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('afterSelectHardwareWallets', (global, actions, _ref9) => {
  let {
    hardwareSelectedIndices
  } = _ref9;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    method: 'importHardwareWallet',
    error: undefined
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    hardwareSelectedIndices
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  actions.afterCreatePassword({
    password: ''
  });
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('resetHardwareWalletConnect', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateHardware)(global, {
    hardwareState: _types__WEBPACK_IMPORTED_MODULE_2__.HardwareConnectState.Connect,
    isLedgerConnected: undefined,
    isTonAppConnected: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('enableBiometrics', async (global, actions, _ref10) => {
  let {
    password
  } = _ref10;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('verifyPassword', password))) {
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      error: 'Wrong password, please try again.'
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
    error: undefined,
    state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnRegistration
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  try {
    const credential = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_ELECTRON ? undefined : await _util_authApi_webAuthn__WEBPACK_IMPORTED_MODULE_6__["default"].createCredential();
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnVerification
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    const result = await _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].setupBiometrics({
      credential
    });
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    if (!result) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
        error: 'Biometric setup failed.',
        state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation
      });
      (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
      return;
    }
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnComplete
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('changePassword', password, result.password);
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
      authConfig: result.config
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  } catch (err) {
    const error = err !== null && err !== void 0 && err.message.includes('privacy-considerations-client') ? 'Biometric setup failed.' : (err === null || err === void 0 ? void 0 : err.message) || 'Biometric setup failed.';
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      error,
      state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('disableBiometrics', async (global, actions, _ref11) => {
  let {
    password,
    isPasswordNumeric
  } = _ref11;
  const {
    password: oldPassword
  } = global.biometrics;
  if (!password || !oldPassword) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      error: 'Biometric confirmation failed.'
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  try {
    await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('changePassword', oldPassword, password);
  } catch (err) {
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      error: (err === null || err === void 0 ? void 0 : err.message) || 'Failed to disable biometrics.'
    });
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffComplete,
    error: undefined
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
    authConfig: {
      kind: 'password'
    },
    isPasswordNumeric
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('closeBiometricSettings', global => {
  global = {
    ...global,
    biometrics: (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.cloneDeep)(_initialState__WEBPACK_IMPORTED_MODULE_17__.INITIAL_STATE.biometrics)
  };
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('openBiometricsTurnOn', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOnPasswordConfirmation
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('openBiometricsTurnOffWarning', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffWarning
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('openBiometricsTurnOff', async global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffBiometricConfirmation
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  const password = await _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].getPassword(global.settings.authConfig);
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  if (!password) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      error: 'Biometric confirmation failed.'
    });
  } else {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateBiometrics)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_2__.BiometricsState.TurnOffCreatePassword,
      password
    });
  }
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('disableNativeBiometrics', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
    authConfig: {
      kind: 'password'
    },
    isPasswordNumeric: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('enableNativeBiometrics', async (global, actions, _ref12) => {
  let {
    password
  } = _ref12;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('verifyPassword', password))) {
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = {
      ...global,
      nativeBiometricsError: 'Incorrect code, please try again.'
    };
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearIsPinAccepted)(global);
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.setIsPinAccepted)(global);
  global = {
    ...global,
    nativeBiometricsError: undefined
  };
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  try {
    const isVerified = await _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__.NativeBiometric.verifyIdentity({
      title: _config__WEBPACK_IMPORTED_MODULE_3__.APP_NAME,
      subtitle: ''
    }).then(() => true).catch(() => false);
    if (!isVerified) {
      global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
      global = {
        ...global,
        nativeBiometricsError: 'Failed to enable biometrics.'
      };
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearIsPinAccepted)(global);
      (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnError)();
      return;
    }
    const result = await _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].setupNativeBiometrics(password);
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_13__.pause)(NATIVE_BIOMETRICS_PAUSE_MS);
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateSettings)(global, {
      authConfig: result.config
    });
    global = {
      ...global,
      nativeBiometricsError: undefined
    };
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnSuccess)();
  } catch (err) {
    global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
    global = {
      ...global,
      nativeBiometricsError: (err === null || err === void 0 ? void 0 : err.message) || 'Failed to enable biometrics.'
    };
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.clearIsPinAccepted)(global);
    (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_7__.vibrateOnError)();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('clearNativeBiometricsError', global => {
  return {
    ...global,
    nativeBiometricsError: undefined
  };
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('openAuthBackupWalletModal', global => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('openAuthBackupWalletModal');
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isBackupModalOpen: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('closeAuthBackupWalletModal', (global, actions, props) => {
  const {
    isBackupCreated
  } = props || {};
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('closeAuthBackupWalletModal', props);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateAuth)(global, {
    isBackupModalOpen: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
  if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET && isBackupCreated) {
    actions.afterCheckMnemonic();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('copyStorageData', async (global, actions) => {
  const accountConfigJson = await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('fetchAccountConfigForDebugPurposesOnly');
  if (accountConfigJson) {
    const storageData = JSON.stringify({
      ...JSON.parse(accountConfigJson),
      global: reduceGlobalForDebug()
    });
    await (0,_util_clipboard__WEBPACK_IMPORTED_MODULE_8__.copyTextToClipboard)(storageData);
    actions.showNotification({
      message: (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_11__.getTranslation)('Copied')
    });
  } else {
    actions.showError({
      error: _api_types__WEBPACK_IMPORTED_MODULE_1__.ApiCommonError.Unexpected
    });
  }
});
(0,___WEBPACK_IMPORTED_MODULE_16__.addActionHandler)('importAccountByVersion', async (global, actions, _ref13) => {
  var _global$accounts$byId, _global$accounts;
  let {
    version
  } = _ref13;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_14__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_12__.callActionInMain)('importAccountByVersion', {
      version
    });
    return;
  }
  const accountId = global.currentAccountId;
  const wallet = await (0,_api__WEBPACK_IMPORTED_MODULE_15__.callApi)('importNewWalletVersion', accountId, version);
  global = (0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)();
  const existAccountId = (0,_selectors__WEBPACK_IMPORTED_MODULE_19__.selectAccountIdByAddress)(global, wallet.address);
  if (existAccountId) {
    actions.switchAccount({
      accountId: existAccountId
    });
    return;
  }
  const {
    title: currentWalletTitle
  } = ((_global$accounts$byId = (_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId) !== null && _global$accounts$byId !== void 0 ? _global$accounts$byId : {})[accountId];
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.updateCurrentAccountId)(global, wallet.accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_18__.createAccount)(global, wallet.accountId, wallet.address, {
    title: currentWalletTitle
  }, version);
  (0,___WEBPACK_IMPORTED_MODULE_16__.setGlobal)(global);
});
function reduceGlobalForDebug() {
  const reduced = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_10__.cloneDeep)((0,___WEBPACK_IMPORTED_MODULE_16__.getGlobal)());
  reduced.tokenInfo = {};
  reduced.swapTokenInfo = {};
  Object.entries(reduced.byAccountId).forEach(_ref14 => {
    let [, state] = _ref14;
    state.activities = {};
  });
  return reduced;
}

/***/ }),

/***/ "./src/global/actions/api/dapps.ts":
/*!*****************************************!*\
  !*** ./src/global/actions/api/dapps.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_areDeepEqual__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/areDeepEqual */ "./src/util/areDeepEqual.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _api_errors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../api/errors */ "./src/api/errors.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _components_ui_Modal__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../components/ui/Modal */ "./src/components/ui/Modal.tsx");














const GET_DAPPS_PAUSE = 250;
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('submitDappConnectRequestConfirm', async (global, actions, _ref) => {
  let {
    password,
    accountId
  } = _ref;
  const {
    promiseId,
    permissions
  } = global.dappConnectRequest;
  if (permissions !== null && permissions !== void 0 && permissions.isPasswordRequired && (!password || !(await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('verifyPassword', password)))) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)(global, {
      error: 'Wrong password, please try again.'
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.setIsPinAccepted)(global);
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('submitDappConnectRequestConfirm', {
      password,
      accountId
    });
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)();
  }
  actions.switchAccount({
    accountId
  });
  await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('confirmDappRequestConnect', promiseId, {
    accountId,
    password
  });
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearDappConnectRequest)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.pause)(GET_DAPPS_PAUSE);
  actions.getDapps();
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('submitDappConnectRequestConfirmHardware', async (global, actions, _ref2) => {
  let {
    accountId: connectAccountId
  } = _ref2;
  const {
    promiseId,
    proof
  } = global.dappConnectRequest;
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)(global, {
    error: undefined,
    state: _types__WEBPACK_IMPORTED_MODULE_0__.DappConnectState.ConfirmHardware
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  try {
    const signature = await ledgerApi.signLedgerProof(connectAccountId, proof);
    actions.switchAccount({
      accountId: connectAccountId
    });
    await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('confirmDappRequestConnect', promiseId, {
      accountId: connectAccountId,
      signature
    });
  } catch (err) {
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)((0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)(), {
      error: 'Canceled by the user'
    }));
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearDappConnectRequest)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.pause)(GET_DAPPS_PAUSE);
  actions.getDapps();
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('cancelDappConnectRequestConfirm', global => {
  const {
    promiseId
  } = global.dappConnectRequest || {};
  if (!promiseId) {
    return;
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('cancelDappConnectRequestConfirm');
  } else {
    void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('cancelDappRequest', promiseId, 'Canceled by the user');
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearDappConnectRequest)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('setDappConnectRequestState', (global, actions, _ref3) => {
  let {
    state
  } = _ref3;
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)(global, {
    state
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('cancelDappTransfer', global => {
  const {
    promiseId
  } = global.currentDappTransfer;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('cancelDappTransfer');
  } else if (promiseId) {
    void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('cancelDappRequest', promiseId, 'Canceled by the user');
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearCurrentDappTransfer)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('closeDappTransfer', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('submitDappTransferPassword', async (global, actions, _ref4) => {
  let {
    password
  } = _ref4;
  const {
    promiseId
  } = global.currentDappTransfer;
  if (!promiseId) {
    return;
  }
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('verifyPassword', password))) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
      error: 'Wrong password, please try again.'
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.setIsPinAccepted)(global);
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('submitDappTransferPassword', {
      password
    });
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
    isLoading: true,
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)(true);
  }
  void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('confirmDappRequest', promiseId, password);
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearCurrentDappTransfer)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('submitDappTransferHardware', async (global, actions) => {
  const {
    promiseId,
    transactions,
    vestingAddress
  } = global.currentDappTransfer;
  if (!promiseId) {
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
    isLoading: true,
    error: undefined,
    state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.ConfirmHardware
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  const accountId = global.currentAccountId;
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  try {
    const signedMessages = await ledgerApi.signLedgerTransactions(accountId, transactions, {
      isTonConnect: true,
      vestingAddress
    });
    void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('confirmDappRequest', promiseId, signedMessages);
  } catch (err) {
    if (err instanceof _api_errors__WEBPACK_IMPORTED_MODULE_8__.ApiHardwareBlindSigningNotEnabled) {
      (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)(), {
        isLoading: false,
        error: '$hardware_blind_sign_not_enabled'
      }));
      return;
    } else if (err instanceof _api_errors__WEBPACK_IMPORTED_MODULE_8__.ApiUnsupportedVersionError) {
      actions.showError({
        error: '$ledger_unsupported_ton_connect'
      });
      void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('cancelDappRequest', promiseId, err.message);
    } else if (err instanceof _api_errors__WEBPACK_IMPORTED_MODULE_8__.ApiUserRejectsError) {
      (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)(), {
        isLoading: false,
        error: 'Canceled by the user'
      }));
      return;
    } else {
      void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('cancelDappRequest', promiseId, 'Unknown error.');
    }
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearCurrentDappTransfer)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('getDapps', async global => {
  const {
    currentAccountId
  } = global;
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('getDapps', currentAccountId);
  if (!result) {
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateConnectedDapps)(global, {
    dapps: result
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('deleteAllDapps', global => {
  const {
    currentAccountId
  } = global;
  void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('deleteAllDapps', currentAccountId);
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearConnectedDapps)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('deleteDapp', (global, actions, _ref5) => {
  let {
    origin
  } = _ref5;
  const {
    currentAccountId
  } = global;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('deleteDapp', {
      origin
    });
  } else {
    void (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('deleteDapp', currentAccountId, origin);
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.removeConnectedDapp)(global, origin);
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('apiUpdateDappConnect', async (global, actions, _ref6) => {
  let {
    accountId,
    dapp,
    permissions,
    promiseId,
    proof
  } = _ref6;
  // We only need to apply changes in NBS when Dapp Connect Modal is already open
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    if (!(await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.waitFor)(() => Boolean((0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)().dappConnectRequest), 300, 5))) {
      return;
    }
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.DappConnectState.Info,
    promiseId,
    accountId,
    dapp,
    permissions: {
      isAddressRequired: permissions.address,
      isPasswordRequired: permissions.proof
    },
    proof
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
  actions.addSiteToBrowserHistory({
    url: dapp.url
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('apiUpdateDappSendTransaction', async (global, actions, _ref7) => {
  let {
    promiseId,
    transactions,
    fee,
    accountId,
    dapp,
    vestingAddress
  } = _ref7;
  const {
    currentAccountId,
    currentDappTransfer: {
      promiseId: currentPromiseId
    }
  } = global;
  if (currentAccountId !== accountId) {
    const newestTxIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_11__.selectNewestTxIds)(global, accountId);
    await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('activateAccount', accountId, newestTxIds);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
    (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentAccountId)(global, accountId));
  }
  if (currentPromiseId && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    actions.closeDappTransfer();
    const closeDuration = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.getIsPortrait)() ? _components_ui_Modal__WEBPACK_IMPORTED_MODULE_13__.CLOSE_DURATION_PORTRAIT : _components_ui_Modal__WEBPACK_IMPORTED_MODULE_13__.CLOSE_DURATION;
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.pause)(closeDuration + _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATION_END_DELAY);
  }

  // We only need to apply changes in NBS when Dapp Transaction Modal is already open
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    if (!(await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.waitFor)(() => (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)().currentDappTransfer.state !== _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None, 300, 5))) {
      return;
    }
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  }
  const state = (0,_selectors__WEBPACK_IMPORTED_MODULE_11__.selectIsHardwareAccount)(global) && transactions.length > 1 ? _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.WarningHardware : _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Initial;
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearCurrentDappTransfer)(global);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
    state,
    promiseId,
    transactions,
    fee,
    dapp,
    vestingAddress
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('apiUpdateDappLoading', async (global, actions, _ref8) => {
  let {
    connectionType,
    isSse,
    accountId
  } = _ref8;
  // We only need to apply changes in NBS when Dapp Connect Modal is already open
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    if (!(await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.waitFor)(() => {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
      return connectionType === 'connect' && !!global.dappConnectRequest || connectionType === 'sendTransaction' && global.currentDappTransfer.state !== _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None;
    }, 300, 5))) {
      return;
    }
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  }
  if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET && accountId && accountId !== global.currentAccountId) {
    actions.switchAccount({
      accountId
    });
  }
  if (connectionType === 'connect') {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateDappConnectRequest)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.DappConnectState.Info,
      isSse
    });
  } else if (connectionType === 'sendTransaction') {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.updateCurrentDappTransfer)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Initial,
      isSse
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('apiUpdateDappCloseLoading', async global => {
  var _global$dappConnectRe;
  // We only need to apply changes in NBS when Dapp Modal is already open
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) {
    if (!(await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.waitFor)(() => {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
      return Boolean(global.dappConnectRequest) || global.currentDappTransfer.state !== _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None;
    }, 300, 5))) {
      return;
    }
    global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  }

  // But clear the state if a skeleton is displayed in the Modal
  if (((_global$dappConnectRe = global.dappConnectRequest) === null || _global$dappConnectRe === void 0 ? void 0 : _global$dappConnectRe.state) === _types__WEBPACK_IMPORTED_MODULE_0__.DappConnectState.Info) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearDappConnectRequest)(global);
  } else if (global.currentDappTransfer.state === _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Initial) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_10__.clearCurrentDappTransfer)(global);
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_9__.addActionHandler)('loadExploreSites', async global => {
  const sites = await (0,_api__WEBPACK_IMPORTED_MODULE_7__.callApi)('loadExploreSites');
  global = (0,_index__WEBPACK_IMPORTED_MODULE_9__.getGlobal)();
  if ((0,_util_areDeepEqual__WEBPACK_IMPORTED_MODULE_2__.areDeepEqual)(sites, global.exploreSites)) {
    return;
  }
  global = {
    ...global,
    exploreSites: sites
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_9__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/api/initial.ts":
/*!*******************************************!*\
  !*** ./src/global/actions/api/initial.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");





(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('initApi', async (global, actions) => {
  (0,_api__WEBPACK_IMPORTED_MODULE_2__.initApi)(actions.apiUpdate, {
    isElectron: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_ELECTRON,
    isNativeBottomSheet: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_DELEGATED_BOTTOM_SHEET,
    isIosApp: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_IOS_APP,
    isAndroidApp: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_ANDROID_APP
  });
  await (0,_api__WEBPACK_IMPORTED_MODULE_2__.callApi)('waitDataPreload');
  const {
    currentAccountId
  } = (0,_index__WEBPACK_IMPORTED_MODULE_3__.getGlobal)();
  if (!currentAccountId) {
    return;
  }
  void (0,_api__WEBPACK_IMPORTED_MODULE_2__.callApi)('activateAccount', currentAccountId, (0,_selectors__WEBPACK_IMPORTED_MODULE_4__.selectNewestTxIds)(global, currentAccountId));
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('resetApiSettings', (global, actions, params) => {
  const isDefaultEnabled = !(params !== null && params !== void 0 && params.areAllDisabled);
  if (_config__WEBPACK_IMPORTED_MODULE_0__.IS_EXTENSION) {
    actions.toggleTonMagic({
      isEnabled: false
    });
    actions.toggleTonProxy({
      isEnabled: false
    });
  }
  if (_config__WEBPACK_IMPORTED_MODULE_0__.IS_EXTENSION || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_ELECTRON) {
    actions.toggleDeeplinkHook({
      isEnabled: isDefaultEnabled
    });
  }
  actions.changeBaseCurrency({
    currency: _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PRICE_CURRENCY
  });
});

/***/ }),

/***/ "./src/global/actions/api/nfts.ts":
/*!****************************************!*\
  !*** ./src/global/actions/api/nfts.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../api/blockchains/ton/constants */ "./src/api/blockchains/ton/constants.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");








const NBS_INIT_TIMEOUT = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_DELEGATING_BOTTOM_SHEET ? 100 : 0;
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('burnNfts', (global, actions, _ref) => {
  let {
    nfts
  } = _ref;
  actions.startTransfer({
    isPortrait: (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_7__.getIsPortrait)(),
    nfts
  });
  const isNotcoinVouchers = nfts.some(n => n.collectionAddress === _config__WEBPACK_IMPORTED_MODULE_0__.NOTCOIN_VOUCHERS_ADDRESS);
  setTimeout(() => {
    actions.submitTransferInitial({
      tokenSlug: _config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG,
      amount: _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_3__.NFT_TRANSFER_TONCOIN_AMOUNT,
      toAddress: isNotcoinVouchers ? _config__WEBPACK_IMPORTED_MODULE_0__.NOTCOIN_EXCHANGERS[0] : _config__WEBPACK_IMPORTED_MODULE_0__.BURN_ADDRESS,
      nftAddresses: nfts.map(_ref2 => {
        let {
          address
        } = _ref2;
        return address;
      })
    });
  }, NBS_INIT_TIMEOUT);
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('addNftsToBlacklist', (global, actions, _ref3) => {
  let {
    addresses: nftAddresses
  } = _ref3;
  // Force hide NFT - remove it from whitelist and add to blacklist
  let {
    blacklistedNftAddresses = [],
    whitelistedNftAddresses = []
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global) || {};
  blacklistedNftAddresses = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.findDifference)(blacklistedNftAddresses, nftAddresses);
  whitelistedNftAddresses = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.findDifference)(whitelistedNftAddresses, nftAddresses);
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    blacklistedNftAddresses: [...blacklistedNftAddresses, ...nftAddresses],
    whitelistedNftAddresses
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('addNftsToWhitelist', (global, actions, _ref4) => {
  let {
    addresses: nftAddresses
  } = _ref4;
  // Force show NFT - remove it from blacklist and add to whitelist
  let {
    blacklistedNftAddresses = [],
    whitelistedNftAddresses = []
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global) || {};
  blacklistedNftAddresses = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.findDifference)(blacklistedNftAddresses, nftAddresses);
  whitelistedNftAddresses = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.findDifference)(whitelistedNftAddresses, nftAddresses);
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    blacklistedNftAddresses,
    whitelistedNftAddresses: [...whitelistedNftAddresses, ...nftAddresses]
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('removeNftSpecialStatus', (global, actions, _ref5) => {
  let {
    address: nftAddress
  } = _ref5;
  // Stop forcing to show/hide NFT if it was in whitelist/blacklist
  let {
    blacklistedNftAddresses = [],
    whitelistedNftAddresses = []
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_6__.selectCurrentAccountState)(global) || {};
  blacklistedNftAddresses = blacklistedNftAddresses.filter(address => address !== nftAddress);
  whitelistedNftAddresses = whitelistedNftAddresses.filter(address => address !== nftAddress);
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    blacklistedNftAddresses,
    whitelistedNftAddresses
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('openUnhideNftModal', (global, actions, _ref6) => {
  let {
    address,
    name
  } = _ref6;
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    isUnhideNftModalOpen: true,
    selectedNftToUnhide: {
      address,
      name
    }
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('closeUnhideNftModal', global => {
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    isUnhideNftModalOpen: undefined,
    selectedNftToUnhide: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('openHideNftModal', (global, actions, _ref7) => {
  let {
    addresses,
    isCollection
  } = _ref7;
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    selectedNftsToHide: {
      addresses,
      isCollection
    }
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_4__.addActionHandler)('closeHideNftModal', global => {
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    selectedNftsToHide: undefined
  });
});

/***/ }),

/***/ "./src/global/actions/api/staking.ts":
/*!*******************************************!*\
  !*** ./src/global/actions/api/staking.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");









(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('startStaking', (global, actions, payload) => {
  var _accountState$balance, _accountState$balance2;
  const isOpen = global.staking.state !== _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.None;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATED_BOTTOM_SHEET && !isOpen) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInMain)('startStaking', payload);
    return;
  }
  const {
    isUnstaking
  } = payload || {};
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_8__.selectAccountState)(global, global.currentAccountId);
  const balance = (_accountState$balance = accountState === null || accountState === void 0 || (_accountState$balance2 = accountState.balances) === null || _accountState$balance2 === void 0 ? void 0 : _accountState$balance2.bySlug[_config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG]) !== null && _accountState$balance !== void 0 ? _accountState$balance : 0n;
  const isNotEnoughBalance = balance < _config__WEBPACK_IMPORTED_MODULE_1__.MIN_BALANCE_FOR_UNSTAKE;
  const state = isUnstaking ? isNotEnoughBalance ? _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.NotEnoughBalance : _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.UnstakeInitial : _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeInitial;
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    state,
    error: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('fetchStakingFee', async (global, actions, payload) => {
  const {
    amount
  } = payload;
  const {
    currentAccountId
  } = global;
  if (!currentAccountId) {
    return;
  }
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('checkStakeDraft', currentAccountId, amount);
  if (!result || 'error' in result) {
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    fee: result.fee
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('submitStakingInitial', async (global, actions, payload) => {
  const {
    isUnstaking,
    amount
  } = payload !== null && payload !== void 0 ? payload : {};
  const {
    currentAccountId
  } = global;
  if (!currentAccountId) {
    return;
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    isLoading: true,
    error: undefined
  }));
  if (isUnstaking) {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('checkUnstakeDraft', currentAccountId, amount);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
      isLoading: false
    });
    if (result) {
      if ('error' in result) {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
          error: result.error
        });
      } else {
        const account = (0,_selectors__WEBPACK_IMPORTED_MODULE_8__.selectAccount)(global, currentAccountId);
        if (account.isHardware) {
          actions.resetHardwareWalletConnect();
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)((0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)(), {
            state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.UnstakeConnectHardware
          });
        } else {
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
            state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.UnstakePassword
          });
        }
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
          fee: result.fee,
          amount,
          error: undefined,
          type: result.type,
          tokenAmount: result.tokenAmount
        });
      }
    }
  } else {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('checkStakeDraft', currentAccountId, amount);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
      isLoading: false
    });
    if (result) {
      if ('error' in result) {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
          error: result.error
        });
      } else {
        const account = (0,_selectors__WEBPACK_IMPORTED_MODULE_8__.selectAccount)(global, currentAccountId);
        if (account.isHardware) {
          actions.resetHardwareWalletConnect();
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)((0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)(), {
            state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeConnectHardware
          });
        } else {
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
            state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakePassword
          });
        }
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
          fee: result.fee,
          amount,
          error: undefined,
          type: result.type
        });
      }
    }
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('submitStakingPassword', async (global, actions, payload) => {
  const {
    password,
    isUnstaking
  } = payload;
  const {
    fee,
    type,
    amount,
    tokenAmount
  } = global.staking;
  const {
    currentAccountId
  } = global;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('verifyPassword', password))) {
    (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)((0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.setIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    isLoading: true,
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_2__.vibrateOnSuccess)(true);
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  if (isUnstaking) {
    var _global$stakingInfo$l;
    const {
      instantAvailable
    } = (_global$stakingInfo$l = global.stakingInfo.liquid) !== null && _global$stakingInfo$l !== void 0 ? _global$stakingInfo$l : {};
    const stakingBalance = (0,_selectors__WEBPACK_IMPORTED_MODULE_8__.selectAccountState)(global, currentAccountId).staking.balance;
    const unstakeAmount = type === 'nominators' ? stakingBalance : tokenAmount;
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('submitUnstake', global.currentAccountId, password, type, unstakeAmount, fee);
    const isLongUnstakeRequested = Boolean(type === 'nominators' || type === 'liquid' && instantAvailable && instantAvailable < stakingBalance);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateAccountState)(global, currentAccountId, {
      isLongUnstakeRequested
    });
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
      isLoading: false
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
    if (!result) {
      actions.showDialog({
        message: 'Unstaking was unsuccessful. Try again later.'
      });
      global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
      if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.clearIsPinAccepted)(global);
      }
    } else {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
        state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.UnstakeComplete
      });
    }
  } else {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('submitStake', global.currentAccountId, password, amount, type, fee);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
      isLoading: false
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
    if (!result) {
      actions.showDialog({
        message: 'Staking was unsuccessful. Try again later.'
      });
      global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
      if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.clearIsPinAccepted)(global);
      }
    } else {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
        state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeComplete
      });
    }
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('submitStakingHardware', async (global, actions, payload) => {
  const {
    isUnstaking
  } = payload || {};
  const {
    fee,
    amount,
    type,
    tokenAmount
  } = global.staking;
  const {
    currentAccountId
  } = global;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    isLoading: true,
    error: undefined,
    state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeConfirmHardware
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  let result;
  const accountId = global.currentAccountId;
  if (isUnstaking) {
    var _global$stakingInfo$l2;
    const {
      instantAvailable
    } = (_global$stakingInfo$l2 = global.stakingInfo.liquid) !== null && _global$stakingInfo$l2 !== void 0 ? _global$stakingInfo$l2 : {};
    const stakingBalance = (0,_selectors__WEBPACK_IMPORTED_MODULE_8__.selectAccountState)(global, currentAccountId).staking.balance;
    const unstakeAmount = type === 'nominators' ? stakingBalance : tokenAmount;
    result = await ledgerApi.submitLedgerUnstake(accountId, type, unstakeAmount);
    const isLongUnstakeRequested = Boolean(type === 'nominators' || type === 'liquid' && instantAvailable && instantAvailable < stakingBalance);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateAccountState)(global, currentAccountId, {
      isLongUnstakeRequested
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
  } else {
    result = await ledgerApi.submitLedgerStake(accountId, amount, type, fee);
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    isLoading: false
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
  if (!result) {
    actions.showDialog({
      message: isUnstaking ? 'Unstaking was unsuccessful. Try again later.' : 'Staking was unsuccessful. Try again later.'
    });
  } else if (typeof result !== 'string' && 'error' in result) {
    actions.showError({
      error: result.error
    });
  } else {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
      state: isUnstaking ? _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.UnstakeComplete : _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeComplete
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('clearStakingError', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    error: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('cancelStaking', global => {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.clearIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.clearStaking)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('setStakingScreen', (global, actions, payload) => {
  const {
    state
  } = payload;
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateStaking)(global, {
    state
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('fetchStakingHistory', async (global, actions, payload) => {
  const {
    limit,
    offset
  } = payload !== null && payload !== void 0 ? payload : {};
  const stakingHistory = await (0,_api__WEBPACK_IMPORTED_MODULE_5__.callApi)('getStakingHistory', global.currentAccountId, limit, offset);
  if (!stakingHistory) {
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_6__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_7__.updateAccountState)(global, global.currentAccountId, {
    stakingHistory
  }, true);
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('openStakingInfo', global => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInMain)('openStakingInfo');
    return;
  }
  global = {
    ...global,
    isStakingInfoModalOpen: true
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_6__.addActionHandler)('closeStakingInfo', global => {
  global = {
    ...global,
    isStakingInfoModalOpen: undefined
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_6__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/api/swap.ts":
/*!****************************************!*\
  !*** ./src/global/actions/api/swap.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_generateUniqueId__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/generateUniqueId */ "./src/util/generateUniqueId.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_swap_buildSwapId__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/swap/buildSwapId */ "./src/util/swap/buildSwapId.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../.. */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");

















const PAIRS_CACHE = {};
const CACHE_DURATION = 15 * 60 * 1000; // 15 minutes
const WAIT_FOR_CHANGELLY = 5 * 1000;
const CLOSING_BOTTOM_SHEET_DURATION = 100; // Like in `useDelegatingBottomSheet`
let isEstimateSwapBeingExecuted = false;
let isEstimateCexSwapBeingExecuted = false;
const SERVER_ERRORS_MAP = {
  'Insufficient liquidity': _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.NotEnoughLiquidity,
  'Tokens must be different': _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair,
  'Asset not found': _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair,
  'Too small amount': _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.TooSmallAmount
};
function buildSwapBuildRequest(global) {
  const {
    dexLabel,
    amountIn,
    amountOut,
    amountOutMin,
    tokenInSlug,
    tokenOutSlug,
    slippage,
    networkFee,
    swapFee
  } = global.currentSwap;
  const tokenIn = global.swapTokenInfo.bySlug[tokenInSlug];
  const tokenOut = global.swapTokenInfo.bySlug[tokenOutSlug];
  const from = tokenIn.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract;
  const to = tokenOut.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract;
  const fromAmount = amountIn;
  const toAmount = amountOut;
  const account = (0,_selectors__WEBPACK_IMPORTED_MODULE_15__.selectAccount)(global, global.currentAccountId);
  const shouldTryDiesel = networkFee ? (0,_selectors__WEBPACK_IMPORTED_MODULE_15__.selectCurrentToncoinBalance)(global) < (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.fromDecimal)(networkFee) + _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_FEE && global.currentSwap.dieselStatus === 'available' : undefined;
  return {
    from,
    to,
    fromAmount,
    toAmount,
    toMinAmount: amountOutMin,
    slippage,
    fromAddress: account === null || account === void 0 ? void 0 : account.address,
    dexLabel: dexLabel,
    networkFee: networkFee,
    swapFee: swapFee,
    shouldTryDiesel
  };
}
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('startSwap', async (global, actions, payload) => {
  const isOpen = global.currentSwap.state !== _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.None;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.IS_DELEGATING_BOTTOM_SHEET && isOpen) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_8__.callActionInNative)('cancelSwap');
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_9__.pause)(CLOSING_BOTTOM_SHEET_DURATION);
    global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_11__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_8__.callActionInMain)('startSwap', payload);
    return;
  }
  const {
    state,
    tokenInSlug,
    tokenOutSlug,
    amountIn,
    toAddress
  } = payload !== null && payload !== void 0 ? payload : {};
  const isPortrait = (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_16__.getIsPortrait)();
  if (tokenInSlug || tokenOutSlug || amountIn || toAddress) {
    var _global$swapTokenInfo, _global$swapTokenInfo2;
    const tokenIn = (_global$swapTokenInfo = global.swapTokenInfo) === null || _global$swapTokenInfo === void 0 ? void 0 : _global$swapTokenInfo.bySlug[tokenInSlug];
    const tokenOut = (_global$swapTokenInfo2 = global.swapTokenInfo) === null || _global$swapTokenInfo2 === void 0 ? void 0 : _global$swapTokenInfo2.bySlug[tokenOutSlug];
    const isCrosschain = (tokenIn === null || tokenIn === void 0 ? void 0 : tokenIn.blockchain) !== 'ton' || (tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain) !== 'ton';
    const isToTon = (tokenOut === null || tokenOut === void 0 ? void 0 : tokenOut.blockchain) === 'ton';
    const swapType = isCrosschain ? isToTon ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainToToncoin : _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin : _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.OnChain;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...payload,
      isEstimating: true,
      shouldEstimate: true,
      inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In,
      swapType
    });
  }
  const requiredState = state || (isPortrait ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.Initial : _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.None);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    state: requiredState,
    swapId: (0,_util_generateUniqueId__WEBPACK_IMPORTED_MODULE_6__["default"])()
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (!isPortrait) {
    actions.setLandscapeActionsActiveTabIndex({
      index: _types__WEBPACK_IMPORTED_MODULE_1__.ActiveTab.Swap
    });
  }
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setDefaultSwapParams', (global, actions, payload) => {
  const {
    tokenInSlug: requiredTokenInSlug,
    tokenOutSlug: requiredTokenOutSlug
  } = payload !== null && payload !== void 0 ? payload : {};
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    tokenInSlug: requiredTokenInSlug !== null && requiredTokenInSlug !== void 0 ? requiredTokenInSlug : _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
    tokenOutSlug: requiredTokenOutSlug !== null && requiredTokenOutSlug !== void 0 ? requiredTokenOutSlug : _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SWAP_SECOND_TOKEN_SLUG,
    priceImpact: 0,
    transactionFee: '0',
    swapFee: '0',
    networkFee: 0,
    amountOutMin: '0',
    inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('cancelSwap', function (global, actions) {
  let {
    shouldReset
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  if (shouldReset) {
    const {
      tokenInSlug,
      tokenOutSlug,
      pairs,
      swapType
    } = global.currentSwap;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearCurrentSwap)(global);
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      tokenInSlug,
      tokenOutSlug,
      priceImpact: 0,
      transactionFee: '0',
      swapFee: '0',
      networkFee: 0,
      realNetworkFee: 0,
      amountOutMin: '0',
      inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In,
      swapType,
      pairs
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.None,
    swapId: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitSwap', async (global, actions, _ref) => {
  let {
    password
  } = _ref;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('verifyPassword', password))) {
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)((0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  const currentSwapId = global.currentSwap.swapId;
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.setIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isLoading: true,
    error: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)(true);
  }
  const swapBuildRequest = buildSwapBuildRequest(global);
  const buildResult = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapBuildTransfer', global.currentAccountId, password, swapBuildRequest);
  if (!buildResult || 'error' in buildResult) {
    actions.showError({
      error: buildResult === null || buildResult === void 0 ? void 0 : buildResult.error
    });
    global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    }
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      isLoading: false
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  const swapHistoryItem = {
    id: buildResult.id,
    timestamp: Date.now(),
    status: 'pending',
    from: swapBuildRequest.from,
    fromAmount: swapBuildRequest.fromAmount,
    to: swapBuildRequest.to,
    toAmount: swapBuildRequest.toAmount,
    networkFee: global.currentSwap.networkFee,
    swapFee: global.currentSwap.swapFee,
    txIds: []
  };
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapSubmit', global.currentAccountId, password, buildResult.transfers, swapHistoryItem, swapBuildRequest.shouldTryDiesel);
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (!result || 'error' in result) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      isLoading: false
    });
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    }
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    actions.showError({
      error: result === null || result === void 0 ? void 0 : result.error
    });
    return;
  }
  if (currentSwapId !== global.currentSwap.swapId) {
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    tokenInSlug: undefined,
    tokenOutSlug: undefined,
    amountIn: undefined,
    amountOut: undefined,
    isLoading: false,
    state: _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.Complete,
    activityId: (0,_util_swap_buildSwapId__WEBPACK_IMPORTED_MODULE_10__.buildSwapId)(buildResult.id)
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitSwapCexFromToncoin', async (global, actions, _ref2) => {
  let {
    password
  } = _ref2;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('verifyPassword', password))) {
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)((0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.setIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isLoading: true,
    error: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)(true);
  }
  const swapBuildRequest = buildSwapBuildRequest(global);
  const swapItem = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapCexCreateTransaction', global.currentAccountId, password, {
    ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.pick)(swapBuildRequest, ['from', 'fromAmount', 'fromAddress', 'to', 'swapFee', 'networkFee']),
    toAddress: global.currentSwap.toAddress
  });
  if (!swapItem) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      isLoading: false
    });
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    }
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    actions.showError({
      error: _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.Unexpected
    });
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  const asset = global.swapTokenInfo.bySlug[global.currentSwap.tokenInSlug];
  const transferOptions = {
    password,
    accountId: global.currentAccountId,
    slug: global.currentSwap.tokenInSlug,
    fee: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.fromDecimal)(swapItem.swap.swapFee, asset.decimals),
    // TODO
    ...swapItem.transfer
  };
  await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_9__.pause)(WAIT_FOR_CHANGELLY);
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('submitTransfer', transferOptions, false);
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (!result || 'error' in result) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      isLoading: false
    });
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    }
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    actions.showError({
      error: result === null || result === void 0 ? void 0 : result.error
    });
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    tokenInSlug: undefined,
    tokenOutSlug: undefined,
    amountIn: undefined,
    amountOut: undefined,
    isLoading: false,
    state: _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.Complete,
    activityId: swapItem.activity.id
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitSwapCexToToncoin', async (global, actions, _ref3) => {
  let {
    password
  } = _ref3;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('verifyPassword', password))) {
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)((0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isLoading: true,
    error: undefined
  });
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.setIsPinAccepted)(global);
  }
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)(true);
    global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  }
  const swapBuildRequest = buildSwapBuildRequest(global);
  const swapItem = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapCexCreateTransaction', global.currentAccountId, password, {
    ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.pick)(swapBuildRequest, ['from', 'fromAmount', 'fromAddress', 'to', 'swapFee', 'networkFee']),
    toAddress: swapBuildRequest.fromAddress
  });
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (!swapItem) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      isLoading: false
    });
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnError)();
    }
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    actions.showError({
      error: _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.Unexpected
    });
    return;
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isLoading: false,
    state: _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.WaitTokens,
    payinAddress: swapItem.swap.cex.payinAddress,
    payinExtraId: swapItem.swap.cex.payinExtraId,
    activityId: swapItem.activity.id
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_4__.vibrateOnSuccess)();
  }
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('switchSwapTokens', global => {
  const {
    tokenInSlug,
    tokenOutSlug,
    amountIn,
    amountOut,
    swapType
  } = global.currentSwap;
  const newSwapType = swapType === _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.OnChain ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.OnChain : swapType === _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainToToncoin : _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountIn: amountOut,
    amountOut: amountIn,
    tokenInSlug: tokenOutSlug,
    tokenOutSlug: tokenInSlug,
    inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In,
    swapType: newSwapType,
    isEstimating: true,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapTokenIn', (global, actions, _ref4) => {
  let {
    tokenSlug
  } = _ref4;
  const {
    amountIn,
    amountOut
  } = global.currentSwap;
  const isFilled = Boolean(amountIn || amountOut);
  const newTokenIn = global.swapTokenInfo.bySlug[tokenSlug];
  const amount = amountIn ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.roundDecimal)(amountIn, newTokenIn.decimals) : amountIn;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountIn: amount === '0' ? undefined : amount,
    tokenInSlug: tokenSlug,
    isEstimating: isFilled,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapTokenOut', (global, actions, _ref5) => {
  let {
    tokenSlug
  } = _ref5;
  const {
    amountIn,
    amountOut
  } = global.currentSwap;
  const isFilled = Boolean(amountIn || amountOut);
  const newTokenOut = global.swapTokenInfo.bySlug[tokenSlug];
  const amount = amountOut ? (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.roundDecimal)(amountOut, newTokenOut.decimals) : amountOut;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountOut: amount === '0' ? undefined : amount,
    tokenOutSlug: tokenSlug,
    isEstimating: isFilled,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapAmountIn', (global, actions, _ref6) => {
  let {
    amount
  } = _ref6;
  const isEstimating = Boolean(amount && (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.getIsPositiveDecimal)(amount));
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountIn: amount,
    inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In,
    isEstimating,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapAmountOut', (global, actions, _ref7) => {
  let {
    amount
  } = _ref7;
  const isEstimating = Boolean(amount && (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.getIsPositiveDecimal)(amount));
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountOut: amount,
    inputSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.Out,
    isEstimating,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSlippage', (global, actions, _ref8) => {
  let {
    slippage
  } = _ref8;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    slippage,
    isEstimating: true,
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('estimateSwap', async (global, actions, _ref9) => {
  var _global$currentSwap$p, _global$currentSwap$p2, _global$currentSwap$a, _global$currentSwap$a2;
  let {
    shouldBlock,
    isEnoughToncoin
  } = _ref9;
  if (isEstimateSwapBeingExecuted) return;
  isEstimateSwapBeingExecuted = true;
  const resetParams = {
    amountOutMin: '0',
    transactionFee: '0',
    swapFee: '0',
    networkFee: 0,
    realNetworkFee: 0,
    priceImpact: 0,
    errorType: undefined,
    isEstimating: false
  };
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    shouldEstimate: false
  });

  // Check for empty string
  if (global.currentSwap.amountIn === undefined && global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In || global.currentSwap.amountOut === undefined && global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.Out) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      amountIn: undefined,
      amountOut: undefined,
      ...resetParams
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    isEstimateSwapBeingExecuted = false;
    return;
  }
  const pairsBySlug = (_global$currentSwap$p = (_global$currentSwap$p2 = global.currentSwap.pairs) === null || _global$currentSwap$p2 === void 0 ? void 0 : _global$currentSwap$p2.bySlug) !== null && _global$currentSwap$p !== void 0 ? _global$currentSwap$p : {};
  const canSwap = (global.currentSwap.tokenOutSlug in pairsBySlug);

  // Check for invalid pair
  if (!canSwap) {
    const amount = global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In ? {
      amountOut: undefined
    } : {
      amountIn: undefined
    };
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...amount,
      ...resetParams,
      errorType: _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    isEstimateSwapBeingExecuted = false;
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isEstimating: shouldBlock
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const tokenIn = global.swapTokenInfo.bySlug[global.currentSwap.tokenInSlug];
  const tokenOut = global.swapTokenInfo.bySlug[global.currentSwap.tokenOutSlug];
  const from = tokenIn.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract;
  const to = tokenOut.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract;
  const fromAmount = (_global$currentSwap$a = global.currentSwap.amountIn) !== null && _global$currentSwap$a !== void 0 ? _global$currentSwap$a : '0';
  const toAmount = (_global$currentSwap$a2 = global.currentSwap.amountOut) !== null && _global$currentSwap$a2 !== void 0 ? _global$currentSwap$a2 : '0';
  const fromAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_15__.selectCurrentAccount)(global).address;
  const estimateAmount = global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In ? {
    fromAmount
  } : {
    toAmount
  };
  const shouldTryDiesel = isEnoughToncoin === false;
  const estimate = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapEstimate', {
    ...estimateAmount,
    from,
    to,
    slippage: global.currentSwap.slippage,
    fromAddress,
    shouldTryDiesel
  });
  isEstimateSwapBeingExecuted = false;
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (!estimate || 'error' in estimate) {
    const errorType = estimate !== null && estimate !== void 0 && estimate.error && (estimate === null || estimate === void 0 ? void 0 : estimate.error) in SERVER_ERRORS_MAP ? SERVER_ERRORS_MAP[estimate.error] : _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.UnexpectedError;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      errorType
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }

  // Check for outdated response
  if (global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In && global.currentSwap.amountIn !== estimate.fromAmount || global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.Out && global.currentSwap.amountOut !== estimate.toAmount) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  const errorType = estimate.toAmount === '0' && shouldTryDiesel ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.NotEnoughForFee : undefined;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    ...(global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In ? {
      amountOut: estimate.toAmount
    } : {
      amountIn: estimate.fromAmount
    }),
    amountOutMin: estimate.toMinAmount,
    swapFee: estimate.swapFee,
    priceImpact: estimate.impact,
    dexLabel: estimate.dexLabel,
    feeSource: _types__WEBPACK_IMPORTED_MODULE_1__.SwapFeeSource.In,
    isEstimating: false,
    errorType,
    dieselStatus: estimate.dieselStatus,
    networkFee: estimate.networkFee,
    realNetworkFee: estimate.realNetworkFee
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('estimateSwapCex', async (global, actions, _ref10) => {
  var _global$currentSwap$p3, _global$currentSwap$p4, _global$currentSwap$a3;
  let {
    shouldBlock
  } = _ref10;
  if (isEstimateCexSwapBeingExecuted) return;
  isEstimateCexSwapBeingExecuted = true;
  const amount = global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In ? {
    amountOut: undefined
  } : {
    amountIn: undefined
  };
  const resetParams = {
    ...amount,
    amountOutMin: '0',
    transactionFee: '0',
    swapFee: '0',
    networkFee: 0,
    realNetworkFee: 0,
    priceImpact: 0,
    errorType: undefined,
    isEstimating: false
  };
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    shouldEstimate: false,
    transactionFee: '0',
    swapFee: '0',
    networkFee: 0,
    priceImpact: 0
  });

  // Check for empty string
  if (global.currentSwap.amountIn === undefined && global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In || global.currentSwap.amountOut === undefined && global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.Out) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      amountIn: undefined,
      amountOut: undefined,
      ...resetParams
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    isEstimateCexSwapBeingExecuted = false;
    return;
  }
  const pairsBySlug = (_global$currentSwap$p3 = (_global$currentSwap$p4 = global.currentSwap.pairs) === null || _global$currentSwap$p4 === void 0 ? void 0 : _global$currentSwap$p4.bySlug) !== null && _global$currentSwap$p3 !== void 0 ? _global$currentSwap$p3 : {};
  const canSwap = (global.currentSwap.tokenOutSlug in pairsBySlug);

  // Check for invalid pair
  if (!canSwap) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      errorType: _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    isEstimating: shouldBlock
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const tokenIn = global.swapTokenInfo.bySlug[global.currentSwap.tokenInSlug];
  const tokenOut = global.swapTokenInfo.bySlug[global.currentSwap.tokenOutSlug];
  const from = tokenIn.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract;
  const to = tokenOut.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract;
  const fromAmount = (_global$currentSwap$a3 = global.currentSwap.amountIn) !== null && _global$currentSwap$a3 !== void 0 ? _global$currentSwap$a3 : '0';
  const estimate = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapCexEstimate', {
    fromAmount,
    from,
    to
  });
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  isEstimateCexSwapBeingExecuted = false;
  if (!estimate || 'errors' in estimate) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      errorType: window.navigator.onLine ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.InvalidPair : _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.UnexpectedError
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  if ('errors' in estimate) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      errorType: _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.UnexpectedError
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  if ('error' in estimate) {
    const {
      error
    } = estimate;
    if (error.includes('requests limit')) return;
    if (error.includes('Invalid amount')) {
      const [, mode, matchedAmount] = error.match(/(Maximum|Minimal) amount is ([\d.]+) .*/) || [];
      if (mode && matchedAmount) {
        const isLessThanMin = mode === 'Minimal';
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
          ...resetParams,
          limits: isLessThanMin ? {
            fromMin: matchedAmount
          } : {
            fromMax: matchedAmount
          },
          errorType: isLessThanMin ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMinSwap : _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMaxSwap
        });
        (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
        return;
      }
    }
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      errorType: _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.UnexpectedError
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  const isLessThanMin = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_3__.Big)(fromAmount).lt(estimate.fromMin);
  const isBiggerThanMax = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_3__.Big)(fromAmount).gt(estimate.fromMax);
  if (isLessThanMin || isBiggerThanMax) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams,
      limits: {
        fromMin: estimate.fromMin,
        fromMax: estimate.fromMax
      },
      errorType: isLessThanMin ? _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMinSwap : _types__WEBPACK_IMPORTED_MODULE_1__.SwapErrorType.ChangellyMaxSwap
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }

  // Check for outdated response
  if (global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.In && global.currentSwap.amountIn !== estimate.fromAmount || global.currentSwap.inputSource === _types__WEBPACK_IMPORTED_MODULE_1__.SwapInputSource.Out && global.currentSwap.amountOut !== estimate.toAmount) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      ...resetParams
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  let networkFee = 0;
  if (global.currentSwap.swapType === _types__WEBPACK_IMPORTED_MODULE_1__.SwapType.CrosschainFromToncoin) {
    var _global$accounts, _global$currentSwap$a4, _txDraft$fee;
    const account = (_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId[global.currentAccountId];
    const txDraft = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('checkTransactionDraft', {
      accountId: global.currentAccountId,
      toAddress: account === null || account === void 0 ? void 0 : account.address,
      amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.fromDecimal)((_global$currentSwap$a4 = global.currentSwap.amountIn) !== null && _global$currentSwap$a4 !== void 0 ? _global$currentSwap$a4 : 0, tokenIn.decimals)
    });
    networkFee = Number((0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.toDecimal)((_txDraft$fee = txDraft === null || txDraft === void 0 ? void 0 : txDraft.fee) !== null && _txDraft$fee !== void 0 ? _txDraft$fee : 0n));
  }
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    amountOut: estimate.toAmount === '0' ? undefined : estimate.toAmount,
    limits: {
      fromMin: estimate.fromMin,
      fromMax: estimate.fromMax
    },
    swapFee: estimate.swapFee,
    networkFee,
    realNetworkFee: networkFee,
    amountOutMin: estimate.toAmount,
    isEstimating: false,
    errorType: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapScreen', (global, actions, _ref11) => {
  let {
    state
  } = _ref11;
  if (state === _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.Initial) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      swapId: (0,_util_generateUniqueId__WEBPACK_IMPORTED_MODULE_6__["default"])()
    });
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    state
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('clearSwapError', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    error: undefined
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapType', (global, actions, _ref12) => {
  let {
    type
  } = _ref12;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    swapType: type
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('loadSwapPairs', async (global, actions, _ref13) => {
  var _global$swapTokenInfo3, _global$currentSwap$p6;
  let {
    tokenSlug,
    shouldForceUpdate
  } = _ref13;
  const tokenIn = (_global$swapTokenInfo3 = global.swapTokenInfo) === null || _global$swapTokenInfo3 === void 0 ? void 0 : _global$swapTokenInfo3.bySlug[tokenSlug];
  if (!tokenIn) {
    return;
  }
  const symbolOrMinter = tokenIn.slug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract;
  const cache = PAIRS_CACHE[tokenSlug];
  const isCacheValid = cache && Date.now() - cache.timestamp <= CACHE_DURATION;
  if (isCacheValid && !shouldForceUpdate) {
    return;
  }
  const pairs = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('swapGetPairs', symbolOrMinter);
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (!pairs) {
    var _global$currentSwap$p5;
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
      pairs: {
        bySlug: {
          ...((_global$currentSwap$p5 = global.currentSwap.pairs) === null || _global$currentSwap$p5 === void 0 ? void 0 : _global$currentSwap$p5.bySlug),
          [tokenSlug]: {}
        }
      }
    });
    (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  const bySlug = pairs.reduce((acc, pair) => {
    acc[pair.slug] = pair.isReverseProhibited ? {
      isReverseProhibited: pair.isReverseProhibited
    } : {};
    return acc;
  }, {});
  PAIRS_CACHE[tokenSlug] = {
    data: pairs,
    timestamp: Date.now()
  };
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    pairs: {
      bySlug: {
        ...((_global$currentSwap$p6 = global.currentSwap.pairs) === null || _global$currentSwap$p6 === void 0 ? void 0 : _global$currentSwap$p6.bySlug),
        [tokenSlug]: bySlug
      }
    },
    shouldEstimate: true
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setSwapCexAddress', (global, actions, _ref14) => {
  let {
    toAddress
  } = _ref14;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSwap)(global, {
    toAddress
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,___WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('updatePendingSwaps', async global => {
  var _selectAccountState, _selectAccountState2, _activities;
  const accountId = global.currentAccountId;
  if (!accountId) return;
  let {
    activities
  } = (_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_15__.selectAccountState)(global, accountId)) !== null && _selectAccountState !== void 0 ? _selectAccountState : {};
  if (!activities) return;
  const ids = Object.values(activities.byId).filter(activity => activity.kind === 'swap' && activity.status === 'pending').map(_ref15 => {
    let {
      id
    } = _ref15;
    return id;
  });
  if (!ids.length) return;
  const swaps = await (0,_api__WEBPACK_IMPORTED_MODULE_12__.callApi)('fetchSwaps', accountId, ids);
  if (!(swaps !== null && swaps !== void 0 && swaps.length)) return;
  global = (0,___WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  if (global.currentAccountId !== accountId) return;
  ({
    activities
  } = (_selectAccountState2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_15__.selectAccountState)(global, accountId)) !== null && _selectAccountState2 !== void 0 ? _selectAccountState2 : {});
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateAccountState)(global, accountId, {
    activities: {
      ...activities,
      byId: {
        ...((_activities = activities) === null || _activities === void 0 ? void 0 : _activities.byId),
        ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.buildCollectionByKey)(swaps, 'id')
      }
    }
  });
  (0,___WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/api/tokens.ts":
/*!******************************************!*\
  !*** ./src/global/actions/api/tokens.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers_tokens__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../reducers/tokens */ "./src/global/reducers/tokens.ts");



(0,_index__WEBPACK_IMPORTED_MODULE_1__.addActionHandler)('loadPriceHistory', async (global, actions, payload) => {
  const {
    slug,
    period,
    currency = global.settings.baseCurrency
  } = payload !== null && payload !== void 0 ? payload : {};
  const history = await (0,_api__WEBPACK_IMPORTED_MODULE_0__.callApi)('fetchPriceHistory', slug, period, currency);
  if (!history) {
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_1__.getGlobal)();
  global = (0,_reducers_tokens__WEBPACK_IMPORTED_MODULE_2__.updateTokenPriceHistory)(global, slug, {
    [period]: history
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_1__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/api/vesting.ts":
/*!*******************************************!*\
  !*** ./src/global/actions/api/vesting.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");










(0,_index__WEBPACK_IMPORTED_MODULE_7__.addActionHandler)('submitClaimingVesting', async (global, actions, _ref) => {
  let {
    password
  } = _ref;
  const accountId = global.currentAccountId;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_6__.callApi)('verifyPassword', password))) {
    (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)((0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)(), accountId, {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.setIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, accountId, {
    isLoading: true,
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)(true);
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_4__.callActionInMain)('submitClaimingVesting', {
      password
    });
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  const unfreezeRequestedIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_9__.selectVestingPartsReadyToUnfreeze)(global, accountId);
  const options = {
    accountId: global.currentAccountId,
    password,
    toAddress: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_ADDRESS,
    amount: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_AMOUNT,
    comment: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_COMMENT
  };
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_6__.callApi)('submitTransfer', options);
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, accountId, {
    isLoading: false
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
  if (!result || 'error' in result) {
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.clearIsPinAccepted)(global);
      (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnError)();
    }
    actions.showError({
      error: result === null || result === void 0 ? void 0 : result.error
    });
    return;
  } else if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)();
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, accountId, {
    isConfirmRequested: undefined,
    unfreezeRequestedIds
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
  actions.openVestingModal();
});
(0,_index__WEBPACK_IMPORTED_MODULE_7__.addActionHandler)('submitClaimingVestingHardware', async (global, actions) => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, global.currentAccountId, {
    isLoading: true,
    error: undefined,
    unfreezeState: _types__WEBPACK_IMPORTED_MODULE_1__.VestingUnfreezeState.ConfirmHardware
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  const accountId = global.currentAccountId;
  const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_9__.selectTokenAddress)(global, _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG);
  const unfreezeRequestedIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_9__.selectVestingPartsReadyToUnfreeze)(global, accountId);
  const options = {
    accountId,
    password: '',
    toAddress: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_ADDRESS,
    amount: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_AMOUNT,
    comment: _config__WEBPACK_IMPORTED_MODULE_2__.CLAIM_COMMENT,
    tokenAddress
  };
  const result = await ledgerApi.submitLedgerTransfer(options, _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG);
  global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, accountId, {
    isLoading: false
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
  if (!result) {
    actions.showError({
      error: _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.Unexpected
    });
  } else {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_7__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateVesting)(global, accountId, {
      isConfirmRequested: undefined,
      unfreezeRequestedIds
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
    actions.openVestingModal();
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_7__.addActionHandler)('loadMycoin', (global, actions) => {
  const {
    isTestnet
  } = global.settings;
  actions.importToken({
    address: isTestnet ? _config__WEBPACK_IMPORTED_MODULE_2__.MYCOIN_TOKEN_TESTNET : _config__WEBPACK_IMPORTED_MODULE_2__.MYCOIN_TOKEN
  });
});

/***/ }),

/***/ "./src/global/actions/api/wallet.ts":
/*!******************************************!*\
  !*** ./src/global/actions/api/wallet.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_compareActivities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/compareActivities */ "./src/util/compareActivities.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _api_errors__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../api/errors */ "./src/api/errors.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _reducers_tokens__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../reducers/tokens */ "./src/global/reducers/tokens.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");

















const IMPORT_TOKEN_PAUSE = 250;
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('startTransfer', (global, actions, payload) => {
  const isOpen = global.currentTransfer.state !== _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.None;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_DELEGATED_BOTTOM_SHEET && !isOpen) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_7__.callActionInMain)('startTransfer', payload);
    return;
  }
  const {
    isPortrait,
    ...rest
  } = payload !== null && payload !== void 0 ? payload : {};
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    state: isPortrait ? _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.Initial : _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.None,
    error: undefined,
    ...rest
  }));
  if (!isPortrait) {
    actions.setLandscapeActionsActiveTabIndex({
      index: _types__WEBPACK_IMPORTED_MODULE_1__.ActiveTab.Transfer
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('changeTransferToken', (global, actions, _ref) => {
  let {
    tokenSlug
  } = _ref;
  const {
    amount,
    tokenSlug: currentTokenSlug
  } = global.currentTransfer;
  const currentToken = currentTokenSlug ? global.tokenInfo.bySlug[currentTokenSlug] : undefined;
  const newToken = global.tokenInfo.bySlug[tokenSlug];
  if (amount && (currentToken === null || currentToken === void 0 ? void 0 : currentToken.decimals) !== (newToken === null || newToken === void 0 ? void 0 : newToken.decimals)) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
      amount: (0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.fromDecimal)((0,_util_decimals__WEBPACK_IMPORTED_MODULE_5__.toDecimal)(amount, currentToken === null || currentToken === void 0 ? void 0 : currentToken.decimals), newToken === null || newToken === void 0 ? void 0 : newToken.decimals)
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    tokenSlug,
    dieselStatus: undefined,
    dieselAmount: undefined,
    fee: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setTransferScreen', (global, actions, payload) => {
  const {
    state
  } = payload;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    state
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setTransferAmount', (global, actions, _ref2) => {
  let {
    amount
  } = _ref2;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    amount
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setTransferToAddress', (global, actions, _ref3) => {
  let {
    toAddress
  } = _ref3;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    toAddress
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setTransferComment', (global, actions, _ref4) => {
  let {
    comment
  } = _ref4;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    comment
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setTransferShouldEncrypt', (global, actions, _ref5) => {
  let {
    shouldEncrypt
  } = _ref5;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    shouldEncrypt
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitTransferInitial', async (global, actions, payload) => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_9__.IS_DELEGATING_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_7__.callActionInNative)('submitTransferInitial', payload);
    return;
  }
  const {
    tokenSlug,
    toAddress,
    amount,
    comment,
    shouldEncrypt,
    nftAddresses,
    withDiesel
  } = payload;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSendingLoading)(global, true));
  let result;
  if (nftAddresses !== null && nftAddresses !== void 0 && nftAddresses.length) {
    result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('checkNftTransferDraft', {
      accountId: global.currentAccountId,
      nftAddresses,
      toAddress,
      comment
    });
  } else {
    const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectTokenAddress)(global, tokenSlug);
    result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('checkTransactionDraft', {
      accountId: global.currentAccountId,
      tokenAddress,
      toAddress,
      amount,
      data: comment,
      shouldEncrypt
    });
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSendingLoading)(global, false);
  if (!result || 'error' in result) {
    var _result, _result2;
    if (result) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransferByCheckResult)(global, result);
    }
    if ((_result = result) !== null && _result !== void 0 && _result.fee) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransferFee)(global, result.fee, amount, tokenSlug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG);
    }
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    if (((_result2 = result) === null || _result2 === void 0 ? void 0 : _result2.error) === _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InsufficientBalance && !(nftAddresses !== null && nftAddresses !== void 0 && nftAddresses.length)) {
      actions.showDialog({
        message: 'The network fee has slightly changed, try sending again.'
      });
    } else {
      var _result3;
      actions.showError({
        error: (_result3 = result) === null || _result3 === void 0 ? void 0 : _result3.error
      });
    }
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransferFee)(global, result.fee, amount, tokenSlug === _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG);
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.Confirm,
    error: undefined,
    toAddress,
    resolvedAddress: result.resolvedAddress,
    amount,
    comment,
    shouldEncrypt,
    toAddressName: result.addressName,
    tokenSlug,
    isToNewAddress: result.isToAddressNew,
    isScam: result.isScam,
    isMemoRequired: result.isMemoRequired,
    withDiesel
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('fetchFee', async (global, actions, payload) => {
  const {
    tokenSlug,
    toAddress,
    amount,
    comment,
    shouldEncrypt,
    binPayload
  } = payload;
  const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectTokenAddress)(global, tokenSlug);
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('checkTransactionDraft', {
    accountId: global.currentAccountId,
    toAddress,
    amount,
    data: binPayload !== null && binPayload !== void 0 ? binPayload : comment,
    tokenAddress,
    shouldEncrypt,
    isBase64Data: Boolean(binPayload)
  });
  if (result !== null && result !== void 0 && result.fee) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransferFee)(global, result.fee, amount, !tokenAddress);
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  }
  if (result) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransferByCheckResult)(global, result);
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (result !== null && result !== void 0 && result.error) {
    actions.showError({
      error: result.error
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('fetchNftFee', async (global, actions, payload) => {
  const {
    toAddress,
    nftAddresses,
    comment
  } = payload;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('checkNftTransferDraft', {
    accountId: global.currentAccountId,
    nftAddresses,
    toAddress,
    comment
  });
  if (result !== null && result !== void 0 && result.fee) {
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
      fee: result.fee
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  }
  if (result !== null && result !== void 0 && result.error) {
    actions.showError({
      error: (result === null || result === void 0 ? void 0 : result.error) === _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InsufficientBalance ? 'Insufficient TON for fee.' : result.error
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitTransferConfirm', (global, actions) => {
  const accountId = global.currentAccountId;
  const account = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccount)(global, accountId);
  if (account.isHardware) {
    actions.resetHardwareWalletConnect();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      state: _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.ConnectHardware
    });
  } else {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.Password
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitTransferPassword', async (global, actions, _ref6) => {
  let {
    password
  } = _ref6;
  const {
    resolvedAddress,
    comment,
    amount,
    promiseId,
    tokenSlug,
    fee,
    shouldEncrypt,
    binPayload,
    nfts,
    withDiesel,
    dieselAmount
  } = global.currentTransfer;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('verifyPassword', password))) {
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
    isLoading: true,
    error: undefined
  });
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.setIsPinAccepted)(global);
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)(true);
  }
  if (promiseId) {
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.setIsPinAccepted)(global);
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    }
    void (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('confirmDappRequest', promiseId, password);
    return;
  }
  let result;
  if (nfts !== null && nfts !== void 0 && nfts.length) {
    const chunks = [];
    for (let i = 0; i < nfts.length; i += _config__WEBPACK_IMPORTED_MODULE_2__.NFT_BATCH_SIZE) {
      chunks.push(nfts.slice(i, i + _config__WEBPACK_IMPORTED_MODULE_2__.NFT_BATCH_SIZE));
    }
    for (const chunk of chunks) {
      const addresses = chunk.map(_ref7 => {
        let {
          address
        } = _ref7;
        return address;
      });
      const batchResult = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('submitNftTransfers', global.currentAccountId, password, addresses, resolvedAddress, comment, chunk, fee);
      global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
        sentNftsCount: (global.currentTransfer.sentNftsCount || 0) + chunk.length
      });
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
      // TODO - process all responses from the API
      result = batchResult;
    }
  } else {
    const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectTokenAddress)(global, tokenSlug);
    const options = {
      accountId: global.currentAccountId,
      password,
      toAddress: resolvedAddress,
      amount: amount,
      comment: binPayload !== null && binPayload !== void 0 ? binPayload : comment,
      tokenAddress,
      fee,
      shouldEncrypt,
      isBase64Data: Boolean(binPayload),
      withDiesel,
      dieselAmount
    };
    result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('submitTransfer', options);
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    isLoading: false
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (!result || 'error' in result) {
    var _result4;
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
      void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnError)();
    }
    actions.showError({
      error: (_result4 = result) === null || _result4 === void 0 ? void 0 : _result4.error
    });
  } else if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)();
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitTransferHardware', async (global, actions) => {
  const {
    toAddress,
    resolvedAddress,
    comment,
    amount,
    promiseId,
    tokenSlug,
    fee,
    rawPayload,
    parsedPayload,
    stateInit,
    nfts
  } = global.currentTransfer;
  const accountId = global.currentAccountId;
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
    isLoading: true,
    error: undefined,
    state: _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.ConfirmHardware
  }));
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  if (promiseId) {
    const message = {
      toAddress: toAddress,
      amount: amount,
      rawPayload,
      payload: parsedPayload,
      stateInit
    };
    try {
      const signedMessage = await ledgerApi.signLedgerTransactions(accountId, [message]);
      void (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('confirmDappRequest', promiseId, signedMessage);
    } catch (err) {
      if (err instanceof _api_errors__WEBPACK_IMPORTED_MODULE_11__.ApiUserRejectsError) {
        (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
          isLoading: false,
          error: 'Canceled by the user'
        }));
      } else {
        void (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('cancelDappRequest', promiseId, 'Unknown error.');
      }
    }
    return;
  }
  let result;
  let error;
  if (nfts !== null && nfts !== void 0 && nfts.length) {
    for (const nft of nfts) {
      const currentResult = await ledgerApi.submitLedgerNftTransfer({
        accountId: global.currentAccountId,
        nftAddress: nft.address,
        password: '',
        toAddress: resolvedAddress,
        comment,
        nft,
        fee
      });
      global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
        sentNftsCount: (global.currentTransfer.sentNftsCount || 0) + 1
      });
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
      result = currentResult;
    }
  } else {
    const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectTokenAddress)(global, tokenSlug);
    const options = {
      accountId: global.currentAccountId,
      password: '',
      toAddress: resolvedAddress,
      amount: amount,
      comment,
      tokenAddress,
      fee
    };
    try {
      result = await ledgerApi.submitLedgerTransfer(options, tokenSlug);
    } catch (err) {
      if (err instanceof _api_errors__WEBPACK_IMPORTED_MODULE_11__.ApiHardwareBlindSigningNotEnabled) {
        error = '$hardware_blind_sign_not_enabled';
      }
    }
  }
  if (!error && result === undefined) {
    error = 'Declined';
  } else if (typeof result === 'object' && 'error' in result) {
    actions.showError({
      error: result.error
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
    isLoading: false,
    error
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('clearTransferError', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    error: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('cancelTransfer', function (global, actions) {
  let {
    shouldReset
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  const {
    promiseId,
    tokenSlug
  } = global.currentTransfer;
  if (shouldReset) {
    if (promiseId) {
      void (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('cancelDappRequest', promiseId, 'Canceled by the user');
    }
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearCurrentTransfer)(global);
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
      tokenSlug
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.clearIsPinAccepted)(global);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.None
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('fetchTokenTransactions', async (global, actions, _ref8) => {
  var _selectAccountState, _selectAccountState2;
  let {
    limit,
    slug,
    shouldLoadWithBudget
  } = _ref8;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsLoading)(global, true);
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const accountId = global.currentAccountId;
  let {
    idsBySlug
  } = ((_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, accountId)) === null || _selectAccountState === void 0 ? void 0 : _selectAccountState.activities) || {};
  let shouldFetchMore = true;
  let fetchedActivities = [];
  let tokenIds = idsBySlug && idsBySlug[slug] || [];
  let offsetId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.findLast)(tokenIds, id => !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsTxIdLocal)(id) && !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsSwapId)(id));
  while (shouldFetchMore) {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('fetchTokenActivitySlice', accountId, slug, offsetId, limit);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    if (!result || 'error' in result) {
      break;
    }
    if (!result.length) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsHistoryEndReached)(global, true, slug);
      break;
    }
    const filteredResult = global.settings.areTinyTransfersHidden ? result.filter(tx => tx.kind === 'transaction' && !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsTinyOrScamTransaction)(tx)) : result;
    fetchedActivities = fetchedActivities.concat(result);
    shouldFetchMore = filteredResult.length < limit && fetchedActivities.length < limit;
    tokenIds = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.unique)(tokenIds.concat(filteredResult.map(tx => tx.id)));
    offsetId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.findLast)(tokenIds, id => !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsTxIdLocal)(id) && !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsSwapId)(id));
  }
  fetchedActivities.sort(_util_compareActivities__WEBPACK_IMPORTED_MODULE_4__.compareActivities);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsLoading)(global, false);
  const newById = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.buildCollectionByKey)(fetchedActivities, 'id');
  const newOrderedIds = Object.keys(newById);
  const currentActivities = (_selectAccountState2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, accountId)) === null || _selectAccountState2 === void 0 ? void 0 : _selectAccountState2.activities;
  const byId = {
    ...((currentActivities === null || currentActivities === void 0 ? void 0 : currentActivities.byId) || {}),
    ...newById
  };
  idsBySlug = (currentActivities === null || currentActivities === void 0 ? void 0 : currentActivities.idsBySlug) || {};
  tokenIds = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.unique)((idsBySlug[slug] || []).concat(newOrderedIds));
  tokenIds.sort((a, b) => (0,_util_compareActivities__WEBPACK_IMPORTED_MODULE_4__.compareActivities)(byId[a], byId[b]));
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateAccountState)(global, accountId, {
    activities: {
      ...currentActivities,
      byId,
      idsBySlug: {
        ...idsBySlug,
        [slug]: tokenIds
      }
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (shouldLoadWithBudget) {
    (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_8__.onTickEnd)(() => {
      actions.fetchTokenTransactions({
        limit,
        slug
      });
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('fetchAllTransactions', async (global, actions, _ref9) => {
  var _selectAccountState3, _idsBySlug$TONCOIN_SL;
  let {
    limit,
    shouldLoadWithBudget
  } = _ref9;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsLoading)(global, true);
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const accountId = global.currentAccountId;
  let lastTxIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectLastTxIds)(global, accountId);
  let shouldFetchMore = true;
  let fetchedActivities = [];
  while (shouldFetchMore) {
    const result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('fetchAllActivitySlice', accountId, lastTxIds, limit);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    if (!result || 'error' in result) {
      break;
    }
    if (!result.length) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsHistoryEndReached)(global, true);
      break;
    }
    const filteredResult = global.settings.areTinyTransfersHidden ? result.filter(tx => tx.kind === 'transaction' && !(0,_helpers__WEBPACK_IMPORTED_MODULE_12__.getIsTinyOrScamTransaction)(tx)) : result;
    fetchedActivities = fetchedActivities.concat(result);
    shouldFetchMore = filteredResult.length < limit && fetchedActivities.length < limit;
    lastTxIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectLastTxIds)(global, accountId);
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsLoading)(global, false);
  const newById = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.buildCollectionByKey)(fetchedActivities, 'id');
  const currentActivities = (_selectAccountState3 = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, accountId)) === null || _selectAccountState3 === void 0 ? void 0 : _selectAccountState3.activities;
  const byId = {
    ...((currentActivities === null || currentActivities === void 0 ? void 0 : currentActivities.byId) || {}),
    ...newById
  };
  let idsBySlug = {
    ...(currentActivities === null || currentActivities === void 0 ? void 0 : currentActivities.idsBySlug)
  };
  fetchedActivities.sort(_util_compareActivities__WEBPACK_IMPORTED_MODULE_4__.compareActivities);
  idsBySlug = fetchedActivities.reduce((acc, activity) => {
    if (activity.kind === 'swap') {
      const {
        id,
        from,
        to
      } = activity;
      acc[from] = (acc[from] || []).concat([id]);
      acc[to] = (acc[to] || []).concat([id]);
    } else {
      const {
        id,
        slug
      } = activity;
      acc[slug] = (acc[slug] || []).concat([id]);
    }
    return acc;
  }, idsBySlug);
  idsBySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.mapValues)(idsBySlug, txIds => (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.unique)(txIds));
  (_idsBySlug$TONCOIN_SL = idsBySlug[_config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG]) === null || _idsBySlug$TONCOIN_SL === void 0 ? void 0 : _idsBySlug$TONCOIN_SL.sort((a, b) => (0,_util_compareActivities__WEBPACK_IMPORTED_MODULE_4__.compareActivities)(byId[a], byId[b]));
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateAccountState)(global, accountId, {
    activities: {
      ...currentActivities,
      byId,
      idsBySlug
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  if (shouldLoadWithBudget) {
    (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_8__.onTickEnd)(() => {
      actions.fetchAllTransactions({
        limit
      });
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('resetIsHistoryEndReached', (global, actions, payload) => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateActivitiesIsHistoryEndReached)(global, false, payload === null || payload === void 0 ? void 0 : payload.slug);
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setIsBackupRequired', (global, actions, _ref10) => {
  var _selectCurrentAccount;
  let {
    isMnemonicChecked
  } = _ref10;
  const {
    isBackupRequired
  } = (_selectCurrentAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectCurrentAccountState)(global)) !== null && _selectCurrentAccount !== void 0 ? _selectCurrentAccount : {};
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentAccountState)(global, {
    isBackupRequired: isMnemonicChecked ? undefined : isBackupRequired
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('submitSignature', async (global, actions, payload) => {
  const {
    password
  } = payload;
  const {
    promiseId
  } = global.currentSignature;
  if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('verifyPassword', password))) {
    (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSignature)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
      error: 'Wrong password, please try again.'
    }));
    return;
  }
  await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('confirmDappRequest', promiseId, password);
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSignature)((0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)(), {
    isSigned: true
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('clearSignatureError', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentSignature)(global, {
    error: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('cancelSignature', global => {
  const {
    promiseId
  } = global.currentSignature || {};
  if (promiseId) {
    void (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('cancelDappRequest', promiseId, 'Canceled by the user');
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)({
    ...global,
    currentSignature: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('addToken', (global, actions, _ref11) => {
  var _selectAccountSetting, _global$tokenInfo, _token$price, _token$priceUsd, _token$change24h;
  let {
    token
  } = _ref11;
  const accountId = global.currentAccountId;
  const {
    balances
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, accountId) || {};
  const accountSettings = (_selectAccountSetting = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting !== void 0 ? _selectAccountSetting : {};
  const {
    orderedSlugs = [],
    exceptionSlugs = [],
    deletedSlugs
  } = accountSettings;
  if (balances !== null && balances !== void 0 && balances.bySlug[token.slug]) {
    return;
  }
  const existingToken = (_global$tokenInfo = global.tokenInfo) === null || _global$tokenInfo === void 0 || (_global$tokenInfo = _global$tokenInfo.bySlug) === null || _global$tokenInfo === void 0 ? void 0 : _global$tokenInfo[token.slug];
  const apiToken = existingToken !== null && existingToken !== void 0 ? existingToken : {
    name: token.name,
    symbol: token.symbol,
    slug: token.slug,
    decimals: token.decimals,
    image: token.image,
    keywords: token.keywords,
    quote: {
      slug: token.slug,
      price: (_token$price = token.price) !== null && _token$price !== void 0 ? _token$price : 0,
      priceUsd: (_token$priceUsd = token.priceUsd) !== null && _token$priceUsd !== void 0 ? _token$priceUsd : 0,
      percentChange24h: (_token$change24h = token.change24h) !== null && _token$change24h !== void 0 ? _token$change24h : 0
    }
  };
  const exceptionSlugsCopy = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.unique)([...exceptionSlugs, token.slug]);
  const deletedSlugsCopy = deletedSlugs === null || deletedSlugs === void 0 ? void 0 : deletedSlugs.filter(slug => slug !== token.slug);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateAccountState)(global, accountId, {
    balances: {
      ...balances,
      bySlug: {
        ...(balances === null || balances === void 0 ? void 0 : balances.bySlug),
        [apiToken.slug]: 0n
      }
    }
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        orderedSlugs: [...(orderedSlugs !== null && orderedSlugs !== void 0 ? orderedSlugs : []), apiToken.slug],
        exceptionSlugs: exceptionSlugsCopy,
        deletedSlugs: deletedSlugsCopy
      }
    }
  });
  global = (0,_reducers_tokens__WEBPACK_IMPORTED_MODULE_15__.updateTokenInfo)(global, {
    [apiToken.slug]: apiToken
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('importToken', async (global, actions, _ref12) => {
  var _global$tokenInfo$byS, _selectAccountState$b, _selectAccountState4;
  let {
    address,
    isSwap
  } = _ref12;
  const {
    currentAccountId
  } = global;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSettings)(global, {
    importToken: {
      isLoading: true,
      token: undefined
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
  const slug = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('buildTokenSlug', address);
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  let token = (_global$tokenInfo$byS = global.tokenInfo.bySlug) === null || _global$tokenInfo$byS === void 0 ? void 0 : _global$tokenInfo$byS[slug];
  if (!token) {
    token = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('fetchToken', global.currentAccountId, address);
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_8__.pause)(IMPORT_TOKEN_PAUSE);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
    if (!token) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSettings)(global, {
        importToken: {
          isLoading: false,
          token: undefined
        }
      });
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
      return;
    } else {
      const apiToken = {
        ...token,
        quote: {
          slug: token.slug,
          price: 0,
          priceUsd: 0,
          percentChange24h: 0
        }
      };
      global = (0,_reducers_tokens__WEBPACK_IMPORTED_MODULE_15__.updateTokenInfo)(global, {
        [apiToken.slug]: apiToken
      });
      (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
    }
  }
  const balances = (_selectAccountState$b = (_selectAccountState4 = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, currentAccountId)) === null || _selectAccountState4 === void 0 || (_selectAccountState4 = _selectAccountState4.balances) === null || _selectAccountState4 === void 0 ? void 0 : _selectAccountState4.bySlug) !== null && _selectAccountState$b !== void 0 ? _selectAccountState$b : {};
  const shouldUpdateBalance = !(token.slug in balances);
  const userToken = {
    ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_6__.pick)(token, ['symbol', 'slug', 'name', 'image', 'decimals', 'keywords']),
    amount: 0n,
    totalValue: '0',
    price: 0,
    priceUsd: 0,
    change24h: 0,
    ...(isSwap && {
      blockchain: 'ton',
      contract: token.minterAddress
    })
  };
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSettings)(global, {
    importToken: {
      isLoading: false,
      token: userToken
    }
  });
  if (shouldUpdateBalance) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateBalances)(global, global.currentAccountId, {
      [token.slug]: 0n
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('resetImportToken', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateSettings)(global, {
    importToken: {
      isLoading: false,
      token: undefined
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('verifyHardwareAddress', async (global, actions) => {
  const accountId = global.currentAccountId;
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  if (!(await ledgerApi.reconnectLedger())) {
    actions.showError({
      error: '$ledger_not_ready'
    });
    return;
  }
  try {
    actions.showDialog({
      title: 'Ledger',
      message: '$ledger_verify_address_on_device'
    });
    await ledgerApi.verifyAddress(accountId);
  } catch (err) {
    actions.showError({
      error: err
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('setActiveContentTab', (global, actions, _ref13) => {
  let {
    tab
  } = _ref13;
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentAccountState)(global, {
    activeContentTab: tab
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('addSwapToken', (global, actions, _ref14) => {
  let {
    token
  } = _ref14;
  const isAlreadyExist = (token.slug in global.swapTokenInfo.bySlug);
  if (isAlreadyExist) {
    return;
  }
  const apiSwapAsset = {
    name: token.name,
    symbol: token.symbol,
    blockchain: token.blockchain,
    slug: token.slug,
    decimals: token.decimals,
    image: token.image,
    contract: token.contract,
    keywords: token.keywords,
    isPopular: false,
    price: 0,
    priceUsd: 0
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)({
    ...global,
    swapTokenInfo: {
      ...global.swapTokenInfo,
      bySlug: {
        ...global.swapTokenInfo.bySlug,
        [apiSwapAsset.slug]: apiSwapAsset
      }
    }
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_13__.addActionHandler)('fetchDieselState', async (global, actions, _ref15) => {
  let {
    tokenSlug
  } = _ref15;
  const tokenAddress = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectTokenAddress)(global, tokenSlug);
  if (!tokenAddress) return;
  const result = await (0,_api__WEBPACK_IMPORTED_MODULE_10__.callApi)('fetchDieselState', global.currentAccountId, tokenAddress);
  if (!result || !result.status) return;
  global = (0,_index__WEBPACK_IMPORTED_MODULE_13__.getGlobal)();
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_16__.selectAccountState)(global, global.currentAccountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateCurrentTransfer)(global, {
    dieselStatus: result.status,
    dieselAmount: result.amount
  });
  if (accountState !== null && accountState !== void 0 && accountState.isDieselAuthorizationStarted && result.status !== 'not-authorized') {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_14__.updateAccountState)(global, global.currentAccountId, {
      isDieselAuthorizationStarted: undefined
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_13__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/apiUpdates/activities.ts":
/*!*****************************************************!*\
  !*** ./src/global/actions/apiUpdates/activities.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_notificationSound__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/notificationSound */ "./src/util/notificationSound.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");










const TX_AGE_TO_PLAY_SOUND = 60000; // 1 min

(0,_index__WEBPACK_IMPORTED_MODULE_7__.addActionHandler)('apiUpdate', (global, actions, update) => {
  switch (update.type) {
    case 'newLocalTransaction':
      {
        const {
          accountId,
          transaction,
          transaction: {
            amount,
            txId
          }
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateActivity)(global, accountId, transaction);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.addLocalTransaction)(global, accountId, transaction);
        if (-amount === global.currentTransfer.amount) {
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateCurrentTransfer)(global, {
            txId,
            state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Complete,
            isLoading: false
          });
          if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
            global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.clearIsPinAccepted)(global);
          }
          if (transaction.slug && transaction.slug !== _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG) {
            actions.fetchDieselState({
              tokenSlug: transaction.slug
            });
          }
        }
        (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
        break;
      }
    case 'newActivities':
      {
        var _selectLocalTransacti, _groups$localUpdates;
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATING_BOTTOM_SHEET && !update.noForward) {
          // Local transaction in NBS was not updated after nft/transfer sending was completed
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('apiUpdate', {
            ...update,
            noForward: true
          });
        }
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET && !update.noForward) {
          // A local swap transaction is not created if the NBS is closed before the exchange is completed
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInMain)('apiUpdate', {
            ...update,
            noForward: true
          });
        }
        const {
          accountId,
          activities
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateActivitiesIsLoadingByAccount)(global, accountId, false);
        const localTransactions = (_selectLocalTransacti = (0,_selectors__WEBPACK_IMPORTED_MODULE_9__.selectLocalTransactions)(global, accountId)) !== null && _selectLocalTransacti !== void 0 ? _selectLocalTransacti : [];
        const withLocalIndex = activities.map(activity => {
          if (activity.kind !== 'transaction') {
            return {
              activity,
              localIndex: -1,
              groupName: 'newActivities'
            };
          }
          const localIndex = localTransactions.findIndex(_ref => {
            let {
              amount,
              isIncoming,
              slug,
              normalizedAddress,
              inMsgHash
            } = _ref;
            if (slug === _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG) {
              return inMsgHash === activity.inMsgHash && normalizedAddress === activity.normalizedAddress;
            } else {
              return amount === activity.amount && !isIncoming && slug === activity.slug && normalizedAddress === activity.normalizedAddress;
            }
          });
          return {
            activity,
            localIndex,
            groupName: localIndex >= 0 ? 'localUpdates' : 'newActivities'
          };
        });
        const groups = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.groupBy)(withLocalIndex, 'groupName');
        (_groups$localUpdates = groups.localUpdates) === null || _groups$localUpdates === void 0 ? void 0 : _groups$localUpdates.forEach(_ref2 => {
          let {
            activity,
            localIndex
          } = _ref2;
          const [localTransaction] = localTransactions.splice(localIndex, 1);
          const {
            txId,
            amount,
            shouldHide
          } = activity;
          const localTxId = localTransaction.txId;
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.assignRemoteTxId)(global, accountId, localTxId, txId, amount, shouldHide);
          if (global.currentTransfer.txId === localTxId) {
            global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateCurrentTransfer)(global, {
              txId
            });
          }
          const {
            currentActivityId
          } = (0,_selectors__WEBPACK_IMPORTED_MODULE_9__.selectAccountState)(global, accountId) || {};
          if (currentActivityId === localTxId) {
            global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.updateAccountState)(global, accountId, {
              currentActivityId: txId
            });
          }
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.removeLocalTransaction)(global, accountId, localTxId);
        });
        if (groups.newActivities) {
          const newActivities = groups.newActivities.map(_ref3 => {
            let {
              activity
            } = _ref3;
            return activity;
          });
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_8__.addNewActivities)(global, accountId, newActivities);
          const shouldPlaySound = newActivities.some(activity => {
            var _global$tokenInfo;
            return activity.kind === 'transaction' && activity.isIncoming && global.settings.canPlaySounds && Date.now() - activity.timestamp < TX_AGE_TO_PLAY_SOUND && !(global.settings.areTinyTransfersHidden && (0,_helpers__WEBPACK_IMPORTED_MODULE_5__.getIsTinyOrScamTransaction)(activity, (_global$tokenInfo = global.tokenInfo) === null || _global$tokenInfo === void 0 ? void 0 : _global$tokenInfo.bySlug[activity.slug]));
          });
          if (shouldPlaySound) {
            (0,_util_notificationSound__WEBPACK_IMPORTED_MODULE_4__.playIncomingTransactionSound)();
          }
        }
        (0,_index__WEBPACK_IMPORTED_MODULE_7__.setGlobal)(global);
        break;
      }
  }
});

/***/ }),

/***/ "./src/global/actions/apiUpdates/dapp.ts":
/*!***********************************************!*\
  !*** ./src/global/actions/apiUpdates/dapp.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_deeplink__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/deeplink */ "./src/util/deeplink/index.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");








(0,_index__WEBPACK_IMPORTED_MODULE_5__.addActionHandler)('apiUpdate', (global, actions, update) => {
  switch (update.type) {
    case 'createTransaction':
      {
        const {
          promiseId,
          amount,
          toAddress,
          fee,
          comment,
          rawPayload,
          parsedPayload,
          stateInit
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.clearCurrentTransfer)(global);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateCurrentTransfer)(global, {
          state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Confirm,
          toAddress,
          amount,
          fee,
          comment,
          promiseId,
          tokenSlug: _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG,
          rawPayload,
          parsedPayload,
          stateInit
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'createSignature':
      {
        const {
          promiseId,
          dataHex
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.clearCurrentSignature)(global);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateCurrentSignature)(global, {
          promiseId,
          dataHex
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'showError':
      {
        const {
          error
        } = update;
        actions.showError({
          error
        });
        break;
      }
    case 'dappConnect':
      {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET) {
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('apiUpdateDappConnect', update);
        }
        actions.apiUpdateDappConnect(update);
        break;
      }
    case 'dappConnectComplete':
      {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.clearDappConnectRequest)(global);
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updateActiveDapp':
      {
        const {
          accountId,
          origin
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccountState)(global, accountId, {
          activeDappOrigin: origin
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'dappDisconnect':
      {
        const {
          accountId,
          origin
        } = update;
        const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_7__.selectAccountState)(global, accountId);
        if ((accountState === null || accountState === void 0 ? void 0 : accountState.activeDappOrigin) === origin) {
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccountState)(global, accountId, {
            activeDappOrigin: undefined
          });
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.clearCurrentDappTransfer)(global);
          (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        }
        break;
      }
    case 'dappLoading':
      {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET) {
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('apiUpdateDappLoading', update);
        }
        actions.apiUpdateDappLoading(update);
        break;
      }
    case 'dappCloseLoading':
      {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET) {
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('apiUpdateDappCloseLoading');
        }
        actions.apiUpdateDappCloseLoading();
        break;
      }
    case 'dappSendTransactions':
      {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET) {
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('apiUpdateDappSendTransaction', update);
        }
        actions.apiUpdateDappSendTransaction(update);
        break;
      }
    case 'updateDapps':
      {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATING_BOTTOM_SHEET) {
          (0,_util_multitab__WEBPACK_IMPORTED_MODULE_3__.callActionInNative)('getDapps');
        }
        actions.getDapps();
        break;
      }
    case 'prepareTransaction':
      {
        const {
          amount,
          toAddress,
          comment,
          binPayload
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.clearCurrentTransfer)(global);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateCurrentTransfer)(global, {
          state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Initial,
          toAddress,
          amount: amount !== null && amount !== void 0 ? amount : 0n,
          comment,
          tokenSlug: _config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG,
          binPayload
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'processDeeplink':
      {
        const {
          url
        } = update;
        (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_2__.processDeeplink)(url);
        break;
      }
  }
});

/***/ }),

/***/ "./src/global/actions/apiUpdates/initial.ts":
/*!**************************************************!*\
  !*** ./src/global/actions/apiUpdates/initial.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _util_areDeepEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/areDeepEqual */ "./src/util/areDeepEqual.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");








(0,_index__WEBPACK_IMPORTED_MODULE_5__.addActionHandler)('apiUpdate', (global, actions, update) => {
  switch (update.type) {
    case 'updateBalances':
      {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateBalances)(global, update.accountId, update.balancesToUpdate);
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        actions.updateDeletionListForActiveTokens({
          accountId: update.accountId
        });
        break;
      }
    case 'updateStaking':
      {
        var _selectAccountState$s, _selectAccountState;
        const {
          accountId,
          stakingCommonData,
          stakingState,
          backendStakingState
        } = update;
        const oldBalance = (_selectAccountState$s = (_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_7__.selectAccountState)(global, accountId)) === null || _selectAccountState === void 0 || (_selectAccountState = _selectAccountState.staking) === null || _selectAccountState === void 0 ? void 0 : _selectAccountState.balance) !== null && _selectAccountState$s !== void 0 ? _selectAccountState$s : 0n;
        let balance = 0n;
        if (stakingState.type === 'nominators') {
          balance = stakingState.amount;
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccountStakingState)(global, accountId, {
            type: stakingState.type,
            balance,
            isUnstakeRequested: stakingState.isUnstakeRequested,
            unstakeRequestedAmount: undefined,
            apy: backendStakingState.nominatorsPool.apy,
            start: backendStakingState.nominatorsPool.start,
            end: backendStakingState.nominatorsPool.end,
            totalProfit: backendStakingState.totalProfit
          }, true);
        } else {
          const isPrevRoundUnlocked = Date.now() > stakingCommonData.prevRound.unlock;
          balance = stakingState.amount;
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccountStakingState)(global, accountId, {
            type: stakingState.type,
            balance,
            isUnstakeRequested: !!stakingState.unstakeRequestAmount,
            unstakeRequestedAmount: stakingState.unstakeRequestAmount,
            start: isPrevRoundUnlocked ? stakingCommonData.round.start : stakingCommonData.prevRound.start,
            end: isPrevRoundUnlocked ? stakingCommonData.round.unlock : stakingCommonData.prevRound.unlock,
            apy: stakingState.apy,
            totalProfit: backendStakingState.totalProfit
          }, true);
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateStakingInfo)(global, {
            liquid: {
              instantAvailable: stakingState.instantAvailable
            }
          });
        }
        let shouldOpenStakingInfo = false;
        if (balance !== oldBalance && global.staking.state !== _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.None) {
          if (balance === 0n) {
            global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateStaking)(global, {
              state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.StakeInitial
            });
          } else if (oldBalance === 0n) {
            shouldOpenStakingInfo = true;
          }
        }
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        if (shouldOpenStakingInfo) {
          actions.cancelStaking();
          actions.openStakingInfo();
        }
        break;
      }
    case 'updateTokens':
      {
        const {
          tokens,
          baseCurrency
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateTokens)(global, tokens, true);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateSettings)(global, {
          baseCurrency
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        actions.updateDeletionListForActiveTokens();
        break;
      }
    case 'updateSwapTokens':
      {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateSwapTokens)(global, update.tokens);
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updateNfts':
      {
        var _selectAccountState2;
        const {
          accountId
        } = update;
        const nfts = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.buildCollectionByKey)(update.nfts, 'address');
        global = (0,_index__WEBPACK_IMPORTED_MODULE_5__.getGlobal)();
        const currentNfts = (_selectAccountState2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_7__.selectAccountState)(global, accountId)) === null || _selectAccountState2 === void 0 ? void 0 : _selectAccountState2.nfts;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccountState)(global, accountId, {
          nfts: {
            ...currentNfts,
            byAddress: nfts,
            orderedAddresses: Object.keys(nfts)
          }
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'nftSent':
      {
        const {
          accountId,
          nftAddress
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.removeNft)(global, accountId, nftAddress);
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'nftReceived':
      {
        const {
          accountId,
          nft
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.addNft)(global, accountId, nft);
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'nftPutUpForSale':
      {
        const {
          accountId,
          nftAddress
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateNft)(global, accountId, nftAddress, {
          isOnSale: true
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updateAccount':
      {
        const {
          accountId,
          partial
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateAccount)(global, accountId, (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.pick)(partial, ['address']));
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updateConfig':
      {
        const {
          isLimited: isLimitedRegion,
          isCopyStorageEnabled,
          supportAccountsCount,
          countryCode
        } = update;
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateRestrictions)(global, {
          isLimitedRegion,
          isSwapDisabled: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_IOS_APP && isLimitedRegion,
          isOnRampDisabled: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_IOS_APP && isLimitedRegion,
          isCopyStorageEnabled,
          supportAccountsCount,
          countryCode
        });
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updateWalletVersions':
      {
        var _global$walletVersion;
        const {
          accountId,
          versions,
          currentVersion
        } = update;
        global = {
          ...global,
          walletVersions: {
            ...global.walletVersions,
            currentVersion,
            byId: {
              ...((_global$walletVersion = global.walletVersions) === null || _global$walletVersion === void 0 ? void 0 : _global$walletVersion.byId),
              [accountId]: versions
            }
          }
        };
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'openUrl':
      {
        (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_3__.openUrl)(update.url, update.isExternal, update.title, update.subtitle);
        break;
      }
    case 'requestReconnectApi':
      {
        actions.initApi();
        break;
      }
    case 'incorrectTime':
      {
        if (!global.isIncorrectTimeNotificationReceived) {
          actions.showIncorrectTimeError();
        }
        break;
      }
    case 'updateVesting':
      {
        const {
          accountId,
          vestingInfo
        } = update;
        const unfreezeRequestedIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_7__.selectVestingPartsReadyToUnfreeze)(global, accountId);
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateVestingInfo)(global, accountId, vestingInfo);
        const newUnfreezeRequestedIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_7__.selectVestingPartsReadyToUnfreeze)(global, accountId);
        if (!(0,_util_areDeepEqual__WEBPACK_IMPORTED_MODULE_1__.areDeepEqual)(unfreezeRequestedIds, newUnfreezeRequestedIds)) {
          global = (0,_reducers__WEBPACK_IMPORTED_MODULE_6__.updateVesting)(global, accountId, {
            unfreezeRequestedIds: undefined
          });
        }
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)(global);
        break;
      }
    case 'updatingStatus':
      {
        const {
          kind,
          isUpdating
        } = update;
        const key = kind === 'balance' ? 'balanceUpdateStartedAt' : 'activitiesUpdateStartedAt';
        if (isUpdating && global[key]) break;
        (0,_index__WEBPACK_IMPORTED_MODULE_5__.setGlobal)({
          ...global,
          [key]: isUpdating ? Date.now() : undefined
        });
        break;
      }
  }
});

/***/ }),

/***/ "./src/global/actions/index.ts":
/*!*************************************!*\
  !*** ./src/global/actions/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api_initial__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api/initial */ "./src/global/actions/api/initial.ts");
/* harmony import */ var _api_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./api/auth */ "./src/global/actions/api/auth.ts");
/* harmony import */ var _api_wallet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./api/wallet */ "./src/global/actions/api/wallet.ts");
/* harmony import */ var _api_staking__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./api/staking */ "./src/global/actions/api/staking.ts");
/* harmony import */ var _api_dapps__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./api/dapps */ "./src/global/actions/api/dapps.ts");
/* harmony import */ var _api_swap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./api/swap */ "./src/global/actions/api/swap.ts");
/* harmony import */ var _api_tokens__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./api/tokens */ "./src/global/actions/api/tokens.ts");
/* harmony import */ var _api_nfts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./api/nfts */ "./src/global/actions/api/nfts.ts");
/* harmony import */ var _api_vesting__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./api/vesting */ "./src/global/actions/api/vesting.ts");
/* harmony import */ var _apiUpdates_initial__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./apiUpdates/initial */ "./src/global/actions/apiUpdates/initial.ts");
/* harmony import */ var _apiUpdates_activities__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./apiUpdates/activities */ "./src/global/actions/apiUpdates/activities.ts");
/* harmony import */ var _apiUpdates_dapp__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./apiUpdates/dapp */ "./src/global/actions/apiUpdates/dapp.ts");
/* harmony import */ var _ui_initial__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ui/initial */ "./src/global/actions/ui/initial.ts");
/* harmony import */ var _ui_misc__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ui/misc */ "./src/global/actions/ui/misc.ts");
/* harmony import */ var _ui_dapps__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ui/dapps */ "./src/global/actions/ui/dapps.ts");
/* harmony import */ var _ui_settings__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ui/settings */ "./src/global/actions/ui/settings.ts");
/* harmony import */ var _ui_swap__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ui/swap */ "./src/global/actions/ui/swap.ts");
/* harmony import */ var _ui_nfts__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ui/nfts */ "./src/global/actions/ui/nfts.ts");
/* harmony import */ var _ui_vesting__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ui/vesting */ "./src/global/actions/ui/vesting.ts");




















/***/ }),

/***/ "./src/global/actions/ui/dapps.ts":
/*!****************************************!*\
  !*** ./src/global/actions/ui/dapps.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");






(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('clearDappConnectRequestError', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.clearDappConnectRequestError)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('showDappTransfer', (global, actions, payload) => {
  const {
    transactionIdx
  } = payload;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentDappTransfer)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Confirm,
    viewTransactionOnIdx: transactionIdx
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('setDappTransferScreen', (global, actions, payload) => {
  const {
    state
  } = payload;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentDappTransfer)(global, {
    state
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('submitDappTransferConfirm', (global, actions) => {
  const accountId = global.currentAccountId;
  const account = (0,_selectors__WEBPACK_IMPORTED_MODULE_5__.selectAccount)(global, accountId);
  if (account.isHardware) {
    actions.resetHardwareWalletConnect();
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentDappTransfer)((0,_index__WEBPACK_IMPORTED_MODULE_3__.getGlobal)(), {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.ConnectHardware
    });
  } else {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentDappTransfer)(global, {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.Password
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('clearDappTransferError', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentDappTransfer)(global, {
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('openBrowser', (global, actions, _ref) => {
  let {
    url,
    title,
    subtitle
  } = _ref;
  global = {
    ...global,
    currentBrowserOptions: {
      url,
      title,
      subtitle
    }
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('closeBrowser', global => {
  global = {
    ...global,
    currentBrowserOptions: undefined
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('addSiteToBrowserHistory', (global, actions, _ref2) => {
  let {
    url
  } = _ref2;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountState)(global);
  const newHistory = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.unique)([url, ...((accountState === null || accountState === void 0 ? void 0 : accountState.browserHistory) || [])]).slice(0, _config__WEBPACK_IMPORTED_MODULE_1__.BROWSER_HISTORY_LIMIT);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentAccountState)(global, {
    browserHistory: newHistory
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('removeSiteFromBrowserHistory', (global, actions, _ref3) => {
  var _accountState$browser;
  let {
    url
  } = _ref3;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_5__.selectCurrentAccountState)(global);
  const newHistory = accountState === null || accountState === void 0 || (_accountState$browser = accountState.browserHistory) === null || _accountState$browser === void 0 ? void 0 : _accountState$browser.filter(currentUrl => currentUrl !== url);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateCurrentAccountState)(global, {
    browserHistory: newHistory !== null && newHistory !== void 0 && newHistory.length ? newHistory : undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/ui/initial.ts":
/*!******************************************!*\
  !*** ./src/global/actions/ui/initial.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _api_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../api/types */ "./src/api/types/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_account__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/account */ "./src/util/account.ts");
/* harmony import */ var _util_authApi__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/authApi */ "./src/util/authApi/index.ts");
/* harmony import */ var _util_deeplink__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/deeplink */ "./src/util/deeplink/index.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_notificationSound__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/notificationSound */ "./src/util/notificationSound.ts");
/* harmony import */ var _util_switchAnimationLevel__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/switchAnimationLevel */ "./src/util/switchAnimationLevel.ts");
/* harmony import */ var _util_switchTheme__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../util/switchTheme */ "./src/util/switchTheme.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");


















const ANIMATION_DELAY_MS = 320;
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('init', (_, actions) => {
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_3__.requestMutation)(() => {
    const {
      documentElement
    } = document;
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_IOS) {
      documentElement.classList.add('is-ios');
    } else if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_ANDROID) {
      documentElement.classList.add('is-android');
    } else if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_MAC_OS) {
      documentElement.classList.add('is-macos');
    } else if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_WINDOWS) {
      documentElement.classList.add('is-windows');
    } else if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_LINUX) {
      documentElement.classList.add('is-linux');
    }
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_SAFARI) {
      documentElement.classList.add('is-safari');
    }
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_OPERA) {
      documentElement.classList.add('is-opera');
    }
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION) {
      documentElement.classList.add('is-extension');
    }
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_ELECTRON) {
      documentElement.classList.add('is-electron');
    }
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
      documentElement.classList.add('is-native-bottom-sheet');
    }
    (0,_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.setScrollbarWidthProperty)();
    actions.afterInit();
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('afterInit', global => {
  const {
    theme,
    animationLevel,
    langCode
  } = global.settings;
  (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_12__["default"])(theme);
  (0,_util_switchAnimationLevel__WEBPACK_IMPORTED_MODULE_11__["default"])(animationLevel);
  (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_12__.setStatusBarStyle)();
  void (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_8__.setLanguage)(langCode);
  (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_8__.clearPreviousLangpacks)();
  if (!_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    document.addEventListener('click', _util_notificationSound__WEBPACK_IMPORTED_MODULE_10__.initializeSounds, {
      once: true
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('afterSignIn', (global, actions) => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    appState: _types__WEBPACK_IMPORTED_MODULE_1__.AppState.Main
  });
  setTimeout(() => {
    actions.resetAuth();
    (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_6__.processDeeplinkAfterSignIn)();
  }, ANIMATION_DELAY_MS);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('afterSignOut', (global, actions, payload) => {
  if (payload !== null && payload !== void 0 && payload.isFromAllAccounts) {
    var _global$settings$auth;
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && ((_global$settings$auth = global.settings.authConfig) === null || _global$settings$auth === void 0 ? void 0 : _global$settings$auth.kind) === 'native-biometrics') {
      _util_authApi__WEBPACK_IMPORTED_MODULE_5__["default"].removeNativeBiometrics();
    }
    actions.resetApiSettings({
      areAllDisabled: true
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('showDialog', (global, actions, payload) => {
  const {
    message,
    title
  } = payload;
  const newDialogs = [...global.dialogs];
  const existingMessageIndex = newDialogs.findIndex(dialog => dialog.message === message);
  if (existingMessageIndex !== -1) {
    newDialogs.splice(existingMessageIndex, 1);
  }
  newDialogs.push({
    message,
    title
  });
  return {
    ...global,
    dialogs: newDialogs
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('dismissDialog', global => {
  const newDialogs = [...global.dialogs];
  newDialogs.pop();
  return {
    ...global,
    dialogs: newDialogs
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('selectToken', function (global, actions) {
  let {
    slug
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    currentTokenSlug: slug
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('showError', function (global, actions) {
  let {
    error
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  switch (error) {
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InvalidAmount:
      actions.showDialog({
        message: 'Invalid amount'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InvalidToAddress:
      actions.showDialog({
        message: 'Invalid address'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InsufficientBalance:
      actions.showDialog({
        message: 'Insufficient balance'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.DomainNotResolved:
      actions.showDialog({
        message: 'Domain is not connected to a wallet'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.WalletNotInitialized:
      actions.showDialog({
        message: 'Encryption is not possible. The recipient is not a wallet or has no outgoing transactions.'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InvalidAddressFormat:
      actions.showDialog({
        message: 'Invalid address format. Only URL Safe Base64 format is allowed.'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionError.PartialTransactionFailure:
      actions.showDialog({
        message: 'Not all transactions were sent successfully'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionError.IncorrectDeviceTime:
      actions.showDialog({
        message: 'The time on your device is incorrect, sync it and try again'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionError.UnsuccesfulTransfer:
      actions.showDialog({
        message: 'Transfer was unsuccessful. Try again later.'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionDraftError.InactiveContract:
      actions.showDialog({
        message: '$transfer_inactive_contract_error'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiTransactionError.NotSupportedHardwareOperation:
      actions.showDialog({
        message: '$ledger_not_supported_operation'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.ServerError:
      actions.showDialog({
        message: window.navigator.onLine ? 'An error on the server side. Please try again.' : 'No internet connection. Please check your connection and try again.'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.DebugError:
      actions.showDialog({
        message: 'Unexpected error. Please let the support know.'
      });
      break;
    case _api_types__WEBPACK_IMPORTED_MODULE_0__.ApiCommonError.Unexpected:
    case undefined:
      actions.showDialog({
        message: 'Unexpected'
      });
      break;
    default:
      actions.showDialog({
        message: error
      });
      break;
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('showNotification', (global, actions, payload) => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_9__.callActionInMain)('showNotification', payload);
    return undefined;
  }
  const {
    message,
    icon
  } = payload;
  const newNotifications = [...global.notifications];
  const existingNotificationIndex = newNotifications.findIndex(n => n.message === message);
  if (existingNotificationIndex !== -1) {
    newNotifications.splice(existingNotificationIndex, 1);
  }
  newNotifications.push({
    message,
    icon
  });
  return {
    ...global,
    notifications: newNotifications
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('dismissNotification', global => {
  const newNotifications = [...global.notifications];
  newNotifications.pop();
  return {
    ...global,
    notifications: newNotifications
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleTonProxy', (global, actions, _ref) => {
  let {
    isEnabled
  } = _ref;
  void (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('doProxy', isEnabled);
  return {
    ...global,
    settings: {
      ...global.settings,
      isTonProxyEnabled: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleTonMagic', (global, actions, _ref2) => {
  let {
    isEnabled
  } = _ref2;
  void (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('doMagic', isEnabled);
  return {
    ...global,
    settings: {
      ...global.settings,
      isTonMagicEnabled: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleDeeplinkHook', (global, actions, _ref3) => {
  let {
    isEnabled
  } = _ref3;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_ELECTRON) {
    var _window$electron;
    (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.toggleDeeplinkHandler(isEnabled);
  } else {
    void (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('doDeeplinkHook', isEnabled);
  }
  return {
    ...global,
    settings: {
      ...global.settings,
      isDeeplinkHookEnabled: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('signOut', async (global, actions, payload) => {
  var _global$accounts;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_9__.callActionInMain)('signOut', payload);
  }
  const {
    isFromAllAccounts
  } = payload || {};
  const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentNetwork)(global);
  const accountIds = Object.keys((0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectNetworkAccounts)(global));
  const otherNetwork = network === 'mainnet' ? 'testnet' : 'mainnet';
  const otherNetworkAccountIds = Object.keys((0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectNetworkAccountsMemoized)(otherNetwork, (_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId));
  if (isFromAllAccounts || accountIds.length === 1) {
    if (otherNetworkAccountIds.length) {
      await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('removeNetworkAccounts', network);
      global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
      const nextAccountId = otherNetworkAccountIds[0];
      const accountsById = Object.entries(global.accounts.byId).reduce((byId, _ref4) => {
        let [accountId, account] = _ref4;
        if ((0,_util_account__WEBPACK_IMPORTED_MODULE_4__.parseAccountId)(accountId).network !== network) {
          byId[accountId] = account;
        }
        return byId;
      }, {});
      const byAccountId = Object.entries(global.byAccountId).reduce((byId, _ref5) => {
        let [accountId, state] = _ref5;
        if ((0,_util_account__WEBPACK_IMPORTED_MODULE_4__.parseAccountId)(accountId).network !== network) {
          byId[accountId] = state;
        }
        return byId;
      }, {});
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountId)(global, nextAccountId);
      global = {
        ...global,
        accounts: {
          ...global.accounts,
          byId: accountsById
        },
        byAccountId
      };
      (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
      actions.switchAccount({
        accountId: nextAccountId,
        newNetwork: otherNetwork
      });
      actions.closeSettings();
      actions.afterSignOut();
    } else {
      await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('resetAccounts');
      actions.afterSignOut({
        isFromAllAccounts: true
      });
      actions.init();
    }
  } else {
    const prevAccountId = global.currentAccountId;
    const nextAccountId = accountIds.find(id => id !== prevAccountId);
    const nextNewestTxIds = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectNewestTxIds)(global, nextAccountId);
    await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('removeAccount', prevAccountId, nextAccountId, nextNewestTxIds);
    global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
    const accountsById = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.omit)(global.accounts.byId, [prevAccountId]);
    const byAccountId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.omit)(global.byAccountId, [prevAccountId]);
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountId)(global, nextAccountId);
    global = {
      ...global,
      accounts: {
        ...global.accounts,
        byId: accountsById
      },
      byAccountId
    };
    (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
    actions.afterSignOut();
  }
});

/***/ }),

/***/ "./src/global/actions/ui/misc.ts":
/*!***************************************!*\
  !*** ./src/global/actions/ui/misc.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor-mlkit/barcode-scanning */ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../config */ "./src/config.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_deeplink__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../util/deeplink */ "./src/util/deeplink/index.ts");
/* harmony import */ var _util_getIsAppUpdateNeeded__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../util/getIsAppUpdateNeeded */ "./src/util/getIsAppUpdateNeeded.ts");
/* harmony import */ var _util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../util/isTonAddressOrDomain */ "./src/util/isTonAddressOrDomain.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _util_ledger_tab__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../util/ledger/tab */ "./src/util/ledger/tab.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_openUrl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../util/openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../api */ "./src/api/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");


















const OPEN_LEDGER_TAB_DELAY = 500;
const APP_VERSION_URL = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_ANDROID_APP ? `${_config__WEBPACK_IMPORTED_MODULE_2__.IS_PRODUCTION ? _config__WEBPACK_IMPORTED_MODULE_2__.PRODUCTION_URL : _config__WEBPACK_IMPORTED_MODULE_2__.BETA_URL}/version.txt` : 'version.txt';
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('showActivityInfo', (global, actions, _ref) => {
  let {
    id
  } = _ref;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('showActivityInfo', {
      id
    });
    return undefined;
  }
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    currentActivityId: id
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeActivityInfo', (global, actions, _ref2) => {
  var _selectCurrentAccount;
  let {
    id
  } = _ref2;
  if (((_selectCurrentAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.currentActivityId) !== id) {
    return undefined;
  }
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    currentActivityId: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('addSavedAddress', (global, actions, _ref3) => {
  let {
    address,
    name
  } = _ref3;
  const {
    savedAddresses
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccountState)(global) || {};
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    savedAddresses: {
      ...savedAddresses,
      [address]: name
    }
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('removeFromSavedAddress', (global, actions, _ref4) => {
  var _selectCurrentAccount2;
  let {
    address
  } = _ref4;
  const {
    [address]: omit,
    ...savedAddresses
  } = ((_selectCurrentAccount2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccountState)(global)) === null || _selectCurrentAccount2 === void 0 ? void 0 : _selectCurrentAccount2.savedAddresses) || {};
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    savedAddresses
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleTinyTransfersHidden', function (global, actions) {
  let {
    isEnabled
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return {
    ...global,
    settings: {
      ...global.settings,
      areTinyTransfersHidden: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setCurrentTokenPeriod', (global, actions, _ref5) => {
  let {
    period
  } = _ref5;
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    currentTokenPeriod: period
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('addAccount', async (global, actions, _ref6) => {
  let {
    method,
    password,
    isAuthFlow
  } = _ref6;
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectFirstNonHardwareAccount)(global);
  const isMnemonicImport = method === 'importMnemonic';
  if (firstNonHardwareAccount) {
    if (!(await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('verifyPassword', password))) {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
      if (isAuthFlow) {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAuth)(global, {
          isLoading: undefined,
          error: 'Wrong password, please try again.'
        });
      } else {
        global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccounts)((0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)(), {
          isLoading: undefined,
          error: 'Wrong password, please try again.'
        });
      }
      (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
      return;
    }
    if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
      global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.setIsPinAccepted)((0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)());
      (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
      await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_3__.vibrateOnSuccess)(true);
    }
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
  if (isMnemonicImport || !firstNonHardwareAccount) {
    global = {
      ...global,
      isAddAccountModalOpen: undefined
    };
  } else {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccounts)(global, {
      isLoading: true
    });
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
  if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    actions.addAccount2({
      method,
      password
    });
  } else {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('addAccount2', {
      method,
      password
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('addAccount2', (global, actions, _ref7) => {
  let {
    method,
    password
  } = _ref7;
  const isMnemonicImport = method === 'importMnemonic';
  const firstNonHardwareAccount = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectFirstNonHardwareAccount)(global);
  const authState = firstNonHardwareAccount ? isMnemonicImport ? _types__WEBPACK_IMPORTED_MODULE_1__.AuthState.importWallet : undefined : _config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR ? _types__WEBPACK_IMPORTED_MODULE_1__.AuthState.createPin : _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_BIOMETRIC_AUTH_SUPPORTED ? _types__WEBPACK_IMPORTED_MODULE_1__.AuthState.createBiometrics : _types__WEBPACK_IMPORTED_MODULE_1__.AuthState.createPassword;
  if (isMnemonicImport || !firstNonHardwareAccount) {
    global = {
      ...global,
      appState: _types__WEBPACK_IMPORTED_MODULE_1__.AppState.Auth
    };
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAuth)(global, {
    password,
    state: authState
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.clearCurrentTransfer)(global);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.clearCurrentSwap)(global);
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
  if (isMnemonicImport) {
    actions.startImportingWallet();
  } else {
    actions.startCreatingWallet();
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('renameAccount', (global, actions, _ref8) => {
  let {
    accountId,
    title
  } = _ref8;
  global = {
    ...global,
    shouldForceAccountEdit: false
  };
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.renameAccount)(global, accountId, title);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('clearAccountError', global => {
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccounts)(global, {
    error: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openAddAccountModal', global => {
  return {
    ...global,
    isAddAccountModalOpen: true
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeAddAccountModal', global => {
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.clearIsPinAccepted)(global);
  }
  return {
    ...global,
    isAddAccountModalOpen: undefined
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setTheme', (global, actions, _ref9) => {
  let {
    theme
  } = _ref9;
  return {
    ...global,
    settings: {
      ...global.settings,
      theme
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setAnimationLevel', (global, actions, _ref10) => {
  let {
    level
  } = _ref10;
  return {
    ...global,
    settings: {
      ...global.settings,
      animationLevel: level
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('changeNetwork', (global, actions, _ref11) => {
  let {
    network
  } = _ref11;
  return {
    ...global,
    settings: {
      ...global.settings,
      isTestnet: network === 'testnet'
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openSettings', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    state: _types__WEBPACK_IMPORTED_MODULE_1__.SettingsState.Initial
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    areSettingsOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openSettingsWithState', (global, actions, _ref12) => {
  let {
    state
  } = _ref12;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET && !global.areSettingsOpen) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('openSettingsWithState', {
      state
    });
    return;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    state
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    areSettingsOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setSettingsState', (global, actions, _ref13) => {
  let {
    state
  } = _ref13;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    state
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeSettings', global => {
  if (!global.currentAccountId) {
    return global;
  }
  return {
    ...global,
    areSettingsOpen: false
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openBackupWalletModal', global => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('openBackupWalletModal');
    return undefined;
  }
  return {
    ...global,
    isBackupWalletModalOpen: true
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeBackupWalletModal', global => {
  return {
    ...global,
    isBackupWalletModalOpen: undefined
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('initializeHardwareWalletConnection', async (global, actions) => {
  const startConnection = () => {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateHardware)((0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)(), {
      hardwareState: _types__WEBPACK_IMPORTED_MODULE_1__.HardwareConnectState.Connecting
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
    actions.connectHardwareWallet();
  };
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  if (await ledgerApi.connectLedger()) {
    startConnection();
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION) {
    global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateHardware)((0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)(), {
      hardwareState: _types__WEBPACK_IMPORTED_MODULE_1__.HardwareConnectState.WaitingForBrowser
    });
    (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
    await (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_12__.pause)(OPEN_LEDGER_TAB_DELAY);
    const id = await (0,_util_ledger_tab__WEBPACK_IMPORTED_MODULE_9__.openLedgerTab)();
    const popup = await chrome.windows.getCurrent();
    (0,_util_ledger_tab__WEBPACK_IMPORTED_MODULE_9__.onLedgerTabClose)(id, async () => {
      await chrome.windows.update(popup.id, {
        focused: true
      });
      if (!(await ledgerApi.connectLedger())) {
        actions.closeHardwareWalletModal();
        return;
      }
      startConnection();
    });
  }
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openHardwareWalletModal', async global => {
  const ledgerApi = await Promise.all(/*! import() */[__webpack_require__.e("vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3"), __webpack_require__.e("vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa"), __webpack_require__.e("src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7"), __webpack_require__.e("src_util_fetch_ts-src_util_ledger_index_ts")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../util/ledger */ "./src/util/ledger/index.ts"));
  let newHardwareState;
  const isConnected = await ledgerApi.connectLedger();
  if (!isConnected && _config__WEBPACK_IMPORTED_MODULE_2__.IS_EXTENSION) {
    newHardwareState = _types__WEBPACK_IMPORTED_MODULE_1__.HardwareConnectState.WaitingForBrowser;
  } else {
    newHardwareState = _types__WEBPACK_IMPORTED_MODULE_1__.HardwareConnectState.Connect;
  }
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateHardware)((0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)(), {
    hardwareState: newHardwareState
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isHardwareModalOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeHardwareWalletModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isHardwareModalOpen: false
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleInvestorView', function (global, actions) {
  let {
    isEnabled
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return {
    ...global,
    settings: {
      ...global.settings,
      isInvestorViewEnabled: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('changeLanguage', (global, actions, _ref14) => {
  let {
    langCode
  } = _ref14;
  return {
    ...global,
    settings: {
      ...global.settings,
      langCode
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleCanPlaySounds', function (global, actions) {
  let {
    isEnabled
  } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
  return {
    ...global,
    settings: {
      ...global.settings,
      canPlaySounds: isEnabled
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setLandscapeActionsActiveTabIndex', (global, actions, _ref15) => {
  let {
    index
  } = _ref15;
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    landscapeActionsActiveTabIndex: index
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeSecurityWarning', global => {
  return {
    ...global,
    settings: {
      ...global.settings,
      isSecurityWarningHidden: true
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleTokensWithNoCost', (global, actions, _ref16) => {
  var _selectAccountSetting;
  let {
    isEnabled
  } = _ref16;
  const accountId = global.currentAccountId;
  const accountSettings = (_selectAccountSetting = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting !== void 0 ? _selectAccountSetting : {};
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    areTokensWithNoCostHidden: isEnabled,
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        exceptionSlugs: []
      }
    }
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleSortByValue', (global, actions, _ref17) => {
  let {
    isEnabled
  } = _ref17;
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    isSortByValueEnabled: isEnabled
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('initTokensOrder', global => {
  var _selectAccountSetting2, _selectCurrentAccount3;
  const accountId = global.currentAccountId;
  const accountSettings = (_selectAccountSetting2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting2 !== void 0 ? _selectAccountSetting2 : {};
  const accountTokens = (_selectCurrentAccount3 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccountTokens)(global)) !== null && _selectCurrentAccount3 !== void 0 ? _selectCurrentAccount3 : [];
  const {
    orderedSlugs = []
  } = accountSettings;
  const newSlugs = accountTokens.map(_ref18 => {
    let {
      slug
    } = _ref18;
    return slug;
  });
  const updatedSlugs = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.unique)([...orderedSlugs, ...newSlugs]);
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        orderedSlugs: updatedSlugs
      }
    }
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('updateDeletionListForActiveTokens', (global, actions, payload) => {
  var _selectAccountState, _selectAccountSetting3, _selectCurrentAccount4, _accountSettings$dele, _balances$bySlug;
  const {
    accountId = global.currentAccountId
  } = payload !== null && payload !== void 0 ? payload : {};
  if (!accountId) {
    return;
  }
  const {
    balances
  } = (_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountState)(global, accountId)) !== null && _selectAccountState !== void 0 ? _selectAccountState : {};
  const accountSettings = (_selectAccountSetting3 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting3 !== void 0 ? _selectAccountSetting3 : {};
  const accountTokens = (_selectCurrentAccount4 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccountTokens)(global)) !== null && _selectCurrentAccount4 !== void 0 ? _selectCurrentAccount4 : [];
  const deletedSlugs = (_accountSettings$dele = accountSettings.deletedSlugs) !== null && _accountSettings$dele !== void 0 ? _accountSettings$dele : [];
  const updatedDeletedSlugs = deletedSlugs.filter(slug => !accountTokens.some(token => token.slug === slug && token.amount > 0));
  const balancesBySlug = (_balances$bySlug = balances === null || balances === void 0 ? void 0 : balances.bySlug) !== null && _balances$bySlug !== void 0 ? _balances$bySlug : {};
  const updatedBalancesBySlug = Object.fromEntries(Object.entries(balancesBySlug).filter(_ref19 => {
    let [slug] = _ref19;
    return !updatedDeletedSlugs.includes(slug);
  }));
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccountState)(global, accountId, {
    balances: {
      ...balances,
      bySlug: updatedBalancesBySlug
    }
  });
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        deletedSlugs: updatedDeletedSlugs
      }
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
  actions.initTokensOrder();
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('sortTokens', (global, actions, _ref20) => {
  let {
    orderedSlugs
  } = _ref20;
  const accountId = global.currentAccountId;
  const accountSettings = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId);
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        orderedSlugs
      }
    }
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('toggleExceptionToken', (global, actions, _ref21) => {
  var _selectAccountSetting4;
  let {
    slug
  } = _ref21;
  const accountId = global.currentAccountId;
  const accountSettings = (_selectAccountSetting4 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting4 !== void 0 ? _selectAccountSetting4 : {};
  const {
    exceptionSlugs = []
  } = accountSettings;
  const exceptionSlugsCopy = exceptionSlugs.slice();
  const slugIndexInAvailable = exceptionSlugsCopy.indexOf(slug);
  if (slugIndexInAvailable !== -1) {
    exceptionSlugsCopy.splice(slugIndexInAvailable, 1);
  } else {
    exceptionSlugsCopy.push(slug);
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        exceptionSlugs: exceptionSlugsCopy
      }
    }
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('deleteToken', (global, actions, _ref22) => {
  var _selectAccountState2, _selectAccountSetting5, _accountSettings$orde, _accountSettings$exce, _accountSettings$dele2;
  let {
    slug
  } = _ref22;
  const accountId = global.currentAccountId;
  const {
    balances
  } = (_selectAccountState2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountState)(global, accountId)) !== null && _selectAccountState2 !== void 0 ? _selectAccountState2 : {};
  if ((balances === null || balances === void 0 ? void 0 : balances.bySlug[slug]) === undefined) {
    return;
  }
  const {
    [slug]: deleted,
    ...bySlugCopy
  } = {
    ...(balances === null || balances === void 0 ? void 0 : balances.bySlug)
  };
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccountState)(global, accountId, {
    balances: {
      ...balances,
      bySlug: {
        ...bySlugCopy
      }
    }
  });
  const accountSettings = (_selectAccountSetting5 = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectAccountSettings)(global, accountId)) !== null && _selectAccountSetting5 !== void 0 ? _selectAccountSetting5 : {};
  const orderedSlugs = (_accountSettings$orde = accountSettings.orderedSlugs) === null || _accountSettings$orde === void 0 ? void 0 : _accountSettings$orde.filter(s => s !== slug);
  const exceptionSlugs = (_accountSettings$exce = accountSettings.exceptionSlugs) === null || _accountSettings$exce === void 0 ? void 0 : _accountSettings$exce.filter(s => s !== slug);
  const deletedSlugs = [...((_accountSettings$dele2 = accountSettings.deletedSlugs) !== null && _accountSettings$dele2 !== void 0 ? _accountSettings$dele2 : []), slug];
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateSettings)(global, {
    byAccountId: {
      ...global.settings.byAccountId,
      [accountId]: {
        ...accountSettings,
        orderedSlugs,
        exceptionSlugs,
        deletedSlugs
      }
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('checkAppVersion', global => {
  fetch(`${APP_VERSION_URL}?${Date.now()}`).then(response => response.text()).then(version => {
    version = version.trim();
    if ((0,_util_getIsAppUpdateNeeded__WEBPACK_IMPORTED_MODULE_5__["default"])(version, _config__WEBPACK_IMPORTED_MODULE_2__.APP_VERSION)) {
      global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
      global = {
        ...global,
        isAppUpdateAvailable: true,
        latestAppVersion: version.trim()
      };
      (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
    }
  }).catch(err => {
    if (_config__WEBPACK_IMPORTED_MODULE_2__.DEBUG) {
      // eslint-disable-next-line no-console
      console.error('[checkAppVersion failed] ', err);
    }
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('requestConfetti', global => {
  if (global.settings.animationLevel === _config__WEBPACK_IMPORTED_MODULE_2__.ANIMATION_LEVEL_MIN) return global;
  return {
    ...global,
    confettiRequestedAt: Date.now()
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('requestOpenQrScanner', async (global, actions) => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('requestOpenQrScanner');
    return;
  }
  let currentQrScan;
  if (global.currentTransfer.state === _types__WEBPACK_IMPORTED_MODULE_1__.TransferState.Initial) {
    currentQrScan = {
      currentTransfer: global.currentTransfer
    };
  } else if (global.currentSwap.state === _types__WEBPACK_IMPORTED_MODULE_1__.SwapState.Blockchain) {
    currentQrScan = {
      currentSwap: global.currentSwap
    };
  }
  const {
    camera
  } = await _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.requestPermissions();
  const isGranted = camera === 'granted' || camera === 'limited';
  if (!isGranted) {
    actions.showNotification({
      message: (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_8__.getTranslation)('Permission denied. Please grant camera permission to use the QR code scanner.')
    });
    return;
  }
  global = (0,_index__WEBPACK_IMPORTED_MODULE_15__.getGlobal)();
  global = {
    ...global,
    isQrScannerOpen: true,
    currentQrScan
  };
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeQrScanner', global => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('closeQrScanner');
    return undefined;
  }
  return {
    ...global,
    isQrScannerOpen: undefined,
    currentQrScan: undefined
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('handleQrCode', (global, actions, _ref23) => {
  let {
    data
  } = _ref23;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('handleQrCode', {
      data
    });
    return undefined;
  }
  const {
    currentTransfer,
    currentSwap
  } = global.currentQrScan || {};
  if (currentTransfer) {
    if ((0,_util_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_6__.isTonAddressOrDomain)(data)) {
      return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentTransfer)(global, {
        ...currentTransfer,
        toAddress: data
      });
    }
    const linkParams = (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_4__.isTonDeeplink)(data) ? (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_4__.parseTonDeeplink)(data) : undefined;
    if (linkParams) {
      var _currentTransfer$nfts;
      return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentTransfer)(global, {
        ...currentTransfer,
        // For NFT transfer we only extract address from a ton:// link
        ...((_currentTransfer$nfts = currentTransfer.nfts) !== null && _currentTransfer$nfts !== void 0 && _currentTransfer$nfts.length ? (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.pick)(linkParams, ['toAddress']) : (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_7__.omitUndefined)(linkParams))
      });
    }
  }
  if (currentSwap) {
    return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentSwap)(global, {
      ...currentSwap,
      toAddress: data
    });
  }
  (0,_util_deeplink__WEBPACK_IMPORTED_MODULE_4__.processDeeplink)(data);
  return undefined;
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('changeBaseCurrency', async (global, actions, _ref24) => {
  let {
    currency
  } = _ref24;
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_13__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_10__.callActionInMain)('changeBaseCurrency', {
      currency
    });
  }
  await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('setBaseCurrency', currency);
  await (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('tryUpdatePrices');
  await Promise.all([(0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('tryUpdateTokens'), (0,_api__WEBPACK_IMPORTED_MODULE_14__.callApi)('tryLoadSwapTokens')]);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('setIsPinAccepted', global => {
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.setIsPinAccepted)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('clearIsPinAccepted', global => {
  return (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.clearIsPinAccepted)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openOnRampWidgetModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isOnRampWidgetModalOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeOnRampWidgetModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isOnRampWidgetModalOpen: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openMediaViewer', (global, actions, _ref25) => {
  let {
    mediaId,
    mediaType,
    txId,
    hiddenNfts,
    noGhostAnimation
  } = _ref25;
  return {
    ...global,
    mediaViewer: {
      mediaId,
      mediaType,
      txId,
      hiddenNfts,
      noGhostAnimation
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeMediaViewer', global => {
  return {
    ...global,
    mediaViewer: {
      mediaId: undefined,
      mediaType: undefined
    }
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openReceiveModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isReceiveModalOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeReceiveModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isReceiveModalOpen: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('showIncorrectTimeError', (global, actions) => {
  actions.showDialog({
    message: (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_8__.getTranslation)('Time synchronization issue. Please ensure your device\'s time settings are correct.')
  });
  return {
    ...global,
    isIncorrectTimeNotificationReceived: true
  };
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('initLedgerPage', global => {
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateHardware)(global, {
    isRemoteTab: true
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    appState: _types__WEBPACK_IMPORTED_MODULE_1__.AppState.Ledger
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('openLoadingOverlay', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isLoadingOverlayOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('closeLoadingOverlay', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)({
    ...global,
    isLoadingOverlayOpen: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('clearAccountLoading', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateAccounts)(global, {
    isLoading: undefined
  }));
});
(0,_index__WEBPACK_IMPORTED_MODULE_15__.addActionHandler)('authorizeDiesel', global => {
  const address = (0,_selectors__WEBPACK_IMPORTED_MODULE_17__.selectCurrentAccount)(global).address;
  (0,_index__WEBPACK_IMPORTED_MODULE_15__.setGlobal)((0,_reducers__WEBPACK_IMPORTED_MODULE_16__.updateCurrentAccountState)(global, {
    isDieselAuthorizationStarted: true
  }));
  (0,_util_openUrl__WEBPACK_IMPORTED_MODULE_11__.openUrl)(`https://t.me/${_config__WEBPACK_IMPORTED_MODULE_2__.BOT_USERNAME}?start=auth-${address}`, true);
});

/***/ }),

/***/ "./src/global/actions/ui/nfts.ts":
/*!***************************************!*\
  !*** ./src/global/actions/ui/nfts.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");



(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('openNftCollection', (global, actions, _ref) => {
  let {
    address
  } = _ref;
  const accountId = global.currentAccountId;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...accountState.nfts,
      currentCollectionAddress: address
    }
  });
  return global;
});
(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('closeNftCollection', global => {
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentAccountState)(global);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_1__.updateCurrentAccountState)(global, {
    nfts: {
      ...accountState.nfts,
      currentCollectionAddress: undefined
    },
    selectedNftsToHide: undefined
  });
  return global;
});
(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('selectNfts', (global, actions, _ref2) => {
  let {
    addresses
  } = _ref2;
  const accountId = global.currentAccountId;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_1__.addToSelectedAddresses)(global, accountId, addresses);
  (0,_index__WEBPACK_IMPORTED_MODULE_0__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('clearNftSelection', (global, actions, _ref3) => {
  let {
    address
  } = _ref3;
  const accountId = global.currentAccountId;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_1__.removeFromSelectedAddresses)(global, accountId, address);
  (0,_index__WEBPACK_IMPORTED_MODULE_0__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('clearNftsSelection', global => {
  const accountId = global.currentAccountId;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId);
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...accountState.nfts,
      selectedAddresses: []
    }
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_0__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/actions/ui/settings.ts":
/*!*******************************************!*\
  !*** ./src/global/actions/ui/settings.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _util_switchTheme__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/switchTheme */ "./src/util/switchTheme.ts");



let prevGlobal;
(0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__.addCallback)(global => {
  if (!prevGlobal) {
    prevGlobal = global;
    return;
  }
  const {
    settings: prevSettings
  } = prevGlobal;
  const {
    settings
  } = global;
  if (settings.theme !== prevSettings.theme) {
    (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_2__["default"])(settings.theme);
  }
  if (settings.langCode !== prevSettings.langCode) {
    void (0,_util_langProvider__WEBPACK_IMPORTED_MODULE_1__.setLanguage)(settings.langCode);
  }
  prevGlobal = global;
});

/***/ }),

/***/ "./src/global/actions/ui/swap.ts":
/*!***************************************!*\
  !*** ./src/global/actions/ui/swap.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");

(0,_index__WEBPACK_IMPORTED_MODULE_0__.addActionHandler)('toggleSwapSettingsModal', (global, actions, _ref) => {
  let {
    isOpen
  } = _ref;
  return {
    ...global,
    currentSwap: {
      ...global.currentSwap,
      isSettingsModalOpen: isOpen
    }
  };
});

/***/ }),

/***/ "./src/global/actions/ui/vesting.ts":
/*!******************************************!*\
  !*** ./src/global/actions/ui/vesting.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../types */ "./src/global/types.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../index */ "./src/global/index.ts");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../reducers */ "./src/global/reducers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../selectors */ "./src/global/selectors/index.ts");






(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('openVestingModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)({
    ...global,
    isVestingModalOpen: true
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('closeVestingModal', global => {
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)({
    ...global,
    isVestingModalOpen: undefined
  });
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('startClaimingVesting', global => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_DELEGATED_BOTTOM_SHEET) {
    (0,_util_multitab__WEBPACK_IMPORTED_MODULE_1__.callActionInMain)('startClaimingVesting');
    return;
  }
  const accountId = global.currentAccountId;
  const {
    isHardware
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_5__.selectAccount)(global, accountId);
  global = {
    ...global,
    isVestingModalOpen: undefined
  };
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateVesting)(global, accountId, {
    isConfirmRequested: true,
    unfreezeState: isHardware ? _types__WEBPACK_IMPORTED_MODULE_0__.VestingUnfreezeState.ConnectHardware : _types__WEBPACK_IMPORTED_MODULE_0__.VestingUnfreezeState.Password
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('cancelClaimingVesting', global => {
  const accountId = global.currentAccountId;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateVesting)(global, accountId, {
    isConfirmRequested: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('clearVestingError', global => {
  const accountId = global.currentAccountId;
  global = (0,_reducers__WEBPACK_IMPORTED_MODULE_4__.updateVesting)(global, accountId, {
    error: undefined
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_3__.setGlobal)(global);
});

/***/ }),

/***/ "./src/global/cache.ts":
/*!*****************************!*\
  !*** ./src/global/cache.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initCache: () => (/* binding */ initCache),
/* harmony export */   loadCache: () => (/* binding */ loadCache)
/* harmony export */ });
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _util_account__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/account */ "./src/util/account.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./index */ "./src/global/index.ts");
/* harmony import */ var _initialState__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./initialState */ "./src/global/initialState.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");












const UPDATE_THROTTLE = _config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR ? 500 : 5000;
const ACTIVITIES_LIMIT = 20;
const ACTIVITY_TOKENS_LIMIT = 30;
const updateCacheThrottled = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.throttle)(() => (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.onIdle)(() => updateCache()), UPDATE_THROTTLE, false);
const updateCacheForced = () => updateCache(true);
let isCaching = false;
let unsubscribeFromBeforeUnload;
let preloadedData;
function initCache() {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_DISABLED) {
    return;
  }
  (0,_index__WEBPACK_IMPORTED_MODULE_8__.addActionHandler)('afterSignIn', setupCaching);
  (0,_index__WEBPACK_IMPORTED_MODULE_8__.addActionHandler)('afterSignOut', (global, actions, payload) => {
    const {
      isFromAllAccounts
    } = payload || {};
    if (!isFromAllAccounts) return;
    preloadedData = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(global, ['swapTokenInfo', 'tokenInfo', 'restrictions']);
    clearCaching();
    localStorage.removeItem(_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_KEY);
  });
  (0,_index__WEBPACK_IMPORTED_MODULE_8__.addActionHandler)('cancelCaching', clearCaching);
}
function setupCaching() {
  if (isCaching) return;
  isCaching = true;
  (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__.addCallback)(updateCacheThrottled);
  unsubscribeFromBeforeUnload = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.onBeforeUnload)(updateCacheForced, true);
  window.addEventListener('blur', updateCacheForced);
  updateCacheForced();
}
function clearCaching() {
  var _unsubscribeFromBefor;
  if (!isCaching) return;
  window.removeEventListener('blur', updateCacheForced);
  (_unsubscribeFromBefor = unsubscribeFromBeforeUnload) === null || _unsubscribeFromBefor === void 0 ? void 0 : _unsubscribeFromBefor();
  (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__.removeCallback)(updateCacheThrottled);
  isCaching = false;
}
function loadCache(initialState) {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_DISABLED) {
    return initialState;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.DEBUG) {
    // eslint-disable-next-line no-console
    console.time('global-state-cache-read');
  }
  const json = localStorage.getItem(_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_KEY);
  let cached = json ? JSON.parse(json, _util_bigint__WEBPACK_IMPORTED_MODULE_3__.bigintReviver) : undefined;
  if (_config__WEBPACK_IMPORTED_MODULE_1__.DEBUG) {
    // eslint-disable-next-line no-console
    console.timeEnd('global-state-cache-read');
  }
  if (cached) {
    try {
      migrateCache(cached, initialState);
    } catch (err) {
      // eslint-disable-next-line no-console
      console.error(err);
      cached = undefined;
    }
  }
  return {
    ...initialState,
    ...preloadedData,
    ...cached
  };
}
function migrateCache(cached, initialState) {
  // Pre-fill settings with defaults
  cached.settings = {
    ...initialState.settings,
    ...cached.settings
  };
  if (cached.stateVersion === _initialState__WEBPACK_IMPORTED_MODULE_9__.STATE_VERSION) {
    return;
  }

  // Migration to multi-accounts
  if (!cached.byAccountId) {
    cached.accounts = {
      byId: {
        [_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID]: {
          address: cached.addresses.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID],
          title: 'Main Account'
        }
      }
    };
    delete cached.addresses;
    cached.byAccountId = {};
    cached.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID] = {
      isBackupRequired: Boolean(cached.isBackupRequired),
      currentTokenSlug: cached.currentTokenSlug,
      currentTokenPeriod: cached.currentTokenPeriod
    };
    if ('balances' in cached) {
      cached.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID].balances = cached.balances.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID];
      delete cached.balances;
    }
    if ('transactions' in cached) {
      cached.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID].transactions = cached.transactions;
      delete cached.transactions;
    }
    if ('nfts' in cached) {
      cached.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID].nfts = cached.nfts;
      delete cached.nfts;
    }
    if ('savedAddresses' in cached) {
      cached.byAccountId[_config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID].savedAddresses = cached.savedAddresses;
      delete cached.savedAddresses;
    }
    if ('backupWallet' in cached) {
      delete cached.backupWallet;
    }
  }
  if ((!cached.currentAccountId || !cached.byAccountId[cached.currentAccountId]) && Object.keys(cached.byAccountId).length) {
    cached.currentAccountId = Object.keys(cached.byAccountId)[0];
  }

  // Initializing the v1
  if (!cached.stateVersion && cached.accounts && Object.keys(cached.accounts).length > 0) {
    cached.stateVersion = 1;
  }
  if (cached.stateVersion === 1) {
    var _cached$tokenInfo;
    cached.stateVersion = 2;
    if ((_cached$tokenInfo = cached.tokenInfo) !== null && _cached$tokenInfo !== void 0 && _cached$tokenInfo.bySlug) {
      cached.tokenInfo.bySlug = {
        toncoin: {
          ...cached.tokenInfo.bySlug.toncoin,
          decimals: _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_DECIMAL_PLACES
        }
      };
    }
    if (cached.byAccountId) {
      Object.values(cached.byAccountId).forEach(accountState => {
        var _accountState$balance;
        if ((_accountState$balance = accountState.balances) !== null && _accountState$balance !== void 0 && _accountState$balance.bySlug) {
          accountState.balances.bySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(accountState.balances.bySlug, ['toncoin']);
        }
        if (accountState.transactions) {
          delete accountState.transactions;
        }
      });
    }
  }
  if (cached.stateVersion === 2) {
    cached.stateVersion = 3;

    // Normalization of MAIN_ACCOUNT_ID '0' => '0-ton-mainnet'
    const oldId = '0';
    const newId = _config__WEBPACK_IMPORTED_MODULE_1__.MAIN_ACCOUNT_ID;
    if (cached.accounts && oldId in cached.accounts.byId) {
      if (cached.currentAccountId === oldId) {
        cached.currentAccountId = newId;
      }
      cached.accounts.byId[newId] = cached.accounts.byId[oldId];
      delete cached.accounts.byId[oldId];
      cached.byAccountId[newId] = cached.byAccountId[oldId];
      delete cached.byAccountId[oldId];
    }

    // Add testnet accounts
    if (cached.accounts) {
      for (const accountId of Object.keys(cached.accounts.byId)) {
        const testnetAccountId = (0,_util_account__WEBPACK_IMPORTED_MODULE_2__.buildAccountId)({
          ...(0,_util_account__WEBPACK_IMPORTED_MODULE_2__.parseAccountId)(accountId),
          network: 'testnet'
        });
        cached.accounts.byId[testnetAccountId] = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.cloneDeep)(cached.accounts.byId[accountId]);
        cached.byAccountId[testnetAccountId] = {};
      }
    }
  }
  if (cached.stateVersion === 3) {
    cached.stateVersion = 4;
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].transactions;
      }
    }
  }
  if (cached.stateVersion === 4) {
    cached.stateVersion = 5;
    cached.staking = {
      ...initialState.staking
    };
  }
  if (cached.stateVersion === 5) {
    cached.stateVersion = 6;
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].transactions;
      }
    }
  }
  if (cached.stateVersion === 6) {
    cached.stateVersion = 7;
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].transactions;
      }
    }
  }
  if (cached.stateVersion === 7) {
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].backupWallet;
      }
    }
    cached.stateVersion = 8;
  }
  if (cached.stateVersion === 8) {
    if (cached.settings && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_ELECTRON) {
      cached.settings.isDeeplinkHookEnabled = true;
    }
    cached.stateVersion = 9;
  }
  function clearActivities() {
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].activities;
      }
    }
  }
  if (cached.stateVersion === 9) {
    clearActivities();
    cached.stateVersion = 10;
  }
  if (cached.stateVersion === 10) {
    if (cached.settings.areTokensWithNoBalanceHidden === undefined) {
      cached.settings.areTokensWithNoBalanceHidden = true;
    }
    cached.stateVersion = 11;
  }
  if (cached.stateVersion === 11) {
    clearActivities();
    cached.stateVersion = 12;
  }
  if (cached.stateVersion === 12) {
    if (cached.byAccountId) {
      for (const accountId of Object.keys(cached.byAccountId)) {
        delete cached.byAccountId[accountId].activities;
        const {
          balances
        } = cached.byAccountId[accountId];
        if (balances) {
          // eslint-disable-next-line @typescript-eslint/no-loop-func
          balances.bySlug = Object.entries(balances.bySlug).reduce((acc, _ref) => {
            let [slug, balance] = _ref;
            acc[slug] = BigInt(balance);
            return acc;
          }, {});
        }
      }
    }
    cached.stateVersion = 13;
  }
  if (cached.stateVersion === 13) {
    const {
      areTokensWithNoPriceHidden,
      areTokensWithNoBalanceHidden
    } = cached.settings;
    cached.settings.areTokensWithNoCostHidden = Boolean(areTokensWithNoPriceHidden || areTokensWithNoBalanceHidden);
    cached.stateVersion = 14;
  }
  if (cached.stateVersion === 14) {
    clearActivities();
    cached.stateVersion = 15;
  }
  if (cached.stateVersion === 15) {
    clearActivities();
    cached.stateVersion = 16;
  }
  if (cached.stateVersion === 16) {
    clearActivities();
    cached.stateVersion = 17;
  }
  if (cached.stateVersion === 17) {
    clearActivities();
    cached.stateVersion = 18;
  }
  if (cached.stateVersion === 18 || cached.stateVersion === 19) {
    for (const accountId of Object.keys(cached.byAccountId)) {
      cached.byAccountId[accountId].currentTokenPeriod = '1D';
    }
    cached.stateVersion = 20;
  }
  if (cached.stateVersion === 20) {
    clearActivities();
    cached.stateVersion = 21;
  }
  if (cached.stateVersion === 21) {
    clearActivities();
    cached.stateVersion = 22;
  }
  if (cached.stateVersion === 22) {
    clearActivities();
    cached.stateVersion = 23;
  }
  if (cached.stateVersion === 23) {
    if (!('isSortByValueEnabled' in cached.settings)) {
      cached.settings.isSortByValueEnabled = initialState.settings.isSortByValueEnabled;
    }
    cached.stateVersion = 24;
  }
  // When adding migration here, increase `STATE_VERSION`
}

function updateCache(force) {
  var _global$accounts;
  if (_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_DISABLED || !isCaching || !force && (0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_11__.isHeavyAnimating)()) {
    return;
  }
  const global = (0,_index__WEBPACK_IMPORTED_MODULE_8__.getGlobal)();
  const reducedGlobal = {
    ..._initialState__WEBPACK_IMPORTED_MODULE_9__.INITIAL_STATE,
    ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(global, ['tokenInfo', 'settings', 'currentAccountId', 'stateVersion', 'restrictions']),
    accounts: {
      byId: ((_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId) || {}
    },
    byAccountId: reduceByAccountId(global)
  };
  const json = JSON.stringify(reducedGlobal);
  localStorage.setItem(_config__WEBPACK_IMPORTED_MODULE_1__.GLOBAL_STATE_CACHE_KEY, json);
}
function reduceByAccountId(global) {
  return Object.entries(global.byAccountId).reduce((acc, _ref2) => {
    let [accountId, state] = _ref2;
    acc[accountId] = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(state, ['balances', 'isBackupRequired', 'currentTokenSlug', 'currentTokenPeriod', 'savedAddresses', 'staking', 'stakingHistory', 'activeContentTab', 'landscapeActionsActiveTabIndex', 'browserHistory', 'blacklistedNftAddresses', 'whitelistedNftAddresses']);
    const accountTokens = (0,_selectors__WEBPACK_IMPORTED_MODULE_10__.selectAccountTokens)(global, accountId);
    acc[accountId].activities = reduceAccountActivities(state.activities, accountTokens);
    return acc;
  }, {});
}
function reduceAccountActivities(activities, tokens) {
  const {
    idsBySlug,
    newestTransactionsBySlug,
    byId
  } = activities || {};
  if (!tokens || !idsBySlug || !byId) return undefined;
  const reducedSlugs = tokens.slice(0, ACTIVITY_TOKENS_LIMIT).map(_ref3 => {
    let {
      slug
    } = _ref3;
    return slug;
  });
  if (!reducedSlugs.includes(_config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG)) {
    reducedSlugs.push(_config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG);
  }
  const reducedIdsBySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.mapValues)((0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pickTruthy)(idsBySlug, reducedSlugs), ids => {
    const result = [];
    let visibleIdCount = 0;
    ids.filter(id => !(0,_helpers__WEBPACK_IMPORTED_MODULE_7__.getIsTxIdLocal)(id) && Boolean(byId[id])).forEach(id => {
      if (visibleIdCount === ACTIVITIES_LIMIT) return;
      if (!byId[id].shouldHide) {
        visibleIdCount += 1;
      }
      result.push(id);
    });
    return result;
  });
  const reducedNewestTransactionsBySlug = newestTransactionsBySlug ? (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(newestTransactionsBySlug, reducedSlugs) : undefined;
  const reducedIds = Object.values(reducedIdsBySlug).flat();
  const reducedById = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_4__.pick)(byId, reducedIds);
  return {
    byId: reducedById,
    idsBySlug: reducedIdsBySlug,
    newestTransactionsBySlug: reducedNewestTransactionsBySlug
  };
}

/***/ }),

/***/ "./src/global/helpers/index.ts":
/*!*************************************!*\
  !*** ./src/global/helpers/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getIsSwapId: () => (/* binding */ getIsSwapId),
/* harmony export */   getIsTinyOrScamTransaction: () => (/* binding */ getIsTinyOrScamTransaction),
/* harmony export */   getIsTxIdLocal: () => (/* binding */ getIsTxIdLocal)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");


function getIsTinyOrScamTransaction(transaction, token) {
  var _transaction$metadata, _token$quote$priceUsd;
  if ((_transaction$metadata = transaction.metadata) !== null && _transaction$metadata !== void 0 && _transaction$metadata.isScam) return true;
  if (!token || transaction.type === 'nftTransferred' || transaction.type === 'nftReceived') return false;
  const decimals = token.decimals;
  const cost = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_1__.toBig)(transaction.amount, decimals).abs().mul((_token$quote$priceUsd = token.quote.priceUsd) !== null && _token$quote$priceUsd !== void 0 ? _token$quote$priceUsd : 0);
  return cost.lt(_config__WEBPACK_IMPORTED_MODULE_0__.TINY_TRANSFER_MAX_COST);
}
function getIsTxIdLocal(txId) {
  return txId.includes('|');
}
function getIsSwapId(id) {
  return id.startsWith('swap:');
}

/***/ }),

/***/ "./src/global/helpers/renderText.tsx":
/*!*******************************************!*\
  !*** ./src/global/helpers/renderText.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ renderText)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");


const SIMPLE_MARKDOWN_REGEX = /(\*\*|__).+?\1/g;
function renderText(part) {
  let filters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['simple_markdown', 'br'];
  if (typeof part !== 'string') {
    return [part];
  }
  return (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.compact)(filters.reduce((text, filter) => {
    switch (filter) {
      case 'simple_markdown':
        return replaceSimpleMarkdown(text);
      case 'br':
        return addLineBreaks(text);
    }
    return text;
  }, [part]));
}
function replaceSimpleMarkdown(textParts) {
  return textParts.reduce((result, part) => {
    if (typeof part !== 'string') {
      result.push(part);
      return result;
    }
    const parts = part.split(SIMPLE_MARKDOWN_REGEX);
    const entities = part.match(SIMPLE_MARKDOWN_REGEX) || [];
    result.push(parts[0]);
    return entities.reduce((entityResult, entity, i) => {
      entityResult.push(entity.startsWith('**') ? /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("b", null, entity.replace(/\*\*/g, '')) : /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("i", null, entity.replace(/__/g, '')));
      const index = i * 2 + 2;
      if (parts[index]) {
        entityResult.push(parts[index]);
      }
      return entityResult;
    }, result);
  }, []);
}
function addLineBreaks(textParts) {
  return textParts.reduce((result, part) => {
    if (typeof part !== 'string') {
      result.push(part);
      return result;
    }
    const splittenParts = part.split(/\r\n|\r|\n/g).reduce((parts, line, i, source) => {
      // This adds non-breaking space if line was indented with spaces, to preserve the indentation
      const trimmedLine = line.trimStart();
      const indentLength = line.length - trimmedLine.length;
      parts.push(String.fromCharCode(160).repeat(indentLength) + trimmedLine);
      if (i !== source.length - 1) {
        parts.push( /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__["default"].createElement("br", null));
      }
      return parts;
    }, []);
    return [...result, ...splittenParts];
  }, []);
}

/***/ }),

/***/ "./src/global/index.ts":
/*!*****************************!*\
  !*** ./src/global/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addActionHandler: () => (/* binding */ addActionHandler),
/* harmony export */   getActions: () => (/* binding */ getActions),
/* harmony export */   getGlobal: () => (/* binding */ getGlobal),
/* harmony export */   setGlobal: () => (/* binding */ setGlobal),
/* harmony export */   withGlobal: () => (/* binding */ withGlobal)
/* harmony export */ });
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");

const typed = (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__.typify)();
const getGlobal = typed.getGlobal;
const setGlobal = typed.setGlobal;
const getActions = typed.getActions;
const addActionHandler = typed.addActionHandler;
const withGlobal = typed.withGlobal;

/***/ }),

/***/ "./src/global/init.ts":
/*!****************************!*\
  !*** ./src/global/init.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache */ "./src/global/cache.ts");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index */ "./src/global/index.ts");
/* harmony import */ var _initialState__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./initialState */ "./src/global/initialState.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./selectors */ "./src/global/selectors/index.ts");






if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_DELEGATED_BOTTOM_SHEET) {
  (0,_cache__WEBPACK_IMPORTED_MODULE_2__.initCache)();
}
(0,_index__WEBPACK_IMPORTED_MODULE_3__.addActionHandler)('init', (_, actions) => {
  const initial = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.cloneDeep)(_initialState__WEBPACK_IMPORTED_MODULE_4__.INITIAL_STATE);
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_DELEGATED_BOTTOM_SHEET) {
    return initial;
  }
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_LEDGER_EXTENSION_TAB) {
    actions.initLedgerPage();
    return initial;
  }
  const global = (0,_cache__WEBPACK_IMPORTED_MODULE_2__.loadCache)(initial);
  if ((0,_selectors__WEBPACK_IMPORTED_MODULE_5__.selectHasSession)(global)) {
    actions.afterSignIn();
  }
  return global;
});

/***/ }),

/***/ "./src/global/initialState.ts":
/*!************************************!*\
  !*** ./src/global/initialState.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INITIAL_STATE: () => (/* binding */ INITIAL_STATE),
/* harmony export */   STATE_VERSION: () => (/* binding */ STATE_VERSION)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");



const STATE_VERSION = 24;
const INITIAL_STATE = {
  appState: _types__WEBPACK_IMPORTED_MODULE_0__.AppState.Auth,
  auth: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.AuthState.none
  },
  biometrics: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.BiometricsState.None
  },
  hardware: {},
  currentTransfer: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None
  },
  currentSwap: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.SwapState.None,
    slippage: _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SLIPPAGE_VALUE
  },
  currentDappTransfer: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None
  },
  staking: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.None
  },
  stakingInfo: {},
  tokenInfo: {
    bySlug: _config__WEBPACK_IMPORTED_MODULE_1__.TOKEN_INFO
  },
  swapTokenInfo: {
    bySlug: _config__WEBPACK_IMPORTED_MODULE_1__.INIT_SWAP_ASSETS
  },
  tokenPriceHistory: {
    bySlug: {}
  },
  settings: {
    state: _types__WEBPACK_IMPORTED_MODULE_0__.SettingsState.Initial,
    theme: _config__WEBPACK_IMPORTED_MODULE_1__.THEME_DEFAULT,
    animationLevel: _config__WEBPACK_IMPORTED_MODULE_1__.ANIMATION_LEVEL_DEFAULT,
    areTinyTransfersHidden: true,
    canPlaySounds: true,
    langCode: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.USER_AGENT_LANG_CODE,
    dapps: [],
    byAccountId: {},
    areTokensWithNoCostHidden: true,
    isSortByValueEnabled: true
  },
  byAccountId: {},
  dialogs: [],
  notifications: [],
  stateVersion: STATE_VERSION,
  restrictions: {
    isLimitedRegion: false,
    isSwapDisabled: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_IOS_APP,
    isOnRampDisabled: _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_IOS_APP
  },
  mediaViewer: {}
};

/***/ }),

/***/ "./src/global/reducers/activities.ts":
/*!*******************************************!*\
  !*** ./src/global/reducers/activities.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addLocalTransaction: () => (/* binding */ addLocalTransaction),
/* harmony export */   addNewActivities: () => (/* binding */ addNewActivities),
/* harmony export */   assignRemoteTxId: () => (/* binding */ assignRemoteTxId),
/* harmony export */   removeLocalTransaction: () => (/* binding */ removeLocalTransaction),
/* harmony export */   updateActivity: () => (/* binding */ updateActivity)
/* harmony export */ });
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ "./src/global/helpers/index.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");




function updateActivity(global, accountId, activity) {
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const idsBySlug = (activities === null || activities === void 0 ? void 0 : activities.idsBySlug) || {};
  const {
    id,
    timestamp,
    kind
  } = activity;
  if (kind === 'swap') {
    const {
      from,
      to
    } = activity;
    let fromTokenIds = idsBySlug[from] || [];
    let toTokenIds = idsBySlug[to] || [];
    if (!fromTokenIds.includes(id)) {
      fromTokenIds = [id].concat(fromTokenIds);
    }
    if (!toTokenIds.includes(id)) {
      toTokenIds = [id].concat(toTokenIds);
    }
    return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
      activities: {
        ...activities,
        byId: {
          ...(activities === null || activities === void 0 ? void 0 : activities.byId),
          [id]: activity
        },
        idsBySlug: {
          ...idsBySlug,
          [from]: fromTokenIds,
          [to]: toTokenIds
        }
      }
    });
  }
  const {
    slug
  } = activity;
  const isLocal = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.getIsTxIdLocal)(id);
  let newestTransactionsBySlug = (activities === null || activities === void 0 ? void 0 : activities.newestTransactionsBySlug) || {};
  if (!isLocal) {
    const newestTx = newestTransactionsBySlug[slug];
    if (!newestTx || newestTx.timestamp < timestamp || newestTx.timestamp === timestamp && newestTx.txId < id) {
      newestTransactionsBySlug = {
        ...newestTransactionsBySlug,
        [slug]: activity
      };
    }
  }
  let tokenTxIds = idsBySlug[slug] || [];
  if (!tokenTxIds.includes(id)) {
    tokenTxIds = [id].concat(tokenTxIds);
  }
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    activities: {
      ...activities,
      byId: {
        ...(activities === null || activities === void 0 ? void 0 : activities.byId),
        [id]: activity
      },
      idsBySlug: {
        ...idsBySlug,
        [slug]: tokenTxIds
      },
      newestTransactionsBySlug
    }
  });
}
function addNewActivities(global, accountId, newActivities) {
  var _activities2, _activities3, _activities4;
  let {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const newById = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.buildCollectionByKey)(newActivities, 'id');
  const newIdsBySlug = buildActivityIdsBySlug(newActivities);
  const replacedIdsBySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.mapValues)(newIdsBySlug, (newIds, slug) => {
    var _activities;
    const currentActivityIds = (_activities = activities) === null || _activities === void 0 || (_activities = _activities.idsBySlug) === null || _activities === void 0 ? void 0 : _activities[slug];
    return currentActivityIds ? (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.unique)(newIds.concat(currentActivityIds)) : newIds;
  });
  const newTxs = newActivities.filter(_ref => {
    let {
      kind
    } = _ref;
    return kind === 'transaction';
  });
  const newTxsBySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.groupBy)(newTxs, 'slug');
  const newNewestTxsBySlug = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_0__.mapValues)(newTxsBySlug, txs => txs[0]);
  activities = {
    ...activities,
    byId: {
      ...((_activities2 = activities) === null || _activities2 === void 0 ? void 0 : _activities2.byId),
      ...newById
    },
    idsBySlug: {
      ...((_activities3 = activities) === null || _activities3 === void 0 ? void 0 : _activities3.idsBySlug),
      ...replacedIdsBySlug
    },
    newestTransactionsBySlug: {
      ...((_activities4 = activities) === null || _activities4 === void 0 ? void 0 : _activities4.newestTransactionsBySlug),
      ...newNewestTxsBySlug
    }
  };
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    activities
  });
}
function buildActivityIdsBySlug(activities) {
  return activities.reduce((acc, activity) => {
    const {
      id
    } = activity;
    if ('slug' in activity) {
      if (!acc[activity.slug]) {
        acc[activity.slug] = [id];
      } else {
        acc[activity.slug].push(id);
      }
    }
    if ('from' in activity) {
      if (!acc[activity.from]) {
        acc[activity.from] = [id];
      } else {
        acc[activity.from].push(id);
      }
    }
    if ('to' in activity) {
      if (!acc[activity.to]) {
        acc[activity.to] = [id];
      } else {
        acc[activity.to].push(id);
      }
    }
    return acc;
  }, {});
}
function assignRemoteTxId(global, accountId, txId, newTxId, newAmount, shouldHide) {
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const {
    byId,
    idsBySlug
  } = activities || {
    byId: {},
    idsBySlug: {}
  };
  const replacedActivity = byId[txId];
  if (!replacedActivity || replacedActivity.kind !== 'transaction') return global;
  const slug = replacedActivity.slug;
  const updatedIdsBySlug = {
    ...idsBySlug
  };
  if (slug in updatedIdsBySlug) {
    const indexOfTxId = updatedIdsBySlug[slug].indexOf(txId);
    if (indexOfTxId === -1) return global;
    updatedIdsBySlug[slug] = [...updatedIdsBySlug[slug].slice(0, indexOfTxId), newTxId, ...updatedIdsBySlug[slug].slice(indexOfTxId + 1)];
  }
  const updatedByTxId = {
    ...byId,
    [newTxId]: {
      ...replacedActivity,
      id: newTxId,
      txId: newTxId,
      amount: newAmount,
      shouldHide
    }
  };
  delete updatedByTxId[txId];
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    activities: {
      ...activities,
      byId: updatedByTxId,
      idsBySlug: updatedIdsBySlug
    }
  });
}
function addLocalTransaction(global, accountId, transaction) {
  var _activities$localTran, _activities$byId;
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const localTransactions = ((_activities$localTran = activities === null || activities === void 0 ? void 0 : activities.localTransactions) !== null && _activities$localTran !== void 0 ? _activities$localTran : []).concat(transaction);
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    activities: {
      ...activities,
      byId: (_activities$byId = activities === null || activities === void 0 ? void 0 : activities.byId) !== null && _activities$byId !== void 0 ? _activities$byId : {},
      localTransactions
    }
  });
}
function removeLocalTransaction(global, accountId, txId) {
  var _activities$localTran2, _activities$byId2;
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const localTransactions = ((_activities$localTran2 = activities === null || activities === void 0 ? void 0 : activities.localTransactions) !== null && _activities$localTran2 !== void 0 ? _activities$localTran2 : []).filter(_ref2 => {
    let {
      id
    } = _ref2;
    return id !== txId;
  });
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    activities: {
      ...activities,
      byId: (_activities$byId2 = activities === null || activities === void 0 ? void 0 : activities.byId) !== null && _activities$byId2 !== void 0 ? _activities$byId2 : {},
      localTransactions
    }
  });
}

/***/ }),

/***/ "./src/global/reducers/dapp.ts":
/*!*************************************!*\
  !*** ./src/global/reducers/dapp.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearConnectedDapps: () => (/* binding */ clearConnectedDapps),
/* harmony export */   clearCurrentDappTransfer: () => (/* binding */ clearCurrentDappTransfer),
/* harmony export */   clearDappConnectRequest: () => (/* binding */ clearDappConnectRequest),
/* harmony export */   clearDappConnectRequestError: () => (/* binding */ clearDappConnectRequestError),
/* harmony export */   removeConnectedDapp: () => (/* binding */ removeConnectedDapp),
/* harmony export */   updateConnectedDapps: () => (/* binding */ updateConnectedDapps),
/* harmony export */   updateCurrentDappTransfer: () => (/* binding */ updateCurrentDappTransfer),
/* harmony export */   updateDappConnectRequest: () => (/* binding */ updateDappConnectRequest)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/global/types.ts");

function updateDappConnectRequest(global, update) {
  return {
    ...global,
    dappConnectRequest: {
      ...global.dappConnectRequest,
      ...update
    }
  };
}
function clearDappConnectRequestError(global) {
  return {
    ...global,
    dappConnectRequest: {
      ...global.dappConnectRequest,
      error: undefined
    }
  };
}
function clearDappConnectRequest(global) {
  return {
    ...global,
    dappConnectRequest: undefined
  };
}
function updateCurrentDappTransfer(global, update) {
  return {
    ...global,
    currentDappTransfer: {
      ...global.currentDappTransfer,
      ...update
    }
  };
}
function clearCurrentDappTransfer(global) {
  return {
    ...global,
    currentDappTransfer: {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None
    }
  };
}
function updateConnectedDapps(global, update) {
  var _update$dapps;
  return {
    ...global,
    settings: {
      ...global.settings,
      dapps: (_update$dapps = update.dapps) !== null && _update$dapps !== void 0 ? _update$dapps : []
    }
  };
}
function clearConnectedDapps(global) {
  return {
    ...global,
    settings: {
      ...global.settings,
      dapps: []
    }
  };
}
function removeConnectedDapp(global, origin) {
  return {
    ...global,
    settings: {
      ...global.settings,
      dapps: global.settings.dapps.filter(dapp => dapp.origin !== origin)
    }
  };
}

/***/ }),

/***/ "./src/global/reducers/index.ts":
/*!**************************************!*\
  !*** ./src/global/reducers/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addLocalTransaction: () => (/* reexport safe */ _activities__WEBPACK_IMPORTED_MODULE_4__.addLocalTransaction),
/* harmony export */   addNewActivities: () => (/* reexport safe */ _activities__WEBPACK_IMPORTED_MODULE_4__.addNewActivities),
/* harmony export */   addNft: () => (/* reexport safe */ _nfts__WEBPACK_IMPORTED_MODULE_5__.addNft),
/* harmony export */   addToSelectedAddresses: () => (/* reexport safe */ _nfts__WEBPACK_IMPORTED_MODULE_5__.addToSelectedAddresses),
/* harmony export */   assignRemoteTxId: () => (/* reexport safe */ _activities__WEBPACK_IMPORTED_MODULE_4__.assignRemoteTxId),
/* harmony export */   clearConnectedDapps: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.clearConnectedDapps),
/* harmony export */   clearCurrentDappTransfer: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.clearCurrentDappTransfer),
/* harmony export */   clearCurrentSignature: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.clearCurrentSignature),
/* harmony export */   clearCurrentSwap: () => (/* reexport safe */ _swap__WEBPACK_IMPORTED_MODULE_6__.clearCurrentSwap),
/* harmony export */   clearCurrentTransfer: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.clearCurrentTransfer),
/* harmony export */   clearDappConnectRequest: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.clearDappConnectRequest),
/* harmony export */   clearDappConnectRequestError: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.clearDappConnectRequestError),
/* harmony export */   clearIsPinAccepted: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.clearIsPinAccepted),
/* harmony export */   clearStaking: () => (/* reexport safe */ _staking__WEBPACK_IMPORTED_MODULE_1__.clearStaking),
/* harmony export */   createAccount: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.createAccount),
/* harmony export */   removeConnectedDapp: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.removeConnectedDapp),
/* harmony export */   removeFromSelectedAddresses: () => (/* reexport safe */ _nfts__WEBPACK_IMPORTED_MODULE_5__.removeFromSelectedAddresses),
/* harmony export */   removeLocalTransaction: () => (/* reexport safe */ _activities__WEBPACK_IMPORTED_MODULE_4__.removeLocalTransaction),
/* harmony export */   removeNft: () => (/* reexport safe */ _nfts__WEBPACK_IMPORTED_MODULE_5__.removeNft),
/* harmony export */   renameAccount: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.renameAccount),
/* harmony export */   setIsPinAccepted: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.setIsPinAccepted),
/* harmony export */   updateAccount: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateAccount),
/* harmony export */   updateAccountStakingState: () => (/* reexport safe */ _staking__WEBPACK_IMPORTED_MODULE_1__.updateAccountStakingState),
/* harmony export */   updateAccountState: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateAccountState),
/* harmony export */   updateAccounts: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateAccounts),
/* harmony export */   updateActivitiesIsHistoryEndReached: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateActivitiesIsHistoryEndReached),
/* harmony export */   updateActivitiesIsLoading: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateActivitiesIsLoading),
/* harmony export */   updateActivitiesIsLoadingByAccount: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateActivitiesIsLoadingByAccount),
/* harmony export */   updateActivity: () => (/* reexport safe */ _activities__WEBPACK_IMPORTED_MODULE_4__.updateActivity),
/* harmony export */   updateAuth: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateAuth),
/* harmony export */   updateBalances: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateBalances),
/* harmony export */   updateBiometrics: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateBiometrics),
/* harmony export */   updateConnectedDapps: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.updateConnectedDapps),
/* harmony export */   updateCurrentAccountId: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateCurrentAccountId),
/* harmony export */   updateCurrentAccountState: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateCurrentAccountState),
/* harmony export */   updateCurrentDappTransfer: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.updateCurrentDappTransfer),
/* harmony export */   updateCurrentSignature: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateCurrentSignature),
/* harmony export */   updateCurrentSwap: () => (/* reexport safe */ _swap__WEBPACK_IMPORTED_MODULE_6__.updateCurrentSwap),
/* harmony export */   updateCurrentTransfer: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateCurrentTransfer),
/* harmony export */   updateCurrentTransferByCheckResult: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateCurrentTransferByCheckResult),
/* harmony export */   updateCurrentTransferFee: () => (/* reexport safe */ _wallet__WEBPACK_IMPORTED_MODULE_0__.updateCurrentTransferFee),
/* harmony export */   updateDappConnectRequest: () => (/* reexport safe */ _dapp__WEBPACK_IMPORTED_MODULE_3__.updateDappConnectRequest),
/* harmony export */   updateHardware: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateHardware),
/* harmony export */   updateNft: () => (/* reexport safe */ _nfts__WEBPACK_IMPORTED_MODULE_5__.updateNft),
/* harmony export */   updateRestrictions: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateRestrictions),
/* harmony export */   updateSendingLoading: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateSendingLoading),
/* harmony export */   updateSettings: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateSettings),
/* harmony export */   updateStaking: () => (/* reexport safe */ _staking__WEBPACK_IMPORTED_MODULE_1__.updateStaking),
/* harmony export */   updateStakingInfo: () => (/* reexport safe */ _staking__WEBPACK_IMPORTED_MODULE_1__.updateStakingInfo),
/* harmony export */   updateSwapTokens: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateSwapTokens),
/* harmony export */   updateTokens: () => (/* reexport safe */ _misc__WEBPACK_IMPORTED_MODULE_2__.updateTokens),
/* harmony export */   updateVesting: () => (/* reexport safe */ _vesting__WEBPACK_IMPORTED_MODULE_7__.updateVesting),
/* harmony export */   updateVestingInfo: () => (/* reexport safe */ _vesting__WEBPACK_IMPORTED_MODULE_7__.updateVestingInfo)
/* harmony export */ });
/* harmony import */ var _wallet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./wallet */ "./src/global/reducers/wallet.ts");
/* harmony import */ var _staking__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./staking */ "./src/global/reducers/staking.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");
/* harmony import */ var _dapp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dapp */ "./src/global/reducers/dapp.ts");
/* harmony import */ var _activities__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./activities */ "./src/global/reducers/activities.ts");
/* harmony import */ var _nfts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./nfts */ "./src/global/reducers/nfts.ts");
/* harmony import */ var _swap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./swap */ "./src/global/reducers/swap.ts");
/* harmony import */ var _vesting__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vesting */ "./src/global/reducers/vesting.ts");









/***/ }),

/***/ "./src/global/reducers/misc.ts":
/*!*************************************!*\
  !*** ./src/global/reducers/misc.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearIsPinAccepted: () => (/* binding */ clearIsPinAccepted),
/* harmony export */   createAccount: () => (/* binding */ createAccount),
/* harmony export */   renameAccount: () => (/* binding */ renameAccount),
/* harmony export */   setIsPinAccepted: () => (/* binding */ setIsPinAccepted),
/* harmony export */   updateAccount: () => (/* binding */ updateAccount),
/* harmony export */   updateAccountState: () => (/* binding */ updateAccountState),
/* harmony export */   updateAccounts: () => (/* binding */ updateAccounts),
/* harmony export */   updateAuth: () => (/* binding */ updateAuth),
/* harmony export */   updateBalances: () => (/* binding */ updateBalances),
/* harmony export */   updateBiometrics: () => (/* binding */ updateBiometrics),
/* harmony export */   updateCurrentAccountId: () => (/* binding */ updateCurrentAccountId),
/* harmony export */   updateCurrentAccountState: () => (/* binding */ updateCurrentAccountState),
/* harmony export */   updateHardware: () => (/* binding */ updateHardware),
/* harmony export */   updateRestrictions: () => (/* binding */ updateRestrictions),
/* harmony export */   updateSendingLoading: () => (/* binding */ updateSendingLoading),
/* harmony export */   updateSettings: () => (/* binding */ updateSettings),
/* harmony export */   updateSwapTokens: () => (/* binding */ updateSwapTokens),
/* harmony export */   updateTokens: () => (/* binding */ updateTokens)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_isPartialDeepEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/isPartialDeepEqual */ "./src/util/isPartialDeepEqual.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");



function updateAuth(global, authUpdate) {
  return {
    ...global,
    auth: {
      ...global.auth,
      ...authUpdate
    }
  };
}
function updateAccounts(global, state) {
  return {
    ...global,
    accounts: {
      ...(global.accounts || {
        byId: {}
      }),
      ...state
    }
  };
}
function setIsPinAccepted(global) {
  return {
    ...global,
    isPinAccepted: true
  };
}
function clearIsPinAccepted(global) {
  return {
    ...global,
    isPinAccepted: undefined
  };
}
function createAccount(global, accountId, address, partial, titlePostfix) {
  var _partial;
  let shouldForceAccountEdit = true;
  if (!((_partial = partial) !== null && _partial !== void 0 && _partial.title)) {
    const network = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectCurrentNetwork)(global);
    const accounts = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectNetworkAccounts)(global) || {};
    const accountAmount = Object.keys(accounts).length;
    const isMainnet = network === 'mainnet';
    const titlePrefix = isMainnet ? 'Wallet' : 'Testnet Wallet';
    const postfix = titlePostfix ? ` ${titlePostfix}` : '';
    let title = `${titlePrefix} ${accountAmount + 1}${postfix}`;
    if (accountAmount === 0) {
      title = isMainnet ? 'MyTonWallet' : 'Testnet MyTonWallet';
      shouldForceAccountEdit = false;
    }
    partial = {
      ...partial,
      title
    };
  } else if (titlePostfix) {
    var _partial$title;
    const title = (_partial$title = partial.title) === null || _partial$title === void 0 ? void 0 : _partial$title.replace(new RegExp(`\\b(${_config__WEBPACK_IMPORTED_MODULE_0__.POPULAR_WALLET_VERSIONS.join('|')})\\b`, 'g'), '');
    partial = {
      ...partial,
      title: `${title.trim()} ${titlePostfix}`
    };
  }
  global = {
    ...global,
    shouldForceAccountEdit
  };
  return updateAccount(global, accountId, {
    ...partial,
    address
  });
}
function updateAccount(global, accountId, partial) {
  var _global$accounts;
  return {
    ...global,
    accounts: {
      ...global.accounts,
      byId: {
        ...((_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId),
        [accountId]: {
          ...(0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccount)(global, accountId),
          ...partial
        }
      }
    }
  };
}
function renameAccount(global, accountId, title) {
  return updateAccount(global, accountId, {
    title
  });
}
function updateBalances(global, accountId, balancesToUpdate) {
  if (Object.keys(balancesToUpdate).length === 0) {
    return global;
  }
  const {
    balances
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId) || {};
  const updatedBalancesBySlug = {
    ...((balances === null || balances === void 0 ? void 0 : balances.bySlug) || {})
  };
  for (const [slug, balance] of Object.entries(balancesToUpdate)) {
    updatedBalancesBySlug[slug] = balance;
  }
  return updateAccountState(global, accountId, {
    balances: {
      ...balances,
      bySlug: updatedBalancesBySlug
    }
  });
}
function updateSendingLoading(global, isLoading) {
  return {
    ...global,
    currentTransfer: {
      ...global.currentTransfer,
      isLoading
    }
  };
}
function updateTokens(global, partial) {
  var _global$tokenInfo;
  let withDeepCompare = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const currentTokens = (_global$tokenInfo = global.tokenInfo) === null || _global$tokenInfo === void 0 ? void 0 : _global$tokenInfo.bySlug;

  // If the backend does not work, then we won't delete the old prices
  if (!partial[_config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG].quote.price) {
    partial = Object.values(partial).reduce((result, token) => {
      var _currentTokens$token$, _currentTokens$token$2;
      result[token.slug] = {
        ...token,
        quote: (_currentTokens$token$ = currentTokens === null || currentTokens === void 0 || (_currentTokens$token$2 = currentTokens[token.slug]) === null || _currentTokens$token$2 === void 0 ? void 0 : _currentTokens$token$2.quote) !== null && _currentTokens$token$ !== void 0 ? _currentTokens$token$ : token.quote
      };
      return result;
    }, {});
  }
  if (withDeepCompare && currentTokens && (0,_util_isPartialDeepEqual__WEBPACK_IMPORTED_MODULE_1__["default"])(currentTokens, partial)) {
    return global;
  }
  return {
    ...global,
    tokenInfo: {
      ...global.tokenInfo,
      bySlug: {
        ...currentTokens,
        ...partial
      }
    }
  };
}
function updateSwapTokens(global, partial) {
  var _global$swapTokenInfo;
  const currentTokens = (_global$swapTokenInfo = global.swapTokenInfo) === null || _global$swapTokenInfo === void 0 ? void 0 : _global$swapTokenInfo.bySlug;
  return {
    ...global,
    swapTokenInfo: {
      ...global.swapTokenInfo,
      bySlug: {
        ...currentTokens,
        ...partial
      }
    }
  };
}
function updateCurrentAccountState(global, partial) {
  return updateAccountState(global, global.currentAccountId, partial);
}
function updateAccountState(global, accountId, partial) {
  let withDeepCompare = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId);
  if (withDeepCompare && accountState && (0,_util_isPartialDeepEqual__WEBPACK_IMPORTED_MODULE_1__["default"])(accountState, partial)) {
    return global;
  }
  return {
    ...global,
    byAccountId: {
      ...global.byAccountId,
      [accountId]: {
        ...accountState,
        ...partial
      }
    }
  };
}
function updateHardware(global, hardwareUpdate) {
  return {
    ...global,
    hardware: {
      ...global.hardware,
      ...hardwareUpdate
    }
  };
}
function updateSettings(global, settingsUpdate) {
  return {
    ...global,
    settings: {
      ...global.settings,
      ...settingsUpdate
    }
  };
}
function updateBiometrics(global, biometricsUpdate) {
  return {
    ...global,
    biometrics: {
      ...global.biometrics,
      ...biometricsUpdate
    }
  };
}
function updateRestrictions(global, partial) {
  return {
    ...global,
    restrictions: {
      ...global.restrictions,
      ...partial
    }
  };
}
function updateCurrentAccountId(global, accountId) {
  if (!accountId) {
    throw Error('Empty accountId!');
  }
  return {
    ...global,
    currentAccountId: accountId
  };
}

/***/ }),

/***/ "./src/global/reducers/nfts.ts":
/*!*************************************!*\
  !*** ./src/global/reducers/nfts.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addNft: () => (/* binding */ addNft),
/* harmony export */   addToSelectedAddresses: () => (/* binding */ addToSelectedAddresses),
/* harmony export */   removeFromSelectedAddresses: () => (/* binding */ removeFromSelectedAddresses),
/* harmony export */   removeNft: () => (/* binding */ removeNft),
/* harmony export */   updateNft: () => (/* binding */ updateNft)
/* harmony export */ });
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");


function addNft(global, accountId, nft) {
  var _nfts$orderedAddresse;
  const nftAddress = nft.address;
  const nfts = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId).nfts;
  const orderedAddresses = ((_nfts$orderedAddresse = nfts === null || nfts === void 0 ? void 0 : nfts.orderedAddresses) !== null && _nfts$orderedAddresse !== void 0 ? _nfts$orderedAddresse : []).filter(address => address !== nftAddress);
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...nfts,
      byAddress: {
        ...(nfts === null || nfts === void 0 ? void 0 : nfts.byAddress),
        [nftAddress]: nft
      },
      orderedAddresses: [nftAddress, ...orderedAddresses]
    }
  });
}
function removeNft(global, accountId, nftAddress) {
  var _nfts$orderedAddresse2, _nfts$selectedAddress, _nfts$byAddress;
  const nfts = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId).nfts;
  const orderedAddresses = ((_nfts$orderedAddresse2 = nfts === null || nfts === void 0 ? void 0 : nfts.orderedAddresses) !== null && _nfts$orderedAddresse2 !== void 0 ? _nfts$orderedAddresse2 : []).filter(address => address !== nftAddress);
  const selectedAddresses = ((_nfts$selectedAddress = nfts === null || nfts === void 0 ? void 0 : nfts.selectedAddresses) !== null && _nfts$selectedAddress !== void 0 ? _nfts$selectedAddress : []).filter(address => address !== nftAddress);
  const {
    [nftAddress]: removedNft,
    ...byAddress
  } = (_nfts$byAddress = nfts === null || nfts === void 0 ? void 0 : nfts.byAddress) !== null && _nfts$byAddress !== void 0 ? _nfts$byAddress : {};
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...nfts,
      byAddress,
      orderedAddresses,
      selectedAddresses
    }
  });
}
function updateNft(global, accountId, nftAddress, partial) {
  const nfts = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId).nfts;
  const nft = nfts === null || nfts === void 0 ? void 0 : nfts.byAddress[nftAddress];
  if (!nfts || !nft) return global;
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...nfts,
      byAddress: {
        ...nfts.byAddress,
        [nftAddress]: {
          ...nft,
          ...partial
        }
      }
    }
  });
}
function addToSelectedAddresses(global, accountId, nftAddresses) {
  var _nfts$selectedAddress2;
  const nfts = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId).nfts;
  const selectedAddresses = [...((_nfts$selectedAddress2 = nfts === null || nfts === void 0 ? void 0 : nfts.selectedAddresses) !== null && _nfts$selectedAddress2 !== void 0 ? _nfts$selectedAddress2 : []), ...nftAddresses];
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...nfts,
      selectedAddresses
    }
  });
}
function removeFromSelectedAddresses(global, accountId, nftAddress) {
  var _nfts$selectedAddress3;
  const nfts = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId).nfts;
  const selectedAddresses = ((_nfts$selectedAddress3 = nfts === null || nfts === void 0 ? void 0 : nfts.selectedAddresses) !== null && _nfts$selectedAddress3 !== void 0 ? _nfts$selectedAddress3 : []).filter(address => address !== nftAddress);
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    nfts: {
      ...nfts,
      selectedAddresses: selectedAddresses.length ? selectedAddresses : undefined
    }
  });
}

/***/ }),

/***/ "./src/global/reducers/staking.ts":
/*!****************************************!*\
  !*** ./src/global/reducers/staking.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearStaking: () => (/* binding */ clearStaking),
/* harmony export */   updateAccountStakingState: () => (/* binding */ updateAccountStakingState),
/* harmony export */   updateStaking: () => (/* binding */ updateStaking),
/* harmony export */   updateStakingInfo: () => (/* binding */ updateStakingInfo)
/* harmony export */ });
/* unused harmony export updateAccountStakingStatePartial */
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/global/types.ts");
/* harmony import */ var _util_isPartialDeepEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/isPartialDeepEqual */ "./src/util/isPartialDeepEqual.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");




function updateStaking(global, update) {
  return {
    ...global,
    staking: {
      ...global.staking,
      ...update
    }
  };
}
function clearStaking(global) {
  return {
    ...global,
    staking: {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.StakingState.None
    }
  };
}
function updateAccountStakingState(global, accountId, state) {
  var _selectAccountState;
  let withDeepCompare = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const currentState = (_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId)) === null || _selectAccountState === void 0 ? void 0 : _selectAccountState.staking;
  if (withDeepCompare && currentState && (0,_util_isPartialDeepEqual__WEBPACK_IMPORTED_MODULE_1__["default"])(currentState, state)) {
    return global;
  }
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    staking: {
      ...currentState,
      ...state
    }
  });
}
function updateAccountStakingStatePartial(global, accountId, partial) {
  var _selectAccountState2;
  const currentState = (_selectAccountState2 = (0,_selectors__WEBPACK_IMPORTED_MODULE_2__.selectAccountState)(global, accountId)) === null || _selectAccountState2 === void 0 ? void 0 : _selectAccountState2.staking;
  if (!currentState) {
    return global;
  }
  return (0,_misc__WEBPACK_IMPORTED_MODULE_3__.updateAccountState)(global, accountId, {
    staking: {
      ...currentState,
      ...partial
    }
  });
}
function updateStakingInfo(global, stakingInfo) {
  return {
    ...global,
    stakingInfo
  };
}

/***/ }),

/***/ "./src/global/reducers/swap.ts":
/*!*************************************!*\
  !*** ./src/global/reducers/swap.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearCurrentSwap: () => (/* binding */ clearCurrentSwap),
/* harmony export */   updateCurrentSwap: () => (/* binding */ updateCurrentSwap)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");


function updateCurrentSwap(global, update) {
  return {
    ...global,
    currentSwap: {
      ...global.currentSwap,
      ...update
    }
  };
}
function clearCurrentSwap(global) {
  return {
    ...global,
    currentSwap: {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.SwapState.None,
      slippage: _config__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_SLIPPAGE_VALUE
    }
  };
}

/***/ }),

/***/ "./src/global/reducers/tokens.ts":
/*!***************************************!*\
  !*** ./src/global/reducers/tokens.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateTokenInfo: () => (/* binding */ updateTokenInfo),
/* harmony export */   updateTokenPriceHistory: () => (/* binding */ updateTokenPriceHistory)
/* harmony export */ });
function updateTokenPriceHistory(global, slug, partial) {
  const {
    bySlug
  } = global.tokenPriceHistory;
  return {
    ...global,
    tokenPriceHistory: {
      bySlug: {
        ...bySlug,
        [slug]: {
          ...bySlug[slug],
          ...partial
        }
      }
    }
  };
}
function updateTokenInfo(global, partial) {
  return {
    ...global,
    tokenInfo: {
      ...global.tokenInfo,
      bySlug: {
        ...global.tokenInfo.bySlug,
        ...partial
      }
    }
  };
}

/***/ }),

/***/ "./src/global/reducers/vesting.ts":
/*!****************************************!*\
  !*** ./src/global/reducers/vesting.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   updateVesting: () => (/* binding */ updateVesting),
/* harmony export */   updateVestingInfo: () => (/* binding */ updateVestingInfo)
/* harmony export */ });
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");


function updateVestingInfo(global, accountId, update) {
  return updateVesting(global, accountId, {
    info: update
  });
}
function updateVesting(global, accountId, update) {
  var _selectAccountState;
  return (0,_misc__WEBPACK_IMPORTED_MODULE_1__.updateAccountState)(global, accountId, {
    vesting: {
      ...(((_selectAccountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_0__.selectAccountState)(global, accountId)) === null || _selectAccountState === void 0 ? void 0 : _selectAccountState.vesting) || {
        info: []
      }),
      ...update
    }
  });
}

/***/ }),

/***/ "./src/global/reducers/wallet.ts":
/*!***************************************!*\
  !*** ./src/global/reducers/wallet.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clearCurrentSignature: () => (/* binding */ clearCurrentSignature),
/* harmony export */   clearCurrentTransfer: () => (/* binding */ clearCurrentTransfer),
/* harmony export */   updateActivitiesIsHistoryEndReached: () => (/* binding */ updateActivitiesIsHistoryEndReached),
/* harmony export */   updateActivitiesIsLoading: () => (/* binding */ updateActivitiesIsLoading),
/* harmony export */   updateActivitiesIsLoadingByAccount: () => (/* binding */ updateActivitiesIsLoadingByAccount),
/* harmony export */   updateCurrentSignature: () => (/* binding */ updateCurrentSignature),
/* harmony export */   updateCurrentTransfer: () => (/* binding */ updateCurrentTransfer),
/* harmony export */   updateCurrentTransferByCheckResult: () => (/* binding */ updateCurrentTransferByCheckResult),
/* harmony export */   updateCurrentTransferFee: () => (/* binding */ updateCurrentTransferFee)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../api/blockchains/ton/constants */ "./src/api/blockchains/ton/constants.ts");
/* harmony import */ var _selectors__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _misc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./misc */ "./src/global/reducers/misc.ts");






function updateCurrentTransferByCheckResult(global, result) {
  const partial = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.omitUndefined)({
    toAddressName: result.addressName,
    ...(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.pick)(result, ['isScam', 'isMemoRequired', 'dieselAmount', 'dieselStatus'])
  });
  if (Object.keys(partial).length) {
    global = updateCurrentTransfer(global, partial);
  }
  return global;
}
function updateCurrentTransfer(global, update) {
  return {
    ...global,
    currentTransfer: {
      ...global.currentTransfer,
      ...update
    }
  };
}
function clearCurrentTransfer(global) {
  return {
    ...global,
    currentTransfer: {
      state: _types__WEBPACK_IMPORTED_MODULE_0__.TransferState.None
    }
  };
}
function updateCurrentSignature(global, update) {
  return {
    ...global,
    currentSignature: {
      ...global.currentSignature,
      ...update
    }
  };
}
function clearCurrentSignature(global) {
  return {
    ...global,
    currentSignature: undefined
  };
}
function updateActivitiesIsLoading(global, isLoading) {
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global) || {};
  return (0,_misc__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    activities: {
      ...(activities || {
        byId: {}
      }),
      isLoading
    }
  });
}
function updateActivitiesIsHistoryEndReached(global, isReached, slug) {
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_4__.selectCurrentAccountState)(global) || {};
  if (slug) {
    var _activities$isHistory;
    const bySlug = (_activities$isHistory = activities === null || activities === void 0 ? void 0 : activities.isHistoryEndReachedBySlug) !== null && _activities$isHistory !== void 0 ? _activities$isHistory : {};
    return (0,_misc__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
      activities: {
        ...(activities || {
          byId: {}
        }),
        isHistoryEndReachedBySlug: {
          ...bySlug,
          [slug]: isReached
        }
      }
    });
  }
  return (0,_misc__WEBPACK_IMPORTED_MODULE_5__.updateCurrentAccountState)(global, {
    activities: {
      ...(activities || {
        byId: {}
      }),
      isMainHistoryEndReached: isReached
    }
  });
}
function updateActivitiesIsLoadingByAccount(global, accountId, isLoading) {
  const {
    activities
  } = (0,_selectors__WEBPACK_IMPORTED_MODULE_4__.selectAccountState)(global, accountId) || {};
  return (0,_misc__WEBPACK_IMPORTED_MODULE_5__.updateAccountState)(global, accountId, {
    activities: {
      ...(activities || {
        byId: {}
      }),
      isLoading
    }
  });
}
function updateCurrentTransferFee(global, fee, amount, isToncoin) {
  var _accountState$balance, _accountState$balance2;
  const accountState = (0,_selectors__WEBPACK_IMPORTED_MODULE_4__.selectAccountState)(global, global.currentAccountId);
  const balance = (_accountState$balance = accountState === null || accountState === void 0 || (_accountState$balance2 = accountState.balances) === null || _accountState$balance2 === void 0 ? void 0 : _accountState$balance2.bySlug[_config__WEBPACK_IMPORTED_MODULE_1__.TONCOIN_SLUG]) !== null && _accountState$balance !== void 0 ? _accountState$balance : 0n;
  const baseFee = fee !== null && fee !== void 0 ? fee : 0n;
  const compositeFee = baseFee + (isToncoin ? 0n : _api_blockchains_ton_constants__WEBPACK_IMPORTED_MODULE_3__.TOKEN_TRANSFER_TONCOIN_AMOUNT);
  const updatedBalance = balance - (isToncoin ? amount : 0n);
  return updateCurrentTransfer(global, {
    fee: updatedBalance < compositeFee ? compositeFee : baseFee
  });
}

/***/ }),

/***/ "./src/global/selectors/index.ts":
/*!***************************************!*\
  !*** ./src/global/selectors/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   selectAccount: () => (/* binding */ selectAccount),
/* harmony export */   selectAccountIdByAddress: () => (/* binding */ selectAccountIdByAddress),
/* harmony export */   selectAccountSettings: () => (/* binding */ selectAccountSettings),
/* harmony export */   selectAccountState: () => (/* binding */ selectAccountState),
/* harmony export */   selectAccountTokens: () => (/* binding */ selectAccountTokens),
/* harmony export */   selectAccounts: () => (/* binding */ selectAccounts),
/* harmony export */   selectAllHardwareAccounts: () => (/* binding */ selectAllHardwareAccounts),
/* harmony export */   selectAvailableUserForSwapTokens: () => (/* binding */ selectAvailableUserForSwapTokens),
/* harmony export */   selectCurrentAccount: () => (/* binding */ selectCurrentAccount),
/* harmony export */   selectCurrentAccountStakingStatus: () => (/* binding */ selectCurrentAccountStakingStatus),
/* harmony export */   selectCurrentAccountState: () => (/* binding */ selectCurrentAccountState),
/* harmony export */   selectCurrentAccountTokens: () => (/* binding */ selectCurrentAccountTokens),
/* harmony export */   selectCurrentNetwork: () => (/* binding */ selectCurrentNetwork),
/* harmony export */   selectCurrentToncoinBalance: () => (/* binding */ selectCurrentToncoinBalance),
/* harmony export */   selectEnabledTokensCountMemoized: () => (/* binding */ selectEnabledTokensCountMemoized),
/* harmony export */   selectFirstNonHardwareAccount: () => (/* binding */ selectFirstNonHardwareAccount),
/* harmony export */   selectHasSession: () => (/* binding */ selectHasSession),
/* harmony export */   selectIsHardwareAccount: () => (/* binding */ selectIsHardwareAccount),
/* harmony export */   selectIsNewWallet: () => (/* binding */ selectIsNewWallet),
/* harmony export */   selectIsOneAccount: () => (/* binding */ selectIsOneAccount),
/* harmony export */   selectIsPasswordPresent: () => (/* binding */ selectIsPasswordPresent),
/* harmony export */   selectLastTxIds: () => (/* binding */ selectLastTxIds),
/* harmony export */   selectLedgerAccountIndexToImport: () => (/* binding */ selectLedgerAccountIndexToImport),
/* harmony export */   selectLocalTransactions: () => (/* binding */ selectLocalTransactions),
/* harmony export */   selectMycoin: () => (/* binding */ selectMycoin),
/* harmony export */   selectNetworkAccounts: () => (/* binding */ selectNetworkAccounts),
/* harmony export */   selectNetworkAccountsMemoized: () => (/* binding */ selectNetworkAccountsMemoized),
/* harmony export */   selectNewestTxIds: () => (/* binding */ selectNewestTxIds),
/* harmony export */   selectPopularTokens: () => (/* binding */ selectPopularTokens),
/* harmony export */   selectSwapTokens: () => (/* binding */ selectSwapTokens),
/* harmony export */   selectTokenAddress: () => (/* binding */ selectTokenAddress),
/* harmony export */   selectVestingPartsReadyToUnfreeze: () => (/* binding */ selectVestingPartsReadyToUnfreeze)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_account__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/account */ "./src/util/account.ts");
/* harmony import */ var _util_decimals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/decimals */ "./src/util/decimals.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_memoized__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/memoized */ "./src/util/memoized.ts");
/* harmony import */ var _util_round__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/round */ "./src/util/round.ts");
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../helpers */ "./src/global/helpers/index.ts");







const HIDDEN_TOKENS_COST = 0.01;
function selectHasSession(global) {
  return Boolean(global.currentAccountId);
}
const selectAccountTokensMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])(function (balancesBySlug, tokenInfo, accountSettings) {
  let isSortByValueEnabled = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  let areTokensWithNoCostHidden = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  return Object.entries(balancesBySlug).filter(_ref => {
    let [slug] = _ref;
    return slug in tokenInfo.bySlug;
  }).map(_ref2 => {
    var _accountSettings$exce;
    let [slug, balance] = _ref2;
    const {
      symbol,
      name,
      image,
      decimals,
      cmcSlug,
      color,
      quote: {
        price,
        percentChange24h,
        priceUsd
      }
    } = tokenInfo.bySlug[slug];
    const balanceBig = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_2__.toBig)(balance, decimals);
    const totalValue = balanceBig.mul(price).round(decimals).toString();
    const hasCost = balanceBig.mul(priceUsd !== null && priceUsd !== void 0 ? priceUsd : 0).gte(HIDDEN_TOKENS_COST);
    const isExcepted = (_accountSettings$exce = accountSettings.exceptionSlugs) === null || _accountSettings$exce === void 0 ? void 0 : _accountSettings$exce.includes(slug);
    const isMycoinWithBalance = slug === _config__WEBPACK_IMPORTED_MODULE_0__.MYCOIN_SLUG && balance;
    const isDisabled = !(slug === _config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG || areTokensWithNoCostHidden && hasCost && !isExcepted || areTokensWithNoCostHidden && !hasCost && !isMycoinWithBalance && isExcepted || areTokensWithNoCostHidden && !hasCost && isMycoinWithBalance && !isExcepted || !areTokensWithNoCostHidden && !isExcepted);
    return {
      symbol,
      slug,
      amount: balance,
      name,
      image,
      price,
      priceUsd,
      decimals,
      change24h: (0,_util_round__WEBPACK_IMPORTED_MODULE_5__.round)(percentChange24h / 100, 4),
      isDisabled,
      cmcSlug,
      totalValue,
      color
    };
  }).sort((tokenA, tokenB) => {
    if (isSortByValueEnabled) {
      return Number(tokenB.totalValue) - Number(tokenA.totalValue);
    }
    if (!accountSettings.orderedSlugs) {
      return 1;
    }
    const indexA = accountSettings.orderedSlugs.indexOf(tokenA.slug);
    const indexB = accountSettings.orderedSlugs.indexOf(tokenB.slug);
    return indexA - indexB;
  });
});
function selectCurrentAccountTokens(global) {
  return selectAccountTokens(global, global.currentAccountId);
}
function selectCurrentToncoinBalance(global) {
  var _selectCurrentAccount, _selectCurrentAccount2;
  return (_selectCurrentAccount = (_selectCurrentAccount2 = selectCurrentAccountState(global)) === null || _selectCurrentAccount2 === void 0 || (_selectCurrentAccount2 = _selectCurrentAccount2.balances) === null || _selectCurrentAccount2 === void 0 ? void 0 : _selectCurrentAccount2.bySlug[_config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG]) !== null && _selectCurrentAccount !== void 0 ? _selectCurrentAccount : 0n;
}
function selectAccountTokens(global, accountId) {
  var _selectAccountState, _selectAccountSetting;
  const balancesBySlug = (_selectAccountState = selectAccountState(global, accountId)) === null || _selectAccountState === void 0 || (_selectAccountState = _selectAccountState.balances) === null || _selectAccountState === void 0 ? void 0 : _selectAccountState.bySlug;
  if (!balancesBySlug || !global.tokenInfo) {
    return undefined;
  }
  const accountSettings = (_selectAccountSetting = selectAccountSettings(global, accountId)) !== null && _selectAccountSetting !== void 0 ? _selectAccountSetting : {};
  const {
    areTokensWithNoCostHidden,
    isSortByValueEnabled
  } = global.settings;
  return selectAccountTokensMemoized(balancesBySlug, global.tokenInfo, accountSettings, isSortByValueEnabled, areTokensWithNoCostHidden);
}
function createTokenList(swapTokenInfo, balancesBySlug, sortFn, filterFn) {
  return Object.entries(swapTokenInfo.bySlug).filter(_ref3 => {
    let [, token] = _ref3;
    return !filterFn || filterFn(token);
  }).map(_ref4 => {
    var _balancesBySlug$slug;
    let [slug, {
      symbol,
      name,
      image,
      decimals,
      keywords,
      blockchain,
      contract,
      isPopular,
      color,
      price = 0,
      priceUsd = 0
    }] = _ref4;
    const amount = (_balancesBySlug$slug = balancesBySlug[slug]) !== null && _balancesBySlug$slug !== void 0 ? _balancesBySlug$slug : 0n;
    const totalValue = (0,_util_decimals__WEBPACK_IMPORTED_MODULE_2__.toBig)(amount, decimals).mul(price).toString();
    return {
      symbol,
      slug,
      amount,
      price,
      priceUsd,
      name,
      image,
      decimals,
      isDisabled: false,
      canSwap: true,
      isPopular,
      keywords,
      blockchain,
      contract,
      totalValue,
      color
    };
  }).sort(sortFn);
}
const selectPopularTokensMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])((balancesBySlug, swapTokenInfo) => {
  const popularTokenOrder = ['TON', 'USD₮', 'USDT', 'BTC', 'ETH', 'jUSDT', 'jWBTC'];
  const orderMap = new Map(popularTokenOrder.map((item, index) => [item, index]));
  const filterFn = token => token.isPopular;
  const sortFn = (tokenA, tokenB) => {
    const orderIndexA = orderMap.has(tokenA.symbol) ? orderMap.get(tokenA.symbol) : popularTokenOrder.length;
    const orderIndexB = orderMap.has(tokenB.symbol) ? orderMap.get(tokenB.symbol) : popularTokenOrder.length;
    return orderIndexA - orderIndexB;
  };
  return createTokenList(swapTokenInfo, balancesBySlug, sortFn, filterFn);
});
const selectSwapTokensMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])((balancesBySlug, swapTokenInfo) => {
  const sortFn = (tokenA, tokenB) => tokenA.name.trim().toLowerCase().localeCompare(tokenB.name.trim().toLowerCase());
  return createTokenList(swapTokenInfo, balancesBySlug, sortFn);
});
const selectAccountTokensForSwapMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])(function (balancesBySlug, tokenInfo, swapTokenInfo, accountSettings) {
  let isSortByValueEnabled = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  let areTokensWithNoCostHidden = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  return selectAccountTokensMemoized(balancesBySlug, tokenInfo, accountSettings, isSortByValueEnabled, areTokensWithNoCostHidden).filter(token => token.slug in swapTokenInfo.bySlug && !token.isDisabled);
});
function selectAvailableUserForSwapTokens(global) {
  var _selectCurrentAccount3, _selectAccountSetting2;
  const balancesBySlug = (_selectCurrentAccount3 = selectCurrentAccountState(global)) === null || _selectCurrentAccount3 === void 0 || (_selectCurrentAccount3 = _selectCurrentAccount3.balances) === null || _selectCurrentAccount3 === void 0 ? void 0 : _selectCurrentAccount3.bySlug;
  if (!balancesBySlug || !global.tokenInfo || !global.swapTokenInfo) {
    return undefined;
  }
  const accountSettings = (_selectAccountSetting2 = selectAccountSettings(global, global.currentAccountId)) !== null && _selectAccountSetting2 !== void 0 ? _selectAccountSetting2 : {};
  const {
    areTokensWithNoCostHidden,
    isSortByValueEnabled
  } = global.settings;
  return selectAccountTokensForSwapMemoized(balancesBySlug, global.tokenInfo, global.swapTokenInfo, accountSettings, isSortByValueEnabled, areTokensWithNoCostHidden);
}
function selectPopularTokens(global) {
  var _selectCurrentAccount4;
  const balancesBySlug = (_selectCurrentAccount4 = selectCurrentAccountState(global)) === null || _selectCurrentAccount4 === void 0 || (_selectCurrentAccount4 = _selectCurrentAccount4.balances) === null || _selectCurrentAccount4 === void 0 ? void 0 : _selectCurrentAccount4.bySlug;
  if (!balancesBySlug || !global.swapTokenInfo) {
    return undefined;
  }
  return selectPopularTokensMemoized(balancesBySlug, global.swapTokenInfo);
}
function selectSwapTokens(global) {
  var _selectCurrentAccount5;
  const balancesBySlug = (_selectCurrentAccount5 = selectCurrentAccountState(global)) === null || _selectCurrentAccount5 === void 0 || (_selectCurrentAccount5 = _selectCurrentAccount5.balances) === null || _selectCurrentAccount5 === void 0 ? void 0 : _selectCurrentAccount5.bySlug;
  if (!balancesBySlug || !global.swapTokenInfo) {
    return undefined;
  }
  return selectSwapTokensMemoized(balancesBySlug, global.swapTokenInfo);
}
function selectIsNewWallet(global) {
  const tokens = selectCurrentAccountTokens(global);
  return (tokens === null || tokens === void 0 ? void 0 : tokens.length) === 0 || (tokens === null || tokens === void 0 ? void 0 : tokens.length) === 1 && tokens[0].amount === 0n;
}
function selectAccounts(global) {
  var _global$accounts;
  return (_global$accounts = global.accounts) === null || _global$accounts === void 0 ? void 0 : _global$accounts.byId;
}
const selectNetworkAccountsMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])((network, accountsById) => {
  if (!accountsById) {
    return undefined;
  }
  return Object.fromEntries(Object.entries(accountsById).filter(_ref5 => {
    let [accountId] = _ref5;
    return (0,_util_account__WEBPACK_IMPORTED_MODULE_1__.parseAccountId)(accountId).network === network;
  }));
});
function selectNetworkAccounts(global) {
  var _global$accounts2;
  return selectNetworkAccountsMemoized(selectCurrentNetwork(global), (_global$accounts2 = global.accounts) === null || _global$accounts2 === void 0 ? void 0 : _global$accounts2.byId);
}
function selectCurrentNetwork(global) {
  return global.settings.isTestnet ? 'testnet' : 'mainnet';
}
function selectCurrentAccount(global) {
  return selectAccount(global, global.currentAccountId);
}
function selectAccount(global, accountId) {
  var _selectAccounts;
  return (_selectAccounts = selectAccounts(global)) === null || _selectAccounts === void 0 ? void 0 : _selectAccounts[accountId];
}
function selectCurrentAccountState(global) {
  return selectAccountState(global, global.currentAccountId);
}
function selectAccountState(global, accountId) {
  return global.byAccountId[accountId];
}
function selectFirstNonHardwareAccount(global) {
  const accounts = selectAccounts(global);
  if (!accounts) {
    return undefined;
  }
  return Object.values(accounts).find(account => !account.isHardware);
}
function selectNewestTxIds(global, accountId) {
  var _selectAccountState2;
  return (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_3__.mapValues)(((_selectAccountState2 = selectAccountState(global, accountId)) === null || _selectAccountState2 === void 0 || (_selectAccountState2 = _selectAccountState2.activities) === null || _selectAccountState2 === void 0 ? void 0 : _selectAccountState2.newestTransactionsBySlug) || {}, _ref6 => {
    let {
      txId
    } = _ref6;
    return txId;
  });
}
function selectLastTxIds(global, accountId) {
  var _selectAccountState3;
  const idsBySlug = ((_selectAccountState3 = selectAccountState(global, accountId)) === null || _selectAccountState3 === void 0 || (_selectAccountState3 = _selectAccountState3.activities) === null || _selectAccountState3 === void 0 ? void 0 : _selectAccountState3.idsBySlug) || {};
  return Object.entries(idsBySlug).reduce((result, _ref7) => {
    let [slug, ids] = _ref7;
    const txId = (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_3__.findLast)(ids, id => !(0,_helpers__WEBPACK_IMPORTED_MODULE_6__.getIsTxIdLocal)(id) && !(0,_helpers__WEBPACK_IMPORTED_MODULE_6__.getIsSwapId)(id));
    if (txId) result[slug] = txId;
    return result;
  }, {});
}
function selectAccountSettings(global, accountId) {
  return global.settings.byAccountId[accountId];
}
function selectIsHardwareAccount(global) {
  const state = selectAccount(global, global.currentAccountId);
  return state === null || state === void 0 ? void 0 : state.isHardware;
}
function selectAllHardwareAccounts(global) {
  const accounts = selectAccounts(global);
  if (!accounts) {
    return undefined;
  }
  return Object.values(accounts).filter(account => account.isHardware);
}
function selectIsOneAccount(global) {
  return Object.keys(selectAccounts(global) || {}).length === 1;
}
const selectEnabledTokensCountMemoized = (0,_util_memoized__WEBPACK_IMPORTED_MODULE_4__["default"])(tokens => {
  return (tokens !== null && tokens !== void 0 ? tokens : []).filter(_ref8 => {
    let {
      isDisabled
    } = _ref8;
    return !isDisabled;
  }).length;
});
function selectLedgerAccountIndexToImport(global) {
  var _selectAllHardwareAcc;
  const hardwareAccounts = (_selectAllHardwareAcc = selectAllHardwareAccounts(global)) !== null && _selectAllHardwareAcc !== void 0 ? _selectAllHardwareAcc : [];
  const hardwareAccountIndexes = hardwareAccounts === null || hardwareAccounts === void 0 ? void 0 : hardwareAccounts.map(account => account.ledger.index).sort((a, b) => a - b);
  if (hardwareAccountIndexes.length === 0 || hardwareAccountIndexes[0] !== 0) {
    return -1;
  }
  if (hardwareAccountIndexes.length === 1) {
    return 0;
  }
  for (let i = 1; i < hardwareAccountIndexes.length; i++) {
    if (hardwareAccountIndexes[i] - hardwareAccountIndexes[i - 1] !== 1) {
      return i - 1;
    }
  }
  return hardwareAccountIndexes.length - 1;
}
function selectLocalTransactions(global, accountId) {
  var _global$byAccountId, _accountState$activit;
  const accountState = (_global$byAccountId = global.byAccountId) === null || _global$byAccountId === void 0 ? void 0 : _global$byAccountId[accountId];
  return accountState === null || accountState === void 0 || (_accountState$activit = accountState.activities) === null || _accountState$activit === void 0 ? void 0 : _accountState$activit.localTransactions;
}
function selectIsPasswordPresent(global) {
  return !!selectFirstNonHardwareAccount(global);
}
function selectAccountIdByAddress(global, address) {
  const accounts = selectAccounts(global);
  if (!accounts) return undefined;
  const requiredAccount = Object.entries(accounts).find(_ref9 => {
    let [accountId, account] = _ref9;
    return account.address === address ? accountId : undefined;
  });
  return requiredAccount === null || requiredAccount === void 0 ? void 0 : requiredAccount[0];
}
function selectTokenAddress(global, slug) {
  if (slug === _config__WEBPACK_IMPORTED_MODULE_0__.TONCOIN_SLUG) return undefined;
  return Object.values(global.tokenInfo.bySlug).find(token => slug === token.slug).minterAddress;
}
function selectCurrentAccountStakingStatus(global) {
  var _accountState$staking;
  const accountState = selectCurrentAccountState(global);
  return accountState !== null && accountState !== void 0 && (_accountState$staking = accountState.staking) !== null && _accountState$staking !== void 0 && _accountState$staking.balance ? accountState.staking.isUnstakeRequested ? 'unstakeRequested' : 'active' : undefined;
}

// Slow, not to be used in `withGlobal`
function selectVestingPartsReadyToUnfreeze(global, accountId) {
  var _selectAccountState4;
  const vesting = ((_selectAccountState4 = selectAccountState(global, accountId)) === null || _selectAccountState4 === void 0 || (_selectAccountState4 = _selectAccountState4.vesting) === null || _selectAccountState4 === void 0 ? void 0 : _selectAccountState4.info) || [];
  return vesting.reduce((acc, currentVesting) => {
    currentVesting.parts.forEach(part => {
      if (part.status === 'ready') {
        acc.push({
          id: currentVesting.id,
          partId: part.id
        });
      }
    });
    return acc;
  }, []);
}
function selectMycoin(global) {
  const {
    isTestnet
  } = global.settings;
  return global.tokenInfo.bySlug[isTestnet ? _config__WEBPACK_IMPORTED_MODULE_0__.MYCOIN_SLUG_TESTNET : _config__WEBPACK_IMPORTED_MODULE_0__.MYCOIN_SLUG];
}

/***/ }),

/***/ "./src/global/types.ts":
/*!*****************************!*\
  !*** ./src/global/types.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ActiveTab: () => (/* binding */ ActiveTab),
/* harmony export */   AppState: () => (/* binding */ AppState),
/* harmony export */   AuthState: () => (/* binding */ AuthState),
/* harmony export */   BiometricsState: () => (/* binding */ BiometricsState),
/* harmony export */   ContentTab: () => (/* binding */ ContentTab),
/* harmony export */   DappConnectState: () => (/* binding */ DappConnectState),
/* harmony export */   HardwareConnectState: () => (/* binding */ HardwareConnectState),
/* harmony export */   LoadMoreDirection: () => (/* binding */ LoadMoreDirection),
/* harmony export */   MediaType: () => (/* binding */ MediaType),
/* harmony export */   SettingsState: () => (/* binding */ SettingsState),
/* harmony export */   StakingState: () => (/* binding */ StakingState),
/* harmony export */   SwapErrorType: () => (/* binding */ SwapErrorType),
/* harmony export */   SwapFeeSource: () => (/* binding */ SwapFeeSource),
/* harmony export */   SwapInputSource: () => (/* binding */ SwapInputSource),
/* harmony export */   SwapState: () => (/* binding */ SwapState),
/* harmony export */   SwapType: () => (/* binding */ SwapType),
/* harmony export */   TransferState: () => (/* binding */ TransferState),
/* harmony export */   VestingUnfreezeState: () => (/* binding */ VestingUnfreezeState)
/* harmony export */ });
let AppState = /*#__PURE__*/function (AppState) {
  AppState[AppState["Auth"] = 0] = "Auth";
  AppState[AppState["Main"] = 1] = "Main";
  AppState[AppState["Settings"] = 2] = "Settings";
  AppState[AppState["Ledger"] = 3] = "Ledger";
  AppState[AppState["Inactive"] = 4] = "Inactive";
  return AppState;
}({});
let AuthState = /*#__PURE__*/function (AuthState) {
  AuthState[AuthState["none"] = 0] = "none";
  AuthState[AuthState["createWallet"] = 1] = "createWallet";
  AuthState[AuthState["checkPassword"] = 2] = "checkPassword";
  AuthState[AuthState["createPin"] = 3] = "createPin";
  AuthState[AuthState["confirmPin"] = 4] = "confirmPin";
  AuthState[AuthState["createBiometrics"] = 5] = "createBiometrics";
  AuthState[AuthState["confirmBiometrics"] = 6] = "confirmBiometrics";
  AuthState[AuthState["createNativeBiometrics"] = 7] = "createNativeBiometrics";
  AuthState[AuthState["createPassword"] = 8] = "createPassword";
  AuthState[AuthState["createBackup"] = 9] = "createBackup";
  AuthState[AuthState["disclaimerAndBackup"] = 10] = "disclaimerAndBackup";
  AuthState[AuthState["importWalletCheckPassword"] = 11] = "importWalletCheckPassword";
  AuthState[AuthState["importWallet"] = 12] = "importWallet";
  AuthState[AuthState["importWalletCreatePin"] = 13] = "importWalletCreatePin";
  AuthState[AuthState["importWalletConfirmPin"] = 14] = "importWalletConfirmPin";
  AuthState[AuthState["importWalletCreateNativeBiometrics"] = 15] = "importWalletCreateNativeBiometrics";
  AuthState[AuthState["importWalletCreateBiometrics"] = 16] = "importWalletCreateBiometrics";
  AuthState[AuthState["importWalletConfirmBiometrics"] = 17] = "importWalletConfirmBiometrics";
  AuthState[AuthState["importWalletCreatePassword"] = 18] = "importWalletCreatePassword";
  AuthState[AuthState["disclaimer"] = 19] = "disclaimer";
  AuthState[AuthState["ready"] = 20] = "ready";
  AuthState[AuthState["about"] = 21] = "about";
  return AuthState;
}({});
let BiometricsState = /*#__PURE__*/function (BiometricsState) {
  BiometricsState[BiometricsState["None"] = 0] = "None";
  BiometricsState[BiometricsState["TurnOnPasswordConfirmation"] = 1] = "TurnOnPasswordConfirmation";
  BiometricsState[BiometricsState["TurnOnRegistration"] = 2] = "TurnOnRegistration";
  BiometricsState[BiometricsState["TurnOnVerification"] = 3] = "TurnOnVerification";
  BiometricsState[BiometricsState["TurnOnComplete"] = 4] = "TurnOnComplete";
  BiometricsState[BiometricsState["TurnOffWarning"] = 5] = "TurnOffWarning";
  BiometricsState[BiometricsState["TurnOffBiometricConfirmation"] = 6] = "TurnOffBiometricConfirmation";
  BiometricsState[BiometricsState["TurnOffCreatePassword"] = 7] = "TurnOffCreatePassword";
  BiometricsState[BiometricsState["TurnOffComplete"] = 8] = "TurnOffComplete";
  return BiometricsState;
}({});
let TransferState = /*#__PURE__*/function (TransferState) {
  TransferState[TransferState["None"] = 0] = "None";
  TransferState[TransferState["WarningHardware"] = 1] = "WarningHardware";
  TransferState[TransferState["Initial"] = 2] = "Initial";
  TransferState[TransferState["Confirm"] = 3] = "Confirm";
  TransferState[TransferState["Password"] = 4] = "Password";
  TransferState[TransferState["ConnectHardware"] = 5] = "ConnectHardware";
  TransferState[TransferState["ConfirmHardware"] = 6] = "ConfirmHardware";
  TransferState[TransferState["Complete"] = 7] = "Complete";
  return TransferState;
}({});
let SwapState = /*#__PURE__*/function (SwapState) {
  SwapState[SwapState["None"] = 0] = "None";
  SwapState[SwapState["Initial"] = 1] = "Initial";
  SwapState[SwapState["Blockchain"] = 2] = "Blockchain";
  SwapState[SwapState["Password"] = 3] = "Password";
  SwapState[SwapState["WaitTokens"] = 4] = "WaitTokens";
  SwapState[SwapState["ConnectHardware"] = 5] = "ConnectHardware";
  SwapState[SwapState["ConfirmHardware"] = 6] = "ConfirmHardware";
  SwapState[SwapState["Complete"] = 7] = "Complete";
  SwapState[SwapState["SelectTokenFrom"] = 8] = "SelectTokenFrom";
  SwapState[SwapState["SelectTokenTo"] = 9] = "SelectTokenTo";
  return SwapState;
}({});
let SwapFeeSource = /*#__PURE__*/function (SwapFeeSource) {
  SwapFeeSource[SwapFeeSource["In"] = 0] = "In";
  SwapFeeSource[SwapFeeSource["Out"] = 1] = "Out";
  return SwapFeeSource;
}({});
let SwapInputSource = /*#__PURE__*/function (SwapInputSource) {
  SwapInputSource[SwapInputSource["In"] = 0] = "In";
  SwapInputSource[SwapInputSource["Out"] = 1] = "Out";
  return SwapInputSource;
}({});
let SwapErrorType = /*#__PURE__*/function (SwapErrorType) {
  SwapErrorType[SwapErrorType["UnexpectedError"] = 0] = "UnexpectedError";
  SwapErrorType[SwapErrorType["InvalidPair"] = 1] = "InvalidPair";
  SwapErrorType[SwapErrorType["NotEnoughLiquidity"] = 2] = "NotEnoughLiquidity";
  SwapErrorType[SwapErrorType["ChangellyMinSwap"] = 3] = "ChangellyMinSwap";
  SwapErrorType[SwapErrorType["ChangellyMaxSwap"] = 4] = "ChangellyMaxSwap";
  SwapErrorType[SwapErrorType["NotEnoughForFee"] = 5] = "NotEnoughForFee";
  SwapErrorType[SwapErrorType["TooSmallAmount"] = 6] = "TooSmallAmount";
  return SwapErrorType;
}({});
let SwapType = /*#__PURE__*/function (SwapType) {
  SwapType[SwapType["OnChain"] = 0] = "OnChain";
  SwapType[SwapType["CrosschainFromToncoin"] = 1] = "CrosschainFromToncoin";
  SwapType[SwapType["CrosschainToToncoin"] = 2] = "CrosschainToToncoin";
  return SwapType;
}({});
let DappConnectState = /*#__PURE__*/function (DappConnectState) {
  DappConnectState[DappConnectState["Info"] = 0] = "Info";
  DappConnectState[DappConnectState["Password"] = 1] = "Password";
  DappConnectState[DappConnectState["ConnectHardware"] = 2] = "ConnectHardware";
  DappConnectState[DappConnectState["ConfirmHardware"] = 3] = "ConfirmHardware";
  return DappConnectState;
}({});
let HardwareConnectState = /*#__PURE__*/function (HardwareConnectState) {
  HardwareConnectState[HardwareConnectState["Connect"] = 0] = "Connect";
  HardwareConnectState[HardwareConnectState["Connecting"] = 1] = "Connecting";
  HardwareConnectState[HardwareConnectState["Failed"] = 2] = "Failed";
  HardwareConnectState[HardwareConnectState["ConnectedWithSeveralWallets"] = 3] = "ConnectedWithSeveralWallets";
  HardwareConnectState[HardwareConnectState["ConnectedWithSingleWallet"] = 4] = "ConnectedWithSingleWallet";
  HardwareConnectState[HardwareConnectState["WaitingForBrowser"] = 5] = "WaitingForBrowser";
  return HardwareConnectState;
}({});
let StakingState = /*#__PURE__*/function (StakingState) {
  StakingState[StakingState["None"] = 0] = "None";
  StakingState[StakingState["StakeInitial"] = 1] = "StakeInitial";
  StakingState[StakingState["StakePassword"] = 2] = "StakePassword";
  StakingState[StakingState["StakeConnectHardware"] = 3] = "StakeConnectHardware";
  StakingState[StakingState["StakeConfirmHardware"] = 4] = "StakeConfirmHardware";
  StakingState[StakingState["StakeComplete"] = 5] = "StakeComplete";
  StakingState[StakingState["UnstakeInitial"] = 6] = "UnstakeInitial";
  StakingState[StakingState["UnstakePassword"] = 7] = "UnstakePassword";
  StakingState[StakingState["UnstakeConnectHardware"] = 8] = "UnstakeConnectHardware";
  StakingState[StakingState["UnstakeConfirmHardware"] = 9] = "UnstakeConfirmHardware";
  StakingState[StakingState["UnstakeComplete"] = 10] = "UnstakeComplete";
  StakingState[StakingState["NotEnoughBalance"] = 11] = "NotEnoughBalance";
  return StakingState;
}({});
let VestingUnfreezeState = /*#__PURE__*/function (VestingUnfreezeState) {
  VestingUnfreezeState[VestingUnfreezeState["Password"] = 0] = "Password";
  VestingUnfreezeState[VestingUnfreezeState["ConnectHardware"] = 1] = "ConnectHardware";
  VestingUnfreezeState[VestingUnfreezeState["ConfirmHardware"] = 2] = "ConfirmHardware";
  return VestingUnfreezeState;
}({});
let SettingsState = /*#__PURE__*/function (SettingsState) {
  SettingsState[SettingsState["Initial"] = 0] = "Initial";
  SettingsState[SettingsState["Appearance"] = 1] = "Appearance";
  SettingsState[SettingsState["Assets"] = 2] = "Assets";
  SettingsState[SettingsState["Dapps"] = 3] = "Dapps";
  SettingsState[SettingsState["Language"] = 4] = "Language";
  SettingsState[SettingsState["About"] = 5] = "About";
  SettingsState[SettingsState["Disclaimer"] = 6] = "Disclaimer";
  SettingsState[SettingsState["NativeBiometricsTurnOn"] = 7] = "NativeBiometricsTurnOn";
  SettingsState[SettingsState["SelectTokenList"] = 8] = "SelectTokenList";
  SettingsState[SettingsState["WalletVersion"] = 9] = "WalletVersion";
  SettingsState[SettingsState["HiddenNfts"] = 10] = "HiddenNfts";
  return SettingsState;
}({});
let ActiveTab = /*#__PURE__*/function (ActiveTab) {
  ActiveTab[ActiveTab["Receive"] = 0] = "Receive";
  ActiveTab[ActiveTab["Transfer"] = 1] = "Transfer";
  ActiveTab[ActiveTab["Swap"] = 2] = "Swap";
  ActiveTab[ActiveTab["Stake"] = 3] = "Stake";
  return ActiveTab;
}({});
let ContentTab = /*#__PURE__*/function (ContentTab) {
  ContentTab[ContentTab["Assets"] = 0] = "Assets";
  ContentTab[ContentTab["Activity"] = 1] = "Activity";
  ContentTab[ContentTab["Explore"] = 2] = "Explore";
  ContentTab[ContentTab["Nft"] = 3] = "Nft";
  ContentTab[ContentTab["NotcoinVouchers"] = 4] = "NotcoinVouchers";
  return ContentTab;
}({});
let MediaType = /*#__PURE__*/function (MediaType) {
  MediaType[MediaType["Nft"] = 0] = "Nft";
  return MediaType;
}({});
let LoadMoreDirection = /*#__PURE__*/function (LoadMoreDirection) {
  LoadMoreDirection[LoadMoreDirection["Forwards"] = 0] = "Forwards";
  LoadMoreDirection[LoadMoreDirection["Backwards"] = 1] = "Backwards";
  return LoadMoreDirection;
}({});

/***/ }),

/***/ "./src/hooks/freezeWhenClosed.ts":
/*!***************************************!*\
  !*** ./src/hooks/freezeWhenClosed.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ freezeWhenClosed)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

function freezeWhenClosed(Component) {
  function ComponentWrapper(props) {
    const newProps = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(props);
    if (props.isOpen) {
      newProps.current = props;
    } else {
      newProps.current = {
        ...newProps.current,
        isOpen: false
      };
    }
    return Component(newProps.current);
  }
  return ComponentWrapper;
}

/***/ }),

/***/ "./src/hooks/useAsyncResolvers.ts":
/*!****************************************!*\
  !*** ./src/hooks/useAsyncResolvers.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useThrottledSignal: () => (/* binding */ useThrottledSignal)
/* harmony export */ });
/* unused harmony exports useThrottledResolver, useDebouncedResolver, useDebouncedSignal */
/* harmony import */ var _useDebouncedCallback__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useDebouncedCallback */ "./src/hooks/useDebouncedCallback.ts");
/* harmony import */ var _useDerivedSignal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useDerivedSignal */ "./src/hooks/useDerivedSignal.ts");
/* harmony import */ var _useThrottledCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useThrottledCallback */ "./src/hooks/useThrottledCallback.ts");



function useThrottledResolver(resolver, deps, msOrSchedulerFn) {
  let noFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  return (0,_useThrottledCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(setValue => {
    setValue(resolver());
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, deps, msOrSchedulerFn, noFirst);
}
function useThrottledSignal(getValue, ms) {
  let noFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const throttledResolver = useThrottledResolver(() => getValue(), [getValue], ms, noFirst);
  return (0,_useDerivedSignal__WEBPACK_IMPORTED_MODULE_1__["default"])(throttledResolver, [throttledResolver, getValue], true);
}
function useDebouncedResolver(resolver, deps, ms) {
  let noFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  let noLast = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  return (0,_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_0__["default"])(setValue => {
    setValue(resolver());
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, deps, ms, noFirst, noLast);
}
function useDebouncedSignal(getValue, ms) {
  let noFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let noLast = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const debouncedResolver = useDebouncedResolver(() => getValue(), [getValue], ms, noFirst, noLast);
  return (0,_useDerivedSignal__WEBPACK_IMPORTED_MODULE_1__["default"])(debouncedResolver, [debouncedResolver, getValue], true);
}

/***/ }),

/***/ "./src/hooks/useBackgroundMode.ts":
/*!****************************************!*\
  !*** ./src/hooks/useBackgroundMode.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useBackgroundMode),
/* harmony export */   isBackgroundModeActive: () => (/* binding */ isBackgroundModeActive)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_callbacks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/callbacks */ "./src/util/callbacks.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");



const blurCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
const focusCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
let isFocused = document.hasFocus();
window.addEventListener('blur', () => {
  if (!isFocused) {
    return;
  }
  isFocused = false;
  blurCallbacks.runCallbacks();
});
window.addEventListener('focus', () => {
  isFocused = true;
  focusCallbacks.runCallbacks();
});
function useBackgroundMode(onBlur, onFocus) {
  let isDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const lastOnBlur = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onBlur);
  const lastOnFocus = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onFocus);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isDisabled) {
      return undefined;
    }
    if (!isFocused) {
      lastOnBlur();
    }
    blurCallbacks.addCallback(lastOnBlur);
    focusCallbacks.addCallback(lastOnFocus);
    return () => {
      focusCallbacks.removeCallback(lastOnFocus);
      blurCallbacks.removeCallback(lastOnBlur);
    };
  }, [isDisabled, lastOnBlur, lastOnFocus]);
}
function isBackgroundModeActive() {
  return !isFocused;
}

/***/ }),

/***/ "./src/hooks/useBrowserUiColor.ts":
/*!****************************************!*\
  !*** ./src/hooks/useBrowserUiColor.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useBrowserUiColor)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

function useBrowserUiColor(_ref) {
  let {
    isActive,
    currentTheme,
    lightColor,
    darkColor
  } = _ref;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const metaElementLight = getThemeColorMetaElement(true);
    const metaElementDark = getThemeColorMetaElement();
    const lightContent = currentTheme === 'dark' ? darkColor : lightColor;
    const darkContent = currentTheme === 'light' ? lightColor : darkColor;
    if (isActive) {
      metaElementLight.setAttribute('content', lightContent);
      metaElementDark.setAttribute('content', darkContent);
    }
    return () => {
      metaElementLight.remove();
      metaElementDark.remove();
    };
  }, [lightColor, isActive, darkColor, currentTheme]);
}
function getThemeColorMetaElement(isLight) {
  let metaThemeColor = document.querySelector(`meta[name="theme-color"][media="(prefers-color-scheme: ${isLight ? 'light' : 'dark'})"]`);
  if (!metaThemeColor) {
    metaThemeColor = document.createElement('meta');
    metaThemeColor.setAttribute('name', 'theme-color');
    metaThemeColor.setAttribute('media', `(prefers-color-scheme: ${isLight ? 'light' : 'dark'})`);
    document.getElementsByTagName('head')[0].appendChild(metaThemeColor);
  }
  return metaThemeColor;
}

/***/ }),

/***/ "./src/hooks/useClipboardPaste.ts":
/*!****************************************!*\
  !*** ./src/hooks/useClipboardPaste.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const MAX_MESSAGE_LENGTH = 4096;
const useClipboardPaste = (isActive, onPaste) => {
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!isActive) {
      return undefined;
    }
    function handlePaste(e) {
      if (!e.clipboardData) {
        return;
      }
      const pastedText = e.clipboardData.getData('text').substring(0, MAX_MESSAGE_LENGTH);
      if (!pastedText) {
        return;
      }
      e.preventDefault();
      onPaste(pastedText);
    }
    document.addEventListener('paste', handlePaste, false);
    return () => {
      document.removeEventListener('paste', handlePaste, false);
    };
  }, [isActive, onPaste]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useClipboardPaste);

/***/ }),

/***/ "./src/hooks/useCurrentOrPrev.ts":
/*!***************************************!*\
  !*** ./src/hooks/useCurrentOrPrev.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useCurrentOrPrev)
/* harmony export */ });
/* harmony import */ var _usePrevious__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./usePrevious */ "./src/hooks/usePrevious.ts");

function useCurrentOrPrev(current) {
  let shouldSkipUndefined = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  let shouldForceCurrent = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const prev = (0,_usePrevious__WEBPACK_IMPORTED_MODULE_0__["default"])(current, shouldSkipUndefined);

  // eslint-disable-next-line no-null/no-null
  return shouldForceCurrent || current !== null && current !== undefined ? current : prev;
}

/***/ }),

/***/ "./src/hooks/useDebouncedCallback.ts":
/*!*******************************************!*\
  !*** ./src/hooks/useDebouncedCallback.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useDebouncedCallback)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");


function useDebouncedCallback(fn, deps, ms) {
  let noFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  let noLast = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  const fnMemo = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(fn, deps);
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    return (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.debounce)(fnMemo, ms, !noFirst, !noLast);
  }, [fnMemo, ms, noFirst, noLast]);
}

/***/ }),

/***/ "./src/hooks/useDelegatedBottomSheet.ts":
/*!**********************************************!*\
  !*** ./src/hooks/useDelegatedBottomSheet.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useDelegatedBottomSheet: () => (/* binding */ useDelegatedBottomSheet),
/* harmony export */   useOpenFromMainBottomSheet: () => (/* binding */ useOpenFromMainBottomSheet)
/* harmony export */ });
/* unused harmony export openInMain */
/* harmony import */ var capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! capacitor-plugin-safe-area */ "./node_modules/capacitor-plugin-safe-area/dist/esm/index.js");
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _util_bigint__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/bigint */ "./src/util/bigint.ts");
/* harmony import */ var _util_cssColorToHex__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../util/cssColorToHex */ "./src/util/cssColorToHex.ts");
/* harmony import */ var _util_switchTheme__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/switchTheme */ "./src/util/switchTheme.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");
/* harmony import */ var _useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");











const BLUR_TIMEOUT = 50;
const COMPACT_MODAL_CSS_SELECTOR = '.is-compact-modal';
const controlledByMain = new Map();
const textInputTypes = new Set(['color', 'date', 'datetime-local', 'email', 'month', 'number', 'password', 'search', 'tel', 'text', 'time', 'url', 'week']);
let safeAreaCache;
const safeArePromise = capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_0__.SafeArea.getSafeAreaInsets().then(_ref => {
  let {
    insets
  } = _ref;
  safeAreaCache = insets;
  return safeAreaCache;
});
let currentKey;
if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET) {
  native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.addListener('delegate', _ref2 => {
    var _controlledByMain$get;
    let {
      key,
      globalJson
    } = _ref2;
    currentKey = key;
    (_controlledByMain$get = controlledByMain.get(key)) === null || _controlledByMain$get === void 0 ? void 0 : _controlledByMain$get();
    (0,_global__WEBPACK_IMPORTED_MODULE_4__.setGlobal)(JSON.parse(globalJson, _util_bigint__WEBPACK_IMPORTED_MODULE_5__.bigintReviver), {
      forceOutdated: true,
      forceSyncOnIOs: true
    });
  });
  native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.addListener('move', () => {
    window.dispatchEvent(new Event('viewportmove'));
  });
}
function useDelegatedBottomSheet(key, isOpen, onClose, dialogRef) {
  let forceFullNative = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  let noResetHeightOnBlur = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  (0,_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_10__["default"])(_ref3 => {
    let [prevIsOpen] = _ref3;
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET || !key || key !== currentKey) return;
    if (isOpen) {
      const dialogEl = dialogRef.current;
      native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.openSelf({
        key,
        height: String(dialogEl.offsetHeight),
        backgroundColor: (0,_util_cssColorToHex__WEBPACK_IMPORTED_MODULE_6__["default"])(getComputedStyle(dialogEl).backgroundColor)
      }).then(() => {
        (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_3__.forceOnHeavyAnimationOnce)();
        onClose();
      });
    } else if (prevIsOpen) {
      native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.closeSelf({
        key
      });
      (0,_util_switchTheme__WEBPACK_IMPORTED_MODULE_7__.setStatusBarStyle)();
    }
  }, [isOpen, dialogRef, key, onClose]);
  const isDelegatedAndOpen = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET && key && isOpen;
  const {
    screenHeight
  } = (0,_useDeviceScreen__WEBPACK_IMPORTED_MODULE_9__.useDeviceScreen)();
  const [safeArea, setSafeArea] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useState)(safeAreaCache);
  safeArePromise.then(setSafeArea);
  // We use Safe Area plugin instead of CSS `env()` function as it does not depend on modal position
  const maxHeight = screenHeight - ((safeArea === null || safeArea === void 0 ? void 0 : safeArea.top) || 0);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(() => {
    if (!isDelegatedAndOpen) return;
    dialogRef.current.style[forceFullNative ? 'maxHeight' : 'height'] = '';
    dialogRef.current.style[forceFullNative ? 'height' : 'maxHeight'] = `${maxHeight}px`;
  }, [dialogRef, forceFullNative, isDelegatedAndOpen, maxHeight]);
  (0,_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_10__["default"])(_ref4 => {
    let [prevForceFullNative] = _ref4;
    if (!isDelegatedAndOpen) return;

    // Skip initial opening
    if (forceFullNative !== undefined && prevForceFullNative === undefined) return;
    native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.toggleSelfFullSize({
      isFullSize: forceFullNative
    });
  }, [forceFullNative, isDelegatedAndOpen]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(() => {
    if (!isDelegatedAndOpen) return undefined;
    const dialogEl = dialogRef.current;
    let blurTimeout;
    function onFocus(e) {
      if (!isInput(e.target)) {
        return;
      }
      if (blurTimeout) {
        clearTimeout(blurTimeout);
        blurTimeout = undefined;
        return;
      }
      preventScrollOnFocus(dialogEl);
      native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.toggleSelfFullSize({
        isFullSize: true
      });
    }
    function onBlur(e) {
      if (!isInput(e.target) || noResetHeightOnBlur || forceFullNative || isInCompactModal(e.target)) {
        return;
      }
      blurTimeout = window.setTimeout(() => {
        blurTimeout = undefined;
        native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.toggleSelfFullSize({
          isFullSize: false
        });
      }, BLUR_TIMEOUT);
    }
    document.addEventListener('focusin', onFocus);
    document.addEventListener('focusout', onBlur);
    return () => {
      document.removeEventListener('focusout', onBlur);
      document.removeEventListener('focusin', onFocus);
    };
  }, [dialogRef, forceFullNative, isDelegatedAndOpen, noResetHeightOnBlur]);
}
function useOpenFromMainBottomSheet(key, open) {
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_2__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_8__.IS_DELEGATED_BOTTOM_SHEET) return undefined;
    controlledByMain.set(key, open);
    if (currentKey === key) {
      open();
    }
    return () => {
      if (controlledByMain.get(key) === open) {
        controlledByMain.delete(key);
      }
    };
  }, [key, open]);
}
function openInMain(key) {
  native_bottom_sheet__WEBPACK_IMPORTED_MODULE_1__.BottomSheet.openInMain({
    key
  });
}
function isInput(el) {
  if (!el || !(el instanceof HTMLElement)) return false;
  return el.tagName === 'INPUT' && textInputTypes.has(el.type) || el.tagName === 'TEXTAREA' || el.tagName === 'DIV' && el.isContentEditable;
}
function isInCompactModal(el) {
  if (!el || !(el instanceof HTMLElement)) return false;
  return el.matches(COMPACT_MODAL_CSS_SELECTOR) || !!el.closest('.is-compact-modal');
}
function preventScrollOnFocus(el) {
  el.style.opacity = '0';
  setTimeout(() => {
    el.style.opacity = '1';
  });
  document.documentElement.scrollTop = 0;
}

/***/ }),

/***/ "./src/hooks/useDelegatingBottomSheet.ts":
/*!***********************************************!*\
  !*** ./src/hooks/useDelegatingBottomSheet.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useDelegatingBottomSheet: () => (/* binding */ useDelegatingBottomSheet),
/* harmony export */   useOpenFromNativeBottomSheet: () => (/* binding */ useOpenFromNativeBottomSheet)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useEffectWithPrevDeps */ "./src/hooks/useEffectWithPrevDeps.ts");







const RACE_TIMEOUT = 1000;
const CLOSING_DURATION = 100;
const controlledByNative = new Map();
if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATING_BOTTOM_SHEET) {
  native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.prepare();
  native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.addListener('openInMain', _ref => {
    var _controlledByNative$g;
    let {
      key
    } = _ref;
    (_controlledByNative$g = controlledByNative.get(key)) === null || _controlledByNative$g === void 0 ? void 0 : _controlledByNative$g();
  });
}
let lastOpenCall = Promise.resolve();
let closeCurrent;
function useDelegatingBottomSheet(key, isPortrait, isOpen, onClose) {
  const isDelegating = _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATING_BOTTOM_SHEET && key;
  const shouldOpen = isOpen && isPortrait;
  (0,_useEffectWithPrevDeps__WEBPACK_IMPORTED_MODULE_6__["default"])(_ref2 => {
    let [prevShouldOpen] = _ref2;
    if (!isDelegating) return;
    if (shouldOpen) {
      var _closeCurrent;
      (_closeCurrent = closeCurrent) === null || _closeCurrent === void 0 ? void 0 : _closeCurrent();
      const closeNext = () => {
        (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_2__.forceOnHeavyAnimationOnce)();
        onClose();
      };
      closeCurrent = closeNext;

      // Wait until previous call resolves to get an up-to-date global
      lastOpenCall = Promise.race([lastOpenCall, (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.pause)(RACE_TIMEOUT) // Sometimes the last open call is stuck for some unknown reason
      ]).then(() => {
        return native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.delegate({
          key,
          globalJson: JSON.stringify((0,_global__WEBPACK_IMPORTED_MODULE_3__.getGlobal)())
        });
      }).then(() => {
        if (closeCurrent === closeNext) {
          closeCurrent();
          closeCurrent = undefined;
        }
      }).then(() => (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.pause)(CLOSING_DURATION));
    } else if (prevShouldOpen) {
      native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.release({
        key
      });
    }
  }, [shouldOpen, isDelegating, key, onClose]);
  return isDelegating && isPortrait;
}
function useOpenFromNativeBottomSheet(key, open) {
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_DELEGATING_BOTTOM_SHEET) return undefined;
    controlledByNative.set(key, open);
    return () => {
      if (controlledByNative.get(key) === open) {
        controlledByNative.delete(key);
      }
    };
  }, [key, open]);
}

/***/ }),

/***/ "./src/hooks/useDerivedSignal.ts":
/*!***************************************!*\
  !*** ./src/hooks/useDerivedSignal.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _useSignal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useSignal */ "./src/hooks/useSignal.ts");
/* harmony import */ var _useSignalEffect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useSignalEffect */ "./src/hooks/useSignalEffect.ts");
/* harmony import */ var _useStateRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useStateRef */ "./src/hooks/useStateRef.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");




function useDerivedSignal(resolverOrDependency, dependencies) {
  var _dependencies;
  let isAsync = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const resolver = dependencies ? resolverOrDependency : () => resolverOrDependency;
  (_dependencies = dependencies) !== null && _dependencies !== void 0 ? _dependencies : dependencies = [resolverOrDependency];
  const [getValue, setValue] = (0,_useSignal__WEBPACK_IMPORTED_MODULE_0__["default"])();
  const resolverRef = (0,_useStateRef__WEBPACK_IMPORTED_MODULE_2__.useStateRef)(resolver);
  function runCurrentResolver() {
    const currentResolver = resolverRef.current;
    if (isAsync) {
      currentResolver(setValue);
    } else {
      setValue(currentResolver());
    }
  }

  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_3__["default"])(runCurrentResolver, dependencies);

  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  (0,_useSignalEffect__WEBPACK_IMPORTED_MODULE_1__.useSignalEffect)(runCurrentResolver, dependencies);
  return getValue;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDerivedSignal);

/***/ }),

/***/ "./src/hooks/useDerivedState.ts":
/*!**************************************!*\
  !*** ./src/hooks/useDerivedState.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useForceUpdate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _useSignalEffect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useSignalEffect */ "./src/hooks/useSignalEffect.ts");
/* harmony import */ var _useStateRef__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useStateRef */ "./src/hooks/useStateRef.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");





function useDerivedState(resolverOrSignal, dependencies) {
  var _dependencies;
  let isAsync = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const resolver = dependencies ? resolverOrSignal : () => resolverOrSignal();
  (_dependencies = dependencies) !== null && _dependencies !== void 0 ? _dependencies : dependencies = [resolverOrSignal];
  const valueRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const forceUpdate = (0,_useForceUpdate__WEBPACK_IMPORTED_MODULE_1__["default"])();
  const resolverRef = (0,_useStateRef__WEBPACK_IMPORTED_MODULE_3__.useStateRef)(resolver);
  function runCurrentResolver() {
    let isSync = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    const currentResolver = resolverRef.current;
    if (isAsync) {
      currentResolver(newValue => {
        if (valueRef.current !== newValue) {
          valueRef.current = newValue;
          forceUpdate();
        }
      });
    } else {
      const newValue = currentResolver();
      if (valueRef.current !== newValue) {
        valueRef.current = newValue;
        if (!isSync) {
          forceUpdate();
        }
      }
    }
  }
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    runCurrentResolver(true);
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, dependencies);

  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  (0,_useSignalEffect__WEBPACK_IMPORTED_MODULE_2__.useSignalEffect)(runCurrentResolver, dependencies);
  return valueRef.current;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useDerivedState);

/***/ }),

/***/ "./src/hooks/useDeviceScreen.ts":
/*!**************************************!*\
  !*** ./src/hooks/useDeviceScreen.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getIsLandscape: () => (/* binding */ getIsLandscape),
/* harmony export */   getIsPortrait: () => (/* binding */ getIsPortrait),
/* harmony export */   useDeviceScreen: () => (/* binding */ useDeviceScreen)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _useMediaQuery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useMediaQuery */ "./src/hooks/useMediaQuery.ts");


let isPortrait;
function useDeviceScreen() {
  isPortrait = (0,_useMediaQuery__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)(`(max-width: ${_config__WEBPACK_IMPORTED_MODULE_0__.MOBILE_SCREEN_MAX_WIDTH - 0.02}px)`);
  const isSmallHeight = (0,_useMediaQuery__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)('(max-height: 43.5rem)');
  return {
    isPortrait,
    isSmallHeight,
    isLandscape: !isPortrait,
    screenHeight: window.screen.height
  };
}
function getIsPortrait() {
  return isPortrait;
}
function getIsLandscape() {
  return !isPortrait;
}

/***/ }),

/***/ "./src/hooks/useEffectOnce.ts":
/*!************************************!*\
  !*** ./src/hooks/useEffectOnce.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

function useEffectOnce(effect) {
  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(effect, []);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useEffectOnce);

/***/ }),

/***/ "./src/hooks/useEffectWithPrevDeps.ts":
/*!********************************************!*\
  !*** ./src/hooks/useEffectWithPrevDeps.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const useEffectWithPrevDeps = (cb, dependencies, debugKey) => {
  const prevDepsRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const prevDeps = prevDepsRef.current;
    prevDepsRef.current = dependencies;
    return cb(prevDeps || []);
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, dependencies, debugKey);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useEffectWithPrevDeps);

/***/ }),

/***/ "./src/hooks/useElectronDrag.ts":
/*!**************************************!*\
  !*** ./src/hooks/useElectronDrag.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");


const DRAG_DISTANCE_THRESHOLD = 5;
const useElectronDrag = ref => {
  const isDragging = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const x = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(window.screenX);
  const y = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(window.screenY);
  const distance = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const element = ref.current;
    if (!element || !(_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_ELECTRON && _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_MAC_OS)) return undefined;
    const handleClick = event => {
      distance.current = 0;
      if (isDragging.current) {
        event.preventDefault();
        event.stopPropagation();
        isDragging.current = false;
      }
    };
    const handleMousedown = event => {
      if (isDragging.current) {
        event.preventDefault();
        event.stopPropagation();
      }
    };
    const handleDrag = event => {
      if (event.buttons === 1) {
        distance.current += Math.sqrt((x.current - window.screenX) ** 2 + (y.current - window.screenY) ** 2);
        x.current = window.screenX;
        y.current = window.screenY;
        if (!isDragging.current && distance.current > DRAG_DISTANCE_THRESHOLD) {
          isDragging.current = true;
        }
      }
    };
    const handleDoubleClick = event => {
      if (event.currentTarget === event.target) {
        var _window$electron;
        (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.handleDoubleClick();
      }
    };
    element.addEventListener('click', handleClick);
    element.addEventListener('mousedown', handleMousedown);
    element.addEventListener('mousemove', handleDrag);
    element.addEventListener('dblclick', handleDoubleClick);
    return () => {
      element.removeEventListener('click', handleClick);
      element.removeEventListener('mouseup', handleMousedown);
      element.removeEventListener('mousemove', handleDrag);
      element.removeEventListener('dblclick', handleDoubleClick);
    };
  }, [ref]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useElectronDrag);

/***/ }),

/***/ "./src/hooks/useFlag.ts":
/*!******************************!*\
  !*** ./src/hooks/useFlag.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const useFlag = function () {
  let initial = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  let debugKey = arguments.length > 1 ? arguments[1] : undefined;
  const [value, setValue] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(initial, debugKey);
  const setTrue = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    setValue(true);
  }, []);
  const setFalse = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    setValue(false);
  }, []);
  return [value, setTrue, setFalse];
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useFlag);

/***/ }),

/***/ "./src/hooks/useFocusAfterAnimation.tsx":
/*!**********************************************!*\
  !*** ./src/hooks/useFocusAfterAnimation.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useFocusAfterAnimation)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");


const DEFAULT_DURATION = 400;
function useFocusAfterAnimation(ref) {
  let isDisabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  let animationDuration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_DURATION;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_TOUCH_ENV || isDisabled) {
      return;
    }
    setTimeout(() => {
      var _ref$current;
      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.focus();
    }, animationDuration);
  }, [ref, animationDuration, isDisabled]);
}

/***/ }),

/***/ "./src/hooks/useForceUpdate.ts":
/*!*************************************!*\
  !*** ./src/hooks/useForceUpdate.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const useForceUpdate = () => {
  const [, setTrigger] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    setTrigger(trigger => !trigger);
  }, []);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useForceUpdate);

/***/ }),

/***/ "./src/hooks/useHeavyAnimationCheck.ts":
/*!*********************************************!*\
  !*** ./src/hooks/useHeavyAnimationCheck.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   dispatchHeavyAnimationEvent: () => (/* binding */ dispatchHeavyAnimationEvent),
/* harmony export */   isHeavyAnimating: () => (/* binding */ isHeavyAnimating)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_callbacks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/callbacks */ "./src/util/callbacks.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");




// Make sure to end even if end callback was not called (which was some hardly-reproducible bug)
const AUTO_END_TIMEOUT = 1000;
const startCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
const endCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
let timeout;
let isAnimating = false;
const useHeavyAnimationCheck = function (onStart, onEnd) {
  let isDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const lastOnStart = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onStart);
  const lastOnEnd = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onEnd);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isDisabled) {
      return undefined;
    }
    if (isAnimating) {
      lastOnStart();
    }
    startCallbacks.addCallback(lastOnStart);
    endCallbacks.addCallback(lastOnEnd);
    return () => {
      endCallbacks.removeCallback(lastOnEnd);
      startCallbacks.removeCallback(lastOnStart);
    };
  }, [isDisabled, lastOnEnd, lastOnStart]);
};
function isHeavyAnimating() {
  return isAnimating;
}
function dispatchHeavyAnimationEvent() {
  let duration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : AUTO_END_TIMEOUT;
  if (!isAnimating) {
    isAnimating = true;
    startCallbacks.runCallbacks();
  }
  if (timeout) {
    clearTimeout(timeout);
    timeout = undefined;
  }

  // Race condition may happen if another `dispatchHeavyAnimationEvent` is called before `onEnd`
  function onEnd() {
    if (timeout) {
      clearTimeout(timeout);
      timeout = undefined;
    }
    isAnimating = false;
    endCallbacks.runCallbacks();
  }
  timeout = window.setTimeout(onEnd, duration);
  return onEnd;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useHeavyAnimationCheck);

/***/ }),

/***/ "./src/hooks/useHideBrowser.ts":
/*!*************************************!*\
  !*** ./src/hooks/useHideBrowser.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useHideBrowser)
/* harmony export */ });
/* harmony import */ var native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! native-bottom-sheet */ "./mobile/plugins/native-bottom-sheet/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");
/* harmony import */ var _components_ui_InAppBrowser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/ui/InAppBrowser */ "./src/components/ui/InAppBrowser.tsx");






let isBrowserHidden = false;
function useHideBrowser(isOpen, isCompact, onCloseAnimationEnd) {
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (!_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR || _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_DELEGATED_BOTTOM_SHEET || isCompact) return;
    const browser = (0,_components_ui_InAppBrowser__WEBPACK_IMPORTED_MODULE_5__.getInAppBrowser)();
    if (!browser) return;
    if (isOpen && browser && !isBrowserHidden) {
      isBrowserHidden = true;
      browser.hide().then(async () => {
        if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_DELEGATING_BOTTOM_SHEET) {
          await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.enable();
        }
      });
    }
  }, [isCompact, isOpen]);
  return (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(async () => {
    if (!isCompact && isBrowserHidden) {
      if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_DELEGATING_BOTTOM_SHEET) {
        await native_bottom_sheet__WEBPACK_IMPORTED_MODULE_0__.BottomSheet.disable();
      }
      const browser = (0,_components_ui_InAppBrowser__WEBPACK_IMPORTED_MODULE_5__.getInAppBrowser)();
      browser.show();
      isBrowserHidden = false;
    }
    onCloseAnimationEnd === null || onCloseAnimationEnd === void 0 ? void 0 : onCloseAnimationEnd();
  });
}

/***/ }),

/***/ "./src/hooks/useHistoryBack.ts":
/*!*************************************!*\
  !*** ./src/hooks/useHistoryBack.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useHistoryBack)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");







const PATH_BASE = `${window.location.pathname}${window.location.search}`;
// Needed to dismiss any 'trashed' history records from the previous page reloads.
const historyUniqueSessionId = Number(new Date());
// Reflects real history state, but also contains information on which records should be replaced by the next record and
// which records are deferred to close on the next operation
let historyState;
// Reflects current real history index
let historyCursor;
// If we alter real history programmatically, the popstate event will be fired, which we don't need
let isAlteringHistory = false;
// Unfortunately Safari doesn't really like when there's 2+ consequent history operations in one frame, so we need
// to delay them to the next raf
let deferredHistoryOperations = [];
let deferredPopstateOperations = [];

// Do not remove: used for history unit tests
if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_TEST) {
  window.TEST_getHistoryState = () => historyState;
  window.TEST_getHistoryCursor = () => historyCursor;
}
function applyDeferredHistoryOperations() {
  const goOperations = deferredHistoryOperations.filter(op => op.type === 'go');
  const stateOperations = deferredHistoryOperations.filter(op => op.type !== 'go');
  const goCount = goOperations.reduce((acc, op) => acc + op.delta, 0);
  deferredHistoryOperations = [];
  if (goCount) {
    window.history.go(goCount);

    // If we have some `state` operations after the `go` operations, we need to wait until the popstate event
    // so the order of operations is correctly preserved
    if (stateOperations.length) {
      deferredPopstateOperations.push(...stateOperations);
      return;
    }
  }
  processStateOperations(stateOperations);
}
function processStateOperations(stateOperations) {
  stateOperations.forEach(op => window.history[op.type](op.data, ''));
}
function deferHistoryOperation(historyOperation) {
  if (!deferredHistoryOperations.length) {
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_2__.requestMeasure)(applyDeferredHistoryOperations);
  }
  deferredHistoryOperations.push(historyOperation);
}

// Resets history to the `root` state
function resetHistory() {
  historyCursor = 0;
  historyState = [{
    index: 0,
    onBack: () => window.history.back()
  }];
  if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_LEDGER_EXTENSION_TAB) {
    window.history.replaceState({
      index: 0,
      historyUniqueSessionId
    }, '', PATH_BASE);
  }
}
resetHistory();
function cleanupClosed() {
  let alreadyClosedCount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
  let countClosed = alreadyClosedCount;
  for (let i = historyCursor - 1; i > 0; i--) {
    if (!historyState[i].isClosed) break;
    countClosed++;
  }
  if (countClosed) {
    isAlteringHistory = true;
    deferHistoryOperation({
      type: 'go',
      delta: -countClosed
    });
  }
  return countClosed;
}
function cleanupTrashedState() {
  for (let i = historyState.length - 1; i > 0; i--) {
    var _historyState$i$onBac, _historyState$i;
    if (historyState[i].isClosed) {
      continue;
    }
    (_historyState$i$onBac = (_historyState$i = historyState[i]).onBack) === null || _historyState$i$onBac === void 0 ? void 0 : _historyState$i$onBac.call(_historyState$i);
  }
  resetHistory();
}
window.addEventListener('popstate', _ref => {
  let {
    state
  } = _ref;
  if (isAlteringHistory) {
    isAlteringHistory = false;
    if (deferredPopstateOperations.length) {
      processStateOperations(deferredPopstateOperations);
      deferredPopstateOperations = [];
    }
    return;
  }
  if (!state) {
    cleanupTrashedState();
    return;
  }
  const {
    index,
    historyUniqueSessionId: previousUniqueSessionId
  } = state;
  if (previousUniqueSessionId !== historyUniqueSessionId) {
    cleanupTrashedState();
    return;
  }

  // New real history state matches the old virtual one. Not possible in theory, but in practice we have Safari
  if (index === historyCursor) {
    return;
  }
  if (index < historyCursor) {
    // Navigating back
    let alreadyClosedCount = 0;
    for (let i = historyCursor; i > index - alreadyClosedCount; i--) {
      var _historyState$i$onBac2, _historyState$i2;
      if (historyState[i].isClosed) {
        alreadyClosedCount++;
        continue;
      }
      (_historyState$i$onBac2 = (_historyState$i2 = historyState[i]).onBack) === null || _historyState$i$onBac2 === void 0 ? void 0 : _historyState$i$onBac2.call(_historyState$i2);
    }
    const countClosed = cleanupClosed(alreadyClosedCount);
    historyCursor += index - historyCursor - countClosed;

    // Can happen when we have deferred a real back for some element (for example Menu), closed via UI,
    // pressed back button and caused a pushState.
    if (historyCursor < 0) {
      historyCursor = 0;
    }
  } else if (index > historyCursor) {
    // Forward navigation is not yet supported
    isAlteringHistory = true;
    deferHistoryOperation({
      type: 'go',
      delta: -(index - historyCursor)
    });
  }
});
function useHistoryBack(_ref2) {
  let {
    isActive,
    shouldBeReplaced,
    onBack
  } = _ref2;
  const lastOnBack = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_5__["default"])(onBack);

  // Active index of the record
  const indexRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const wasReplaced = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  const isFirstRender = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  const pushState = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    let forceReplace = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
    // Check if the old state should be replaced
    const shouldReplace = forceReplace || historyState[historyCursor].shouldBeReplaced;
    indexRef.current = shouldReplace ? historyCursor : ++historyCursor;
    historyCursor = indexRef.current;

    // Mark the previous record as replaced so effectBack doesn't perform back operation on the new record
    const previousRecord = historyState[indexRef.current];
    if (previousRecord && !previousRecord.isClosed) {
      var _previousRecord$markR;
      (_previousRecord$markR = previousRecord.markReplaced) === null || _previousRecord$markR === void 0 ? void 0 : _previousRecord$markR.call(previousRecord);
    }
    historyState[indexRef.current] = {
      index: indexRef.current,
      onBack: lastOnBack,
      shouldBeReplaced,
      markReplaced: () => {
        wasReplaced.current = true;
      }
    };
    deferHistoryOperation({
      type: shouldReplace ? 'replaceState' : 'pushState',
      data: {
        index: indexRef.current,
        historyUniqueSessionId
      }
    });
  }, [lastOnBack, shouldBeReplaced]);
  const processBack = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {
    // Only process back on open records
    if (indexRef.current && historyState[indexRef.current] && !wasReplaced.current) {
      historyState[indexRef.current].isClosed = true;
      wasReplaced.current = true;
      if (indexRef.current === historyCursor && !shouldBeReplaced) {
        historyCursor -= cleanupClosed();
      }
    }
  }, [shouldBeReplaced]);

  // Process back navigation when element is unmounted
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS) return undefined;
    isFirstRender.current = false;
    return () => {
      if (!isActive || wasReplaced.current) return;
      processBack();
    };
  });
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_6__["default"])(_ref3 => {
    let [prevIsActive] = _ref3;
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS) return;
    if (prevIsActive === isActive) return;
    if (isFirstRender.current && !isActive) return;
    if (isActive) {
      pushState();
    } else {
      processBack();
    }
  }, [isActive, processBack, pushState]);
}

/***/ }),

/***/ "./src/hooks/useHorizontalScroll.ts":
/*!******************************************!*\
  !*** ./src/hooks/useHorizontalScroll.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const useHorizontalScroll = function (containerRef, isDisabled) {
  let shouldPreventDefault = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isDisabled) {
      return undefined;
    }
    const container = containerRef.current;
    function handleScroll(e) {
      // Ignore horizontal scroll and let it work natively (e.g. on touchpad)
      if (!e.deltaX) {
        container.scrollLeft += e.deltaY / 4;
        if (shouldPreventDefault) e.preventDefault();
      }
    }
    container.addEventListener('wheel', handleScroll, {
      passive: !shouldPreventDefault
    });
    return () => {
      container.removeEventListener('wheel', handleScroll);
    };
  }, [containerRef, isDisabled, shouldPreventDefault]);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useHorizontalScroll);

/***/ }),

/***/ "./src/hooks/useInfiniteScroll.ts":
/*!****************************************!*\
  !*** ./src/hooks/useInfiniteScroll.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global/types */ "./src/global/types.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _useForceUpdate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _usePrevious__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _usePrevious2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./usePrevious2 */ "./src/hooks/usePrevious2.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");








const DEFAULT_LIST_SLICE = 30;
const useInfiniteScroll = function (loadMoreBackwards, listIds) {
  var _currentStateRef$curr;
  let isDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let listSlice = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_LIST_SLICE;
  let slug = arguments.length > 4 ? arguments[4] : undefined;
  let isActive = arguments.length > 5 ? arguments[5] : undefined;
  let withResetOnInactive = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;
  const requestParamsRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const currentStateRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  if (!currentStateRef.current && listIds && !isDisabled) {
    const {
      newViewportIds,
      newIsOnTop
    } = getViewportSlice(listIds, _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards, listSlice, listIds[0]);
    currentStateRef.current = {
      viewportIds: newViewportIds,
      isOnTop: newIsOnTop
    };
  }
  const forceUpdate = (0,_useForceUpdate__WEBPACK_IMPORTED_MODULE_3__["default"])();
  if (isDisabled) {
    requestParamsRef.current = {};
  }
  const prevSlug = (0,_usePrevious2__WEBPACK_IMPORTED_MODULE_6__["default"])(slug);
  const resetScroll = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (!(listIds !== null && listIds !== void 0 && listIds.length)) return;
    const {
      newViewportIds,
      newIsOnTop
    } = getViewportSlice(listIds, _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards, listSlice, listIds[0]);
    currentStateRef.current = {
      viewportIds: newViewportIds,
      isOnTop: newIsOnTop
    };
    requestParamsRef.current = {};
  });
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_7__["default"])(() => {
    if (slug !== prevSlug || withResetOnInactive && !isActive) {
      resetScroll();
    }
  }, [isActive, prevSlug, slug, withResetOnInactive]);
  const prevListIds = (0,_usePrevious__WEBPACK_IMPORTED_MODULE_5__["default"])(listIds);
  const prevIsDisabled = (0,_usePrevious__WEBPACK_IMPORTED_MODULE_5__["default"])(isDisabled);
  if (listIds && !isDisabled && (listIds !== prevListIds || isDisabled !== prevIsDisabled)) {
    const {
      viewportIds,
      isOnTop
    } = currentStateRef.current || {};
    const currentMiddleId = viewportIds && !isOnTop ? viewportIds[Math.round(viewportIds.length / 2)] : undefined;
    const defaultOffsetId = currentMiddleId && listIds.includes(currentMiddleId) ? currentMiddleId : listIds[0];
    const {
      offsetId = defaultOffsetId,
      direction = _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards
    } = requestParamsRef.current || {};
    const {
      newViewportIds,
      newIsOnTop
    } = getViewportSlice(listIds, direction, listSlice, offsetId);
    requestParamsRef.current = {};
    if (!viewportIds || !(0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.areSortedArraysEqual)(viewportIds, newViewportIds)) {
      currentStateRef.current = {
        viewportIds: newViewportIds,
        isOnTop: newIsOnTop
      };
    }
  } else if (!listIds) {
    currentStateRef.current = undefined;
  }
  const getMore = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_4__["default"])(_ref => {
    let {
      direction
    } = _ref;
    if (!isActive) return;
    const {
      viewportIds
    } = currentStateRef.current || {};
    const offsetId = viewportIds ? direction === _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Backwards ? viewportIds[viewportIds.length - 1] : viewportIds[0] : undefined;
    requestParamsRef.current = {
      direction,
      offsetId
    };
    if (!listIds) {
      if (loadMoreBackwards) {
        loadMoreBackwards({
          offsetId
        });
      }
      return;
    }
    const {
      newViewportIds,
      areSomeLocal,
      areAllLocal,
      newIsOnTop
    } = getViewportSlice(listIds, direction, listSlice, offsetId);
    if (areSomeLocal && !(viewportIds && (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_2__.areSortedArraysEqual)(viewportIds, newViewportIds))) {
      currentStateRef.current = {
        viewportIds: newViewportIds,
        isOnTop: newIsOnTop
      };
      forceUpdate();
    }
    if (!areAllLocal && loadMoreBackwards) {
      loadMoreBackwards({
        offsetId
      });
    }
  });
  return isDisabled ? [listIds] : [(_currentStateRef$curr = currentStateRef.current) === null || _currentStateRef$curr === void 0 ? void 0 : _currentStateRef$curr.viewportIds, getMore, resetScroll];
};
function getViewportSlice(sourceIds, direction, listSlice, offsetId) {
  const {
    length
  } = sourceIds;
  const index = offsetId ? sourceIds.indexOf(offsetId) : 0;
  const isForwards = direction === _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards;
  const indexForDirection = isForwards ? index : index + 1 || length;
  const from = Math.max(0, indexForDirection - listSlice);
  const to = indexForDirection + listSlice - 1;
  const newViewportIds = sourceIds.slice(Math.max(0, from), to + 1);
  let areSomeLocal;
  let areAllLocal;
  switch (direction) {
    case _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Forwards:
      areSomeLocal = indexForDirection >= 0;
      areAllLocal = from >= 0;
      break;
    case _global_types__WEBPACK_IMPORTED_MODULE_1__.LoadMoreDirection.Backwards:
      areSomeLocal = indexForDirection < length;
      areAllLocal = to <= length - 1;
      break;
  }
  return {
    newViewportIds,
    areSomeLocal,
    areAllLocal,
    newIsOnTop: newViewportIds[0] === sourceIds[0]
  };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useInfiniteScroll);

/***/ }),

/***/ "./src/hooks/useIntersectionObserver.ts":
/*!**********************************************!*\
  !*** ./src/hooks/useIntersectionObserver.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useIntersectionObserver: () => (/* binding */ useIntersectionObserver),
/* harmony export */   useOnIntersect: () => (/* binding */ useOnIntersect)
/* harmony export */ });
/* unused harmony export useIsIntersecting */
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");




function useIntersectionObserver(_ref, rootCallback) {
  let {
    rootRef,
    throttleMs,
    throttleScheduler,
    debounceMs,
    shouldSkipFirst,
    margin,
    threshold,
    isDisabled
  } = _ref;
  const controllerRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const rootCallbackRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const freezeFlagsRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);
  const onUnfreezeRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  rootCallbackRef.current = rootCallback;
  const freeze = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    freezeFlagsRef.current++;
  });
  const unfreeze = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    if (!freezeFlagsRef.current) {
      return;
    }
    freezeFlagsRef.current--;
    if (!freezeFlagsRef.current && onUnfreezeRef.current) {
      onUnfreezeRef.current();
      onUnfreezeRef.current = undefined;
    }
  });
  (0,_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_2__["default"])(freeze, unfreeze);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isDisabled) {
      return undefined;
    }
    return () => {
      if (controllerRef.current) {
        controllerRef.current.observer.disconnect();
        controllerRef.current.callbacks.clear();
        controllerRef.current = undefined;
      }
    };
  }, [isDisabled]);
  function initController() {
    const callbacks = new Map();
    const entriesAccumulator = new Map();
    let observerCallback;
    if (typeof throttleScheduler === 'function') {
      observerCallback = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttleWith)(throttleScheduler, observerCallbackSync);
    } else if (throttleMs) {
      observerCallback = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(observerCallbackSync, throttleMs, !shouldSkipFirst);
    } else if (debounceMs) {
      observerCallback = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.debounce)(observerCallbackSync, debounceMs, !shouldSkipFirst);
    } else {
      observerCallback = observerCallbackSync;
    }
    function observerCallbackSync() {
      if (freezeFlagsRef.current) {
        onUnfreezeRef.current = observerCallback;
        return;
      }
      const entries = Array.from(entriesAccumulator.values());
      entries.forEach(entry => {
        const callback = callbacks.get(entry.target);
        if (callback) {
          callback(entry, entries);
        }
      });
      if (rootCallbackRef.current) {
        rootCallbackRef.current(entries);
      }
      entriesAccumulator.clear();
    }
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        entriesAccumulator.set(entry.target, entry);
      });
      if (freezeFlagsRef.current) {
        onUnfreezeRef.current = observerCallback;
      } else {
        observerCallback();
      }
    }, {
      root: rootRef.current,
      rootMargin: margin ? `${margin}px` : undefined,
      threshold
    });
    controllerRef.current = {
      observer,
      callbacks
    };
  }
  const observe = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])((target, targetCallback) => {
    if (!controllerRef.current) {
      initController();
    }
    const controller = controllerRef.current;
    controller.observer.observe(target);
    if (targetCallback) {
      controller.callbacks.set(target, targetCallback);
    }
    return () => {
      if (targetCallback) {
        controller.callbacks.delete(target);
      }
      controller.observer.unobserve(target);
    };
  });
  return {
    observe,
    freeze,
    unfreeze
  };
}
function useOnIntersect(targetRef, observe, callback) {
  const lastCallback = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(callback);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    return observe ? observe(targetRef.current, lastCallback) : undefined;
  }, [lastCallback, observe, targetRef]);
}
function useIsIntersecting(targetRef, observe, callback) {
  const [isIntersecting, setIsIntersecting] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!observe);
  useOnIntersect(targetRef, observe, entry => {
    setIsIntersecting(entry.isIntersecting);
    if (callback) {
      callback(entry);
    }
  });
  return isIntersecting;
}

/***/ }),

/***/ "./src/hooks/useInterval.ts":
/*!**********************************!*\
  !*** ./src/hooks/useInterval.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");


function useInterval(callback, delay) {
  let noFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const lastCallback = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_1__["default"])(callback);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (delay === undefined) {
      return undefined;
    }
    const id = setInterval(lastCallback, delay);
    if (!noFirst) lastCallback();
    return () => clearInterval(id);
  }, [delay, lastCallback, noFirst]);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useInterval);

/***/ }),

/***/ "./src/hooks/useLang.ts":
/*!******************************!*\
  !*** ./src/hooks/useLang.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _util_langProvider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/langProvider */ "./src/util/langProvider.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _useForceUpdate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useForceUpdate */ "./src/hooks/useForceUpdate.ts");



const useLang = () => {
  const forceUpdate = (0,_useForceUpdate__WEBPACK_IMPORTED_MODULE_2__["default"])();
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_1__["default"])(() => {
    return _util_langProvider__WEBPACK_IMPORTED_MODULE_0__.addCallback(forceUpdate);
  });
  return _util_langProvider__WEBPACK_IMPORTED_MODULE_0__.getTranslation;
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLang);

/***/ }),

/***/ "./src/hooks/useLastCallback.ts":
/*!**************************************!*\
  !*** ./src/hooks/useLastCallback.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useLastCallback)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useStateRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useStateRef */ "./src/hooks/useStateRef.ts");


function useLastCallback(callback) {
  const ref = (0,_useStateRef__WEBPACK_IMPORTED_MODULE_1__.useStateRef)(callback);

  // No need for ref dependency
  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    var _ref$current;
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.call(ref, ...args);
  }, []);
}

/***/ }),

/***/ "./src/hooks/useLayoutEffectWithPrevDeps.ts":
/*!**************************************************!*\
  !*** ./src/hooks/useLayoutEffectWithPrevDeps.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const useLayoutEffectWithPrevDeps = (cb, dependencies, debugKey) => {
  const prevDepsRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    const prevDeps = prevDepsRef.current;
    prevDepsRef.current = dependencies;
    return cb(prevDeps || []);
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, dependencies, debugKey);
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useLayoutEffectWithPrevDeps);

/***/ }),

/***/ "./src/hooks/useMediaQuery.ts":
/*!************************************!*\
  !*** ./src/hooks/useMediaQuery.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useMediaQuery: () => (/* binding */ useMediaQuery)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/**
 * Pulled from @react-hookz/web library source with some edits to match the code-style and use Teact
 * See https://github.com/react-hookz/web/blob/master/src/useMediaQuery/useMediaQuery.ts
 */


// eslint-disable-next-line max-len, no-spaced-func
const queriesMap = new Map();
const createQueryEntry = query => {
  const mql = matchMedia(query);
  const dispatchers = new Set();
  const listener = () => {
    dispatchers.forEach(d => d(mql.matches));
  };
  if (mql.addEventListener) mql.addEventListener('change', listener, {
    passive: true
  });else mql.addListener(listener);
  return {
    mql,
    dispatchers,
    listener
  };
};
const querySubscribe = (query, setState) => {
  let entry = queriesMap.get(query);
  if (!entry) {
    entry = createQueryEntry(query);
    queriesMap.set(query, entry);
  }
  entry.dispatchers.add(setState);
  setState(entry.mql.matches);
};
const queryUnsubscribe = (query, setState) => {
  const entry = queriesMap.get(query);
  if (!entry) {
    return;
  }
  const {
    mql,
    dispatchers,
    listener
  } = entry;
  dispatchers.delete(setState);
  if (!dispatchers.size) {
    queriesMap.delete(query);
    if (mql.removeEventListener) mql.removeEventListener('change', listener);else mql.removeListener(listener);
  }
};
/**
 * Tracks the state of CSS media query.
 *
 * @param query CSS media query to track.
 * @param options Hook options:
 * `initializeWithValue` (default: `true`) - Determine media query match state on first render. Setting
 * this to false will make the hook yield `undefined` on first render.
 */
function useMediaQuery(query, options) {
  function getInitialState() {
    var _options$initializeWi;
    if ((_options$initializeWi = options === null || options === void 0 ? void 0 : options.initializeWithValue) !== null && _options$initializeWi !== void 0 ? _options$initializeWi : true) {
      let entry = queriesMap.get(query);
      if (!entry) {
        entry = createQueryEntry(query);
        queriesMap.set(query, entry);
      }
      return entry.mql.matches;
    }
    return undefined;
  }
  const [state, setState] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(getInitialState());
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    querySubscribe(query, setState);
    return () => queryUnsubscribe(query, setState);
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [query]);
  return state;
}

/***/ }),

/***/ "./src/hooks/useMediaTransition.ts":
/*!*****************************************!*\
  !*** ./src/hooks/useMediaTransition.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useMediaTransition)
/* harmony export */ });
/* harmony import */ var _useShowTransition__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useShowTransition */ "./src/hooks/useShowTransition.ts");

function useMediaTransition(mediaData) {
  const isMediaReady = Boolean(mediaData);
  const {
    transitionClassNames
  } = (0,_useShowTransition__WEBPACK_IMPORTED_MODULE_0__["default"])(isMediaReady, undefined, isMediaReady, 'slow');
  return transitionClassNames;
}

/***/ }),

/***/ "./src/hooks/useMenuPosition.ts":
/*!**************************************!*\
  !*** ./src/hooks/useMenuPosition.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useMenuPosition)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const MENU_POSITION_VISUAL_COMFORT_SPACE_PX = 16;
const MENU_POSITION_BOTTOM_MARGIN = 12;
const EMPTY_RECT = {
  width: 0,
  left: 0,
  height: 0,
  top: 0
};
function useMenuPosition(anchor, getTriggerElement, getRootElement, getMenuElement, getLayout) {
  const [positionX, setPositionX] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('right');
  const [positionY, setPositionY] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('bottom');
  const [transformOriginX, setTransformOriginX] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [transformOriginY, setTransformOriginY] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const [withScroll, setWithScroll] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [style, setStyle] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('');
  const [menuStyle, setMenuStyle] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)('opacity: 0;');
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const triggerEl = getTriggerElement();
    if (!anchor || !triggerEl) {
      return;
    }
    let {
      x,
      y
    } = anchor;
    const anchorX = x;
    const anchorY = y;
    const menuEl = getMenuElement();
    const rootEl = getRootElement();
    const {
      withPortal = false
    } = (getLayout === null || getLayout === void 0 ? void 0 : getLayout()) || {};
    const marginTop = menuEl ? parseInt(getComputedStyle(menuEl).marginTop, 10) : undefined;
    const {
      offsetWidth: menuElWidth,
      offsetHeight: menuElHeight
    } = menuEl || {
      offsetWidth: 0,
      offsetHeight: 0
    };
    const menuRect = menuEl ? {
      width: menuElWidth,
      height: menuElHeight + marginTop
    } : EMPTY_RECT;
    const rootRect = rootEl ? rootEl.getBoundingClientRect() : EMPTY_RECT;
    let horizontalPosition;
    let verticalPosition;
    if (x - menuRect.width - rootRect.left > 0) {
      horizontalPosition = 'right';
      x -= 3;
    } else {
      horizontalPosition = 'left';
      x = 16;
    }
    setPositionX(horizontalPosition);
    if (y + menuRect.height < rootRect.height + rootRect.top) {
      verticalPosition = 'top';
    } else {
      verticalPosition = 'bottom';
      if (y - menuRect.height < rootRect.top) {
        y = rootRect.top + rootRect.height;
      }
    }
    setPositionY(verticalPosition);
    const triggerRect = triggerEl.getBoundingClientRect();
    const addedYForPortalPositioning = withPortal ? triggerRect.top : 0;
    const addedXForPortalPositioning = withPortal ? triggerRect.left : 0;
    const leftWithPossibleNegative = Math.min(x - triggerRect.left, rootRect.width - menuRect.width - MENU_POSITION_VISUAL_COMFORT_SPACE_PX);
    const left = (horizontalPosition === 'left' ? withPortal ? Math.max(MENU_POSITION_VISUAL_COMFORT_SPACE_PX, leftWithPossibleNegative) : leftWithPossibleNegative : x - triggerRect.left) + addedXForPortalPositioning;
    const top = y - triggerRect.top + addedYForPortalPositioning;
    const menuMaxHeight = rootRect.height - MENU_POSITION_BOTTOM_MARGIN - (marginTop || 0);
    setWithScroll(menuMaxHeight < menuRect.height);
    setMenuStyle(`max-height: ${menuMaxHeight}px;`);
    setStyle(`left: ${left}px; top: ${top}px`);
    const offsetX = anchorX + addedXForPortalPositioning - triggerRect.left - left;
    const offsetY = anchorY + addedYForPortalPositioning - triggerRect.top - top - (marginTop || 0);
    setTransformOriginX(horizontalPosition === 'left' ? offsetX : menuRect.width + offsetX);
    setTransformOriginY(verticalPosition === 'bottom' ? menuRect.height + offsetY : offsetY);
  }, [anchor, getMenuElement, getRootElement, getTriggerElement, getLayout]);
  return {
    positionX,
    positionY,
    transformOriginX,
    transformOriginY,
    style,
    menuStyle,
    withScroll
  };
}

/***/ }),

/***/ "./src/hooks/useModalTransitionKeys.ts":
/*!*********************************************!*\
  !*** ./src/hooks/useModalTransitionKeys.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useModalTransitionKeys)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useCurrentOrPrev */ "./src/hooks/useCurrentOrPrev.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");



const ANIMATION_DURATION = 300;
function useModalTransitionKeys(activeKey, isOpen) {
  var _useCurrentOrPrev;
  // Use previous key during closing animation
  const renderingKey = (_useCurrentOrPrev = (0,_useCurrentOrPrev__WEBPACK_IMPORTED_MODULE_1__["default"])(isOpen ? activeKey : undefined, true)) !== null && _useCurrentOrPrev !== void 0 ? _useCurrentOrPrev : -1;
  const [nextKey, setNextKey] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)();
  const updateNextKey = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(() => {
    setNextKey(isOpen ? renderingKey + 1 : undefined);
  });

  // Set next key after modal is fully open
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isOpen) {
      setTimeout(updateNextKey, ANIMATION_DURATION);
    }
  }, [isOpen, updateNextKey]);
  return {
    renderingKey,
    nextKey,
    updateNextKey
  };
}

/***/ }),

/***/ "./src/hooks/usePasswordValidation.ts":
/*!********************************************!*\
  !*** ./src/hooks/usePasswordValidation.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   usePasswordValidation: () => (/* binding */ usePasswordValidation)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");

const SPECIAL_CHARS_REGEX = /[`!@#$%^&*()_+\-=\]{};':"\\|,.<>?~]/;
const usePasswordValidation = _ref => {
  let {
    firstPassword = '',
    secondPassword = '',
    requiredMinLength = 8,
    requiredLength,
    isOnlyNumbers
  } = _ref;
  const [invalidLength, setInvalidLength] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [noNumber, setNoNumber] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [noUpperCase, setNoUpperCase] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [noLowerCase, setNoLowerCase] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [noSpecialChar, setNoSpecialChar] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const [noEqual, setNoEqual] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const isInvalidLength = Boolean(!requiredLength && firstPassword.length < requiredMinLength || requiredLength && firstPassword.length !== requiredLength);
    setInvalidLength(isInvalidLength);
    setNoUpperCase(!isOnlyNumbers && firstPassword.toLowerCase() === firstPassword);
    setNoLowerCase(!isOnlyNumbers && firstPassword.toUpperCase() === firstPassword);
    setNoNumber(!/\d/.test(firstPassword));
    setNoEqual(Boolean(firstPassword && firstPassword !== secondPassword));
    setNoSpecialChar(!isOnlyNumbers && !SPECIAL_CHARS_REGEX.test(firstPassword));
  }, [firstPassword, secondPassword, requiredMinLength, isOnlyNumbers, requiredLength]);
  return {
    invalidLength,
    noNumber,
    noUpperCase,
    noLowerCase,
    noEqual,
    noSpecialChar
  };
};

/***/ }),

/***/ "./src/hooks/usePrevDuringAnimation.ts":
/*!*********************************************!*\
  !*** ./src/hooks/usePrevDuringAnimation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ usePrevDuringAnimation)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useForceUpdate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _usePrevious__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./usePrevious */ "./src/hooks/usePrevious.ts");
/* harmony import */ var _useSyncEffect__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useSyncEffect */ "./src/hooks/useSyncEffect.ts");




function usePrevDuringAnimation(current, duration) {
  const prev = (0,_usePrevious__WEBPACK_IMPORTED_MODULE_2__["default"])(current, true);
  const timeoutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const forceUpdate = (0,_useForceUpdate__WEBPACK_IMPORTED_MODULE_1__["default"])();
  // eslint-disable-next-line no-null/no-null
  const isCurrentPresent = current !== undefined && current !== null;
  // eslint-disable-next-line no-null/no-null
  const isPrevPresent = prev !== undefined && prev !== null;
  if (isCurrentPresent && timeoutRef.current) {
    clearTimeout(timeoutRef.current);
    timeoutRef.current = undefined;
  }
  (0,_useSyncEffect__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    // When `current` becomes empty
    if (duration && !isCurrentPresent && isPrevPresent && !timeoutRef.current) {
      timeoutRef.current = window.setTimeout(() => {
        timeoutRef.current = undefined;
        forceUpdate();
      }, duration);
    }
  }, [duration, forceUpdate, isCurrentPresent, isPrevPresent]);
  return !timeoutRef.current || !duration || isCurrentPresent ? current : prev;
}

/***/ }),

/***/ "./src/hooks/usePreventPinchZoomGesture.ts":
/*!*************************************************!*\
  !*** ./src/hooks/usePreventPinchZoomGesture.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ usePreventPinchZoomGesture)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_stopEvent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/stopEvent */ "./src/util/stopEvent.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/windowEnvironment */ "./src/util/windowEnvironment.ts");



const metaViewport = document.querySelector('meta[name="viewport"]');
const defaultViewportContent = (metaViewport === null || metaViewport === void 0 ? void 0 : metaViewport.getAttribute('content')) || '';
const allowedZoomViewportContent = 'width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover';
function usePreventPinchZoomGesture() {
  let isDisabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_TOUCH_ENV) {
      return undefined;
    }
    if (isDisabled) {
      // Clean viewport content from values that disable the ability to zoom a webpage
      // https://web.dev/meta-viewport/
      metaViewport === null || metaViewport === void 0 ? void 0 : metaViewport.setAttribute('content', allowedZoomViewportContent);
      return undefined;
    }
    metaViewport === null || metaViewport === void 0 ? void 0 : metaViewport.setAttribute('content', defaultViewportContent);

    // Since iOS 10 `user-scaleable=no` is disabled in Safari for iOS,
    // this is only applicable for the browser and does not apply to the PWA mode.
    // https://newbedev.com/how-do-you-disable-viewport-zooming-on-mobile-safari
    if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_IOS && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_PWA) {
      document.addEventListener('gesturestart', _util_stopEvent__WEBPACK_IMPORTED_MODULE_1__["default"]);
    }
    return () => {
      metaViewport === null || metaViewport === void 0 ? void 0 : metaViewport.setAttribute('content', allowedZoomViewportContent);
      if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_IOS && !_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_PWA) {
        document.removeEventListener('gesturestart', _util_stopEvent__WEBPACK_IMPORTED_MODULE_1__["default"]);
      }
    };
  }, [isDisabled]);
}

/***/ }),

/***/ "./src/hooks/usePrevious.ts":
/*!**********************************!*\
  !*** ./src/hooks/usePrevious.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");


// Deprecated. Use `usePrevious2` instead

function usePrevious(next, shouldSkipUndefined) {
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const {
    current
  } = ref;
  if (!shouldSkipUndefined || next !== undefined) {
    ref.current = next;
  }
  return current;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (usePrevious);

/***/ }),

/***/ "./src/hooks/usePrevious2.ts":
/*!***********************************!*\
  !*** ./src/hooks/usePrevious2.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ usePrevious2)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");


// This is not render-dependent and will never allow previous to match current
function usePrevious2(current) {
  const prevRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  const lastRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  if (lastRef.current !== current) {
    prevRef.current = lastRef.current;
  }
  lastRef.current = current;
  return prevRef.current;
}

/***/ }),

/***/ "./src/hooks/usePriorityPlaybackCheck.ts":
/*!***********************************************!*\
  !*** ./src/hooks/usePriorityPlaybackCheck.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   isPriorityPlaybackActive: () => (/* binding */ isPriorityPlaybackActive)
/* harmony export */ });
/* unused harmony export dispatchPriorityPlaybackEvent */
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_callbacks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/callbacks */ "./src/util/callbacks.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");



const startCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
const endCallbacks = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
let timeout;
let isActive = false;
const usePriorityPlaybackCheck = function (onStart, onEnd) {
  let isDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const lastOnStart = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onStart);
  const lastOnEnd = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_2__["default"])(onEnd);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isDisabled) {
      return undefined;
    }
    if (isActive) {
      lastOnStart();
    }
    startCallbacks.addCallback(lastOnStart);
    endCallbacks.addCallback(lastOnEnd);
    return () => {
      endCallbacks.removeCallback(lastOnEnd);
      startCallbacks.removeCallback(lastOnStart);
    };
  }, [isDisabled, lastOnStart, lastOnEnd]);
};
function isPriorityPlaybackActive() {
  return isActive;
}
function dispatchPriorityPlaybackEvent() {
  if (!isActive) {
    isActive = true;
    startCallbacks.runCallbacks();
  }
  if (timeout) {
    clearTimeout(timeout);
    timeout = undefined;
  }

  // Race condition may happen if another `dispatchPriorityPlaybackEvent` is called before `onEnd`
  function onEnd() {
    if (timeout) {
      clearTimeout(timeout);
      timeout = undefined;
    }
    isActive = false;
    endCallbacks.runCallbacks();
  }
  return onEnd;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (usePriorityPlaybackCheck);

/***/ }),

/***/ "./src/hooks/useQrCode.ts":
/*!********************************!*\
  !*** ./src/hooks/useQrCode.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useQrCode)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _util_ton_formatTransferUrl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/ton/formatTransferUrl */ "./src/util/ton/formatTransferUrl.ts");



const QR_SIZE = 600;
let qrCode;
function useQrCode(address, isOpen, hiddenClassName, hideLogo, withFormatTransferUrl) {
  const [isInitialized, setIsInitialized] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!!qrCode);

  // eslint-disable-next-line no-null/no-null
  const qrCodeRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isInitialized) return;
    __webpack_require__.e(/*! import() */ "vendors-node_modules_qr-code-styling_lib_qr-code-styling_js").then(__webpack_require__.t.bind(__webpack_require__, /*! qr-code-styling */ "./node_modules/qr-code-styling/lib/qr-code-styling.js", 23)).then(_ref => {
      let {
        default: QrCodeStyling
      } = _ref;
      qrCode = new QrCodeStyling({
        width: QR_SIZE,
        height: QR_SIZE,
        image: './logo.svg',
        margin: 0,
        type: 'canvas',
        dotsOptions: {
          type: 'rounded'
        },
        cornersSquareOptions: {
          type: 'extra-rounded'
        },
        imageOptions: {
          imageSize: 0.4,
          margin: 8,
          crossOrigin: 'anonymous'
        },
        qrOptions: {
          errorCorrectionLevel: 'M'
        },
        data: (0,_util_ton_formatTransferUrl__WEBPACK_IMPORTED_MODULE_2__["default"])('')
      });
      setIsInitialized(true);
    });
  }, [isInitialized]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(() => {
    if (!isOpen || !isInitialized) return;
    if (qrCodeRef.current && hiddenClassName) (0,_lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_1__.removeExtraClass)(qrCodeRef.current, hiddenClassName);
    if (qrCodeRef.current) {
      var _qrCode;
      (_qrCode = qrCode) === null || _qrCode === void 0 ? void 0 : _qrCode.append(qrCodeRef.current);
      // eslint-disable-next-line no-underscore-dangle
      qrCode._options.image = hideLogo ? undefined : './logo.svg';
    }
  }, [isOpen, isInitialized, hiddenClassName, hideLogo]);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (!address || !isOpen || !qrCode || !isInitialized) return;
    qrCode.update({
      data: withFormatTransferUrl ? (0,_util_ton_formatTransferUrl__WEBPACK_IMPORTED_MODULE_2__["default"])(address) : address
    });
  }, [address, isOpen, isInitialized, withFormatTransferUrl]);
  return {
    qrCodeRef,
    isInitialized
  };
}

/***/ }),

/***/ "./src/hooks/useQrScannerSupport.ts":
/*!******************************************!*\
  !*** ./src/hooks/useQrScannerSupport.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useQrScannerSupport)
/* harmony export */ });
/* harmony import */ var _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor-mlkit/barcode-scanning */ "./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _useForceUpdate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useForceUpdate */ "./src/hooks/useForceUpdate.ts");




let isQrScannerSupported = false;
function useQrScannerSupport() {
  const forceUpdate = (0,_useForceUpdate__WEBPACK_IMPORTED_MODULE_3__["default"])();
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_2__["default"])(() => {
    if (!_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR || isQrScannerSupported) return;
    _capacitor_mlkit_barcode_scanning__WEBPACK_IMPORTED_MODULE_0__.BarcodeScanner.isSupported().then(result => {
      isQrScannerSupported = result.supported;
      forceUpdate();
    });
  });
  return isQrScannerSupported;
}

/***/ }),

/***/ "./src/hooks/useScrolledState.ts":
/*!***************************************!*\
  !*** ./src/hooks/useScrolledState.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useScrolledState)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");


const THRESHOLD = 1;
function useScrolledState() {
  let threshold = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : THRESHOLD;
  const [isAtBeginning, setIsAtBeginning] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const [isAtEnd, setIsAtEnd] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(true);
  const handleScroll = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_1__["default"])(e => {
    const {
      scrollHeight,
      scrollTop,
      clientHeight
    } = e.target;
    setIsAtBeginning(scrollTop < threshold);
    setIsAtEnd(scrollHeight - scrollTop - clientHeight < threshold);
  });
  return {
    isAtBeginning,
    isAtEnd,
    isScrolled: !isAtBeginning,
    handleScroll
  };
}

/***/ }),

/***/ "./src/hooks/useSharedIntersectionObserver.ts":
/*!****************************************************!*\
  !*** ./src/hooks/useSharedIntersectionObserver.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useSharedIntersectionObserver)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_callbacks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/callbacks */ "./src/util/callbacks.ts");
/* harmony import */ var _useStateRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useStateRef */ "./src/hooks/useStateRef.ts");



const elementObserverMap = new Map();
function useSharedIntersectionObserver(refOrElement, onIntersectionChange) {
  let isDisabled = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  const onIntersectionChangeRef = (0,_useStateRef__WEBPACK_IMPORTED_MODULE_2__.useStateRef)(onIntersectionChange);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const el = refOrElement && 'current' in refOrElement ? refOrElement.current : refOrElement;
    if (!el || isDisabled) {
      return undefined;
    }
    const callback = _ref => {
      let [entry] = _ref;
      // Ignore updates when element is not properly mounted (`display: none`)
      if (!entry.target.offsetWidth || !entry.target.offsetHeight) {
        return;
      }
      onIntersectionChangeRef.current(entry);
    };
    let [observer, callbackManager] = elementObserverMap.get(el) || [undefined, undefined];
    if (!observer) {
      callbackManager = (0,_util_callbacks__WEBPACK_IMPORTED_MODULE_1__.createCallbackManager)();
      observer = new IntersectionObserver(callbackManager.runCallbacks);
      elementObserverMap.set(el, [observer, callbackManager]);
      observer.observe(el);
    }
    callbackManager.addCallback(callback);
    return () => {
      callbackManager.removeCallback(callback);
      if (!callbackManager.hasCallbacks()) {
        observer.unobserve(el);
        observer.disconnect();
        elementObserverMap.delete(el);
      }
    };
  }, [isDisabled, onIntersectionChangeRef, refOrElement]);
}

/***/ }),

/***/ "./src/hooks/useShowTransition.ts":
/*!****************************************!*\
  !*** ./src/hooks/useShowTransition.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_buildClassName__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/buildClassName */ "./src/util/buildClassName.ts");


const CLOSE_DURATION = 350;
const useShowTransition = function () {
  let isOpen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  let onCloseTransitionEnd = arguments.length > 1 ? arguments[1] : undefined;
  let noFirstOpenTransition = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let className = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'fast';
  let noCloseTransition = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  let closeDuration = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : CLOSE_DURATION;
  let noOpenTransition = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;
  const [isClosed, setIsClosed] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(!isOpen);
  const closeTimeoutRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  // СSS class should be added in a separate tick to turn on CSS transition.
  const [hasOpenClassName, setHasOpenClassName] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(isOpen && noFirstOpenTransition);
  if (isOpen) {
    setIsClosed(false);
    setHasOpenClassName(true);
    if (closeTimeoutRef.current) {
      window.clearTimeout(closeTimeoutRef.current);
      closeTimeoutRef.current = undefined;
    }
  } else {
    setHasOpenClassName(false);
    if (!isClosed && !closeTimeoutRef.current) {
      const exec = () => {
        setIsClosed(true);
        if (onCloseTransitionEnd) {
          onCloseTransitionEnd();
        }
        closeTimeoutRef.current = undefined;
      };
      if (noCloseTransition) {
        exec();
      } else {
        closeTimeoutRef.current = window.setTimeout(exec, closeDuration);
      }
    }
  }

  // `noCloseTransition`, when set to true, should remove the open class immediately
  const shouldHaveOpenClassName = hasOpenClassName && !(noCloseTransition && !isOpen) || noOpenTransition && isOpen;
  const isClosing = Boolean(closeTimeoutRef.current);
  const shouldRender = isOpen || isClosing;
  const transitionClassNames = (0,_util_buildClassName__WEBPACK_IMPORTED_MODULE_1__["default"])(className && 'opacity-transition', className, shouldHaveOpenClassName && 'open', !shouldHaveOpenClassName && 'not-open', shouldRender && 'shown', !shouldRender && 'not-shown', isClosing && 'closing');
  return {
    shouldRender,
    transitionClassNames,
    hasShownClass: shouldRender,
    hasOpenClass: shouldHaveOpenClassName
  };
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useShowTransition);

/***/ }),

/***/ "./src/hooks/useSignal.ts":
/*!********************************!*\
  !*** ./src/hooks/useSignal.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useSignal)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_signals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/signals */ "./src/util/signals.ts");


function useSignal(initial) {
  var _signalRef$current;
  const signalRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  (_signalRef$current = signalRef.current) !== null && _signalRef$current !== void 0 ? _signalRef$current : signalRef.current = (0,_util_signals__WEBPACK_IMPORTED_MODULE_1__.createSignal)(initial);
  return signalRef.current;
}

/***/ }),

/***/ "./src/hooks/useSignalEffect.ts":
/*!**************************************!*\
  !*** ./src/hooks/useSignalEffect.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSignalEffect: () => (/* binding */ useSignalEffect)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_signals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/signals */ "./src/util/signals.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");



function useSignalEffect(effect, dependencies) {
  // The is extracted from `useEffectOnce` to run before all effects
  const isFirstRun = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(true);
  if (isFirstRun.current) {
    isFirstRun.current = false;
    dependencies === null || dependencies === void 0 ? void 0 : dependencies.forEach(dependency => {
      if ((0,_util_signals__WEBPACK_IMPORTED_MODULE_1__.isSignal)(dependency)) {
        dependency.subscribe(effect);
      }
    });
  }
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_2__["default"])(() => {
    return () => {
      (0,_util_signals__WEBPACK_IMPORTED_MODULE_1__.cleanupEffect)(effect);
    };
  });
}

/***/ }),

/***/ "./src/hooks/useSignalRef.ts":
/*!***********************************!*\
  !*** ./src/hooks/useSignalRef.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useSignalRef: () => (/* binding */ useSignalRef)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");



// Allows to use signal value as "silent" dependency in hooks (not causing updates)
function useSignalRef(getValue) {
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(getValue());
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_1__["default"])(() => {
    return getValue.subscribe(() => {
      ref.current = getValue();
    });
  });
  return ref;
}

/***/ }),

/***/ "./src/hooks/useStateRef.ts":
/*!**********************************!*\
  !*** ./src/hooks/useStateRef.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   useStateRef: () => (/* binding */ useStateRef)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");


// Allows to use state value as "silent" dependency in hooks (not causing updates).
// Also useful for state values that update frequently (such as controlled input value).
function useStateRef(value) {
  const ref = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);
  ref.current = value;
  return ref;
}

/***/ }),

/***/ "./src/hooks/useSyncEffect.ts":
/*!************************************!*\
  !*** ./src/hooks/useSyncEffect.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useSyncEffect)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useEffectOnce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useEffectOnce */ "./src/hooks/useEffectOnce.ts");
/* harmony import */ var _usePrevious__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./usePrevious */ "./src/hooks/usePrevious.ts");



function useSyncEffect(effect, dependencies) {
  const prevDeps = (0,_usePrevious__WEBPACK_IMPORTED_MODULE_2__["default"])(dependencies);
  const cleanupRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  if (!prevDeps || dependencies.some((d, i) => d !== prevDeps[i])) {
    var _cleanupRef$current, _effect;
    (_cleanupRef$current = cleanupRef.current) === null || _cleanupRef$current === void 0 ? void 0 : _cleanupRef$current.call(cleanupRef);
    cleanupRef.current = (_effect = effect(prevDeps || [])) !== null && _effect !== void 0 ? _effect : undefined;
  }
  (0,_useEffectOnce__WEBPACK_IMPORTED_MODULE_1__["default"])(() => {
    return () => {
      var _cleanupRef$current2;
      (_cleanupRef$current2 = cleanupRef.current) === null || _cleanupRef$current2 === void 0 ? void 0 : _cleanupRef$current2.call(cleanupRef);
    };
  });
}

/***/ }),

/***/ "./src/hooks/useThrottledCallback.ts":
/*!*******************************************!*\
  !*** ./src/hooks/useThrottledCallback.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useThrottledCallback)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");


function useThrottledCallback(fn, deps, msOrSchedulerFn) {
  let noFirst = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  const fnMemo = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useCallback)(fn, deps);
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (typeof msOrSchedulerFn === 'number') {
      return (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(fnMemo, msOrSchedulerFn, !noFirst);
    } else {
      return (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttleWith)(msOrSchedulerFn, fnMemo);
    }
  }, [fnMemo, msOrSchedulerFn, noFirst]);
}

/***/ }),

/***/ "./src/hooks/useTimeout.ts":
/*!*********************************!*\
  !*** ./src/hooks/useTimeout.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");


function useTimeout(callback, delay) {
  let dependencies = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
  const savedCallback = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_1__["default"])(callback);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (typeof delay !== 'number') {
      return undefined;
    }
    const id = setTimeout(() => savedCallback(), delay);
    return () => clearTimeout(id);
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  }, [delay, savedCallback, ...dependencies]);
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (useTimeout);

/***/ }),

/***/ "./src/hooks/useUniqueId.ts":
/*!**********************************!*\
  !*** ./src/hooks/useUniqueId.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useUniqueId)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_generateUniqueId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/generateUniqueId */ "./src/util/generateUniqueId.ts");


function useUniqueId() {
  const idRef = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  if (!idRef.current) {
    idRef.current = (0,_util_generateUniqueId__WEBPACK_IMPORTED_MODULE_1__["default"])();
  }
  return idRef.current;
}

/***/ }),

/***/ "./src/hooks/useUpdateIndicator.ts":
/*!*****************************************!*\
  !*** ./src/hooks/useUpdateIndicator.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useUpdateIndicator)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _useInterval__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./useInterval */ "./src/hooks/useInterval.ts");


const ONE_SECOND = 1000;
const SHOW_INDICATOR_DELAY_MS = 2 * ONE_SECOND;
function useUpdateIndicator(updateStartedAt) {
  const [isUpdating, setIsUpdating] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  (0,_useInterval__WEBPACK_IMPORTED_MODULE_1__["default"])(() => {
    if (!updateStartedAt) {
      setIsUpdating(false);
      return;
    }
    const timeElapsedSinceLastUpdateStarted = Date.now() - updateStartedAt;
    setIsUpdating(timeElapsedSinceLastUpdateStarted > SHOW_INDICATOR_DELAY_MS);
  }, ONE_SECOND, false);
  return isUpdating;
}

/***/ }),

/***/ "./src/hooks/useVesting.ts":
/*!*********************************!*\
  !*** ./src/hooks/useVesting.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useVesting)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _components_main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/main/helpers/calcVestingAmountByStatus */ "./src/components/main/helpers/calcVestingAmountByStatus.ts");
/* harmony import */ var _useLastCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useLastCallback */ "./src/hooks/useLastCallback.ts");
/* harmony import */ var _useShowTransition__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./useShowTransition */ "./src/hooks/useShowTransition.ts");





function useVesting(_ref) {
  let {
    vesting,
    userMycoin
  } = _ref;
  const {
    loadMycoin,
    openVestingModal
  } = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)();
  const hasVesting = Boolean(vesting === null || vesting === void 0 ? void 0 : vesting.length);
  const isMycoinLoaded = Boolean(userMycoin);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    if (isMycoinLoaded || !hasVesting) return;
    loadMycoin();
  }, [hasVesting, isMycoinLoaded]);
  const amount = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!hasVesting) return undefined;
    return (0,_components_main_helpers_calcVestingAmountByStatus__WEBPACK_IMPORTED_MODULE_2__.calcVestingAmountByStatus)(vesting, ['frozen', 'ready']);
  }, [hasVesting, vesting]);
  const unfreezeEndDate = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {
    if (!hasVesting) return undefined;
    for (const {
      parts
    } of vesting) {
      for (const part of parts) {
        if (part.status === 'ready') {
          return new Date(part.timeEnd).getTime();
        }
      }
    }
    return undefined;
  }, [hasVesting, vesting]);
  const {
    shouldRender,
    transitionClassNames
  } = (0,_useShowTransition__WEBPACK_IMPORTED_MODULE_4__["default"])(Boolean(hasVesting && isMycoinLoaded && userMycoin));
  const onVestingTokenClick = (0,_useLastCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(() => {
    openVestingModal();
  });
  return {
    shouldRender,
    transitionClassNames,
    amount,
    vestingStatus: unfreezeEndDate ? 'readyToUnfreeze' : 'frozen',
    unfreezeEndDate,
    onVestingTokenClick
  };
}

/***/ }),

/***/ "./src/hooks/useVirtualBackdrop.ts":
/*!*****************************************!*\
  !*** ./src/hooks/useVirtualBackdrop.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useVirtualBackdrop)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _components_ui_Menu_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/ui/Menu.module.scss */ "./src/components/ui/Menu.module.scss");



// This effect implements closing menus by clicking outside of them
// without adding extra elements to the DOM
function useVirtualBackdrop(isOpen, menuRef, onClose) {
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const handleEvent = e => {
      const menu = menuRef.current;
      const target = e.target;
      if (!menu || !target) {
        return;
      }
      if (!menu.contains(e.target) || target.classList.contains(_components_ui_Menu_module_scss__WEBPACK_IMPORTED_MODULE_1__["default"].backdrop)) {
        e.preventDefault();
        e.stopPropagation();
        if (onClose) {
          onClose();
        }
      }
    };
    if (isOpen && onClose) {
      document.addEventListener('mousedown', handleEvent);
    }
    return () => {
      document.removeEventListener('mousedown', handleEvent);
    };
  }, [isOpen, menuRef, onClose]);
}

/***/ }),

/***/ "./src/hooks/useWindowSize.ts":
/*!************************************!*\
  !*** ./src/hooks/useWindowSize.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ useWindowSize)
/* harmony export */ });
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_windowSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/windowSize */ "./src/util/windowSize.ts");
/* harmony import */ var _useDebouncedCallback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./useDebouncedCallback */ "./src/hooks/useDebouncedCallback.ts");




const THROTTLE = 250;
function useWindowSize() {
  const {
    width: initialWidth,
    height: initialHeight,
    screenHeight: initialScreenHeight
  } = _util_windowSize__WEBPACK_IMPORTED_MODULE_2__["default"].get();
  const [width, setWidth] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(initialWidth);
  const [height, setHeight] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(initialHeight);
  const [screenHeight, setScreenHeight] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(initialScreenHeight);
  const [isResizing, setIsResizing] = (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
  const setIsResizingDebounced = (0,_useDebouncedCallback__WEBPACK_IMPORTED_MODULE_3__["default"])(setIsResizing, [setIsResizing], THROTTLE, true);
  (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
    const throttledSetIsResizing = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(() => {
      setIsResizing(true);
    }, THROTTLE, true);
    const throttledSetSize = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(() => {
      const {
        width: newWidth,
        height: newHeight,
        screenHeight: newScreenHeight
      } = _util_windowSize__WEBPACK_IMPORTED_MODULE_2__["default"].get();
      setWidth(newWidth);
      setHeight(newHeight);
      setScreenHeight(newScreenHeight);
      setIsResizingDebounced(false);
    }, THROTTLE, false);
    const handleResize = () => {
      throttledSetIsResizing();
      throttledSetSize();
    };
    window.addEventListener('resize', handleResize);
    return () => {
      window.removeEventListener('resize', handleResize);
    };
  }, [setIsResizingDebounced]);
  return (0,_lib_teact_teact__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => ({
    width,
    height,
    screenHeight,
    isResizing
  }), [height, isResizing, screenHeight, width]);
}

/***/ }),

/***/ "./src/lib/big.js/index.js":
/*!*********************************!*\
  !*** ./src/lib/big.js/index.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Big: () => (/* binding */ Big)
/* harmony export */ });
/*
 *  big.js v6.2.1
 *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.
 *  Copyright (c) 2022 Michael Mclaughlin
 *  https://github.com/MikeMcl/big.js/LICENCE.md
 */

/************************************** EDITABLE DEFAULTS *****************************************/

// The default values below must be integers within the stated ranges.

/*
 * The maximum number of decimal places (DP) of the results of operations involving division:
 * div and sqrt, and pow with negative exponents.
 */
var DP = 20,
  // 0 to MAX_DP

  /*
   * The rounding mode (RM) used when rounding to the above decimal places.
   *
   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)
   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)
   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)
   *  3  Away from zero.                                  (ROUND_UP)
   */
  RM = 1,
  // 0, 1, 2 or 3

  // The maximum value of DP and Big.DP.
  MAX_DP = 1E6,
  // 0 to 1000000

  // The maximum magnitude of the exponent argument to the pow method.
  MAX_POWER = 1E6,
  // 1 to 1000000

  /*
   * The negative exponent (NE) at and beneath which toString returns exponential notation.
   * (JavaScript numbers: -7)
   * -1000000 is the minimum recommended exponent value of a Big.
   */
  NE = -7,
  // 0 to -1000000

  /*
   * The positive exponent (PE) at and above which toString returns exponential notation.
   * (JavaScript numbers: 21)
   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.
   */
  PE = 21,
  // 0 to 1000000

  /*
   * When true, an error will be thrown if a primitive number is passed to the Big constructor,
   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a
   * primitive number without a loss of precision.
   */
  STRICT = false,
  // true or false

  /**************************************************************************************************/

  // Error messages.
  NAME = '[big.js] ',
  INVALID = NAME + 'Invalid ',
  INVALID_DP = INVALID + 'decimal places',
  INVALID_RM = INVALID + 'rounding mode',
  DIV_BY_ZERO = NAME + 'Division by zero',
  // The shared prototype object.
  P = {},
  UNDEFINED = void 0,
  NUMERIC = /^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;

/*
 * Create and return a Big constructor.
 */
function _Big_() {
  /*
   * The Big constructor and exported function.
   * Create and return a new instance of a Big number object.
   *
   * n {number|string|Big} A numeric value.
   */
  function Big(n) {
    var x = this;

    // Enable constructor usage without new.
    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);

    // Duplicate.
    if (n instanceof Big) {
      x.s = n.s;
      x.e = n.e;
      x.c = n.c.slice();
    } else {
      if (typeof n !== 'string') {
        if (Big.strict === true && typeof n !== 'bigint') {
          throw TypeError(INVALID + 'value');
        }

        // Minus zero?
        n = n === 0 && 1 / n < 0 ? '-0' : String(n);
      }
      parse(x, n);
    }

    // Retain a reference to this Big constructor.
    // Shadow Big.prototype.constructor which points to Object.
    x.constructor = Big;
  }
  Big.prototype = P;
  Big.DP = DP;
  Big.RM = RM;
  Big.NE = NE;
  Big.PE = PE;
  Big.strict = STRICT;
  Big.roundDown = 0;
  Big.roundHalfUp = 1;
  Big.roundHalfEven = 2;
  Big.roundUp = 3;
  return Big;
}

/*
 * Parse the number or string value passed to a Big constructor.
 *
 * x {Big} A Big number instance.
 * n {number|string} A numeric value.
 */
function parse(x, n) {
  var e, i, nl;
  if (!NUMERIC.test(n)) {
    throw Error(INVALID + 'number');
  }

  // Determine sign.
  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;

  // Decimal point?
  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');

  // Exponential form?
  if ((i = n.search(/e/i)) > 0) {
    // Determine exponent.
    if (e < 0) e = i;
    e += +n.slice(i + 1);
    n = n.substring(0, i);
  } else if (e < 0) {
    // Integer.
    e = n.length;
  }
  nl = n.length;

  // Determine leading zeros.
  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;
  if (i == nl) {
    // Zero.
    x.c = [x.e = 0];
  } else {
    // Determine trailing zeros.
    for (; nl > 0 && n.charAt(--nl) == '0';);
    x.e = e - i - 1;
    x.c = [];

    // Convert string to array of digits without leading/trailing zeros.
    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);
  }
  return x;
}

/*
 * Round Big x to a maximum of sd significant digits using rounding mode rm.
 *
 * x {Big} The Big to round.
 * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.
 * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 * [more] {boolean} Whether the result of division was truncated.
 */
function round(x, sd, rm, more) {
  var xc = x.c;
  if (rm === UNDEFINED) rm = x.constructor.RM;
  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {
    throw Error(INVALID_RM);
  }
  if (sd < 1) {
    more = rm === 3 && (more || !!xc[0]) || sd === 0 && (rm === 1 && xc[0] >= 5 || rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED)));
    xc.length = 1;
    if (more) {
      // 1, 0.1, 0.01, 0.001, 0.0001 etc.
      x.e = x.e - sd + 1;
      xc[0] = 1;
    } else {
      // Zero.
      xc[0] = x.e = 0;
    }
  } else if (sd < xc.length) {
    // xc[sd] is the digit after the digit that may be rounded up.
    more = rm === 1 && xc[sd] >= 5 || rm === 2 && (xc[sd] > 5 || xc[sd] === 5 && (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) || rm === 3 && (more || !!xc[0]);

    // Remove any digits after the required precision.
    xc.length = sd;

    // Round up?
    if (more) {
      // Rounding up may mean the previous digit has to be rounded up.
      for (; ++xc[--sd] > 9;) {
        xc[sd] = 0;
        if (sd === 0) {
          ++x.e;
          xc.unshift(1);
          break;
        }
      }
    }

    // Remove trailing zeros.
    for (sd = xc.length; !xc[--sd];) xc.pop();
  }
  return x;
}

/*
 * Return a string representing the value of Big x in normal or exponential notation.
 * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.
 */
function stringify(x, doExponential, isNonzero) {
  var e = x.e,
    s = x.c.join(''),
    n = s.length;

  // Exponential notation?
  if (doExponential) {
    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;

    // Normal notation.
  } else if (e < 0) {
    for (; ++e;) s = '0' + s;
    s = '0.' + s;
  } else if (e > 0) {
    if (++e > n) {
      for (e -= n; e--;) s += '0';
    } else if (e < n) {
      s = s.slice(0, e) + '.' + s.slice(e);
    }
  } else if (n > 1) {
    s = s.charAt(0) + '.' + s.slice(1);
  }
  return x.s < 0 && isNonzero ? '-' + s : s;
}

// Prototype/instance methods

/*
 * Return a new Big whose value is the absolute value of this Big.
 */
P.abs = function () {
  var x = new this.constructor(this);
  x.s = 1;
  return x;
};

/*
 * Return 1 if the value of this Big is greater than the value of Big y,
 *       -1 if the value of this Big is less than the value of Big y, or
 *        0 if they have the same value.
 */
P.cmp = function (y) {
  var isneg,
    x = this,
    xc = x.c,
    yc = (y = new x.constructor(y)).c,
    i = x.s,
    j = y.s,
    k = x.e,
    l = y.e;

  // Either zero?
  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;

  // Signs differ?
  if (i != j) return i;
  isneg = i < 0;

  // Compare exponents.
  if (k != l) return k > l ^ isneg ? 1 : -1;
  j = (k = xc.length) < (l = yc.length) ? k : l;

  // Compare digit by digit.
  for (i = -1; ++i < j;) {
    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;
  }

  // Compare lengths.
  return k == l ? 0 : k > l ^ isneg ? 1 : -1;
};

/*
 * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,
 * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.
 */
P.div = function (y) {
  var x = this,
    Big = x.constructor,
    a = x.c,
    // dividend
    b = (y = new Big(y)).c,
    // divisor
    k = x.s == y.s ? 1 : -1,
    dp = Big.DP;
  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
    throw Error(INVALID_DP);
  }

  // Divisor is zero?
  if (!b[0]) {
    throw Error(DIV_BY_ZERO);
  }

  // Dividend is 0? Return +-0.
  if (!a[0]) {
    y.s = k;
    y.c = [y.e = 0];
    return y;
  }
  var bl,
    bt,
    n,
    cmp,
    ri,
    bz = b.slice(),
    ai = bl = b.length,
    al = a.length,
    r = a.slice(0, bl),
    // remainder
    rl = r.length,
    q = y,
    // quotient
    qc = q.c = [],
    qi = 0,
    p = dp + (q.e = x.e - y.e) + 1; // precision of the result

  q.s = k;
  k = p < 0 ? 0 : p;

  // Create version of divisor with leading zero.
  bz.unshift(0);

  // Add zeros to make remainder as long as divisor.
  for (; rl++ < bl;) r.push(0);
  do {
    // n is how many times the divisor goes into current remainder.
    for (n = 0; n < 10; n++) {
      // Compare divisor and remainder.
      if (bl != (rl = r.length)) {
        cmp = bl > rl ? 1 : -1;
      } else {
        for (ri = -1, cmp = 0; ++ri < bl;) {
          if (b[ri] != r[ri]) {
            cmp = b[ri] > r[ri] ? 1 : -1;
            break;
          }
        }
      }

      // If divisor < remainder, subtract divisor from remainder.
      if (cmp < 0) {
        // Remainder can't be more than 1 digit longer than divisor.
        // Equalise lengths using divisor with extra leading zero?
        for (bt = rl == bl ? b : bz; rl;) {
          if (r[--rl] < bt[rl]) {
            ri = rl;
            for (; ri && !r[--ri];) r[ri] = 9;
            --r[ri];
            r[rl] += 10;
          }
          r[rl] -= bt[rl];
        }
        for (; !r[0];) r.shift();
      } else {
        break;
      }
    }

    // Add the digit n to the result array.
    qc[qi++] = cmp ? n : ++n;

    // Update the remainder.
    if (r[0] && cmp) r[rl] = a[ai] || 0;else r = [a[ai]];
  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);

  // Leading zero? Do not remove if result is simply zero (qi == 1).
  if (!qc[0] && qi != 1) {
    // There can't be more than one zero.
    qc.shift();
    q.e--;
    p--;
  }

  // Round?
  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);
  return q;
};

/*
 * Return true if the value of this Big is equal to the value of Big y, otherwise return false.
 */
P.eq = function (y) {
  return this.cmp(y) === 0;
};

/*
 * Return true if the value of this Big is greater than the value of Big y, otherwise return
 * false.
 */
P.gt = function (y) {
  return this.cmp(y) > 0;
};

/*
 * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise
 * return false.
 */
P.gte = function (y) {
  return this.cmp(y) > -1;
};

/*
 * Return true if the value of this Big is less than the value of Big y, otherwise return false.
 */
P.lt = function (y) {
  return this.cmp(y) < 0;
};

/*
 * Return true if the value of this Big is less than or equal to the value of Big y, otherwise
 * return false.
 */
P.lte = function (y) {
  return this.cmp(y) < 1;
};

/*
 * Return a new Big whose value is the value of this Big minus the value of Big y.
 */
P.minus = P.sub = function (y) {
  var i,
    j,
    t,
    xlty,
    x = this,
    Big = x.constructor,
    a = x.s,
    b = (y = new Big(y)).s;

  // Signs differ?
  if (a != b) {
    y.s = -b;
    return x.plus(y);
  }
  var xc = x.c.slice(),
    xe = x.e,
    yc = y.c,
    ye = y.e;

  // Either zero?
  if (!xc[0] || !yc[0]) {
    if (yc[0]) {
      y.s = -b;
    } else if (xc[0]) {
      y = new Big(x);
    } else {
      y.s = 1;
    }
    return y;
  }

  // Determine which is the bigger number. Prepend zeros to equalise exponents.
  if (a = xe - ye) {
    if (xlty = a < 0) {
      a = -a;
      t = xc;
    } else {
      ye = xe;
      t = yc;
    }
    t.reverse();
    for (b = a; b--;) t.push(0);
    t.reverse();
  } else {
    // Exponents equal. Check digit by digit.
    j = ((xlty = xc.length < yc.length) ? xc : yc).length;
    for (a = b = 0; b < j; b++) {
      if (xc[b] != yc[b]) {
        xlty = xc[b] < yc[b];
        break;
      }
    }
  }

  // x < y? Point xc to the array of the bigger number.
  if (xlty) {
    t = xc;
    xc = yc;
    yc = t;
    y.s = -y.s;
  }

  /*
   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only
   * needs to start at yc.length.
   */
  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;

  // Subtract yc from xc.
  for (b = i; j > a;) {
    if (xc[--j] < yc[j]) {
      for (i = j; i && !xc[--i];) xc[i] = 9;
      --xc[i];
      xc[j] += 10;
    }
    xc[j] -= yc[j];
  }

  // Remove trailing zeros.
  for (; xc[--b] === 0;) xc.pop();

  // Remove leading zeros and adjust exponent accordingly.
  for (; xc[0] === 0;) {
    xc.shift();
    --ye;
  }
  if (!xc[0]) {
    // n - n = +0
    y.s = 1;

    // Result must be zero.
    xc = [ye = 0];
  }
  y.c = xc;
  y.e = ye;
  return y;
};

/*
 * Return a new Big whose value is the value of this Big modulo the value of Big y.
 */
P.mod = function (y) {
  var ygtx,
    x = this,
    Big = x.constructor,
    a = x.s,
    b = (y = new Big(y)).s;
  if (!y.c[0]) {
    throw Error(DIV_BY_ZERO);
  }
  x.s = y.s = 1;
  ygtx = y.cmp(x) == 1;
  x.s = a;
  y.s = b;
  if (ygtx) return new Big(x);
  a = Big.DP;
  b = Big.RM;
  Big.DP = Big.RM = 0;
  x = x.div(y);
  Big.DP = a;
  Big.RM = b;
  return this.minus(x.times(y));
};

/*
 * Return a new Big whose value is the value of this Big negated.
 */
P.neg = function () {
  var x = new this.constructor(this);
  x.s = -x.s;
  return x;
};

/*
 * Return a new Big whose value is the value of this Big plus the value of Big y.
 */
P.plus = P.add = function (y) {
  var e,
    k,
    t,
    x = this,
    Big = x.constructor;
  y = new Big(y);

  // Signs differ?
  if (x.s != y.s) {
    y.s = -y.s;
    return x.minus(y);
  }
  var xe = x.e,
    xc = x.c,
    ye = y.e,
    yc = y.c;

  // Either zero?
  if (!xc[0] || !yc[0]) {
    if (!yc[0]) {
      if (xc[0]) {
        y = new Big(x);
      } else {
        y.s = x.s;
      }
    }
    return y;
  }
  xc = xc.slice();

  // Prepend zeros to equalise exponents.
  // Note: reverse faster than unshifts.
  if (e = xe - ye) {
    if (e > 0) {
      ye = xe;
      t = yc;
    } else {
      e = -e;
      t = xc;
    }
    t.reverse();
    for (; e--;) t.push(0);
    t.reverse();
  }

  // Point xc to the longer array.
  if (xc.length - yc.length < 0) {
    t = yc;
    yc = xc;
    xc = t;
  }
  e = yc.length;

  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.
  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;

  // No need to check for zero, as +x + +y != 0 && -x + -y != 0

  if (k) {
    xc.unshift(k);
    ++ye;
  }

  // Remove trailing zeros.
  for (e = xc.length; xc[--e] === 0;) xc.pop();
  y.c = xc;
  y.e = ye;
  return y;
};

/*
 * Return a Big whose value is the value of this Big raised to the power n.
 * If n is negative, round to a maximum of Big.DP decimal places using rounding
 * mode Big.RM.
 *
 * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.
 */
P.pow = function (n) {
  var x = this,
    one = new x.constructor('1'),
    y = one,
    isneg = n < 0;
  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {
    throw Error(INVALID + 'exponent');
  }
  if (isneg) n = -n;
  for (;;) {
    if (n & 1) y = y.times(x);
    n >>= 1;
    if (!n) break;
    x = x.times(x);
  }
  return isneg ? one.div(y) : y;
};

/*
 * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd
 * significant digits using rounding mode rm, or Big.RM if rm is not specified.
 *
 * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.
 * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 */
P.prec = function (sd, rm) {
  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {
    throw Error(INVALID + 'precision');
  }
  return round(new this.constructor(this), sd, rm);
};

/*
 * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places
 * using rounding mode rm, or Big.RM if rm is not specified.
 * If dp is negative, round to an integer which is a multiple of 10**-dp.
 * If dp is not specified, round to 0 decimal places.
 *
 * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.
 * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 */
P.round = function (dp, rm) {
  if (dp === UNDEFINED) dp = 0;else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {
    throw Error(INVALID_DP);
  }
  return round(new this.constructor(this), dp + this.e + 1, rm);
};

/*
 * Return a new Big whose value is the square root of the value of this Big, rounded, if
 * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.
 */
P.sqrt = function () {
  var r,
    c,
    t,
    x = this,
    Big = x.constructor,
    s = x.s,
    e = x.e,
    half = new Big('0.5');

  // Zero?
  if (!x.c[0]) return new Big(x);

  // Negative?
  if (s < 0) {
    throw Error(NAME + 'No square root');
  }

  // Estimate.
  s = Math.sqrt(x + '');

  // Math.sqrt underflow/overflow?
  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.
  if (s === 0 || s === 1 / 0) {
    c = x.c.join('');
    if (!(c.length + e & 1)) c += '0';
    s = Math.sqrt(c);
    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);
    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);
  } else {
    r = new Big(s + '');
  }
  e = r.e + (Big.DP += 4);

  // Newton-Raphson iteration.
  do {
    t = r;
    r = half.times(t.plus(x.div(t)));
  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));
  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);
};

/*
 * Return a new Big whose value is the value of this Big times the value of Big y.
 */
P.times = P.mul = function (y) {
  var c,
    x = this,
    Big = x.constructor,
    xc = x.c,
    yc = (y = new Big(y)).c,
    a = xc.length,
    b = yc.length,
    i = x.e,
    j = y.e;

  // Determine sign of result.
  y.s = x.s == y.s ? 1 : -1;

  // Return signed 0 if either 0.
  if (!xc[0] || !yc[0]) {
    y.c = [y.e = 0];
    return y;
  }

  // Initialise exponent of result as x.e + y.e.
  y.e = i + j;

  // If array xc has fewer digits than yc, swap xc and yc, and lengths.
  if (a < b) {
    c = xc;
    xc = yc;
    yc = c;
    j = a;
    a = b;
    b = j;
  }

  // Initialise coefficient array of result with zeros.
  for (c = new Array(j = a + b); j--;) c[j] = 0;

  // Multiply.

  // i is initially xc.length.
  for (i = b; i--;) {
    b = 0;

    // a is yc.length.
    for (j = a + i; j > i;) {
      // Current sum of products at this digit position, plus carry.
      b = c[j] + yc[i] * xc[j - i - 1] + b;
      c[j--] = b % 10;

      // carry
      b = b / 10 | 0;
    }
    c[j] = b;
  }

  // Increment result exponent if there is a final carry, otherwise remove leading zero.
  if (b) ++y.e;else c.shift();

  // Remove trailing zeros.
  for (i = c.length; !c[--i];) c.pop();
  y.c = c;
  return y;
};

/*
 * Return a string representing the value of this Big in exponential notation rounded to dp fixed
 * decimal places using rounding mode rm, or Big.RM if rm is not specified.
 *
 * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.
 * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 */
P.toExponential = function (dp, rm) {
  var x = this,
    n = x.c[0];
  if (dp !== UNDEFINED) {
    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
      throw Error(INVALID_DP);
    }
    x = round(new x.constructor(x), ++dp, rm);
    for (; x.c.length < dp;) x.c.push(0);
  }
  return stringify(x, true, !!n);
};

/*
 * Return a string representing the value of this Big in normal notation rounded to dp fixed
 * decimal places using rounding mode rm, or Big.RM if rm is not specified.
 *
 * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.
 * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 *
 * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.
 * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.
 */
P.toFixed = function (dp, rm) {
  var x = this,
    n = x.c[0];
  if (dp !== UNDEFINED) {
    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {
      throw Error(INVALID_DP);
    }
    x = round(new x.constructor(x), dp + x.e + 1, rm);

    // x.e may have changed if the value is rounded up.
    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);
  }
  return stringify(x, false, !!n);
};

/*
 * Return a string representing the value of this Big.
 * Return exponential notation if this Big has a positive exponent equal to or greater than
 * Big.PE, or a negative exponent equal to or less than Big.NE.
 * Omit the sign for negative zero.
 */
P[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {
  var x = this,
    Big = x.constructor;
  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);
};

/*
 * Return the value of this Big as a primitve number.
 */
P.toNumber = function () {
  var n = Number(stringify(this, true, true));
  if (this.constructor.strict === true && !this.eq(n.toString())) {
    throw Error(NAME + 'Imprecise conversion');
  }
  return n;
};

/*
 * Return a string representing the value of this Big rounded to sd significant digits using
 * rounding mode rm, or Big.RM if rm is not specified.
 * Use exponential notation if sd is less than the number of digits necessary to represent
 * the integer part of the value in normal notation.
 *
 * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.
 * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).
 */
P.toPrecision = function (sd, rm) {
  var x = this,
    Big = x.constructor,
    n = x.c[0];
  if (sd !== UNDEFINED) {
    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {
      throw Error(INVALID + 'precision');
    }
    x = round(new Big(x), sd, rm);
    for (; x.c.length < sd;) x.c.push(0);
  }
  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);
};

/*
 * Return a string representing the value of this Big.
 * Return exponential notation if this Big has a positive exponent equal to or greater than
 * Big.PE, or a negative exponent equal to or less than Big.NE.
 * Include the sign for negative zero.
 */
P.valueOf = function () {
  var x = this,
    Big = x.constructor;
  if (Big.strict === true) {
    throw Error(NAME + 'valueOf disallowed');
  }
  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);
};

// Export

var Big = _Big_();

/// <reference types="https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts" />
/* unused harmony default export */ var __WEBPACK_DEFAULT_EXPORT__ = (Big);

/***/ }),

/***/ "./src/lib/fasterdom/fasterdom.ts":
/*!****************************************!*\
  !*** ./src/lib/fasterdom/fasterdom.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   forceMeasure: () => (/* reexport safe */ _stricterdom__WEBPACK_IMPORTED_MODULE_2__.forceMeasure),
/* harmony export */   requestForcedReflow: () => (/* binding */ requestForcedReflow),
/* harmony export */   requestMeasure: () => (/* binding */ requestMeasure),
/* harmony export */   requestMutation: () => (/* binding */ requestMutation)
/* harmony export */ });
/* unused harmony export requestNextMutation */
/* harmony import */ var _util_safeExec__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../util/safeExec */ "./src/util/safeExec.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _stricterdom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stricterdom */ "./src/lib/fasterdom/stricterdom.ts");



let pendingMeasureTasks = [];
let pendingMutationTasks = [];
let pendingForceReflowTasks = [];
const runUpdatePassOnRaf = throttleWithRafFallback(() => {
  const currentMeasureTasks = pendingMeasureTasks;
  pendingMeasureTasks = [];
  currentMeasureTasks.forEach(task => {
    (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_0__["default"])(task);
  });

  // We use promises to provide correct order for Mutation Observer callback microtasks
  Promise.resolve().then(() => {
    (0,_stricterdom__WEBPACK_IMPORTED_MODULE_2__.setPhase)('mutate');
    const currentMutationTasks = pendingMutationTasks;
    pendingMutationTasks = [];
    currentMutationTasks.forEach(task => {
      (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_0__["default"])(task);
    });
  }).then(() => {
    (0,_stricterdom__WEBPACK_IMPORTED_MODULE_2__.setPhase)('measure');
    const pendingForceReflowMutationTasks = [];
    // Will include tasks created during the loop
    for (const task of pendingForceReflowTasks) {
      (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_0__["default"])(() => {
        const mutationTask = task();
        if (mutationTask) {
          pendingForceReflowMutationTasks.push(mutationTask);
        }
      });
    }
    pendingForceReflowTasks = [];
    return pendingForceReflowMutationTasks;
  }).then(pendingForceReflowMutationTasks => {
    (0,_stricterdom__WEBPACK_IMPORTED_MODULE_2__.setPhase)('mutate');

    // Will include tasks created during the loop
    for (const task of pendingForceReflowMutationTasks) {
      (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_0__["default"])(task);
    }
  }).then(() => {
    (0,_stricterdom__WEBPACK_IMPORTED_MODULE_2__.setPhase)('measure');
  });
});
function requestMeasure(cb) {
  pendingMeasureTasks.push(cb);
  runUpdatePassOnRaf();
}
function requestMutation(cb) {
  pendingMutationTasks.push(cb);
  runUpdatePassOnRaf();
}
function requestNextMutation(cb) {
  requestMeasure(() => {
    requestMutation(cb);
  });
}
function requestForcedReflow(cb) {
  pendingForceReflowTasks.push(cb);
  runUpdatePassOnRaf();
}
function throttleWithRafFallback(fn) {
  return (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttleWith)(throttledFn => {
    (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_1__.fastRaf)(throttledFn, true);
  }, fn);
}


/***/ }),

/***/ "./src/lib/fasterdom/layoutCauses.ts":
/*!*******************************************!*\
  !*** ./src/lib/fasterdom/layoutCauses.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// https://gist.github.com/paulirish/5d52fb081b3570c81e3a

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  Element: {
    props: ['clientLeft', 'clientTop', 'clientWidth', 'clientHeight', 'scrollWidth', 'scrollHeight', 'scrollLeft', 'scrollTop'],
    methods: ['getClientRects', 'getBoundingClientRect', 'scrollBy', 'scrollTo', 'scrollIntoView', 'scrollIntoViewIfNeeded']
  },
  HTMLElement: {
    props: ['offsetLeft', 'offsetTop', 'offsetWidth', 'offsetHeight', 'offsetParent', 'innerText'],
    methods: ['focus']
  },
  window: {
    props: ['scrollX', 'scrollY', 'innerHeight', 'innerWidth'],
    methods: ['getComputedStyle']
  },
  VisualViewport: {
    props: ['height', 'width', 'offsetTop', 'offsetLeft']
  },
  Document: {
    props: ['scrollingElement'],
    methods: ['elementFromPoint']
  },
  HTMLInputElement: {
    methods: ['select']
  },
  MouseEvent: {
    props: ['layerX', 'layerY', 'offsetX', 'offsetY']
  },
  Range: {
    methods: ['getClientRects', 'getBoundingClientRect']
  }
});

/***/ }),

/***/ "./src/lib/fasterdom/stricterdom.ts":
/*!******************************************!*\
  !*** ./src/lib/fasterdom/stricterdom.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   enableStrict: () => (/* binding */ enableStrict),
/* harmony export */   forceMeasure: () => (/* binding */ forceMeasure),
/* harmony export */   setPhase: () => (/* binding */ setPhase)
/* harmony export */ });
/* unused harmony exports getPhase, disableStrict, forceMutation, setHandler */
/* harmony import */ var _layoutCauses__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layoutCauses */ "./src/lib/fasterdom/layoutCauses.ts");

// eslint-disable-next-line no-console
const DEFAULT_ERROR_HANDLER = console.error;
let onError = DEFAULT_ERROR_HANDLER;
const nativeMethods = new Map();
let phase = 'measure';
let isStrict = false;
let observer;
function setPhase(newPhase) {
  phase = newPhase;
}
function getPhase() {
  return phase;
}
function enableStrict() {
  if (isStrict) return;
  isStrict = true;
  setupLayoutDetectors();
  setupMutationObserver();
}
function disableStrict() {
  if (!isStrict) return;
  clearMutationObserver();
  clearLayoutDetectors();
  isStrict = false;
}
function forceMeasure(cb) {
  if (phase !== 'mutate') {
    throw new Error('The current phase is \'measure\'');
  }
  phase = 'measure';
  const result = cb();
  phase = 'mutate';
  return result;
}
const forcedMutationAllowedFor = new Set();
function forceMutation(cb, nodes) {
  if (phase !== 'measure') {
    throw new Error('The current phase is \'mutate\'');
  }
  if (isStrict) {
    if (Array.isArray(nodes)) {
      nodes.forEach(node => {
        forcedMutationAllowedFor.add(node);
      });
    } else {
      forcedMutationAllowedFor.add(nodes);
    }
  }
  return cb();
}
function setHandler(handler) {
  onError = handler || DEFAULT_ERROR_HANDLER;
}
function setupLayoutDetectors() {
  Object.entries(_layoutCauses__WEBPACK_IMPORTED_MODULE_0__["default"]).forEach(_ref => {
    let [name, causes] = _ref;
    const entity = window[name];
    if (!entity) return;
    const prototype = typeof entity === 'object' ? entity : entity.prototype;
    if ('props' in causes) {
      causes.props.forEach(prop => {
        var _Object$getOwnPropert;
        const nativeGetter = (_Object$getOwnPropert = Object.getOwnPropertyDescriptor(prototype, prop)) === null || _Object$getOwnPropert === void 0 ? void 0 : _Object$getOwnPropert.get;
        if (!nativeGetter) {
          return;
        }
        nativeMethods.set(`${name}#${prop}`, nativeGetter);
        Object.defineProperty(prototype, prop, {
          get() {
            onMeasure(prop);
            return nativeGetter.call(this);
          }
        });
      });
    }
    if ('methods' in causes) {
      causes.methods.forEach(method => {
        const nativeMethod = prototype[method];
        nativeMethods.set(`${name}#${method}`, nativeMethod);

        // eslint-disable-next-line func-names
        prototype[method] = function () {
          onMeasure(method);
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          return nativeMethod.apply(this, args);
        };
      });
    }
  });
}
function clearLayoutDetectors() {
  Object.entries(_layoutCauses__WEBPACK_IMPORTED_MODULE_0__["default"]).forEach(_ref2 => {
    let [name, causes] = _ref2;
    const entity = window[name];
    if (!entity) return;
    const prototype = typeof entity === 'object' ? entity : entity.prototype;
    if ('props' in causes) {
      causes.props.forEach(prop => {
        const nativeGetter = nativeMethods.get(`${name}#${prop}`);
        if (!nativeGetter) {
          return;
        }
        Object.defineProperty(prototype, prop, {
          get: nativeGetter
        });
      });
    }
    if ('methods' in causes) {
      causes.methods.forEach(method => {
        prototype[method] = nativeMethods.get(`${name}#${method}`);
      });
    }
  });
  nativeMethods.clear();
}
function setupMutationObserver() {
  observer = new MutationObserver(mutations => {
    if (phase !== 'mutate') {
      mutations.forEach(_ref3 => {
        let {
          target,
          type,
          attributeName
        } = _ref3;
        if (!document.contains(target)) {
          return;
        }
        if (forcedMutationAllowedFor.has(target)) {
          return;
        }
        if (type === 'childList' && target instanceof HTMLElement && target.contentEditable) {
          return;
        }
        if (attributeName !== null && attributeName !== void 0 && attributeName.startsWith('data-')) {
          return;
        }

        // eslint-disable-next-line no-console
        onError(new Error(`Unexpected mutation detected: \`${type === 'attributes' ? attributeName : type}\``));
      });
    }
    forcedMutationAllowedFor.clear();
  });
  observer.observe(document.body, {
    childList: true,
    attributes: true,
    subtree: true,
    characterData: false
  });
}
function clearMutationObserver() {
  var _observer;
  (_observer = observer) === null || _observer === void 0 ? void 0 : _observer.disconnect();
  observer = undefined;
}
function onMeasure(propName) {
  if (phase !== 'measure') {
    onError(new Error(`Unexpected measurement detected: \`${propName}\``));
  }
}

/***/ }),

/***/ "./src/lib/rlottie/RLottie.async.ts":
/*!******************************************!*\
  !*** ./src/lib/rlottie/RLottie.async.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ensureRLottie: () => (/* binding */ ensureRLottie),
/* harmony export */   getRLottie: () => (/* binding */ getRLottie)
/* harmony export */ });
let promise;
let RLottie;

// Time for the main interface to completely load
const LOTTIE_LOAD_DELAY = 3000;
async function ensureRLottie() {
  if (!promise) {
    promise = __webpack_require__.e(/*! import() */ "src_lib_rlottie_RLottie_ts").then(__webpack_require__.bind(__webpack_require__, /*! ./RLottie */ "./src/lib/rlottie/RLottie.ts")).then(module => module.default);
    RLottie = await promise;
  }
  return promise;
}
function getRLottie() {
  return RLottie;
}
setTimeout(ensureRLottie, LOTTIE_LOAD_DELAY);

/***/ }),

/***/ "./src/lib/teact/dom-events.ts":
/*!*************************************!*\
  !*** ./src/lib/teact/dom-events.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addEventListener: () => (/* binding */ addEventListener),
/* harmony export */   removeAllDelegatedListeners: () => (/* binding */ removeAllDelegatedListeners),
/* harmony export */   removeEventListener: () => (/* binding */ removeEventListener)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");

const NON_BUBBLEABLE_EVENTS = new Set(['scroll', 'mouseenter', 'mouseleave', 'load']);
const documentEventCounters = {};
const delegationRegistryByEventType = {};
const delegatedEventTypesByElement = new Map();
function addEventListener(element, propName, handler) {
  let asCapture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const eventType = resolveEventType(propName, element);
  if (canUseEventDelegation(eventType, element, asCapture)) {
    addDelegatedListener(eventType, element, handler);
  } else {
    element.addEventListener(eventType, handler, asCapture);
  }
}
function removeEventListener(element, propName, handler) {
  let asCapture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const eventType = resolveEventType(propName, element);
  if (canUseEventDelegation(eventType, element, asCapture)) {
    removeDelegatedListener(eventType, element);
  } else {
    element.removeEventListener(eventType, handler, asCapture);
  }
}
function resolveEventType(propName, element) {
  const eventType = propName.replace(/^on/, '').replace(/Capture$/, '').toLowerCase();
  if (eventType === 'change' && element.tagName !== 'SELECT') {
    // React behavior repeated here.
    // https://stackoverflow.com/questions/38256332/in-react-whats-the-difference-between-onchange-and-oninput
    return 'input';
  }
  if (eventType === 'doubleclick') {
    return 'dblclick';
  }

  // Replace focus/blur by their "bubbleable" versions
  if (eventType === 'focus') {
    return 'focusin';
  }
  if (eventType === 'blur') {
    return 'focusout';
  }
  return eventType;
}
function canUseEventDelegation(realEventType, element, asCapture) {
  return !asCapture && !NON_BUBBLEABLE_EVENTS.has(realEventType) && element.tagName !== 'VIDEO' && element.tagName !== 'IFRAME';
}
function addDelegatedListener(eventType, element, handler) {
  if (!documentEventCounters[eventType]) {
    documentEventCounters[eventType] = 0;
    document.addEventListener(eventType, handleEvent);
  }
  resolveDelegationRegistry(eventType).set(element, handler);
  resolveDelegatedEventTypes(element).add(eventType);
  documentEventCounters[eventType]++;
}
function removeDelegatedListener(eventType, element) {
  documentEventCounters[eventType]--;
  if (!documentEventCounters[eventType]) {
    // Synchronous deletion on 0 will cause perf degradation in the case of 1 element
    // which is not a real case, so it's ok to do it this way
    document.removeEventListener(eventType, handleEvent);
  }
  delegationRegistryByEventType[eventType].delete(element);
  delegatedEventTypesByElement.get(element).delete(eventType);
}
function removeAllDelegatedListeners(element) {
  const eventTypes = delegatedEventTypesByElement.get(element);
  if (!eventTypes) {
    return;
  }
  eventTypes.forEach(eventType => removeDelegatedListener(eventType, element));
  delegatedEventTypesByElement.delete(element);
}
function handleEvent(realEvent) {
  const events = delegationRegistryByEventType[realEvent.type];
  if (events) {
    let furtherCallsPrevented = false;
    let current = realEvent.target;
    const stopPropagation = () => {
      furtherCallsPrevented = true;
    };
    const preventDefault = () => {
      realEvent.preventDefault();
    };

    // Proxy is a simplest way to provide an access to the event property
    const event = new Proxy(realEvent, {
      get(target, p) {
        if (p === 'currentTarget') {
          return current;
        }
        if (p === 'stopPropagation' || p === 'stopImmediatePropagation') {
          return stopPropagation;
        }
        if (p === 'preventDefault') {
          // "this" is changed to proxy and one can't call methods via it
          return preventDefault;
        }
        return Reflect.get(target, p);
      }
    });

    // This can also be limited by teact root
    while (current && current !== document.body) {
      const handler = events.get(current);
      if (handler) {
        handler(event);
        if (furtherCallsPrevented) {
          return;
        }
      }
      current = current.parentNode;
    }
  }
}
function resolveDelegationRegistry(eventType) {
  if (!delegationRegistryByEventType[eventType]) {
    delegationRegistryByEventType[eventType] = new Map();
  }
  return delegationRegistryByEventType[eventType];
}
function resolveDelegatedEventTypes(element) {
  const existing = delegatedEventTypesByElement.get(element);
  if (existing) {
    return existing;
  }
  const newSet = new Set();
  delegatedEventTypesByElement.set(element, newSet);
  return newSet;
}
if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
  document.addEventListener('dblclick', () => {
    const documentListenersCount = Object.keys(documentEventCounters).length;
    const delegatedHandlersCount1 = Object.values(documentEventCounters).reduce((acc, counter) => acc + counter, 0);
    const delegationRegistriesCount = Object.keys(delegationRegistryByEventType).length;
    const delegatedHandlersCount2 = Object.values(delegationRegistryByEventType).reduce((acc, delegationRegistry) => acc + delegationRegistry.size, 0);
    const delegationElementsCount = delegatedEventTypesByElement.size;
    const delegatedEventTypesCount = Array.from(delegatedEventTypesByElement.values()).reduce((acc, eventTypes) => acc + eventTypes.size, 0);

    // eslint-disable-next-line no-console
    console.warn('DELEGATED EVENTS STATS', {
      delegatedHandlersCount1,
      delegatedHandlersCount2,
      delegatedEventTypesCount,
      delegationRegistriesCount,
      delegationElementsCount,
      documentListenersCount
    });
  });
}

/***/ }),

/***/ "./src/lib/teact/teact-dom.ts":
/*!************************************!*\
  !*** ./src/lib/teact/teact-dom.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addExtraClass: () => (/* binding */ addExtraClass),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   removeExtraClass: () => (/* binding */ removeExtraClass),
/* harmony export */   setExtraStyles: () => (/* binding */ setExtraStyles),
/* harmony export */   toggleExtraClass: () => (/* binding */ toggleExtraClass)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _dom_events__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dom-events */ "./src/lib/teact/dom-events.ts");
/* harmony import */ var _teact__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./teact */ "./src/lib/teact/teact.ts");




const FILTERED_ATTRIBUTES = new Set(['key', 'ref', 'teactFastList', 'teactOrderKey']);
const HTML_ATTRIBUTES = new Set(['dir', 'role', 'form']);
const CONTROLLABLE_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];
const MAPPED_ATTRIBUTES = {
  autoPlay: 'autoplay',
  autoComplete: 'autocomplete',
  autoCapitalize: 'autocapitalize'
};
const INDEX_KEY_PREFIX = '__indexKey#';
const headsByElement = new WeakMap();
const extraClasses = new WeakMap();
const extraStyles = new WeakMap();

// eslint-disable-next-line @typescript-eslint/naming-convention
let DEBUG_virtualTreeSize = 1;
function render($element, parentEl) {
  if (!headsByElement.has(parentEl)) {
    headsByElement.set(parentEl, {
      children: []
    });
  }
  const runImmediateEffects = (0,_teact__WEBPACK_IMPORTED_MODULE_3__.captureImmediateEffects)();
  const $head = headsByElement.get(parentEl);
  const $renderedChild = renderWithVirtual(parentEl, $head.children[0], $element, $head, 0);
  runImmediateEffects === null || runImmediateEffects === void 0 ? void 0 : runImmediateEffects();
  $head.children = $renderedChild ? [$renderedChild] : [];
  if (false) {}
  return undefined;
}
function renderWithVirtual(parentEl, $current, $new, $parent, index) {
  var _$new, _$new2, _$new3;
  let options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};
  const {
    skipComponentUpdate,
    fragment
  } = options;
  let {
    nextSibling,
    isSvg
  } = options;
  const isCurrentComponent = ($current === null || $current === void 0 ? void 0 : $current.type) === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Component;
  const isNewComponent = ((_$new = $new) === null || _$new === void 0 ? void 0 : _$new.type) === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Component;
  const $newAsReal = $new;
  const isCurrentFragment = !isCurrentComponent && ($current === null || $current === void 0 ? void 0 : $current.type) === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment;
  const isNewFragment = !isNewComponent && ((_$new2 = $new) === null || _$new2 === void 0 ? void 0 : _$new2.type) === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment;
  if (((_$new3 = $new) === null || _$new3 === void 0 ? void 0 : _$new3.type) === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag && $new.tag === 'svg') {
    isSvg = true;
  }
  if (!skipComponentUpdate && isCurrentComponent && isNewComponent && !(0,_teact__WEBPACK_IMPORTED_MODULE_3__.hasElementChanged)($current, $new)) {
    $new = updateComponent($current, $new);
  }

  // Parent element may have changed, so we need to update the listener closure.
  if (!skipComponentUpdate && isNewComponent && $new.componentInstance.mountState === _teact__WEBPACK_IMPORTED_MODULE_3__.MountState.Mounted) {
    setupComponentUpdateListener(parentEl, $new, $parent, index);
  }
  if ($current === $new) {
    return $new;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG && $new) {
    const newTarget = 'target' in $new && $new.target;
    if (newTarget && (!$current || 'target' in $current && newTarget !== $current.target)) {
      throw new Error('[Teact] Cached virtual element was moved within tree');
    }
  }
  if (!$current && $new) {
    if (isNewComponent || isNewFragment) {
      if (isNewComponent) {
        $new = initComponent(parentEl, $new, $parent, index);
      }
      mountChildren(parentEl, $new, {
        nextSibling,
        fragment,
        isSvg
      });
    } else {
      const canSetTextContent = !fragment && !nextSibling && $newAsReal.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Text && $parent.children.length === 1 && !parentEl.firstChild;
      if (canSetTextContent) {
        parentEl.textContent = $newAsReal.value;
        $newAsReal.target = parentEl.firstChild;
      } else {
        const node = createNode($newAsReal, isSvg);
        $newAsReal.target = node;
        insertBefore(fragment || parentEl, node, nextSibling);
        if ($newAsReal.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag) {
          setElementRef($newAsReal, node);
        }
      }
    }
  } else if ($current && !$new) {
    remount(parentEl, $current, undefined);
  } else if ($current && $new) {
    if ((0,_teact__WEBPACK_IMPORTED_MODULE_3__.hasElementChanged)($current, $new)) {
      if (!nextSibling) {
        nextSibling = getNextSibling($current);
      }
      if (isNewComponent || isNewFragment) {
        if (isNewComponent) {
          $new = initComponent(parentEl, $new, $parent, index);
        }
        remount(parentEl, $current, undefined);
        mountChildren(parentEl, $new, {
          nextSibling,
          fragment,
          isSvg
        });
      } else {
        const node = createNode($newAsReal, isSvg);
        $newAsReal.target = node;
        remount(parentEl, $current, node, nextSibling);
        if ($newAsReal.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag) {
          setElementRef($newAsReal, node);
        }
      }
    } else {
      const isComponent = isCurrentComponent && isNewComponent;
      const isFragment = isCurrentFragment && isNewFragment;
      if (isComponent || isFragment) {
        renderChildren($current, $new, parentEl, nextSibling, options.forceMoveToEnd);
      } else {
        const $currentAsReal = $current;
        const currentTarget = $currentAsReal.target;
        $newAsReal.target = currentTarget;
        $currentAsReal.target = undefined; // Help GC

        const isTag = $current.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag;
        if (isTag) {
          const $newAsTag = $new;
          setElementRef($current, undefined);
          setElementRef($newAsTag, currentTarget);
          if (nextSibling || options.forceMoveToEnd) {
            insertBefore(parentEl, currentTarget, nextSibling);
          }
          updateAttributes($current, $newAsTag, currentTarget, isSvg);
          renderChildren($current, $newAsTag, currentTarget, undefined, undefined, isSvg);
        }
      }
    }
  }
  return $new;
}
function initComponent(parentEl, $element, $parent, index) {
  const {
    componentInstance
  } = $element;
  if (componentInstance.mountState === _teact__WEBPACK_IMPORTED_MODULE_3__.MountState.New) {
    $element = (0,_teact__WEBPACK_IMPORTED_MODULE_3__.mountComponent)(componentInstance);
    setupComponentUpdateListener(parentEl, $element, $parent, index);
  }
  return $element;
}
function updateComponent($current, $new) {
  $current.componentInstance.props = $new.componentInstance.props;
  return (0,_teact__WEBPACK_IMPORTED_MODULE_3__.renderComponent)($current.componentInstance);
}
function setupComponentUpdateListener(parentEl, $element, $parent, index) {
  const {
    componentInstance
  } = $element;
  componentInstance.onUpdate = () => {
    $parent.children[index] = renderWithVirtual(parentEl, $parent.children[index], componentInstance.$element, $parent, index, {
      skipComponentUpdate: true
    });
  };
}
function mountChildren(parentEl, $element, options) {
  const {
    children
  } = $element;
  for (let i = 0, l = children.length; i < l; i++) {
    const $child = children[i];
    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $element, i, options);
    if ($renderedChild !== $child) {
      children[i] = $renderedChild;
    }
  }
}
function unmountChildren(parentEl, $element) {
  for (const $child of $element.children) {
    renderWithVirtual(parentEl, $child, undefined, $element, -1);
  }
}
function createNode($element, isSvg) {
  if ($element.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Empty) {
    return document.createTextNode('');
  }
  if ($element.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Text) {
    return document.createTextNode($element.value);
  }
  const {
    tag,
    props,
    children
  } = $element;
  const element = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', tag) : document.createElement(tag);
  processControlled(tag, props);

  // eslint-disable-next-line no-restricted-syntax
  for (const key in props) {
    if (!props.hasOwnProperty(key)) continue;
    if (props[key] !== undefined) {
      setAttribute(element, key, props[key], isSvg);
    }
  }
  processUncontrolledOnMount(element, props);
  for (let i = 0, l = children.length; i < l; i++) {
    const $child = children[i];
    const $renderedChild = renderWithVirtual(element, undefined, $child, $element, i, {
      isSvg
    });
    if ($renderedChild !== $child) {
      children[i] = $renderedChild;
    }
  }
  return element;
}
function remount(parentEl, $current, node, componentNextSibling) {
  const isComponent = $current.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Component;
  const isFragment = !isComponent && $current.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment;
  if (isComponent || isFragment) {
    if (isComponent) {
      (0,_teact__WEBPACK_IMPORTED_MODULE_3__.unmountComponent)($current.componentInstance);
    }
    unmountChildren(parentEl, $current);
    if (node) {
      insertBefore(parentEl, node, componentNextSibling);
    }
  } else {
    if (node) {
      parentEl.replaceChild(node, $current.target);
    } else {
      parentEl.removeChild($current.target);
    }
    unmountRealTree($current);
  }
}
function unmountRealTree($element) {
  if ($element.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Component) {
    (0,_teact__WEBPACK_IMPORTED_MODULE_3__.unmountComponent)($element.componentInstance);
  } else if ($element.type !== _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment) {
    if ($element.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag) {
      extraClasses.delete($element.target);
      setElementRef($element, undefined);
      (0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeAllDelegatedListeners)($element.target);
    }
    $element.target = undefined; // Help GC

    if ($element.type !== _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Tag) {
      return;
    }
  }
  for (const $child of $element.children) {
    unmountRealTree($child);
  }
}
function insertBefore(parentEl, node, nextSibling) {
  if (nextSibling) {
    parentEl.insertBefore(node, nextSibling);
  } else {
    parentEl.appendChild(node);
  }
}
function getNextSibling($current) {
  if ($current.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Component || $current.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment) {
    const lastChild = $current.children[$current.children.length - 1];
    return getNextSibling(lastChild);
  }
  return $current.target.nextSibling || undefined;
}
function renderChildren($current, $new, currentEl, nextSibling) {
  let forceMoveToEnd = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  let isSvg = arguments.length > 5 ? arguments[5] : undefined;
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    DEBUG_checkKeyUniqueness($new.children);
  }
  if ('props' in $new && $new.props.teactFastList) {
    renderFastListChildren($current, $new, currentEl);
    return;
  }
  const currentChildren = $current.children;
  const newChildren = $new.children;
  const currentChildrenLength = currentChildren.length;
  const newChildrenLength = newChildren.length;
  const maxLength = Math.max(currentChildrenLength, newChildrenLength);
  const fragment = newChildrenLength > currentChildrenLength ? document.createDocumentFragment() : undefined;
  const lastCurrentChild = $current.children[currentChildrenLength - 1];
  const fragmentNextSibling = fragment && (nextSibling || (lastCurrentChild ? getNextSibling(lastCurrentChild) : undefined));
  for (let i = 0; i < maxLength; i++) {
    const $renderedChild = renderWithVirtual(currentEl, currentChildren[i], newChildren[i], $new, i, i >= currentChildrenLength ? {
      fragment,
      isSvg
    } : {
      nextSibling,
      forceMoveToEnd,
      isSvg
    });
    if ($renderedChild && $renderedChild !== newChildren[i]) {
      newChildren[i] = $renderedChild;
    }
  }
  if (fragment) {
    insertBefore(currentEl, fragment, fragmentNextSibling);
  }
}

// This function allows to prepend/append a bunch of new DOM nodes to the top/bottom of preserved ones.
// It also allows to selectively move particular preserved nodes within their DOM list.
function renderFastListChildren($current, $new, currentEl) {
  const currentChildren = $current.children;
  const newChildren = $new.children;
  const newKeys = new Set();
  for (const $newChild of newChildren) {
    const key = 'props' in $newChild ? $newChild.props.key : undefined;
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG && (0,_teact__WEBPACK_IMPORTED_MODULE_3__.isParentElement)($newChild)) {
      // eslint-disable-next-line no-null/no-null
      if (key === undefined || key === null) {
        // eslint-disable-next-line no-console
        console.warn('Missing `key` in `teactFastList`');
      }
      if ($newChild.type === _teact__WEBPACK_IMPORTED_MODULE_3__.VirtualType.Fragment) {
        throw new Error('[Teact] Fragment can not be child of container with `teactFastList`');
      }
    }
    newKeys.add(key);
  }

  // Build a collection of old children that also remain in the new list
  let currentRemainingIndex = 0;
  const remainingByKey = {};
  for (let i = 0, l = currentChildren.length; i < l; i++) {
    const $currentChild = currentChildren[i];
    let key = 'props' in $currentChild ? $currentChild.props.key : undefined;
    // eslint-disable-next-line no-null/no-null
    const isKeyPresent = key !== undefined && key !== null;

    // First we process removed children
    if (isKeyPresent && !newKeys.has(key)) {
      renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);
      continue;
    } else if (!isKeyPresent) {
      const $newChild = newChildren[i];
      const newChildKey = $newChild && 'props' in $newChild ? $newChild.props.key : undefined;
      // If a non-key element remains at the same index we preserve it with a virtual `key`
      if ($newChild && !newChildKey) {
        key = `${INDEX_KEY_PREFIX}${i}`;
        // Otherwise, we just remove it
      } else {
        renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);
        continue;
      }
    }

    // Then we build up info about remaining children
    remainingByKey[key] = {
      $element: $currentChild,
      index: currentRemainingIndex++,
      orderKey: 'props' in $currentChild ? $currentChild.props.teactOrderKey : undefined
    };
  }
  let fragmentIndex;
  let fragmentSize;
  let currentPreservedIndex = 0;
  for (let i = 0, l = newChildren.length; i < l; i++) {
    const $newChild = newChildren[i];
    const key = 'props' in $newChild ? $newChild.props.key : `${INDEX_KEY_PREFIX}${i}`;
    const currentChildInfo = remainingByKey[key];
    if (!currentChildInfo) {
      if (fragmentSize === undefined) {
        fragmentIndex = i;
        fragmentSize = 0;
      }
      fragmentSize++;
      continue;
    }

    // This prepends new children to the top
    if (fragmentSize) {
      renderFragment(fragmentIndex, fragmentSize, currentEl, $new);
      fragmentSize = undefined;
      fragmentIndex = undefined;
    }

    // Now we check if a preserved node was moved within preserved list
    const newOrderKey = 'props' in $newChild ? $newChild.props.teactOrderKey : undefined;
    // That is indicated by a changed `teactOrderKey` value
    const shouldMoveNode = currentChildInfo.index !== currentPreservedIndex && (!newOrderKey || currentChildInfo.orderKey !== newOrderKey);
    const isMovingDown = shouldMoveNode && currentPreservedIndex > currentChildInfo.index;
    if (!shouldMoveNode || isMovingDown) {
      currentPreservedIndex++;
    }
    const nextSibling = currentEl.childNodes[isMovingDown ? i + 1 : i];
    const options = shouldMoveNode ? nextSibling ? {
      nextSibling
    } : {
      forceMoveToEnd: true
    } : undefined;
    const $renderedChild = renderWithVirtual(currentEl, currentChildInfo.$element, $newChild, $new, i, options);
    if ($renderedChild !== $newChild) {
      newChildren[i] = $renderedChild;
    }
  }

  // This appends new children to the bottom
  if (fragmentSize) {
    renderFragment(fragmentIndex, fragmentSize, currentEl, $new);
  }
}
function renderFragment(fragmentIndex, fragmentSize, parentEl, $parent) {
  const nextSibling = parentEl.childNodes[fragmentIndex];
  if (fragmentSize === 1) {
    const $child = $parent.children[fragmentIndex];
    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, fragmentIndex, {
      nextSibling
    });
    if ($renderedChild !== $child) {
      $parent.children[fragmentIndex] = $renderedChild;
    }
    return;
  }
  const fragment = document.createDocumentFragment();
  for (let i = fragmentIndex; i < fragmentIndex + fragmentSize; i++) {
    const $child = $parent.children[i];
    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, i, {
      fragment
    });
    if ($renderedChild !== $child) {
      $parent.children[i] = $renderedChild;
    }
  }
  insertBefore(parentEl, fragment, nextSibling);
}
function setElementRef($element, DOMElement) {
  const {
    ref
  } = $element.props;
  if (typeof ref === 'object') {
    ref.current = DOMElement;
  } else if (typeof ref === 'function') {
    ref(DOMElement);
  }
}
function processControlled(tag, props) {
  // TODO Remove after tests
  if (!props.teactExperimentControlled) {
    return;
  }
  const isValueControlled = props.value !== undefined;
  const isCheckedControlled = props.checked !== undefined;
  const isControlled = (isValueControlled || isCheckedControlled) && CONTROLLABLE_TAGS.includes(tag.toUpperCase());
  if (!isControlled) {
    return;
  }
  const {
    value,
    checked,
    onInput,
    onChange
  } = props;
  props.onChange = undefined;
  props.onInput = e => {
    onInput === null || onInput === void 0 ? void 0 : onInput(e);
    onChange === null || onChange === void 0 ? void 0 : onChange(e);
    if (value !== undefined && value !== e.currentTarget.value) {
      const {
        selectionStart,
        selectionEnd
      } = e.currentTarget;
      const isCaretAtEnd = selectionStart === selectionEnd && selectionEnd === e.currentTarget.value.length;
      e.currentTarget.value = value;
      if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {
        e.currentTarget.setSelectionRange(selectionStart, selectionEnd);
        const selectionState = {
          selectionStart,
          selectionEnd,
          isCaretAtEnd
        };
        // eslint-disable-next-line no-underscore-dangle
        e.currentTarget.dataset.__teactSelectionState = JSON.stringify(selectionState);
      }
    }
    if (checked !== undefined) {
      e.currentTarget.checked = checked;
    }
  };
}
function processUncontrolledOnMount(element, props) {
  if (!CONTROLLABLE_TAGS.includes(element.tagName)) {
    return;
  }
  if (props.defaultValue) {
    setAttribute(element, 'value', props.defaultValue);
  }
  if (props.defaultChecked) {
    setAttribute(element, 'checked', props.defaultChecked);
  }
}
function updateAttributes($current, $new, element, isSvg) {
  processControlled(element.tagName, $new.props);
  const currentEntries = Object.entries($current.props);
  const newEntries = Object.entries($new.props);
  for (const [key, currentValue] of currentEntries) {
    const newValue = $new.props[key];
    if (currentValue !== undefined && (newValue === undefined || currentValue !== newValue && key.startsWith('on'))) {
      removeAttribute(element, key, currentValue);
    }
  }
  for (const [key, newValue] of newEntries) {
    const currentValue = $current.props[key];
    if (newValue !== undefined && newValue !== currentValue) {
      setAttribute(element, key, newValue, isSvg);
    }
  }
}
function setAttribute(element, key, value, isSvg) {
  if (key === 'className') {
    updateClassName(element, value, isSvg);
  } else if (key === 'value') {
    const inputEl = element;
    if (inputEl.value !== value) {
      inputEl.value = value;

      // eslint-disable-next-line no-underscore-dangle
      const selectionStateJson = inputEl.dataset.__teactSelectionState;
      if (selectionStateJson) {
        const {
          selectionStart,
          selectionEnd,
          isCaretAtEnd
        } = JSON.parse(selectionStateJson);
        if (isCaretAtEnd) {
          const length = inputEl.value.length;
          inputEl.setSelectionRange(length, length);
        } else if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {
          inputEl.setSelectionRange(selectionStart, selectionEnd);
        }
      }
    }
  } else if (key === 'style') {
    updateStyle(element, value);
  } else if (key === 'dangerouslySetInnerHTML') {
    // eslint-disable-next-line no-underscore-dangle
    element.innerHTML = value.__html;
  } else if (key.startsWith('on')) {
    (0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.addEventListener)(element, key, value, key.endsWith('Capture'));
  } else if (isSvg || key.startsWith('data-') || key.startsWith('aria-') || HTML_ATTRIBUTES.has(key)) {
    element.setAttribute(key, value);
  } else if (!FILTERED_ATTRIBUTES.has(key)) {
    element[MAPPED_ATTRIBUTES[key] || key] = value;
  }
}
function removeAttribute(element, key, value) {
  if (key === 'className') {
    updateClassName(element, '');
  } else if (key === 'value') {
    element.value = '';
  } else if (key === 'style') {
    updateStyle(element, '');
  } else if (key === 'dangerouslySetInnerHTML') {
    element.innerHTML = '';
  } else if (key.startsWith('on')) {
    (0,_dom_events__WEBPACK_IMPORTED_MODULE_2__.removeEventListener)(element, key, value, key.endsWith('Capture'));
  } else if (!FILTERED_ATTRIBUTES.has(key)) {
    element.removeAttribute(key);
  }
}
function updateClassName(element, value, isSvg) {
  if (isSvg) {
    element.setAttribute('class', value);
    return;
  }
  const htmlElement = element;
  const extra = extraClasses.get(element);
  if (!extra) {
    htmlElement.className = value;
    return;
  }
  const extraArray = Array.from(extra);
  if (value) {
    extraArray.push(value);
  }
  htmlElement.className = extraArray.join(' ');
}
function updateStyle(element, value) {
  element.style.cssText = value;
  const extraObject = extraStyles.get(element);
  if (extraObject) {
    applyExtraStyles(element);
  }
}
function addExtraClass(element, className) {
  let forceSingle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (!forceSingle) {
    const classNames = className.split(' ');
    if (classNames.length > 1) {
      for (const cn of classNames) {
        addExtraClass(element, cn, true);
      }
      return;
    }
  }
  element.classList.add(className);
  const classList = extraClasses.get(element);
  if (classList) {
    classList.add(className);
  } else {
    extraClasses.set(element, new Set([className]));
  }
}
function removeExtraClass(element, className) {
  let forceSingle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (!forceSingle) {
    const classNames = className.split(' ');
    if (classNames.length > 1) {
      for (const cn of classNames) {
        removeExtraClass(element, cn, true);
      }
      return;
    }
  }
  element.classList.remove(className);
  const classList = extraClasses.get(element);
  if (classList) {
    classList.delete(className);
    if (!classList.size) {
      extraClasses.delete(element);
    }
  }
}
function toggleExtraClass(element, className, force) {
  let forceSingle = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  if (!forceSingle) {
    const classNames = className.split(' ');
    if (classNames.length > 1) {
      for (const cn of classNames) {
        toggleExtraClass(element, cn, force, true);
      }
      return;
    }
  }
  element.classList.toggle(className, force);
  if (element.classList.contains(className)) {
    addExtraClass(element, className);
  } else {
    removeExtraClass(element, className);
  }
}
function setExtraStyles(element, styles) {
  extraStyles.set(element, styles);
  applyExtraStyles(element);
}
function applyExtraStyles(element) {
  const standardStyles = Object.entries(extraStyles.get(element)).reduce((acc, _ref) => {
    let [prop, value] = _ref;
    if (prop.startsWith('--')) {
      element.style.setProperty(prop, value);
    } else {
      acc[prop] = value;
    }
    return acc;
  }, {});
  Object.assign(element.style, standardStyles);
}

// eslint-disable-next-line @typescript-eslint/naming-convention
function DEBUG_addToVirtualTreeSize($current) {
  DEBUG_virtualTreeSize += $current.children.length;
  $current.children.forEach($child => {
    if ((0,_teact__WEBPACK_IMPORTED_MODULE_3__.isParentElement)($child)) {
      DEBUG_addToVirtualTreeSize($child);
    }
  });
}

// eslint-disable-next-line @typescript-eslint/naming-convention
function DEBUG_checkKeyUniqueness(children) {
  const firstChild = children[0];
  if (firstChild && 'props' in firstChild && firstChild.props.key !== undefined) {
    const keys = children.reduce((acc, child) => {
      if ('props' in child && child.props.key) {
        acc.push(child.props.key);
      }
      return acc;
    }, []);
    if (keys.length !== (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_1__.unique)(keys).length) {
      // eslint-disable-next-line no-console
      console.warn('[Teact] Duplicated keys:', keys.filter((e, i, a) => a.indexOf(e) !== i));
      throw new Error('[Teact] Children keys are not unique');
    }
  }
}
const TeactDOM = {
  render
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (TeactDOM);

/***/ }),

/***/ "./src/lib/teact/teact.ts":
/*!********************************!*\
  !*** ./src/lib/teact/teact.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEBUG_resolveComponentName: () => (/* binding */ DEBUG_resolveComponentName),
/* harmony export */   MountState: () => (/* binding */ MountState),
/* harmony export */   VirtualType: () => (/* binding */ VirtualType),
/* harmony export */   captureImmediateEffects: () => (/* binding */ captureImmediateEffects),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   hasElementChanged: () => (/* binding */ hasElementChanged),
/* harmony export */   isParentElement: () => (/* binding */ isParentElement),
/* harmony export */   memo: () => (/* binding */ memo),
/* harmony export */   mountComponent: () => (/* binding */ mountComponent),
/* harmony export */   renderComponent: () => (/* binding */ renderComponent),
/* harmony export */   unmountComponent: () => (/* binding */ unmountComponent),
/* harmony export */   useCallback: () => (/* binding */ useCallback),
/* harmony export */   useEffect: () => (/* binding */ useEffect),
/* harmony export */   useLayoutEffect: () => (/* binding */ useLayoutEffect),
/* harmony export */   useMemo: () => (/* binding */ useMemo),
/* harmony export */   useRef: () => (/* binding */ useRef),
/* harmony export */   useState: () => (/* binding */ useState)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/arePropsShallowEqual */ "./src/util/arePropsShallowEqual.ts");
/* harmony import */ var _util_debugOverlay__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/debugOverlay */ "./src/util/debugOverlay.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_safeExec__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/safeExec */ "./src/util/safeExec.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _util_signals__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../util/signals */ "./src/util/signals.ts");
/* harmony import */ var _fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");









// eslint-disable-next-line @typescript-eslint/naming-convention

let VirtualType = /*#__PURE__*/function (VirtualType) {
  VirtualType[VirtualType["Empty"] = 0] = "Empty";
  VirtualType[VirtualType["Text"] = 1] = "Text";
  VirtualType[VirtualType["Tag"] = 2] = "Tag";
  VirtualType[VirtualType["Component"] = 3] = "Component";
  VirtualType[VirtualType["Fragment"] = 4] = "Fragment";
  return VirtualType;
}({});
let MountState = /*#__PURE__*/function (MountState) {
  MountState[MountState["New"] = 0] = "New";
  MountState[MountState["Mounted"] = 1] = "Mounted";
  MountState[MountState["Unmounted"] = 2] = "Unmounted";
  return MountState;
}({});

// Compatibility with JSX types

const Fragment = Symbol('Fragment');
const DEBUG_RENDER_THRESHOLD = 7;
const DEBUG_EFFECT_THRESHOLD = 7;
const DEBUG_SILENT_RENDERS_FOR = new Set(['TeactMemoWrapper', 'TeactNContainer', 'Button', 'ListItem', 'MenuItem']);
let lastComponentId = 0;
let renderingInstance;
function isParentElement($element) {
  return $element.type === VirtualType.Tag || $element.type === VirtualType.Component || $element.type === VirtualType.Fragment;
}
function createElement(source, props) {
  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    children[_key - 2] = arguments[_key];
  }
  if (source === Fragment) {
    return buildFragmentElement(children);
  } else if (typeof source === 'function') {
    return createComponentInstance(source, props || {}, children);
  } else {
    return buildTagElement(source, props || {}, children);
  }
}
function buildFragmentElement(children) {
  return {
    type: VirtualType.Fragment,
    children: buildChildren(children, true)
  };
}
function createComponentInstance(Component, props, children) {
  if (children !== null && children !== void 0 && children.length) {
    props.children = children.length === 1 ? children[0] : children;
  }
  const componentInstance = {
    id: ++lastComponentId,
    $element: undefined,
    Component,
    name: Component.name,
    props,
    mountState: MountState.New
  };
  componentInstance.$element = buildComponentElement(componentInstance);
  return componentInstance.$element;
}
function buildComponentElement(componentInstance, children) {
  return {
    type: VirtualType.Component,
    componentInstance,
    props: componentInstance.props,
    children: children ? buildChildren(children, true) : []
  };
}
function buildTagElement(tag, props, children) {
  return {
    type: VirtualType.Tag,
    tag,
    props,
    children: buildChildren(children)
  };
}
function buildChildren(children) {
  let noEmpty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  const cleanChildren = dropEmptyTail(children, noEmpty);
  const newChildren = [];
  for (let i = 0, l = cleanChildren.length; i < l; i++) {
    const child = cleanChildren[i];
    if (Array.isArray(child)) {
      newChildren.push(...buildChildren(child, noEmpty));
    } else {
      newChildren.push(buildChildElement(child));
    }
  }
  return newChildren;
}

// We only need placeholders in the middle of collection (to ensure other elements order).
function dropEmptyTail(children) {
  let noEmpty = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  let i = children.length - 1;
  for (; i >= 0; i--) {
    if (!isEmptyPlaceholder(children[i])) {
      break;
    }
  }
  if (i === children.length - 1) {
    return children;
  }
  if (i === -1 && noEmpty) {
    return children.slice(0, 1);
  }
  return children.slice(0, i + 1);
}
function isEmptyPlaceholder(child) {
  return !child && child !== 0;
}
function buildChildElement(child) {
  if (isEmptyPlaceholder(child)) {
    return {
      type: VirtualType.Empty
    };
  } else if (isParentElement(child)) {
    return child;
  } else {
    return {
      type: VirtualType.Text,
      value: String(child)
    };
  }
}

// eslint-disable-next-line @typescript-eslint/naming-convention
const DEBUG_components = {
  TOTAL: {
    name: 'TOTAL',
    renders: 0
  }
};
// eslint-disable-next-line @typescript-eslint/naming-convention
const DEBUG_memos = {};
const DEBUG_MEMOS_CALLS_THRESHOLD = 20;
document.addEventListener('dblclick', () => {
  // eslint-disable-next-line no-console
  console.warn('COMPONENTS', (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_3__.orderBy)(Object.values(DEBUG_components).map(_ref => {
    let {
      avgRenderTime,
      ...state
    } = _ref;
    return {
      ...state,
      ...(avgRenderTime !== undefined && {
        avgRenderTime: Number(avgRenderTime.toFixed(2))
      })
    };
  }), 'renders', 'desc'));

  // eslint-disable-next-line no-console
  console.warn('MEMOS', (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_3__.orderBy)(Object.values(DEBUG_memos).filter(_ref2 => {
    let {
      calls
    } = _ref2;
    return calls >= DEBUG_MEMOS_CALLS_THRESHOLD;
  }).map(state => ({
    ...state,
    hitRate: Number(state.hitRate.toFixed(2))
  })), 'hitRate', 'asc'));
});
let instancesPendingUpdate = new Set();
let idsToExcludeFromUpdate = new Set();
let pendingEffects = new Map();
let pendingCleanups = new Map();
let pendingLayoutEffects = new Map();
let pendingLayoutCleanups = new Map();
let areImmediateEffectsCaptured = false;

/*
  Order:
  - component effect cleanups
  - component effects
  - measure tasks
  - mutation tasks
  - component updates
  - component layout effect cleanups
  - component layout effects
  - forced layout measure tasks
  - forced layout mutation tasks
 */

const runUpdatePassOnRaf = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_5__.throttleWith)(_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_7__.requestMeasure, () => {
  const runImmediateEffects = captureImmediateEffects();
  idsToExcludeFromUpdate = new Set();
  const instancesToUpdate = Array.from(instancesPendingUpdate).sort((a, b) => a.id - b.id);
  instancesPendingUpdate = new Set();
  const currentCleanups = pendingCleanups;
  pendingCleanups = new Map();
  currentCleanups.forEach(cb => cb());
  const currentEffects = pendingEffects;
  pendingEffects = new Map();
  currentEffects.forEach(cb => cb());
  (0,_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_7__.requestMutation)(() => {
    instancesToUpdate.forEach(prepareComponentForFrame);
    instancesToUpdate.forEach(instance => {
      if (idsToExcludeFromUpdate.has(instance.id)) {
        return;
      }
      forceUpdateComponent(instance);
    });
    runImmediateEffects === null || runImmediateEffects === void 0 ? void 0 : runImmediateEffects();
  });
});
function captureImmediateEffects() {
  if (areImmediateEffectsCaptured) {
    return undefined;
  }
  areImmediateEffectsCaptured = true;
  return runCapturedImmediateEffects;
}
function runCapturedImmediateEffects() {
  const currentLayoutCleanups = pendingLayoutCleanups;
  pendingLayoutCleanups = new Map();
  currentLayoutCleanups.forEach(cb => cb());
  const currentLayoutEffects = pendingLayoutEffects;
  pendingLayoutEffects = new Map();
  currentLayoutEffects.forEach(cb => cb());
  areImmediateEffectsCaptured = false;
}
function renderComponent(componentInstance) {
  idsToExcludeFromUpdate.add(componentInstance.id);
  const {
    Component,
    props
  } = componentInstance;
  let newRenderedValue;
  (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    renderingInstance = componentInstance;
    if (componentInstance.hooks) {
      if (componentInstance.hooks.state) {
        componentInstance.hooks.state.cursor = 0;
      }
      if (componentInstance.hooks.effects) {
        componentInstance.hooks.effects.cursor = 0;
      }
      if (componentInstance.hooks.memos) {
        componentInstance.hooks.memos.cursor = 0;
      }
      if (componentInstance.hooks.refs) {
        componentInstance.hooks.refs.cursor = 0;
      }
    }

    // eslint-disable-next-line @typescript-eslint/naming-convention
    let DEBUG_startAt;
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      const componentName = DEBUG_resolveComponentName(Component);
      if (!DEBUG_components[componentName]) {
        DEBUG_components[componentName] = {
          name: componentName,
          renders: 0,
          avgRenderTime: 0
        };
      }
      if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE) {
        if (!DEBUG_SILENT_RENDERS_FOR.has(componentName)) {
          // eslint-disable-next-line no-console
          console.log(`[Teact] Render ${componentName}`);
        }
      }
      DEBUG_startAt = performance.now();
    }
    newRenderedValue = Component(props);
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      const duration = performance.now() - DEBUG_startAt;
      const componentName = DEBUG_resolveComponentName(Component);
      if (duration > DEBUG_RENDER_THRESHOLD) {
        // eslint-disable-next-line no-console
        console.warn(`[Teact] Slow component render: ${componentName}, ${Math.round(duration)} ms`);
      }
      const {
        renders,
        avgRenderTime
      } = DEBUG_components[componentName];
      DEBUG_components[componentName].avgRenderTime = (avgRenderTime * renders + duration) / (renders + 1);
      DEBUG_components[componentName].renders++;
      DEBUG_components.TOTAL.renders++;
      if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE) {
        (0,_util_debugOverlay__WEBPACK_IMPORTED_MODULE_2__.incrementOverlayCounter)(`${componentName} renders`);
        (0,_util_debugOverlay__WEBPACK_IMPORTED_MODULE_2__.incrementOverlayCounter)(`${componentName} duration`, duration);
      }
    }
  }, () => {
    // eslint-disable-next-line no-console
    console.error(`[Teact] Error while rendering component ${componentInstance.name}`);
    newRenderedValue = componentInstance.renderedValue;
  });
  if (componentInstance.mountState === MountState.Mounted && newRenderedValue === componentInstance.renderedValue) {
    return componentInstance.$element;
  }
  componentInstance.renderedValue = newRenderedValue;
  const children = Array.isArray(newRenderedValue) ? newRenderedValue : [newRenderedValue];
  if (componentInstance.mountState === MountState.New) {
    componentInstance.$element.children = buildChildren(children, true);
  } else {
    componentInstance.$element = buildComponentElement(componentInstance, children);
  }
  return componentInstance.$element;
}
function hasElementChanged($old, $new) {
  if (typeof $old !== typeof $new) {
    return true;
  } else if ($old.type !== $new.type) {
    return true;
  } else if ($old.type === VirtualType.Text && $new.type === VirtualType.Text) {
    return $old.value !== $new.value;
  } else if ($old.type === VirtualType.Tag && $new.type === VirtualType.Tag) {
    return $old.tag !== $new.tag || $old.props.key !== $new.props.key;
  } else if ($old.type === VirtualType.Component && $new.type === VirtualType.Component) {
    return $old.componentInstance.Component !== $new.componentInstance.Component || $old.props.key !== $new.props.key;
  }
  return false;
}
function mountComponent(componentInstance) {
  renderComponent(componentInstance);
  componentInstance.mountState = MountState.Mounted;
  return componentInstance.$element;
}
function unmountComponent(componentInstance) {
  var _componentInstance$ho;
  if (componentInstance.mountState !== MountState.Mounted) {
    return;
  }
  idsToExcludeFromUpdate.add(componentInstance.id);
  if ((_componentInstance$ho = componentInstance.hooks) !== null && _componentInstance$ho !== void 0 && _componentInstance$ho.effects) {
    for (const effect of componentInstance.hooks.effects.byCursor) {
      var _effect$releaseSignal;
      if (effect.cleanup) {
        (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_4__["default"])(effect.cleanup);
      }
      effect.cleanup = undefined;
      (_effect$releaseSignal = effect.releaseSignals) === null || _effect$releaseSignal === void 0 ? void 0 : _effect$releaseSignal.call(effect);
    }
  }
  componentInstance.mountState = MountState.Unmounted;
  helpGc(componentInstance);
}

// We need to remove all references to DOM objects. We also clean all other references, just in case
function helpGc(componentInstance) {
  const {
    effects,
    state,
    memos,
    refs
  } = componentInstance.hooks || {};
  if (effects) {
    for (const hook of effects.byCursor) {
      hook.schedule = undefined;
      hook.cleanup = undefined;
      hook.releaseSignals = undefined;
      hook.dependencies = undefined;
    }
  }
  if (state) {
    for (const hook of state.byCursor) {
      hook.value = undefined;
      hook.nextValue = undefined;
      hook.setter = undefined;
    }
  }
  if (memos) {
    for (const hook of memos.byCursor) {
      hook.value = undefined;
      hook.dependencies = undefined;
    }
  }
  if (refs) {
    for (const hook of refs.byCursor) {
      hook.current = undefined;
    }
  }
  componentInstance.hooks = undefined;
  componentInstance.$element = undefined;
  componentInstance.renderedValue = undefined;
  componentInstance.Component = undefined;
  componentInstance.props = undefined;
  componentInstance.onUpdate = undefined;
}
function prepareComponentForFrame(componentInstance) {
  var _componentInstance$ho2;
  if (componentInstance.mountState !== MountState.Mounted) {
    return;
  }
  if ((_componentInstance$ho2 = componentInstance.hooks) !== null && _componentInstance$ho2 !== void 0 && _componentInstance$ho2.state) {
    for (const hook of componentInstance.hooks.state.byCursor) {
      hook.value = hook.nextValue;
    }
  }
}
function forceUpdateComponent(componentInstance) {
  if (componentInstance.mountState !== MountState.Mounted || !componentInstance.onUpdate) {
    return;
  }
  const currentElement = componentInstance.$element;
  renderComponent(componentInstance);
  if (componentInstance.$element !== currentElement) {
    componentInstance.onUpdate();
  }
}
function useState(initial, debugKey) {
  if (!renderingInstance.hooks) {
    renderingInstance.hooks = {};
  }
  if (!renderingInstance.hooks.state) {
    renderingInstance.hooks.state = {
      cursor: 0,
      byCursor: []
    };
  }
  const {
    cursor,
    byCursor
  } = renderingInstance.hooks.state;
  const componentInstance = renderingInstance;
  if (byCursor[cursor] === undefined) {
    byCursor[cursor] = {
      value: initial,
      nextValue: initial,
      setter: newValue => {
        if (componentInstance.mountState === MountState.Unmounted) {
          return;
        }
        if (typeof newValue === 'function') {
          newValue = newValue(byCursor[cursor].nextValue);
        }
        if (byCursor[cursor].nextValue === newValue) {
          return;
        }
        byCursor[cursor].nextValue = newValue;
        instancesPendingUpdate.add(componentInstance);
        runUpdatePassOnRaf();
        if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE) {
          // eslint-disable-next-line no-console
          console.log('[Teact.useState]', DEBUG_resolveComponentName(componentInstance.Component), `State update at cursor #${cursor}${debugKey ? ` (${debugKey})` : ''}, next value: `, byCursor[cursor].nextValue);
        }
      }
    };
  }
  renderingInstance.hooks.state.cursor++;
  return [byCursor[cursor].value, byCursor[cursor].setter];
}
function useEffectBase(isLayout, effect, dependencies, debugKey) {
  var _byCursor$cursor;
  if (!renderingInstance.hooks) {
    renderingInstance.hooks = {};
  }
  if (!renderingInstance.hooks.effects) {
    renderingInstance.hooks.effects = {
      cursor: 0,
      byCursor: []
    };
  }
  const {
    cursor,
    byCursor
  } = renderingInstance.hooks.effects;
  const componentInstance = renderingInstance;
  const runEffectCleanup = () => (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    const {
      cleanup
    } = byCursor[cursor];
    if (!cleanup) {
      return;
    }

    // eslint-disable-next-line @typescript-eslint/naming-convention
    let DEBUG_startAt;
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      DEBUG_startAt = performance.now();
    }
    cleanup();
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      const duration = performance.now() - DEBUG_startAt;
      const componentName = DEBUG_resolveComponentName(componentInstance.Component);
      if (duration > DEBUG_EFFECT_THRESHOLD) {
        // eslint-disable-next-line no-console
        console.warn(`[Teact] Slow cleanup at effect cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);
      }
    }
  }, () => {
    // eslint-disable-next-line no-console
    console.error(`[Teact] Error in effect cleanup at cursor #${cursor} in ${componentInstance.name}`);
  }, () => {
    byCursor[cursor].cleanup = undefined;
  });
  const runEffect = () => (0,_util_safeExec__WEBPACK_IMPORTED_MODULE_4__["default"])(() => {
    if (componentInstance.mountState === MountState.Unmounted) {
      return;
    }

    // eslint-disable-next-line @typescript-eslint/naming-convention
    let DEBUG_startAt;
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      DEBUG_startAt = performance.now();
    }
    const result = effect();
    if (typeof result === 'function') {
      byCursor[cursor].cleanup = result;
    }
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      const duration = performance.now() - DEBUG_startAt;
      const componentName = DEBUG_resolveComponentName(componentInstance.Component);
      if (duration > DEBUG_EFFECT_THRESHOLD) {
        // eslint-disable-next-line no-console
        console.warn(`[Teact] Slow effect at cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);
      }
    }
  }, () => {
    // eslint-disable-next-line no-console
    console.error(`[Teact] Error in effect at cursor #${cursor} in ${componentInstance.name}`);
  });
  function schedule() {
    const effectId = `${componentInstance.id}_${cursor}`;
    if (isLayout) {
      pendingLayoutCleanups.set(effectId, runEffectCleanup);
      pendingLayoutEffects.set(effectId, runEffect);
    } else {
      pendingCleanups.set(effectId, runEffectCleanup);
      pendingEffects.set(effectId, runEffect);
    }
    runUpdatePassOnRaf();
  }
  if (dependencies && (_byCursor$cursor = byCursor[cursor]) !== null && _byCursor$cursor !== void 0 && _byCursor$cursor.dependencies) {
    if (dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])) {
      if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG && debugKey) {
        const causedBy = dependencies.reduce((res, newValue, i) => {
          const prevValue = byCursor[cursor].dependencies[i];
          if (newValue !== prevValue) {
            res.push(`${i}: ${prevValue} => ${newValue}`);
          }
          return res;
        }, []);

        // eslint-disable-next-line no-console
        console.log(`[Teact] Effect "${debugKey}" caused by dependencies.`, causedBy.join(', '));
      }
      schedule();
    }
  } else {
    if (debugKey) {
      // eslint-disable-next-line no-console
      console.log(`[Teact] Effect "${debugKey}" caused by missing dependencies.`);
    }
    schedule();
  }
  const isFirstRun = !byCursor[cursor];
  byCursor[cursor] = {
    ...byCursor[cursor],
    dependencies,
    schedule
  };
  function setupSignals() {
    const cleanups = dependencies === null || dependencies === void 0 ? void 0 : dependencies.filter(_util_signals__WEBPACK_IMPORTED_MODULE_6__.isSignal).map((signal, i) => signal.subscribe(() => {
      if (debugKey) {
        // eslint-disable-next-line no-console
        console.log(`[Teact] Effect "${debugKey}" caused by signal #${i} new value:`, signal());
      }
      byCursor[cursor].schedule();
    }));
    if (!(cleanups !== null && cleanups !== void 0 && cleanups.length)) {
      return undefined;
    }
    return () => {
      for (const cleanup of cleanups) {
        cleanup();
      }
    };
  }
  if (isFirstRun) {
    byCursor[cursor].releaseSignals = setupSignals();
  }
  renderingInstance.hooks.effects.cursor++;
}
function useEffect(effect, dependencies, debugKey) {
  return useEffectBase(false, effect, dependencies, debugKey);
}
function useLayoutEffect(effect, dependencies, debugKey) {
  return useEffectBase(true, effect, dependencies, debugKey);
}
function useMemo(resolver, dependencies, debugKey, debugHitRateKey) {
  if (!renderingInstance.hooks) {
    renderingInstance.hooks = {};
  }
  if (!renderingInstance.hooks.memos) {
    renderingInstance.hooks.memos = {
      cursor: 0,
      byCursor: []
    };
  }
  const {
    cursor,
    byCursor
  } = renderingInstance.hooks.memos;
  let {
    value
  } = byCursor[cursor] || {};

  // eslint-disable-next-line @typescript-eslint/naming-convention
  let DEBUG_state;
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG && debugHitRateKey) {
    const instanceKey = `${debugHitRateKey}#${renderingInstance.id}`;
    DEBUG_state = DEBUG_memos[instanceKey];
    if (!DEBUG_state) {
      DEBUG_state = {
        key: instanceKey,
        calls: 0,
        misses: 0,
        hitRate: 0
      };
      DEBUG_memos[instanceKey] = DEBUG_state;
    }
    DEBUG_state.calls++;
    DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;
  }
  if (byCursor[cursor] === undefined || dependencies.length !== byCursor[cursor].dependencies.length || dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])) {
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      if (debugKey) {
        const msg = `[Teact.useMemo] ${renderingInstance.name} (${debugKey}): Update is caused by:`;
        if (!byCursor[cursor]) {
          // eslint-disable-next-line no-console
          console.log(`${msg} [first render]`);
        } else {
          (0,_util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__.logUnequalProps)(byCursor[cursor].dependencies, dependencies, msg, debugKey);
        }
      }
      if (DEBUG_state) {
        DEBUG_state.misses++;
        DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;
        if (DEBUG_state.calls % 10 === 0 && DEBUG_state.calls >= DEBUG_MEMOS_CALLS_THRESHOLD && DEBUG_state.hitRate < 0.25) {
          // eslint-disable-next-line no-console
          console.warn(
          // eslint-disable-next-line max-len
          `[Teact] ${DEBUG_state.key}: Hit rate is ${DEBUG_state.hitRate.toFixed(2)} for ${DEBUG_state.calls} calls`);
        }
      }
    }
    value = resolver();
  }
  byCursor[cursor] = {
    value,
    dependencies
  };
  renderingInstance.hooks.memos.cursor++;
  return value;
}
function useCallback(newCallback, dependencies, debugKey) {
  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
  return useMemo(() => newCallback, dependencies, debugKey);
}

// TT way (empty is `undefined`)

// React way (empty is `null`)
// eslint-disable-next-line no-null/no-null
function useRef(initial) {
  if (!renderingInstance.hooks) {
    renderingInstance.hooks = {};
  }
  if (!renderingInstance.hooks.refs) {
    renderingInstance.hooks.refs = {
      cursor: 0,
      byCursor: []
    };
  }
  const {
    cursor,
    byCursor
  } = renderingInstance.hooks.refs;
  if (!byCursor[cursor]) {
    byCursor[cursor] = {
      current: initial
    };
  }
  renderingInstance.hooks.refs.cursor++;
  return byCursor[cursor];
}
function memo(Component, debugKey) {
  function TeactMemoWrapper(props) {
    return useMemo(() => createElement(Component, props),
    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps
    Object.values(props), debugKey, _config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE ? DEBUG_resolveComponentName(renderingInstance.Component) : undefined);
  }
  TeactMemoWrapper.DEBUG_contentComponentName = DEBUG_resolveComponentName(Component);
  return TeactMemoWrapper;
}

// eslint-disable-next-line @typescript-eslint/naming-convention
function DEBUG_resolveComponentName(Component) {
  // eslint-disable-next-line @typescript-eslint/naming-convention
  const {
    name,
    DEBUG_contentComponentName
  } = Component;
  if (name === 'TeactNContainer') {
    return `container>${DEBUG_contentComponentName}`;
  }
  if (name === 'TeactMemoWrapper') {
    return `memo>${DEBUG_contentComponentName}`;
  }
  return name + (DEBUG_contentComponentName ? `>${DEBUG_contentComponentName}` : '');
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  createElement,
  Fragment
});

/***/ }),

/***/ "./src/lib/teact/teactn.tsx":
/*!**********************************!*\
  !*** ./src/lib/teact/teactn.tsx ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addCallback: () => (/* binding */ addCallback),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   forceOnHeavyAnimationOnce: () => (/* binding */ forceOnHeavyAnimationOnce),
/* harmony export */   getActions: () => (/* binding */ getActions),
/* harmony export */   removeCallback: () => (/* binding */ removeCallback),
/* harmony export */   typify: () => (/* binding */ typify)
/* harmony export */ });
/* unused harmony exports setGlobal, getGlobal, addActionHandler, withGlobal */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../util/arePropsShallowEqual */ "./src/util/arePropsShallowEqual.ts");
/* harmony import */ var _util_handleError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../util/handleError */ "./src/util/handleError.ts");
/* harmony import */ var _util_iteratees__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../util/iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _util_schedulers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../util/schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _teact__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../hooks/useForceUpdate */ "./src/hooks/useForceUpdate.ts");
/* harmony import */ var _hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../hooks/useHeavyAnimationCheck */ "./src/hooks/useHeavyAnimationCheck.ts");
/* harmony import */ var _hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../hooks/useUniqueId */ "./src/hooks/useUniqueId.ts");
function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }










/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_teact__WEBPACK_IMPORTED_MODULE_6__["default"]);
let currentGlobal = {};

// eslint-disable-next-line @typescript-eslint/naming-convention
let DEBUG_currentCapturedId;
// eslint-disable-next-line @typescript-eslint/naming-convention
const DEBUG_releaseCapturedIdThrottled = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.throttleWithTickEnd)(() => {
  DEBUG_currentCapturedId = undefined;
});
const actionHandlers = {};
const callbacks = [updateContainers];
const actions = {};
const containers = new Map();
const runCallbacksThrottled = (0,_util_schedulers__WEBPACK_IMPORTED_MODULE_4__.throttleWithTickEnd)(runCallbacks);
let forceOnHeavyAnimation = true;
function runCallbacks() {
  if (forceOnHeavyAnimation) {
    forceOnHeavyAnimation = false;
  } else if ((0,_hooks_useHeavyAnimationCheck__WEBPACK_IMPORTED_MODULE_8__.isHeavyAnimating)()) {
    (0,_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_5__.requestMeasure)(runCallbacksThrottled);
    return;
  }
  callbacks.forEach(cb => cb(currentGlobal));
}
function setGlobal(newGlobal, options) {
  if (typeof newGlobal === 'object' && newGlobal !== currentGlobal) {
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      if (!(options !== null && options !== void 0 && options.forceOutdated) && newGlobal.DEBUG_capturedId && newGlobal.DEBUG_capturedId !== DEBUG_currentCapturedId) {
        throw new Error('[TeactN.setGlobal] Attempt to set an outdated global');
      }
      DEBUG_currentCapturedId = undefined;
    }
    currentGlobal = newGlobal;
    if (options !== null && options !== void 0 && options.forceSyncOnIOs) {
      forceOnHeavyAnimation = true;
      runCallbacks();
    } else {
      if (options !== null && options !== void 0 && options.forceOnHeavyAnimation) {
        forceOnHeavyAnimation = true;
      }
      runCallbacksThrottled();
    }
  }
}
function getGlobal() {
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    DEBUG_currentCapturedId = Math.random();
    currentGlobal = {
      ...currentGlobal,
      DEBUG_capturedId: DEBUG_currentCapturedId
    };
    DEBUG_releaseCapturedIdThrottled();
  }
  return currentGlobal;
}
function getActions() {
  return actions;
}
function forceOnHeavyAnimationOnce() {
  forceOnHeavyAnimation = true;
}
let actionQueue = [];
function handleAction(name, payload, options) {
  actionQueue.push(() => {
    var _actionHandlers$name;
    (_actionHandlers$name = actionHandlers[name]) === null || _actionHandlers$name === void 0 ? void 0 : _actionHandlers$name.forEach(handler => {
      const response = handler(_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG ? getGlobal() : currentGlobal, actions, payload);
      if (!response || typeof response.then === 'function') {
        return;
      }
      setGlobal(response, options);
    });
  });
  if (actionQueue.length === 1) {
    try {
      while (actionQueue.length) {
        actionQueue[0]();
        actionQueue.shift();
      }
    } finally {
      actionQueue = [];
    }
  }
}
function updateContainers() {
  // eslint-disable-next-line @typescript-eslint/naming-convention
  let DEBUG_startAt;
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    DEBUG_startAt = performance.now();
  }

  // eslint-disable-next-line no-restricted-syntax
  for (const container of containers.values()) {
    const {
      mapStateToProps,
      ownProps,
      mappedProps,
      forceUpdate
    } = container;
    if (!activateContainer(container, currentGlobal, ownProps)) {
      continue;
    }
    let newMappedProps;
    try {
      newMappedProps = mapStateToProps(currentGlobal, ownProps);
    } catch (err) {
      (0,_util_handleError__WEBPACK_IMPORTED_MODULE_2__.handleError)(err);
      return;
    }
    if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
      if (Object.values(newMappedProps).some(Number.isNaN)) {
        // eslint-disable-next-line no-console
        console.warn(
        // eslint-disable-next-line max-len
        `[TeactN] Some of \`${container.DEBUG_componentName}\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`);
      }
    }
    if (Object.keys(newMappedProps).length && !(0,_util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__["default"])(mappedProps, newMappedProps)) {
      if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE) {
        (0,_util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__.logUnequalProps)(mappedProps, newMappedProps, `[TeactN] Will update ${container.DEBUG_componentName} caused by:`);
      }
      container.mappedProps = newMappedProps;
      container.DEBUG_updates++;
      forceUpdate();
    }
  }
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    const updateTime = performance.now() - DEBUG_startAt;
    if (updateTime > 7) {
      // eslint-disable-next-line no-console
      console.warn(`[TeactN] Slow containers update: ${Math.round(updateTime)} ms`);
    }
  }
}
function addActionHandler(name, handler) {
  if (!actionHandlers[name]) {
    actionHandlers[name] = [];
    actions[name] = (payload, options) => {
      handleAction(name, payload, options);
    };
  }
  actionHandlers[name].push(handler);
}
function addCallback(cb) {
  callbacks.push(cb);
}
function removeCallback(cb) {
  const index = callbacks.indexOf(cb);
  if (index !== -1) {
    callbacks.splice(index, 1);
  }
}
function withGlobal() {
  let mapStateToProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : () => ({});
  let activationFn = arguments.length > 1 ? arguments[1] : undefined;
  return Component => {
    function TeactNContainer(props) {
      const id = (0,_hooks_useUniqueId__WEBPACK_IMPORTED_MODULE_9__["default"])();
      const forceUpdate = (0,_hooks_useForceUpdate__WEBPACK_IMPORTED_MODULE_7__["default"])();
      (0,_teact__WEBPACK_IMPORTED_MODULE_6__.useEffect)(() => {
        return () => {
          containers.delete(id);
        };
      }, [id]);
      let container = containers.get(id);
      if (!container) {
        container = {
          mapStateToProps,
          activationFn,
          ownProps: props,
          forceUpdate,
          DEBUG_updates: 0,
          DEBUG_componentName: Component.name
        };
        containers.set(id, container);
      }
      if (!container.mappedProps || !(0,_util_arePropsShallowEqual__WEBPACK_IMPORTED_MODULE_1__["default"])(container.ownProps, props) && activateContainer(container, currentGlobal, props)) {
        try {
          container.mappedProps = mapStateToProps(currentGlobal, props);
        } catch (err) {
          (0,_util_handleError__WEBPACK_IMPORTED_MODULE_2__.handleError)(err);
        }
      }
      container.ownProps = props;

      // eslint-disable-next-line react/jsx-props-no-spreading
      return /*#__PURE__*/_teact__WEBPACK_IMPORTED_MODULE_6__["default"].createElement(Component, _extends({}, container.mappedProps, props));
    }
    TeactNContainer.DEBUG_contentComponentName = (0,_teact__WEBPACK_IMPORTED_MODULE_6__.DEBUG_resolveComponentName)(Component);
    return TeactNContainer;
  };
}
function activateContainer(container, global, props) {
  const {
    activationFn,
    stuckTo
  } = container;
  if (!activationFn) {
    return true;
  }
  return activationFn(global, props, stickTo => {
    if (stickTo && !stuckTo) {
      container.stuckTo = stickTo;
    }
    return stickTo && (!stuckTo || stuckTo === stickTo);
  });
}
function typify() {
  // When payload is allowed to be `undefined` we consider it optional

  return {
    getGlobal: getGlobal,
    setGlobal: setGlobal,
    getActions: getActions,
    addActionHandler: addActionHandler,
    withGlobal: withGlobal
  };
}
if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
  window.getGlobal = getGlobal;
  window.setGlobal = setGlobal;
  document.addEventListener('dblclick', () => {
    // eslint-disable-next-line no-console
    console.warn('GLOBAL CONTAINERS', (0,_util_iteratees__WEBPACK_IMPORTED_MODULE_3__.orderBy)(Array.from(containers.values()).map(_ref => {
      let {
        DEBUG_componentName,
        DEBUG_updates
      } = _ref;
      return {
        DEBUG_componentName,
        DEBUG_updates
      };
    }), 'DEBUG_updates', 'desc'));
  });
}

/***/ }),

/***/ "./src/util/PostMessageConnector.ts":
/*!******************************************!*\
  !*** ./src/util/PostMessageConnector.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createConnector: () => (/* binding */ createConnector)
/* harmony export */ });
/* unused harmony export createExtensionConnector */
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bigint */ "./src/util/bigint.ts");
/* harmony import */ var _generateUniqueId__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./generateUniqueId */ "./src/util/generateUniqueId.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logs */ "./src/util/logs.ts");
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }



class ConnectorClass {
  constructor(target, onUpdate, channel, shouldUseJson) {
    let targetOrigin = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '*';
    this.target = target;
    this.onUpdate = onUpdate;
    this.channel = channel;
    this.shouldUseJson = shouldUseJson;
    this.targetOrigin = targetOrigin;
    _defineProperty(this, "requestStates", new Map());
    _defineProperty(this, "requestStatesByCallback", new Map());
  }

  // eslint-disable-next-line class-methods-use-this
  destroy() {}
  init() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    this.postMessage({
      type: 'init',
      args
    });
  }
  request(messageData) {
    const {
      requestStates,
      requestStatesByCallback
    } = this;
    const messageId = (0,_generateUniqueId__WEBPACK_IMPORTED_MODULE_1__["default"])();
    const payload = {
      type: 'callMethod',
      messageId,
      ...messageData
    };
    const requestState = {
      messageId
    };

    // Re-wrap type because of `postMessage`
    const promise = new Promise((resolve, reject) => {
      Object.assign(requestState, {
        resolve,
        reject
      });
    });
    if (typeof payload.args[payload.args.length - 1] === 'function') {
      payload.withCallback = true;
      const callback = payload.args.pop();
      requestState.callback = callback;
      requestStatesByCallback.set(callback, requestState);
    }
    requestStates.set(messageId, requestState);
    promise.catch(() => undefined).finally(() => {
      requestStates.delete(messageId);
      if (requestState.callback) {
        requestStatesByCallback.delete(requestState.callback);
      }
    });
    this.postMessage(payload);
    return promise;
  }
  cancelCallback(progressCallback) {
    progressCallback.isCanceled = true;
    const {
      messageId
    } = this.requestStatesByCallback.get(progressCallback) || {};
    if (!messageId) {
      return;
    }
    this.postMessage({
      type: 'cancelProgress',
      messageId
    });
  }
  onMessage(data) {
    if (typeof data === 'string') {
      try {
        data = JSON.parse(data, _bigint__WEBPACK_IMPORTED_MODULE_0__.bigintReviver);
      } catch (err) {
        (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('PostMessageConnector: Failed to parse message', err);
        return;
      }
    }
    const {
      requestStates,
      channel
    } = this;
    if (data.channel !== channel) {
      return;
    }
    if (data.type === 'update' && this.onUpdate) {
      this.onUpdate(data.update);
    }
    if (data.type === 'methodResponse') {
      const requestState = requestStates.get(data.messageId);
      if (requestState) {
        if (data.error) {
          requestState.reject(data.error);
        } else {
          requestState.resolve(data.response);
        }
      }
    } else if (data.type === 'methodCallback') {
      var _requestState$callbac;
      const requestState = requestStates.get(data.messageId);
      requestState === null || requestState === void 0 || (_requestState$callbac = requestState.callback) === null || _requestState$callbac === void 0 ? void 0 : _requestState$callbac.call(requestState, ...data.callbackArgs);
    } else if (data.type === 'unhandledError') {
      var _data$error;
      throw new Error((_data$error = data.error) === null || _data$error === void 0 ? void 0 : _data$error.message);
    }
  }
  postMessage(data) {
    data.channel = this.channel;
    let rawData = data;
    if (this.shouldUseJson) {
      rawData = JSON.stringify(data);
    }
    if ('open' in this.target) {
      // Is Window
      this.target.postMessage(rawData, this.targetOrigin);
    } else {
      this.target.postMessage(rawData);
    }
  }
}
function createConnector(worker, onUpdate, channel, targetOrigin) {
  const connector = new ConnectorClass(worker, onUpdate, channel, undefined, targetOrigin);
  function handleMessage(_ref) {
    let {
      data
    } = _ref;
    connector.onMessage(data);
  }
  worker.addEventListener('message', handleMessage); // TS weirdly complains here

  connector.destroy = () => {
    worker.removeEventListener('message', handleMessage);
  };
  return connector;
}
function createExtensionConnector(name, onUpdate, getInitArgs, channel) {
  const connector = new ConnectorClass(connect(), onUpdate, channel, true);
  function connect() {
    // eslint-disable-next-line no-restricted-globals
    const port = self.chrome.runtime.connect({
      name
    });
    port.onMessage.addListener(data => {
      connector.onMessage(data);
    });

    // For some reason port can suddenly get disconnected
    port.onDisconnect.addListener(() => {
      connector.target = connect();
      connector.init(getInitArgs === null || getInitArgs === void 0 ? void 0 : getInitArgs());
    });
    return port;
  }
  connector.init(getInitArgs === null || getInitArgs === void 0 ? void 0 : getInitArgs());
  return connector;
}

/***/ }),

/***/ "./src/util/account.ts":
/*!*****************************!*\
  !*** ./src/util/account.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildAccountId: () => (/* binding */ buildAccountId),
/* harmony export */   parseAccountId: () => (/* binding */ parseAccountId)
/* harmony export */ });
function parseAccountId(accountId) {
  const [id, blockchain = 'ton',
  // Handle deprecated case when `accountId = '0'`
  network = 'mainnet'] = accountId.split('-');
  return {
    id: Number(id),
    blockchain: blockchain,
    network: network
  };
}
function buildAccountId(account) {
  const {
    id,
    network,
    blockchain
  } = account;
  return `${id}-${blockchain}-${network}`;
}

/***/ }),

/***/ "./src/util/activeTabMonitor.ts":
/*!**************************************!*\
  !*** ./src/util/activeTabMonitor.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   setActiveTabChangeListener: () => (/* binding */ setActiveTabChangeListener)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");


const IS_DISABLED = _windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_LEDGER_EXTENSION_TAB || _windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_DELEGATED_BOTTOM_SHEET || _windowEnvironment__WEBPACK_IMPORTED_MODULE_1__.IS_ELECTRON;
const INTERVAL = 2000;
const tabKey = String(Date.now() + Math.random());
if (!IS_DISABLED) {
  localStorage.setItem(_config__WEBPACK_IMPORTED_MODULE_0__.ACTIVE_TAB_STORAGE_KEY, tabKey);
}
let callback;
const interval = window.setInterval(() => {
  if (!IS_DISABLED && callback && localStorage.getItem(_config__WEBPACK_IMPORTED_MODULE_0__.ACTIVE_TAB_STORAGE_KEY) !== tabKey) {
    callback();
    clearInterval(interval);
  }
}, INTERVAL);
function setActiveTabChangeListener(_callback) {
  callback = _callback;
}

/***/ }),

/***/ "./src/util/animateHorizontalScroll.ts":
/*!*********************************************!*\
  !*** ./src/util/animateHorizontalScroll.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ animateHorizontalScroll)
/* harmony export */ });
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./animation */ "./src/util/animation.ts");


const DEFAULT_DURATION = 300;
const stopById = new Map();
function animateHorizontalScroll(container, left) {
  let duration = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_DURATION;
  const isRtl = container.getAttribute('dir') === 'rtl';
  const {
    scrollLeft,
    offsetWidth: containerWidth,
    scrollWidth,
    dataset: {
      scrollId
    }
  } = container;
  let path = left - scrollLeft;
  if (path < 0) {
    const remainingPath = -scrollLeft * (isRtl ? -1 : 1);
    path = Math.max(path, remainingPath);
  } else if (path > 0) {
    const remainingPath = scrollWidth - (scrollLeft + containerWidth);
    path = Math.min(path, remainingPath);
  }
  if (path === 0) {
    return Promise.resolve();
  }
  if (scrollId && stopById.has(scrollId)) {
    stopById.get(scrollId)();
  }
  const target = scrollLeft + path;
  return new Promise(resolve => {
    (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMutation)(() => {
      if (duration === 0) {
        container.scrollLeft = target;
        resolve();
        return;
      }
      let isStopped = false;
      const id = Math.random().toString();
      container.dataset.scrollId = id;
      stopById.set(id, () => {
        isStopped = true;
      });
      container.style.scrollSnapType = 'none';
      const startAt = Date.now();
      (0,_animation__WEBPACK_IMPORTED_MODULE_1__.animate)(() => {
        if (isStopped) return false;
        const t = Math.min((Date.now() - startAt) / duration, 1);
        const currentPath = path * (1 - transition(t));
        container.scrollLeft = Math.round(target - currentPath);
        if (t >= 1) {
          container.style.scrollSnapType = '';
          delete container.dataset.scrollId;
          stopById.delete(id);
          resolve();
        }
        return t < 1;
      }, _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMutation);
    });
  });
}
function transition(t) {
  return 1 - (1 - t) ** 3.5;
}

/***/ }),

/***/ "./src/util/animation.ts":
/*!*******************************!*\
  !*** ./src/util/animation.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   animate: () => (/* binding */ animate),
/* harmony export */   animateNumber: () => (/* binding */ animateNumber),
/* harmony export */   applyStyles: () => (/* binding */ applyStyles),
/* harmony export */   timingFunctions: () => (/* binding */ timingFunctions)
/* harmony export */ });
/* unused harmony exports animateSingle, cancelSingleAnimation, animateInstantly */
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");

let currentInstance;
function animateSingle(tick, schedulerFn, instance) {
  if (!instance) {
    if (currentInstance && !currentInstance.isCancelled) {
      currentInstance.isCancelled = true;
    }
    instance = {
      isCancelled: false
    };
    currentInstance = instance;
  }
  if (!instance.isCancelled && tick()) {
    schedulerFn(() => {
      animateSingle(tick, schedulerFn, instance);
    });
  }
}
function cancelSingleAnimation() {
  const dumbScheduler = cb => cb;
  const dumbCb = () => undefined;
  animateSingle(dumbCb, dumbScheduler);
}
function animate(tick, schedulerFn) {
  schedulerFn(() => {
    if (tick()) {
      animate(tick, schedulerFn);
    }
  });
}
function animateInstantly(tick, schedulerFn) {
  if (tick()) {
    schedulerFn(() => {
      animateInstantly(tick, schedulerFn);
    });
  }
}
const timingFunctions = {
  linear: t => t,
  easeIn: t => t ** 1.675,
  easeOut: t => -1 * t ** 1.675,
  easeInOut: t => 0.5 * (Math.sin((t - 0.5) * Math.PI) + 1),
  easeInQuad: t => t * t,
  easeOutQuad: t => t * (2 - t),
  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,
  easeInCubic: t => t ** 3,
  easeOutCubic: t => --t * t * t + 1,
  easeInOutCubic: t => t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,
  easeInQuart: t => t ** 4,
  easeOutQuart: t => 1 - --t * t ** 3,
  easeInOutQuart: t => t < 0.5 ? 8 * t ** 4 : 1 - 8 * --t * t ** 3,
  easeInQuint: t => t ** 5,
  easeOutQuint: t => 1 + --t * t ** 4,
  easeInOutQuint: t => t < 0.5 ? 16 * t ** 5 : 1 + 16 * --t * t ** 4
};
function animateNumber(_ref) {
  let {
    timing = timingFunctions.linear,
    onUpdate,
    duration,
    onEnd,
    from,
    to
  } = _ref;
  const t0 = Date.now();
  let isCanceled = false;
  animateInstantly(() => {
    if (isCanceled) return false;
    const t1 = Date.now();
    const t = Math.min((t1 - t0) / duration, 1);
    const progress = timing(t);
    if (typeof from === 'number' && typeof to === 'number') {
      onUpdate(from + (to - from) * progress);
    } else if (Array.isArray(from) && Array.isArray(to)) {
      const result = from.map((f, i) => f + (to[i] - f) * progress);
      onUpdate(result);
    }
    if (t === 1) {
      onEnd === null || onEnd === void 0 ? void 0 : onEnd();
    }
    return t < 1;
  }, _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMeasure);
  return () => {
    isCanceled = true;
    onEnd === null || onEnd === void 0 ? void 0 : onEnd(true);
  };
}
function applyStyles(element, css) {
  Object.assign(element.style, css);
}

/***/ }),

/***/ "./src/util/areDeepEqual.ts":
/*!**********************************!*\
  !*** ./src/util/areDeepEqual.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   areDeepEqual: () => (/* binding */ areDeepEqual)
/* harmony export */ });
function areDeepEqual(value1, value2) {
  const type1 = typeof value1;
  const type2 = typeof value2;
  if (type1 !== type2) {
    return false;
  }

  // eslint-disable-next-line no-null/no-null
  if (type1 !== 'object' || value1 === null || value2 === null) {
    return value1 === value2;
  }
  const isArray1 = Array.isArray(value1);
  const isArray2 = Array.isArray(value2);
  if (isArray1 !== isArray2) {
    return false;
  }
  if (isArray1) {
    const array1 = value1;
    const array2 = value2;
    if (array1.length !== array2.length) {
      return false;
    }
    return array1.every((member1, i) => areDeepEqual(member1, array2[i]));
  }
  const object1 = value1;
  const object2 = value2;
  const keys1 = Object.keys(object1);
  return keys1.every(key1 => areDeepEqual(object1[key1], object2[key1]));
}

/***/ }),

/***/ "./src/util/arePropsShallowEqual.ts":
/*!******************************************!*\
  !*** ./src/util/arePropsShallowEqual.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ arePropsShallowEqual),
/* harmony export */   logUnequalProps: () => (/* binding */ logUnequalProps)
/* harmony export */ });
function arePropsShallowEqual(currentProps, newProps) {
  if (currentProps === newProps) {
    return true;
  }
  const currentKeys = Object.keys(currentProps);
  const currentKeysLength = currentKeys.length;
  const newKeysLength = Object.keys(newProps).length;
  if (currentKeysLength !== newKeysLength) {
    return false;
  }
  if (currentKeysLength === 0) {
    return true;
  }
  for (let i = 0; i < currentKeysLength; i++) {
    const prop = currentKeys[i];
    if (currentProps[prop] !== newProps[prop]) {
      return false;
    }
  }
  return true;
}
function logUnequalProps(currentProps, newProps, msg) {
  let debugKey = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';
  const currentKeys = Object.keys(currentProps);
  const currentKeysLength = currentKeys.length;
  const newKeysLength = Object.keys(newProps).length;
  if (currentKeysLength !== newKeysLength) {
    // eslint-disable-next-line no-console
    console.log(`${msg} LENGTH`);
    return;
  }

  // eslint-disable-next-line no-console
  console.log(msg);
  currentKeys.forEach(prop => {
    if (currentProps[prop] !== newProps[prop]) {
      // eslint-disable-next-line no-console
      console.log(debugKey, prop, ':', currentProps[prop], '=>', newProps[prop]);
    }
  });
}

/***/ }),

/***/ "./src/util/authApi/index.ts":
/*!***********************************!*\
  !*** ./src/util/authApi/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capgo/capacitor-native-biometric */ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../logs */ "./src/util/logs.ts");
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../random */ "./src/util/random.ts");
/* harmony import */ var _webAuthn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./webAuthn */ "./src/util/authApi/webAuthn.ts");
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];





const CREDENTIAL_SIZE = 32;
async function setupBiometrics(_ref) {
  let {
    credential
  } = _ref;
  let result;
  try {
    if (!credential) {
      var _window$electron;
      const password = Buffer.from((0,_random__WEBPACK_IMPORTED_MODULE_3__.randomBytes)(CREDENTIAL_SIZE)).toString('hex');
      const encryptedPassword = await ((_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.encryptPassword(password));
      if (!encryptedPassword) {
        return result;
      }
      result = {
        password,
        config: {
          kind: 'electron-safe-storage',
          encryptedPassword
        }
      };
    } else {
      result = await _webAuthn__WEBPACK_IMPORTED_MODULE_4__["default"].verify(credential);
    }
  } catch (err) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('setupBiometrics', err);
  }
  return result;
}
async function setupNativeBiometrics(password) {
  await _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__.NativeBiometric.setCredentials({
    username: _config__WEBPACK_IMPORTED_MODULE_1__.NATIVE_BIOMETRICS_USERNAME,
    password,
    server: _config__WEBPACK_IMPORTED_MODULE_1__.NATIVE_BIOMETRICS_SERVER
  });
  return {
    password,
    config: {
      kind: 'native-biometrics'
    }
  };
}
function removeNativeBiometrics() {
  return _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__.NativeBiometric.deleteCredentials({
    server: _config__WEBPACK_IMPORTED_MODULE_1__.NATIVE_BIOMETRICS_SERVER
  });
}
async function getPassword(config) {
  let password;
  try {
    if (config.kind === 'webauthn') {
      password = await _webAuthn__WEBPACK_IMPORTED_MODULE_4__["default"].getPassword(config);
    } else if (config.kind === 'electron-safe-storage') {
      var _window$electron2;
      password = await ((_window$electron2 = window.electron) === null || _window$electron2 === void 0 ? void 0 : _window$electron2.decryptPassword(config.encryptedPassword));
    } else if (config.kind === 'native-biometrics') {
      const isVerified = await _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__.NativeBiometric.verifyIdentity({
        title: _config__WEBPACK_IMPORTED_MODULE_1__.APP_NAME,
        subtitle: ''
      }).then(() => true).catch(() => false);
      if (!isVerified) return undefined;
      const credentials = await _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_0__.NativeBiometric.getCredentials({
        server: _config__WEBPACK_IMPORTED_MODULE_1__.NATIVE_BIOMETRICS_SERVER
      });
      password = credentials.password;
    } else {
      throw new Error('Unexpected auth kind');
    }
  } catch (err) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('submitTransferPassword', err);
  }
  return password;
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  setupBiometrics,
  setupNativeBiometrics,
  removeNativeBiometrics,
  getPassword,
  webAuthn: _webAuthn__WEBPACK_IMPORTED_MODULE_4__["default"]
});

/***/ }),

/***/ "./src/util/authApi/webAuthn.ts":
/*!**************************************!*\
  !*** ./src/util/authApi/webAuthn.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../random */ "./src/util/random.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../schedulers */ "./src/util/schedulers.ts");
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];


var PubkeyAlg = /*#__PURE__*/function (PubkeyAlg) {
  PubkeyAlg[PubkeyAlg["Ed25519"] = -8] = "Ed25519";
  PubkeyAlg[PubkeyAlg["ES256"] = -7] = "ES256";
  PubkeyAlg[PubkeyAlg["RS256"] = -257] = "RS256";
  return PubkeyAlg;
}(PubkeyAlg || {});
const CREDENTIAL_SIZE = 32;
const RP_NAME = 'MyTonWallet';
const USER_NAME = 'MyTonWallet';
const PAUSE = 300;
const CREDENTIAL_TIMEOUT = 120000;
async function createCredential() {
  const rpId = window.location.hostname;
  const userHandle = (0,_random__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(CREDENTIAL_SIZE);
  const credBlob = (0,_random__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(CREDENTIAL_SIZE);
  const options = {
    publicKey: {
      challenge: (0,_random__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(CREDENTIAL_SIZE),
      rp: {
        name: RP_NAME,
        id: rpId
      },
      user: {
        id: userHandle,
        name: USER_NAME,
        displayName: RP_NAME
      },
      pubKeyCredParams: [{
        type: 'public-key',
        alg: PubkeyAlg.ES256
      }, {
        type: 'public-key',
        alg: PubkeyAlg.RS256
      }, {
        type: 'public-key',
        alg: PubkeyAlg.Ed25519
      }],
      authenticatorSelection: {
        requireResidentKey: true,
        userVerification: 'preferred'
      },
      extensions: {
        credBlob,
        hmacCreateSecret: true
      },
      timeout: CREDENTIAL_TIMEOUT,
      excludeCredentials: []
    }
  };
  const credential = await navigator.credentials.create(options);
  if (!credential) {
    throw new Error('Missing credential');
  }
  const extensions = credential.getClientExtensionResults();
  const type = extensions.credBlob ? 'credBlob' : 'userHandle';
  return {
    type,
    password: {
      credBlob: Buffer.from(credBlob).toString('hex'),
      userHandle: Buffer.from(userHandle).toString('hex')
    },
    credential
  };
}
async function verify(_ref) {
  let {
    credential,
    password,
    type
  } = _ref;
  await (0,_schedulers__WEBPACK_IMPORTED_MODULE_1__.pause)(PAUSE);
  const transports = credential.response && credential.response.getTransports && credential.response.getTransports();
  const credentialId = Buffer.from(credential.rawId).toString('hex');
  const options = {
    publicKey: {
      challenge: (0,_random__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(CREDENTIAL_SIZE),
      allowCredentials: [{
        id: credential.rawId,
        type: 'public-key',
        transports
      }],
      userVerification: 'required',
      extensions: {
        getCredBlob: true
      }
    }
  };
  const assertion = await navigator.credentials.get(options);
  if (!assertion) {
    throw new Error('Missing authentication');
  }
  const response = assertion.response;
  let result;
  switch (type) {
    case 'userHandle':
      {
        if (!response.userHandle) {
          throw new Error('Missing stored userHandle');
        }
        if (!Buffer.from(password.userHandle, 'hex').equals(Buffer.from(response.userHandle))) {
          throw new Error('Stored blob not equals passed blob');
        }
        result = password.userHandle;
        break;
      }
  }
  if (!result) {
    throw new Error('Missing stored blob');
  }
  const config = {
    kind: 'webauthn',
    type,
    credentialId,
    transports
  };
  return {
    config,
    password: result
  };
}
async function getPassword(config) {
  if (config.kind !== 'webauthn') {
    throw new Error('Unexpected auth kind');
  }
  const {
    credentialId,
    transports,
    type
  } = config;
  const controller = new AbortController();
  const signal = controller.signal;
  const options = {
    publicKey: {
      challenge: (0,_random__WEBPACK_IMPORTED_MODULE_0__.randomBytes)(CREDENTIAL_SIZE),
      allowCredentials: [{
        id: Buffer.from(credentialId, 'hex'),
        type: 'public-key',
        transports
      }],
      userVerification: 'required',
      extensions: {
        getCredBlob: true
      }
    },
    signal
  };
  const assertion = await navigator.credentials.get(options);
  if (signal.aborted) {
    throw new Error('Verification canceled');
  }
  const response = assertion.response;
  const extensions = assertion.getClientExtensionResults();
  if (type === 'userHandle') {
    if (!response.userHandle) {
      throw new Error('missing userHandle');
    }
    return Buffer.from(response.userHandle).toString('hex');
  } else {
    var _extensions$getCredBl;
    return Buffer.from((_extensions$getCredBl = extensions.getCredBlob) !== null && _extensions$getCredBl !== void 0 ? _extensions$getCredBl : '').toString('hex');
  }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  createCredential,
  verify,
  getPassword
});

/***/ }),

/***/ "./src/util/base64toHex.ts":
/*!*********************************!*\
  !*** ./src/util/base64toHex.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   base64ToHex: () => (/* binding */ base64ToHex)
/* harmony export */ });
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js")["Buffer"];
function base64ToHex(base64) {
  const buffer = Buffer.from(base64, 'base64');
  return buffer.toString('hex');
}

/***/ }),

/***/ "./src/util/betterView.ts":
/*!********************************!*\
  !*** ./src/util/betterView.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   betterView: () => (/* binding */ betterView)
/* harmony export */ });
/* harmony import */ var _animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation */ "./src/util/animation.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");



const TEST_INTERVAL = 5000; // 5 sec
const FRAMES_TO_TEST = 10;
const REDUCED_FPS = 35;
let isImproved = false;
function betterView() {
  if (!_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_IOS) return;
  let interval;
  let lastFocusAt = Date.now();
  function setupInterval() {
    if (interval || isImproved) return;
    interval = window.setInterval(testAndImprove, TEST_INTERVAL);
  }
  window.addEventListener('focus', () => {
    const now = Date.now();
    if (now - lastFocusAt < 100) return; // iOS triggers two `focus` events for some reason
    lastFocusAt = now;
    setupInterval();
    testAndImprove();
  });
  window.addEventListener('blur', () => {
    clearInterval(interval);
    interval = undefined;
  });
  if (document.hasFocus()) {
    setupInterval();
    testAndImprove();
  }
}
async function testAndImprove() {
  const fps = await testFps();
  if (fps <= REDUCED_FPS) {
    improveView();
  }
}
function testFps() {
  return new Promise(resolve => {
    const frames = [];
    let lastFrameAt = performance.now();
    (0,_animation__WEBPACK_IMPORTED_MODULE_0__.animate)(() => {
      const now = performance.now();
      frames.push(now - lastFrameAt);
      lastFrameAt = now;
      if (frames.length === FRAMES_TO_TEST) {
        const mean = frames.sort()[Math.floor(frames.length / 2)];
        resolve(Math.round(1000 / mean));
        return false;
      }
      return true;
    }, _schedulers__WEBPACK_IMPORTED_MODULE_1__.fastRaf);
  });
}
function improveView() {
  isImproved = true;
  const containerEl = document.createElement('div');
  containerEl.style.cssText = 'position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;';
  const boosterEl = document.createElement('div');
  const height = window.screen.height * 1.5;
  boosterEl.style.cssText = `width: 0; height: ${height}px; transform: translateX(100%); transition: transform 100ms;`;
  boosterEl.innerHTML = '&nbsp;';
  containerEl.appendChild(boosterEl);
  document.body.appendChild(containerEl);
  requestAnimationFrame(() => {
    boosterEl.addEventListener('transitionend', () => {
      containerEl.remove();
    });
    boosterEl.style.transform = '';
  });
}

/***/ }),

/***/ "./src/util/bigint.ts":
/*!****************************!*\
  !*** ./src/util/bigint.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BIGINT_PREFIX: () => (/* binding */ BIGINT_PREFIX),
/* harmony export */   bigintAbs: () => (/* binding */ bigintAbs),
/* harmony export */   bigintMultiplyToNumber: () => (/* binding */ bigintMultiplyToNumber),
/* harmony export */   bigintRandom: () => (/* binding */ bigintRandom),
/* harmony export */   bigintReviver: () => (/* binding */ bigintReviver)
/* harmony export */ });
/* unused harmony exports bigintDivideToNumber, bigintCountBits */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _decimals__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decimals */ "./src/util/decimals.ts");
/* harmony import */ var _random__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./random */ "./src/util/random.ts");



const BIGINT_PREFIX = 'bigint:';
function bigintReviver(key, value) {
  if (typeof value === 'string' && value.startsWith(BIGINT_PREFIX)) {
    return BigInt(value.slice(7));
  }
  return value;
}
function bigintAbs(value) {
  return value === -0n || value < 0n ? -value : value;
}
function bigintDivideToNumber(value, num) {
  return value * _config__WEBPACK_IMPORTED_MODULE_0__.ONE_TON / (0,_decimals__WEBPACK_IMPORTED_MODULE_1__.fromDecimal)(num);
}
function bigintMultiplyToNumber(value, num) {
  return value * (0,_decimals__WEBPACK_IMPORTED_MODULE_1__.fromDecimal)(num) / _config__WEBPACK_IMPORTED_MODULE_0__.ONE_TON;
}
function bigintRandom(bytes) {
  let value = BigInt(0);
  for (const randomNumber of (0,_random__WEBPACK_IMPORTED_MODULE_2__.randomBytes)(bytes)) {
    const randomBigInt = BigInt(randomNumber);
    // eslint-disable-next-line no-bitwise
    value = (value << BigInt(8)) + randomBigInt;
  }
  return value;
}
function bigintCountBits(value) {
  const binaryString = value.toString(2);
  return binaryString.length;
}

/***/ }),

/***/ "./src/util/bigintPatch.ts":
/*!*********************************!*\
  !*** ./src/util/bigintPatch.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __unused_webpack___webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bigint */ "./src/util/bigint.ts");


// Fixes serialization of objects containing `bigint` values.
// Extracted to a separate file to avoid leaking into Extension Page Script.
// @ts-ignore
BigInt.prototype.toJSON = function toJSON() {
  return `${_bigint__WEBPACK_IMPORTED_MODULE_0__.BIGINT_PREFIX}${this}`;
};

/***/ }),

/***/ "./src/util/buildClassName.ts":
/*!************************************!*\
  !*** ./src/util/buildClassName.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ buildClassName)
/* harmony export */ });
/* unused harmony export createClassNameBuilder */
function buildClassName() {
  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {
    parts[_key] = arguments[_key];
  }
  return parts.filter(Boolean).join(' ');
}
function createClassNameBuilder(componentName) {
  return function (elementName) {
    const baseName = elementName === '&' ? componentName : `${componentName}__${elementName}`;
    for (var _len2 = arguments.length, modifiers = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      modifiers[_key2 - 1] = arguments[_key2];
    }
    return modifiers.reduce((acc, modifier) => {
      if (modifier) {
        // A bit hacky way to pass global class names
        if (Array.isArray(modifier)) {
          acc.push(...modifier);
        } else {
          acc.push(`${baseName}--${modifier}`);
        }
      }
      return acc;
    }, [baseName]).join(' ');
  };
}

/***/ }),

/***/ "./src/util/buildStyle.ts":
/*!********************************!*\
  !*** ./src/util/buildStyle.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ buildStyle)
/* harmony export */ });
function buildStyle() {
  for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {
    parts[_key] = arguments[_key];
  }
  return parts.filter(Boolean).join(';');
}

/***/ }),

/***/ "./src/util/cacheApi.ts":
/*!******************************!*\
  !*** ./src/util/cacheApi.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clear: () => (/* binding */ clear),
/* harmony export */   fetch: () => (/* binding */ fetch),
/* harmony export */   save: () => (/* binding */ save)
/* harmony export */ });
/* unused harmony export remove */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");


// eslint-disable-next-line no-restricted-globals
const cacheApi = self.caches;
async function fetch(cacheName, key) {
  if (!cacheApi) {
    return undefined;
  }
  try {
    // To avoid the error "Request scheme 'webdocument' is unsupported"
    const request = _config__WEBPACK_IMPORTED_MODULE_0__.IS_PACKAGED_ELECTRON ? `${_config__WEBPACK_IMPORTED_MODULE_0__.ELECTRON_HOST_URL}/${key.replace(/:/g, '_')}` : new Request(key.replace(/:/g, '_'));
    const cache = await cacheApi.open(cacheName);
    const response = await cache.match(request);
    if (!response) {
      return undefined;
    }
    return await response.json();
  } catch (err) {
    // eslint-disable-next-line no-console
    console.warn(err);
    return undefined;
  }
}
async function save(cacheName, key, data) {
  if (!cacheApi) {
    return undefined;
  }
  try {
    const cacheData = typeof data === 'string' || data instanceof Blob || data instanceof ArrayBuffer ? data : JSON.stringify(data);
    // To avoid the error "Request scheme 'webdocument' is unsupported"
    const request = _config__WEBPACK_IMPORTED_MODULE_0__.IS_PACKAGED_ELECTRON ? `${_config__WEBPACK_IMPORTED_MODULE_0__.ELECTRON_HOST_URL}/${key.replace(/:/g, '_')}` : new Request(key.replace(/:/g, '_'));
    const response = new Response(cacheData);

    // To avoid the error "Request scheme 'chrome-extension' is unsupported"
    // https://github.com/iamshaunjp/pwa-tutorial/issues/1
    if (request instanceof Request && request.url.indexOf('chrome-extension') === 0) {
      return undefined;
    }
    const cache = await cacheApi.open(cacheName);
    return await cache.put(request, response);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.warn(err);
    return undefined;
  }
}
async function remove(cacheName, key) {
  try {
    if (!cacheApi) {
      return undefined;
    }
    const cache = await cacheApi.open(cacheName);
    return await cache.delete(key);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.warn(err);
    return undefined;
  }
}
async function clear(cacheName) {
  try {
    if (!cacheApi) {
      return undefined;
    }
    return await cacheApi.delete(cacheName);
  } catch (err) {
    // eslint-disable-next-line no-console
    console.warn(err);
    return undefined;
  }
}

/***/ }),

/***/ "./src/util/calcChangeValue.ts":
/*!*************************************!*\
  !*** ./src/util/calcChangeValue.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   calcBigChangeValue: () => (/* binding */ calcBigChangeValue),
/* harmony export */   calcChangeValue: () => (/* binding */ calcChangeValue)
/* harmony export */ });
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/big.js */ "./src/lib/big.js/index.js");

function calcChangeValue(currentPrice, changeFactor) {
  return currentPrice - currentPrice / (1 + changeFactor);
}
function calcBigChangeValue(currentPrice, changeFactor) {
  currentPrice = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big)(currentPrice);
  changeFactor = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big)(changeFactor);
  return currentPrice.minus(currentPrice.div(changeFactor.plus(1)));
}

/***/ }),

/***/ "./src/util/callbacks.ts":
/*!*******************************!*\
  !*** ./src/util/callbacks.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCallbackManager: () => (/* binding */ createCallbackManager)
/* harmony export */ });
/* unused harmony export EventEmitter */
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
function createCallbackManager() {
  const callbacks = new Set();
  function addCallback(cb) {
    callbacks.add(cb);
    return () => {
      removeCallback(cb);
    };
  }
  function removeCallback(cb) {
    callbacks.delete(cb);
  }
  function runCallbacks() {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    callbacks.forEach(callback => {
      callback(...args);
    });
  }
  function hasCallbacks() {
    return Boolean(callbacks.size);
  }
  return {
    runCallbacks,
    addCallback,
    removeCallback,
    hasCallbacks
  };
}
class EventEmitter {
  constructor() {
    _defineProperty(this, "channels", new Map());
  }
  on(name, handler) {
    this.resolveChannel(name).addCallback(handler);
    return this;
  }
  removeListener(name, handler) {
    this.resolveChannel(name).removeCallback(handler);
    return this;
  }
  emit(name) {
    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      args[_key2 - 1] = arguments[_key2];
    }
    this.resolveChannel(name).runCallbacks(...args);
    return this;
  }
  resolveChannel(name) {
    let channel = this.channels.get(name);
    if (!channel) {
      channel = createCallbackManager();
      this.channels.set(name, channel);
    }
    return channel;
  }
}

/***/ }),

/***/ "./src/util/capacitor.ts":
/*!*******************************!*\
  !*** ./src/util/capacitor.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   INAPP_BROWSER_OPTIONS: () => (/* binding */ INAPP_BROWSER_OPTIONS),
/* harmony export */   fixIosAppStorage: () => (/* binding */ fixIosAppStorage),
/* harmony export */   getIsBiometricAuthSupported: () => (/* binding */ getIsBiometricAuthSupported),
/* harmony export */   getIsFaceIdAvailable: () => (/* binding */ getIsFaceIdAvailable),
/* harmony export */   getIsNativeBiometricAuthSupported: () => (/* binding */ getIsNativeBiometricAuthSupported),
/* harmony export */   getIsTouchIdAvailable: () => (/* binding */ getIsTouchIdAvailable),
/* harmony export */   getStatusBarHeight: () => (/* binding */ getStatusBarHeight),
/* harmony export */   initCapacitor: () => (/* binding */ initCapacitor),
/* harmony export */   switchStatusBar: () => (/* binding */ switchStatusBar),
/* harmony export */   vibrate: () => (/* binding */ vibrate),
/* harmony export */   vibrateOnError: () => (/* binding */ vibrateOnError),
/* harmony export */   vibrateOnSuccess: () => (/* binding */ vibrateOnSuccess)
/* harmony export */ });
/* unused harmony exports VIBRATE_SUCCESS_END_PAUSE_MS, getLaunchUrl, clearLaunchUrl */
/* harmony import */ var _capacitor_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/app */ "./node_modules/@capacitor/app/dist/esm/index.js");
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @capacitor/haptics */ "./node_modules/@capacitor/haptics/dist/esm/index.js");
/* harmony import */ var _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @capacitor/status-bar */ "./node_modules/@capacitor/status-bar/dist/esm/index.js");
/* harmony import */ var _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @capgo/capacitor-native-biometric */ "./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js");
/* harmony import */ var _mauricewegner_capacitor_navigation_bar__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @mauricewegner/capacitor-navigation-bar */ "./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/index.js");
/* harmony import */ var capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! capacitor-plugin-safe-area */ "./node_modules/capacitor-plugin-safe-area/dist/esm/index.js");
/* harmony import */ var capacitor_splash_screen__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! capacitor-splash-screen */ "./mobile/plugins/capacitor-splash-screen/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _capacitorStorageProxy_methods__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./capacitorStorageProxy/methods */ "./src/util/capacitorStorageProxy/methods.ts");
/* harmony import */ var _deeplink__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./deeplink */ "./src/util/deeplink/index.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");














// Full list of options can be found at https://github.com/apache/cordova-plugin-inappbrowser#cordovainappbrowseropen
const INAPP_BROWSER_OPTIONS = [`location=${_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_IOS ? 'no' : 'yes'}`, `lefttoright=${_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_IOS ? 'no' : 'yes'}`, 'usewkwebview=yes', 'clearcache=no', 'clearsessioncache=no', 'hidden=yes', 'toolbarposition=top', 'hidenavigationbuttons=yes', 'hideurlbar=no', 'backbuttoncaption=Back', 'allowInlineMediaPlayback=yes'].join(',');
const IOS_SPLASH_SCREEN_HIDE_DELAY = 500;
const IOS_SPLASH_SCREEN_HIDE_DURATION = 600;
const VIBRATE_SUCCESS_END_PAUSE_MS = 1300;
let launchUrl;
let platform;
let isNativeBiometricAuthSupported = false;
let isFaceIdAvailable = false;
let isTouchIdAvailable = false;
let statusBarHeight = 0;
async function initCapacitor() {
  var _await$App$getLaunchU;
  platform = _capacitor_core__WEBPACK_IMPORTED_MODULE_1__.Capacitor.getPlatform();
  const biometricsAvailableResult = await _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_4__.NativeBiometric.isAvailable();
  isNativeBiometricAuthSupported = biometricsAvailableResult.isAvailable;
  isFaceIdAvailable = biometricsAvailableResult.biometryType === _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_4__.BiometryType.FACE_ID;
  isTouchIdAvailable = biometricsAvailableResult.biometryType === _capgo_capacitor_native_biometric__WEBPACK_IMPORTED_MODULE_4__.BiometryType.TOUCH_ID;
  capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_6__.SafeArea.getStatusBarHeight().then(_ref => {
    let {
      statusBarHeight: height
    } = _ref;
    statusBarHeight = height;
    document.documentElement.style.setProperty('--status-bar-height', `${height}px`);
  });
  capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_6__.SafeArea.getSafeAreaInsets().then(_ref2 => {
    let {
      insets: {
        bottom
      }
    } = _ref2;
    document.documentElement.style.setProperty('--safe-area-bottom', `${bottom}px`);
  });
  if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_DELEGATED_BOTTOM_SHEET) {
    void capacitor_splash_screen__WEBPACK_IMPORTED_MODULE_7__.SplashScreen.hide({
      fadeOutDuration: 0
    });
    return;
  }
  if (platform === 'ios') {
    setTimeout(() => {
      void capacitor_splash_screen__WEBPACK_IMPORTED_MODULE_7__.SplashScreen.hide({
        fadeOutDuration: IOS_SPLASH_SCREEN_HIDE_DURATION
      });
    }, IOS_SPLASH_SCREEN_HIDE_DELAY);
  }
  _capacitor_app__WEBPACK_IMPORTED_MODULE_0__.App.addListener('appUrlOpen', event => {
    (0,_deeplink__WEBPACK_IMPORTED_MODULE_10__.processDeeplink)(event.url);
  });
  _capacitor_app__WEBPACK_IMPORTED_MODULE_0__.App.addListener('backButton', _ref3 => {
    let {
      canGoBack
    } = _ref3;
    if (canGoBack) {
      window.history.back();
    } else {
      _capacitor_app__WEBPACK_IMPORTED_MODULE_0__.App.exitApp();
    }
  });
  if (platform === 'android') {
    // Until this bug is fixed, the `overlay` must be `false`
    // https://bugs.chromium.org/p/chromium/issues/detail?id=1094366
    void _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__.StatusBar.setOverlaysWebView({
      overlay: false
    });
    void _mauricewegner_capacitor_navigation_bar__WEBPACK_IMPORTED_MODULE_5__.NavigationBar.setTransparency({
      isTransparent: false
    });
  }
  await capacitor_plugin_safe_area__WEBPACK_IMPORTED_MODULE_6__.SafeArea.addListener('safeAreaChanged', data => {
    const {
      insets
    } = data;
    for (const [key, value] of Object.entries(insets)) {
      document.documentElement.style.setProperty(`--safe-area-${key}`, `${value}px`);
    }
  });
  launchUrl = (_await$App$getLaunchU = await _capacitor_app__WEBPACK_IMPORTED_MODULE_0__.App.getLaunchUrl()) === null || _await$App$getLaunchU === void 0 ? void 0 : _await$App$getLaunchU.url;
  if (launchUrl) {
    void (0,_deeplink__WEBPACK_IMPORTED_MODULE_10__.processDeeplink)(launchUrl);
  }
}
function switchStatusBar(currentAppTheme, isSystemDark, forceDarkBackground) {
  if (platform !== 'ios') return;
  const style = forceDarkBackground || currentAppTheme === 'dark' ? _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__.Style.Dark : isSystemDark && currentAppTheme === 'system' ? _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__.Style.Dark : _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__.Style.Light;
  void _capacitor_status_bar__WEBPACK_IMPORTED_MODULE_3__.StatusBar.setStyle({
    style
  });
}
function getLaunchUrl() {
  return launchUrl;
}
function clearLaunchUrl() {
  launchUrl = undefined;
}
function getStatusBarHeight() {
  return statusBarHeight;
}
async function vibrate() {
  if (!_config__WEBPACK_IMPORTED_MODULE_8__.IS_CAPACITOR) return;
  await _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.Haptics.impact({
    style: _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.ImpactStyle.Light
  });
}
async function vibrateOnError() {
  if (!_config__WEBPACK_IMPORTED_MODULE_8__.IS_CAPACITOR) return;
  await _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.Haptics.impact({
    style: _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.ImpactStyle.Medium
  });
  await (0,_schedulers__WEBPACK_IMPORTED_MODULE_11__.pause)(100);
  await _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.Haptics.impact({
    style: _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.ImpactStyle.Medium
  });
  await (0,_schedulers__WEBPACK_IMPORTED_MODULE_11__.pause)(75);
  await _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.Haptics.impact({
    style: _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.ImpactStyle.Light
  });
}
async function vibrateOnSuccess() {
  let withPauseOnEnd = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  if (!_config__WEBPACK_IMPORTED_MODULE_8__.IS_CAPACITOR) return;
  await _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.Haptics.impact({
    style: _capacitor_haptics__WEBPACK_IMPORTED_MODULE_2__.ImpactStyle.Light
  });
  if (withPauseOnEnd) {
    await (0,_schedulers__WEBPACK_IMPORTED_MODULE_11__.pause)(VIBRATE_SUCCESS_END_PAUSE_MS);
  }
}
function getIsNativeBiometricAuthSupported() {
  return isNativeBiometricAuthSupported;
}
function getIsBiometricAuthSupported() {
  return _windowEnvironment__WEBPACK_IMPORTED_MODULE_12__.IS_BIOMETRIC_AUTH_SUPPORTED || getIsNativeBiometricAuthSupported();
}
function getIsFaceIdAvailable() {
  return isFaceIdAvailable;
}
function getIsTouchIdAvailable() {
  return isTouchIdAvailable;
}
async function fixIosAppStorage() {
  await _capacitorStorageProxy_methods__WEBPACK_IMPORTED_MODULE_9__.init();
  const isLocalStorageDataExists = Boolean(window.localStorage.getItem(_config__WEBPACK_IMPORTED_MODULE_8__.GLOBAL_STATE_CACHE_KEY));
  const isApiStorageDataExists = Boolean(await _capacitorStorageProxy_methods__WEBPACK_IMPORTED_MODULE_9__.getItem('accounts'));
  if (isLocalStorageDataExists && !isApiStorageDataExists) {
    window.localStorage.clear();
  }
  if (!isLocalStorageDataExists && isApiStorageDataExists) {
    await _capacitorStorageProxy_methods__WEBPACK_IMPORTED_MODULE_9__.clear();
  }
}

/***/ }),

/***/ "./src/util/capacitorStorageProxy/index.ts":
/*!*************************************************!*\
  !*** ./src/util/capacitorStorageProxy/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createWindowProvider: () => (/* binding */ createWindowProvider)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _createPostMessageInterface__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../createPostMessageInterface */ "./src/util/createPostMessageInterface.ts");
/* harmony import */ var _methods__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./methods */ "./src/util/capacitorStorageProxy/methods.ts");



function createWindowProvider(worker) {
  (0,_createPostMessageInterface__WEBPACK_IMPORTED_MODULE_1__.createPostMessageInterface)(function (name, origin) {
    const method = _methods__WEBPACK_IMPORTED_MODULE_2__[name];

    // @ts-ignore
    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
      args[_key - 2] = arguments[_key];
    }
    return method(...args);
  }, _config__WEBPACK_IMPORTED_MODULE_0__.WINDOW_PROVIDER_CHANNEL, worker, true);
}

/***/ }),

/***/ "./src/util/capacitorStorageProxy/methods.ts":
/*!***************************************************!*\
  !*** ./src/util/capacitorStorageProxy/methods.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clear: () => (/* binding */ clear),
/* harmony export */   getItem: () => (/* binding */ getItem),
/* harmony export */   init: () => (/* binding */ init),
/* harmony export */   keys: () => (/* binding */ keys),
/* harmony export */   removeItem: () => (/* binding */ removeItem),
/* harmony export */   setItem: () => (/* binding */ setItem)
/* harmony export */ });
let SecureStoragePlugin;
let resolvePromise;
const promise = new Promise(resolve => {
  resolvePromise = resolve;
});
async function init() {
  if (SecureStoragePlugin) return;
  ({
    SecureStoragePlugin
  } = await __webpack_require__.e(/*! import() | capacitorSecureStorage */ "capacitorSecureStorage").then(__webpack_require__.bind(__webpack_require__, /*! capacitor-secure-storage-plugin */ "./node_modules/capacitor-secure-storage-plugin/dist/esm/index.js")));
  resolvePromise();
}
async function getItem(key) {
  var _await$get$catch;
  await promise;
  return (_await$get$catch = await SecureStoragePlugin.get({
    key
  }).catch(err => {
    const message = typeof err === 'string' ? err : err.message;
    if (message.includes('key does not exist')) {
      return undefined;
    } else {
      throw err;
    }
  })) === null || _await$get$catch === void 0 ? void 0 : _await$get$catch.value;
}
async function setItem(key, value) {
  await promise;
  return SecureStoragePlugin.set({
    key,
    value
  });
}
async function removeItem(key) {
  await promise;
  return SecureStoragePlugin.remove({
    key
  });
}
async function clear() {
  await promise;
  return SecureStoragePlugin.clear();
}
async function keys() {
  await promise;
  return SecureStoragePlugin.keys();
}

/***/ }),

/***/ "./src/util/captureEscKeyListener.ts":
/*!*******************************************!*\
  !*** ./src/util/captureEscKeyListener.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ captureEscKeyListener)
/* harmony export */ });
/* harmony import */ var _captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./captureKeyboardListeners */ "./src/util/captureKeyboardListeners.ts");

function captureEscKeyListener(handler) {
  return (0,_captureKeyboardListeners__WEBPACK_IMPORTED_MODULE_0__["default"])({
    onEsc: handler
  });
}

/***/ }),

/***/ "./src/util/captureEvents.ts":
/*!***********************************!*\
  !*** ./src/util/captureEvents.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   IOS_SCREEN_EDGE_THRESHOLD: () => (/* binding */ IOS_SCREEN_EDGE_THRESHOLD),
/* harmony export */   SWIPE_DIRECTION_THRESHOLD: () => (/* binding */ SWIPE_DIRECTION_THRESHOLD),
/* harmony export */   SWIPE_DIRECTION_TOLERANCE: () => (/* binding */ SWIPE_DIRECTION_TOLERANCE),
/* harmony export */   SwipeDirection: () => (/* binding */ SwipeDirection),
/* harmony export */   captureEvents: () => (/* binding */ captureEvents)
/* harmony export */ });
/* harmony import */ var _lethargy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lethargy */ "./src/util/lethargy.ts");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./math */ "./src/util/math.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _windowSize__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./windowSize */ "./src/util/windowSize.ts");





let SwipeDirection = /*#__PURE__*/function (SwipeDirection) {
  SwipeDirection[SwipeDirection["Up"] = 0] = "Up";
  SwipeDirection[SwipeDirection["Down"] = 1] = "Down";
  SwipeDirection[SwipeDirection["Left"] = 2] = "Left";
  SwipeDirection[SwipeDirection["Right"] = 3] = "Right";
  return SwipeDirection;
}({});

// https://stackoverflow.com/questions/11287877/how-can-i-get-e-offsetx-on-mobile-ipad
// Android does not have this value, and iOS has it but as read-only
const IOS_SCREEN_EDGE_THRESHOLD = 20;
const SWIPE_DIRECTION_THRESHOLD = 10;
const SWIPE_DIRECTION_TOLERANCE = 1.5;
const MOVE_THRESHOLD = 15;
const SWIPE_THRESHOLD_DEFAULT = 20;
const RELEASE_WHEEL_ZOOM_DELAY = 150;
const RELEASE_WHEEL_DRAG_DELAY = 150;
function getDistance(a, b) {
  if (!b) return 0;
  return Math.hypot(b.pageX - a.pageX, b.pageY - a.pageY);
}
function getTouchCenter(a, b) {
  return {
    x: (a.pageX + b.pageX) / 2,
    y: (a.pageY + b.pageY) / 2
  };
}
let lastClickTime = 0;
const lethargy = new _lethargy__WEBPACK_IMPORTED_MODULE_0__.Lethargy({
  stability: 5,
  sensitivity: 25,
  tolerance: _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_WINDOWS ? 1 : 0.6,
  // Windows `scrollDelta` does not die down to 0
  delay: 150
});
function captureEvents(element, options) {
  var _options$initialZoom, _options$minZoom, _options$maxZoom;
  let captureEvent;
  let hasMoved = false;
  let hasSwiped = false;
  let isZooming = false;
  let initialDistance = 0;
  let wheelZoom = (_options$initialZoom = options.initialZoom) !== null && _options$initialZoom !== void 0 ? _options$initialZoom : 1;
  let initialDragOffset = {
    x: 0,
    y: 0
  };
  let isDragCanceled = {
    x: false,
    y: false
  };
  const currentWindowSize = _windowSize__WEBPACK_IMPORTED_MODULE_4__["default"].get();
  let initialTouchCenter = {
    x: currentWindowSize.width / 2,
    y: currentWindowSize.height / 2
  };
  let initialSwipeAxis;
  const minZoom = (_options$minZoom = options.minZoom) !== null && _options$minZoom !== void 0 ? _options$minZoom : 1;
  const maxZoom = (_options$maxZoom = options.maxZoom) !== null && _options$maxZoom !== void 0 ? _options$maxZoom : 4;
  function onCapture(e) {
    var _options$onCapture;
    const target = e.target;
    const {
      excludedClosestSelector,
      includedClosestSelector,
      withNativeDrag,
      withCursor,
      onDrag
    } = options;
    if (element !== target && !element.contains(target)) {
      return;
    }
    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {
      return;
    }
    if (excludedClosestSelector && (target.matches(excludedClosestSelector) || target.closest(excludedClosestSelector)) || includedClosestSelector && !(target.matches(includedClosestSelector) || target.closest(includedClosestSelector))) {
      return;
    }
    captureEvent = e;
    if (e.type === 'mousedown') {
      if (!withNativeDrag && onDrag) {
        e.preventDefault();
      }
      document.addEventListener('mousemove', onMove);
      document.addEventListener('mouseup', onRelease);
    } else if (e.type === 'touchstart') {
      // We need to always listen on `touchstart` target:
      // https://stackoverflow.com/questions/33298828/touch-move-event-dont-fire-after-touch-start-target-is-removed
      target.addEventListener('touchmove', onMove, {
        passive: true
      });
      target.addEventListener('touchend', onRelease, {
        passive: true
      });
      target.addEventListener('touchcancel', onRelease, {
        passive: true
      });
      if ('touches' in e) {
        if (e.pageX === undefined) {
          e.pageX = e.touches[0].pageX;
        }
        if (e.pageY === undefined) {
          e.pageY = e.touches[0].pageY;
        }
        if (e.touches.length === 2) {
          initialDistance = getDistance(e.touches[0], e.touches[1]);
          initialTouchCenter = getTouchCenter(e.touches[0], e.touches[1]);
        }
      }
    }
    if (withCursor) {
      document.body.classList.add('cursor-grabbing');
    }
    (_options$onCapture = options.onCapture) === null || _options$onCapture === void 0 ? void 0 : _options$onCapture.call(options, e);
  }
  function onRelease(e) {
    if (captureEvent) {
      if (options.withCursor) {
        document.body.classList.remove('cursor-grabbing');
      }
      document.removeEventListener('mouseup', onRelease);
      document.removeEventListener('mousemove', onMove);
      captureEvent.target.removeEventListener('touchcancel', onRelease);
      captureEvent.target.removeEventListener('touchend', onRelease);
      captureEvent.target.removeEventListener('touchmove', onMove);
      if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS && options.selectorToPreventScroll) {
        Array.from(document.querySelectorAll(options.selectorToPreventScroll)).forEach(scrollable => {
          scrollable.style.overflow = '';
        });
      }
      if (e) {
        if (hasMoved) {
          if (options.onRelease) {
            options.onRelease(e);
          }
        } else if (e.type === 'mouseup') {
          if (options.onDoubleClick && Date.now() - lastClickTime < 300) {
            options.onDoubleClick(e, {
              centerX: captureEvent.pageX,
              centerY: captureEvent.pageY
            });
          } else if (options.onClick && (!('button' in e) || e.button === 0)) {
            options.onClick(e);
          }
          lastClickTime = Date.now();
        }
      }
    }
    hasMoved = false;
    hasSwiped = false;
    isZooming = false;
    initialDistance = 0;
    wheelZoom = (0,_math__WEBPACK_IMPORTED_MODULE_1__.clamp)(wheelZoom, minZoom, maxZoom);
    initialSwipeAxis = undefined;
    initialDragOffset = {
      x: 0,
      y: 0
    };
    isDragCanceled = {
      x: false,
      y: false
    };
    const newWindowSize = _windowSize__WEBPACK_IMPORTED_MODULE_4__["default"].get();
    initialTouchCenter = {
      x: newWindowSize.width / 2,
      y: newWindowSize.height / 2
    };
    captureEvent = undefined;
  }
  function onMove(e) {
    if (captureEvent) {
      if (e.type === 'touchmove' && 'touches' in e) {
        if (e.pageX === undefined) {
          e.pageX = e.touches[0].pageX;
        }
        if (e.pageY === undefined) {
          e.pageY = e.touches[0].pageY;
        }
        if (options.onZoom && initialDistance > 0 && e.touches.length === 2) {
          const endDistance = getDistance(e.touches[0], e.touches[1]);
          const touchCenter = getTouchCenter(e.touches[0], e.touches[1]);
          const dragOffsetX = touchCenter.x - initialTouchCenter.x;
          const dragOffsetY = touchCenter.y - initialTouchCenter.y;
          const zoomFactor = endDistance / initialDistance;
          options.onZoom(e, {
            zoomFactor,
            initialCenterX: initialTouchCenter.x,
            initialCenterY: initialTouchCenter.y,
            dragOffsetX,
            dragOffsetY,
            currentCenterX: touchCenter.x,
            currentCenterY: touchCenter.y
          });
          if (zoomFactor !== 1) hasMoved = true;
        }
      }
      const dragOffsetX = e.pageX - captureEvent.pageX;
      const dragOffsetY = e.pageY - captureEvent.pageY;
      if (Math.abs(dragOffsetX) >= MOVE_THRESHOLD || Math.abs(dragOffsetY) >= MOVE_THRESHOLD) {
        hasMoved = true;
      }
      let shouldPreventScroll = false;
      if (options.onDrag) {
        options.onDrag(e, captureEvent, {
          dragOffsetX,
          dragOffsetY
        });
        shouldPreventScroll = true;
      }
      if (options.onSwipe && !hasSwiped) {
        hasSwiped = onSwipe(e, dragOffsetX, dragOffsetY);
        shouldPreventScroll = hasSwiped;
      }
      if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS && shouldPreventScroll && options.selectorToPreventScroll) {
        Array.from(document.querySelectorAll(options.selectorToPreventScroll)).forEach(scrollable => {
          scrollable.style.overflow = 'hidden';
        });
      }
    }
  }
  function onSwipe(e, dragOffsetX, dragOffsetY) {
    var _options$swipeThresho;
    // Avoid conflicts with swipe-to-back gestures
    if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS) {
      const x = e.touches[0].pageX;
      if (x <= IOS_SCREEN_EDGE_THRESHOLD || x >= _windowSize__WEBPACK_IMPORTED_MODULE_4__["default"].get().width - IOS_SCREEN_EDGE_THRESHOLD) {
        return false;
      }
    }
    const xAbs = Math.abs(dragOffsetX);
    const yAbs = Math.abs(dragOffsetY);
    const threshold = (_options$swipeThresho = options.swipeThreshold) !== null && _options$swipeThresho !== void 0 ? _options$swipeThresho : SWIPE_THRESHOLD_DEFAULT;
    let axis;
    if (xAbs > yAbs && xAbs >= threshold) {
      axis = 'x';
    } else if (yAbs > xAbs && yAbs >= threshold) {
      axis = 'y';
    }
    if (!axis) {
      return false;
    }
    if (!initialSwipeAxis) {
      initialSwipeAxis = axis;
    } else if (initialSwipeAxis !== axis) {
      // Prevent horizontal swipe after vertical to prioritize scroll
      return false;
    }
    return processSwipe(e, axis, dragOffsetX, dragOffsetY, options.onSwipe);
  }
  const releaseWheelDrag = (0,_schedulers__WEBPACK_IMPORTED_MODULE_2__.debounce)(onRelease, RELEASE_WHEEL_DRAG_DELAY, false);
  const releaseWheelZoom = (0,_schedulers__WEBPACK_IMPORTED_MODULE_2__.debounce)(onRelease, RELEASE_WHEEL_ZOOM_DELAY, false);
  function onWheelCapture(e) {
    if (hasMoved) return;
    onCapture(e);
    hasMoved = true;
    initialTouchCenter = {
      x: e.x,
      y: e.y
    };
  }
  function onWheelZoom(e) {
    if (!options.onZoom) return;
    onWheelCapture(e);
    const dragOffsetX = e.x - initialTouchCenter.x;
    const dragOffsetY = e.y - initialTouchCenter.y;
    const delta = (0,_math__WEBPACK_IMPORTED_MODULE_1__.clamp)(e.deltaY, -25, 25);
    wheelZoom -= delta * 0.01;
    wheelZoom = (0,_math__WEBPACK_IMPORTED_MODULE_1__.clamp)(wheelZoom, minZoom * 0.5, maxZoom * 3);
    isZooming = true;
    options.onZoom(e, {
      zoom: (0,_math__WEBPACK_IMPORTED_MODULE_1__.round)(wheelZoom, 2),
      initialCenterX: initialTouchCenter.x,
      initialCenterY: initialTouchCenter.y,
      dragOffsetX,
      dragOffsetY,
      currentCenterX: e.x,
      currentCenterY: e.y
    });
    releaseWheelZoom(e);
  }
  function onWheelDrag(e) {
    if (!options.onDrag) return;
    onWheelCapture(e);
    // Ignore wheel inertia if drag is canceled in this direction
    if (!isDragCanceled.x || Math.sign(initialDragOffset.x) === Math.sign(e.deltaX)) {
      initialDragOffset.x -= e.deltaX;
    }
    if (!isDragCanceled.y || Math.sign(initialDragOffset.y) === Math.sign(e.deltaY)) {
      initialDragOffset.y -= e.deltaY;
    }
    const {
      x,
      y
    } = initialDragOffset;
    options.onDrag(e, captureEvent, {
      dragOffsetX: x,
      dragOffsetY: y
    }, (dx, dy) => {
      isDragCanceled = {
        x: dx,
        y: dy
      };
    });
    releaseWheelDrag(e);
  }
  function onWheel(e) {
    if (!options.onZoom && !options.onDrag) return;
    if (options.excludedClosestSelector && (e.target.matches(options.excludedClosestSelector) || e.target.closest(options.excludedClosestSelector))) {
      return;
    }
    e.preventDefault();
    e.stopPropagation();
    const {
      doubleTapZoom = 3
    } = options;
    if (options.onDoubleClick && Object.is(e.deltaX, -0) && Object.is(e.deltaY, -0) && e.ctrlKey) {
      onWheelCapture(e);
      wheelZoom = wheelZoom > 1 ? 1 : doubleTapZoom;
      options.onDoubleClick(e, {
        centerX: e.pageX,
        centerY: e.pageY
      });
      hasMoved = false;
      return;
    }
    const metaKeyPressed = e.metaKey || e.ctrlKey || e.shiftKey;
    if (metaKeyPressed) {
      onWheelZoom(e);
    }
    if (!metaKeyPressed && !isZooming) {
      // Check if this event produced by user scroll and not by inertia
      const isUserEvent = lethargy.check(e);
      if (wheelZoom !== 1 || isUserEvent) {
        onWheelDrag(e);
      }
    }
  }
  if (options.withWheelDrag) {
    element.addEventListener('wheel', onWheel);
  }
  element.addEventListener('mousedown', onCapture);
  document.body.addEventListener('touchstart', onCapture, {
    passive: !options.isNotPassive
  });
  return () => {
    onRelease();
    document.body.removeEventListener('touchstart', onCapture);
    element.removeEventListener('mousedown', onCapture);
    element.removeEventListener('wheel', onWheel);
  };
}
function processSwipe(e, currentSwipeAxis, dragOffsetX, dragOffsetY, onSwipe) {
  const offsets = {
    dragOffsetX,
    dragOffsetY
  };
  if (currentSwipeAxis === 'x') {
    if (dragOffsetX < 0) {
      return onSwipe(e, SwipeDirection.Left, offsets);
    } else {
      return onSwipe(e, SwipeDirection.Right, offsets);
    }
  } else if (currentSwipeAxis === 'y') {
    if (dragOffsetY < 0) {
      return onSwipe(e, SwipeDirection.Up, offsets);
    } else {
      return onSwipe(e, SwipeDirection.Down, offsets);
    }
  }
  return false;
}

/***/ }),

/***/ "./src/util/captureKeyboardListeners.ts":
/*!**********************************************!*\
  !*** ./src/util/captureKeyboardListeners.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ captureKeyboardListeners)
/* harmony export */ });
const keyToHandlerName = {
  Enter: 'onEnter',
  Backspace: 'onBackspace',
  Delete: 'onDelete',
  Esc: 'onEsc',
  Escape: 'onEsc',
  ArrowUp: 'onUp',
  ArrowDown: 'onDown',
  ArrowLeft: 'onLeft',
  ArrowRight: 'onRight',
  Tab: 'onTab'
};
const handlers = {
  onEnter: [],
  onDelete: [],
  onBackspace: [],
  onEsc: [],
  onUp: [],
  onDown: [],
  onLeft: [],
  onRight: [],
  onTab: []
};
function captureKeyboardListeners(options) {
  if (!hasActiveHandlers()) {
    document.addEventListener('keydown', handleKeyDown, true);
  }
  Object.keys(options).forEach(handlerName => {
    const handler = options[handlerName];
    if (!handler) {
      return;
    }
    const currentEventHandlers = handlers[handlerName];
    if (currentEventHandlers) {
      currentEventHandlers.push(handler);
    }
  });
  return () => {
    releaseKeyboardListener(options);
  };
}
function hasActiveHandlers() {
  return Object.values(handlers).some(keyHandlers => Boolean(keyHandlers.length));
}
function handleKeyDown(e) {
  const handlerName = keyToHandlerName[e.key];
  if (!handlerName) {
    return;
  }
  const {
    length
  } = handlers[handlerName];
  if (!length) {
    return;
  }
  e.stopPropagation();
  const handler = handlers[handlerName][length - 1];
  handler(e);
}
function releaseKeyboardListener(options) {
  Object.keys(options).forEach(handlerName => {
    const handler = options[handlerName];
    const currentEventHandlers = handlers[handlerName];
    if (currentEventHandlers) {
      const index = currentEventHandlers.findIndex(cb => cb === handler);
      if (index !== -1) {
        currentEventHandlers.splice(index, 1);
      }
    }
  });
  if (!hasActiveHandlers()) {
    document.removeEventListener('keydown', handleKeyDown, false);
  }
}

/***/ }),

/***/ "./src/util/clipboard.ts":
/*!*******************************!*\
  !*** ./src/util/clipboard.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   copyTextToClipboard: () => (/* binding */ copyTextToClipboard),
/* harmony export */   readClipboardContent: () => (/* binding */ readClipboardContent)
/* harmony export */ });
/* harmony import */ var _capacitor_clipboard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/clipboard */ "./node_modules/@capacitor/clipboard/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _capacitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./capacitor */ "./src/util/capacitor.ts");



const textCopyEl = document.createElement('textarea');
textCopyEl.setAttribute('readonly', '');
textCopyEl.tabIndex = -1;
textCopyEl.className = 'visually-hidden';
const copyTextToClipboard = str => {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    void (0,_capacitor__WEBPACK_IMPORTED_MODULE_2__.vibrate)();
    return _capacitor_clipboard__WEBPACK_IMPORTED_MODULE_0__.Clipboard.write({
      string: str
    });
  }
  return navigator.clipboard.writeText(str);
};
async function readClipboardContent() {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    const {
      value,
      type
    } = await _capacitor_clipboard__WEBPACK_IMPORTED_MODULE_0__.Clipboard.read();
    void (0,_capacitor__WEBPACK_IMPORTED_MODULE_2__.vibrate)();
    return {
      text: value,
      type
    };
  } else {
    const text = await navigator.clipboard.readText();
    return {
      text,
      type: 'text/plain'
    };
  }
}

/***/ }),

/***/ "./src/util/colors.ts":
/*!****************************!*\
  !*** ./src/util/colors.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deltaE: () => (/* binding */ deltaE),
/* harmony export */   hex2rgb: () => (/* binding */ hex2rgb)
/* harmony export */ });
/* unused harmony export euclideanDistance */
function hex2rgb(param) {
  const hex = param.replace('#', '');
  return [parseInt(hex.substring(0, 2), 16), parseInt(hex.substring(2, 4), 16), parseInt(hex.substring(4, 6), 16)];
}
function euclideanDistance(color1, color2) {
  const r = 0.3 * (color1[0] - color2[0]) ** 2;
  const g = 0.59 * (color1[1] - color2[1]) ** 2;
  const b = 0.11 * (color1[2] - color2[2]) ** 2;
  return Math.sqrt(r + g + b);
}
function rgbToLab(rgb) {
  let [r, g, b] = rgb.map(value => value / 255);
  [r, g, b] = [r, g, b].map(value => value > 0.04045 ? ((value + 0.055) / 1.055) ** 2.4 : value / 12.92);
  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;
  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;
  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;
  [x, y, z] = [x / 0.95047, y, z / 1.08883].map(value => value > 0.008856 ? value ** (1 / 3) : 7.787 * value + 16 / 116);
  return [116 * y - 16, 500 * (x - y), 200 * (y - z)];
}

/**
 * Calculates the perceptual difference between two RGB colors.
 *
 * Delta E is a metric for understanding how the human eye perceives color difference.
 * The following table provides a general guideline:
 *
 * Delta E  |  Perception
 * ---------|-------------------------------------------
 * <= 1.0   | Not perceptible by human eyes.
 * 1 - 2    | Perceptible through close observation.
 * 2 - 10   | Perceptible at a glance.
 * 11 - 49  | Colors are more similar than opposite.
 * 100      | Colors are exact opposite.
 *
 * @param rgbA The first color as an RGB array.
 * @param rgbB The second color as an RGB array.
 * @returns The Delta E value representing the color difference.
 */
function deltaE(rgbA, rgbB) {
  const [l1, a1, b1] = rgbToLab(rgbA);
  const [l2, a2, b2] = rgbToLab(rgbB);
  const c1 = Math.sqrt(a1 * a1 + b1 * b1);
  const c2 = Math.sqrt(a2 * a2 + b2 * b2);
  const deltaC = c1 - c2;
  const deltaL = l1 - l2;
  const deltaA = a1 - a2;
  const deltaB = b1 - b2;
  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC);
  const sl = 1.0;
  const sc = 1.0 + 0.045 * c1;
  const sh = 1.0 + 0.015 * c1;
  const deltaLKlsl = deltaL / sl;
  const deltaCkcsc = deltaC / sc;
  const deltaHkhsh = deltaH / sh;
  return Math.sqrt(deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh);
}

/***/ }),

/***/ "./src/util/compareActivities.ts":
/*!***************************************!*\
  !*** ./src/util/compareActivities.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   compareActivities: () => (/* binding */ compareActivities)
/* harmony export */ });
function compareActivities(a, b) {
  let isAsc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let value = a.timestamp - b.timestamp;
  if (value === 0) {
    value = a.id > b.id ? 1 : a.id < b.id ? -1 : 0;
  }
  return isAsc ? value : -value;
}

/***/ }),

/***/ "./src/util/createPostMessageInterface.ts":
/*!************************************************!*\
  !*** ./src/util/createPostMessageInterface.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createPostMessageInterface: () => (/* binding */ createPostMessageInterface)
/* harmony export */ });
/* unused harmony export createExtensionInterface */
/* harmony import */ var _ledger_tab__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ledger/tab */ "./src/util/ledger/tab.ts");
/* harmony import */ var _bigint__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bigint */ "./src/util/bigint.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logs */ "./src/util/logs.ts");



const callbackState = new Map();
function createPostMessageInterface(api, channel) {
  let target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : self;
  let shouldIgnoreErrors = arguments.length > 3 ? arguments[3] : undefined;
  function sendToOrigin(data, transferables) {
    data.channel = channel;
    if (transferables) {
      target.postMessage(data, transferables);
    } else {
      target.postMessage(data);
    }
  }
  if (!shouldIgnoreErrors) {
    handleErrors(sendToOrigin);
  }
  target.onmessage = message => {
    var _message$data;
    if (((_message$data = message.data) === null || _message$data === void 0 ? void 0 : _message$data.channel) === channel) {
      onMessage(api, message.data, sendToOrigin);
    }
  };
}
function createExtensionInterface(portName, api, channel, cleanUpdater) {
  let withAutoInit = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  chrome.runtime.onConnect.addListener(port => {
    var _port$sender;
    if (port.name !== portName) {
      return;
    }

    /**
     * If the sender's URL includes the DETACHED_TAB_URL, we skip further processing
     * This condition ensures that we don't interact with tabs that have already been closed.
     */
    const url = (_port$sender = port.sender) === null || _port$sender === void 0 ? void 0 : _port$sender.url;
    if (url !== null && url !== void 0 && url.includes(_ledger_tab__WEBPACK_IMPORTED_MODULE_0__.DETACHED_TAB_URL)) {
      return;
    }
    const origin = url ? new URL(url).origin : undefined;
    const dAppUpdater = update => {
      sendToOrigin({
        type: 'update',
        update
      });
    };
    function sendToOrigin(data) {
      data.channel = channel;
      const json = JSON.stringify(data);
      port.postMessage(json);
    }
    handleErrors(sendToOrigin);
    port.onMessage.addListener(data => {
      if (typeof data === 'string') {
        data = JSON.parse(data, _bigint__WEBPACK_IMPORTED_MODULE_1__.bigintReviver);
      }
      if (data.channel === channel) {
        onMessage(api, data, sendToOrigin, dAppUpdater, origin);
      }
    });
    port.onDisconnect.addListener(() => {
      cleanUpdater === null || cleanUpdater === void 0 ? void 0 : cleanUpdater(dAppUpdater);
    });
    if (withAutoInit) {
      onMessage(api, {
        type: 'init',
        name: 'init',
        args: []
      }, sendToOrigin, dAppUpdater);
    }
  });
}
async function onMessage(api, data, sendToOrigin, onUpdate, origin) {
  if (!onUpdate) {
    onUpdate = update => {
      sendToOrigin({
        type: 'update',
        update
      });
    };
  }
  switch (data.type) {
    case 'init':
      {
        var _api$init;
        const {
          args
        } = data;
        const promise = typeof api === 'function' ? api('init', origin, onUpdate, ...args) : (_api$init = api.init) === null || _api$init === void 0 ? void 0 : _api$init.call(api, onUpdate, ...args);
        await promise;
        break;
      }
    case 'callMethod':
      {
        const {
          messageId,
          name,
          args,
          withCallback
        } = data;
        try {
          if (messageId && withCallback) {
            const callback = function () {
              for (var _len = arguments.length, callbackArgs = new Array(_len), _key = 0; _key < _len; _key++) {
                callbackArgs[_key] = arguments[_key];
              }
              const lastArg = callbackArgs[callbackArgs.length - 1];
              sendToOrigin({
                type: 'methodCallback',
                messageId,
                callbackArgs
              }, isTransferable(lastArg) ? [lastArg] : undefined);
            };
            callbackState.set(messageId, callback);
            args.push(callback);
          }
          const response = typeof api === 'function' ? await api(name, origin, ...args) : await api[name](...args);
          const {
            arrayBuffer
          } = typeof response === 'object' && 'arrayBuffer' in response && response || {};
          if (messageId) {
            sendToOrigin({
              type: 'methodResponse',
              messageId,
              response
            }, arrayBuffer ? [arrayBuffer] : undefined);
          }
        } catch (err) {
          (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)(name, err);
          if (messageId) {
            sendToOrigin({
              type: 'methodResponse',
              messageId,
              error: {
                message: err.message
              }
            });
          }
        }
        if (messageId) {
          callbackState.delete(messageId);
        }
        break;
      }
    case 'cancelProgress':
      {
        const callback = callbackState.get(data.messageId);
        if (callback) {
          callback.isCanceled = true;
        }
        break;
      }
  }
}
function isTransferable(obj) {
  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;
}
function handleErrors(sendToOrigin) {
  self.onerror = e => {
    var _e$error;
    // eslint-disable-next-line no-console
    console.error(e);
    sendToOrigin({
      type: 'unhandledError',
      error: {
        message: ((_e$error = e.error) === null || _e$error === void 0 ? void 0 : _e$error.message) || 'Uncaught exception in worker'
      }
    });
  };
  self.addEventListener('unhandledrejection', e => {
    var _e$reason;
    // eslint-disable-next-line no-console
    console.error(e);
    sendToOrigin({
      type: 'unhandledError',
      error: {
        message: ((_e$reason = e.reason) === null || _e$reason === void 0 ? void 0 : _e$reason.message) || 'Uncaught rejection in worker'
      }
    });
  });
}

/***/ }),

/***/ "./src/util/cssAnimationEndListeners.ts":
/*!**********************************************!*\
  !*** ./src/util/cssAnimationEndListeners.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   waitForAnimationEnd: () => (/* binding */ waitForAnimationEnd),
/* harmony export */   waitForTransitionEnd: () => (/* binding */ waitForTransitionEnd)
/* harmony export */ });
// Sometimes event is fired earlier than animation completes
const ANIMATION_END_DELAY = 50;
function waitForTransitionEnd(node, handler, propertyName, fallbackMs) {
  return waitForEndEvent('transitionend', node, handler, propertyName, fallbackMs);
}
function waitForAnimationEnd(node, handler, animationName, fallbackMs) {
  return waitForEndEvent('animationend', node, handler, animationName, fallbackMs);
}
function waitForEndEvent(eventType, node, handler, detailedName, fallbackMs) {
  let isHandled = false;
  function cleanup() {
    node.removeEventListener(eventType, handleAnimationEnd);
  }
  function handleAnimationEnd(e) {
    if (isHandled || e.target !== e.currentTarget) {
      return;
    }
    if (detailedName && (e instanceof TransitionEvent && e.propertyName === detailedName || e instanceof AnimationEvent && e.animationName === detailedName)) {
      return;
    }
    isHandled = true;
    cleanup();
    setTimeout(() => {
      handler();
    }, ANIMATION_END_DELAY);
  }
  node.addEventListener(eventType, handleAnimationEnd);
  if (fallbackMs) {
    setTimeout(() => {
      if (isHandled) return;
      cleanup();
      handler();
    }, fallbackMs);
  }
  return cleanup;
}

/***/ }),

/***/ "./src/util/cssColorToHex.ts":
/*!***********************************!*\
  !*** ./src/util/cssColorToHex.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ cssColorToHex)
/* harmony export */ });
function cssColorToHex(cssColor) {
  if (/^#[0-9A-F]{6}$/i.test(cssColor)) return cssColor;
  return `#${cssColor.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)$/).slice(1).map((n, i) => (i === 3 ? Math.round(parseFloat(n) * 255) : parseFloat(n)).toString(16).padStart(2, '0').replace('NaN', '')).join('')}`;
}

/***/ }),

/***/ "./src/util/dateFormat.ts":
/*!********************************!*\
  !*** ./src/util/dateFormat.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formatFullDay: () => (/* binding */ formatFullDay),
/* harmony export */   formatHumanDay: () => (/* binding */ formatHumanDay),
/* harmony export */   formatRelativeHumanDateTime: () => (/* binding */ formatRelativeHumanDateTime),
/* harmony export */   formatShortDay: () => (/* binding */ formatShortDay),
/* harmony export */   formatTime: () => (/* binding */ formatTime),
/* harmony export */   getDayStartAt: () => (/* binding */ getDayStartAt)
/* harmony export */ });
/* unused harmony exports getDayStart, getMinuteStart */
/* harmony import */ var _withCache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./withCache */ "./src/util/withCache.ts");

const formatDayToStringWithCache = (0,_withCache__WEBPACK_IMPORTED_MODULE_0__["default"])(function (langCode, dayStartAt, noYear) {
  let monthFormat = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 'short';
  let noDay = arguments.length > 4 ? arguments[4] : undefined;
  let withTime = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;
  return new Date(dayStartAt).toLocaleString(langCode, {
    year: noYear ? undefined : 'numeric',
    month: monthFormat || undefined,
    day: noDay ? undefined : 'numeric',
    hour: withTime ? 'numeric' : undefined,
    minute: withTime ? 'numeric' : undefined,
    hourCycle: 'h23'
  });
});
function formatRelativeHumanDateTime() {
  let langCode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';
  let time = arguments.length > 1 ? arguments[1] : undefined;
  const total = time - Date.now();
  const minutes = Math.floor(total / 1000 / 60 % 60);
  const hours = Math.floor(total / (1000 * 3600) % 24);
  const days = Math.floor(total / 1000 / 3600 / 24);
  const rtf = new Intl.RelativeTimeFormat(langCode, {
    localeMatcher: 'best fit',
    numeric: 'always',
    style: 'long'
  });
  const result = [];
  if (days > 0) {
    const [daysPlural, daysValue] = rtf.formatToParts(days, 'day').reverse();
    result.push(`${daysValue.value}${daysPlural.value}`);
  }
  if (hours > 0) {
    const [hoursPlural, hoursValue] = rtf.formatToParts(hours, 'hour').reverse();
    result.push(`${hoursValue.value}${hoursPlural.value}`);
  }
  if (minutes > 0) {
    const [minutesPlural, minutesValue] = rtf.formatToParts(minutes, 'minute').reverse();
    result.push(`${minutesValue.value}${minutesPlural.value}`);
  }
  return result.join(' ');
}
function formatHumanDay(lang, datetime) {
  if (isToday(datetime)) {
    return lang('Today');
  }
  if (isYesterday(datetime)) {
    return lang('Yesterday');
  }
  return formatFullDay(lang.code, datetime);
}
function formatFullDay(langCode, datetime) {
  const date = new Date(datetime);
  const dayStartAt = getDayStartAt(date);
  const today = getDayStart(new Date());
  const noYear = date.getFullYear() === today.getFullYear();
  return formatDayToStringWithCache(langCode, dayStartAt, noYear, 'long');
}
function formatShortDay(langCode, datetime) {
  let withTime = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let noYear = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;
  const date = new Date(datetime);
  const dayStartAt = getDayStartAt(date);
  const today = getDayStart(new Date());
  const todayStartAt = getDayStartAt(today);
  const noDate = withTime && dayStartAt === todayStartAt;
  const targetAt = withTime ? getMinuteStart(date).getTime() : dayStartAt;
  noYear || (noYear = date.getFullYear() === today.getFullYear());
  return formatDayToStringWithCache(langCode, targetAt, noYear, !noDate && 'short', noDate, withTime);
}
function formatTime(datetime) {
  const date = new Date(datetime);
  return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;
}
function getDayStart(datetime) {
  const date = new Date(datetime);
  date.setHours(0, 0, 0, 0);
  return date;
}
function getDayStartAt(datetime) {
  return getDayStart(datetime).getTime();
}
function getMinuteStart(datetime) {
  const date = new Date(datetime);
  date.setSeconds(0, 0);
  return date;
}
function isToday(datetime) {
  return getDayStartAt(new Date()) === getDayStartAt(new Date(datetime));
}
function isYesterday(datetime) {
  const yesterday = new Date();
  yesterday.setDate(yesterday.getDate() - 1);
  return getDayStartAt(yesterday) === getDayStartAt(new Date(datetime));
}

/***/ }),

/***/ "./src/util/debugOverlay.ts":
/*!**********************************!*\
  !*** ./src/util/debugOverlay.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   incrementOverlayCounter: () => (/* binding */ incrementOverlayCounter)
/* harmony export */ });
/* unused harmony exports debugToOverlay, renderCounters, debugFps */
/* harmony import */ var _animation__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./animation */ "./src/util/animation.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");


const KEYS_TO_IGNORE = new Set(['TeactMemoWrapper renders', 'TeactNContainer renders', 'Button renders']);
const MIN_RENDERS_TO_SHOW = 5;
const MIN_DURATION_TO_SHOW = 2;
const BG_GREEN = ' style="background: lightgreen"';
let counters = {};
const renderCountersThrottled = (0,_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(renderCounters, 500, false);
let loggerEl;
function debugToOverlay(text) {
  if (!loggerEl) {
    setupOverlay();
  }
  const date = new Date();
  const dateFormatted = `${date.toLocaleTimeString()}.${date.getMilliseconds()}`;
  const wasAtBottom = loggerEl.scrollTop + 10 >= loggerEl.scrollHeight - loggerEl.offsetHeight;
  loggerEl.innerHTML += `${dateFormatted}: ${text}<br/>`;
  if (wasAtBottom) {
    loggerEl.scrollTop = loggerEl.scrollHeight;
  }
}
function incrementOverlayCounter(key) {
  let value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
  const now = Date.now();
  if (!counters[key]) {
    counters[key] = {
      value,
      lastUpdateAt: now
    };
  } else {
    counters[key].value += value;
    counters[key].lastUpdateAt = now;
  }
  renderCountersThrottled();
}
function renderCounters() {
  if (!loggerEl) {
    setupOverlay();
  }
  const halfSecondAgo = Date.now() - 500;
  const [maxRenders, maxDuration] = Object.entries(counters).reduce((acc, _ref) => {
    let [key, {
      value
    }] = _ref;
    if (KEYS_TO_IGNORE.has(key)) {
      return acc;
    }
    if (key.includes('renders') && value > acc[0]) {
      acc[0] = value;
    }
    if (key.includes('duration') && value > acc[1]) {
      acc[1] = value;
    }
    return acc;
  }, [0, 0]);
  loggerEl.innerHTML = Object.entries(counters).filter(_ref2 => {
    let [key, {
      value
    }] = _ref2;
    return !KEYS_TO_IGNORE.has(key) && (key.includes('renders') && value > MIN_RENDERS_TO_SHOW || key.includes('duration') && value > MIN_DURATION_TO_SHOW);
  }).sort((a, b) => b[1].lastUpdateAt - a[1].lastUpdateAt).map(_ref3 => {
    let [key, {
      value,
      lastUpdateAt
    }] = _ref3;
    return [`<div style="background: #ff0000${factorToHex(value / (key.includes('renders') ? maxRenders : maxDuration))}">`, `  <span${lastUpdateAt > halfSecondAgo ? BG_GREEN : ''}>${key}: ${Math.round(value)}</span>`, '</div>'].join('\n');
  }).join('\n');
}
function debugFps() {
  if (!loggerEl) {
    setupOverlay();
  }
  let ticks = [];
  let lastFrameAt = performance.now();
  (0,_animation__WEBPACK_IMPORTED_MODULE_0__.animate)(() => {
    const now = performance.now();
    ticks.push(now - lastFrameAt);
    lastFrameAt = now;
    if (ticks.length > 100) {
      ticks = ticks.slice(-100);
    }
    const avg = ticks.reduce((acc, t) => acc + t, 0) / ticks.length;
    loggerEl.innerHTML = `${Math.round(1000 / avg)} FPS`;
    return true;
  }, _schedulers__WEBPACK_IMPORTED_MODULE_1__.fastRaf);
}
function setupOverlay() {
  loggerEl = document.createElement('div');
  loggerEl.style.cssText = 'position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px;' + ' border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 50px; color: black;';
  document.body.appendChild(loggerEl);
  const clearEl = document.createElement('a');
  clearEl.style.cssText = 'position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; ' + 'cursor: pointer;';
  clearEl.innerText = '🔄';
  clearEl.addEventListener('click', () => {
    counters = {};
    renderCountersThrottled();
  });
  document.body.appendChild(clearEl);
}
function factorToHex(factor) {
  return Math.round(255 * factor).toString(16).padStart(2, '0');
}

/***/ }),

/***/ "./src/util/decimals.ts":
/*!******************************!*\
  !*** ./src/util/decimals.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   fromDecimal: () => (/* binding */ fromDecimal),
/* harmony export */   getIsPositiveDecimal: () => (/* binding */ getIsPositiveDecimal),
/* harmony export */   roundDecimal: () => (/* binding */ roundDecimal),
/* harmony export */   toBig: () => (/* binding */ toBig),
/* harmony export */   toDecimal: () => (/* binding */ toDecimal)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/big.js */ "./src/lib/big.js/index.js");


_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.RM = 0; // RoundDown
_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.NE = -100000; // Disable exponential form
_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.PE = 100000; // Disable exponential form

const ten = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(10);
function fromDecimal(value, decimals) {
  return BigInt((0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value).mul(ten.pow(decimals !== null && decimals !== void 0 ? decimals : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES)).round().toString());
}
function toDecimal(value, decimals) {
  let noFloor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  return toBig(value, decimals !== null && decimals !== void 0 ? decimals : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES, noFloor).toString();
}
function toBig(value) {
  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES;
  let noFloor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  return (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? _lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.roundHalfUp : undefined);
}
function roundDecimal(value, decimals) {
  return (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value).round(decimals).toString();
}
function getIsPositiveDecimal(value) {
  return !value.startsWith('-');
}

/***/ }),

/***/ "./src/util/deepDiff.ts":
/*!******************************!*\
  !*** ./src/util/deepDiff.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deepDiff: () => (/* binding */ deepDiff)
/* harmony export */ });
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iteratees */ "./src/util/iteratees.ts");

const EQUAL = Symbol('EQUAL');
const DELETE = {
  __delete: true
};
const DELETE_ALL_CHILDREN = {
  __deleteAllChildren: true
};
function deepDiff(value1, value2) {
  if (value1 === value2) {
    return EQUAL;
  }
  const type1 = typeof value1;
  const type2 = typeof value2;
  if (type1 !== type2) {
    return value2;
  }
  if (Array.isArray(value1) && Array.isArray(value2) && areSortedArraysDeepEqual(value1, value2)) {
    return EQUAL;
  }
  if (!(0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.isLiteralObject)(value1) || !(0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.isLiteralObject)(value2)) {
    return value2;
  }
  const object1 = value1;
  const object2 = value2;
  const keys1 = Object.keys(object1);
  const keys2 = Object.keys(object2);
  if (!keys2.length) {
    return !keys1.length ? EQUAL : DELETE_ALL_CHILDREN;
  }
  const allKeys = (0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.unique)(keys1.concat(keys2));
  const diff = allKeys.reduce((acc, key) => {
    const subValue1 = object1[key];
    const subValue2 = object2[key];
    if (!object2.hasOwnProperty(key)) {
      acc[key] = DELETE;
      return acc;
    }
    if (!object1.hasOwnProperty(key)) {
      acc[key] = subValue2;
      return acc;
    }
    const subDiff = deepDiff(subValue1, subValue2);
    if (subDiff !== EQUAL) {
      acc[key] = subDiff;
    }
    return acc;
  }, {});
  if (Object.keys(diff).length === 0) {
    return EQUAL;
  }
  return diff;
}
function areSortedArraysDeepEqual(array1, array2) {
  if (array1.length !== array2.length) {
    return false;
  }
  return array1.every((item, i) => deepDiff(item, array2[i]) === EQUAL);
}

/***/ }),

/***/ "./src/util/deepMerge.ts":
/*!*******************************!*\
  !*** ./src/util/deepMerge.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   deepMerge: () => (/* binding */ deepMerge)
/* harmony export */ });
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iteratees */ "./src/util/iteratees.ts");

function deepMerge(value1, value2) {
  if (value1 === value2) {
    return value2;
  }
  if (!(0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.isLiteralObject)(value2)) {
    return value2;
  }
  if (!(0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.isLiteralObject)(value1)) {
    return reduceDiff(value2);
  }

  // eslint-disable-next-line no-underscore-dangle
  if (value2.__deleteAllChildren) {
    return {};
  }
  const allKeys = (0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.unique)(Object.keys(value1).concat(Object.keys(value2)));
  return allKeys.reduce((acc, key) => {
    const oldValue = value1[key];
    if (!value2.hasOwnProperty(key)) {
      acc[key] = oldValue;
    } else {
      const newValue = value2[key];
      // eslint-disable-next-line no-underscore-dangle
      if (!(newValue !== null && newValue !== void 0 && newValue.__delete)) {
        acc[key] = deepMerge(oldValue, newValue);
      }
    }
    return acc;
  }, {});
}
function reduceDiff(diff) {
  // eslint-disable-next-line no-underscore-dangle
  if (diff.__deleteAllChildren) {
    return {};
  }
  return Object.entries(diff).reduce((acc, _ref) => {
    let [key, value] = _ref;
    // eslint-disable-next-line no-underscore-dangle
    if (!(value !== null && value !== void 0 && value.__delete)) {
      // eslint-disable-next-line no-null/no-null
      acc[key] = (0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.isLiteralObject)(value) ? reduceDiff(value) : value;
    }
    return acc;
  }, {});
}

/***/ }),

/***/ "./src/util/deeplink/constants.ts":
/*!****************************************!*\
  !*** ./src/util/deeplink/constants.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CHECKIN_URL: () => (/* binding */ CHECKIN_URL),
/* harmony export */   SELF_PROTOCOL: () => (/* binding */ SELF_PROTOCOL),
/* harmony export */   SELF_UNIVERSAL_URLS: () => (/* binding */ SELF_UNIVERSAL_URLS),
/* harmony export */   TONCONNECT_PROTOCOL: () => (/* binding */ TONCONNECT_PROTOCOL),
/* harmony export */   TONCONNECT_PROTOCOL_SELF: () => (/* binding */ TONCONNECT_PROTOCOL_SELF),
/* harmony export */   TONCONNECT_UNIVERSAL_URL: () => (/* binding */ TONCONNECT_UNIVERSAL_URL),
/* harmony export */   TON_PROTOCOL: () => (/* binding */ TON_PROTOCOL)
/* harmony export */ });
const TON_PROTOCOL = 'ton://';
const TONCONNECT_PROTOCOL = 'tc://';
const TONCONNECT_PROTOCOL_SELF = 'mytonwallet-tc://';
const SELF_PROTOCOL = 'mtw://';
const SELF_UNIVERSAL_URLS = ['https://my.tt', 'https://go.mytonwallet.org'];
const TONCONNECT_UNIVERSAL_URL = 'https://connect.mytonwallet.org';
const CHECKIN_URL = 'https://checkin.mytonwallet.org';

/***/ }),

/***/ "./src/util/deeplink/index.ts":
/*!************************************!*\
  !*** ./src/util/deeplink/index.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isTonDeeplink: () => (/* binding */ isTonDeeplink),
/* harmony export */   openDeeplinkOrUrl: () => (/* binding */ openDeeplinkOrUrl),
/* harmony export */   parseTonDeeplink: () => (/* binding */ parseTonDeeplink),
/* harmony export */   processDeeplink: () => (/* binding */ processDeeplink),
/* harmony export */   processDeeplinkAfterSignIn: () => (/* binding */ processDeeplinkAfterSignIn)
/* harmony export */ });
/* unused harmony exports isSelfDeeplink, processSelfDeeplink */
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../global */ "./src/global/index.ts");
/* harmony import */ var _global_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../global/types */ "./src/global/types.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _global_selectors__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../global/selectors */ "./src/global/selectors/index.ts");
/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../api */ "./src/api/index.ts");
/* harmony import */ var _isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../isTonAddressOrDomain */ "./src/util/isTonAddressOrDomain.ts");
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../logs */ "./src/util/logs.ts");
/* harmony import */ var _openUrl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../openUrl */ "./src/util/openUrl.ts");
/* harmony import */ var _renderPromise__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../renderPromise */ "./src/util/renderPromise.ts");
/* harmony import */ var _tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../tonConnectEnvironment */ "./src/util/tonConnectEnvironment.ts");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./constants */ "./src/util/deeplink/constants.ts");
/* harmony import */ var _hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../hooks/useDeviceScreen */ "./src/hooks/useDeviceScreen.ts");













var DeeplinkCommand = /*#__PURE__*/function (DeeplinkCommand) {
  DeeplinkCommand["CheckinWithR"] = "r";
  DeeplinkCommand["Swap"] = "swap";
  DeeplinkCommand["BuyWithCrypto"] = "buy-with-crypto";
  DeeplinkCommand["BuyWithCard"] = "buy-with-card";
  DeeplinkCommand["Stake"] = "stake";
  return DeeplinkCommand;
}(DeeplinkCommand || {});
let urlAfterSignIn;
function processDeeplinkAfterSignIn() {
  if (!urlAfterSignIn) return;
  processDeeplink(urlAfterSignIn);
  urlAfterSignIn = undefined;
}
function openDeeplinkOrUrl(url) {
  let isExternal = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  let isFromInAppBrowser = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  if (isTonDeeplink(url) || isTonConnectDeeplink(url) || isSelfDeeplink(url)) {
    processDeeplink(url, isFromInAppBrowser);
  } else {
    void (0,_openUrl__WEBPACK_IMPORTED_MODULE_8__.openUrl)(url, isExternal);
  }
}
function processDeeplink(url) {
  let isFromInAppBrowser = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (!(0,_global__WEBPACK_IMPORTED_MODULE_0__.getGlobal)().currentAccountId) {
    urlAfterSignIn = url;
  }
  if (isTonConnectDeeplink(url)) {
    void processTonConnectDeeplink(url, isFromInAppBrowser);
  } else if (isSelfDeeplink(url)) {
    processSelfDeeplink(url);
  } else {
    void processTonDeeplink(url);
  }
}
function isTonDeeplink(url) {
  return url.startsWith(_constants__WEBPACK_IMPORTED_MODULE_11__.TON_PROTOCOL);
}
async function processTonDeeplink(url) {
  const params = parseTonDeeplink(url);
  if (!params) return;
  await (0,_renderPromise__WEBPACK_IMPORTED_MODULE_9__.waitRender)();
  const actions = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getActions)();
  const global = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();
  if (!global.currentAccountId) {
    return;
  }
  const {
    toAddress,
    amount,
    comment,
    binPayload
  } = params;
  const verifiedAddress = (0,_isTonAddressOrDomain__WEBPACK_IMPORTED_MODULE_5__.isTonAddressOrDomain)(toAddress) ? toAddress : undefined;
  actions.startTransfer((0,_iteratees__WEBPACK_IMPORTED_MODULE_6__.omitUndefined)({
    isPortrait: (0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.getIsPortrait)(),
    tokenSlug: _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
    toAddress: verifiedAddress,
    amount,
    comment,
    binPayload
  }));
  if ((0,_hooks_useDeviceScreen__WEBPACK_IMPORTED_MODULE_12__.getIsLandscape)()) {
    actions.setLandscapeActionsActiveTabIndex({
      index: _global_types__WEBPACK_IMPORTED_MODULE_1__.ActiveTab.Transfer
    });
  }
}
function parseTonDeeplink(value) {
  if (typeof value !== 'string' || !isTonDeeplink(value) || !value.includes('/transfer/')) {
    return undefined;
  }
  try {
    var _url$searchParams$get, _url$searchParams$get2, _url$searchParams$get3;
    const url = new URL(value);
    const toAddress = url.pathname.replace(/.*\//, '');
    const amount = (_url$searchParams$get = url.searchParams.get('amount')) !== null && _url$searchParams$get !== void 0 ? _url$searchParams$get : undefined;
    const comment = (_url$searchParams$get2 = url.searchParams.get('text')) !== null && _url$searchParams$get2 !== void 0 ? _url$searchParams$get2 : undefined;
    const binPayload = (_url$searchParams$get3 = url.searchParams.get('bin')) !== null && _url$searchParams$get3 !== void 0 ? _url$searchParams$get3 : undefined;
    return {
      toAddress,
      amount: amount ? BigInt(amount) : undefined,
      comment,
      binPayload
    };
  } catch (err) {
    return undefined;
  }
}
function isTonConnectDeeplink(url) {
  return url.startsWith(_constants__WEBPACK_IMPORTED_MODULE_11__.TONCONNECT_PROTOCOL) || url.startsWith(_constants__WEBPACK_IMPORTED_MODULE_11__.TONCONNECT_PROTOCOL_SELF) || omitProtocol(url).startsWith(omitProtocol(_constants__WEBPACK_IMPORTED_MODULE_11__.TONCONNECT_UNIVERSAL_URL));
}
async function processTonConnectDeeplink(url) {
  let isFromInAppBrowser = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (!isTonConnectDeeplink(url)) {
    return;
  }
  const {
    openLoadingOverlay,
    closeLoadingOverlay
  } = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getActions)();
  openLoadingOverlay();
  const deviceInfo = (0,_tonConnectEnvironment__WEBPACK_IMPORTED_MODULE_10__.tonConnectGetDeviceInfo)();
  const returnUrl = await (0,_api__WEBPACK_IMPORTED_MODULE_4__.callApi)('startSseConnection', {
    url,
    deviceInfo,
    isFromInAppBrowser
  });
  closeLoadingOverlay();
  if (returnUrl) {
    (0,_openUrl__WEBPACK_IMPORTED_MODULE_8__.openUrl)(returnUrl, !isFromInAppBrowser);
  }
}
function isSelfDeeplink(url) {
  return url.startsWith(_constants__WEBPACK_IMPORTED_MODULE_11__.SELF_PROTOCOL) || _constants__WEBPACK_IMPORTED_MODULE_11__.SELF_UNIVERSAL_URLS.some(u => omitProtocol(url).startsWith(omitProtocol(u)));
}
function processSelfDeeplink(deeplink) {
  try {
    var _selectCurrentAccount;
    if (deeplink.startsWith(_constants__WEBPACK_IMPORTED_MODULE_11__.SELF_PROTOCOL)) {
      deeplink = deeplink.replace(_constants__WEBPACK_IMPORTED_MODULE_11__.SELF_PROTOCOL, `${_constants__WEBPACK_IMPORTED_MODULE_11__.SELF_UNIVERSAL_URLS[0]}/`);
    }
    const {
      pathname,
      searchParams
    } = new URL(deeplink);
    const command = pathname.split('/').find(Boolean);
    const actions = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getActions)();
    const global = (0,_global__WEBPACK_IMPORTED_MODULE_0__.getGlobal)();
    const {
      isTestnet
    } = global.settings;
    const isLedger = (_selectCurrentAccount = (0,_global_selectors__WEBPACK_IMPORTED_MODULE_3__.selectCurrentAccount)(global)) === null || _selectCurrentAccount === void 0 ? void 0 : _selectCurrentAccount.ledger;
    (0,_logs__WEBPACK_IMPORTED_MODULE_7__.logDebug)('Processing deeplink', deeplink);
    switch (command) {
      case DeeplinkCommand.CheckinWithR:
        {
          var _pathname$match;
          const r = (_pathname$match = pathname.match(/r\/(.*)$/)) === null || _pathname$match === void 0 ? void 0 : _pathname$match[1];
          const url = `${_constants__WEBPACK_IMPORTED_MODULE_11__.CHECKIN_URL}${r ? `?r=${r}` : ''}`;
          (0,_openUrl__WEBPACK_IMPORTED_MODULE_8__.openUrl)(url);
          break;
        }
      case DeeplinkCommand.Swap:
        {
          if (isTestnet) {
            actions.showError({
              error: 'Swap is not supported in Testnet.'
            });
          } else if (isLedger) {
            actions.showError({
              error: 'Swap is not yet supported by Ledger.'
            });
          } else {
            actions.startSwap({
              tokenInSlug: searchParams.get('in') || _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
              tokenOutSlug: searchParams.get('out') || _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_SWAP_SECOND_TOKEN_SLUG,
              amountIn: toNumberOrEmptyString(searchParams.get('amount')) || '10'
            });
          }
          break;
        }
      case DeeplinkCommand.BuyWithCrypto:
        {
          if (isTestnet) {
            actions.showError({
              error: 'Swap is not supported in Testnet.'
            });
          } else if (isLedger) {
            actions.showError({
              error: 'Swap is not yet supported by Ledger.'
            });
          } else {
            actions.startSwap({
              tokenInSlug: searchParams.get('in') || _config__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,
              tokenOutSlug: searchParams.get('out') || _config__WEBPACK_IMPORTED_MODULE_2__.TONCOIN_SLUG,
              amountIn: toNumberOrEmptyString(searchParams.get('amount')) || '100'
            });
          }
          break;
        }
      case DeeplinkCommand.BuyWithCard:
        {
          if (isTestnet) {
            actions.showError({
              error: 'Buying with card is not supported in Testnet.'
            });
          } else {
            actions.openOnRampWidgetModal();
          }
          break;
        }
      case DeeplinkCommand.Stake:
        {
          if (isTestnet) {
            actions.showError({
              error: 'Staking is not supported in Testnet.'
            });
          } else {
            actions.startStaking();
          }
          break;
        }
    }
  } catch (err) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_7__.logDebugError)('processSelfDeeplink', err);
  }
}
function omitProtocol(url) {
  return url.replace(/^https?:\/\//, '');
}
function toNumberOrEmptyString(input) {
  return String(Number(input) || '');
}

/***/ }),

/***/ "./src/util/dns.ts":
/*!*************************!*\
  !*** ./src/util/dns.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const zonesRegex = {
  ton: /^([-\da-z]+\.){0,2}([-\da-z]{4,126})\.ton$/i,
  't.me': /^([-\da-z]+\.){0,2}([-_\da-z]{4,126})\.t\.me$/i,
  vip: /^(?<base>([-\da-z]+\.){0,2}([\da-z]{1,24}))\.(ton\.vip|vip\.ton|vip)$/i,
  gram: /^(?<base>([-\da-z]+\.){0,2}([\da-z]{1,24}))\.(gram)$/i
};
function isDnsDomain(value) {
  return Object.values(zonesRegex).some(zone => zone.test(value));
}
function isVipDnsDomain(value) {
  return zonesRegex.vip.test(value);
}
function isGramDnsDomain(value) {
  return zonesRegex.gram.test(value);
}
function removeVipZone(value) {
  var _value$match;
  value = value.replace(/\.ton\.vip$/i, '.vip').replace(/\.vip\.ton$/i, '.vip');
  return (_value$match = value.match(zonesRegex.vip)) === null || _value$match === void 0 || (_value$match = _value$match.groups) === null || _value$match === void 0 ? void 0 : _value$match.base;
}
function removeGramZone(value) {
  var _value$match2;
  return (_value$match2 = value.match(zonesRegex.gram)) === null || _value$match2 === void 0 || (_value$match2 = _value$match2.groups) === null || _value$match2 === void 0 ? void 0 : _value$match2.base;
}
function removeTonZone(value) {
  return value.replace(/\.ton$/i, '');
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  isDnsDomain,
  isVipDnsDomain,
  isGramDnsDomain,
  removeVipZone,
  removeGramZone,
  removeTonZone
});

/***/ }),

/***/ "./src/util/electron.ts":
/*!******************************!*\
  !*** ./src/util/electron.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initElectron: () => (/* binding */ initElectron)
/* harmony export */ });
/* harmony import */ var _electron_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../electron/types */ "./src/electron/types.ts");
/* harmony import */ var _deeplink__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./deeplink */ "./src/util/deeplink/index.ts");


function initElectron() {
  var _window$electron;
  (_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.on(_electron_types__WEBPACK_IMPORTED_MODULE_0__.ElectronEvent.DEEPLINK, _ref => {
    let {
      url
    } = _ref;
    (0,_deeplink__WEBPACK_IMPORTED_MODULE_1__.processDeeplink)(url);
  });
}

/***/ }),

/***/ "./src/util/fonts.ts":
/*!***************************!*\
  !*** ./src/util/fonts.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   forceLoadFonts: () => (/* binding */ forceLoadFonts)
/* harmony export */ });
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");

function forceLoadFonts() {
  const el = document.createElement('div');
  el.textContent = '₽';
  el.classList.add('visually-hidden');
  document.body.appendChild(el);
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMutation)(() => {
    document.body.removeChild(el);
  });
}

/***/ }),

/***/ "./src/util/forceReflow.ts":
/*!*********************************!*\
  !*** ./src/util/forceReflow.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ forceReflow)
/* harmony export */ });
// Used before applying CSS transition
function forceReflow(element) {
  // eslint-disable-next-line @typescript-eslint/no-unused-expressions
  element.offsetWidth;
}

/***/ }),

/***/ "./src/util/formatNumber.ts":
/*!**********************************!*\
  !*** ./src/util/formatNumber.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   formatCurrency: () => (/* binding */ formatCurrency),
/* harmony export */   formatCurrencyExtended: () => (/* binding */ formatCurrencyExtended),
/* harmony export */   formatCurrencySimple: () => (/* binding */ formatCurrencySimple),
/* harmony export */   formatInteger: () => (/* binding */ formatInteger),
/* harmony export */   getShortCurrencySymbol: () => (/* binding */ getShortCurrencySymbol)
/* harmony export */ });
/* unused harmony export formatCurrencyForBigValue */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _decimals__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./decimals */ "./src/util/decimals.ts");
/* harmony import */ var _withCache__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./withCache */ "./src/util/withCache.ts");




const SHORT_SYMBOLS = new Set(Object.values(_config__WEBPACK_IMPORTED_MODULE_0__.SHORT_CURRENCY_SYMBOL_MAP));
const formatInteger = (0,_withCache__WEBPACK_IMPORTED_MODULE_3__["default"])(function (value) {
  let fractionDigits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;
  let noRadix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let noFloor = arguments.length > 3 ? arguments[3] : undefined;
  value = (0,_lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big)(value);
  const dp = value.gte(1) || noFloor ? fractionDigits : _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DECIMAL_PLACES;
  let fixed = value.round(dp, noFloor ? _lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big.roundHalfUp : undefined).toString();
  if (value.lt(1) && countSignificantDigits(fixed) < fractionDigits) {
    fixed = value.toString();
  }
  let [wholePart, fractionPart = ''] = fixed.split('.');
  fractionPart = toSignificant(fractionPart, Math.min(fractionDigits, 100)).replace(/0+$/, '');
  if (fractionPart === '') {
    wholePart = wholePart.replace(/^-0$/, '0');
  }
  if (!noRadix) {
    wholePart = wholePart.replace(/\d(?=(\d{3})+($|\.))/g, `$&${_config__WEBPACK_IMPORTED_MODULE_0__.WHOLE_PART_DELIMITER}`);
  }
  return [wholePart, fractionPart].filter(Boolean).join('.');
});
function formatCurrency(value, currency, fractionDigits, noFloor) {
  const formatted = formatInteger(value, fractionDigits, undefined, noFloor);
  return addCurrency(formatted, currency);
}
function formatCurrencyExtended(value, currency) {
  let noSign = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
  let fractionDigits = arguments.length > 3 ? arguments[3] : undefined;
  value = value.toString();
  const prefix = !noSign ? !value.startsWith('-') ? '+\u202F' : '\u2212\u202F' : '';
  return prefix + formatCurrency(noSign ? value : value.replace('-', ''), currency, fractionDigits);
}
function formatCurrencySimple(value, currency, decimals) {
  if (typeof value !== 'string') {
    value = (0,_decimals__WEBPACK_IMPORTED_MODULE_2__.toDecimal)(value, decimals);
  }
  return addCurrency(value, currency);
}
function addCurrency(value, currency) {
  return SHORT_SYMBOLS.has(currency) ? `${currency}${value}`.replace(`${currency}-`, `-${currency}`) : `${value} ${currency}`;
}
function formatCurrencyForBigValue(value, currency) {
  let threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;
  const formattedValue = formatCurrency(value, currency);
  if (value < threshold) {
    return formattedValue;
  }
  const [mainPart] = formattedValue.split('.');
  return mainPart;
}

/**
 * @example
 * '000012', 2 => '000012'
 * '120012', 2 => '12'
 * '010012', 2 => '01'
 * '001012', 2 => '001'
 * '000112', 2 => '00011'
 * '100012', 2 => '1'
 * @param value fractionPart of number
 * @param fractionDigits number of significant digits after decimal point
 */
function toSignificant(value, fractionDigits) {
  let digitsCount = 0;
  let digitsLastIndex = 0;
  for (let i = 0; i < value.length; i++) {
    digitsLastIndex += 1;
    if (value[i] === '0' && digitsCount === 0) {
      continue;
    }
    digitsCount += 1;
    if (digitsCount === fractionDigits) {
      break;
    }
  }
  return value.slice(0, digitsLastIndex).replace(/0+$/, '');
}
function countSignificantDigits(value) {
  const decimalIndex = value.indexOf('.');
  if (decimalIndex === -1) {
    return 0;
  }
  const fractionalPart = value.slice(decimalIndex + 1).replace(/^0+/, '');
  return fractionalPart.length;
}
function getShortCurrencySymbol(currency) {
  var _SHORT_CURRENCY_SYMBO;
  if (!currency) currency = _config__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_PRICE_CURRENCY;
  return (_SHORT_CURRENCY_SYMBO = _config__WEBPACK_IMPORTED_MODULE_0__.SHORT_CURRENCY_SYMBOL_MAP[currency]) !== null && _SHORT_CURRENCY_SYMBO !== void 0 ? _SHORT_CURRENCY_SYMBO : currency;
}

/***/ }),

/***/ "./src/util/generateUniqueId.ts":
/*!**************************************!*\
  !*** ./src/util/generateUniqueId.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ generateUniqueId)
/* harmony export */ });
function generateUniqueId() {
  return Date.now().toString(36) + Math.random().toString(36).slice(2);
}

/***/ }),

/***/ "./src/util/getIsAppUpdateNeeded.ts":
/*!******************************************!*\
  !*** ./src/util/getIsAppUpdateNeeded.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getIsAppUpdateNeeded)
/* harmony export */ });
const APP_VERSION_REGEX = /^\d+\.\d+(\.\d+)?$/;
function getIsAppUpdateNeeded(remoteVersion, appVersion, isStrict) {
  const sanitizedRemoteVersion = remoteVersion.trim();
  if (!APP_VERSION_REGEX.test(sanitizedRemoteVersion)) {
    return false;
  }
  if (isStrict) {
    return sanitizedRemoteVersion.localeCompare(appVersion, undefined, {
      numeric: true,
      sensitivity: 'base'
    }) === 1;
  }
  return sanitizedRemoteVersion !== appVersion;
}

/***/ }),

/***/ "./src/util/handleError.ts":
/*!*********************************!*\
  !*** ./src/util/handleError.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   handleError: () => (/* binding */ handleError)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");


const noop = () => {};
const throttledAlert = typeof window !== 'undefined' ? (0,_schedulers__WEBPACK_IMPORTED_MODULE_1__.throttle)(window.alert, 1000) : noop;

// eslint-disable-next-line no-restricted-globals
self.addEventListener('error', handleErrorEvent);
// eslint-disable-next-line no-restricted-globals
self.addEventListener('unhandledrejection', handleErrorEvent);
function handleErrorEvent(e) {
  // https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded
  if (e instanceof ErrorEvent && e.message === 'ResizeObserver loop limit exceeded') {
    return;
  }
  e.preventDefault();
  handleError(e instanceof ErrorEvent ? e.error || e.message : e.reason);
}
function handleError(err) {
  // eslint-disable-next-line no-console
  console.error(err);
  const message = typeof err === 'string' ? err : err.message;
  const stack = typeof err === 'object' ? err.stack : undefined;
  if (message.endsWith('Failed to import rlottie-wasm.js')) {
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_0__.APP_ENV === 'development' || _config__WEBPACK_IMPORTED_MODULE_0__.APP_ENV === 'staging') {
    throttledAlert(`${_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_ALERT_MSG}\n\n${message || err}\n${stack}`);
  }
}

/***/ }),

/***/ "./src/util/isElementInViewport.ts":
/*!*****************************************!*\
  !*** ./src/util/isElementInViewport.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isElementInViewport: () => (/* binding */ isElementInViewport)
/* harmony export */ });
/* harmony import */ var _windowSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./windowSize */ "./src/util/windowSize.ts");

function isElementInViewport(el) {
  if (el.style.display === 'none') {
    return false;
  }
  const rect = el.getBoundingClientRect();
  const {
    height: windowHeight
  } = _windowSize__WEBPACK_IMPORTED_MODULE_0__["default"].get();
  return rect.top <= windowHeight && rect.top + rect.height >= 0;
}

/***/ }),

/***/ "./src/util/isMnemonicPrivateKey.ts":
/*!******************************************!*\
  !*** ./src/util/isMnemonicPrivateKey.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isMnemonicPrivateKey)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");

function isMnemonicPrivateKey(mnemonic) {
  return mnemonic.length === 1 && mnemonic[0].length === _config__WEBPACK_IMPORTED_MODULE_0__.PRIVATE_KEY_HEX_LENGTH;
}

/***/ }),

/***/ "./src/util/isPartialDeepEqual.ts":
/*!****************************************!*\
  !*** ./src/util/isPartialDeepEqual.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ isPartialDeepEqual)
/* harmony export */ });
/* harmony import */ var _areDeepEqual__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./areDeepEqual */ "./src/util/areDeepEqual.ts");
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iteratees */ "./src/util/iteratees.ts");


function isPartialDeepEqual(node, newPartial) {
  const currentPartial = (0,_iteratees__WEBPACK_IMPORTED_MODULE_1__.pick)(node, Object.keys(newPartial));
  return (0,_areDeepEqual__WEBPACK_IMPORTED_MODULE_0__.areDeepEqual)(currentPartial, newPartial);
}

/***/ }),

/***/ "./src/util/isTonAddressOrDomain.ts":
/*!******************************************!*\
  !*** ./src/util/isTonAddressOrDomain.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   isTonAddressOrDomain: () => (/* binding */ isTonAddressOrDomain)
/* harmony export */ });
/* harmony import */ var _dns__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dns */ "./src/util/dns.ts");

const TON_ADDRESS_REGEX = /^[-\w_]{48}$/i;
const TON_RAW_ADDRESS_REGEX = /^0:[\da-h]{64}$/i;
function isTonAddressOrDomain(address) {
  return address && (TON_ADDRESS_REGEX.test(address) || TON_RAW_ADDRESS_REGEX.test(address) || _dns__WEBPACK_IMPORTED_MODULE_0__["default"].isDnsDomain(address));
}

/***/ }),

/***/ "./src/util/iteratees.ts":
/*!*******************************!*\
  !*** ./src/util/iteratees.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   areSortedArraysEqual: () => (/* binding */ areSortedArraysEqual),
/* harmony export */   buildCollectionByKey: () => (/* binding */ buildCollectionByKey),
/* harmony export */   cloneDeep: () => (/* binding */ cloneDeep),
/* harmony export */   compact: () => (/* binding */ compact),
/* harmony export */   findDifference: () => (/* binding */ findDifference),
/* harmony export */   findLast: () => (/* binding */ findLast),
/* harmony export */   groupBy: () => (/* binding */ groupBy),
/* harmony export */   isLiteralObject: () => (/* binding */ isLiteralObject),
/* harmony export */   mapValues: () => (/* binding */ mapValues),
/* harmony export */   omit: () => (/* binding */ omit),
/* harmony export */   omitUndefined: () => (/* binding */ omitUndefined),
/* harmony export */   orderBy: () => (/* binding */ orderBy),
/* harmony export */   pick: () => (/* binding */ pick),
/* harmony export */   pickTruthy: () => (/* binding */ pickTruthy),
/* harmony export */   unique: () => (/* binding */ unique)
/* harmony export */ });
/* unused harmony exports split, range, fromKeyValueArrays, extractKey */
function buildCollectionByKey(collection, key) {
  return collection.reduce((byKey, member) => {
    byKey[member[key]] = member;
    return byKey;
  }, {});
}
function groupBy(collection, key) {
  return collection.reduce((byKey, member) => {
    const groupKey = member[key];
    if (!byKey[groupKey]) {
      byKey[groupKey] = [member];
    } else {
      byKey[groupKey].push(member);
    }
    return byKey;
  }, {});
}
function mapValues(byKey, callback) {
  return Object.keys(byKey).reduce((newByKey, key, index) => {
    newByKey[key] = callback(byKey[key], key, index, byKey);
    return newByKey;
  }, {});
}
function pick(object, keys) {
  return keys.reduce((result, key) => {
    result[key] = object[key];
    return result;
  }, {});
}
function pickTruthy(object, keys) {
  return keys.reduce((result, key) => {
    if (object[key]) {
      result[key] = object[key];
    }
    return result;
  }, {});
}
function omit(object, keys) {
  const stringKeys = new Set(keys.map(String));
  const savedKeys = Object.keys(object).filter(key => !stringKeys.has(key));
  return pick(object, savedKeys);
}
function omitUndefined(object) {
  return Object.keys(object).reduce((result, stringKey) => {
    const key = stringKey;
    if (object[key] !== undefined) {
      result[key] = object[key];
    }
    return result;
  }, {});
}
function orderBy(collection, orderRule) {
  let mode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'asc';
  function compareValues(a, b, currentOrderRule, isAsc) {
    const aValue = (typeof currentOrderRule === 'function' ? currentOrderRule(a) : a[currentOrderRule]) || 0;
    const bValue = (typeof currentOrderRule === 'function' ? currentOrderRule(b) : b[currentOrderRule]) || 0;
    if (aValue === bValue) return 0;
    const condition = isAsc ? aValue > bValue : aValue < bValue;
    return condition ? 1 : -1;
  }
  if (Array.isArray(orderRule)) {
    const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];
    const [orderRule1, orderRule2] = orderRule;
    const isAsc1 = mode1 === 'asc';
    const isAsc2 = mode2 === 'asc';
    return collection.sort((a, b) => {
      return compareValues(a, b, orderRule1, isAsc1) || compareValues(a, b, orderRule2, isAsc2);
    });
  }
  const isAsc = mode === 'asc';
  return collection.sort((a, b) => {
    return compareValues(a, b, orderRule, isAsc);
  });
}
function unique(array) {
  return Array.from(new Set(array));
}
function compact(array) {
  return array.filter(Boolean);
}
function areSortedArraysEqual(array1, array2) {
  if (array1.length !== array2.length) {
    return false;
  }
  return array1.every((item, i) => item === array2[i]);
}
function split(array, chunkSize) {
  const result = [];
  for (let i = 0; i < array.length; i += chunkSize) {
    result.push(array.slice(i, i + chunkSize));
  }
  return result;
}
function cloneDeep(value) {
  if (!isObject(value)) {
    return value;
  }
  if (Array.isArray(value)) {
    return value.map(cloneDeep);
  }
  return Object.keys(value).reduce((acc, key) => {
    acc[key] = cloneDeep(value[key]);
    return acc;
  }, {});
}
function isLiteralObject(value) {
  return isObject(value) && !Array.isArray(value);
}
function isObject(value) {
  // eslint-disable-next-line no-null/no-null
  return typeof value === 'object' && value !== null;
}
function findLast(array, predicate) {
  let cursor = array.length;
  while (cursor--) {
    if (predicate(array[cursor], cursor, array)) {
      return array[cursor];
    }
  }
  return undefined;
}
function range(start, end) {
  const arr = [];
  for (let i = start; i < end;) {
    arr.push(i++);
  }
  return arr;
}
function fromKeyValueArrays(keys, values) {
  return keys.reduce((acc, key, index) => {
    acc[key] = Array.isArray(values) ? values[index] : values;
    return acc;
  }, {});
}
function extractKey(array, key) {
  return array.map(value => value[key]);
}
function findDifference(array1, array2) {
  const set2 = new Set(array2);
  return array1.filter(element => !set2.has(element));
}

/***/ }),

/***/ "./src/util/langProvider.ts":
/*!**********************************!*\
  !*** ./src/util/langProvider.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   addCallback: () => (/* binding */ addCallback),
/* harmony export */   clearPreviousLangpacks: () => (/* binding */ clearPreviousLangpacks),
/* harmony export */   getTranslation: () => (/* binding */ getTranslation),
/* harmony export */   setLanguage: () => (/* binding */ setLanguage)
/* harmony export */ });
/* unused harmony export removeCallback */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global/helpers/renderText */ "./src/global/helpers/renderText.tsx");
/* harmony import */ var _i18n_en_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../i18n/en.json */ "./src/i18n/en.json");
/* harmony import */ var _cacheApi__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cacheApi */ "./src/util/cacheApi.ts");
/* harmony import */ var _callbacks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./callbacks */ "./src/util/callbacks.ts");
/* harmony import */ var _formatNumber__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./formatNumber */ "./src/util/formatNumber.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");


// @ts-ignore this file is autogenerated





const defaultLangPack = _i18n_en_json__WEBPACK_IMPORTED_MODULE_2__;
const {
  addCallback,
  removeCallback,
  runCallbacks
} = (0,_callbacks__WEBPACK_IMPORTED_MODULE_4__.createCallbackManager)();

const SUBSTITUTION_REGEX = /%\d?\$?[sdf@]/g;
const cache = new Map();
let langPack;
let currentLangCode;
function createLangFn() {
  return (key, value, format, pluralValue) => {
    var _langPack;
    if (value !== undefined && (typeof value !== 'object' || Array.isArray(value))) {
      const cacheValue = Array.isArray(value) ? JSON.stringify(value) : value;
      const cached = cache.get(`${key}_${cacheValue}_${format}${pluralValue ? `_${pluralValue}` : ''}`);
      if (cached) {
        return cached;
      }
    }
    if (!langPack && !defaultLangPack) {
      return key;
    }
    const langString = ((_langPack = langPack) === null || _langPack === void 0 ? void 0 : _langPack[key]) || (defaultLangPack === null || defaultLangPack === void 0 ? void 0 : defaultLangPack[key]) || key;
    return processTranslation(langString, key, value, format, pluralValue);
  };
}

// eslint-disable-next-line import/no-mutable-exports
let getTranslation = createLangFn();
async function setLanguage(langCode, callback) {
  if (langPack && langCode === currentLangCode) {
    if (callback) {
      callback();
    }
    return;
  }
  let newLangPack = await _cacheApi__WEBPACK_IMPORTED_MODULE_3__.fetch(_config__WEBPACK_IMPORTED_MODULE_0__.LANG_CACHE_NAME, langCode);
  if (!newLangPack) {
    newLangPack = await fetchRemote(langCode);
    if (!newLangPack) {
      return;
    }
  }
  cache.clear();
  currentLangCode = langCode;
  langPack = newLangPack;
  document.documentElement.lang = langCode;
  const langInfo = _config__WEBPACK_IMPORTED_MODULE_0__.LANG_LIST === null || _config__WEBPACK_IMPORTED_MODULE_0__.LANG_LIST === void 0 ? void 0 : _config__WEBPACK_IMPORTED_MODULE_0__.LANG_LIST.find(l => l.langCode === langCode);
  getTranslation = createLangFn();
  getTranslation.isRtl = Boolean(langInfo === null || langInfo === void 0 ? void 0 : langInfo.rtl);
  getTranslation.code = langCode.replace('-raw', '');
  getTranslation.langName = langInfo === null || langInfo === void 0 ? void 0 : langInfo.nativeName;
  if (callback) {
    callback();
  }
  runCallbacks();
}
function clearPreviousLangpacks() {
  const langCachePrefix = _config__WEBPACK_IMPORTED_MODULE_0__.LANG_CACHE_NAME.replace(/\d+$/, '');
  const langCacheVersion = Number((_config__WEBPACK_IMPORTED_MODULE_0__.LANG_CACHE_NAME.match(/\d+$/) || [0])[0]);
  for (let i = 0; i < langCacheVersion; i++) {
    void _cacheApi__WEBPACK_IMPORTED_MODULE_3__.clear(`${langCachePrefix}${i === 0 ? '' : i}`);
  }
}
async function fetchRemote(langCode) {
  if (langCode === _windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_LANG_CODE) {
    return defaultLangPack;
  }
  const response = await fetch(`${_config__WEBPACK_IMPORTED_MODULE_0__.IS_PACKAGED_ELECTRON ? '.' : '..'}/i18n/${langCode}.json`);
  if (!response.ok) {
    const message = `An error has occured: ${response.status}`;
    throw new Error(message);
  }
  const remote = await response.json();
  if (remote) {
    await _cacheApi__WEBPACK_IMPORTED_MODULE_3__.save(_config__WEBPACK_IMPORTED_MODULE_0__.LANG_CACHE_NAME, langCode, remote);
    return remote;
  }
  return undefined;
}
function processTemplate(template, value) {
  value = Array.isArray(value) ? value : [value];
  const translationSlices = template.split(SUBSTITUTION_REGEX);
  const initialValue = translationSlices.shift();
  return translationSlices.reduce((result, str, index) => {
    var _value$index;
    return `${result}${String((_value$index = value[index]) !== null && _value$index !== void 0 ? _value$index : '')}${str}`;
  }, initialValue || '');
}
function processTemplateJsx(template, value) {
  return template.split('%').reduce((acc, slice) => acc.concat(value[slice] ? [value[slice]] : (0,_global_helpers_renderText__WEBPACK_IMPORTED_MODULE_1__["default"])(slice)), []);
}
function processTranslation(langString, key, value, format, pluralValue) {
  const template = typeof langString === 'string' ? langString : langString === null || langString === void 0 ? void 0 : langString.value;
  if (!template || !template.trim() || value === undefined) {
    return template;
  }
  const formattedValue = format === 'i' ? (0,_formatNumber__WEBPACK_IMPORTED_MODULE_5__.formatInteger)(value) : value;
  const result = typeof value === 'object' && !Array.isArray(value) ? processTemplateJsx(template, formattedValue) : processTemplate(template, formattedValue);
  if (typeof value !== 'object' && typeof result === 'string') {
    const cacheValue = Array.isArray(value) ? JSON.stringify(value) : value;
    cache.set(`${key}_${cacheValue}_${format}${pluralValue ? `_${pluralValue}` : ''}`, result);
  }
  return result;
}

/***/ }),

/***/ "./src/util/ledger/tab.ts":
/*!********************************!*\
  !*** ./src/util/ledger/tab.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DETACHED_TAB_URL: () => (/* binding */ DETACHED_TAB_URL),
/* harmony export */   closeLedgerTab: () => (/* binding */ closeLedgerTab),
/* harmony export */   onLedgerTabClose: () => (/* binding */ onLedgerTabClose),
/* harmony export */   openLedgerTab: () => (/* binding */ openLedgerTab)
/* harmony export */ });
const DETACHED_TAB_URL = '#detached';
let ledgerTabId;
function openLedgerTab() {
  return createLedgerTab();
}
async function closeLedgerTab() {
  if (!ledgerTabId) return;
  await chrome.tabs.query({
    active: true
  }, () => {
    if (!ledgerTabId) return;
    chrome.tabs.remove(ledgerTabId);
  });
}
function onLedgerTabClose(id, onClose) {
  chrome.tabs.onRemoved.addListener(closedTabId => {
    if (closedTabId !== id) {
      return;
    }
    ledgerTabId = undefined;
    onClose();
  });
}
async function createLedgerTab() {
  const tab = await chrome.tabs.create({
    url: `index.html${DETACHED_TAB_URL}`,
    active: true
  });
  await chrome.windows.update(tab.windowId, {
    focused: true
  });
  ledgerTabId = tab.id;
  return ledgerTabId;
}

/***/ }),

/***/ "./src/util/lethargy.ts":
/*!******************************!*\
  !*** ./src/util/lethargy.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Lethargy: () => (/* binding */ Lethargy)
/* harmony export */ });
function _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }
function _toPropertyKey(arg) { var key = _toPrimitive(arg, "string"); return typeof key === "symbol" ? key : String(key); }
function _toPrimitive(input, hint) { if (typeof input !== "object" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || "default"); if (typeof res !== "object") return res; throw new TypeError("@@toPrimitive must return a primitive value."); } return (hint === "string" ? String : Number)(input); }
/**
 * Lethargy help distinguish between scroll events initiated by the user, and those by inertial scrolling.
 * Lethargy does not have external dependencies.
 *
 * @param stability - Specifies the length of the rolling average.
 * In effect, the larger the value, the smoother the curve will be.
 * This attempts to prevent anomalies from firing 'real' events. Valid values are all positive integers,
 * but in most cases, you would need to stay between 5 and around 30.
 *
 * @param sensitivity - Specifies the minimum value for wheelDelta for it to register as a valid scroll event.
 * Because the tail of the curve have low wheelDelta values,
 * this will stop them from registering as valid scroll events.
 * The unofficial standard wheelDelta is 120, so valid values are positive integers below 120.
 *
 * @param tolerance - Prevent small fluctuations from affecting results.
 * Valid values are decimals from 0, but should ideally be between 0.05 and 0.3.
 *
 * Based on https://github.com/d4nyll/lethargy
 */

class Lethargy {
  constructor() {
    let {
      stability = 8,
      sensitivity = 100,
      tolerance = 1.1,
      delay = 150
    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    _defineProperty(this, "stability", void 0);
    _defineProperty(this, "sensitivity", void 0);
    _defineProperty(this, "tolerance", void 0);
    _defineProperty(this, "delay", void 0);
    _defineProperty(this, "lastUpDeltas", void 0);
    _defineProperty(this, "lastDownDeltas", void 0);
    _defineProperty(this, "deltasTimestamp", void 0);
    this.stability = stability;
    this.sensitivity = sensitivity;
    this.tolerance = tolerance;
    this.delay = delay;
    this.lastUpDeltas = new Array(this.stability * 2).fill(0);
    this.lastDownDeltas = new Array(this.stability * 2).fill(0);
    this.deltasTimestamp = new Array(this.stability * 2).fill(0);
  }
  check(e) {
    let lastDelta;
    e = e.originalEvent || e;
    if (e.wheelDelta !== undefined) {
      lastDelta = e.wheelDelta;
    } else if (e.deltaY !== undefined) {
      lastDelta = e.deltaY * -40;
    } else if (e.detail !== undefined || e.detail === 0) {
      lastDelta = e.detail * -40;
    }
    this.deltasTimestamp.push(Date.now());
    this.deltasTimestamp.shift();
    if (lastDelta > 0) {
      this.lastUpDeltas.push(lastDelta);
      this.lastUpDeltas.shift();
      return this.isInertia(1);
    } else {
      this.lastDownDeltas.push(lastDelta);
      this.lastDownDeltas.shift();
      return this.isInertia(-1);
    }
  }
  isInertia(direction) {
    const lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;
    if (lastDeltas[0] === undefined) return direction;
    if (this.deltasTimestamp[this.stability * 2 - 2] + this.delay > Date.now() && lastDeltas[0] === lastDeltas[this.stability * 2 - 1]) {
      return false;
    }
    const lastDeltasOld = lastDeltas.slice(0, this.stability);
    const lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);
    const oldSum = lastDeltasOld.reduce((t, s) => t + s);
    const newSum = lastDeltasNew.reduce((t, s) => t + s);
    const oldAverage = oldSum / lastDeltasOld.length;
    const newAverage = newSum / lastDeltasNew.length;
    return Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance) && this.sensitivity < Math.abs(newAverage);
  }
}

/***/ }),

/***/ "./src/util/logs.ts":
/*!**************************!*\
  !*** ./src/util/logs.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   logDebug: () => (/* binding */ logDebug),
/* harmony export */   logDebugError: () => (/* binding */ logDebugError)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");

function logDebugError(message) {
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }
    // eslint-disable-next-line no-console
    console.error(`[DEBUG][${message}]`, ...args);
  }
}
function logDebug(message) {
  if (_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG) {
    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
      args[_key2 - 1] = arguments[_key2];
    }
    // eslint-disable-next-line no-console
    console.log(`[DEBUG] ${message}`, ...args);
  }
}

/***/ }),

/***/ "./src/util/math.ts":
/*!**************************!*\
  !*** ./src/util/math.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   clamp: () => (/* binding */ clamp),
/* harmony export */   isBetween: () => (/* binding */ isBetween),
/* harmony export */   round: () => (/* binding */ round)
/* harmony export */ });
/* unused harmony exports lerp, roundToNearestEven */
const clamp = (num, min, max) => Math.min(max, Math.max(min, num));
const isBetween = (num, min, max) => num >= min && num <= max;
const round = function (num) {
  let decimals = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return Math.round(num * 10 ** decimals) / 10 ** decimals;
};
const lerp = (start, end, interpolationRatio) => {
  return (1 - interpolationRatio) * start + interpolationRatio * end;
};

// Fractional values cause blurry text & canvas. Round to even to keep whole numbers while centering
function roundToNearestEven(value) {
  return Math.round(value / 2) * 2;
}

/***/ }),

/***/ "./src/util/memo.ts":
/*!**************************!*\
  !*** ./src/util/memo.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MEMO_EMPTY_ARRAY: () => (/* binding */ MEMO_EMPTY_ARRAY)
/* harmony export */ });
const MEMO_EMPTY_ARRAY = [];

/***/ }),

/***/ "./src/util/memoized.ts":
/*!******************************!*\
  !*** ./src/util/memoized.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ memoized)
/* harmony export */ });
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iteratees */ "./src/util/iteratees.ts");

const cache = new WeakMap();
function memoized(fn, ttlSeconds) {
  const wrapper = function () {
    const cached = cache.get(fn);
    const now = Date.now();
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (cached) {
      const isCacheDisabled = cached.isDisabledUntil && cached.isDisabledUntil > now;
      const isStale = ttlSeconds && cached.lastTime + ttlSeconds * 1000 < now;
      if (!isCacheDisabled && !isStale && (0,_iteratees__WEBPACK_IMPORTED_MODULE_0__.areSortedArraysEqual)(cached.lastArgs, args)) {
        return cached.lastResult;
      }
    }
    const result = fn(...args);
    cache.set(fn, {
      ...cached,
      lastArgs: args,
      lastResult: result,
      lastTime: now
    });
    return result;
  };
  wrapper.disableCache = seconds => {
    const cached = cache.get(fn);
    if (cached) {
      cached.isDisabledUntil = Date.now() + seconds * 1000;
    }
  };
  return wrapper;
}

/***/ }),

/***/ "./src/util/modalSwipeManager.ts":
/*!***************************************!*\
  !*** ./src/util/modalSwipeManager.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   disableSwipeToClose: () => (/* binding */ disableSwipeToClose),
/* harmony export */   enableSwipeToClose: () => (/* binding */ enableSwipeToClose),
/* harmony export */   getIsSwipeToCloseDisabled: () => (/* binding */ getIsSwipeToCloseDisabled)
/* harmony export */ });
let counter = 0;
function disableSwipeToClose() {
  counter += 1;
}
function enableSwipeToClose() {
  counter -= 1;
}
function getIsSwipeToCloseDisabled() {
  return counter > 0;
}

/***/ }),

/***/ "./src/util/multitab.ts":
/*!******************************!*\
  !*** ./src/util/multitab.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   callActionInMain: () => (/* binding */ callActionInMain),
/* harmony export */   callActionInNative: () => (/* binding */ callActionInNative),
/* harmony export */   initMultitab: () => (/* binding */ initMultitab)
/* harmony export */ });
/* harmony import */ var _lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/teact/teactn */ "./src/lib/teact/teactn.tsx");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _deepDiff__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./deepDiff */ "./src/util/deepDiff.ts");
/* harmony import */ var _deepMerge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./deepMerge */ "./src/util/deepMerge.ts");
/* harmony import */ var _iteratees__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./iteratees */ "./src/util/iteratees.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../hooks/useBackgroundMode */ "./src/hooks/useBackgroundMode.ts");








const channel = _windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_MULTITAB_SUPPORTED ? new BroadcastChannel(_config__WEBPACK_IMPORTED_MODULE_2__.MULTITAB_DATA_CHANNEL_NAME) : undefined;
let currentGlobal = (0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)();
function initMultitab() {
  let {
    noPubGlobal
  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
  if (!channel) return;
  if (!noPubGlobal) {
    (0,_lib_teact_teactn__WEBPACK_IMPORTED_MODULE_0__.addCallback)(handleGlobalChange);
  }
  channel.addEventListener('message', handleMultitabMessage);
}
function handleGlobalChange(global) {
  if (global === currentGlobal) return;
  if ((0,_hooks_useBackgroundMode__WEBPACK_IMPORTED_MODULE_7__.isBackgroundModeActive)()) {
    currentGlobal = global;
    return;
  }
  const diff = (0,_deepDiff__WEBPACK_IMPORTED_MODULE_3__.deepDiff)(omitLocalOnlyKeys(currentGlobal), omitLocalOnlyKeys(global));
  if (typeof diff !== 'symbol') {
    channel.postMessage({
      type: 'globalDiffUpdate',
      diff
    });
  }
  currentGlobal = global;
}
function omitLocalOnlyKeys(global) {
  return (0,_iteratees__WEBPACK_IMPORTED_MODULE_5__.omit)(global, ['DEBUG_capturedId']);
}
function handleMultitabMessage(_ref) {
  let {
    data
  } = _ref;
  switch (data.type) {
    case 'globalDiffUpdate':
      {
        if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) return;
        currentGlobal = (0,_deepMerge__WEBPACK_IMPORTED_MODULE_4__.deepMerge)((0,_global__WEBPACK_IMPORTED_MODULE_1__.getGlobal)(), data.diff);
        (0,_global__WEBPACK_IMPORTED_MODULE_1__.setGlobal)(currentGlobal);
        break;
      }
    case 'callActionInMain':
      {
        if (!_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATING_BOTTOM_SHEET) return;
        const {
          name,
          options
        } = data;
        (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)()[name](options);
        break;
      }
    case 'callActionInNative':
      {
        if (!_windowEnvironment__WEBPACK_IMPORTED_MODULE_6__.IS_DELEGATED_BOTTOM_SHEET) return;
        const {
          name,
          options
        } = data;
        (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)()[name](options);
        break;
      }
  }
}
function callActionInMain(name, options) {
  channel.postMessage({
    type: 'callActionInMain',
    name,
    options
  });
}
function callActionInNative(name, options) {
  channel.postMessage({
    type: 'callActionInNative',
    name,
    options
  });
}

/***/ }),

/***/ "./src/util/notificationSound.ts":
/*!***************************************!*\
  !*** ./src/util/notificationSound.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   initializeSounds: () => (/* binding */ initializeSounds),
/* harmony export */   playIncomingTransactionSound: () => (/* binding */ playIncomingTransactionSound)
/* harmony export */ });
/* harmony import */ var _capgo_native_audio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capgo/native-audio */ "./node_modules/@capgo/native-audio/dist/esm/index.js");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logs */ "./src/util/logs.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _assets_incoming_transaction_mp3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../assets/incoming-transaction.mp3 */ "./src/assets/incoming-transaction.mp3");






const DEBOUNCE_MS = 1000;
const AudioContextConstructor = window.AudioContext || window.webkitAudioContext;
const audioContext = new AudioContextConstructor();
let audioBuffer;
let isSoundInitialized = _config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR || audioContext.state === 'running';

// Workaround: this function is called once on the first user interaction.
// After that, it will be possible to play the notification without problems.
// https://developer.chrome.com/blog/autoplay?hl=ru#webaudio
function initializeSounds() {
  if (isSoundInitialized) return;
  audioContext.resume().then(() => {
    isSoundInitialized = true;
  }).catch(err => {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('appSounds:initializeSounds', err);
  });
}
function loadSound() {
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    _capgo_native_audio__WEBPACK_IMPORTED_MODULE_0__.NativeAudio.preload({
      assetId: 'incomingTransactionSound',
      assetPath: 'public/incoming-transaction.mp3',
      audioChannelNum: 1,
      isUrl: false
    }).catch(err => {
      (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('appSounds:loadSound', err);
    });
  } else {
    fetch(_assets_incoming_transaction_mp3__WEBPACK_IMPORTED_MODULE_5__).then(response => response.arrayBuffer()).then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer)).then(decodedAudioBuffer => {
      audioBuffer = decodedAudioBuffer;
    }).catch(err => {
      (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('appSounds:loadSound', err);
    });
  }
}
loadSound();
const playIncomingTransactionSound = (0,_schedulers__WEBPACK_IMPORTED_MODULE_3__.debounce)(() => {
  if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_4__.IS_DELEGATED_BOTTOM_SHEET) return;
  if (!isSoundInitialized) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebug)('appSounds:playIncomingTransactionSound', 'sound is not initialized');
    return;
  }
  if (_config__WEBPACK_IMPORTED_MODULE_1__.IS_CAPACITOR) {
    _capgo_native_audio__WEBPACK_IMPORTED_MODULE_0__.NativeAudio.play({
      assetId: 'incomingTransactionSound'
    }).catch(err => {
      (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('appSounds:playIncomingTransactionSound', err);
    });
    return;
  }
  if (!audioBuffer) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebug)('playIncomingTransactionSound', 'audioBuffer is not loaded');
    return;
  }
  const source = audioContext.createBufferSource();
  source.buffer = audioBuffer;
  source.connect(audioContext.destination);
  source.start(0);
}, DEBOUNCE_MS, true, false);

/***/ }),

/***/ "./src/util/openUrl.ts":
/*!*****************************!*\
  !*** ./src/util/openUrl.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   handleOpenUrl: () => (/* binding */ handleOpenUrl),
/* harmony export */   openUrl: () => (/* binding */ openUrl)
/* harmony export */ });
/* harmony import */ var _capacitor_app_launcher__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/app-launcher */ "./node_modules/@capacitor/app-launcher/dist/esm/index.js");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../config */ "./src/config.ts");



async function openUrl(url, isExternal, title, subtitle) {
  if (_config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && !isExternal && url.startsWith('http')) {
    (0,_global__WEBPACK_IMPORTED_MODULE_1__.getActions)().openBrowser({
      url,
      title,
      subtitle
    });
  } else {
    const couldOpenApp = _config__WEBPACK_IMPORTED_MODULE_2__.IS_CAPACITOR && (await openAppSafe(url));
    if (!couldOpenApp) {
      window.open(url, '_blank', 'noopener');
    }
  }
}
function handleOpenUrl(e) {
  e.preventDefault();
  openUrl(e.currentTarget.href);
}
async function openAppSafe(url) {
  try {
    return (await _capacitor_app_launcher__WEBPACK_IMPORTED_MODULE_0__.AppLauncher.openUrl({
      url
    })).completed;
  } catch (err) {
    return false;
  }
}

/***/ }),

/***/ "./src/util/preloadImage.ts":
/*!**********************************!*\
  !*** ./src/util/preloadImage.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   preloadImage: () => (/* binding */ preloadImage),
/* harmony export */   preloadedImageUrls: () => (/* binding */ preloadedImageUrls)
/* harmony export */ });
const preloadedImageUrls = new Set();
function preloadImage(url) {
  return new Promise((resolve, reject) => {
    const img = new Image();
    img.onload = () => {
      preloadedImageUrls.add(url);
      resolve(img);
    };
    img.onerror = reject;
    img.src = url;
  });
}

/***/ }),

/***/ "./src/util/random.ts":
/*!****************************!*\
  !*** ./src/util/random.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   randomBytes: () => (/* binding */ randomBytes)
/* harmony export */ });
/* unused harmony exports random, sample */
function random(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}
function sample(arr) {
  return arr[random(0, arr.length - 1)];
}
function randomBytes(size) {
  // eslint-disable-next-line no-restricted-globals
  return self.crypto.getRandomValues(new Uint8Array(size));
}

/***/ }),

/***/ "./src/util/renderPromise.ts":
/*!***********************************!*\
  !*** ./src/util/renderPromise.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   resolveRender: () => (/* binding */ resolveRender),
/* harmony export */   waitRender: () => (/* binding */ waitRender)
/* harmony export */ });
let resolveRenderPromise;
const renderPromise = new Promise(resolve => {
  resolveRenderPromise = resolve;
});
function resolveRender() {
  resolveRenderPromise();
}
function waitRender() {
  return renderPromise;
}

/***/ }),

/***/ "./src/util/resetScroll.ts":
/*!*********************************!*\
  !*** ./src/util/resetScroll.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");

const resetScroll = (container, scrollTop) => {
  if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_0__.IS_IOS) {
    container.style.overflow = 'hidden';
  }
  if (scrollTop !== undefined) {
    container.scrollTop = scrollTop;
  }
  if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_0__.IS_IOS) {
    container.style.overflow = '';
  }
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (resetScroll);

/***/ }),

/***/ "./src/util/resolveModalTransitionName.ts":
/*!************************************************!*\
  !*** ./src/util/resolveModalTransitionName.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ resolveModalTransitionName)
/* harmony export */ });
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");

function resolveModalTransitionName() {
  return _windowEnvironment__WEBPACK_IMPORTED_MODULE_0__.IS_ANDROID ? 'slideFadeAndroid' : _windowEnvironment__WEBPACK_IMPORTED_MODULE_0__.IS_IOS ? 'slideLayers' : 'slideFade';
}

/***/ }),

/***/ "./src/util/round.ts":
/*!***************************!*\
  !*** ./src/util/round.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   round: () => (/* binding */ round)
/* harmony export */ });
/* unused harmony exports floor, ceil */
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/big.js */ "./src/lib/big.js/index.js");

function round(value) {
  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  let roundingMode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big.roundHalfUp;
  const bn = new _lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big(value);
  return bn.round(precision, roundingMode).toNumber();
}
function floor(value) {
  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return round(value, precision, _lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big.roundDown);
}
function ceil(value) {
  let precision = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
  return round(value, precision, _lib_big_js__WEBPACK_IMPORTED_MODULE_0__.Big.roundUp);
}

/***/ }),

/***/ "./src/util/safeExec.ts":
/*!******************************!*\
  !*** ./src/util/safeExec.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ safeExec)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _handleError__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handleError */ "./src/util/handleError.ts");


const SAFE_EXEC_ENABLED = !_config__WEBPACK_IMPORTED_MODULE_0__.DEBUG_MORE;
function safeExec(cb, rescue, always) {
  if (!SAFE_EXEC_ENABLED) {
    return cb();
  }
  try {
    return cb();
  } catch (err) {
    rescue === null || rescue === void 0 ? void 0 : rescue(err);
    (0,_handleError__WEBPACK_IMPORTED_MODULE_1__.handleError)(err);
    return undefined;
  } finally {
    always === null || always === void 0 ? void 0 : always();
  }
}

/***/ }),

/***/ "./src/util/saveCaretPosition.ts":
/*!***************************************!*\
  !*** ./src/util/saveCaretPosition.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   saveCaretPosition: () => (/* binding */ saveCaretPosition)
/* harmony export */ });
function saveCaretPosition(context, decimals) {
  var _clearedValue$;
  const selection = window.getSelection();
  if (!selection || selection.rangeCount === 0) {
    return undefined;
  }
  const range = selection.getRangeAt(0);
  range.setStart(context, 0);
  const clearedValue = range.toString().match(new RegExp(`(\\d+(?:[.,]\\d{0,${decimals}})?)`));
  const len = (clearedValue === null || clearedValue === void 0 || (_clearedValue$ = clearedValue[0]) === null || _clearedValue$ === void 0 ? void 0 : _clearedValue$.length) || range.toString().length || 0;
  return function restore() {
    try {
      const {
        node,
        position
      } = getTextNodeAtPosition(context, len);
      selection.removeAllRanges();
      const newRange = new Range();
      newRange.setStart(node, position);
      newRange.setEnd(node, position);
      selection.addRange(newRange);
    } catch (e) {
      // ignore
    }
  };
}
function getTextNodeAtPosition(root, index) {
  const NODE_TYPE = NodeFilter.SHOW_TEXT;
  const treeWalker = document.createTreeWalker(root, NODE_TYPE, elem => {
    if (index > elem.textContent.length) {
      index -= elem.textContent.length;
      return NodeFilter.FILTER_REJECT;
    }
    return NodeFilter.FILTER_ACCEPT;
  });
  const node = treeWalker.nextNode();
  return {
    node: node || root,
    position: index
  };
}

/***/ }),

/***/ "./src/util/schedulers.ts":
/*!********************************!*\
  !*** ./src/util/schedulers.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   debounce: () => (/* binding */ debounce),
/* harmony export */   fastRaf: () => (/* binding */ fastRaf),
/* harmony export */   onBeforeUnload: () => (/* binding */ onBeforeUnload),
/* harmony export */   onIdle: () => (/* binding */ onIdle),
/* harmony export */   onTickEnd: () => (/* binding */ onTickEnd),
/* harmony export */   pause: () => (/* binding */ pause),
/* harmony export */   throttle: () => (/* binding */ throttle),
/* harmony export */   throttleWith: () => (/* binding */ throttleWith),
/* harmony export */   throttleWithTickEnd: () => (/* binding */ throttleWithTickEnd),
/* harmony export */   waitFor: () => (/* binding */ waitFor)
/* harmony export */ });
/* unused harmony export rafPromise */
function debounce(fn, ms) {
  let shouldRunFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  let shouldRunLast = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
  let waitingTimeout;
  return function () {
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    if (waitingTimeout) {
      clearTimeout(waitingTimeout);
      waitingTimeout = undefined;
    } else if (shouldRunFirst) {
      fn(...args);
    }

    // eslint-disable-next-line no-restricted-globals
    waitingTimeout = self.setTimeout(() => {
      if (shouldRunLast) {
        fn(...args);
      }
      waitingTimeout = undefined;
    }, ms);
  };
}
function throttle(fn, ms) {
  let shouldRunFirst = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
  let interval;
  let isPending;
  let args;
  return function () {
    isPending = true;
    for (var _len2 = arguments.length, _args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
      _args[_key2] = arguments[_key2];
    }
    args = _args;
    if (!interval) {
      if (shouldRunFirst) {
        isPending = false;
        fn(...args);
      }

      // eslint-disable-next-line no-restricted-globals
      interval = self.setInterval(() => {
        if (!isPending) {
          // eslint-disable-next-line no-restricted-globals
          self.clearInterval(interval);
          interval = undefined;
          return;
        }
        isPending = false;
        fn(...args);
      }, ms);
    }
  };
}
function throttleWithTickEnd(fn) {
  return throttleWith(onTickEnd, fn);
}
function throttleWith(schedulerFn, fn) {
  let waiting = false;
  let args;
  return function () {
    for (var _len3 = arguments.length, _args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
      _args[_key3] = arguments[_key3];
    }
    args = _args;
    if (!waiting) {
      waiting = true;
      schedulerFn(() => {
        waiting = false;
        fn(...args);
      });
    }
  };
}
function onIdle(cb, timeout) {
  // eslint-disable-next-line no-restricted-globals
  if (self.requestIdleCallback) {
    // eslint-disable-next-line no-restricted-globals
    self.requestIdleCallback(cb, {
      timeout
    });
  } else {
    onTickEnd(cb);
  }
}
const pause = ms => new Promise(resolve => {
  setTimeout(() => resolve(), ms);
});
function rafPromise() {
  return new Promise(resolve => {
    fastRaf(resolve);
  });
}
const FAST_RAF_TIMEOUT_FALLBACK_MS = 35; // < 30 FPS

let fastRafCallbacks;
let fastRafFallbackCallbacks;
let fastRafFallbackTimeout;

// May result in an immediate execution if called from another RAF callback which was scheduled
// (and therefore is executed) earlier than RAF callback scheduled by `fastRaf`
function fastRaf(callback) {
  let withTimeoutFallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (!fastRafCallbacks) {
    fastRafCallbacks = new Set([callback]);
    requestAnimationFrame(() => {
      const currentCallbacks = fastRafCallbacks;
      fastRafCallbacks = undefined;
      fastRafFallbackCallbacks = undefined;
      if (fastRafFallbackTimeout) {
        clearTimeout(fastRafFallbackTimeout);
        fastRafFallbackTimeout = undefined;
      }
      currentCallbacks.forEach(cb => cb());
    });
  } else {
    fastRafCallbacks.add(callback);
  }
  if (withTimeoutFallback) {
    if (!fastRafFallbackCallbacks) {
      fastRafFallbackCallbacks = new Set([callback]);
    } else {
      fastRafFallbackCallbacks.add(callback);
    }
    if (!fastRafFallbackTimeout) {
      fastRafFallbackTimeout = window.setTimeout(() => {
        const currentTimeoutCallbacks = fastRafFallbackCallbacks;
        if (fastRafCallbacks) {
          currentTimeoutCallbacks.forEach(fastRafCallbacks.delete, fastRafCallbacks);
        }
        fastRafFallbackCallbacks = undefined;
        if (fastRafFallbackTimeout) {
          clearTimeout(fastRafFallbackTimeout);
          fastRafFallbackTimeout = undefined;
        }
        currentTimeoutCallbacks.forEach(cb => cb());
      }, FAST_RAF_TIMEOUT_FALLBACK_MS);
    }
  }
}
let onTickEndCallbacks;
function onTickEnd(callback) {
  if (!onTickEndCallbacks) {
    onTickEndCallbacks = [callback];
    Promise.resolve().then(() => {
      const currentCallbacks = onTickEndCallbacks;
      onTickEndCallbacks = undefined;
      currentCallbacks.forEach(cb => cb());
    });
  } else {
    onTickEndCallbacks.push(callback);
  }
}
let beforeUnloadCallbacks;
function onBeforeUnload(callback) {
  let isLast = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
  if (!beforeUnloadCallbacks) {
    beforeUnloadCallbacks = [];
    // eslint-disable-next-line no-restricted-globals
    self.addEventListener('beforeunload', () => {
      beforeUnloadCallbacks.forEach(cb => cb());
    });
  }
  if (isLast) {
    beforeUnloadCallbacks.push(callback);
  } else {
    beforeUnloadCallbacks.unshift(callback);
  }
  return () => {
    beforeUnloadCallbacks = beforeUnloadCallbacks.filter(cb => cb !== callback);
  };
}
async function waitFor(cb, interval, attempts) {
  let i = 0;
  let result = cb();
  while (!result && i < attempts) {
    await pause(interval);
    i++;
    result = cb();
  }
  return result;
}

/***/ }),

/***/ "./src/util/shortenAddress.ts":
/*!************************************!*\
  !*** ./src/util/shortenAddress.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   shortenAddress: () => (/* binding */ shortenAddress)
/* harmony export */ });
/* harmony import */ var _withCache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./withCache */ "./src/util/withCache.ts");

const DEFAULT_SHIFT = 6;
const FILLER = '...';
const FILLER_LENGTH = FILLER.length;
const shortenAddress = (0,_withCache__WEBPACK_IMPORTED_MODULE_0__["default"])(function (address) {
  let shift = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_SHIFT;
  let fromRight = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : shift;
  if (!address) return undefined;
  if (address.length <= shift + fromRight + FILLER_LENGTH) return address;
  return `${address.slice(0, shift)}${FILLER}${address.slice(-fromRight)}`;
});

/***/ }),

/***/ "./src/util/signals.ts":
/*!*****************************!*\
  !*** ./src/util/signals.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   cleanupEffect: () => (/* binding */ cleanupEffect),
/* harmony export */   createSignal: () => (/* binding */ createSignal),
/* harmony export */   isSignal: () => (/* binding */ isSignal)
/* harmony export */ });
/* harmony import */ var _callbacks__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callbacks */ "./src/util/callbacks.ts");

const SIGNAL_MARK = Symbol('SIGNAL_MARK');
function isSignal(obj) {
  return typeof obj === 'function' && SIGNAL_MARK in obj;
}

// A shorthand to unsubscribe effect from all signals
const unsubscribesByEffect = new Map();
let currentEffect;
function createSignal(defaultValue) {
  const state = {
    value: defaultValue,
    effects: (0,_callbacks__WEBPACK_IMPORTED_MODULE_0__.createCallbackManager)()
  };
  function subscribe(effect) {
    const unsubscribe = state.effects.addCallback(effect);
    if (!unsubscribesByEffect.has(effect)) {
      unsubscribesByEffect.set(effect, new Set([unsubscribe]));
    } else {
      unsubscribesByEffect.get(effect).add(unsubscribe);
    }
    return () => {
      unsubscribe();
      const unsubscribes = unsubscribesByEffect.get(effect);
      unsubscribes.delete(unsubscribe);
      if (!unsubscribes.size) {
        unsubscribesByEffect.delete(effect);
      }
    };
  }
  function getter() {
    if (currentEffect) {
      subscribe(currentEffect);
    }
    return state.value;
  }
  function setter(newValue) {
    if (state.value === newValue) {
      return;
    }
    state.value = newValue;
    state.effects.runCallbacks();
  }
  const signal = Object.assign(getter, {
    [SIGNAL_MARK]: SIGNAL_MARK,
    subscribe
  });
  return [signal, setter];
}
function cleanupEffect(effect) {
  var _unsubscribesByEffect;
  (_unsubscribesByEffect = unsubscribesByEffect.get(effect)) === null || _unsubscribesByEffect === void 0 ? void 0 : _unsubscribesByEffect.forEach(unsubscribe => {
    unsubscribe();
  });
  unsubscribesByEffect.delete(effect);
}

/***/ }),

/***/ "./src/util/stopEvent.ts":
/*!*******************************!*\
  !*** ./src/util/stopEvent.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
const stopEvent = e => {
  e.stopPropagation();
  e.preventDefault();
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stopEvent);

/***/ }),

/***/ "./src/util/swap/buildSwapId.ts":
/*!**************************************!*\
  !*** ./src/util/swap/buildSwapId.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   buildSwapId: () => (/* binding */ buildSwapId)
/* harmony export */ });
function buildSwapId(backendId) {
  return `swap:${backendId}`;
}

/***/ }),

/***/ "./src/util/swap/getBlockchainNetworkIcon.ts":
/*!***************************************************!*\
  !*** ./src/util/swap/getBlockchainNetworkIcon.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getBlockchainNetworkIcon)
/* harmony export */ });
/* harmony import */ var _assets_blockchain_chain_avalanche_png__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../assets/blockchain/chain_avalanche.png */ "./src/assets/blockchain/chain_avalanche.png");
/* harmony import */ var _assets_blockchain_chain_bitcoin_png__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/blockchain/chain_bitcoin.png */ "./src/assets/blockchain/chain_bitcoin.png");
/* harmony import */ var _assets_blockchain_chain_bitcoincash_png__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/blockchain/chain_bitcoincash.png */ "./src/assets/blockchain/chain_bitcoincash.png");
/* harmony import */ var _assets_blockchain_chain_bnb_png__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../assets/blockchain/chain_bnb.png */ "./src/assets/blockchain/chain_bnb.png");
/* harmony import */ var _assets_blockchain_chain_cardano_png__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../assets/blockchain/chain_cardano.png */ "./src/assets/blockchain/chain_cardano.png");
/* harmony import */ var _assets_blockchain_chain_cosmos_png__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../assets/blockchain/chain_cosmos.png */ "./src/assets/blockchain/chain_cosmos.png");
/* harmony import */ var _assets_blockchain_chain_dash_png__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../assets/blockchain/chain_dash.png */ "./src/assets/blockchain/chain_dash.png");
/* harmony import */ var _assets_blockchain_chain_doge_png__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../assets/blockchain/chain_doge.png */ "./src/assets/blockchain/chain_doge.png");
/* harmony import */ var _assets_blockchain_chain_eos_png__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../assets/blockchain/chain_eos.png */ "./src/assets/blockchain/chain_eos.png");
/* harmony import */ var _assets_blockchain_chain_ethereum_png__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../assets/blockchain/chain_ethereum.png */ "./src/assets/blockchain/chain_ethereum.png");
/* harmony import */ var _assets_blockchain_chain_ethereumclassic_png__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../assets/blockchain/chain_ethereumclassic.png */ "./src/assets/blockchain/chain_ethereumclassic.png");
/* harmony import */ var _assets_blockchain_chain_internetcomputer_png__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../assets/blockchain/chain_internetcomputer.png */ "./src/assets/blockchain/chain_internetcomputer.png");
/* harmony import */ var _assets_blockchain_chain_iota_png__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../assets/blockchain/chain_iota.png */ "./src/assets/blockchain/chain_iota.png");
/* harmony import */ var _assets_blockchain_chain_litecoin_png__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../assets/blockchain/chain_litecoin.png */ "./src/assets/blockchain/chain_litecoin.png");
/* harmony import */ var _assets_blockchain_chain_monero_png__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../assets/blockchain/chain_monero.png */ "./src/assets/blockchain/chain_monero.png");
/* harmony import */ var _assets_blockchain_chain_polkadot_png__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../assets/blockchain/chain_polkadot.png */ "./src/assets/blockchain/chain_polkadot.png");
/* harmony import */ var _assets_blockchain_chain_ripple_png__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../assets/blockchain/chain_ripple.png */ "./src/assets/blockchain/chain_ripple.png");
/* harmony import */ var _assets_blockchain_chain_solana_png__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../assets/blockchain/chain_solana.png */ "./src/assets/blockchain/chain_solana.png");
/* harmony import */ var _assets_blockchain_chain_stellar_png__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../assets/blockchain/chain_stellar.png */ "./src/assets/blockchain/chain_stellar.png");
/* harmony import */ var _assets_blockchain_chain_ton_png__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../assets/blockchain/chain_ton.png */ "./src/assets/blockchain/chain_ton.png");
/* harmony import */ var _assets_blockchain_chain_tron_png__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../assets/blockchain/chain_tron.png */ "./src/assets/blockchain/chain_tron.png");
/* harmony import */ var _assets_blockchain_chain_zcash_png__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../assets/blockchain/chain_zcash.png */ "./src/assets/blockchain/chain_zcash.png");






















const BLOCKCHAIN_ICON_MAP = {
  avalanche: _assets_blockchain_chain_avalanche_png__WEBPACK_IMPORTED_MODULE_0__,
  bitcoin: _assets_blockchain_chain_bitcoin_png__WEBPACK_IMPORTED_MODULE_1__,
  bitcoin_cash: _assets_blockchain_chain_bitcoincash_png__WEBPACK_IMPORTED_MODULE_2__,
  binance_smart_chain: _assets_blockchain_chain_bnb_png__WEBPACK_IMPORTED_MODULE_3__,
  binance_dex: _assets_blockchain_chain_bnb_png__WEBPACK_IMPORTED_MODULE_3__,
  cardano: _assets_blockchain_chain_cardano_png__WEBPACK_IMPORTED_MODULE_4__,
  cosmos: _assets_blockchain_chain_cosmos_png__WEBPACK_IMPORTED_MODULE_5__,
  dash: _assets_blockchain_chain_dash_png__WEBPACK_IMPORTED_MODULE_6__,
  doge: _assets_blockchain_chain_doge_png__WEBPACK_IMPORTED_MODULE_7__,
  eos: _assets_blockchain_chain_eos_png__WEBPACK_IMPORTED_MODULE_8__,
  ethereum: _assets_blockchain_chain_ethereum_png__WEBPACK_IMPORTED_MODULE_9__,
  ethereum_classic: _assets_blockchain_chain_ethereumclassic_png__WEBPACK_IMPORTED_MODULE_10__,
  internet_computer: _assets_blockchain_chain_internetcomputer_png__WEBPACK_IMPORTED_MODULE_11__,
  iota: _assets_blockchain_chain_iota_png__WEBPACK_IMPORTED_MODULE_12__,
  litecoin: _assets_blockchain_chain_litecoin_png__WEBPACK_IMPORTED_MODULE_13__,
  monero: _assets_blockchain_chain_monero_png__WEBPACK_IMPORTED_MODULE_14__,
  polkadot: _assets_blockchain_chain_polkadot_png__WEBPACK_IMPORTED_MODULE_15__,
  ripple: _assets_blockchain_chain_ripple_png__WEBPACK_IMPORTED_MODULE_16__,
  solana: _assets_blockchain_chain_solana_png__WEBPACK_IMPORTED_MODULE_17__,
  stellar: _assets_blockchain_chain_stellar_png__WEBPACK_IMPORTED_MODULE_18__,
  ton: _assets_blockchain_chain_ton_png__WEBPACK_IMPORTED_MODULE_19__,
  tron: _assets_blockchain_chain_tron_png__WEBPACK_IMPORTED_MODULE_20__,
  zcash: _assets_blockchain_chain_zcash_png__WEBPACK_IMPORTED_MODULE_21__
};
function getBlockchainNetworkIcon(networkName) {
  var _BLOCKCHAIN_ICON_MAP$;
  if (!networkName) return '';
  return (_BLOCKCHAIN_ICON_MAP$ = BLOCKCHAIN_ICON_MAP[networkName]) !== null && _BLOCKCHAIN_ICON_MAP$ !== void 0 ? _BLOCKCHAIN_ICON_MAP$ : networkName;
}

/***/ }),

/***/ "./src/util/swap/getBlockchainNetworkName.ts":
/*!***************************************************!*\
  !*** ./src/util/swap/getBlockchainNetworkName.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getBlockchainNetworkName)
/* harmony export */ });
const NETWORK_NAMES_EXCEPTIONS = {
  binance_smart_chain: 'Binance Smart Chain',
  internet_computer: 'Internet Computer',
  ethereum_classic: 'Ethereum Classic',
  bitcoin_cash: 'Bitcoin Cash',
  binance_dex: 'Binance Dex',
  ton: 'TON',
  bitcoin: 'Bitcoin',
  ethereum: 'Ethereum',
  solana: 'Solana',
  tron: 'TRON',
  stellar: 'Stellar',
  doge: 'DOGE',
  eos: 'EOS',
  avalanche: 'Avalanche',
  cardano: 'Cardano',
  monero: 'Monero',
  dash: 'Dash',
  ripple: 'Ripple',
  cosmos: 'Cosmos',
  litecoin: 'Litecoin',
  zcash: 'Zcash',
  polkadot: 'Polkadot',
  iota: 'IOTA'
};
function getBlockchainNetworkName(networkName) {
  var _NETWORK_NAMES_EXCEPT;
  if (!networkName) return '';
  return (_NETWORK_NAMES_EXCEPT = NETWORK_NAMES_EXCEPTIONS[networkName]) !== null && _NETWORK_NAMES_EXCEPT !== void 0 ? _NETWORK_NAMES_EXCEPT : networkName;
}

/***/ }),

/***/ "./src/util/swap/getSwapRate.ts":
/*!**************************************!*\
  !*** ./src/util/swap/getSwapRate.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ getSwapRate)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../config */ "./src/config.ts");
/* harmony import */ var _lib_big_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/big.js */ "./src/lib/big.js/index.js");
/* harmony import */ var _formatNumber__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../formatNumber */ "./src/util/formatNumber.ts");



const BTC = new Set(['jWBTC', 'oWBTC', 'BTC']);
const USD = new Set(['jUSDT', 'oUSDT', 'USDT', 'jUSDC', 'oUSDC', 'USDC', 'USD₮']);
const FIAT = new Set(['USD', 'RUB', 'EUR', 'CNY']);
const LARGE_NUMBER = 1000;
function getCurrencyPriority(symbol) {
  if (FIAT.has(symbol)) return 5;
  if (USD.has(symbol)) return 4;
  if (BTC.has(symbol)) return 3;
  if (symbol === _config__WEBPACK_IMPORTED_MODULE_0__.TON_SYMBOL) return 2;
  return 1;
}
function getSwapRate(fromAmount, toAmount, fromToken, toToken) {
  let shouldTrimLargeNumber = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;
  if (!fromAmount || !toAmount || !fromToken || !toToken) {
    return undefined;
  }
  let firstCurrencySymbol = fromToken.symbol;
  let secondCurrencySymbol = toToken.symbol;
  let price;
  const fromAmountBig = new _lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big(fromAmount);
  const toAmountBig = new _lib_big_js__WEBPACK_IMPORTED_MODULE_1__.Big(toAmount);
  if (fromAmountBig.eq(0) || toAmountBig.eq(0)) {
    return undefined;
  }
  const fromPriority = getCurrencyPriority(firstCurrencySymbol);
  const toPriority = getCurrencyPriority(secondCurrencySymbol);
  if (toPriority < fromPriority) {
    firstCurrencySymbol = toToken.symbol;
    secondCurrencySymbol = fromToken.symbol;
    const ratio = fromAmountBig.div(toAmount);
    const isLargeNumber = shouldTrimLargeNumber && ratio.gte(LARGE_NUMBER);
    price = (0,_formatNumber__WEBPACK_IMPORTED_MODULE_2__.formatInteger)(ratio.toNumber(), isLargeNumber ? 0 : 4);
  } else {
    const ratio = toAmountBig.div(fromAmount);
    const isLargeNumber = shouldTrimLargeNumber && ratio.gte(LARGE_NUMBER);
    price = (0,_formatNumber__WEBPACK_IMPORTED_MODULE_2__.formatInteger)(ratio.toNumber(), isLargeNumber ? 0 : 4);
  }
  return {
    firstCurrencySymbol,
    secondCurrencySymbol,
    price
  };
}

/***/ }),

/***/ "./src/util/swipeController.ts":
/*!*************************************!*\
  !*** ./src/util/swipeController.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   allowSwipeControlForTransition: () => (/* binding */ allowSwipeControlForTransition),
/* harmony export */   captureControlledSwipe: () => (/* binding */ captureControlledSwipe)
/* harmony export */ });
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _animation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./animation */ "./src/util/animation.ts");
/* harmony import */ var _captureEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./captureEvents */ "./src/util/captureEvents.ts");
/* harmony import */ var _cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cssAnimationEndListeners */ "./src/util/cssAnimationEndListeners.ts");
/* harmony import */ var _math__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./math */ "./src/util/math.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");






const INERTIA_DURATION = 300;
const INERTIA_EASING = _animation__WEBPACK_IMPORTED_MODULE_1__.timingFunctions.easeOutCubic;
let isSwipeActive = false;
let swipeOffsets;
let onDrag;
let onRelease;
let cancelCurrentReleaseAnimation;
function captureControlledSwipe(element, options) {
  return (0,_captureEvents__WEBPACK_IMPORTED_MODULE_2__.captureEvents)(element, {
    swipeThreshold: 10,
    onSwipe(e, direction, offsets) {
      if (direction === _captureEvents__WEBPACK_IMPORTED_MODULE_2__.SwipeDirection.Left) {
        var _options$onSwipeLeftS;
        (_options$onSwipeLeftS = options.onSwipeLeftStart) === null || _options$onSwipeLeftS === void 0 ? void 0 : _options$onSwipeLeftS.call(options);
      } else if (direction === _captureEvents__WEBPACK_IMPORTED_MODULE_2__.SwipeDirection.Right) {
        var _options$onSwipeRight;
        (_options$onSwipeRight = options.onSwipeRightStart) === null || _options$onSwipeRight === void 0 ? void 0 : _options$onSwipeRight.call(options);
      } else {
        return false;
      }
      if (_windowEnvironment__WEBPACK_IMPORTED_MODULE_5__.IS_IOS) {
        isSwipeActive = true;
        swipeOffsets = offsets;
      }
      return true;
    },
    onDrag(e, captureEvent, offsets) {
      var _onDrag;
      if (!isSwipeActive) return;
      (_onDrag = onDrag) === null || _onDrag === void 0 ? void 0 : _onDrag(offsets);
    },
    onRelease() {
      var _onRelease;
      if (!isSwipeActive) return;
      isSwipeActive = false;
      (_onRelease = onRelease) === null || _onRelease === void 0 ? void 0 : _onRelease(options.onCancel);
      onDrag = undefined;
      onRelease = undefined;
    }
  });
}
function allowSwipeControlForTransition(currentSlide, nextSlide, onCancelForTransition) {
  var _cancelCurrentRelease;
  (_cancelCurrentRelease = cancelCurrentReleaseAnimation) === null || _cancelCurrentRelease === void 0 ? void 0 : _cancelCurrentRelease();
  if (!isSwipeActive) return;
  const targetPosition = extractAnimationEndPosition(currentSlide);
  if (!targetPosition) return;
  currentSlide.getAnimations().forEach(a => a.pause());
  nextSlide.getAnimations().forEach(a => a.pause());
  currentSlide.style.animationTimingFunction = 'linear';
  nextSlide.style.animationTimingFunction = 'linear';
  let currentDirection;
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMeasure)(() => {
    const computedStyle = getComputedStyle(currentSlide);
    const initialPositionPx = extractPositionFromMatrix(computedStyle.transform, targetPosition.axis);
    const targetPositionPx = targetPosition.units === 'px' ? targetPosition.value : targetPosition.value / 100 * (targetPosition.axis === 'X' ? currentSlide.offsetWidth : currentSlide.offsetHeight);
    const distance = targetPositionPx - initialPositionPx;
    let progress = 0;
    onDrag = _ref => {
      let {
        dragOffsetX,
        dragOffsetY
      } = _ref;
      const dragOffset = targetPosition.axis === 'X' ? dragOffsetX - swipeOffsets.dragOffsetX : dragOffsetY - swipeOffsets.dragOffsetY;
      const newProgress = (0,_math__WEBPACK_IMPORTED_MODULE_4__.clamp)(dragOffset / distance, 0, 1);
      currentDirection = newProgress > progress ? 1 : -1;
      progress = newProgress;
      updateAnimationProgress([currentSlide, nextSlide], progress);
    };
    onRelease = onCancelForClient => {
      const isRevertSwipe = currentDirection === -1;
      function cleanup() {
        currentSlide.getAnimations().forEach(a => a.cancel());
        nextSlide.getAnimations().forEach(a => a.cancel());
        (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_0__.requestMutation)(() => {
          currentSlide.style.animationTimingFunction = '';
          nextSlide.style.animationTimingFunction = '';
        });
      }
      if (!isRevertSwipe) {
        // For some reason animations are not cleared when CSS class is removed
        (0,_cssAnimationEndListeners__WEBPACK_IMPORTED_MODULE_3__.waitForAnimationEnd)(currentSlide, cleanup);
      }
      cancelCurrentReleaseAnimation = (0,_animation__WEBPACK_IMPORTED_MODULE_1__.animateNumber)({
        from: progress,
        to: isRevertSwipe ? 0 : 1,
        duration: INERTIA_DURATION,
        timing: INERTIA_EASING,
        onUpdate(releaseProgress) {
          updateAnimationProgress([currentSlide, nextSlide], releaseProgress);
        },
        onEnd() {
          let isCanceled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
          cancelCurrentReleaseAnimation = undefined;
          if (isCanceled || isRevertSwipe) {
            cleanup();
            onCancelForTransition();
            onCancelForClient();
          }
        }
      });
    };
  });
}
function updateAnimationProgress(elements, progress) {
  elements.map(e => e.getAnimations()).flat().forEach(animation => {
    animation.currentTime = animation.effect.getTiming().duration * progress;
  });
}
function extractAnimationEndPosition(element) {
  for (const animation of element.getAnimations()) {
    if (!(animation.effect instanceof KeyframeEffect)) continue;
    for (const keyframe of animation.effect.getKeyframes()) {
      if (keyframe.offset !== 1 || !keyframe.transform) continue;
      const position = extractPositionFromTransform(keyframe.transform);
      if (position) {
        return position;
      }
    }
  }
  return undefined;
}
function extractPositionFromTransform(transformRule) {
  const match = transformRule.match(/([XY])\((-?\d+)(%|px)\)/);
  if (!match) return undefined;
  return {
    axis: match[1],
    value: Number(match[2]),
    units: match[3]
  };
}
function extractPositionFromMatrix(transform, axis) {
  const matrix = transform.slice(7, -1).split(',').map(Number);
  return matrix[axis === 'X' ? 4 : 5];
}

/***/ }),

/***/ "./src/util/switchAnimationLevel.ts":
/*!******************************************!*\
  !*** ./src/util/switchAnimationLevel.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ switchAnimationLevel)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");

const ANIMATION_LEVEL_OPTIONS = [_config__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_LEVEL_MIN, _config__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_LEVEL_MED, _config__WEBPACK_IMPORTED_MODULE_0__.ANIMATION_LEVEL_MAX];
function switchAnimationLevel(level) {
  const levelClassName = `animation-level-${level}`;
  if (document.documentElement.classList.contains(levelClassName)) {
    return;
  }
  ANIMATION_LEVEL_OPTIONS.forEach(currentLevel => {
    document.documentElement.classList.toggle(`animation-level-${currentLevel}`, currentLevel === level);
  });
}

/***/ }),

/***/ "./src/util/switchTheme.ts":
/*!*********************************!*\
  !*** ./src/util/switchTheme.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ switchTheme),
/* harmony export */   setStatusBarStyle: () => (/* binding */ setStatusBarStyle)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _capacitor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./capacitor */ "./src/util/capacitor.ts");



const prefersDark = window.matchMedia('(prefers-color-scheme: dark)');
let currentTheme;
function switchTheme(theme) {
  currentTheme = theme;
  setThemeValue();
  setThemeColor();
}
function setThemeValue() {
  document.documentElement.classList.toggle('theme-dark', currentTheme === 'dark' || currentTheme === 'system' && prefersDark.matches);
}
function handlePrefersColorSchemeChange() {
  setThemeValue();
  setStatusBarStyle();
}
function setThemeColor() {
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMeasure)(() => {
    var _document$querySelect;
    const color = getComputedStyle(document.documentElement).getPropertyValue('--color-background-second');
    (_document$querySelect = document.querySelector('meta[name="theme-color"]')) === null || _document$querySelect === void 0 ? void 0 : _document$querySelect.setAttribute('content', color);
  });
}
function setStatusBarStyle(forceDarkBackground) {
  if (!_config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR) return;
  (0,_capacitor__WEBPACK_IMPORTED_MODULE_2__.switchStatusBar)(currentTheme, prefersDark.matches, forceDarkBackground);
}
prefersDark.addEventListener('change', handlePrefersColorSchemeChange);

/***/ }),

/***/ "./src/util/ton/formatTransferUrl.ts":
/*!*******************************************!*\
  !*** ./src/util/ton/formatTransferUrl.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ formatTransferUrl)
/* harmony export */ });
// https://github.com/toncenter/tonweb/blob/944455da2effaa307a2030d00e19a37e6e94897c/src/utils/index.js#L94-L109
function formatTransferUrl(address, amount, text) {
  const url = `ton://transfer/${address}`;
  const params = [];
  if (amount) {
    params.push(`amount=${amount}`);
  }
  if (text) {
    params.push(`text=${encodeURIComponent(text)}`);
  }
  if (params.length === 0) return url;
  return `${url}?${params.join('&')}`;
}

/***/ }),

/***/ "./src/util/tonConnectEnvironment.ts":
/*!*******************************************!*\
  !*** ./src/util/tonConnectEnvironment.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   tonConnectGetDeviceInfo: () => (/* binding */ tonConnectGetDeviceInfo)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../package.json */ "./package.json");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");



function tonConnectGetDeviceInfo() {
  return {
    platform: getPlatform(),
    appName: _config__WEBPACK_IMPORTED_MODULE_0__.APP_NAME,
    appVersion: _package_json__WEBPACK_IMPORTED_MODULE_1__.version,
    maxProtocolVersion: _config__WEBPACK_IMPORTED_MODULE_0__.TONCONNECT_PROTOCOL_VERSION,
    features: ['SendTransaction',
    // TODO DEPRECATED
    {
      name: 'SendTransaction',
      maxMessages: 4
    }]
  };
}
function getPlatform() {
  var _window$navigator;
  const {
    userAgent
  } = window.navigator;
  const platform = window.navigator.platform || ((_window$navigator = window.navigator) === null || _window$navigator === void 0 || (_window$navigator = _window$navigator.userAgentData) === null || _window$navigator === void 0 ? void 0 : _window$navigator.platform) || '';
  const macosPlatforms = ['macOS', 'Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];
  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];
  const iphonePlatforms = ['iPhone'];
  const ipadPlatforms = ['iPad', 'iPod'];
  let devicePlatform;
  if (!_config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR && !_windowEnvironment__WEBPACK_IMPORTED_MODULE_2__.IS_ELECTRON) {
    devicePlatform = 'browser';
  } else if (/Android/.test(userAgent)) {
    devicePlatform = 'android';
  } else if (iphonePlatforms.indexOf(platform) !== -1) {
    devicePlatform = 'iphone';
  } else if (ipadPlatforms.indexOf(platform) !== -1) {
    devicePlatform = 'ipad';
  } else if (macosPlatforms.indexOf(platform) !== -1) {
    devicePlatform = 'mac';
  } else if (windowsPlatforms.indexOf(platform) !== -1) {
    devicePlatform = 'windows';
  } else if (/Linux/.test(platform)) {
    devicePlatform = 'linux';
  } else {
    devicePlatform = 'browser';
  }
  return devicePlatform;
}

/***/ }),

/***/ "./src/util/trapFocus.ts":
/*!*******************************!*\
  !*** ./src/util/trapFocus.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ trapFocus)
/* harmony export */ });
function trapFocus(element) {
  function handleKeyDown(e) {
    if (e.key !== 'Tab') {
      return;
    }
    e.preventDefault();
    e.stopPropagation();
    const focusableElements = Array.from(element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));
    if (!focusableElements.length) {
      return;
    }
    const currentFocusedIndex = focusableElements.findIndex(em => em.isSameNode(document.activeElement));
    let newFocusedIndex = 0;
    if (currentFocusedIndex >= 0) {
      if (e.shiftKey) {
        newFocusedIndex = currentFocusedIndex > 0 ? currentFocusedIndex - 1 : focusableElements.length - 1;
      } else {
        newFocusedIndex = currentFocusedIndex < focusableElements.length - 1 ? currentFocusedIndex + 1 : 0;
      }
    }
    focusableElements[newFocusedIndex].focus();
  }
  document.addEventListener('keydown', handleKeyDown, false);
  return () => {
    document.removeEventListener('keydown', handleKeyDown, false);
  };
}

/***/ }),

/***/ "./src/util/url.ts":
/*!*************************!*\
  !*** ./src/util/url.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getHostnameFromUrl: () => (/* binding */ getHostnameFromUrl),
/* harmony export */   getTonExplorerAddressUrl: () => (/* binding */ getTonExplorerAddressUrl),
/* harmony export */   getTonExplorerNftCollectionUrl: () => (/* binding */ getTonExplorerNftCollectionUrl),
/* harmony export */   getTonExplorerNftUrl: () => (/* binding */ getTonExplorerNftUrl),
/* harmony export */   getTonExplorerTokenUrl: () => (/* binding */ getTonExplorerTokenUrl),
/* harmony export */   getTonExplorerTransactionUrl: () => (/* binding */ getTonExplorerTransactionUrl),
/* harmony export */   isValidUrl: () => (/* binding */ isValidUrl)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _base64toHex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base64toHex */ "./src/util/base64toHex.ts");
/* harmony import */ var _logs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logs */ "./src/util/logs.ts");




// Regexp from https://stackoverflow.com/a/3809435
const URL_REGEX = /[-a-z0-9@:%._+~#=]{1,256}\.[a-z0-9()]{1,6}\b([-a-z0-9()@:%_+.~#?&/=]*)/gi;
const VALID_PROTOCOLS = new Set(['http:', 'https:']);
function isValidUrl(url) {
  let validProtocols = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : VALID_PROTOCOLS;
  try {
    const match = url.match(URL_REGEX);
    if (!match) return false;
    const urlObject = new URL(url);
    return validProtocols.has(urlObject.protocol);
  } catch (e) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('isValidUrl', e);
    return false;
  }
}
function getHostnameFromUrl(url) {
  try {
    const urlObject = new URL(url);
    return urlObject.hostname;
  } catch (e) {
    (0,_logs__WEBPACK_IMPORTED_MODULE_2__.logDebugError)('getHostnameFromUrl', e);
    return url;
  }
}
function getTonExplorerBaseUrl() {
  let isTestnet = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return isTestnet ? _config__WEBPACK_IMPORTED_MODULE_0__.TON_EXPLORER_BASE_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_0__.TON_EXPLORER_BASE_MAINNET_URL;
}
function getTokenExplorerBaseUrl() {
  let isTestnet = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;
  return isTestnet ? _config__WEBPACK_IMPORTED_MODULE_0__.TOKEN_EXPLORER_TESTNET_URL : _config__WEBPACK_IMPORTED_MODULE_0__.TOKEN_EXPLORER_MAINNET_URL;
}
function getTonExplorerTransactionUrl(transactionHash, isTestnet) {
  if (!transactionHash || transactionHash === _config__WEBPACK_IMPORTED_MODULE_0__.EMPTY_HASH_VALUE) return undefined;
  return `${getTonExplorerBaseUrl(isTestnet)}transaction/${(0,_base64toHex__WEBPACK_IMPORTED_MODULE_1__.base64ToHex)(transactionHash)}`;
}
function getTonExplorerAddressUrl(address, isTestnet) {
  if (!address) return undefined;
  return `${getTonExplorerBaseUrl(isTestnet)}${address}`;
}
function getTonExplorerNftCollectionUrl(nftCollectionAddress, isTestnet) {
  if (!nftCollectionAddress) return undefined;
  return `${getTonExplorerBaseUrl(isTestnet)}${nftCollectionAddress}?section=overview`;
}
function getTonExplorerNftUrl(nftAddress, isTestnet) {
  if (!nftAddress) return undefined;
  return `${getTonExplorerBaseUrl(isTestnet)}${nftAddress}?section=nft`;
}
function getTonExplorerTokenUrl(slug, address, isTestnet) {
  if (!slug && !address) return undefined;
  return address ? getTokenExplorerBaseUrl(isTestnet).replace('{address}', address) : `https://coinmarketcap.com/currencies/${slug}/`;
}

/***/ }),

/***/ "./src/util/windowEnvironment.ts":
/*!***************************************!*\
  !*** ./src/util/windowEnvironment.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   DEFAULT_LANG_CODE: () => (/* binding */ DEFAULT_LANG_CODE),
/* harmony export */   DPR: () => (/* binding */ DPR),
/* harmony export */   IS_ANDROID: () => (/* binding */ IS_ANDROID),
/* harmony export */   IS_ANDROID_APP: () => (/* binding */ IS_ANDROID_APP),
/* harmony export */   IS_BIOMETRIC_AUTH_SUPPORTED: () => (/* binding */ IS_BIOMETRIC_AUTH_SUPPORTED),
/* harmony export */   IS_DAPP_SUPPORTED: () => (/* binding */ IS_DAPP_SUPPORTED),
/* harmony export */   IS_DELEGATED_BOTTOM_SHEET: () => (/* binding */ IS_DELEGATED_BOTTOM_SHEET),
/* harmony export */   IS_DELEGATING_BOTTOM_SHEET: () => (/* binding */ IS_DELEGATING_BOTTOM_SHEET),
/* harmony export */   IS_ELECTRON: () => (/* binding */ IS_ELECTRON),
/* harmony export */   IS_FIREFOX: () => (/* binding */ IS_FIREFOX),
/* harmony export */   IS_IOS: () => (/* binding */ IS_IOS),
/* harmony export */   IS_IOS_APP: () => (/* binding */ IS_IOS_APP),
/* harmony export */   IS_LEDGER_EXTENSION_TAB: () => (/* binding */ IS_LEDGER_EXTENSION_TAB),
/* harmony export */   IS_LEDGER_SUPPORTED: () => (/* binding */ IS_LEDGER_SUPPORTED),
/* harmony export */   IS_LINUX: () => (/* binding */ IS_LINUX),
/* harmony export */   IS_MAC_OS: () => (/* binding */ IS_MAC_OS),
/* harmony export */   IS_MULTITAB_SUPPORTED: () => (/* binding */ IS_MULTITAB_SUPPORTED),
/* harmony export */   IS_OPERA: () => (/* binding */ IS_OPERA),
/* harmony export */   IS_PWA: () => (/* binding */ IS_PWA),
/* harmony export */   IS_SAFARI: () => (/* binding */ IS_SAFARI),
/* harmony export */   IS_TOUCH_ENV: () => (/* binding */ IS_TOUCH_ENV),
/* harmony export */   IS_WEB: () => (/* binding */ IS_WEB),
/* harmony export */   IS_WINDOWS: () => (/* binding */ IS_WINDOWS),
/* harmony export */   REM: () => (/* binding */ REM),
/* harmony export */   USER_AGENT_LANG_CODE: () => (/* binding */ USER_AGENT_LANG_CODE),
/* harmony export */   setScrollbarWidthProperty: () => (/* binding */ setScrollbarWidthProperty)
/* harmony export */ });
/* unused harmony exports getPlatform, PLATFORM_ENV, IS_CHROME_EXTENSION */
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
var _window$chrome;


function getPlatform() {
  const {
    userAgent,
    platform
  } = window.navigator;
  if (/Android/.test(userAgent)) return 'Android';
  if (/Linux/.test(platform)) return 'Linux';
  const iosPlatforms = ['iPhone', 'iPad', 'iPod'];
  if (iosPlatforms.indexOf(platform) !== -1
  // For new IPads with M1 chip and IPadOS platform returns "MacIntel"
  || platform === 'MacIntel' && 'maxTouchPoints' in navigator && navigator.maxTouchPoints > 2) {
    return 'iOS';
  }
  const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];
  if (macosPlatforms.indexOf(platform) !== -1) return 'macOS';
  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];
  if (windowsPlatforms.indexOf(platform) !== -1) return 'Windows';
  return undefined;
}
function isIPad() {
  const {
    userAgent,
    platform
  } = window.navigator;
  return platform === 'iPad' || userAgent.includes('iPad') || platform === 'MacIntel' && 'maxTouchPoints' in navigator && navigator.maxTouchPoints > 2;
}
function getBrowserLanguage() {
  const {
    language
  } = navigator;
  const lang = language.startsWith('zh') ? language.endsWith('TW') || language.endsWith('HK') ? 'zh-Hant' : 'zh-Hans' : language.substring(0, 2);
  return _config__WEBPACK_IMPORTED_MODULE_0__.LANG_LIST.some(_ref => {
    let {
      langCode
    } = _ref;
    return langCode === lang;
  }) ? lang : 'en';
}
const IS_PWA = window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone || document.referrer.includes('android-app://');
const PLATFORM_ENV = getPlatform();
const IS_MAC_OS = PLATFORM_ENV === 'macOS';
const IS_WINDOWS = PLATFORM_ENV === 'Windows';
const IS_LINUX = PLATFORM_ENV === 'Linux';
const IS_IOS = PLATFORM_ENV === 'iOS';
const IS_ANDROID = PLATFORM_ENV === 'Android';
const IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
const IS_OPERA = navigator.userAgent.includes(' OPR/');
const IS_FIREFOX = navigator.userAgent.includes('Firefox/');
const IS_TOUCH_ENV = window.matchMedia('(pointer: coarse)').matches;
const IS_CHROME_EXTENSION = Boolean((_window$chrome = window.chrome) === null || _window$chrome === void 0 ? void 0 : _window$chrome.system);
const IS_ELECTRON = Boolean(window.electron);
const IS_WEB = !_config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR && !IS_ELECTRON && !_config__WEBPACK_IMPORTED_MODULE_0__.IS_EXTENSION;
const DEFAULT_LANG_CODE = 'en';
const USER_AGENT_LANG_CODE = getBrowserLanguage();
const DPR = window.devicePixelRatio || 1;
const IS_LEDGER_SUPPORTED = !(IS_IOS || IS_ANDROID && _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR || _config__WEBPACK_IMPORTED_MODULE_0__.IS_FIREFOX_EXTENSION);
const IS_LEDGER_EXTENSION_TAB = __webpack_require__.g.location.hash.startsWith('#detached');
// Disable biometric auth on electron for now until this issue is fixed:
// https://github.com/electron/electron/issues/24573
const IS_BIOMETRIC_AUTH_SUPPORTED = Boolean(!_config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR && window.navigator.credentials && (!IS_ELECTRON || IS_MAC_OS));
const IS_DELEGATED_BOTTOM_SHEET = _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR && __webpack_require__.g.location.search.startsWith('?bottom-sheet');
const IS_DELEGATING_BOTTOM_SHEET = _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR && IS_IOS && !IS_DELEGATED_BOTTOM_SHEET && !isIPad();
const IS_MULTITAB_SUPPORTED = 'BroadcastChannel' in window && !IS_LEDGER_EXTENSION_TAB;
const IS_DAPP_SUPPORTED = _config__WEBPACK_IMPORTED_MODULE_0__.IS_EXTENSION || IS_ELECTRON || _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR;
const IS_IOS_APP = IS_IOS && _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR;
const IS_ANDROID_APP = IS_ANDROID && _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR;
function setScrollbarWidthProperty() {
  const el = document.createElement('div');
  el.style.cssText = 'overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;';
  el.classList.add('custom-scroll');
  document.body.appendChild(el);
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestForcedReflow)(() => {
    const width = el.offsetWidth - el.clientWidth;
    return () => {
      document.documentElement.style.setProperty('--scrollbar-width', `${width}px`);
      el.remove();
    };
  });
}
const REM = parseInt(getComputedStyle(document.documentElement).fontSize, 10);

/***/ }),

/***/ "./src/util/windowSize.ts":
/*!********************************!*\
  !*** ./src/util/windowSize.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   updateSizes: () => (/* binding */ updateSizes)
/* harmony export */ });
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _schedulers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./schedulers */ "./src/util/schedulers.ts");
/* harmony import */ var _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./windowEnvironment */ "./src/util/windowEnvironment.ts");




const WINDOW_RESIZE_THROTTLE_MS = 250;
const WINDOW_ORIENTATION_CHANGE_THROTTLE_MS = _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS ? 350 : 250;
const SAFE_AREA_INITIALIZATION_DELAY = 1000;
const initialHeight = window.innerHeight;
let currentWindowSize = updateSizes();
window.addEventListener('orientationchange', (0,_schedulers__WEBPACK_IMPORTED_MODULE_2__.throttle)(() => {
  currentWindowSize = updateSizes();
}, WINDOW_ORIENTATION_CHANGE_THROTTLE_MS, false));
if (!_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS) {
  window.addEventListener('resize', (0,_schedulers__WEBPACK_IMPORTED_MODULE_2__.throttle)(() => {
    currentWindowSize = updateSizes();
  }, WINDOW_RESIZE_THROTTLE_MS, true));
}
if ('visualViewport' in window && (_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS || _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID)) {
  window.visualViewport.addEventListener('resize', (0,_schedulers__WEBPACK_IMPORTED_MODULE_2__.throttle)(e => {
    const target = e.target;
    currentWindowSize = {
      width: window.innerWidth,
      height: target.height,
      screenHeight: window.screen.height,
      safeAreaTop: getSafeAreaTop(),
      safeAreaBottom: getSafeAreaBottom()
    };
  }, WINDOW_RESIZE_THROTTLE_MS, true));
}
function updateSizes() {
  patchVh();
  patchSafeAreaProperty();
  return {
    width: window.innerWidth,
    height: window.innerHeight,
    screenHeight: window.screen.height,
    safeAreaTop: getSafeAreaTop(),
    safeAreaBottom: getSafeAreaBottom()
  };
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
  get: () => currentWindowSize,
  getIsKeyboardVisible: () => initialHeight > currentWindowSize.height
});
function patchVh() {
  if (!(_windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS || _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_ANDROID) || _config__WEBPACK_IMPORTED_MODULE_0__.IS_CAPACITOR) return;
  const height = _windowEnvironment__WEBPACK_IMPORTED_MODULE_3__.IS_IOS ? window.visualViewport.height + window.visualViewport.pageTop : window.innerHeight;
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMutation)(() => {
    const vh = height * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
  });
}
function patchSafeAreaProperty() {
  const {
    documentElement
  } = document;

  // WebKit has issues with this property on page load
  // https://bugs.webkit.org/show_bug.cgi?id=191872
  setTimeout(() => {
    const {
      safeAreaTop,
      safeAreaBottom
    } = currentWindowSize;
    if (!Number.isNaN(safeAreaTop) && safeAreaTop > 0) {
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMutation)(() => {
        documentElement.classList.add('with-safe-area-top');
      });
    }
    if (!Number.isNaN(safeAreaBottom) && safeAreaBottom > 0) {
      (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_1__.requestMutation)(() => {
        documentElement.classList.add('with-safe-area-bottom');
      });
    }
  }, SAFE_AREA_INITIALIZATION_DELAY);
}
function getSafeAreaTop() {
  const value = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-top-value'), 10);
  return Number.isNaN(value) ? 0 : value;
}
function getSafeAreaBottom() {
  const value = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-bottom-value'), 10);
  return Number.isNaN(value) ? 0 : value;
}

/***/ }),

/***/ "./src/util/withCache.ts":
/*!*******************************!*\
  !*** ./src/util/withCache.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ withCache)
/* harmony export */ });
const cache = new WeakMap();
function withCache(fn) {
  return function () {
    let fnCache = cache.get(fn);
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    const cacheKey = args.map(String).join('_');
    if (fnCache) {
      const cached = fnCache.get(cacheKey);
      if (cached) {
        return cached;
      }
    } else {
      fnCache = new Map();
      cache.set(fn, fnCache);
    }
    const newValue = fn(...args);
    fnCache.set(cacheKey, newValue);
    return newValue;
  };
}

/***/ }),

/***/ "./node_modules/base64-js/index.js":
/*!*****************************************!*\
  !*** ./node_modules/base64-js/index.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";


exports.byteLength = byteLength
exports.toByteArray = toByteArray
exports.fromByteArray = fromByteArray

var lookup = []
var revLookup = []
var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array

var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
for (var i = 0, len = code.length; i < len; ++i) {
  lookup[i] = code[i]
  revLookup[code.charCodeAt(i)] = i
}

// Support decoding URL-safe base64 strings, as Node.js does.
// See: https://en.wikipedia.org/wiki/Base64#URL_applications
revLookup['-'.charCodeAt(0)] = 62
revLookup['_'.charCodeAt(0)] = 63

function getLens (b64) {
  var len = b64.length

  if (len % 4 > 0) {
    throw new Error('Invalid string. Length must be a multiple of 4')
  }

  // Trim off extra bytes after placeholder bytes are found
  // See: https://github.com/beatgammit/base64-js/issues/42
  var validLen = b64.indexOf('=')
  if (validLen === -1) validLen = len

  var placeHoldersLen = validLen === len
    ? 0
    : 4 - (validLen % 4)

  return [validLen, placeHoldersLen]
}

// base64 is 4/3 + up to two characters of the original data
function byteLength (b64) {
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function _byteLength (b64, validLen, placeHoldersLen) {
  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen
}

function toByteArray (b64) {
  var tmp
  var lens = getLens(b64)
  var validLen = lens[0]
  var placeHoldersLen = lens[1]

  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))

  var curByte = 0

  // if there are placeholders, only get up to the last complete 4 chars
  var len = placeHoldersLen > 0
    ? validLen - 4
    : validLen

  var i
  for (i = 0; i < len; i += 4) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 18) |
      (revLookup[b64.charCodeAt(i + 1)] << 12) |
      (revLookup[b64.charCodeAt(i + 2)] << 6) |
      revLookup[b64.charCodeAt(i + 3)]
    arr[curByte++] = (tmp >> 16) & 0xFF
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 2) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 2) |
      (revLookup[b64.charCodeAt(i + 1)] >> 4)
    arr[curByte++] = tmp & 0xFF
  }

  if (placeHoldersLen === 1) {
    tmp =
      (revLookup[b64.charCodeAt(i)] << 10) |
      (revLookup[b64.charCodeAt(i + 1)] << 4) |
      (revLookup[b64.charCodeAt(i + 2)] >> 2)
    arr[curByte++] = (tmp >> 8) & 0xFF
    arr[curByte++] = tmp & 0xFF
  }

  return arr
}

function tripletToBase64 (num) {
  return lookup[num >> 18 & 0x3F] +
    lookup[num >> 12 & 0x3F] +
    lookup[num >> 6 & 0x3F] +
    lookup[num & 0x3F]
}

function encodeChunk (uint8, start, end) {
  var tmp
  var output = []
  for (var i = start; i < end; i += 3) {
    tmp =
      ((uint8[i] << 16) & 0xFF0000) +
      ((uint8[i + 1] << 8) & 0xFF00) +
      (uint8[i + 2] & 0xFF)
    output.push(tripletToBase64(tmp))
  }
  return output.join('')
}

function fromByteArray (uint8) {
  var tmp
  var len = uint8.length
  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes
  var parts = []
  var maxChunkLength = 16383 // must be multiple of 3

  // go through the array every three bytes, we'll deal with trailing stuff later
  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {
    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))
  }

  // pad the end with zeros, but make sure to not forget the extra bytes
  if (extraBytes === 1) {
    tmp = uint8[len - 1]
    parts.push(
      lookup[tmp >> 2] +
      lookup[(tmp << 4) & 0x3F] +
      '=='
    )
  } else if (extraBytes === 2) {
    tmp = (uint8[len - 2] << 8) + uint8[len - 1]
    parts.push(
      lookup[tmp >> 10] +
      lookup[(tmp >> 4) & 0x3F] +
      lookup[(tmp << 2) & 0x3F] +
      '='
    )
  }

  return parts.join('')
}


/***/ }),

/***/ "./node_modules/buffer/index.js":
/*!**************************************!*\
  !*** ./node_modules/buffer/index.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
var __webpack_unused_export__;
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */



const base64 = __webpack_require__(/*! base64-js */ "./node_modules/base64-js/index.js")
const ieee754 = __webpack_require__(/*! ieee754 */ "./node_modules/ieee754/index.js")
const customInspectSymbol =
  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation
    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation
    : null

exports.Buffer = Buffer
__webpack_unused_export__ = SlowBuffer
exports.INSPECT_MAX_BYTES = 50

const K_MAX_LENGTH = 0x7fffffff
__webpack_unused_export__ = K_MAX_LENGTH

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Print warning and recommend using `buffer` v4.x which has an Object
 *               implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * We report that the browser does not support typed arrays if the are not subclassable
 * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`
 * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support
 * for __proto__ and has a buggy typed array implementation.
 */
Buffer.TYPED_ARRAY_SUPPORT = typedArraySupport()

if (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&
    typeof console.error === 'function') {
  console.error(
    'This browser lacks typed array (Uint8Array) support which is required by ' +
    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'
  )
}

function typedArraySupport () {
  // Can typed array instances can be augmented?
  try {
    const arr = new Uint8Array(1)
    const proto = { foo: function () { return 42 } }
    Object.setPrototypeOf(proto, Uint8Array.prototype)
    Object.setPrototypeOf(arr, proto)
    return arr.foo() === 42
  } catch (e) {
    return false
  }
}

Object.defineProperty(Buffer.prototype, 'parent', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.buffer
  }
})

Object.defineProperty(Buffer.prototype, 'offset', {
  enumerable: true,
  get: function () {
    if (!Buffer.isBuffer(this)) return undefined
    return this.byteOffset
  }
})

function createBuffer (length) {
  if (length > K_MAX_LENGTH) {
    throw new RangeError('The value "' + length + '" is invalid for option "size"')
  }
  // Return an augmented `Uint8Array` instance
  const buf = new Uint8Array(length)
  Object.setPrototypeOf(buf, Buffer.prototype)
  return buf
}

/**
 * The Buffer constructor returns instances of `Uint8Array` that have their
 * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of
 * `Uint8Array`, so the returned instances will have all the node `Buffer` methods
 * and the `Uint8Array` methods. Square bracket notation works as expected -- it
 * returns a single octet.
 *
 * The `Uint8Array` prototype remains unmodified.
 */

function Buffer (arg, encodingOrOffset, length) {
  // Common case.
  if (typeof arg === 'number') {
    if (typeof encodingOrOffset === 'string') {
      throw new TypeError(
        'The "string" argument must be of type string. Received type number'
      )
    }
    return allocUnsafe(arg)
  }
  return from(arg, encodingOrOffset, length)
}

Buffer.poolSize = 8192 // not used by this implementation

function from (value, encodingOrOffset, length) {
  if (typeof value === 'string') {
    return fromString(value, encodingOrOffset)
  }

  if (ArrayBuffer.isView(value)) {
    return fromArrayView(value)
  }

  if (value == null) {
    throw new TypeError(
      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
      'or Array-like Object. Received type ' + (typeof value)
    )
  }

  if (isInstance(value, ArrayBuffer) ||
      (value && isInstance(value.buffer, ArrayBuffer))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof SharedArrayBuffer !== 'undefined' &&
      (isInstance(value, SharedArrayBuffer) ||
      (value && isInstance(value.buffer, SharedArrayBuffer)))) {
    return fromArrayBuffer(value, encodingOrOffset, length)
  }

  if (typeof value === 'number') {
    throw new TypeError(
      'The "value" argument must not be of type number. Received type number'
    )
  }

  const valueOf = value.valueOf && value.valueOf()
  if (valueOf != null && valueOf !== value) {
    return Buffer.from(valueOf, encodingOrOffset, length)
  }

  const b = fromObject(value)
  if (b) return b

  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&
      typeof value[Symbol.toPrimitive] === 'function') {
    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)
  }

  throw new TypeError(
    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +
    'or Array-like Object. Received type ' + (typeof value)
  )
}

/**
 * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError
 * if value is a number.
 * Buffer.from(str[, encoding])
 * Buffer.from(array)
 * Buffer.from(buffer)
 * Buffer.from(arrayBuffer[, byteOffset[, length]])
 **/
Buffer.from = function (value, encodingOrOffset, length) {
  return from(value, encodingOrOffset, length)
}

// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:
// https://github.com/feross/buffer/pull/148
Object.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)
Object.setPrototypeOf(Buffer, Uint8Array)

function assertSize (size) {
  if (typeof size !== 'number') {
    throw new TypeError('"size" argument must be of type number')
  } else if (size < 0) {
    throw new RangeError('The value "' + size + '" is invalid for option "size"')
  }
}

function alloc (size, fill, encoding) {
  assertSize(size)
  if (size <= 0) {
    return createBuffer(size)
  }
  if (fill !== undefined) {
    // Only pay attention to encoding if it's a string. This
    // prevents accidentally sending in a number that would
    // be interpreted as a start offset.
    return typeof encoding === 'string'
      ? createBuffer(size).fill(fill, encoding)
      : createBuffer(size).fill(fill)
  }
  return createBuffer(size)
}

/**
 * Creates a new filled Buffer instance.
 * alloc(size[, fill[, encoding]])
 **/
Buffer.alloc = function (size, fill, encoding) {
  return alloc(size, fill, encoding)
}

function allocUnsafe (size) {
  assertSize(size)
  return createBuffer(size < 0 ? 0 : checked(size) | 0)
}

/**
 * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.
 * */
Buffer.allocUnsafe = function (size) {
  return allocUnsafe(size)
}
/**
 * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.
 */
Buffer.allocUnsafeSlow = function (size) {
  return allocUnsafe(size)
}

function fromString (string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') {
    encoding = 'utf8'
  }

  if (!Buffer.isEncoding(encoding)) {
    throw new TypeError('Unknown encoding: ' + encoding)
  }

  const length = byteLength(string, encoding) | 0
  let buf = createBuffer(length)

  const actual = buf.write(string, encoding)

  if (actual !== length) {
    // Writing a hex string, for example, that contains invalid characters will
    // cause everything after the first invalid character to be ignored. (e.g.
    // 'abxxcd' will be treated as 'ab')
    buf = buf.slice(0, actual)
  }

  return buf
}

function fromArrayLike (array) {
  const length = array.length < 0 ? 0 : checked(array.length) | 0
  const buf = createBuffer(length)
  for (let i = 0; i < length; i += 1) {
    buf[i] = array[i] & 255
  }
  return buf
}

function fromArrayView (arrayView) {
  if (isInstance(arrayView, Uint8Array)) {
    const copy = new Uint8Array(arrayView)
    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)
  }
  return fromArrayLike(arrayView)
}

function fromArrayBuffer (array, byteOffset, length) {
  if (byteOffset < 0 || array.byteLength < byteOffset) {
    throw new RangeError('"offset" is outside of buffer bounds')
  }

  if (array.byteLength < byteOffset + (length || 0)) {
    throw new RangeError('"length" is outside of buffer bounds')
  }

  let buf
  if (byteOffset === undefined && length === undefined) {
    buf = new Uint8Array(array)
  } else if (length === undefined) {
    buf = new Uint8Array(array, byteOffset)
  } else {
    buf = new Uint8Array(array, byteOffset, length)
  }

  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(buf, Buffer.prototype)

  return buf
}

function fromObject (obj) {
  if (Buffer.isBuffer(obj)) {
    const len = checked(obj.length) | 0
    const buf = createBuffer(len)

    if (buf.length === 0) {
      return buf
    }

    obj.copy(buf, 0, 0, len)
    return buf
  }

  if (obj.length !== undefined) {
    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {
      return createBuffer(0)
    }
    return fromArrayLike(obj)
  }

  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {
    return fromArrayLike(obj.data)
  }
}

function checked (length) {
  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= K_MAX_LENGTH) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (length) {
  if (+length != length) { // eslint-disable-line eqeqeq
    length = 0
  }
  return Buffer.alloc(+length)
}

Buffer.isBuffer = function isBuffer (b) {
  return b != null && b._isBuffer === true &&
    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false
}

Buffer.compare = function compare (a, b) {
  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)
  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError(
      'The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array'
    )
  }

  if (a === b) return 0

  let x = a.length
  let y = b.length

  for (let i = 0, len = Math.min(x, y); i < len; ++i) {
    if (a[i] !== b[i]) {
      x = a[i]
      y = b[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'latin1':
    case 'binary':
    case 'base64':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!Array.isArray(list)) {
    throw new TypeError('"list" argument must be an Array of Buffers')
  }

  if (list.length === 0) {
    return Buffer.alloc(0)
  }

  let i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; ++i) {
      length += list[i].length
    }
  }

  const buffer = Buffer.allocUnsafe(length)
  let pos = 0
  for (i = 0; i < list.length; ++i) {
    let buf = list[i]
    if (isInstance(buf, Uint8Array)) {
      if (pos + buf.length > buffer.length) {
        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)
        buf.copy(buffer, pos)
      } else {
        Uint8Array.prototype.set.call(
          buffer,
          buf,
          pos
        )
      }
    } else if (!Buffer.isBuffer(buf)) {
      throw new TypeError('"list" argument must be an Array of Buffers')
    } else {
      buf.copy(buffer, pos)
    }
    pos += buf.length
  }
  return buffer
}

function byteLength (string, encoding) {
  if (Buffer.isBuffer(string)) {
    return string.length
  }
  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {
    return string.byteLength
  }
  if (typeof string !== 'string') {
    throw new TypeError(
      'The "string" argument must be one of type string, Buffer, or ArrayBuffer. ' +
      'Received type ' + typeof string
    )
  }

  const len = string.length
  const mustMatch = (arguments.length > 2 && arguments[2] === true)
  if (!mustMatch && len === 0) return 0

  // Use a for loop to avoid recursion
  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'latin1':
      case 'binary':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) {
          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8
        }
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

function slowToString (encoding, start, end) {
  let loweredCase = false

  // No need to verify that "this.length <= MAX_UINT32" since it's a read-only
  // property of a typed array.

  // This behaves neither like String nor Uint8Array in that we set start/end
  // to their upper/lower bounds if the value passed is out of range.
  // undefined is handled specially as per ECMA-262 6th Edition,
  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.
  if (start === undefined || start < 0) {
    start = 0
  }
  // Return early if start > this.length. Done here to prevent potential uint32
  // coercion fail below.
  if (start > this.length) {
    return ''
  }

  if (end === undefined || end > this.length) {
    end = this.length
  }

  if (end <= 0) {
    return ''
  }

  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.
  end >>>= 0
  start >>>= 0

  if (end <= start) {
    return ''
  }

  if (!encoding) encoding = 'utf8'

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'latin1':
      case 'binary':
        return latin1Slice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)
// to detect a Buffer instance. It's not possible to use `instanceof Buffer`
// reliably in a browserify context because there could be multiple different
// copies of the 'buffer' package in use. This method works even for Buffer
// instances that were created from another copy of the `buffer` package.
// See: https://github.com/feross/buffer/issues/154
Buffer.prototype._isBuffer = true

function swap (b, n, m) {
  const i = b[n]
  b[n] = b[m]
  b[m] = i
}

Buffer.prototype.swap16 = function swap16 () {
  const len = this.length
  if (len % 2 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 16-bits')
  }
  for (let i = 0; i < len; i += 2) {
    swap(this, i, i + 1)
  }
  return this
}

Buffer.prototype.swap32 = function swap32 () {
  const len = this.length
  if (len % 4 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 32-bits')
  }
  for (let i = 0; i < len; i += 4) {
    swap(this, i, i + 3)
    swap(this, i + 1, i + 2)
  }
  return this
}

Buffer.prototype.swap64 = function swap64 () {
  const len = this.length
  if (len % 8 !== 0) {
    throw new RangeError('Buffer size must be a multiple of 64-bits')
  }
  for (let i = 0; i < len; i += 8) {
    swap(this, i, i + 7)
    swap(this, i + 1, i + 6)
    swap(this, i + 2, i + 5)
    swap(this, i + 3, i + 4)
  }
  return this
}

Buffer.prototype.toString = function toString () {
  const length = this.length
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.toLocaleString = Buffer.prototype.toString

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  let str = ''
  const max = exports.INSPECT_MAX_BYTES
  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()
  if (this.length > max) str += ' ... '
  return '<Buffer ' + str + '>'
}
if (customInspectSymbol) {
  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect
}

Buffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {
  if (isInstance(target, Uint8Array)) {
    target = Buffer.from(target, target.offset, target.byteLength)
  }
  if (!Buffer.isBuffer(target)) {
    throw new TypeError(
      'The "target" argument must be one of type Buffer or Uint8Array. ' +
      'Received type ' + (typeof target)
    )
  }

  if (start === undefined) {
    start = 0
  }
  if (end === undefined) {
    end = target ? target.length : 0
  }
  if (thisStart === undefined) {
    thisStart = 0
  }
  if (thisEnd === undefined) {
    thisEnd = this.length
  }

  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {
    throw new RangeError('out of range index')
  }

  if (thisStart >= thisEnd && start >= end) {
    return 0
  }
  if (thisStart >= thisEnd) {
    return -1
  }
  if (start >= end) {
    return 1
  }

  start >>>= 0
  end >>>= 0
  thisStart >>>= 0
  thisEnd >>>= 0

  if (this === target) return 0

  let x = thisEnd - thisStart
  let y = end - start
  const len = Math.min(x, y)

  const thisCopy = this.slice(thisStart, thisEnd)
  const targetCopy = target.slice(start, end)

  for (let i = 0; i < len; ++i) {
    if (thisCopy[i] !== targetCopy[i]) {
      x = thisCopy[i]
      y = targetCopy[i]
      break
    }
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,
// OR the last index of `val` in `buffer` at offset <= `byteOffset`.
//
// Arguments:
// - buffer - a Buffer to search
// - val - a string, Buffer, or number
// - byteOffset - an index into `buffer`; will be clamped to an int32
// - encoding - an optional encoding, relevant is val is a string
// - dir - true for indexOf, false for lastIndexOf
function bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {
  // Empty buffer means no match
  if (buffer.length === 0) return -1

  // Normalize byteOffset
  if (typeof byteOffset === 'string') {
    encoding = byteOffset
    byteOffset = 0
  } else if (byteOffset > 0x7fffffff) {
    byteOffset = 0x7fffffff
  } else if (byteOffset < -0x80000000) {
    byteOffset = -0x80000000
  }
  byteOffset = +byteOffset // Coerce to Number.
  if (numberIsNaN(byteOffset)) {
    // byteOffset: it it's undefined, null, NaN, "foo", etc, search whole buffer
    byteOffset = dir ? 0 : (buffer.length - 1)
  }

  // Normalize byteOffset: negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = buffer.length + byteOffset
  if (byteOffset >= buffer.length) {
    if (dir) return -1
    else byteOffset = buffer.length - 1
  } else if (byteOffset < 0) {
    if (dir) byteOffset = 0
    else return -1
  }

  // Normalize val
  if (typeof val === 'string') {
    val = Buffer.from(val, encoding)
  }

  // Finally, search either indexOf (if dir is true) or lastIndexOf
  if (Buffer.isBuffer(val)) {
    // Special case: looking for empty string/buffer always fails
    if (val.length === 0) {
      return -1
    }
    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)
  } else if (typeof val === 'number') {
    val = val & 0xFF // Search for a byte value [0-255]
    if (typeof Uint8Array.prototype.indexOf === 'function') {
      if (dir) {
        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)
      } else {
        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)
      }
    }
    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)
  }

  throw new TypeError('val must be string, number or Buffer')
}

function arrayIndexOf (arr, val, byteOffset, encoding, dir) {
  let indexSize = 1
  let arrLength = arr.length
  let valLength = val.length

  if (encoding !== undefined) {
    encoding = String(encoding).toLowerCase()
    if (encoding === 'ucs2' || encoding === 'ucs-2' ||
        encoding === 'utf16le' || encoding === 'utf-16le') {
      if (arr.length < 2 || val.length < 2) {
        return -1
      }
      indexSize = 2
      arrLength /= 2
      valLength /= 2
      byteOffset /= 2
    }
  }

  function read (buf, i) {
    if (indexSize === 1) {
      return buf[i]
    } else {
      return buf.readUInt16BE(i * indexSize)
    }
  }

  let i
  if (dir) {
    let foundIndex = -1
    for (i = byteOffset; i < arrLength; i++) {
      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize
      } else {
        if (foundIndex !== -1) i -= i - foundIndex
        foundIndex = -1
      }
    }
  } else {
    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength
    for (i = byteOffset; i >= 0; i--) {
      let found = true
      for (let j = 0; j < valLength; j++) {
        if (read(arr, i + j) !== read(val, j)) {
          found = false
          break
        }
      }
      if (found) return i
    }
  }

  return -1
}

Buffer.prototype.includes = function includes (val, byteOffset, encoding) {
  return this.indexOf(val, byteOffset, encoding) !== -1
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)
}

Buffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {
  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  const remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  const strLen = string.length

  if (length > strLen / 2) {
    length = strLen / 2
  }
  let i
  for (i = 0; i < length; ++i) {
    const parsed = parseInt(string.substr(i * 2, 2), 16)
    if (numberIsNaN(parsed)) return i
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset >>> 0
    if (isFinite(length)) {
      length = length >>> 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  } else {
    throw new Error(
      'Buffer.write(string, encoding, offset[, length]) is no longer supported'
    )
  }

  const remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('Attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  let loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
      case 'latin1':
      case 'binary':
        return asciiWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  const res = []

  let i = start
  while (i < end) {
    const firstByte = buf[i]
    let codePoint = null
    let bytesPerSequence = (firstByte > 0xEF)
      ? 4
      : (firstByte > 0xDF)
          ? 3
          : (firstByte > 0xBF)
              ? 2
              : 1

    if (i + bytesPerSequence <= end) {
      let secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
const MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  const len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  let res = ''
  let i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function latin1Slice (buf, start, end) {
  let ret = ''
  end = Math.min(buf.length, end)

  for (let i = start; i < end; ++i) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  const len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  let out = ''
  for (let i = start; i < end; ++i) {
    out += hexSliceLookupTable[buf[i]]
  }
  return out
}

function utf16leSlice (buf, start, end) {
  const bytes = buf.slice(start, end)
  let res = ''
  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)
  for (let i = 0; i < bytes.length - 1; i += 2) {
    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  const len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  const newBuf = this.subarray(start, end)
  // Return an augmented `Uint8Array` instance
  Object.setPrototypeOf(newBuf, Buffer.prototype)

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUintLE =
Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUintBE =
Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  let val = this[offset + --byteLength]
  let mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUint8 =
Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUint16LE =
Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUint16BE =
Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUint32LE =
Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUint32BE =
Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const lo = first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24

  const hi = this[++offset] +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    last * 2 ** 24

  return BigInt(lo) + (BigInt(hi) << BigInt(32))
})

Buffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const hi = first * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  const lo = this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last

  return (BigInt(hi) << BigInt(32)) + BigInt(lo)
})

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let val = this[offset]
  let mul = 1
  let i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  let i = byteLength
  let mul = 1
  let val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 2, this.length)
  const val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = this[offset + 4] +
    this[offset + 5] * 2 ** 8 +
    this[offset + 6] * 2 ** 16 +
    (last << 24) // Overflow

  return (BigInt(val) << BigInt(32)) +
    BigInt(first +
    this[++offset] * 2 ** 8 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 24)
})

Buffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {
  offset = offset >>> 0
  validateNumber(offset, 'offset')
  const first = this[offset]
  const last = this[offset + 7]
  if (first === undefined || last === undefined) {
    boundsError(offset, this.length - 8)
  }

  const val = (first << 24) + // Overflow
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    this[++offset]

  return (BigInt(val) << BigInt(32)) +
    BigInt(this[++offset] * 2 ** 24 +
    this[++offset] * 2 ** 16 +
    this[++offset] * 2 ** 8 +
    last)
})

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  offset = offset >>> 0
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('"buffer" argument must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('"value" argument is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
}

Buffer.prototype.writeUintLE =
Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let mul = 1
  let i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUintBE =
Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  byteLength = byteLength >>> 0
  if (!noAssert) {
    const maxBytes = Math.pow(2, 8 * byteLength) - 1
    checkInt(this, value, offset, byteLength, maxBytes, 0)
  }

  let i = byteLength - 1
  let mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUint8 =
Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeUint16LE =
Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeUint16BE =
Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeUint32LE =
Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset + 3] = (value >>> 24)
  this[offset + 2] = (value >>> 16)
  this[offset + 1] = (value >>> 8)
  this[offset] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeUint32BE =
Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

function wrtBigUInt64LE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  lo = lo >> 8
  buf[offset++] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  hi = hi >> 8
  buf[offset++] = hi
  return offset
}

function wrtBigUInt64BE (buf, value, offset, min, max) {
  checkIntBI(value, min, max, buf, offset, 7)

  let lo = Number(value & BigInt(0xffffffff))
  buf[offset + 7] = lo
  lo = lo >> 8
  buf[offset + 6] = lo
  lo = lo >> 8
  buf[offset + 5] = lo
  lo = lo >> 8
  buf[offset + 4] = lo
  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))
  buf[offset + 3] = hi
  hi = hi >> 8
  buf[offset + 2] = hi
  hi = hi >> 8
  buf[offset + 1] = hi
  hi = hi >> 8
  buf[offset] = hi
  return offset + 8
}

Buffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))
})

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = 0
  let mul = 1
  let sub = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    const limit = Math.pow(2, (8 * byteLength) - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  let i = byteLength - 1
  let mul = 1
  let sub = 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {
      sub = 1
    }
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  this[offset] = (value >>> 8)
  this[offset + 1] = (value & 0xff)
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  this[offset] = (value & 0xff)
  this[offset + 1] = (value >>> 8)
  this[offset + 2] = (value >>> 16)
  this[offset + 3] = (value >>> 24)
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  this[offset] = (value >>> 24)
  this[offset + 1] = (value >>> 16)
  this[offset + 2] = (value >>> 8)
  this[offset + 3] = (value & 0xff)
  return offset + 4
}

Buffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {
  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

Buffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {
  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))
})

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (offset + ext > buf.length) throw new RangeError('Index out of range')
  if (offset < 0) throw new RangeError('Index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  value = +value
  offset = offset >>> 0
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  const len = end - start

  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {
    // Use built-in when available, missing from IE11
    this.copyWithin(targetStart, start, end)
  } else {
    Uint8Array.prototype.set.call(
      target,
      this.subarray(start, end),
      targetStart
    )
  }

  return len
}

// Usage:
//    buffer.fill(number[, offset[, end]])
//    buffer.fill(buffer[, offset[, end]])
//    buffer.fill(string[, offset[, end]][, encoding])
Buffer.prototype.fill = function fill (val, start, end, encoding) {
  // Handle string cases:
  if (typeof val === 'string') {
    if (typeof start === 'string') {
      encoding = start
      start = 0
      end = this.length
    } else if (typeof end === 'string') {
      encoding = end
      end = this.length
    }
    if (encoding !== undefined && typeof encoding !== 'string') {
      throw new TypeError('encoding must be a string')
    }
    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {
      throw new TypeError('Unknown encoding: ' + encoding)
    }
    if (val.length === 1) {
      const code = val.charCodeAt(0)
      if ((encoding === 'utf8' && code < 128) ||
          encoding === 'latin1') {
        // Fast path: If `val` fits into a single byte, use that numeric value.
        val = code
      }
    }
  } else if (typeof val === 'number') {
    val = val & 255
  } else if (typeof val === 'boolean') {
    val = Number(val)
  }

  // Invalid ranges are not set to a default, so can range check early.
  if (start < 0 || this.length < start || this.length < end) {
    throw new RangeError('Out of range index')
  }

  if (end <= start) {
    return this
  }

  start = start >>> 0
  end = end === undefined ? this.length : end >>> 0

  if (!val) val = 0

  let i
  if (typeof val === 'number') {
    for (i = start; i < end; ++i) {
      this[i] = val
    }
  } else {
    const bytes = Buffer.isBuffer(val)
      ? val
      : Buffer.from(val, encoding)
    const len = bytes.length
    if (len === 0) {
      throw new TypeError('The value "' + val +
        '" is invalid for argument "value"')
    }
    for (i = 0; i < end - start; ++i) {
      this[i + start] = bytes[i % len]
    }
  }

  return this
}

// CUSTOM ERRORS
// =============

// Simplified versions from Node, changed for Buffer-only usage
const errors = {}
function E (sym, getMessage, Base) {
  errors[sym] = class NodeError extends Base {
    constructor () {
      super()

      Object.defineProperty(this, 'message', {
        value: getMessage.apply(this, arguments),
        writable: true,
        configurable: true
      })

      // Add the error code to the name to include it in the stack trace.
      this.name = `${this.name} [${sym}]`
      // Access the stack to generate the error message including the error code
      // from the name.
      this.stack // eslint-disable-line no-unused-expressions
      // Reset the name to the actual name.
      delete this.name
    }

    get code () {
      return sym
    }

    set code (value) {
      Object.defineProperty(this, 'code', {
        configurable: true,
        enumerable: true,
        value,
        writable: true
      })
    }

    toString () {
      return `${this.name} [${sym}]: ${this.message}`
    }
  }
}

E('ERR_BUFFER_OUT_OF_BOUNDS',
  function (name) {
    if (name) {
      return `${name} is outside of buffer bounds`
    }

    return 'Attempt to access memory outside buffer bounds'
  }, RangeError)
E('ERR_INVALID_ARG_TYPE',
  function (name, actual) {
    return `The "${name}" argument must be of type number. Received type ${typeof actual}`
  }, TypeError)
E('ERR_OUT_OF_RANGE',
  function (str, range, input) {
    let msg = `The value of "${str}" is out of range.`
    let received = input
    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {
      received = addNumericalSeparator(String(input))
    } else if (typeof input === 'bigint') {
      received = String(input)
      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {
        received = addNumericalSeparator(received)
      }
      received += 'n'
    }
    msg += ` It must be ${range}. Received ${received}`
    return msg
  }, RangeError)

function addNumericalSeparator (val) {
  let res = ''
  let i = val.length
  const start = val[0] === '-' ? 1 : 0
  for (; i >= start + 4; i -= 3) {
    res = `_${val.slice(i - 3, i)}${res}`
  }
  return `${val.slice(0, i)}${res}`
}

// CHECK FUNCTIONS
// ===============

function checkBounds (buf, offset, byteLength) {
  validateNumber(offset, 'offset')
  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {
    boundsError(offset, buf.length - (byteLength + 1))
  }
}

function checkIntBI (value, min, max, buf, offset, byteLength) {
  if (value > max || value < min) {
    const n = typeof min === 'bigint' ? 'n' : ''
    let range
    if (byteLength > 3) {
      if (min === 0 || min === BigInt(0)) {
        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`
      } else {
        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +
                `${(byteLength + 1) * 8 - 1}${n}`
      }
    } else {
      range = `>= ${min}${n} and <= ${max}${n}`
    }
    throw new errors.ERR_OUT_OF_RANGE('value', range, value)
  }
  checkBounds(buf, offset, byteLength)
}

function validateNumber (value, name) {
  if (typeof value !== 'number') {
    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)
  }
}

function boundsError (value, length, type) {
  if (Math.floor(value) !== value) {
    validateNumber(value, type)
    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)
  }

  if (length < 0) {
    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()
  }

  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',
                                    `>= ${type ? 1 : 0} and <= ${length}`,
                                    value)
}

// HELPER FUNCTIONS
// ================

const INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node takes equal signs as end of the Base64 encoding
  str = str.split('=')[0]
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = str.trim().replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  let codePoint
  const length = string.length
  let leadSurrogate = null
  const bytes = []

  for (let i = 0; i < length; ++i) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  let c, hi, lo
  const byteArray = []
  for (let i = 0; i < str.length; ++i) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  let i
  for (i = 0; i < length; ++i) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass
// the `instanceof` check but they should be treated as of that type.
// See: https://github.com/feross/buffer/issues/166
function isInstance (obj, type) {
  return obj instanceof type ||
    (obj != null && obj.constructor != null && obj.constructor.name != null &&
      obj.constructor.name === type.name)
}
function numberIsNaN (obj) {
  // For IE11 support
  return obj !== obj // eslint-disable-line no-self-compare
}

// Create lookup table for `toString('hex')`
// See: https://github.com/feross/buffer/issues/219
const hexSliceLookupTable = (function () {
  const alphabet = '0123456789abcdef'
  const table = new Array(256)
  for (let i = 0; i < 16; ++i) {
    const i16 = i * 16
    for (let j = 0; j < 16; ++j) {
      table[i16 + j] = alphabet[i] + alphabet[j]
    }
  }
  return table
})()

// Return not function with Error if BigInt not supported
function defineBigIntMethod (fn) {
  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn
}

function BufferBigIntNotDefined () {
  throw new Error('BigInt not supported')
}


/***/ }),

/***/ "./node_modules/capacitor-native-settings/dist/esm/definitions.js":
/*!************************************************************************!*\
  !*** ./node_modules/capacitor-native-settings/dist/esm/definitions.js ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AndroidSettings: () => (/* binding */ AndroidSettings),
/* harmony export */   IOSSettings: () => (/* binding */ IOSSettings)
/* harmony export */ });
var AndroidSettings;
(function (AndroidSettings) {
    /**
     * Show settings for accessibility modules
     */
    AndroidSettings["Accessibility"] = "accessibility";
    /**
     * Show add account screen for creating a new account
     */
    AndroidSettings["Account"] = "account";
    /**
     * Show settings to allow entering/exiting airplane mode
     */
    AndroidSettings["AirplaneMode"] = "airplane_mode";
    /**
     * Show settings to allow configuration of APNs
     */
    AndroidSettings["Apn"] = "apn";
    /**
     * Show screen of details about a particular application
     */
    AndroidSettings["ApplicationDetails"] = "application_details";
    /**
     * Show settings to allow configuration of application development-related settings
     */
    AndroidSettings["ApplicationDevelopment"] = "application_development";
    /**
     * Show settings to allow configuration of application-related settings
     */
    AndroidSettings["Application"] = "application";
    /**
     * Show settings to allow configuration of application-specific notifications
     */
    AndroidSettings["AppNotification"] = "app_notification";
    /**
     * Show screen for controlling which apps can ignore battery optimizations
     */
    AndroidSettings["BatteryOptimization"] = "battery_optimization";
    /**
     * Show settings to allow configuration of Bluetooth
     */
    AndroidSettings["Bluetooth"] = "bluetooth";
    /**
     * Show settings for video captioning
     */
    AndroidSettings["Captioning"] = "captioning";
    /**
     * Show settings to allow configuration of cast endpoints
     */
    AndroidSettings["Cast"] = "cast";
    /**
     * Show settings for selection of 2G/3G/4G
     */
    AndroidSettings["DataRoaming"] = "data_roaming";
    /**
     * Show settings to allow configuration of date and time
     */
    AndroidSettings["Date"] = "date";
    /**
     * Show settings to allow configuration of display
     */
    AndroidSettings["Display"] = "display";
    /**
     * Show Daydream settings
     */
    AndroidSettings["Dream"] = "dream";
    /**
     * Show Home selection settings
     */
    AndroidSettings["Home"] = "home";
    /**
     *    Show settings to configure input methods, in particular allowing the user to enable input methods
     */
    AndroidSettings["Keyboard"] = "keyboard";
    /**
     * Show settings to enable/disable input method subtypes
     */
    AndroidSettings["KeyboardSubType"] = "keyboard_subtype";
    /**
     * Show settings to allow configuration of locale
     */
    AndroidSettings["Locale"] = "locale";
    /**
     * Show settings to allow configuration of current location sources
     */
    AndroidSettings["Location"] = "location";
    /**
     *    Show settings to manage installed applications
     */
    AndroidSettings["ManageApplications"] = "manage_applications";
    /**
     * Show settings to manage all applications
     */
    AndroidSettings["ManageAllApplications"] = "manage_all_applications";
    /**
     * Show settings for memory card storage
     */
    AndroidSettings["MemoryCard"] = "memory_card";
    /**
     * Show settings for selecting the network operator
     */
    AndroidSettings["Network"] = "network";
    /**
     * Show NFC Sharing settings
     */
    AndroidSettings["NfcSharing"] = "nfcsharing";
    /**
     * Show NFC Tap & Pay settings
     */
    AndroidSettings["NfcPayment"] = "nfc_payment";
    /**
     * Show NFC settings
     */
    AndroidSettings["NfcSettings"] = "nfc_settings";
    /**
     * Show the top level print settings
     */
    AndroidSettings["Print"] = "print";
    /**
     * Show settings to allow configuration of privacy options
     */
    AndroidSettings["Privacy"] = "privacy";
    /**
     * Show settings to allow configuration of quick launch shortcuts
     */
    AndroidSettings["QuickLaunch"] = "quick_launch";
    /**
     * Show settings for global search
     */
    AndroidSettings["Search"] = "search";
    /**
     * Show settings to allow configuration of security and location privacy
     */
    AndroidSettings["Security"] = "security";
    /**
     * Show system settings
     */
    AndroidSettings["Settings"] = "settings";
    /**
     * Show the regulatory information screen for the device
     */
    AndroidSettings["ShowRegulatoryInfo"] = "show_regulatory_info";
    /**
     * Show settings to a llow configuration of sound and volume
     */
    AndroidSettings["Sound"] = "sound";
    /**
     * Show settings for internal storage
     */
    AndroidSettings["Storage"] = "storage";
    /**
     * Show settings to allow configuration of sync settings
     */
    AndroidSettings["Sync"] = "sync";
    /**
     * Show settings to control access to usage information
     */
    AndroidSettings["Usage"] = "usage";
    /**
     * Show settings to manage the user input dictionary
     */
    AndroidSettings["UserDictionary"] = "user_dictionary";
    /**
     * Show settings to configure input methods, in particular allowing the user to enable input methods
     */
    AndroidSettings["VoiceInput"] = "voice_input";
    /**
     * Show settings to allow configuration of Wi-Fi
     */
    AndroidSettings["Wifi"] = "wifi";
    /**
     * Show settings to allow configuration of a static IP address for Wi-Fi
     */
    AndroidSettings["WifiIp"] = "wifi_ip";
    /**
     * Show settings to allow configuration of wireless controls such as Wi-Fi, Bluetooth and Mobile networks
     */
    AndroidSettings["Wireless"] = "wireless";
})(AndroidSettings || (AndroidSettings = {}));
var IOSSettings;
(function (IOSSettings) {
    /**
     * Settings > About page
     */
    IOSSettings["About"] = "about";
    /**
     * Opens your app-specific settings screen. Note that this is the only officially supported settings screen by Apple.
     */
    IOSSettings["App"] = "app";
    /**
     * Used to set if and when the screen should be automatically locked.
     */
    IOSSettings["AutoLock"] = "autoLock";
    /**
     * Bluetooth settings. Allows the users to enable/disable bluetooth and to search for devices.
     */
    IOSSettings["Bluetooth"] = "bluetooth";
    /**
     * Date and time settings.
     */
    IOSSettings["DateTime"] = "dateTime";
    /**
     * FaceTime settings.
     */
    IOSSettings["FaceTime"] = "facetime";
    /**
     * Opens iOS general settings screen.
     */
    IOSSettings["General"] = "general";
    /**
     * Keyboard settings.
     */
    IOSSettings["Keyboard"] = "keyboard";
    /**
     * iCloud settings.
     */
    IOSSettings["ICloud"] = "iCloud";
    /**
     * iCloud Storage and Backup settings.
     */
    IOSSettings["ICloudStorageBackup"] = "iCloudStorageBackup";
    /**
     * Language and region settings.
     */
    IOSSettings["International"] = "international";
    /**
     * Show settings to allow configuration of current location sources
     */
    IOSSettings["LocationServices"] = "locationServices";
    /**
     * Music settings.
     */
    IOSSettings["Music"] = "music";
    /**
     * Notes settings.
     */
    IOSSettings["Notes"] = "notes";
    /**
     * Notifications settings.
     */
    IOSSettings["Notifications"] = "notifications";
    /**
     * Phone settings.
     */
    IOSSettings["Phone"] = "phone";
    /**
     * Photos settings.
     */
    IOSSettings["Photos"] = "photos";
    /**
     * Allows the user to manage configuration profiles that are installed on the phone.
     */
    IOSSettings["ManagedConfigurationList"] = "managedConfigurationList";
    /**
     * Screen where the user can reset the phone to factory settings.
     */
    IOSSettings["Reset"] = "reset";
    /**
     * Ringtone settings.
     */
    IOSSettings["Ringtone"] = "ringtone";
    /**
     * Used to set phone volume, vibration settings, etc.
     */
    IOSSettings["Sounds"] = "sounds";
    /**
     * Software update screen.
     */
    IOSSettings["SoftwareUpdate"] = "softwareUpdate";
    /**
     * Store settings.
     */
    IOSSettings["Store"] = "store";
    /**
     * Tracking settings.
     */
    IOSSettings["Tracking"] = "tracking";
    /**
     * Wallpaper settings.
     */
    IOSSettings["Wallpaper"] = "wallpaper";
    /**
     * WiFi settings.
     */
    IOSSettings["WiFi"] = "wifi";
    /**
     * Tethering settings (used to create a hotspot with mobile data).
     */
    IOSSettings["Tethering"] = "tethering";
    /**
     * Do Not Disturb settings.
     */
    IOSSettings["DoNotDisturb"] = "doNotDisturb";
    /**
     * Touch id passcode settings.
     */
    IOSSettings["TouchIdPasscode"] = "touchIdPasscode";
})(IOSSettings || (IOSSettings = {}));
//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/capacitor-native-settings/dist/esm/index.js":
/*!******************************************************************!*\
  !*** ./node_modules/capacitor-native-settings/dist/esm/index.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AndroidSettings: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.AndroidSettings),
/* harmony export */   IOSSettings: () => (/* reexport safe */ _definitions__WEBPACK_IMPORTED_MODULE_1__.IOSSettings),
/* harmony export */   NativeSettings: () => (/* binding */ NativeSettings)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/capacitor-native-settings/dist/esm/definitions.js");

const NativeSettings = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('NativeSettings', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor-native-settings_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/capacitor-native-settings/dist/esm/web.js")).then(m => new m.NativeSettingsWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/capacitor-plugin-safe-area/dist/esm/definitions.js":
/*!*************************************************************************!*\
  !*** ./node_modules/capacitor-plugin-safe-area/dist/esm/definitions.js ***!
  \*************************************************************************/
/***/ (() => {

"use strict";

//# sourceMappingURL=definitions.js.map

/***/ }),

/***/ "./node_modules/capacitor-plugin-safe-area/dist/esm/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/capacitor-plugin-safe-area/dist/esm/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SafeArea: () => (/* binding */ SafeArea)
/* harmony export */ });
/* harmony import */ var _capacitor_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @capacitor/core */ "./node_modules/@capacitor/core/dist/index.js");
/* harmony import */ var _definitions__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./definitions */ "./node_modules/capacitor-plugin-safe-area/dist/esm/definitions.js");

const SafeArea = (0,_capacitor_core__WEBPACK_IMPORTED_MODULE_0__.registerPlugin)('SafeArea', {
    web: () => __webpack_require__.e(/*! import() */ "node_modules_capacitor-plugin-safe-area_dist_esm_web_js").then(__webpack_require__.bind(__webpack_require__, /*! ./web */ "./node_modules/capacitor-plugin-safe-area/dist/esm/web.js")).then(m => new m.SafeAreaWeb()),
});


//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/ieee754/index.js":
/*!***************************************!*\
  !*** ./node_modules/ieee754/index.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports) => {

/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = (nBytes * 8) - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = ((value * c) - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}


/***/ }),

/***/ "./src/components/ui/Transition.scss":
/*!*******************************************!*\
  !*** ./src/components/ui/Transition.scss ***!
  \*******************************************/
/***/ (() => {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/styles/index.scss":
/*!*******************************!*\
  !*** ./src/styles/index.scss ***!
  \*******************************/
/***/ (() => {

"use strict";
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/components/App.module.scss":
/*!****************************************!*\
  !*** ./src/components/App.module.scss ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"App-module__is-ios","isIos":"App-module__is-ios","is-android":"App-module__is-android","isAndroid":"App-module__is-android","containerInner":"App-module__containerInner","appSlide":"App-module__appSlide","appSlideTransparent":"App-module__appSlideTransparent","appSlideContent":"App-module__appSlideContent","transitionContainer":"App-module__transitionContainer","loading":"App-module__loading"});

/***/ }),

/***/ "./src/components/AppInactive.module.scss":
/*!************************************************!*\
  !*** ./src/components/AppInactive.module.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"AppInactive-module__root","content":"AppInactive-module__content","actions":"AppInactive-module__actions","title":"AppInactive-module__title","description":"AppInactive-module__description","img":"AppInactive-module__img","button":"AppInactive-module__button"});

/***/ }),

/***/ "./src/components/addbuy/AddBuyModal.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/addbuy/AddBuyModal.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"AddBuyModal-module__is-ios","isIos":"AddBuyModal-module__is-ios","is-android":"AddBuyModal-module__is-android","isAndroid":"AddBuyModal-module__is-android","actionSheetDialog":"AddBuyModal-module__actionSheetDialog","content":"AddBuyModal-module__content","actionButtons":"AddBuyModal-module__actionButtons","actionButtonStatic":"AddBuyModal-module__actionButtonStatic","actionButton":"AddBuyModal-module__actionButton","cancelButton":"AddBuyModal-module__cancelButton","actionIcon":"AddBuyModal-module__actionIcon","iconChevronRight":"AddBuyModal-module__iconChevronRight"});

/***/ }),

/***/ "./src/components/auth/Auth.module.scss":
/*!**********************************************!*\
  !*** ./src/components/auth/Auth.module.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Auth-module__is-ios","isIos":"Auth-module__is-ios","is-android":"Auth-module__is-android","isAndroid":"Auth-module__is-android","wrapper":"Auth-module__wrapper","transitionContainer":"Auth-module__transitionContainer","transitionSlide":"Auth-module__transitionSlide","container":"Auth-module__container","container_scrollable":"Auth-module__container_scrollable","containerScrollable":"Auth-module__container_scrollable","container_password":"Auth-module__container_password","containerPassword":"Auth-module__container_password","containerFullSize":"Auth-module__containerFullSize","logo":"Auth-module__logo","appName":"Auth-module__appName","title":"Auth-module__title","title_afterSmallSticker":"Auth-module__title_afterSmallSticker","titleAfterSmallSticker":"Auth-module__title_afterSmallSticker","titleSmallMargin":"Auth-module__titleSmallMargin","infoBlock":"Auth-module__infoBlock","text":"Auth-module__text","informationCheckbox":"Auth-module__informationCheckbox","informationCheckboxContent":"Auth-module__informationCheckboxContent","info":"Auth-module__info","info_push":"Auth-module__info_push","infoPush":"Auth-module__info_push","info__space":"Auth-module__info__space","infoSpace":"Auth-module__info__space","infoPull":"Auth-module__infoPull","infoSmallFont":"Auth-module__infoSmallFont","counter":"Auth-module__counter","counterTitle":"Auth-module__counterTitle","counterDigit":"Auth-module__counterDigit","small":"Auth-module__small","sticker":"Auth-module__sticker","stickerAndTitle":"Auth-module__stickerAndTitle","backupNotice":"Auth-module__backupNotice","backupNoticeButtons":"Auth-module__backupNoticeButtons","modalSticker":"Auth-module__modalSticker","form":"Auth-module__form","formWidgets":"Auth-module__formWidgets","checkMnemonicInput":"Auth-module__checkMnemonicInput","passwordForm":"Auth-module__passwordForm","errors":"Auth-module__errors","passwordRules":"Auth-module__passwordRules","passwordRule":"Auth-module__passwordRule","valid":"Auth-module__valid","error":"Auth-module__error","buttons":"Auth-module__buttons","buttons__inner":"Auth-module__buttons__inner","buttonsInner":"Auth-module__buttons__inner","footerButton":"Auth-module__footerButton","btn":"Auth-module__btn","btn_push":"Auth-module__btn_push","btnPush":"Auth-module__btn_push","btn_text":"Auth-module__btn_text","btnText":"Auth-module__btn_text","btn_about":"Auth-module__btn_about","btnAbout":"Auth-module__btn_about","btn_wide":"Auth-module__btn_wide","btnWide":"Auth-module__btn_wide","btn_mini":"Auth-module__btn_mini","btnMini":"Auth-module__btn_mini","btn_single":"Auth-module__btn_single","btnSingle":"Auth-module__btn_single","btnHalfWidth":"Auth-module__btnHalfWidth","modalDialog":"Auth-module__modalDialog","mnemonicContainer":"Auth-module__mnemonicContainer","words":"Auth-module__words","word":"Auth-module__word","privateKey":"Auth-module__privateKey","importingContent":"Auth-module__importingContent","footerError":"Auth-module__footerError","importButtonsBlock":"Auth-module__importButtonsBlock","importText":"Auth-module__importText","importButtons":"Auth-module__importButtons","biometricsStep":"Auth-module__biometricsStep","biometricsError":"Auth-module__biometricsError","stepTransition":"Auth-module__stepTransition","passwordFormContainer":"Auth-module__passwordFormContainer","pinPadHeader":"Auth-module__pinPadHeader","headerBack":"Auth-module__headerBack","iconChevron":"Auth-module__iconChevron","biometricsIcon":"Auth-module__biometricsIcon","biometricsTitle":"Auth-module__biometricsTitle","biometricsSubtitle":"Auth-module__biometricsSubtitle","disclaimerBackupDialog":"Auth-module__disclaimerBackupDialog"});

/***/ }),

/***/ "./src/components/common/Countdown.module.scss":
/*!*****************************************************!*\
  !*** ./src/components/common/Countdown.module.scss ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"time":"Countdown-module__time","timeWarning":"Countdown-module__timeWarning"});

/***/ }),

/***/ "./src/components/common/InputMnemonic.module.scss":
/*!*********************************************************!*\
  !*** ./src/components/common/InputMnemonic.module.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"InputMnemonic-module__wrapper","wrapper_focus":"InputMnemonic-module__wrapper_focus","wrapperFocus":"InputMnemonic-module__wrapper_focus","wrapper_error":"InputMnemonic-module__wrapper_error","wrapperError":"InputMnemonic-module__wrapper_error","input":"InputMnemonic-module__input","label":"InputMnemonic-module__label"});

/***/ }),

/***/ "./src/components/common/SwapResult.module.scss":
/*!******************************************************!*\
  !*** ./src/components/common/SwapResult.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"sticker":"SwapResult-module__sticker","buttons":"SwapResult-module__buttons","button":"SwapResult-module__button","changellyInfoBlock":"SwapResult-module__changellyInfoBlock","changellyDescription":"SwapResult-module__changellyDescription","changellyDescriptionBold":"SwapResult-module__changellyDescriptionBold","changellyTextField":"SwapResult-module__changellyTextField"});

/***/ }),

/***/ "./src/components/common/SwapTokensInfo.module.scss":
/*!**********************************************************!*\
  !*** ./src/components/common/SwapTokensInfo.module.scss ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"infoBlock":"SwapTokensInfo-module__infoBlock","infoRow":"SwapTokensInfo-module__infoRow","infoRowIcon":"SwapTokensInfo-module__infoRowIcon","infoRowToken":"SwapTokensInfo-module__infoRowToken","infoRowText":"SwapTokensInfo-module__infoRowText","infoRowTextCenter":"SwapTokensInfo-module__infoRowTextCenter","infoRowTextRight":"SwapTokensInfo-module__infoRowTextRight","infoRowTitle":"SwapTokensInfo-module__infoRowTitle","infoRowDescription":"SwapTokensInfo-module__infoRowDescription","infoRowAmount":"SwapTokensInfo-module__infoRowAmount","infoRowAmountGreen":"SwapTokensInfo-module__infoRowAmountGreen","infoRowAmountError":"SwapTokensInfo-module__infoRowAmountError","infoRowCurrency":"SwapTokensInfo-module__infoRowCurrency","infoRowCurrencyValue":"SwapTokensInfo-module__infoRowCurrencyValue","infoSeparator":"SwapTokensInfo-module__infoSeparator","infoSeparatorIcon":"SwapTokensInfo-module__infoSeparatorIcon","infoSeparatorIconError":"SwapTokensInfo-module__infoSeparatorIconError"});

/***/ }),

/***/ "./src/components/common/TokenSelector.module.scss":
/*!*********************************************************!*\
  !*** ./src/components/common/TokenSelector.module.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"tokenSelectInputWrapper":"TokenSelector-module__tokenSelectInputWrapper","tokenSelectSearchIcon":"TokenSelector-module__tokenSelectSearchIcon","tokenSelectSearchResetWrapper":"TokenSelector-module__tokenSelectSearchResetWrapper","tokenSelectSearchReset":"TokenSelector-module__tokenSelectSearchReset","tokenSelectSearchResetIcon":"TokenSelector-module__tokenSelectSearchResetIcon","tokenSelectInput":"TokenSelector-module__tokenSelectInput","tokenSelectContent":"TokenSelector-module__tokenSelectContent","tokenGroupContainer":"TokenSelector-module__tokenGroupContainer","tokenGroupHeader":"TokenSelector-module__tokenGroupHeader","tokenGroupTitle":"TokenSelector-module__tokenGroupTitle","tokenGroupAdditionalTitle":"TokenSelector-module__tokenGroupAdditionalTitle","tokenContainer":"TokenSelector-module__tokenContainer","tokenContainerDisabled":"TokenSelector-module__tokenContainerDisabled","tokenLogoContainer":"TokenSelector-module__tokenLogoContainer","logoContainer":"TokenSelector-module__logoContainer","tokenLogo":"TokenSelector-module__tokenLogo","tokenLogoSkeleton":"TokenSelector-module__tokenLogoSkeleton","tokenLogoSymbol":"TokenSelector-module__tokenLogoSymbol","tokenLogoDisabled":"TokenSelector-module__tokenLogoDisabled","tokenNetworkLogo":"TokenSelector-module__tokenNetworkLogo","tokenNetworkLogoSkeleton":"TokenSelector-module__tokenNetworkLogoSkeleton","tokenNetworkLogoDisabled":"TokenSelector-module__tokenNetworkLogoDisabled","nameContainer":"TokenSelector-module__nameContainer","tokenPriceContainer":"TokenSelector-module__tokenPriceContainer","tokenName":"TokenSelector-module__tokenName","tokenAmount":"TokenSelector-module__tokenAmount","tokenNetwork":"TokenSelector-module__tokenNetwork","tokenValue":"TokenSelector-module__tokenValue","tokenNameSkeleton":"TokenSelector-module__tokenNameSkeleton","tokenValueSkeleton":"TokenSelector-module__tokenValueSkeleton","tokenNotFound":"TokenSelector-module__tokenNotFound","tokenNotFoundTitle":"TokenSelector-module__tokenNotFoundTitle","tokenNotFoundDesc":"TokenSelector-module__tokenNotFoundDesc","tokenTextDisabled":"TokenSelector-module__tokenTextDisabled"});

/***/ }),

/***/ "./src/components/common/TransactionAmount.module.scss":
/*!*************************************************************!*\
  !*** ./src/components/common/TransactionAmount.module.scss ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"amount":"TransactionAmount-module__amount","withStatus":"TransactionAmount-module__withStatus","status":"TransactionAmount-module__status","amountSymbol":"TransactionAmount-module__amountSymbol","amountFraction":"TransactionAmount-module__amountFraction","operationPositive":"TransactionAmount-module__operationPositive","operationScam":"TransactionAmount-module__operationScam","balanceChange":"TransactionAmount-module__balanceChange","wrapper":"TransactionAmount-module__wrapper"});

/***/ }),

/***/ "./src/components/common/TransferResult.module.scss":
/*!**********************************************************!*\
  !*** ./src/components/common/TransferResult.module.scss ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"sticker":"TransferResult-module__sticker","balanceChange":"TransferResult-module__balanceChange","amount":"TransferResult-module__amount","amount_purple":"TransferResult-module__amount_purple","amountPurple":"TransferResult-module__amount_purple","amount_green":"TransferResult-module__amount_green","amountGreen":"TransferResult-module__amount_green","amountSymbol":"TransferResult-module__amountSymbol","amountFraction":"TransferResult-module__amountFraction","buttons":"TransferResult-module__buttons","buttonsAfterNft":"TransferResult-module__buttonsAfterNft","button":"TransferResult-module__button"});

/***/ }),

/***/ "./src/components/dapps/Dapp.module.scss":
/*!***********************************************!*\
  !*** ./src/components/dapps/Dapp.module.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"Dapp-module__modalDialog","modalDialogExtraHeight":"Dapp-module__modalDialogExtraHeight","dapp":"Dapp-module__dapp","dapp_first":"Dapp-module__dapp_first","dappFirst":"Dapp-module__dapp_first","dapp_push":"Dapp-module__dapp_push","dappPush":"Dapp-module__dapp_push","dappIcon":"Dapp-module__dappIcon","dappLogo":"Dapp-module__dappLogo","dappLogo_icon":"Dapp-module__dappLogo_icon","dappLogoIcon":"Dapp-module__dappLogo_icon","transactionAccount":"Dapp-module__transactionAccount","dappInfo":"Dapp-module__dappInfo","dappName":"Dapp-module__dappName","dappUrl":"Dapp-module__dappUrl","dappDisconnect":"Dapp-module__dappDisconnect","label":"Dapp-module__label","accounts":"Dapp-module__accounts","accounts_two":"Dapp-module__accounts_two","accountsTwo":"Dapp-module__accounts_two","account":"Dapp-module__account","account_current":"Dapp-module__account_current","accountCurrent":"Dapp-module__account_current","account_disabled":"Dapp-module__account_disabled","accountDisabled":"Dapp-module__account_disabled","account_inactive":"Dapp-module__account_inactive","accountInactive":"Dapp-module__account_inactive","accounts_single":"Dapp-module__accounts_single","accountsSingle":"Dapp-module__accounts_single","accountName":"Dapp-module__accountName","button_current":"Dapp-module__button_current","buttonCurrent":"Dapp-module__button_current","accountFooter":"Dapp-module__accountFooter","accountCurrencyIcon":"Dapp-module__accountCurrencyIcon","iconLedger":"Dapp-module__iconLedger","accountAddress":"Dapp-module__accountAddress","description":"Dapp-module__description","footer":"Dapp-module__footer","buttons":"Dapp-module__buttons","button":"Dapp-module__button","dataField":"Dapp-module__dataField","receivingAddress":"Dapp-module__receivingAddress","payloadField":"Dapp-module__payloadField","payloadField_expanded":"Dapp-module__payloadField_expanded","payloadFieldExpanded":"Dapp-module__payloadField_expanded","payloadFieldExpand":"Dapp-module__payloadFieldExpand","transactionList":"Dapp-module__transactionList","transactionRow":"Dapp-module__transactionRow","transactionRowAmount":"Dapp-module__transactionRowAmount","currencySymbol":"Dapp-module__currencySymbol","transactionRowAddress":"Dapp-module__transactionRowAddress","transactionRowChevron":"Dapp-module__transactionRowChevron","scam":"Dapp-module__scam","scamImage":"Dapp-module__scamImage","transactionDirection":"Dapp-module__transactionDirection","accountTitle":"Dapp-module__accountTitle","accountBalance":"Dapp-module__accountBalance","transactionDapp":"Dapp-module__transactionDapp","sticker":"Dapp-module__sticker","sticker_sizeSmall":"Dapp-module__sticker_sizeSmall","stickerSizeSmall":"Dapp-module__sticker_sizeSmall","descriptionContent":"Dapp-module__descriptionContent","dappInfoSkeleton":"Dapp-module__dappInfoSkeleton","accountWrapperSkeleton":"Dapp-module__accountWrapperSkeleton","dappInfoIconSkeleton":"Dapp-module__dappInfoIconSkeleton","shimmer":"Dapp-module__shimmer","transactionDappIconSkeleton":"Dapp-module__transactionDappIconSkeleton","dappInfoTextSkeleton":"Dapp-module__dappInfoTextSkeleton","nameSkeleton":"Dapp-module__nameSkeleton","descSkeleton":"Dapp-module__descSkeleton","nameDappSkeleton":"Dapp-module__nameDappSkeleton","descDappSkeleton":"Dapp-module__descDappSkeleton","transactionDirectionLeftSkeleton":"Dapp-module__transactionDirectionLeftSkeleton","transactionDirectionRightSkeleton":"Dapp-module__transactionDirectionRightSkeleton","dappInfoDataSkeleton":"Dapp-module__dappInfoDataSkeleton","rowContainerSkeleton":"Dapp-module__rowContainerSkeleton","rowContainerLargeSkeleton":"Dapp-module__rowContainerLargeSkeleton","rowSkeleton":"Dapp-module__rowSkeleton","rowLargeSkeleton":"Dapp-module__rowLargeSkeleton","rowTextSkeleton":"Dapp-module__rowTextSkeleton","rowTextLargeSkeleton":"Dapp-module__rowTextLargeSkeleton","skeletonTransitionWrapper":"Dapp-module__skeletonTransitionWrapper","contentWithBackground":"Dapp-module__contentWithBackground","warningForPayload":"Dapp-module__warningForPayload"});

/***/ }),

/***/ "./src/components/electron/ElectronHeader.module.scss":
/*!************************************************************!*\
  !*** ./src/components/electron/ElectronHeader.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"ElectronHeader-module__container","wrapper":"ElectronHeader-module__wrapper","applicationName":"ElectronHeader-module__applicationName","buttons":"ElectronHeader-module__buttons","windowsButtons":"ElectronHeader-module__windowsButtons","windowsButton":"ElectronHeader-module__windowsButton"});

/***/ }),

/***/ "./src/components/electron/UpdateApp.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/electron/UpdateApp.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"UpdateApp-module__container","icon":"UpdateApp-module__icon","disabled":"UpdateApp-module__disabled","icon-wrapper":"UpdateApp-module__icon-wrapper","iconWrapper":"UpdateApp-module__icon-wrapper","text":"UpdateApp-module__text"});

/***/ }),

/***/ "./src/components/ledger/LedgerModal.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/ledger/LedgerModal.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"LedgerModal-module__modalDialog","slide":"LedgerModal-module__slide","container":"LedgerModal-module__container","content":"LedgerModal-module__content","iconBlock":"LedgerModal-module__iconBlock","iconBlock_base":"LedgerModal-module__iconBlock_base","iconBlockBase":"LedgerModal-module__iconBlock_base","iconBlock_success":"LedgerModal-module__iconBlock_success","iconBlockSuccess":"LedgerModal-module__iconBlock_success","textBlock":"LedgerModal-module__textBlock","textBlock_gap":"LedgerModal-module__textBlock_gap","textBlockGap":"LedgerModal-module__textBlock_gap","textBlock_success":"LedgerModal-module__textBlock_success","textBlockSuccess":"LedgerModal-module__textBlock_success","textBlock_small":"LedgerModal-module__textBlock_small","textBlockSmall":"LedgerModal-module__textBlock_small","textIcon":"LedgerModal-module__textIcon","text":"LedgerModal-module__text","text_failed":"LedgerModal-module__text_failed","textFailed":"LedgerModal-module__text_failed","text_connected":"LedgerModal-module__text_connected","textConnected":"LedgerModal-module__text_connected","text_success":"LedgerModal-module__text_success","textSuccess":"LedgerModal-module__text_success","actionBlock":"LedgerModal-module__actionBlock","actionBlock_single":"LedgerModal-module__actionBlock_single","actionBlockSingle":"LedgerModal-module__actionBlock_single","button":"LedgerModal-module__button","button_single":"LedgerModal-module__button_single","buttonSingle":"LedgerModal-module__button_single","accounts":"LedgerModal-module__accounts","accounts_two":"LedgerModal-module__accounts_two","accountsTwo":"LedgerModal-module__accounts_two","account":"LedgerModal-module__account","account_current":"LedgerModal-module__account_current","accountCurrent":"LedgerModal-module__account_current","addAccountContainer":"LedgerModal-module__addAccountContainer","addAccountIcon":"LedgerModal-module__addAccountIcon","accountName":"LedgerModal-module__accountName","accountFooter":"LedgerModal-module__accountFooter","accountCurrencyIcon":"LedgerModal-module__accountCurrencyIcon","accountAddress":"LedgerModal-module__accountAddress","accountCheckMark":"LedgerModal-module__accountCheckMark","accountCheckMark_active":"LedgerModal-module__accountCheckMark_active","accountCheckMarkActive":"LedgerModal-module__accountCheckMark_active","sticker":"LedgerModal-module__sticker","declinedLabel":"LedgerModal-module__declinedLabel","declinedLabelDetailed":"LedgerModal-module__declinedLabelDetailed"});

/***/ }),

/***/ "./src/components/main/Main.module.scss":
/*!**********************************************!*\
  !*** ./src/components/main/Main.module.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Main-module__is-ios","isIos":"Main-module__is-ios","is-android":"Main-module__is-android","isAndroid":"Main-module__is-android","portraitContainer":"Main-module__portraitContainer","head":"Main-module__head","landscapeContainer":"Main-module__landscapeContainer","sidebar":"Main-module__sidebar","main":"Main-module__main"});

/***/ }),

/***/ "./src/components/main/modals/AddAccountModal.module.scss":
/*!****************************************************************!*\
  !*** ./src/components/main/modals/AddAccountModal.module.scss ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"AddAccountModal-module__modalDialog","modalText":"AddAccountModal-module__modalText","button":"AddAccountModal-module__button","button_single":"AddAccountModal-module__button_single","buttonSingle":"AddAccountModal-module__button_single","modalButtons":"AddAccountModal-module__modalButtons","importText":"AddAccountModal-module__importText","importButtons":"AddAccountModal-module__importButtons","importButtonsWithMargin":"AddAccountModal-module__importButtonsWithMargin","sticker":"AddAccountModal-module__sticker","ledgerButton":"AddAccountModal-module__ledgerButton","walletVersionBlock":"AddAccountModal-module__walletVersionBlock","walletVersionText":"AddAccountModal-module__walletVersionText"});

/***/ }),

/***/ "./src/components/main/modals/BackupModal.module.scss":
/*!************************************************************!*\
  !*** ./src/components/main/modals/BackupModal.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"BackupModal-module__modalDialog"});

/***/ }),

/***/ "./src/components/main/modals/DeleteSavedAddressModal.module.scss":
/*!************************************************************************!*\
  !*** ./src/components/main/modals/DeleteSavedAddressModal.module.scss ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"text":"DeleteSavedAddressModal-module__text"});

/***/ }),

/***/ "./src/components/main/modals/DeleteTokenModal.module.scss":
/*!*****************************************************************!*\
  !*** ./src/components/main/modals/DeleteTokenModal.module.scss ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"content":"DeleteTokenModal-module__content","description":"DeleteTokenModal-module__description"});

/***/ }),

/***/ "./src/components/main/modals/DisconnectDappModal.module.scss":
/*!********************************************************************!*\
  !*** ./src/components/main/modals/DisconnectDappModal.module.scss ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"content":"DisconnectDappModal-module__content","description":"DisconnectDappModal-module__description","buttons":"DisconnectDappModal-module__buttons","button":"DisconnectDappModal-module__button"});

/***/ }),

/***/ "./src/components/main/modals/LogOutModal.module.scss":
/*!************************************************************!*\
  !*** ./src/components/main/modals/LogOutModal.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"checkbox":"LogOutModal-module__checkbox","warning":"LogOutModal-module__warning","accountLink":"LogOutModal-module__accountLink","accountLink_inner":"LogOutModal-module__accountLink_inner","accountLinkInner":"LogOutModal-module__accountLink_inner","penultimate":"LogOutModal-module__penultimate"});

/***/ }),

/***/ "./src/components/main/modals/OnRampWidgetModal.module.scss":
/*!******************************************************************!*\
  !*** ./src/components/main/modals/OnRampWidgetModal.module.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"OnRampWidgetModal-module__is-ios","isIos":"OnRampWidgetModal-module__is-ios","is-android":"OnRampWidgetModal-module__is-android","isAndroid":"OnRampWidgetModal-module__is-android","modalDialog":"OnRampWidgetModal-module__modalDialog","modalDialogExtraHeight":"OnRampWidgetModal-module__modalDialogExtraHeight","content":"OnRampWidgetModal-module__content","loaderContainer":"OnRampWidgetModal-module__loaderContainer","fadeOut":"OnRampWidgetModal-module__fadeOut","fade-out-opacity":"OnRampWidgetModal-module__fade-out-opacity","fadeOutOpacity":"OnRampWidgetModal-module__fade-out-opacity","fadeIn":"OnRampWidgetModal-module__fadeIn","fade-in-opacity":"OnRampWidgetModal-module__fade-in-opacity","fadeInOpacity":"OnRampWidgetModal-module__fade-in-opacity","inactive":"OnRampWidgetModal-module__inactive"});

/***/ }),

/***/ "./src/components/main/modals/QrScannerModal.module.scss":
/*!***************************************************************!*\
  !*** ./src/components/main/modals/QrScannerModal.module.scss ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"title":"QrScannerModal-module__title","square":"QrScannerModal-module__square","squareInner":"QrScannerModal-module__squareInner","closeButton":"QrScannerModal-module__closeButton","flashLightButton":"QrScannerModal-module__flashLightButton","flashLightButtonEnabled":"QrScannerModal-module__flashLightButtonEnabled","documentRoot":"QrScannerModal-module__documentRoot","scanner":"QrScannerModal-module__scanner","scannerStarted":"QrScannerModal-module__scannerStarted"});

/***/ }),

/***/ "./src/components/main/modals/SignatureModal.module.scss":
/*!***************************************************************!*\
  !*** ./src/components/main/modals/SignatureModal.module.scss ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"SignatureModal-module__modalDialog","error":"SignatureModal-module__error","sticker":"SignatureModal-module__sticker","description":"SignatureModal-module__description"});

/***/ }),

/***/ "./src/components/main/modals/TransactionModal.module.scss":
/*!*****************************************************************!*\
  !*** ./src/components/main/modals/TransactionModal.module.scss ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"TransactionModal-module__modalDialog","unstakeModal":"TransactionModal-module__unstakeModal","passwordFormContent":"TransactionModal-module__passwordFormContent","passwordFormContentInModal":"TransactionModal-module__passwordFormContentInModal","sticker":"TransactionModal-module__sticker","footer":"TransactionModal-module__footer","copyButtonWrapper":"TransactionModal-module__copyButtonWrapper","comment":"TransactionModal-module__comment","button":"TransactionModal-module__button","buttonWide":"TransactionModal-module__buttonWide","tonExplorer":"TransactionModal-module__tonExplorer","unstakeTime":"TransactionModal-module__unstakeTime","unstakeTimeIcon":"TransactionModal-module__unstakeTimeIcon","scamImage":"TransactionModal-module__scamImage","scamAddress":"TransactionModal-module__scamAddress","transactionHeader":"TransactionModal-module__transactionHeader","headerTitle":"TransactionModal-module__headerTitle","headerDate":"TransactionModal-module__headerDate","infoBlock":"TransactionModal-module__infoBlock","textFieldWrapper":"TransactionModal-module__textFieldWrapper","textFieldWrapperFullWidth":"TransactionModal-module__textFieldWrapperFullWidth","changellyTextField":"TransactionModal-module__changellyTextField","swapSupportBlock":"TransactionModal-module__swapSupportBlock","textFieldLabel":"TransactionModal-module__textFieldLabel","textField":"TransactionModal-module__textField","advancedTooltip":"TransactionModal-module__advancedTooltip","advancedTooltipContainer":"TransactionModal-module__advancedTooltipContainer","errorCexBlock":"TransactionModal-module__errorCexBlock","errorCexMessage":"TransactionModal-module__errorCexMessage","errorCexEmail":"TransactionModal-module__errorCexEmail","changellyInfoBlock":"TransactionModal-module__changellyInfoBlock","changellyDescription":"TransactionModal-module__changellyDescription","changellyDescriptionBold":"TransactionModal-module__changellyDescriptionBold","qrCode":"TransactionModal-module__qrCode","qrCodeHidden":"TransactionModal-module__qrCodeHidden"});

/***/ }),

/***/ "./src/components/main/sections/Actions/LandscapeActions.module.scss":
/*!***************************************************************************!*\
  !*** ./src/components/main/sections/Actions/LandscapeActions.module.scss ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"LandscapeActions-module__container","tabs":"LandscapeActions-module__tabs","notAllTabs":"LandscapeActions-module__notAllTabs","tab":"LandscapeActions-module__tab","active":"LandscapeActions-module__active","tab_purple":"LandscapeActions-module__tab_purple","tabPurple":"LandscapeActions-module__tab_purple","tab_purpleText":"LandscapeActions-module__tab_purpleText","tabPurpleText":"LandscapeActions-module__tab_purpleText","tabDelimiter":"LandscapeActions-module__tabDelimiter","tabDecoration":"LandscapeActions-module__tabDecoration","tabIcon":"LandscapeActions-module__tabIcon","tabText":"LandscapeActions-module__tabText","contentHeader":"LandscapeActions-module__contentHeader","firstActive":"LandscapeActions-module__firstActive","contentHeaderInner":"LandscapeActions-module__contentHeaderInner","lastActive":"LandscapeActions-module__lastActive","contentBg":"LandscapeActions-module__contentBg","contentFooter":"LandscapeActions-module__contentFooter","contentSlideStaked":"LandscapeActions-module__contentSlideStaked","tab-0":"LandscapeActions-module__tab-0","tab0":"LandscapeActions-module__tab-0","tab-1":"LandscapeActions-module__tab-1","tab1":"LandscapeActions-module__tab-1","slideContent":"LandscapeActions-module__slideContent","transitionContent":"LandscapeActions-module__transitionContent","slideContentTransfer":"LandscapeActions-module__slideContentTransfer","slideContentInner":"LandscapeActions-module__slideContentInner"});

/***/ }),

/***/ "./src/components/main/sections/Actions/PortraitActions.module.scss":
/*!**************************************************************************!*\
  !*** ./src/components/main/sections/Actions/PortraitActions.module.scss ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"PortraitActions-module__container","buttons":"PortraitActions-module__buttons","button":"PortraitActions-module__button","button_purple":"PortraitActions-module__button_purple","buttonPurple":"PortraitActions-module__button_purple","buttonIcon":"PortraitActions-module__buttonIcon"});

/***/ }),

/***/ "./src/components/main/sections/Card/AccountSelector.module.scss":
/*!***********************************************************************!*\
  !*** ./src/components/main/sections/Card/AccountSelector.module.scss ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"accountTitle":"AccountSelector-module__accountTitle","accountTitleInner":"AccountSelector-module__accountTitleInner","accountTitleShort":"AccountSelector-module__accountTitleShort","arrowIcon":"AccountSelector-module__arrowIcon","menuButton":"AccountSelector-module__menuButton","menuButtonFirst":"AccountSelector-module__menuButtonFirst","edit":"AccountSelector-module__edit","inputContainer":"AccountSelector-module__inputContainer","input":"AccountSelector-module__input","saveButton":"AccountSelector-module__saveButton","container":"AccountSelector-module__container","dialog":"AccountSelector-module__dialog","backdrop":"AccountSelector-module__backdrop","dialog_compact":"AccountSelector-module__dialog_compact","dialogCompact":"AccountSelector-module__dialog_compact","actionIcon":"AccountSelector-module__actionIcon","button":"AccountSelector-module__button","button_current":"AccountSelector-module__button_current","buttonCurrent":"AccountSelector-module__button_current","accountName":"AccountSelector-module__accountName","accountAddressBlock":"AccountSelector-module__accountAddressBlock","createAccountButton":"AccountSelector-module__createAccountButton","createAccountIcon":"AccountSelector-module__createAccountIcon"});

/***/ }),

/***/ "./src/components/main/sections/Card/Card.module.scss":
/*!************************************************************!*\
  !*** ./src/components/main/sections/Card/Card.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Card-module__is-ios","isIos":"Card-module__is-ios","is-android":"Card-module__is-android","isAndroid":"Card-module__is-android","containerWrapper":"Card-module__containerWrapper","isLoading":"Card-module__isLoading","center":"Card-module__center","container":"Card-module__container","backstage":"Card-module__backstage","tokenCard":"Card-module__tokenCard","balanceTransition":"Card-module__balanceTransition","primaryValue":"Card-module__primaryValue","primaryFractionPart":"Card-module__primaryFractionPart","iconCaret":"Card-module__iconCaret","iconCaretSmall":"Card-module__iconCaretSmall","iconCaretFraction":"Card-module__iconCaretFraction","currencySwitcher":"Card-module__currencySwitcher","addressContainer":"Card-module__addressContainer","address":"Card-module__address","icon":"Card-module__icon","tonExplorerButton":"Card-module__tonExplorerButton","change":"Card-module__change","changeCourseUp":"Card-module__changeCourseUp","changeCourseDown":"Card-module__changeCourseDown","tokenInfo":"Card-module__tokenInfo","tokenLogo":"Card-module__tokenLogo","tokenAmount":"Card-module__tokenAmount","tokenName":"Card-module__tokenName","tokenPrice":"Card-module__tokenPrice","tokenHistoryPrice":"Card-module__tokenHistoryPrice","tokenCurrentPrice":"Card-module__tokenCurrentPrice","tokenChange":"Card-module__tokenChange","tokenPriceDate":"Card-module__tokenPriceDate","apy":"Card-module__apy","tokenTonExplorerButton":"Card-module__tokenTonExplorerButton","chart":"Card-module__chart","chartImg":"Card-module__chartImg","backButton":"Card-module__backButton","periodChooser":"Card-module__periodChooser","periodChooserHidden":"Card-module__periodChooserHidden","periodItem":"Card-module__periodItem","periodItem_active":"Card-module__periodItem_active","periodItemActive":"Card-module__periodItem_active","periodInput":"Card-module__periodInput","dapp":"Card-module__dapp","dappIcon":"Card-module__dappIcon","loadingDotsContainer":"Card-module__loadingDotsContainer"});

/***/ }),

/***/ "./src/components/main/sections/Card/ChartHistorySwitcher.module.scss":
/*!****************************************************************************!*\
  !*** ./src/components/main/sections/Card/ChartHistorySwitcher.module.scss ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"menuWrapper":"ChartHistorySwitcher-module__menuWrapper","menu":"ChartHistorySwitcher-module__menu","menuItem":"ChartHistorySwitcher-module__menuItem"});

/***/ }),

/***/ "./src/components/main/sections/Card/StickyCard.module.scss":
/*!******************************************************************!*\
  !*** ./src/components/main/sections/Card/StickyCard.module.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"StickyCard-module__root","background":"StickyCard-module__background","content":"StickyCard-module__content","account":"StickyCard-module__account","menuButton":"StickyCard-module__menuButton","balance":"StickyCard-module__balance","balanceFractionPart":"StickyCard-module__balanceFractionPart","iconCaret":"StickyCard-module__iconCaret","iconCaretFraction":"StickyCard-module__iconCaretFraction","currencySwitcher":"StickyCard-module__currencySwitcher"});

/***/ }),

/***/ "./src/components/main/sections/Content/Activities.module.scss":
/*!*********************************************************************!*\
  !*** ./src/components/main/sections/Content/Activities.module.scss ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"emptyList":"Activities-module__emptyList","emptyListTitle":"Activities-module__emptyListTitle","emptyListLoading":"Activities-module__emptyListLoading","greeting":"Activities-module__greeting","sticker":"Activities-module__sticker","loaderThreshold":"Activities-module__loaderThreshold","itemLoading":"Activities-module__itemLoading","date":"Activities-module__date","date_withLoadingDots":"Activities-module__date_withLoadingDots","dateWithLoadingDots":"Activities-module__date_withLoadingDots","loadingDots":"Activities-module__loadingDots","dateContainer":"Activities-module__dateContainer","dateSlide":"Activities-module__dateSlide","listItem":"Activities-module__listItem","listGroup":"Activities-module__listGroup"});

/***/ }),

/***/ "./src/components/main/sections/Content/Assets.module.scss":
/*!*****************************************************************!*\
  !*** ./src/components/main/sections/Content/Assets.module.scss ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Assets-module__wrapper","wrapperLoading":"Assets-module__wrapperLoading","emptyList":"Assets-module__emptyList","emptyListSeparate":"Assets-module__emptyListSeparate"});

/***/ }),

/***/ "./src/components/main/sections/Content/Content.module.scss":
/*!******************************************************************!*\
  !*** ./src/components/main/sections/Content/Content.module.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"contentPanel":"Content-module__contentPanel","landscapeContentPanel":"Content-module__landscapeContentPanel","container":"Content-module__container","landscapeContainer":"Content-module__landscapeContainer","assetsPanel":"Content-module__assetsPanel","portraitContainer":"Content-module__portraitContainer","tabsContainer":"Content-module__tabsContainer","tabs":"Content-module__tabs","tab":"Content-module__tab","slides":"Content-module__slides","slide":"Content-module__slide"});

/***/ }),

/***/ "./src/components/main/sections/Content/Explore.module.scss":
/*!******************************************************************!*\
  !*** ./src/components/main/sections/Content/Explore.module.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Explore-module__wrapper","list":"Explore-module__list","landscapeList":"Explore-module__landscapeList","suggestions":"Explore-module__suggestions","suggestionsMenu":"Explore-module__suggestionsMenu","suggestion":"Explore-module__suggestion","suggestionIcon":"Explore-module__suggestionIcon","suggestionAddress":"Explore-module__suggestionAddress","clearSuggestion":"Explore-module__clearSuggestion","item":"Explore-module__item","image":"Explore-module__image","imageWrapper":"Explore-module__imageWrapper","infoWrapper":"Explore-module__infoWrapper","title":"Explore-module__title","description":"Explore-module__description","emptyList":"Explore-module__emptyList","emptyListLoading":"Explore-module__emptyListLoading","searchWrapper":"Explore-module__searchWrapper","searchIcon":"Explore-module__searchIcon","searchInput":"Explore-module__searchInput"});

/***/ }),

/***/ "./src/components/main/sections/Content/NewWalletGreeting.module.scss":
/*!****************************************************************************!*\
  !*** ./src/components/main/sections/Content/NewWalletGreeting.module.scss ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"NewWalletGreeting-module__container","panel":"NewWalletGreeting-module__panel","emptyList":"NewWalletGreeting-module__emptyList","text":"NewWalletGreeting-module__text","header":"NewWalletGreeting-module__header","description":"NewWalletGreeting-module__description"});

/***/ }),

/***/ "./src/components/main/sections/Content/Nft.module.scss":
/*!**************************************************************!*\
  !*** ./src/components/main/sections/Content/Nft.module.scss ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"emptyList":"Nft-module__emptyList","emptyListTitle":"Nft-module__emptyListTitle","emptyListText":"Nft-module__emptyListText","emptyListLoading":"Nft-module__emptyListLoading","emptyListButton":"Nft-module__emptyListButton","sticker":"Nft-module__sticker","list":"Nft-module__list","landscapeList":"Nft-module__landscapeList","item":"Nft-module__item","image":"Nft-module__image","item_onSale":"Nft-module__item_onSale","itemOnSale":"Nft-module__item_onSale","nonInteractive":"Nft-module__nonInteractive","itemWithMenu":"Nft-module__itemWithMenu","imageWrapper":"Nft-module__imageWrapper","warning":"Nft-module__warning","imageSelected":"Nft-module__imageSelected","fullImage":"Nft-module__fullImage","infoWrapper":"Nft-module__infoWrapper","title":"Nft-module__title","collection":"Nft-module__collection","radio":"Nft-module__radio","notcoinVoucherButton":"Nft-module__notcoinVoucherButton","notcoinVoucherIcon":"Nft-module__notcoinVoucherIcon"});

/***/ }),

/***/ "./src/components/main/sections/Content/NftCollectionHeader.module.scss":
/*!******************************************************************************!*\
  !*** ./src/components/main/sections/Content/NftCollectionHeader.module.scss ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"NftCollectionHeader-module__root","backButton":"NftCollectionHeader-module__backButton","backIcon":"NftCollectionHeader-module__backIcon","content":"NftCollectionHeader-module__content","title":"NftCollectionHeader-module__title","amount":"NftCollectionHeader-module__amount","menuButton":"NftCollectionHeader-module__menuButton","menu":"NftCollectionHeader-module__menu","menuItem":"NftCollectionHeader-module__menuItem","sendAllButton":"NftCollectionHeader-module__sendAllButton","burnAllButton":"NftCollectionHeader-module__burnAllButton","buttonIcon":"NftCollectionHeader-module__buttonIcon"});

/***/ }),

/***/ "./src/components/main/sections/Content/NftMenu.module.scss":
/*!******************************************************************!*\
  !*** ./src/components/main/sections/Content/NftMenu.module.scss ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"button":"NftMenu-module__button","icon":"NftMenu-module__icon","menu":"NftMenu-module__menu","item":"NftMenu-module__item"});

/***/ }),

/***/ "./src/components/main/sections/Content/Token.module.scss":
/*!****************************************************************!*\
  !*** ./src/components/main/sections/Content/Token.module.scss ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Token-module__is-ios","isIos":"Token-module__is-ios","is-android":"Token-module__is-android","isAndroid":"Token-module__is-android","container":"Token-module__container","vestingIcon":"Token-module__vestingIcon","percent":"Token-module__percent","active":"Token-module__active","iconArrow":"Token-module__iconArrow","iconChevron":"Token-module__iconChevron","icon":"Token-module__icon","primaryCell":"Token-module__primaryCell","secondaryCell":"Token-module__secondaryCell","subtitle":"Token-module__subtitle","amountChange":"Token-module__amountChange","name":"Token-module__name","name_withApy":"Token-module__name_withApy","nameWithApy":"Token-module__name_withApy","secondaryValue":"Token-module__secondaryValue","secondaryValue_staked":"Token-module__secondaryValue_staked","secondaryValueStaked":"Token-module__secondaryValue_staked","change":"Token-module__change","change_up":"Token-module__change_up","changeUp":"Token-module__change_up","change_down":"Token-module__change_down","changeDown":"Token-module__change_down","dot":"Token-module__dot","apy":"Token-module__apy","apy_staked":"Token-module__apy_staked","apyStaked":"Token-module__apy_staked","secondaryValue_vesting":"Token-module__secondaryValue_vesting","secondaryValueVesting":"Token-module__secondaryValue_vesting","secondaryValue_vestingUnfreeze":"Token-module__secondaryValue_vestingUnfreeze","secondaryValueVestingUnfreeze":"Token-module__secondaryValue_vestingUnfreeze"});

/***/ }),

/***/ "./src/components/main/sections/Content/Transaction.module.scss":
/*!**********************************************************************!*\
  !*** ./src/components/main/sections/Content/Transaction.module.scss ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Transaction-module__is-ios","isIos":"Transaction-module__is-ios","is-android":"Transaction-module__is-android","isAndroid":"Transaction-module__is-android","item":"Transaction-module__item","withNft":"Transaction-module__withNft","withNftAndComment":"Transaction-module__withNftAndComment","active":"Transaction-module__active","itemLast":"Transaction-module__itemLast","iconArrow":"Transaction-module__iconArrow","icon":"Transaction-module__icon","icon_staking":"Transaction-module__icon_staking","iconStaking":"Transaction-module__icon_staking","icon_operationPositive":"Transaction-module__icon_operationPositive","iconOperationPositive":"Transaction-module__icon_operationPositive","icon_purple":"Transaction-module__icon_purple","iconPurple":"Transaction-module__icon_purple","icon_error":"Transaction-module__icon_error","iconError":"Transaction-module__iconError","icon_swap":"Transaction-module__icon_swap","iconSwap":"Transaction-module__icon_swap","iconWaiting":"Transaction-module__iconWaiting","iconWaitingSwap":"Transaction-module__iconWaitingSwap","iconWaitingStake":"Transaction-module__iconWaitingStake","leftBlock":"Transaction-module__leftBlock","amount":"Transaction-module__amount","operationName":"Transaction-module__operationName","address":"Transaction-module__address","swapPrice":"Transaction-module__swapPrice","date":"Transaction-module__date","apyValue":"Transaction-module__apyValue","addressValue":"Transaction-module__addressValue","swapPriceValue":"Transaction-module__swapPriceValue","amountWrapper":"Transaction-module__amountWrapper","amount_operationPositive":"Transaction-module__amount_operationPositive","amountOperationPositive":"Transaction-module__amount_operationPositive","amount_operationNegative":"Transaction-module__amount_operationNegative","amountOperationNegative":"Transaction-module__amount_operationNegative","amount_stake":"Transaction-module__amount_stake","amountStake":"Transaction-module__amount_stake","commentIcon":"Transaction-module__commentIcon","comment":"Transaction-module__comment","comment_incoming":"Transaction-module__comment_incoming","commentIncoming":"Transaction-module__comment_incoming","comment_outgoing":"Transaction-module__comment_outgoing","commentOutgoing":"Transaction-module__comment_outgoing","scamImage":"Transaction-module__scamImage","swapAmount":"Transaction-module__swapAmount","swapArrowRight":"Transaction-module__swapArrowRight","swapBuy":"Transaction-module__swapBuy","swapError":"Transaction-module__swapError","swapSell":"Transaction-module__swapSell","swapHold":"Transaction-module__swapHold","isSwapErrorMessage":"Transaction-module__isSwapErrorMessage","nft":"Transaction-module__nft","received":"Transaction-module__received","nftWithComment":"Transaction-module__nftWithComment","nftImage":"Transaction-module__nftImage","nftData":"Transaction-module__nftData","nftName":"Transaction-module__nftName","nftCollection":"Transaction-module__nftCollection"});

/***/ }),

/***/ "./src/components/main/sections/Warnings/Warnings.module.scss":
/*!********************************************************************!*\
  !*** ./src/components/main/sections/Warnings/Warnings.module.scss ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"portraitContainer":"Warnings-module__portraitContainer","container":"Warnings-module__container","testnetWarning":"Warnings-module__testnetWarning","wrapper":"Warnings-module__wrapper","wrapper_landscape":"Warnings-module__wrapper_landscape","wrapperLandscape":"Warnings-module__wrapper_landscape","icon":"Warnings-module__icon","text":"Warnings-module__text","closeButton":"Warnings-module__closeButton"});

/***/ }),

/***/ "./src/components/mediaViewer/MediaViewer.module.scss":
/*!************************************************************!*\
  !*** ./src/components/mediaViewer/MediaViewer.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"MediaViewer-module__is-ios","isIos":"MediaViewer-module__is-ios","is-android":"MediaViewer-module__is-android","isAndroid":"MediaViewer-module__is-android","root":"MediaViewer-module__root","header":"MediaViewer-module__header","headerTransition":"MediaViewer-module__headerTransition","actions":"MediaViewer-module__actions","actionButton":"MediaViewer-module__actionButton","actionIcon":"MediaViewer-module__actionIcon","menuButton":"MediaViewer-module__menuButton","menuButton_active":"MediaViewer-module__menuButton_active","menuButtonActive":"MediaViewer-module__menuButton_active","menuItem":"MediaViewer-module__menuItem","slides":"MediaViewer-module__slides","slide":"MediaViewer-module__slide","slide_active":"MediaViewer-module__slide_active","slideActive":"MediaViewer-module__slide_active","slide_moving":"MediaViewer-module__slide_moving","slideMoving":"MediaViewer-module__slide_moving","content":"MediaViewer-module__content","image":"MediaViewer-module__image","contentDescription":"MediaViewer-module__contentDescription","contentTextWrapper":"MediaViewer-module__contentTextWrapper","contentText":"MediaViewer-module__contentText","navigation":"MediaViewer-module__navigation","portraitContainer":"MediaViewer-module__portraitContainer","navigation_prev":"MediaViewer-module__navigation_prev","navigationPrev":"MediaViewer-module__navigation_prev","navigation_next":"MediaViewer-module__navigation_next","navigationNext":"MediaViewer-module__navigation_next","mediaInfo":"MediaViewer-module__mediaInfo","mediaInfoTitle":"MediaViewer-module__mediaInfoTitle","mediaInfoDescription":"MediaViewer-module__mediaInfoDescription","descriptionText":"MediaViewer-module__descriptionText","tooltip":"MediaViewer-module__tooltip","ghost":"MediaViewer-module__ghost","ghost_roundedOpening":"MediaViewer-module__ghost_roundedOpening","ghostRoundedOpening":"MediaViewer-module__ghost_roundedOpening","ghost_roundedClosing":"MediaViewer-module__ghost_roundedClosing","ghostRoundedClosing":"MediaViewer-module__ghost_roundedClosing","ghostImage":"MediaViewer-module__ghostImage","scamImage":"MediaViewer-module__scamImage"});

/***/ }),

/***/ "./src/components/receive/ReceiveModal.module.scss":
/*!*********************************************************!*\
  !*** ./src/components/receive/ReceiveModal.module.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"content":"ReceiveModal-module__content","contentTitle":"ReceiveModal-module__contentTitle","qrCode":"ReceiveModal-module__qrCode","qrCodeHidden":"ReceiveModal-module__qrCodeHidden","label":"ReceiveModal-module__label","labelForInvoice":"ReceiveModal-module__labelForInvoice","copyButtonStatic":"ReceiveModal-module__copyButtonStatic","invoiceButton":"ReceiveModal-module__invoiceButton","tokenDropdown":"ReceiveModal-module__tokenDropdown","invoiceComment":"ReceiveModal-module__invoiceComment","dottedLink":"ReceiveModal-module__dottedLink","actionButtons":"ReceiveModal-module__actionButtons","actionButton":"ReceiveModal-module__actionButton"});

/***/ }),

/***/ "./src/components/settings/Settings.module.scss":
/*!******************************************************!*\
  !*** ./src/components/settings/Settings.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Settings-module__wrapper","slide":"Settings-module__slide","transitionContainer":"Settings-module__transitionContainer","transitionSlide":"Settings-module__transitionSlide","developerTitle":"Settings-module__developerTitle","developerCloseButton":"Settings-module__developerCloseButton","header":"Settings-module__header","languageHeader":"Settings-module__languageHeader","headerBack":"Settings-module__headerBack","iconChevron":"Settings-module__iconChevron","headerBackInContent":"Settings-module__headerBackInContent","headerTitle":"Settings-module__headerTitle","modalHeader":"Settings-module__modalHeader","content":"Settings-module__content","content_noScroll":"Settings-module__content_noScroll","contentNoScroll":"Settings-module__content_noScroll","contentFullSize":"Settings-module__contentFullSize","blockTitle":"Settings-module__blockTitle","menuIcon":"Settings-module__menuIcon","themeWrapper":"Settings-module__themeWrapper","blockAbout":"Settings-module__blockAbout","theme":"Settings-module__theme","theme_active":"Settings-module__theme_active","themeActive":"Settings-module__theme_active","themeIcon":"Settings-module__themeIcon","themeIcon_active":"Settings-module__themeIcon_active","themeIconActive":"Settings-module__themeIcon_active","themeImg":"Settings-module__themeImg","block":"Settings-module__block","settingsBlockWithDescription":"Settings-module__settingsBlockWithDescription","settingsBlock":"Settings-module__settingsBlock","iconChevronRight":"Settings-module__iconChevronRight","item":"Settings-module__item","draggable":"Settings-module__draggable","item_red":"Settings-module__item_red","itemRed":"Settings-module__item_red","item_small":"Settings-module__item_small","itemSmall":"Settings-module__item_small","item_lang":"Settings-module__item_lang","itemLang":"Settings-module__item_lang","item_wallet_version":"Settings-module__item_wallet_version","itemWalletVersion":"Settings-module__item_wallet_version","item_token":"Settings-module__item_token","itemToken":"Settings-module__item_token","itemInfo":"Settings-module__itemInfo","small":"Settings-module__small","version":"Settings-module__version","languageMain":"Settings-module__languageMain","languageNative":"Settings-module__languageNative","iconQuestion":"Settings-module__iconQuestion","blockWithTooltip":"Settings-module__blockWithTooltip","tooltip":"Settings-module__tooltip","tooltip_wide":"Settings-module__tooltip_wide","tooltipWide":"Settings-module__tooltip_wide","disconnectButton":"Settings-module__disconnectButton","blockDescription":"Settings-module__blockDescription","emptyList":"Settings-module__emptyList","emptyListTitle":"Settings-module__emptyListTitle","dapp":"Settings-module__dapp","backButton":"Settings-module__backButton","logo":"Settings-module__logo","stickerNativeBiometric":"Settings-module__stickerNativeBiometric","pinPadHeader":"Settings-module__pinPadHeader","pinPadTitle":"Settings-module__pinPadTitle","title":"Settings-module__title","titleLink":"Settings-module__titleLink","heading":"Settings-module__heading","text":"Settings-module__text","github":"Settings-module__github","telegram":"Settings-module__telegram","tokenIcon":"Settings-module__tokenIcon","tokenSortIcon":"Settings-module__tokenSortIcon","tokenTitle":"Settings-module__tokenTitle","tokenDescription":"Settings-module__tokenDescription","dot":"Settings-module__dot","dotLarge":"Settings-module__dotLarge","contentRelative":"Settings-module__contentRelative","sortableContainer":"Settings-module__sortableContainer","modalDialog":"Settings-module__modalDialog","modalDialogWeb":"Settings-module__modalDialogWeb","modalContent":"Settings-module__modalContent","deleteText":"Settings-module__deleteText","languageInfo":"Settings-module__languageInfo","tokenInfo":"Settings-module__tokenInfo","stickerAndTitle":"Settings-module__stickerAndTitle","sideTitle":"Settings-module__sideTitle","aboutFooterWrapper":"Settings-module__aboutFooterWrapper","aboutFooterContent":"Settings-module__aboutFooterContent","blockWalletVersionText":"Settings-module__blockWalletVersionText","walletVersionInfo":"Settings-module__walletVersionInfo","walletVersionInfoRight":"Settings-module__walletVersionInfoRight","walletVersionTitle":"Settings-module__walletVersionTitle","walletVersionTokens":"Settings-module__walletVersionTokens","walletVersionAddress":"Settings-module__walletVersionAddress","walletVersionAmount":"Settings-module__walletVersionAmount","blockWalletVersionReadMore":"Settings-module__blockWalletVersionReadMore","nftPrimaryCell":"Settings-module__nftPrimaryCell","nftName":"Settings-module__nftName","nftCollection":"Settings-module__nftCollection","nftImage":"Settings-module__nftImage","nftButtonUnhide":"Settings-module__nftButtonUnhide"});

/***/ }),

/***/ "./src/components/settings/biometrics/Biometrics.module.scss":
/*!*******************************************************************!*\
  !*** ./src/components/settings/biometrics/Biometrics.module.scss ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"Biometrics-module__modalDialog","sticker":"Biometrics-module__sticker","stickerHuge":"Biometrics-module__stickerHuge","error":"Biometrics-module__error","step":"Biometrics-module__step"});

/***/ }),

/***/ "./src/components/staking/Staking.module.scss":
/*!****************************************************!*\
  !*** ./src/components/staking/Staking.module.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"Staking-module__modalDialog","welcome":"Staking-module__welcome","welcome_static":"Staking-module__welcome_static","welcomeStatic":"Staking-module__welcome_static","welcomeInformation":"Staking-module__welcomeInformation","welcomeInformation_static":"Staking-module__welcomeInformation_static","welcomeInformationStatic":"Staking-module__welcomeInformation_static","stakingApy":"Staking-module__stakingApy","textButton":"Staking-module__textButton","sticker":"Staking-module__sticker","sticker_static":"Staking-module__sticker_static","stickerStatic":"Staking-module__sticker_static","stakingSafeDialog":"Staking-module__stakingSafeDialog","ton":"Staking-module__ton","tonIcon":"Staking-module__tonIcon","tonName":"Staking-module__tonName","amountTopRight":"Staking-module__amountTopRight","amountTopRight_static":"Staking-module__amountTopRight_static","amountTopRightStatic":"Staking-module__amountTopRight_static","amountTopRight_slide":"Staking-module__amountTopRight_slide","amountTopRightSlide":"Staking-module__amountTopRight_slide","Transition":"Staking-module__Transition","transition":"Staking-module__Transition","Transition_slide-from":"Staking-module__Transition_slide-from","transitionSlideFrom":"Staking-module__Transition_slide-from","Transition_slide-to":"Staking-module__Transition_slide-to","transitionSlideTo":"Staking-module__Transition_slide-to","amountBottomWrapper":"Staking-module__amountBottomWrapper","amountBottomWrapper_static":"Staking-module__amountBottomWrapper_static","amountBottomWrapperStatic":"Staking-module__amountBottomWrapper_static","amountBottom":"Staking-module__amountBottom","amountBottomRight":"Staking-module__amountBottomRight","amountBottomRight_error":"Staking-module__amountBottomRight_error","amountBottomRightError":"Staking-module__amountBottomRight_error","amountBottomRight_slide":"Staking-module__amountBottomRight_slide","amountBottomRightSlide":"Staking-module__amountBottomRight_slide","animating":"Staking-module__animating","from":"Staking-module__from","to":"Staking-module__to","balanceError":"Staking-module__balanceError","minAmountValue":"Staking-module__minAmountValue","amountInCurrency":"Staking-module__amountInCurrency","notEnoughBalanceTextBold":"Staking-module__notEnoughBalanceTextBold","historyTotalValue":"Staking-module__historyTotalValue","balanceContainer":"Staking-module__balanceContainer","balance":"Staking-module__balance","balanceLink":"Staking-module__balanceLink","stakingBalance":"Staking-module__stakingBalance","amountInput":"Staking-module__amountInput","inputStatic":"Staking-module__inputStatic","inputRichStatic":"Staking-module__inputRichStatic","balanceResultWrapper":"Staking-module__balanceResultWrapper","balanceResultInput":"Staking-module__balanceResultInput","balanceResultLabel":"Staking-module__balanceResultLabel","balanceStakedLabel":"Staking-module__balanceStakedLabel","balanceStakedResult":"Staking-module__balanceStakedResult","balanceResult":"Staking-module__balanceResult","stakingInfoModal":"Staking-module__stakingInfo_modal","stakingInfoModal_withHistory":"Staking-module__stakingInfoModal_withHistory","stakingInfoModalWithHistory":"Staking-module__stakingInfoModal_withHistory","stakingInfo":"Staking-module__stakingInfo","stakingInfo_modal":"Staking-module__stakingInfo_modal","stakingInfoNoHistory":"Staking-module__stakingInfoNoHistory","stakingInfoModalContent":"Staking-module__stakingInfoModalContent","history":"Staking-module__history","historyList":"Staking-module__historyList","stakingInfoLoading":"Staking-module__stakingInfoLoading","stakingInfoClose":"Staking-module__stakingInfoClose","stakingInfoButtons":"Staking-module__stakingInfoButtons","stakingInfoButton":"Staking-module__stakingInfoButton","insufficientBalance":"Staking-module__insufficientBalance","unstakeTime":"Staking-module__unstakeTime","unstakeTime_purple":"Staking-module__unstakeTime_purple","unstakeTimePurple":"Staking-module__unstakeTime_purple","unstakeTimeIcon":"Staking-module__unstakeTimeIcon","history_static":"Staking-module__history_static","historyStatic":"Staking-module__history_static","historyTotal":"Staking-module__historyTotal","historyTitle":"Staking-module__historyTitle","historyList_static":"Staking-module__historyList_static","historyListStatic":"Staking-module__historyList_static","stakingShortInfo":"Staking-module__stakingShortInfo","unstake":"Staking-module__unstake","stakingShortInfoInsidePasswordForm":"Staking-module__stakingShortInfoInsidePasswordForm","tokenIcon":"Staking-module__tokenIcon","unstakeInfo":"Staking-module__unstakeInfo","notEnoughBalanceContent":"Staking-module__notEnoughBalanceContent","notEnoughBalanceText":"Staking-module__notEnoughBalanceText"});

/***/ }),

/***/ "./src/components/staking/StakingProfileItem.module.scss":
/*!***************************************************************!*\
  !*** ./src/components/staking/StakingProfileItem.module.scss ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"item":"StakingProfileItem-module__item","icon":"StakingProfileItem-module__icon","leftBlock":"StakingProfileItem-module__leftBlock","amount":"StakingProfileItem-module__amount","operationName":"StakingProfileItem-module__operationName","date":"StakingProfileItem-module__date"});

/***/ }),

/***/ "./src/components/swap/Swap.module.scss":
/*!**********************************************!*\
  !*** ./src/components/swap/Swap.module.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"Swap-module__modalDialog","scrollContent":"Swap-module__scrollContent","amountInput":"Swap-module__amountInput","amountInputBuy":"Swap-module__amountInputBuy","inputLabel":"Swap-module__inputLabel","amountInputInner":"Swap-module__amountInputInner","balanceContainer":"Swap-module__balanceContainer","advancedSlippageContainer":"Swap-module__advancedSlippageContainer","balance":"Swap-module__balance","balanceLink":"Swap-module__balanceLink","content":"Swap-module__content","inputContainer":"Swap-module__inputContainer","slippageLabel":"Swap-module__slippageLabel","tokenSelectorWrapper":"Swap-module__tokenSelectorWrapper","tokenSelectorSlide":"Swap-module__tokenSelectorSlide","tokenSelector":"Swap-module__tokenSelector","tokenSelectorIcon":"Swap-module__tokenSelectorIcon","tokenIcon":"Swap-module__tokenIcon","tokenBlockchainIcon":"Swap-module__tokenBlockchainIcon","tokenContent":"Swap-module__tokenContent","swapButtonWrapper":"Swap-module__swapButtonWrapper","swapButtonWrapperStatic":"Swap-module__swapButtonWrapperStatic","swapButton":"Swap-module__swapButton","feeWrapper":"Swap-module__feeWrapper","feeContent":"Swap-module__feeContent","feeContentClickable":"Swap-module__feeContentClickable","tokenPrice":"Swap-module__tokenPrice","feeText":"Swap-module__feeText","feeIcon":"Swap-module__feeIcon","footerBlock":"Swap-module__footerBlock","footerBlockStatic":"Swap-module__footerBlockStatic","dot":"Swap-module__dot","advancedTitle":"Swap-module__advancedTitle","advancedBlock":"Swap-module__advancedBlock","advancedRow":"Swap-module__advancedRow","advancedDescription":"Swap-module__advancedDescription","advancedTooltip":"Swap-module__advancedTooltip","advancedTooltipContainer":"Swap-module__advancedTooltipContainer","advancedTooltipMessage":"Swap-module__advancedTooltipMessage","advancedValue":"Swap-module__advancedValue","advancedSlippageError":"Swap-module__advancedSlippageError","advancedSlippage":"Swap-module__advancedSlippage","advancedInput":"Swap-module__advancedInput","advancedInputValue":"Swap-module__advancedInputValue","isEmpty":"Swap-module__isEmpty","advancedError":"Swap-module__advancedError","footerButtonWrapper":"Swap-module__footerButtonWrapper","footerButton":"Swap-module__footerButton","swapArrowIcon":"Swap-module__swapArrowIcon","priceImpact":"Swap-module__priceImpact","priceImpactSticker":"Swap-module__priceImpactSticker","priceImpactContent":"Swap-module__priceImpactContent","priceImpactTitle":"Swap-module__priceImpactTitle","priceImpactArrow":"Swap-module__priceImpactArrow","priceImpactDescription":"Swap-module__priceImpactDescription","swapCornerTop":"Swap-module__swapCornerTop","swapCornerBottom":"Swap-module__swapCornerBottom","swapCornerStaticTop":"Swap-module__swapCornerStaticTop","swapCornerStaticBottom":"Swap-module__swapCornerStaticBottom","selectBlockchainBlock":"Swap-module__selectBlockchainBlock","inputAddressWrapper":"Swap-module__inputAddressWrapper","inputAddress":"Swap-module__inputAddress","blockchainHintWrapper":"Swap-module__blockchainHintWrapper","changellyDescription":"Swap-module__changellyDescription","blockchainHintText":"Swap-module__blockchainHintText","blockchainHintTextError":"Swap-module__blockchainHintTextError","inputButton":"Swap-module__inputButton","inputButtonShifted":"Swap-module__inputButtonShifted","changellyInfo":"Swap-module__changellyInfo","changellyInfoStatic":"Swap-module__changellyInfoStatic","priceImpactStatic":"Swap-module__priceImpactStatic","changellyInfoContent":"Swap-module__changellyInfoContent","changellyInfoTitle":"Swap-module__changellyInfoTitle","changellyInfoDescription":"Swap-module__changellyInfoDescription","changellyIcon":"Swap-module__changellyIcon","changellyInfoBlock":"Swap-module__changellyInfoBlock","blockchainButtons":"Swap-module__blockchainButtons","changellyTextField":"Swap-module__changellyTextField","textFieldWrapperFullWidth":"Swap-module__textFieldWrapperFullWidth","changellyImportantRed":"Swap-module__changellyImportantRed","tokenIconWrapper":"Swap-module__tokenIconWrapper","arrowContainer":"Swap-module__arrowContainer","arrowContainerInverted":"Swap-module__arrowContainerInverted","arrow":"Swap-module__arrow","arrowNew":"Swap-module__arrowNew","arrowOld":"Swap-module__arrowOld","animateDisappear":"Swap-module__animateDisappear","arrow-disappear":"Swap-module__arrow-disappear","arrowDisappear":"Swap-module__arrow-disappear","animateAppear":"Swap-module__animateAppear","arrow-appear":"Swap-module__arrow-appear","arrowAppear":"Swap-module__arrow-appear","swapShortInfo":"Swap-module__swapShortInfo","swapShortInfoInsidePasswordForm":"Swap-module__swapShortInfoInsidePasswordForm","swapShortAmount":"Swap-module__swapShortAmount","changellyDescriptionBold":"Swap-module__changellyDescriptionBold","swapShortValue":"Swap-module__swapShortValue","swapShortInfoTokenIcon":"Swap-module__swapShortInfoTokenIcon","swapShortInfoBlockchainIcon":"Swap-module__swapShortInfoBlockchainIcon","qrCode":"Swap-module__qrCode","qrCodeHidden":"Swap-module__qrCodeHidden","textFieldLabel":"Swap-module__textFieldLabel"});

/***/ }),

/***/ "./src/components/transfer/NftChips.module.scss":
/*!******************************************************!*\
  !*** ./src/components/transfer/NftChips.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"NftChips-module__root","static":"NftChips-module__static","nft":"NftChips-module__nft","image":"NftChips-module__image","name":"NftChips-module__name","expander":"NftChips-module__expander"});

/***/ }),

/***/ "./src/components/transfer/NftInfo.module.scss":
/*!*****************************************************!*\
  !*** ./src/components/transfer/NftInfo.module.scss ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"NftInfo-module__root","icon":"NftInfo-module__icon","rootStatic":"NftInfo-module__rootStatic","thumbnail":"NftInfo-module__thumbnail","info":"NftInfo-module__info","title":"NftInfo-module__title","description":"NftInfo-module__description"});

/***/ }),

/***/ "./src/components/transfer/Transfer.module.scss":
/*!******************************************************!*\
  !*** ./src/components/transfer/Transfer.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"Transfer-module__modalDialog","inputButton":"Transfer-module__inputButton","inputButtonClear":"Transfer-module__inputButtonClear","inputButtonTransition":"Transfer-module__inputButtonTransition","inputButtonShifted":"Transfer-module__inputButtonShifted","amountInput":"Transfer-module__amountInput","help":"Transfer-module__help","label":"Transfer-module__label","amountBottomWrapper":"Transfer-module__amountBottomWrapper","amountBottom":"Transfer-module__amountBottom","amountBottomRight":"Transfer-module__amountBottomRight","amountBottomRight_slide":"Transfer-module__amountBottomRight_slide","amountBottomRightSlide":"Transfer-module__amountBottomRight_slide","Transition":"Transfer-module__Transition","transition":"Transfer-module__Transition","Transition_slide-from":"Transfer-module__Transition_slide-from","transitionSlideFrom":"Transfer-module__Transition_slide-from","Transition_slide-to":"Transfer-module__Transition_slide-to","transitionSlideTo":"Transfer-module__Transition_slide-to","amountBottomRight_static":"Transfer-module__amountBottomRight_static","amountBottomRightStatic":"Transfer-module__amountBottomRight_static","balanceError":"Transfer-module__balanceError","feeValue":"Transfer-module__feeValue","balanceContainer":"Transfer-module__balanceContainer","balance":"Transfer-module__balance","balanceLink":"Transfer-module__balanceLink","amountInCurrency":"Transfer-module__amountInCurrency","description":"Transfer-module__description","error":"Transfer-module__error","addressWidget":"Transfer-module__addressWidget","inputReadOnly":"Transfer-module__inputReadOnly","inputReadOnly_words":"Transfer-module__inputReadOnly_words","inputReadOnlyWords":"Transfer-module__inputReadOnly_words","currencySymbol":"Transfer-module__currencySymbol","commentInputWrapper":"Transfer-module__commentInputWrapper","sticker":"Transfer-module__sticker","sticker_sizeSmall":"Transfer-module__sticker_sizeSmall","stickerSizeSmall":"Transfer-module__sticker_sizeSmall","buttonLoading":"Transfer-module__buttonLoading","buttonText":"Transfer-module__buttonText","button-loading-spinner":"Transfer-module__button-loading-spinner","buttonLoadingSpinner":"Transfer-module__button-loading-spinner","savedAddressBubble":"Transfer-module__savedAddressBubble","savedAddressItem":"Transfer-module__savedAddressItem","savedAddressName":"Transfer-module__savedAddressName","iconLedger":"Transfer-module__iconLedger","savedAddressAddress":"Transfer-module__savedAddressAddress","savedAddressDelete":"Transfer-module__savedAddressDelete","savedAddressDeleteInner":"Transfer-module__savedAddressDeleteInner","savedAddressDeleteIcon":"Transfer-module__savedAddressDeleteIcon","tokenDropdown":"Transfer-module__tokenDropdown","inputStatic":"Transfer-module__inputStatic","inputRichStatic":"Transfer-module__inputRichStatic","inputWithIcon":"Transfer-module__inputWithIcon","commentLabel":"Transfer-module__commentLabel","buttons":"Transfer-module__buttons","button":"Transfer-module__button","warningTooltipContainer":"Transfer-module__warningTooltipContainer","transferShortInfo":"Transfer-module__transferShortInfo","transferShortInfoText":"Transfer-module__transferShortInfoText","transferShortInfoInsidePasswordForm":"Transfer-module__transferShortInfoInsidePasswordForm","bold":"Transfer-module__bold","tokenIcon":"Transfer-module__tokenIcon","infoBox":"Transfer-module__infoBox","burnWarning":"Transfer-module__burnWarning","spinner":"Transfer-module__spinner"});

/***/ }),

/***/ "./src/components/ui/AmountWithFeeTextField.module.scss":
/*!**************************************************************!*\
  !*** ./src/components/ui/AmountWithFeeTextField.module.scss ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"AmountWithFeeTextField-module__root","suffix":"AmountWithFeeTextField-module__suffix","label":"AmountWithFeeTextField-module__label","feeLabel":"AmountWithFeeTextField-module__feeLabel","feeConfirm":"AmountWithFeeTextField-module__feeConfirm"});

/***/ }),

/***/ "./src/components/ui/AnimatedCounter.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/ui/AnimatedCounter.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"AnimatedCounter-module__root","character-container":"AnimatedCounter-module__character-container","characterContainer":"AnimatedCounter-module__character-container","character":"AnimatedCounter-module__character","character-old":"AnimatedCounter-module__character-old","characterOld":"AnimatedCounter-module__character-old","character-disappear":"AnimatedCounter-module__character-disappear","characterDisappear":"AnimatedCounter-module__character-disappear","character-new":"AnimatedCounter-module__character-new","characterNew":"AnimatedCounter-module__character-new","character-appear":"AnimatedCounter-module__character-appear","characterAppear":"AnimatedCounter-module__character-appear"});

/***/ }),

/***/ "./src/components/ui/AnimatedIconWithPreview.module.scss":
/*!***************************************************************!*\
  !*** ./src/components/ui/AnimatedIconWithPreview.module.scss ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"AnimatedIconWithPreview-module__root","preview":"AnimatedIconWithPreview-module__preview"});

/***/ }),

/***/ "./src/components/ui/Button.module.scss":
/*!**********************************************!*\
  !*** ./src/components/ui/Button.module.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"is-ios":"Button-module__is-ios","isIos":"Button-module__is-ios","is-android":"Button-module__is-android","isAndroid":"Button-module__is-android","button":"Button-module__button","loadingInit":"Button-module__loadingInit","clicked":"Button-module__clicked","isSimple":"Button-module__isSimple","isText":"Button-module__isText","primary":"Button-module__primary","transparent":"Button-module__transparent","disabled":"Button-module__disabled","destructive":"Button-module__destructive","sizeSmall":"Button-module__sizeSmall","round":"Button-module__round","loadingStart":"Button-module__loadingStart","loadingDots":"Button-module__loadingDots"});

/***/ }),

/***/ "./src/components/ui/Checkbox.module.scss":
/*!************************************************!*\
  !*** ./src/components/ui/Checkbox.module.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Checkbox-module__wrapper","input":"Checkbox-module__input","content":"Checkbox-module__content"});

/***/ }),

/***/ "./src/components/ui/ConfettiContainer.module.scss":
/*!*********************************************************!*\
  !*** ./src/components/ui/ConfettiContainer.module.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"ConfettiContainer-module__root"});

/***/ }),

/***/ "./src/components/ui/Draggable.module.scss":
/*!*************************************************!*\
  !*** ./src/components/ui/Draggable.module.scss ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"Draggable-module__container","isDragging":"Draggable-module__isDragging","knob":"Draggable-module__knob"});

/***/ }),

/***/ "./src/components/ui/Dropdown.module.scss":
/*!************************************************!*\
  !*** ./src/components/ui/Dropdown.module.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"button":"Dropdown-module__button","item":"Dropdown-module__item","wide":"Dropdown-module__wide","interactive":"Dropdown-module__interactive","label":"Dropdown-module__label","light":"Dropdown-module__light","disabled":"Dropdown-module__disabled","dangerous":"Dropdown-module__dangerous","separator":"Dropdown-module__separator","buttonIcon":"Dropdown-module__buttonIcon","item_selected":"Dropdown-module__item_selected","itemSelected":"Dropdown-module__item_selected","item_with_icon":"Dropdown-module__item_with_icon","itemWithIcon":"Dropdown-module__item_with_icon","itemIcon":"Dropdown-module__itemIcon","fontIcon":"Dropdown-module__fontIcon","itemName":"Dropdown-module__itemName","itemDescription":"Dropdown-module__itemDescription","dropdownButtonWrapper":"Dropdown-module__dropdownButtonWrapper","spinner":"Dropdown-module__spinner"});

/***/ }),

/***/ "./src/components/ui/Emoji.module.scss":
/*!*********************************************!*\
  !*** ./src/components/ui/Emoji.module.scss ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"Emoji-module__root"});

/***/ }),

/***/ "./src/components/ui/IconWithTooltip.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/ui/IconWithTooltip.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"IconWithTooltip-module__wrapper","container":"IconWithTooltip-module__container","tooltip":"IconWithTooltip-module__tooltip","arrow":"IconWithTooltip-module__arrow","icon":"IconWithTooltip-module__icon"});

/***/ }),

/***/ "./src/components/ui/InAppBrowser.module.scss":
/*!****************************************************!*\
  !*** ./src/components/ui/InAppBrowser.module.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"browserShown":"InAppBrowser-module__browserShown","browserOpen":"InAppBrowser-module__browserOpen"});

/***/ }),

/***/ "./src/components/ui/Input.module.scss":
/*!*********************************************!*\
  !*** ./src/components/ui/Input.module.scss ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Input-module__wrapper","input":"Input-module__input","input_rich":"Input-module__input_rich","inputRich":"Input-module__input_rich","error":"Input-module__error","input_password":"Input-module__input_password","inputPassword":"Input-module__input_password","isEmpty":"Input-module__isEmpty","disabled":"Input-module__disabled","isLoading":"Input-module__isLoading","inputWrapperStatic":"Input-module__inputWrapperStatic","input__wrapper":"Input-module__input__wrapper","inputWrapper":"Input-module__input__wrapper","input__wrapper_hasFocus":"Input-module__input__wrapper_hasFocus","inputWrapperHasFocus":"Input-module__input__wrapper_hasFocus","visibilityToggle":"Input-module__visibilityToggle","visibilityToggle_push":"Input-module__visibilityToggle_push","visibilityTogglePush":"Input-module__visibilityToggle_push","fractional":"Input-module__fractional","label":"Input-module__label","label_error":"Input-module__label_error","labelError":"Input-module__label_error","label_forPassword":"Input-module__label_forPassword","labelForPassword":"Input-module__label_forPassword","label_errorUnderInput":"Input-module__label_errorUnderInput","labelErrorUnderInput":"Input-module__label_errorUnderInput","label_errorBottom":"Input-module__label_errorBottom","labelErrorBottom":"Input-module__label_errorBottom","swapCorner":"Input-module__swapCorner","swapCorner_error":"Input-module__swapCorner_error","swapCornerError":"Input-module__swapCorner_error"});

/***/ }),

/***/ "./src/components/ui/InteractiveTextField.module.scss":
/*!************************************************************!*\
  !*** ./src/components/ui/InteractiveTextField.module.scss ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"InteractiveTextField-module__wrapper","button":"InteractiveTextField-module__button","button_spoiler":"InteractiveTextField-module__button_spoiler","buttonSpoiler":"InteractiveTextField-module__button_spoiler","icon":"InteractiveTextField-module__icon","iconStar":"InteractiveTextField-module__iconStar","nameInput":"InteractiveTextField-module__nameInput","shortAddress":"InteractiveTextField-module__shortAddress","scam":"InteractiveTextField-module__scam","revealSpoiler":"InteractiveTextField-module__revealSpoiler","scamImage":"InteractiveTextField-module__scamImage"});

/***/ }),

/***/ "./src/components/ui/Loading.module.scss":
/*!***********************************************!*\
  !*** ./src/components/ui/Loading.module.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"spinner":"Loading-module__spinner","inner":"Loading-module__inner","spin":"Loading-module__spin","withBackground":"Loading-module__withBackground","dark":"Loading-module__dark","light":"Loading-module__light","white":"Loading-module__white","blue":"Loading-module__blue"});

/***/ }),

/***/ "./src/components/ui/LoadingDots.module.scss":
/*!***************************************************!*\
  !*** ./src/components/ui/LoadingDots.module.scss ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"LoadingDots-module__root","dot":"LoadingDots-module__dot","dots":"LoadingDots-module__dots","doubled":"LoadingDots-module__doubled","dots-doubled":"LoadingDots-module__dots-doubled","dotsDoubled":"LoadingDots-module__dots-doubled"});

/***/ }),

/***/ "./src/components/ui/LoadingOverlay.module.scss":
/*!******************************************************!*\
  !*** ./src/components/ui/LoadingOverlay.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"LoadingOverlay-module__root"});

/***/ }),

/***/ "./src/components/ui/Menu.module.scss":
/*!********************************************!*\
  !*** ./src/components/ui/Menu.module.scss ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"Menu-module__wrapper","inPortal":"Menu-module__inPortal","bubble":"Menu-module__bubble","top":"Menu-module__top","bottom":"Menu-module__bottom","left":"Menu-module__left","right":"Menu-module__right","backdrop":"Menu-module__backdrop","menu":"Menu-module__menu","suggestion":"Menu-module__suggestion","dropdown":"Menu-module__dropdown"});

/***/ }),

/***/ "./src/components/ui/MenuItem.module.scss":
/*!************************************************!*\
  !*** ./src/components/ui/MenuItem.module.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"menuItem":"MenuItem-module__menuItem","menuItem_separator":"MenuItem-module__menuItem_separator","menuItemSeparator":"MenuItem-module__menuItem_separator","destructive":"MenuItem-module__destructive"});

/***/ }),

/***/ "./src/components/ui/Modal.module.scss":
/*!*********************************************!*\
  !*** ./src/components/ui/Modal.module.scss ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modal":"Modal-module__modal","error":"Modal-module__error","dialog":"Modal-module__dialog","backdrop":"Modal-module__backdrop","delegatingToNative":"Modal-module__delegatingToNative","slideUpAnimation":"Modal-module__slideUpAnimation","container":"Modal-module__container","forceBottomSheet":"Modal-module__forceBottomSheet","noBackdrop":"Modal-module__noBackdrop","content":"Modal-module__content","compact":"Modal-module__compact","header":"Modal-module__header","header_noClose":"Modal-module__header_noClose","headerNoClose":"Modal-module__header_noClose","title":"Modal-module__title","header_wideContent":"Modal-module__header_wideContent","headerWideContent":"Modal-module__header_wideContent","header_back":"Modal-module__header_back","headerBack":"Modal-module__header_back","header_backIcon":"Modal-module__header_backIcon","headerBackIcon":"Modal-module__header_backIcon","closeButton":"Modal-module__closeButton","closeIcon":"Modal-module__closeIcon","singleTitle":"Modal-module__singleTitle","contentCompact":"Modal-module__contentCompact","text":"Modal-module__text","text_centered":"Modal-module__text_centered","textCentered":"Modal-module__text_centered","text_noExtraMargin":"Modal-module__text_noExtraMargin","textNoExtraMargin":"Modal-module__text_noExtraMargin","buttons":"Modal-module__buttons","footerButtons":"Modal-module__footerButtons","buttonsInsideContentWithScroll":"Modal-module__buttonsInsideContentWithScroll","buttonsNoExtraSpace":"Modal-module__buttonsNoExtraSpace","button":"Modal-module__button","buttonHalfWidth":"Modal-module__buttonHalfWidth","shortButton":"Modal-module__shortButton","transition":"Modal-module__transition","transitionSlide":"Modal-module__transitionSlide","transitionContentWrapper":"Modal-module__transitionContentWrapper","transitionContent":"Modal-module__transitionContent","transitionContent_simple":"Modal-module__transitionContent_simple","transitionContentSimple":"Modal-module__transitionContent_simple"});

/***/ }),

/***/ "./src/components/ui/Notification.module.scss":
/*!****************************************************!*\
  !*** ./src/components/ui/Notification.module.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"Notification-module__container","container_electron":"Notification-module__container_electron","containerElectron":"Notification-module__container_electron","notification":"Notification-module__notification","content":"Notification-module__content","icon":"Notification-module__icon"});

/***/ }),

/***/ "./src/components/ui/PasswordForm.module.scss":
/*!****************************************************!*\
  !*** ./src/components/ui/PasswordForm.module.scss ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"sticker":"PasswordForm-module__sticker","label":"PasswordForm-module__label","title":"PasswordForm-module__title","errorMessage":"PasswordForm-module__errorMessage","verify":"PasswordForm-module__verify","error":"PasswordForm-module__error","pinPadHeader":"PasswordForm-module__pinPadHeader","closeButton":"PasswordForm-module__closeButton"});

/***/ }),

/***/ "./src/components/ui/PinPad.module.scss":
/*!**********************************************!*\
  !*** ./src/components/ui/PinPad.module.scss ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"PinPad-module__root","title":"PinPad-module__title","dots":"PinPad-module__dots","dotsError":"PinPad-module__dotsError","shakeAnimation":"PinPad-module__shakeAnimation","dotsLoading":"PinPad-module__dotsLoading","spin":"PinPad-module__spin","appear":"PinPad-module__appear","dot":"PinPad-module__dot","dotLoadingAnimation":"PinPad-module__dotLoadingAnimation","firstDotLoadingAnimation":"PinPad-module__firstDotLoadingAnimation","secondDotLoadingAnimation":"PinPad-module__secondDotLoadingAnimation","thirdDotLoadingAnimation":"PinPad-module__thirdDotLoadingAnimation","fourthDotLoadingAnimation":"PinPad-module__fourthDotLoadingAnimation","dotFilled":"PinPad-module__dotFilled","scaleAnimation":"PinPad-module__scaleAnimation","grid":"PinPad-module__grid","button":"PinPad-module__button","buttonActive":"PinPad-module__buttonActive","buttonHidden":"PinPad-module__buttonHidden","error":"PinPad-module__error","success":"PinPad-module__success"});

/***/ }),

/***/ "./src/components/ui/Radio.module.scss":
/*!*********************************************!*\
  !*** ./src/components/ui/Radio.module.scss ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"root":"Radio-module__root","checked":"Radio-module__checked"});

/***/ }),

/***/ "./src/components/ui/SuggestionList.module.scss":
/*!******************************************************!*\
  !*** ./src/components/ui/SuggestionList.module.scss ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"suggestions":"SuggestionList-module__suggestions","bottom":"SuggestionList-module__bottom","top":"SuggestionList-module__top","suggestion":"SuggestionList-module__suggestion","active":"SuggestionList-module__active"});

/***/ }),

/***/ "./src/components/ui/Switcher.module.scss":
/*!************************************************!*\
  !*** ./src/components/ui/Switcher.module.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"Switcher-module__container","input":"Switcher-module__input","widget":"Switcher-module__widget"});

/***/ }),

/***/ "./src/components/ui/Tab.module.scss":
/*!*******************************************!*\
  !*** ./src/components/ui/Tab.module.scss ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"Tab":"Tab-module__Tab","tab":"Tab-module__Tab","Tab_active":"Tab-module__Tab_active","tabActive":"Tab-module__Tab_active","content":"Tab-module__content","interactive":"Tab-module__interactive","platform":"Tab-module__platform","platform_animate":"Tab-module__platform_animate","platformAnimate":"Tab-module__platform_animate","menuItem":"Tab-module__menuItem"});

/***/ }),

/***/ "./src/components/ui/TabList.module.scss":
/*!***********************************************!*\
  !*** ./src/components/ui/TabList.module.scss ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"container":"TabList-module__container","big":"TabList-module__big"});

/***/ }),

/***/ "./src/components/ui/UpdateAvailable.module.scss":
/*!*******************************************************!*\
  !*** ./src/components/ui/UpdateAvailable.module.scss ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"wrapper":"UpdateAvailable-module__wrapper","icon":"UpdateAvailable-module__icon"});

/***/ }),

/***/ "./src/components/vesting/VestingModal.module.scss":
/*!*********************************************************!*\
  !*** ./src/components/vesting/VestingModal.module.scss ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"modalDialog":"VestingModal-module__modalDialog","modalHeader":"VestingModal-module__modalHeader","passwordModalDialog":"VestingModal-module__passwordModalDialog","amountWrapper":"VestingModal-module__amountWrapper","close":"VestingModal-module__close","inputWrapper":"VestingModal-module__inputWrapper","inputLabel":"VestingModal-module__inputLabel","inputValue":"VestingModal-module__inputValue","unfreezeInput":"VestingModal-module__unfreezeInput","unfreezeResult":"VestingModal-module__unfreezeResult","buttons":"VestingModal-module__buttons","button":"VestingModal-module__button","unfreezeTime":"VestingModal-module__unfreezeTime","unfreezeTimeIcon":"VestingModal-module__unfreezeTimeIcon","actions":"VestingModal-module__actions","actionsTitle":"VestingModal-module__actionsTitle","actionsList":"VestingModal-module__actionsList","block":"VestingModal-module__block","vestingInfo":"VestingModal-module__vestingInfo","blockTitle":"VestingModal-module__blockTitle","blockSubtitle":"VestingModal-module__blockSubtitle","part":"VestingModal-module__part","partInteractive":"VestingModal-module__partInteractive","active":"VestingModal-module__active","partIcon":"VestingModal-module__partIcon","partValue":"VestingModal-module__partValue","operationInfo":"VestingModal-module__operationInfo","operationInfoWithGap":"VestingModal-module__operationInfoWithGap","operationInfoText":"VestingModal-module__operationInfoText","tokenIcon":"VestingModal-module__tokenIcon","operationInfoFee":"VestingModal-module__operationInfoFee","operationInfoFeeWithGap":"VestingModal-module__operationInfoFeeWithGap","partName":"VestingModal-module__partName","bold":"VestingModal-module__bold","date":"VestingModal-module__date"});

/***/ }),

/***/ "./src/assets/app-inactive.png":
/*!*************************************!*\
  !*** ./src/assets/app-inactive.png ***!
  \*************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "app-inactive.e835efd0bf0191aaa6ab.png";

/***/ }),

/***/ "./src/assets/app-inactive.webp":
/*!**************************************!*\
  !*** ./src/assets/app-inactive.webp ***!
  \**************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "app-inactive.70579bd9a710cd418aff.webp";

/***/ }),

/***/ "./src/assets/blockchain/chain_avalanche.png":
/*!***************************************************!*\
  !*** ./src/assets/blockchain/chain_avalanche.png ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_avalanche.7f8d66bd58adac72c8a3.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_bitcoin.png":
/*!*************************************************!*\
  !*** ./src/assets/blockchain/chain_bitcoin.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_bitcoin.f34a23ae89de7d5971b8.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_bitcoincash.png":
/*!*****************************************************!*\
  !*** ./src/assets/blockchain/chain_bitcoincash.png ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_bitcoincash.3cada8fa53a3ec909615.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_bnb.png":
/*!*********************************************!*\
  !*** ./src/assets/blockchain/chain_bnb.png ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_bnb.c3f1ca51487197dd37b9.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_cardano.png":
/*!*************************************************!*\
  !*** ./src/assets/blockchain/chain_cardano.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_cardano.c46726e718dfcd8356f6.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_cosmos.png":
/*!************************************************!*\
  !*** ./src/assets/blockchain/chain_cosmos.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_cosmos.5324ad7df0d51cd7de98.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_dash.png":
/*!**********************************************!*\
  !*** ./src/assets/blockchain/chain_dash.png ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_dash.e1ec062a7e7fbc9dfe42.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_doge.png":
/*!**********************************************!*\
  !*** ./src/assets/blockchain/chain_doge.png ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_doge.789110f3aacd910c39fd.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_eos.png":
/*!*********************************************!*\
  !*** ./src/assets/blockchain/chain_eos.png ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_eos.3f76226eb8100b8a6625.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_ethereum.png":
/*!**************************************************!*\
  !*** ./src/assets/blockchain/chain_ethereum.png ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_ethereum.c29670577128b10aaf05.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_ethereumclassic.png":
/*!*********************************************************!*\
  !*** ./src/assets/blockchain/chain_ethereumclassic.png ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_ethereumclassic.60eb5a7207f4842d2e97.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_internetcomputer.png":
/*!**********************************************************!*\
  !*** ./src/assets/blockchain/chain_internetcomputer.png ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_internetcomputer.acb4013e0b42a4d3d12f.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_iota.png":
/*!**********************************************!*\
  !*** ./src/assets/blockchain/chain_iota.png ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_iota.73ea2223ae00a87cad55.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_litecoin.png":
/*!**************************************************!*\
  !*** ./src/assets/blockchain/chain_litecoin.png ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_litecoin.e77ca438ca41f5bf04e6.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_monero.png":
/*!************************************************!*\
  !*** ./src/assets/blockchain/chain_monero.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_monero.116b8bbbf4c71656d0a6.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_polkadot.png":
/*!**************************************************!*\
  !*** ./src/assets/blockchain/chain_polkadot.png ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_polkadot.6dd3a353f0b66a0f7173.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_ripple.png":
/*!************************************************!*\
  !*** ./src/assets/blockchain/chain_ripple.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_ripple.31ce66c49197531fee6d.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_solana.png":
/*!************************************************!*\
  !*** ./src/assets/blockchain/chain_solana.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_solana.06f60f343b8996c03393.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_stellar.png":
/*!*************************************************!*\
  !*** ./src/assets/blockchain/chain_stellar.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_stellar.a10a31ebdfc3bdf6f7cc.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_ton.png":
/*!*********************************************!*\
  !*** ./src/assets/blockchain/chain_ton.png ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_ton.0d23fd132c69703b3336.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_tron.png":
/*!**********************************************!*\
  !*** ./src/assets/blockchain/chain_tron.png ***!
  \**********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_tron.e8fd98f5e5c8c06481c3.png";

/***/ }),

/***/ "./src/assets/blockchain/chain_zcash.png":
/*!***********************************************!*\
  !*** ./src/assets/blockchain/chain_zcash.png ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "chain_zcash.de4dd89c5d68a5be3dc8.png";

/***/ }),

/***/ "./src/assets/coins/coin_btc.png":
/*!***************************************!*\
  !*** ./src/assets/coins/coin_btc.png ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "coin_btc.887dcd8a09b641cd64fc.png";

/***/ }),

/***/ "./src/assets/coins/coin_ton.png":
/*!***************************************!*\
  !*** ./src/assets/coins/coin_ton.png ***!
  \***************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "coin_ton.3ad15a82e5688b967ed1.png";

/***/ }),

/***/ "./src/assets/coins/ton.svg":
/*!**********************************!*\
  !*** ./src/assets/coins/ton.svg ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "ton.93b235d12cedc24e0b6b.svg";

/***/ }),

/***/ "./src/assets/incoming-transaction.mp3":
/*!*********************************************!*\
  !*** ./src/assets/incoming-transaction.mp3 ***!
  \*********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "incoming-transaction.4ddd93d8f1ec1c4e2651.mp3";

/***/ }),

/***/ "./src/assets/logo.svg":
/*!*****************************!*\
  !*** ./src/assets/logo.svg ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "logo.94fd894f70f34bf26464.svg";

/***/ }),

/***/ "./src/assets/lottie/duck_bill.tgs":
/*!*****************************************!*\
  !*** ./src/assets/lottie/duck_bill.tgs ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_bill.0b116864bb6c0c8f39c7.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_forges.tgs":
/*!*******************************************!*\
  !*** ./src/assets/lottie/duck_forges.tgs ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_forges.56963fc80c4b20ba0971.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_guard.tgs":
/*!******************************************!*\
  !*** ./src/assets/lottie/duck_guard.tgs ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_guard.7bc20fa3f3819e2272b3.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_happy.tgs":
/*!******************************************!*\
  !*** ./src/assets/lottie/duck_happy.tgs ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_happy.8f29b0212ea907373f59.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_hello.tgs":
/*!******************************************!*\
  !*** ./src/assets/lottie/duck_hello.tgs ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_hello.7ac55140034817555c4e.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_no-data.tgs":
/*!********************************************!*\
  !*** ./src/assets/lottie/duck_no-data.tgs ***!
  \********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_no-data.e3dfea28a5027d6f4f50.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_run.tgs":
/*!****************************************!*\
  !*** ./src/assets/lottie/duck_run.tgs ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_run.8ccaf331f66dcc0c22cc.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_snitch.tgs":
/*!*******************************************!*\
  !*** ./src/assets/lottie/duck_snitch.tgs ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_snitch.4285b99fc5245f42f600.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_thumb.tgs":
/*!******************************************!*\
  !*** ./src/assets/lottie/duck_thumb.tgs ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_thumb.e2a8c294e106dbcd2a33.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_ton.tgs":
/*!****************************************!*\
  !*** ./src/assets/lottie/duck_ton.tgs ***!
  \****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_ton.613a9a6cc80f8c578002.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_wait.tgs":
/*!*****************************************!*\
  !*** ./src/assets/lottie/duck_wait.tgs ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_wait.a8672f5424b91df518a6.tgs";

/***/ }),

/***/ "./src/assets/lottie/duck_yeee.tgs":
/*!*****************************************!*\
  !*** ./src/assets/lottie/duck_yeee.tgs ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_yeee.4c912f695889eae4fa0c.tgs";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_bill.png":
/*!************************************************!*\
  !*** ./src/assets/lottiePreview/duck_bill.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_bill.966ff858d718072aae75.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_forges.png":
/*!**************************************************!*\
  !*** ./src/assets/lottiePreview/duck_forges.png ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_forges.52c157bd0cc621f324e1.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_guard.png":
/*!*************************************************!*\
  !*** ./src/assets/lottiePreview/duck_guard.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_guard.d4ebb8f84ebdd68f3da2.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_happy.png":
/*!*************************************************!*\
  !*** ./src/assets/lottiePreview/duck_happy.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_happy.b8afd923624d1ef9061d.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_hello.png":
/*!*************************************************!*\
  !*** ./src/assets/lottiePreview/duck_hello.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_hello.c865862ea6c03bf4088b.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_no-data.png":
/*!***************************************************!*\
  !*** ./src/assets/lottiePreview/duck_no-data.png ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_no-data.21cf5ad05a9a06aebcff.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_run.png":
/*!***********************************************!*\
  !*** ./src/assets/lottiePreview/duck_run.png ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_run.a70c5e12b26ee1d82b73.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_snitch.png":
/*!**************************************************!*\
  !*** ./src/assets/lottiePreview/duck_snitch.png ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_snitch.b567535e9c071b993b06.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_thumb.png":
/*!*************************************************!*\
  !*** ./src/assets/lottiePreview/duck_thumb.png ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_thumb.8d21bd4f32485ac2c2a2.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_ton.png":
/*!***********************************************!*\
  !*** ./src/assets/lottiePreview/duck_ton.png ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_ton.c26fd7a7467b637009fe.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_wait.png":
/*!************************************************!*\
  !*** ./src/assets/lottiePreview/duck_wait.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_wait.b0fe6ec6993586b30e65.png";

/***/ }),

/***/ "./src/assets/lottiePreview/duck_yeee.png":
/*!************************************************!*\
  !*** ./src/assets/lottiePreview/duck_yeee.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "duck_yeee.6a3e6f89a1e9cdb20fc7.png";

/***/ }),

/***/ "./src/assets/scam.svg":
/*!*****************************!*\
  !*** ./src/assets/scam.svg ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "scam.8fb66536b659fd1bbfc6.svg";

/***/ }),

/***/ "./src/assets/settings/settings_about.svg":
/*!************************************************!*\
  !*** ./src/assets/settings/settings_about.svg ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_about.b6cd76132514bb4c18d3.svg";

/***/ }),

/***/ "./src/assets/settings/settings_appearance.svg":
/*!*****************************************************!*\
  !*** ./src/assets/settings/settings_appearance.svg ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_appearance.2b14c893329172079cde.svg";

/***/ }),

/***/ "./src/assets/settings/settings_assets-activity.svg":
/*!**********************************************************!*\
  !*** ./src/assets/settings/settings_assets-activity.svg ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_assets-activity.1ad5da85234bf09fece1.svg";

/***/ }),

/***/ "./src/assets/settings/settings_backup-secret.svg":
/*!********************************************************!*\
  !*** ./src/assets/settings/settings_backup-secret.svg ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_backup-secret.c550de3d4096d15075d8.svg";

/***/ }),

/***/ "./src/assets/settings/settings_biometrics.svg":
/*!*****************************************************!*\
  !*** ./src/assets/settings/settings_biometrics.svg ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_biometrics.507638446829e8e0d552.svg";

/***/ }),

/***/ "./src/assets/settings/settings_checkmark.svg":
/*!****************************************************!*\
  !*** ./src/assets/settings/settings_checkmark.svg ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_checkmark.4c62604cbc9fd263c110.svg";

/***/ }),

/***/ "./src/assets/settings/settings_connected-dapps.svg":
/*!**********************************************************!*\
  !*** ./src/assets/settings/settings_connected-dapps.svg ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_connected-dapps.2040e629b6b7c8322782.svg";

/***/ }),

/***/ "./src/assets/settings/settings_disclaimer.svg":
/*!*****************************************************!*\
  !*** ./src/assets/settings/settings_disclaimer.svg ***!
  \*****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_disclaimer.253b4de147ec357601d1.svg";

/***/ }),

/***/ "./src/assets/settings/settings_exit.svg":
/*!***********************************************!*\
  !*** ./src/assets/settings/settings_exit.svg ***!
  \***********************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_exit.32a8c2a0aa15b32cbe18.svg";

/***/ }),

/***/ "./src/assets/settings/settings_face-id.svg":
/*!**************************************************!*\
  !*** ./src/assets/settings/settings_face-id.svg ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_face-id.9114cd96723fdb063bc4.svg";

/***/ }),

/***/ "./src/assets/settings/settings_install-app.svg":
/*!******************************************************!*\
  !*** ./src/assets/settings/settings_install-app.svg ***!
  \******************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_install-app.4e35ba78163938763ef1.svg";

/***/ }),

/***/ "./src/assets/settings/settings_install-desktop.svg":
/*!**********************************************************!*\
  !*** ./src/assets/settings/settings_install-desktop.svg ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_install-desktop.82798d4e1191f93c1127.svg";

/***/ }),

/***/ "./src/assets/settings/settings_install-mobile.svg":
/*!*********************************************************!*\
  !*** ./src/assets/settings/settings_install-mobile.svg ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_install-mobile.6e525f0f70634bb2dbd8.svg";

/***/ }),

/***/ "./src/assets/settings/settings_language.svg":
/*!***************************************************!*\
  !*** ./src/assets/settings/settings_language.svg ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_language.5082638742f18ab7aea8.svg";

/***/ }),

/***/ "./src/assets/settings/settings_ledger.svg":
/*!*************************************************!*\
  !*** ./src/assets/settings/settings_ledger.svg ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_ledger.d4d0de11ad8edd55b0ca.svg";

/***/ }),

/***/ "./src/assets/settings/settings_support.svg":
/*!**************************************************!*\
  !*** ./src/assets/settings/settings_support.svg ***!
  \**************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_support.de2a6e66d58407937014.svg";

/***/ }),

/***/ "./src/assets/settings/settings_telegram-menu.svg":
/*!********************************************************!*\
  !*** ./src/assets/settings/settings_telegram-menu.svg ***!
  \********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_telegram-menu.48b7177fffab504e301c.svg";

/***/ }),

/***/ "./src/assets/settings/settings_ton-links.svg":
/*!****************************************************!*\
  !*** ./src/assets/settings/settings_ton-links.svg ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_ton-links.d9f0da8222e4a54c9332.svg";

/***/ }),

/***/ "./src/assets/settings/settings_ton-magic.svg":
/*!****************************************************!*\
  !*** ./src/assets/settings/settings_ton-magic.svg ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_ton-magic.bc2fb1d30938a1154b6c.svg";

/***/ }),

/***/ "./src/assets/settings/settings_ton-proxy.svg":
/*!****************************************************!*\
  !*** ./src/assets/settings/settings_ton-proxy.svg ***!
  \****************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_ton-proxy.21c95b346710c5a73217.svg";

/***/ }),

/***/ "./src/assets/settings/settings_wallet-version.svg":
/*!*********************************************************!*\
  !*** ./src/assets/settings/settings_wallet-version.svg ***!
  \*********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "settings_wallet-version.651cf56eff6ca7827bf6.svg";

/***/ }),

/***/ "./src/assets/theme/theme_dark.png":
/*!*****************************************!*\
  !*** ./src/assets/theme/theme_dark.png ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "theme_dark.861c97b37d7b5e334f43.png";

/***/ }),

/***/ "./src/assets/theme/theme_light.png":
/*!******************************************!*\
  !*** ./src/assets/theme/theme_light.png ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "theme_light.55652e587378ea8b1878.png";

/***/ }),

/***/ "./src/assets/theme/theme_system.png":
/*!*******************************************!*\
  !*** ./src/assets/theme/theme_system.png ***!
  \*******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "theme_system.57e9b1beddedcbe1c25f.png";

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = {"version":"3.0.10"};

/***/ }),

/***/ "./src/i18n/en.json":
/*!**************************!*\
  !*** ./src/i18n/en.json ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"$auth_intro":"**Securely** store crypto\\nand make blockchain payments\\nat the **speed of light**.\\n","Create New Wallet":"Create New Wallet","Import From %1$d Secret Words":"Import From %1$d Secret Words","More about MyTonWallet":"More about MyTonWallet","Creating Wallet...":"Creating Wallet...","On the count of three...":"On the count of three...","Back Up":"Back Up","Passwords must be equal.":"Passwords must be equal.","To protect your wallet as much as possible, use a password with":"To protect your wallet as much as possible, use a password with","$auth_password_rule_8chars":"at least 8 characters","$auth_password_rule_one_small_char":"one small letter","$auth_password_rule_one_capital_char":"one capital letter","$auth_password_rule_one_digit":"one digit","$auth_password_rule_one_special_char":"and one special character","The wallet is imported":"The wallet is imported","The wallet is ready":"The wallet is ready","Create a password to protect it.":"Create a password to protect it.","Enter your password":"Enter your password","Enter your password...":"Enter your password...","...and repeat it":"...and repeat it","Cancel":"Cancel","Insecure Password":"Insecure Password","Your have entered an insecure password, which can be easily guessed by scammers.":"Your have entered an insecure password, which can be easily guessed by scammers.","Continue or change password to something more secure?":"Continue or change password to something more secure?","Change":"Change","%1$d Secret Words":"%1$d Secret Words","$auth_import_mnemonic_description":"You can restore access to your wallet by entering the %1$d secret words that you wrote down when creating the wallet.\\n","Let’s make sure your secrets words are recorded correctly.":"Let’s make sure your secrets words are recorded correctly.","$mnemonic_check_words_list":"Please enter the words **%1$s** below.","$mnemonic_check_error":"The secret words you have entered do not match the ones in the list. Please try again.","$mnemonic_list_description":"Write down these words\\nin the **correct order** and store them\\nin a **secret place**.\\n","$mnemonic_warning":"**Do not** send or show it to anyone,\\n**do not** enter it anywhere.\\n","Let\'s Check":"Let\'s Check","Let\'s Check!":"Let\'s Check!","Safety Rules":"Safety Rules","$safety_rules_one":"On the next screen you will see the **secret words**. Write them down in the correct order and **store in a secure place**.\\n","$safety_rules_two":"They allow to **open your wallet** if you lose your password or access to this device.","$safety_rules_three":"If anybody else sees these words your funds **may be stolen**. **Do not send it to anyone**, not even developers or technical support.","Understood":"Understood","Congratulations!":"Congratulations!","Continue":"Continue","Close":"Close","Back":"Back","Search...":"Search...","Main menu":"Main menu","TON Proxy":"TON Proxy","Toggle TON Proxy":"Toggle TON Proxy","TON Magic":"TON Magic","Toggle TON Magic":"Toggle TON Magic","Open Telegram Web":"Open Telegram Web","Back Up Secret Words":"Back Up Secret Words","Settings":"Settings","About":"About","Exit":"Exit","Remove Wallet":"Remove Wallet","Something went wrong.":"Something went wrong.","Something went wrong":"Something went wrong","Logo":"Logo","$about_description1":"Securely store crypto, explore decentralized apps, and make blockchain payments at the **speed of light**.","$about_description2":"The wallet is **non-custodial and safe**. The developers **do not** have access to your funds, browser history or any other information.","What is TON Proxy?":"What is TON Proxy?","$about_extension_description1":"TON Proxy opens a way to **decentralized internet** by allowing to anonymously access TON Sites.","More info and demo.":"More info and demo.","$about_extension_description2":"TON Magic provides native **Telegram integration** by patching the official Telegram Web app.","$about_extension_description3":"Turn it on to send and receive Toncoins from any Telegram user.","$about_proxy_magic_title":"What about %ninja% TON Proxy and %unicorn% TON Magic?","$about_proxy_magic_description":"To enjoy **decentralized internet**, access **TON Sites**, and leverage native **Telegram integration**, feel free to install the %extension_link%.","$about_extension_link_text":"**MyTonWallet extension**","Is it open source?":"Is it open source?","$about_wallet_github":"Yes, it is. Feel free to explore our %github_link%.","$about_github_link_text":"**GitHub repository**","Is there a community?":"Is there a community?","$about_wallet_community":"Sure, welcome to our %community_link%.","$about_community_link_text":"**Telegram channel**","Currency History":"Currency History","$add_account_description1":"**MyTonWallet** allows you to seamlessly\\nswitch between **multiple accounts**.\\n","Enter Password":"Enter Password","Send":"Send","Add Wallet":"Add Wallet","Done":"Done","Delete":"Delete","Delete Saved Address":"Delete Saved Address","Are you sure you want to remove this address from your saved ones?":"Are you sure you want to remove this address from your saved ones?","You will be able to save it again via Transaction Info with this address.":"You will be able to save it again via Transaction Info with this address.","Address removed from saved":"Address removed from saved","Warning!":"Warning!","Log Out":"Remove Wallet","$logout_without_backup_warning":"You have not backed up this wallet. If you remove it now, you will lose access to your tokens and NFTs.","$logout_accounts_without_backup_warning":"You have not backed up %links%. If you proceed, you will lose access to your tokens and NFTs.","$logout_warning":"This will remove the current wallet from the app. Make sure you have your **%1$d secret words** backed up.","Your address was copied!":"Your address was copied!","Show QR Code":"Show QR Code","Create Deposit Link":"Create Deposit Link","QR Code":"QR Code","$receive_invoice_description":"You can specify the amount and purpose of\\nthe payment to save the sender some time.\\n","Amount":"Amount","Comment":"Comment","Comment or Memo":"Comment or Memo","Share this URL to receive TON":"Share this URL to receive TON","Invoice link was copied!":"Invoice link was copied!","Theme":"Theme","Language":"Language","Enable Animations":"Enable Animations","Base Currency":"Base Currency","Investor View":"Investor View","Toggle Investor View":"Toggle Investor View","Hide Tiny Transfers":"Hide Tiny Transfers","Toggle Hide Tiny Transfers":"Toggle Hide Tiny Transfers","Network":"Network","Developer Options":"Developer Options","Confirmation":"Confirmation","Data to sign":"Data to sign","$signature_warning":"Signing custom data is very dangerous. Use it only if you trust the source of it.","Sign":"Sign","Done!":"Done!","Signing was confirmed!":"Signing was confirmed!","Transaction Info":"Transaction Info","Transaction in progress":"Transaction in progress","Comment was copied!":"Comment was copied!","View Transaction on %ton_explorer_name%":"View Transaction on %ton_explorer_name%","Sender":"Sender","Recipient":"Recipient","Address was copied!":"Address was copied!","Repeat":"Repeat","Receive":"Receive","Switch Account":"Switch Account","Copy wallet address":"Copy wallet address","View address on %ton_explorer_name%":"View address on %ton_explorer_name%","You have just created a new wallet":"You have just created a new wallet","You can now transfer your tokens from another wallet or exchange.":"You can now transfer your tokens from another wallet or exchange.","Assets":"Assets","Activity":"Activity","NFT":"NFT","No NFTs yet":"No NFTs yet","$nft_explore_offer":"Explore a marketplace to discover\\nexisting NFT collections.\\n","Open Getgems":"Open Getgems","Transaction is not completed":"Transaction is not completed","Received":"Received","Sent":"Sent","$transaction_from":"from %address%","$transaction_to":"to %address%","Wallet is not backed up":"Wallet is not backed up","Testnet Version":"Testnet Version","Error reading clipboard":"Error reading clipboard","$fee_value":"Fee: %fee%","Loading...":"Loading...","Recipient Address":"Recipient Address","Wallet address or domain":"Wallet address or domain","Incorrect address":"Incorrect address","Incorrect address.":"Incorrect address.","Paste":"Paste","Insufficient balance":"Insufficient balance","InsufficientBalance":"Insufficient balance","Optional":"Optional","$send_token_symbol":"Send %1$s","Is it all ok?":"Is it all ok?","Receiving Address":"Receiving Address","Fee":"Fee","Edit":"Edit","Confirm":"Confirm","Coins have been sent!":"Coins have been sent!","Details":"Details","Change password visibility":"Change password visibility","Amount value":"Amount value","Save Address":"Save Address","Name":"Name","Save":"Save","Copy":"Copy","Remove From Saved Addresses":"Remove From Saved Addresses","Add To Saved Addresses":"Add To Saved Addresses","View Address on %ton_explorer_name%":"View Address on %ton_explorer_name%","No suggestions, you\'re on your own!":"No suggestions, you\'re on your own!","Play Sounds":"Play Sounds","Focus on asset value rather than current balance":"Focus on asset value rather than current balance","$logout_confirm":"Remove **all** wallets","$logout_warning2":"Wallets are located in the decentralized TON Blockchain. If you want the wallet to be deleted simply transfer all the TON from it and leave it empty.","$tiny_transfers_help":"Hide transfers worth less than $%value%. Keep in mind: small amounts are often sent by spammers and scammers.","Today":"Today","Yesterday":"Yesterday","Now":"Now","$receive_ton_description":"You can share your address, scan QR code\\nor create a deposit link to receive crypto.\\n","Your address":"Your address","Wrong password, please try again.":"Wrong password, please try again.","Appearance":"Appearance","Light":"Light","Dark":"Dark","System":"System","Stake TON":"Stake TON","Earn from your tokens while holding them":"Earn from your tokens while holding them","$est_apy_val":"Est. APY %1$d%","Why this is safe":"Why this is safe","Why is staking safe?":"Why is staking safe?","$safe_staking_description1":"Staking is **fully decentralized** and operated by the **official TON Liquid Staking** smart contracts.","$safe_staking_description2":"The deposited stake will be used for the TON network validation as part of its **proof-of-stake** essence.","$safe_staking_description3":"You can withdraw your stake at **any time** and it will be deposited back to your account within **two days**.","$min_value":"Min %value%","Est. balance in a year":"Est. balance in a year","Confirm Staking":"Confirm Staking","Confirm operation with your password":"Confirm operation with your password","Coins have been staked!":"Coins have been staked!","View":"View","Stake More":"Stake More","Staking":"Staking","Currently Staked":"Currently Staked","Unstake":"Unstake","Earning History":"Earning History","$total":"Total: %value%","Unstake TON":"Unstake TON","$unstake_information_with_time":"Your current deposit will be fully sent back to your wallet in %time%.\\nThis will stop your earnings.\\n","Amount to unstake":"Amount to unstake","Confirm Unstaking":"Confirm Unstaking","Request for unstaking is sent!":"Request for unstaking is sent!","$unstaking_when_receive":"You will receive your unstaked deposit in %time%.","$unstake_insufficient_balance":"You need to have %balance% on your main balance to proceed with unstaking.","at %apy_value%":"at %apy_value%","Staked":"Staked","Unstake Requested":"Unstake Requested","Unstaked":"Unstaked","The network fee has slightly changed, try sending again.":"The network fee has slightly changed, try sending again.","Transfer was unsuccessful. Try again later.":"Transfer was unsuccessful. Try again later.","Unstaking was unsuccessful. Try again later.":"Unstaking was unsuccessful. Try again later.","Staking was unsuccessful. Try again later.":"Staking was unsuccessful. Try again later.","Invalid amount":"Invalid amount","Invalid address":"Invalid address","Domain is not connected to a wallet":"Domain is not connected to a wallet","Unexpected error":"Unexpected error","Unexpected Error":"Unexpected Error","Earn":"Earn","Earning":"Earning","InvalidAmount":"Invalid amount","InvalidToAddress":"Invalid recipient address","Unexpected":"Unexpected error","DomainNotResolved":"Domain Not Resolved","You can save this address for quick access while sending.":"You can save this address for quick access while sending.","Stake Again":"Stake Again","Earned":"Earned","Connect Dapp":"Connect Dapp","Select wallet to use on this dapp":"Select wallet to use on this dapp","Connect":"Connect","Dapp Permissions":"Dapp Permissions","$dapp_can_view_balance":"%dappname% will be able to view wallet address and balance.","Send Transaction":"Send Transaction","Payload":"Payload","$many_transactions":"%1$d transactions","Total Amount":"Total Amount","Unstaking":"Unstaking","Handle ton:// links":"Handle ton:// links","Back up wallet to have full access to it":"Back up wallet to have full access to it","Consider More Secure Version":"Consider More Secure Version","Install our native app or browser extension.":"Install our native app or browser extension.","Scam":"Scam","Scam comment is hidden.":"Scam comment is hidden.","Display":"Display","$dapp_transfer_tokens_payload":"Sending %amount% from your account to %address%","Connected Dapps":"Connected Dapps","Disconnect All Dapps":"Disconnect All Dapps","Disconnect":"Disconnect","Disconnect Dapp":"Disconnect Dapp","Disconnect Dapps":"Disconnect Dapps","Are you sure you want to disconnect?":"Are you sure you want to disconnect %dappname%?","Are you sure you want to disconnect all websites?":"Are you sure you want to disconnect all websites?","$dapps-description":"You can log in on dapps that support MyTonWallet. They can view wallet address, balance, and request operations.","Logged in with MyTonWallet":"Logged in with MyTonWallet","No active connections":"No active connections","Other":"Other","Assets & Activity":"Assets & Activity","Token Settings":"Token Settings","My Tokens":"My Tokens","Add Token":"Add Token","Delete Token":"Delete Token","Are you sure you want to delete?":"Are you sure you want to delete %token%?","Hide Tokens With No Cost":"Hide Tokens With No Cost","Sort By Cost":"Sort By Cost","Update MyTonWallet":"Update MyTonWallet","Connect Ledger":"Connect Ledger","Connecting to your Ledger...":"Connecting to your Ledger...","Failed to connect":"Failed to connect","Ledger Connected!":"Ledger Connected!","Select Ledger Wallets":"Select Ledger Wallets","%1$d Selected":"%1$d Selected","Add":"Add","Try Again":"Try Again","Driver":"Driver","Connect your Ledger to PC":"Connect your Ledger to PC","Unlock it and open the TON App":"Unlock it and open the TON App","Maybe you need to check the password or change the driver.":"Maybe you need to check the password or change the driver.","Confirm via Ledger":"Confirm via Ledger","Please confirm transaction on your Ledger":"Please confirm transaction on your Ledger","Declined":"Declined","Create Wallet":"Create Wallet","Switch to the newly opened tab to connect Ledger.":"Switch to the newly opened tab to connect Ledger.","Once connected, switch back to this window to proceed.":"Once connected, switch back to this window to proceed.","Not all transactions were sent successfully":"Not all transactions were sent successfully","The time on your device is incorrect, sync it and try again":"The time on your device is incorrect, sync it and try again","Name or Address...":"Name or Address...","Such error, many tabs":"Such error, many tabs","$many_tabs_error_description":"MyTonWallet supports only one active tab with the app.\\nPlease reload this page to continue using this tab or close it.\\n","Reload App":"Reload App","Please confirm operation on your Ledger":"Please confirm operation on your Ledger","Token Not Found":"Token Not Found","Try another keyword or address.":"Try another keyword or address.","Decrypt":"Decrypt","Encrypted Message":"Encrypted Message","Message is encrypted.":"Message is encrypted.","$dapp_ledger_warning1":"You are about to send a multi-way transaction using your **Ledger** wallet. You will need to sign each underlying transaction **one by one manually**.","$dapp_ledger_warning2":"Please take your time and do not interrupt the process.","Agree":"Agree","SwapTitle":"Swap","Swap":"Swap","You sell":"You sell","You buy":"You buy","Swap Details":"Swap Details","Blockchain Fee":"Blockchain Fee","Routing Fees":"Routing Fees","Included":"Included","Price Impact":"Price Impact","Minimum Received":"Minimum Received","Slippage":"Slippage","$swap_from_to":"Swap %from% %icon% %to%","The exchange rate is below market value!":"The exchange rate is %value% below market value!","Invalid Pair":"Invalid Pair","We do not recommend to perform an exchange, try to specify a lower amount.":"We do not recommend to perform an exchange, try to specify a lower amount.","$swap_minimum_received_tooltip1":"This is the least amount of new tokens you\'ll get from this swap, considering current market conditions, slippage tolerance, and potential price impact.","$swap_minimum_received_tooltip2":"It\'s an expected minimum, but if the conditions change a lot while your swap is being processed, the final amount could be less.","$swap_routing_fees_tooltip":"Both decentralized exchange and app fees (~0.875%) are already included in the price you see and will not be charged additionally.","$swap_price_impact_tooltip1":"This shows how much your trade might change the token\'s price.","$swap_price_impact_tooltip2":"Big trades can make the price go up or down more. Lower is usually better.","$swap_slippage_tooltip1":"This sets how much the price is allowed to change before your swap is processed.","$swap_slippage_tooltip2":"If during the processing of your swap, the price changes more than this value, your order will be canceled.","Coins have been swapped!":"Coins have been swapped!","Slippage not specified":"Slippage not specified","Slippage too high":"Slippage too high","Not Enough %symbol%":"Not Enough %symbol%","Use Responsibly":"Use Responsibly","$auth_responsibly_description1":"MyTonWallet is a **self-custodial** wallet, which means that **only you** have full control and, most importantly, **full responsibility** for your funds.\\n","$auth_responsibly_description2":"Your private keys are stored on your device and are subject to **hacker attacks**. If your computer is infected with **malware**, your funds are likely to be stolen.\\n","$auth_responsibly_description3":"The MyTonWallet team is **not responsible** for the safety of your funds, just as your computer manufacturer or internet provider is not responsible.\\n","$auth_responsibly_description4":"**Never** store all your funds in one place. **Diversify** and use various software and hardware. Always **do your own research** and learn more about crypto security.\\n","Start Wallet":"Start Wallet","$auth_backup_warning_notice":"Now you need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Later":"Later","Back Up Now":"Back Up Now","I have read and accept this information":"I have read and accept this information.","$ledger_verify_address":"Always verify pasted address using your Ledger device.","$ledger_not_ready":"Ledger is not connected or TON app is not open.","Verify now":"Verify now","Invalid address format. Only URL Safe Base64 format is allowed.":"Invalid address format. Only URL Safe Base64 format is allowed.","$auth_backup_description1":"This is a **secure wallet**\\nand is only **controlled by you**.\\n","$auth_backup_description2":"And with great power comes **great responsibility**.","$auth_backup_description3":"You need to manually **back up secret keys** in case you forget your password or lose access to this device.\\n","Swap Placed":"Swap Placed","Swapping":"Swapping","Swapped":"Swapped","Swap Failed":"Swap Failed","Swap Again":"Swap Again","Terms of Use":"Terms of Use","Privacy Policy":"Privacy Policy","Insufficient liquidity":"Insufficient liquidity","This address is new and never received transfers before.":"This address is new and never received transfers before.","Create Backup":"Create Backup","Sending":"Sending","Failed":"Failed","Refunded":"Refunded","On Hold":"On Hold","Expired":"Expired","In Progress":"In Progress","Waiting for Payment":"Waiting for Payment","Blockchain":"Blockchain","Your address on another blockchain":"Your address on another blockchain","Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.":"Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.","The time for sending coins is over.":"The time for sending coins is over.","You have not sent the coins to the specified address.":"You have not sent the coins to the specified address.","$swap_changelly_to_ton_description1":"Send %value% to this address in %blockchain% blockchain within %time%","Exchange failed and coins were refunded to your wallet.":"Exchange failed and coins were refunded to your wallet.","$swap_changelly_kyc_security":"Please contact **%email%** and provide **Transaction ID** to pass the KYC procedure:","Swap Expired":"Swap Expired","Swap On Hold":"Swap On Hold","Swap Refunded":"Swap Refunded","Address for %blockchain% transfer":"Address for %blockchain% transfer","Cross-chain exchange provided by Changelly":"Cross-chain exchange provided by Changelly","$swap_changelly_agreement_message":"By continuing, you agree to the %terms% and %policy% and understand that the transaction may trigger verification according to %kyc%.","$swap_changelly_terms_of_use":"terms of use","$swap_changelly_privacy_policy":"privacy policy","Password must contain %length% digits.":"Password must contain %length% digits.","Deposit Link":"Deposit Link","$swap_changelly_from_ton_description":"Tokens will be sent to your address in %blockchain% blockchain soon:","Please note that it may take up to a few hours for tokens to appear in your wallet.":"Please note that it may take up to a few hours for tokens to appear in your wallet.","Minimum amount":"Minimum %value%","Maximum amount":"Maximum %value%","Display Tray Icon":"Display Tray Icon","Enable Auto-Updates":"Enable Auto-Updates","Biometric Authentication":"Biometric Authentication","If you turn off biometric protection, you will need to create a password.":"If you turn off biometric protection, you will need to create a password.","Enter your current password":"Enter your current password","Turn On Biometrics":"Turn On Biometrics","Please confirm transaction using biometrics.":"Please confirm transaction using biometrics.","Enabling biometric confirmation will reset the password.":"Enabling biometric confirmation will reset the password.","Biometric Registration":"Biometric Registration","Step 1 of 2. Registration":"Step 1 of 2. Registration","Step 2 of 2. Verification":"Step 2 of 2. Verification","Biometric setup failed.":"Biometric setup failed.","Biometric confirmation failed.":"Biometric confirmation failed.","Failed to disable biometrics.":"Failed to disable biometrics.","Biometric Confirmation":"Biometric Confirmation","Please verify the operation.":"Please verify the operation.","Create Password":"Create Password","Complete":"Complete","Verification":"Verification","Create a password or use biometric authentication to protect it.":"Create a password or use biometric authentication to protect it.","Connect Biometrics":"Connect Biometrics","Use Password":"Use Password","Biometrics Disabled":"Biometrics Disabled","Biometrics Enabled":"Biometrics Enabled","A request is already pending":"A request is already pending","Please confirm operation using biometrics.":"Please confirm operation using biometrics.","Scan QR Code":"Scan QR Code","Permission denied. Please grant camera permission to use the QR code scanner.":"Permission denied. Please grant camera permission to use the QR code scanner.","Unsupported QR code format":"Unsupported QR code format","An error on the server side. Please try again.":"An error on the server side. Please try again.","Unrecognized QR Code":"Unrecognized QR Code","$fee_value_almost_equal":"Fee ≈ %fee%","Address was saved!":"Address was saved!","US Dollar":"US Dollar","Euro":"Euro","Ruble":"Ruble","Yuan":"Yuan","Bitcoin":"Bitcoin","Toncoin":"Toncoin","$max_balance":"Max: %balance%","$unstake_information_instantly":"You will get your deposit instantly","Select Token":"Select Token","MY":"MY","POPULAR":"POPULAR","Not Found":"Not Found","Wallet is ready!":"Wallet is ready!","Wallet is imported!":"Wallet is imported!","Create a code to protect it":"Create a code to protect it","Enter your code again":"Enter your code again","Codes don\'t match":"Codes don’t match","Code set successfully":"Code set successfully","Use Biometrics":"Use Biometrics","Use Touch ID":"Use Touch ID","Use Face ID":"Use Face ID","You can connect your biometric data for more convenience":"You can connect your biometric data for more convenience","Connect Touch ID":"Connect Touch ID","Connect Face ID":"Connect Face ID","Not Now":"Not Now","Biometric Authentification":"Biometric Authentification","Touch ID":"Touch ID","Face ID":"Face ID","Turn Off Touch ID":"Turn Off Touch ID","Turn Off Face ID":"Turn Off Face ID","Turn Off Biometrics":"Turn Off Biometrics","Enter code":"Enter code","Enter code or use Face ID":"Enter code or use Face ID","Enter code or use Touch ID":"Enter code or use Touch ID","Enter code or use biometrics":"Enter code or use biometrics","Wrong code, please try again":"Wrong code, please try again","Scan your fingerprint":"Scan your fingerprint","Incorrect code, please try again.":"Incorrect code, please try again.","Correct":"Correct","Confirm Action":"Confirm Action","Confirm Swap":"Confirm Swap","%amount% to %address%":"%amount% to %address%","%amount_from% to %amount_to%":"%amount_from% to %amount_to%","Failed to enable biometrics.":"Failed to enable biometrics.","Please try to confirm your biometrics again.":"Please try to confirm your biometrics again.","Unknown error.":"Unknown error.","Are you sure you want to disable Face ID?":"Are you sure you want to disable Face ID?","Are you sure you want to disable Touch ID?":"Are you sure you want to disable Touch ID?","Are you sure you want to disable biometrics?":"Are you sure you want to disable biometrics?","Yes":"Yes","Declined. Please try to confirm transaction using biometrics again.":"Declined. Please try to confirm transaction using biometrics again.","No Activity":"No Activity","Add / Buy":"Add / Buy","Buy with Card":"Buy with Card","Buy with Crypto":"Buy with Crypto","Receive with QR or Invoice":"Receive with QR or Invoice","Cannot load widget":"Cannot load widget","Explore":"Explore","No partners yet":"No partners yet","Clear":"Clear","Get TON":"Get TON","Declined. Please try to confirm operation using biometrics again.":"Declined. Please try to confirm operation using biometrics again.","$unstake_up_to_information":"Instantly – up to %value%","$all_balance":"All: %balance%","$unstaking_not_enough_balance":"You need to have %value% on your main balance to proceed with unstaking.","$ledger_verify_address_on_device":"Please, verify the address on your Ledger.","Wallet Versions":"Wallet Versions","$read_more_about_wallet_version":"Read more about types of wallet contracts on %ton_link%.","$current_wallet_version":"Your current wallet version is %version%.","You have tokens on other versions of your wallet. You can import them from here.":"You have tokens on other versions of your wallet. You can import them from here.","$wallet_switch_version_1":"You can also %action%.","$wallet_switch_version_2":"switch to another wallet version","or import from":"or import from","$insufficient_fee":"Insufficient fee: %fee%","Required":"Required","Comment is too long.":"Comment is too long.","Memo":"Memo","Memo was copied!":"Memo was copied!","$hide_tokens_no_cost_help":"Hide tokens worth less than $%value%. Keep in mind: worthless tokens are often sent by spammers and scammers. On the same screen below, you can hide individual tokens.","No internet connection. Please check your connection and try again.":"No internet connection. Please check your connection and try again.","To use this feature, first enable Face ID in your phone settings.":"To use this feature, first enable Face ID in your phone settings.","To use this feature, first enable biometrics in your phone settings.":"To use this feature, first enable biometrics in your phone settings.","Open Settings":"Open Settings","You are about to transfer an important service token, which is needed to withdraw your deposit from staking.":"You are about to transfer an important service token, which is needed to withdraw your deposit from staking.","No Price":"No Price","$ledger_not_supported_operation":"This operation is not supported by your version of the Ledger TON App. Please update it using Ledger Live.","$ledger_unsupported_ton_connect":"TonConnect is not supported by version of your Ledger TON App. Please update it using Ledger Live.","$dapp_transfer_tokens_burn":"Burning %amount%","$dapp_dns_set_wallet_payload":"Changing linked wallet of domain %domain% to %address%","$dapp_dns_delete_wallet_payload":"Deleting linked wallet of domain %domain%","$dapp_dns_change_record_payload":"Changing \\"%category%\\" record of domain %domain% to %value%","$dapp_dns_delete_record_payload":"Deleting \\"%category%\\" record of domain %domain%","$dapp_token_bridge_pay_swap_payload":"Confirmation of exchange via cross-chain bridge","$dapp_liquid_staking_deposit_payload":"Deposit to liquid staking","$dapp_liquid_staking_vote_payload":"Voting \\"%vote%\\" for proposal %votingAddress%","$dapp_single_nominator_change_validator_payload":"Changing address of SingleNominator staking contract validator to %address%","$dapp_single_nominator_withdraw_payload":"Withdrawal of %amount% TON from SingleNominator staking contract","$dapp_vesting_add_whitelist_payload":"Adding %address% to vesting wallet whitelist","Search or enter address...":"Search or enter address...","Connecting dapps is not yet supported by Ledger.":"Connecting dapps is not yet supported by Ledger.","Time synchronization issue. Please ensure your device\'s time settings are correct.":"Time synchronization issue. Please ensure your device\'s time settings are correct.","Data was copied!":"Data was copied!","Open NFT Collection":"Open NFT Collection","Previous":"Previous","Next":"Next","Insufficient TON for fee.":"Insufficient TON for fee.","Send NFT":"Send NFT","NFT has been sent!":"NFT has been sent!","Cannot be sent":"Cannot be sent","NFT is for sale":"NFT is for sale","More actions":"More actions","Open on %ton_explorer_name%":"Open on %ton_explorer_name%","Swap is not supported in Testnet.":"Swap is not supported in Testnet.","Swap is not yet supported by Ledger.":"Swap is not yet supported by Ledger.","Buying with card is not supported in Testnet.":"Buying with card is not supported in Testnet.","Staking is not supported in Testnet.":"Staking is not supported in Testnet.","Get Support":"Get Support","$transfer_inactive_contract_error":"You entered an address in the \\"EQ...\\" format, but the address is not active, so the transaction will not be completed.\\nIf you definitely want to send to this address, then enter the address in the \\"UQ...\\" format.\\n","Successfully":"Successfully","Unstake More":"Unstake More","WrongAddress":"The dapp requested a transaction from another wallet.","Are you sure you want to burn this NFT? It will be lost forever.":"Are you sure you want to burn this NFT?\\nIt will be lost forever.\\n","$multi_burn_nft_warning":"You are going to burn %amount% NFTs.","$multi_send_nft_warning":"The process may take ~%duration% minute(s). Please do not close the app and do not switch accounts until it is finished.","Burn NFT":"Burn NFT","Burn":"Burn","Private Key":"Private Key","%amount% NFTs":"%amount% NFTs","1 NFT":"1 NFT","1 NFT Selected":"1 NFT Selected","%amount% NFTs Selected":"%amount% NFTs Selected","For sale. Cannot be sent and burned":"For sale. Cannot be sent and burned","Select":"Select","Send All":"Send All","Burn All":"Burn All","Select All":"Select All","Collection":"Collection","Transaction ID was copied!":"Transaction ID was copied!","$swap_changelly_support":"If there are any problems, please contact %livechat% or %email% and provide **Transaction ID**:","Changelly Live Chat":"Changelly Live Chat","Your %blockchain% Address":"Your %blockchain% Address","Vesting":"Vesting","Vesting Balance":"Vesting Balance","Ready to Unfreeze":"Ready to Unfreeze","You will receive your unfrozen coins in a few minutes.":"You will receive your unfrozen coins in a few minutes.","Vesting Schedule":"Vesting Schedule","Loyal User Airdrop":"Loyal User Airdrop","Unfrozen":"Unfrozen","Missed":"Missed","Frozen":"Frozen","until %date%":"until %date%","%volume% in %amount% parts":"%volume% in %amount% parts","Unfreeze":"Unfreeze","Claim":"Claim","Confirm Unfreezing":"Confirm Unfreezing","Insufficient Balance for Fee":"Insufficient Balance for Fee","$fee_value_bold":"**Fee:** %fee%","MyTonWallet Features":"MyTonWallet Features","Install on Desktop":"Install on Desktop","Install on Mobile":"Install on Mobile","Install App":"Install App","WrongNetwork":"The dapp requested a transaction from another network.","Hide":"Hide","Hidden NFTs":"Hidden NFTs","Hidden By Me":"Hidden By Me","Probably Scam":"Probably Scam","$settings_nft_probably_scam_description":"These NFTs were automatically disabled by Anti-Scam Protection. You can return the necessary ones to Home if you think they were included in this list by mistake.","Unhide":"Unhide","Hide All":"Hide All","Hide NFT":"Hide NFT","Reload Page":"Reload Page","Open in Safari":"Open in Safari","Open in Browser":"Open in browser","CopyURL":"Copy URL","Share":"Share","Unhide NFT":"Unhide NFT","$unhide_nft_warning":"Are you sure you want to unhide %name%? This NFT looks suspicious and may not match its name and description.","Hide NFTs":"Hide NFTs","Are you sure you want to hide this NFT collection containing %number% NFTs?":"Are you sure you want to hide this NFT collection containing %number% NFTs?","Are you sure you want to hide these %number% NFTs?":"Are you sure you want to hide these %number% NFTs?","Show":"Show","Confirm Sending":"Confirm Sending","Confirm Burning":"Confirm Burning","Confirm Passcode":"Confirm Passcode","Enter your code":"Enter your code","$hardware_payload_warning":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.","$hardware_blind_sign_not_enabled":"A third-party service is requesting access to your wallet — this could lead to the loss of funds. Cancel the operation if you are not sure about the reliability of this service.\\n\\nTo continue, enable the \\"Blind Signing\\" option in the settings of the TON App on Ledger.\\n","Switch to W5":"Switch to W5","Not Scam":"Not Scam","Untitled":"Untitled","$swap_too_small_amount":"Too small amount"}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/create fake namespace object */
/******/ 	(() => {
/******/ 		var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 		var leafPrototypes;
/******/ 		// create a fake namespace object
/******/ 		// mode & 1: value is a module id, require it
/******/ 		// mode & 2: merge all properties of value into the ns
/******/ 		// mode & 4: return value when already ns object
/******/ 		// mode & 16: return value when it's Promise-like
/******/ 		// mode & 8|1: behave like require
/******/ 		__webpack_require__.t = function(value, mode) {
/******/ 			if(mode & 1) value = this(value);
/******/ 			if(mode & 8) return value;
/******/ 			if(typeof value === 'object' && value) {
/******/ 				if((mode & 4) && value.__esModule) return value;
/******/ 				if((mode & 16) && typeof value.then === 'function') return value;
/******/ 			}
/******/ 			var ns = Object.create(null);
/******/ 			__webpack_require__.r(ns);
/******/ 			var def = {};
/******/ 			leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 			for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 				Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 			}
/******/ 			def['default'] = () => (value);
/******/ 			__webpack_require__.d(ns, def);
/******/ 			return ns;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + "." + {"capacitorSecureStorage":"b8bb00be07dd80c43a63","vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3":"e3b1155847c2dfd0685c","vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa":"3bbed3be4b73b0955183","src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7":"07b8bdbe20fdfd918f15","src_util_fetch_ts-src_util_ledger_index_ts":"10d7315e7af5701fb98e","node_modules_capgo_capacitor-native-biometric_dist_esm_web_js":"f19cb5e32bf5d8d55435","node_modules_capacitor_app_dist_esm_web_js":"778ce1cbaed32733873d","node_modules_capacitor_haptics_dist_esm_web_js":"8e8400b3f45c9d1452a6","node_modules_mauricewegner_capacitor-navigation-bar_dist_esm_web_js":"ecaf92def784abb6f27f","node_modules_capacitor-plugin-safe-area_dist_esm_web_js":"56cdbf41a95ef86b8695","mobile_plugins_capacitor-splash-screen_dist_esm_web_js":"61d1c981f952e4a30b1f","node_modules_capacitor_app-launcher_dist_esm_web_js":"5ae5aa698219caeba10f","node_modules_capgo_native-audio_dist_esm_web_js":"de05f9db2e21e387e52b","node_modules_capacitor-mlkit_barcode-scanning_dist_esm_web_js":"45c88ea162304d935696","src_lib_rlottie_RLottie_ts":"5cd0a0c8292efa021862","mobile_plugins_native-dialog_dist_esm_web_js":"115605cd50c17e118bdd","vendors-node_modules_qr-code-styling_lib_qr-code-styling_js":"0f334bf838df638e3981","node_modules_capacitor_action-sheet_dist_esm_web_js":"21693f4a66e06b062f17","node_modules_capacitor-native-settings_dist_esm_web_js":"b9fd292bcef365405cd1","node_modules_capacitor-secure-storage-plugin_dist_esm_web_js":"1dbfcf6d9d19d94d7882","worker":"4c2da0b4666077f26228","src_lib_mediaWorker_index_worker_ts-src_util_bigint_ts-src_util_logs_ts":"8a06b0f5948fdd7152c4"}[chunkId] + ".js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get mini-css chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.miniCssF = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return undefined;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "mytonwallet:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript)
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						}
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkmytonwallet"] = self["webpackChunkmytonwallet"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/* harmony import */ var _global_actions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global/actions */ "./src/global/actions/index.ts");
/* harmony import */ var _global_init__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global/init */ "./src/global/init.ts");
/* harmony import */ var _util_handleError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util/handleError */ "./src/util/handleError.ts");
/* harmony import */ var _util_bigintPatch__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util/bigintPatch */ "./src/util/bigintPatch.ts");
/* harmony import */ var _lib_teact_teact__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/teact/teact */ "./src/lib/teact/teact.ts");
/* harmony import */ var _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./lib/teact/teact-dom */ "./src/lib/teact/teact-dom.ts");
/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./global */ "./src/global/index.ts");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./config */ "./src/config.ts");
/* harmony import */ var _lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./lib/fasterdom/fasterdom */ "./src/lib/fasterdom/fasterdom.ts");
/* harmony import */ var _lib_fasterdom_stricterdom__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./lib/fasterdom/stricterdom */ "./src/lib/fasterdom/stricterdom.ts");
/* harmony import */ var _util_betterView__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./util/betterView */ "./src/util/betterView.ts");
/* harmony import */ var _util_capacitor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./util/capacitor */ "./src/util/capacitor.ts");
/* harmony import */ var _util_electron__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./util/electron */ "./src/util/electron.ts");
/* harmony import */ var _util_fonts__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./util/fonts */ "./src/util/fonts.ts");
/* harmony import */ var _util_multitab__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./util/multitab */ "./src/util/multitab.ts");
/* harmony import */ var _util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./util/windowEnvironment */ "./src/util/windowEnvironment.ts");
/* harmony import */ var _components_App__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./components/App */ "./src/components/App.tsx");
/* harmony import */ var _styles_index_scss__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./styles/index.scss */ "./src/styles/index.scss");


















if (_config__WEBPACK_IMPORTED_MODULE_7__.DEBUG) {
  // eslint-disable-next-line no-console
  console.log('>>> INIT');
}
if (_config__WEBPACK_IMPORTED_MODULE_7__.STRICTERDOM_ENABLED) {
  (0,_lib_fasterdom_stricterdom__WEBPACK_IMPORTED_MODULE_9__.enableStrict)();
}
if (_config__WEBPACK_IMPORTED_MODULE_7__.IS_CAPACITOR) {
  void (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_11__.initCapacitor)();
}
if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_ELECTRON) {
  void (0,_util_electron__WEBPACK_IMPORTED_MODULE_12__.initElectron)();
}
if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_DELEGATING_BOTTOM_SHEET) {
  (0,_util_multitab__WEBPACK_IMPORTED_MODULE_14__.initMultitab)({
    noPubGlobal: true
  });
} else if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_DELEGATED_BOTTOM_SHEET) {
  (0,_util_multitab__WEBPACK_IMPORTED_MODULE_14__.initMultitab)();
}
(async _window$electron => {
  if (_util_windowEnvironment__WEBPACK_IMPORTED_MODULE_15__.IS_IOS_APP) {
    await (0,_util_capacitor__WEBPACK_IMPORTED_MODULE_11__.fixIosAppStorage)();
  }
  await ((_window$electron = window.electron) === null || _window$electron === void 0 ? void 0 : _window$electron.restoreStorage());
  (0,_global__WEBPACK_IMPORTED_MODULE_6__.getActions)().init();
  (0,_global__WEBPACK_IMPORTED_MODULE_6__.getActions)().initApi();
  if (_config__WEBPACK_IMPORTED_MODULE_7__.DEBUG) {
    // eslint-disable-next-line no-console
    console.log('>>> START INITIAL RENDER');
  }
  (0,_lib_fasterdom_fasterdom__WEBPACK_IMPORTED_MODULE_8__.requestMutation)(() => {
    _lib_teact_teact_dom__WEBPACK_IMPORTED_MODULE_5__["default"].render( /*#__PURE__*/_lib_teact_teact__WEBPACK_IMPORTED_MODULE_4__["default"].createElement(_components_App__WEBPACK_IMPORTED_MODULE_16__["default"], null), document.getElementById('root'));
    (0,_util_fonts__WEBPACK_IMPORTED_MODULE_13__.forceLoadFonts)();
    (0,_util_betterView__WEBPACK_IMPORTED_MODULE_10__.betterView)();
  });
  if (_config__WEBPACK_IMPORTED_MODULE_7__.DEBUG) {
    // eslint-disable-next-line no-console
    console.log('>>> FINISH INITIAL RENDER');
  }
  document.addEventListener('dblclick', () => {
    // eslint-disable-next-line no-console
    console.warn('GLOBAL STATE', (0,_global__WEBPACK_IMPORTED_MODULE_6__.getGlobal)());
  });
  if (window.top === window) {
    const selfXssWarnings = {
      en: 'WARNING! This console can be a way for bad people to take over your crypto wallet through something called ' + 'a Self-XSS attack. So, don\'t put in or paste code you don\'t understand. Stay safe!',
      ru: 'ВНИМАНИЕ! Через эту консоль злоумышленники могут захватить ваш криптовалютный кошелёк с помощью так ' + 'называемой атаки Self-XSS. Поэтому не вводите и не вставляйте код, который вы не понимаете. Берегите себя!',
      es: '¡ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su ' + 'billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, ' + 'no introduzca ni pegue código que no comprenda. ¡Cuídese!',
      zh: '警告！这个控制台可能成为坏人通过所谓的Self-XSS攻击来接管你的加密货币钱包的方式。因此，请不要输入或粘贴您不理解的代码。请保护自己！'
    };
    const langCode = navigator.language.split('-')[0];
    const text = selfXssWarnings[langCode] || selfXssWarnings.en;

    // eslint-disable-next-line no-console
    console.log('%c%s', 'color: red; background: yellow; font-size: 18px;', text);
  }
})();
})();

/******/ })()
;
//# sourceMappingURL=main.0c309beaa478f25f8156.js.map