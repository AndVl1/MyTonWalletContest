{"version":3,"file":"main.0c309beaa478f25f8156.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;AACvC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,gCAAgC;AACjC;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wFAAwF;AACzF;;;;;;;;;;;;;;;;;AClMiD;AACjD,uBAAuB,+DAAc;AACrC,eAAe,2OAAe;AAC9B,CAAC;AAC6B;AACJ;AAC1B;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,wDAAwD;AACzD;AACA;AACA;AACA;AACO;AACP;;;;;;;;;;;;;;;;;AC3BiD;AACjD,oBAAoB,+DAAc;AAClC,eAAe,uNAAe;AAC9B,CAAC;AAC6B;AACP;AACvB;;;;;;;;;;;ACNU;AACV;;;;;;;;;;;;;;;;ACDiD;AACjD,oBAAoB,+DAAc;AAClC,eAAe,uNAAe;AAC9B,CAAC;AAC6B;AACP;AACvB;;;;;;;;;;;ACNU;AACV;;;;;;;;;;;;;;;;ACDiD;AACjD,YAAY,+DAAc;AAC1B,eAAe,qMAAe;AAC9B,CAAC;AAC6B;AACf;AACf;;;;;;;;;;;ACNU;AACV;;;;;;;;;;;;;;;;;ACDiD;AACZ;AACrC,kBAAkB,+DAAc;AAChC,mBAAmB,8CAAY;AAC/B,CAAC;AAC6B;AACT;AACrB;;;;;;;;;;;;;;;ACP4C;AACrC,2BAA2B,sDAAS;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,mBAAmB;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;;;;;;;ACvFA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA,2BAA2B,aAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAM;AAC3B,kBAAkB,qBAAM;AACxB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,YAAY;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sCAAsC;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,QAAQ;AAC7D;AACA;AACA;AACA,iCAAiC,YAAY,sCAAsC,KAAK;AACxF;AACA;AACA,qEAAqE;AACrE;AACA;AACA,8CAA8C,WAAW;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,WAAW,iCAAiC,SAAS;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD,WAAW,GAAG,KAAK,4BAA4B,SAAS;AACjH;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gBAAgB,KAAK,kBAAkB;AAC/E;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,uEAAuE,QAAQ;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAM;AAC3B,kBAAkB,qBAAM;AACxB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,YAAY;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,QAAQ;AAC5C;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,EAAE;AACjD;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,UAAU,gDAAgD,GAAG,iBAAiB;AAC7G,qEAAqE;AACrE;AACA,4BAA4B,YAAY;AACxC;AACA,iCAAiC,WAAW,GAAG,mBAAmB,EAAE,UAAU,OAAO,OAAO,EAAE,QAAQ;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,YAAY,GAAG;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD;AACpD;AACA;AACA;AACA,uCAAuC,UAAU,0BAA0B;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,IAAI,GAAG,aAAa;AAC/C,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,sBAAsB,IAAI,GAAG,aAAa;AAC1C;AACA,kBAAkB,YAAY,GAAG,KAAK;AACtC,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C;AAC7C,mCAAmC,2DAA2D;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,YAAY,GAAG,UAAU;AAC5D;AACA;AACA;AACA,cAAc,wBAAwB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc,eAAe;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc,gBAAgB;AACxF;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc,eAAe;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc,iBAAiB;AACzF;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,cAAc,kBAAkB;AAC1F;AACA;AACA;AACA;AACA,CAAC;AACD;;AAEyN;AACzN;;;;;;;;;;;;;;;;;ACzqBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AAC5B;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4CAA4C;AAC7C;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACO;AACP;;;;;;;;;;;;;;;;;ACpDiD;AACjD,gBAAgB,+DAAc;AAC9B,eAAe,6MAAe;AAC9B,CAAC;AAC6B;AACX;AACnB;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,sBAAsB;AAChB;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,8BAA8B;AAC/B;AACA;AACA;AACA;AACO;AACP;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,EAAE;QACV,OAAOA,MAAM;MACf;IACF,CAAC,MAAM;MACLkvD,OAAO,GAAG,IAAI1nD,GAAG,CAAC,CAAC;MACnBzX,KAAK,CAACoc,GAAG,CAACzyK,EAAE,EAAEw1N,OAAO,CAAC;IACxB;IAEA,MAAMx7E,QAAQ,GAAGh6I,EAAE,CAAC,GAAG0B,IAAI,CAAC;IAE5B8zN,OAAO,CAAC/iD,GAAG,CAACgjD,QAAQ,EAAEz7E,QAAQ,CAAC;IAE/B,OAAOA,QAAQ;EACjB,CAAC;AACH;;;;;;;;;;;ACvBY;;AAEZ,kBAAkB;AAClB,mBAAmB;AACnB,qBAAqB;;AAErB;AACA;AACA;;AAEA;AACA,mCAAmC,SAAS;AAC5C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,cAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2CAA2C,UAAU;AACrD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,eAAe,mBAAO,CAAC,oDAAW;AAClC,gBAAgB,mBAAO,CAAC,gDAAS;AACjC;AACA;AACA;AACA;;AAEA,cAAc;AACd,yBAAkB;AAClB,yBAAyB;;AAEzB;AACA,yBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,wCAAwC,SAAS;AACjD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;;AAEA;AACA;AACA,cAAc,iBAAiB;AAC/B;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA,yBAAyB,eAAe;AACxC;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,yBAAyB,QAAQ;AACjC;AACA,sBAAsB,eAAe;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,sBAAsB,SAAS;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,sBAAsB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,iBAAiB;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,qBAAqB,WAAW,GAAG,IAAI;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA,gBAAgB,WAAW,GAAG,IAAI,KAAK,aAAa;AACpD;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB;;AAEA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,KAAK,mDAAmD,cAAc;AACzF,GAAG;AACH;AACA;AACA,+BAA+B,IAAI;AACnC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,MAAM,aAAa,SAAS;AACtD;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB,cAAc,oBAAoB,EAAE,IAAI;AACxC;AACA,YAAY,gBAAgB,EAAE,IAAI;AAClC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,GAAG,SAAS,GAAG,KAAK,qBAAqB,EAAE,EAAE;AACpE,QAAQ;AACR,yBAAyB,GAAG,KAAK,yBAAyB,EAAE,EAAE;AAC9D,mBAAmB,yBAAyB,EAAE,EAAE;AAChD;AACA,MAAM;AACN,oBAAoB,IAAI,EAAE,GAAG,SAAS,IAAI,EAAE,EAAE;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,0CAA0C,cAAc,SAAS,OAAO;AACxE;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,YAAY;AAC9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAkB,gBAAgB;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAkB,gBAAgB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA,oBAAoB,QAAQ;AAC5B;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACzjEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,0CAA0C;AACpC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,kCAAkC;AACnC;;;;;;;;;;;;;;;;;;AC1SiD;AACjD,uBAAuB,+DAAc;AACrC,eAAe,4NAAe;AAC9B,CAAC;AAC6B;AACJ;AAC1B;;;;;;;;;;;ACNU;AACV;;;;;;;;;;;;;;;;ACDiD;AACjD,iBAAiB,+DAAc;AAC/B,eAAe,8NAAe;AAC9B,CAAC;AAC6B;AACV;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCDjsD;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;UAEA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,sDAAsD;WACtD,sCAAsC,iEAAiE;WACvG;WACA;WACA;WACA;WACA;WACA;;;;;WCzBA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,EAAE;WACF;;;;;WCRA;WACA;WACA;WACA,8BAA8B,+vDAA+vD;WAC7xD;;;;;WCJA;WACA;WACA;WACA;WACA;;;;;WCJA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;;;;;WCAA;WACA;WACA;WACA;WACA,uBAAuB,4BAA4B;WACnD;WACA;WACA;WACA,iBAAiB,oBAAoB;WACrC;WACA,mGAAmG,YAAY;WAC/G;WACA;WACA;WACA;WACA;;WAEA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA,mEAAmE,iCAAiC;WACpG;WACA;WACA;WACA;;;;;WCxCA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;WACA;;;;;WClBA;;WAEA;WACA;WACA;WACA;WACA;WACA;;WAEA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","sources":["webpack://mytonwallet/./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor-mlkit/barcode-scanning/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/action-sheet/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/action-sheet/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/app-launcher/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/app-launcher/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/app/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/app/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/clipboard/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/clipboard/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/clipboard/dist/esm/web.js","webpack://mytonwallet/./node_modules/@capacitor/core/dist/index.js","webpack://mytonwallet/./node_modules/@capacitor/haptics/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/haptics/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capacitor/status-bar/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capacitor/status-bar/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capgo/capacitor-native-biometric/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capgo/capacitor-native-biometric/dist/esm/index.js","webpack://mytonwallet/./node_modules/@capgo/native-audio/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@capgo/native-audio/dist/esm/index.js","webpack://mytonwallet/./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/index.js","webpack://mytonwallet/./node_modules/@mauricewegner/capacitor-navigation-bar/dist/esm/navigationbar.events.js","webpack://mytonwallet/../../src/definitions.ts","webpack://mytonwallet/../../src/index.ts","webpack://mytonwallet/./src/api/blockchains/ton/constants.ts","webpack://mytonwallet/./src/api/errors.ts","webpack://mytonwallet/./src/api/index.ts","webpack://mytonwallet/./src/api/providers/worker/connector.ts","webpack://mytonwallet/./src/api/tonConnect/types/index.ts","webpack://mytonwallet/./src/api/types/activity.ts","webpack://mytonwallet/./src/api/types/backend.ts","webpack://mytonwallet/./src/api/types/errors.ts","webpack://mytonwallet/./src/api/types/index.ts","webpack://mytonwallet/./src/api/types/misc.ts","webpack://mytonwallet/./src/api/types/payload.ts","webpack://mytonwallet/./src/api/types/storage.ts","webpack://mytonwallet/./src/api/types/updates.ts","webpack://mytonwallet/./src/components/App.tsx","webpack://mytonwallet/./src/components/AppInactive.tsx","webpack://mytonwallet/./src/components/Dialogs.tsx","webpack://mytonwallet/./src/components/addbuy/AddBuyModal.tsx","webpack://mytonwallet/./src/components/addbuy/AddBuyStatic.tsx","webpack://mytonwallet/./src/components/auth/Auth.tsx","webpack://mytonwallet/./src/components/auth/AuthBackupWalletModal.tsx","webpack://mytonwallet/./src/components/auth/AuthBackupWarning.tsx","webpack://mytonwallet/./src/components/auth/AuthCheckPassword.tsx","webpack://mytonwallet/./src/components/auth/AuthConfirmBiometrics.tsx","webpack://mytonwallet/./src/components/auth/AuthConfirmPin.tsx","webpack://mytonwallet/./src/components/auth/AuthCreateBackup.tsx","webpack://mytonwallet/./src/components/auth/AuthCreateBiometrics.tsx","webpack://mytonwallet/./src/components/auth/AuthCreateNativeBiometrics.tsx","webpack://mytonwallet/./src/components/auth/AuthCreatePassword.tsx","webpack://mytonwallet/./src/components/auth/AuthCreatePin.tsx","webpack://mytonwallet/./src/components/auth/AuthCreatingWallet.tsx","webpack://mytonwallet/./src/components/auth/AuthDisclaimer.tsx","webpack://mytonwallet/./src/components/auth/AuthImportMnemonic.tsx","webpack://mytonwallet/./src/components/auth/AuthStart.tsx","webpack://mytonwallet/./src/components/auth/MnemonicCheck.tsx","webpack://mytonwallet/./src/components/auth/MnemonicList.tsx","webpack://mytonwallet/./src/components/auth/MnemonicPrivateKey.tsx","webpack://mytonwallet/./src/components/auth/SafetyRules.tsx","webpack://mytonwallet/./src/components/common/Countdown.tsx","webpack://mytonwallet/./src/components/common/InputMnemonic.tsx","webpack://mytonwallet/./src/components/common/SwapResult.tsx","webpack://mytonwallet/./src/components/common/SwapTokensInfo.tsx","webpack://mytonwallet/./src/components/common/TokenPriceChart.tsx","webpack://mytonwallet/./src/components/common/TokenSelector.tsx","webpack://mytonwallet/./src/components/common/TransactionAmount.tsx","webpack://mytonwallet/./src/components/common/TransferResult.tsx","webpack://mytonwallet/./src/components/dapps/DappConnectModal.tsx","webpack://mytonwallet/./src/components/dapps/DappInfo.tsx","webpack://mytonwallet/./src/components/dapps/DappLedgerWarning.tsx","webpack://mytonwallet/./src/components/dapps/DappPassword.tsx","webpack://mytonwallet/./src/components/dapps/DappTransfer.tsx","webpack://mytonwallet/./src/components/dapps/DappTransferInitial.tsx","webpack://mytonwallet/./src/components/dapps/DappTransferModal.tsx","webpack://mytonwallet/./src/components/electron/ElectronHeader.tsx","webpack://mytonwallet/./src/components/electron/UpdateApp.tsx","webpack://mytonwallet/./src/components/explore/Site.tsx","webpack://mytonwallet/./src/components/explore/helpers.ts","webpack://mytonwallet/./src/components/explore/hooks/useDappBridge.ts","webpack://mytonwallet/./src/components/explore/hooks/useWebViewBridge.ts","webpack://mytonwallet/./src/components/ledger/LedgerConfirmOperation.tsx","webpack://mytonwallet/./src/components/ledger/LedgerConnect.tsx","webpack://mytonwallet/./src/components/ledger/LedgerModal.tsx","webpack://mytonwallet/./src/components/ledger/LedgerSelectWallets.tsx","webpack://mytonwallet/./src/components/main/Main.tsx","webpack://mytonwallet/./src/components/main/Notifications.tsx","webpack://mytonwallet/./src/components/main/helpers/calcVestingAmountByStatus.ts","webpack://mytonwallet/./src/components/main/helpers/cardColors.ts","webpack://mytonwallet/./src/components/main/modals/AddAccountModal.tsx","webpack://mytonwallet/./src/components/main/modals/AddAccountPasswordModal.tsx","webpack://mytonwallet/./src/components/main/modals/BackupModal.tsx","webpack://mytonwallet/./src/components/main/modals/DeleteSavedAddressModal.tsx","webpack://mytonwallet/./src/components/main/modals/DeleteTokenModal.tsx","webpack://mytonwallet/./src/components/main/modals/DisconnectDappModal.tsx","webpack://mytonwallet/./src/components/main/modals/HideNftModal.tsx","webpack://mytonwallet/./src/components/main/modals/LogOutModal.tsx","webpack://mytonwallet/./src/components/main/modals/OnRampWidgetModal.tsx","webpack://mytonwallet/./src/components/main/modals/QrScannerModal.tsx","webpack://mytonwallet/./src/components/main/modals/SignatureModal.tsx","webpack://mytonwallet/./src/components/main/modals/SwapActivityModal.tsx","webpack://mytonwallet/./src/components/main/modals/TransactionModal.tsx","webpack://mytonwallet/./src/components/main/modals/UnhideNftModal.tsx","webpack://mytonwallet/./src/components/main/sections/Actions/LandscapeActions.tsx","webpack://mytonwallet/./src/components/main/sections/Actions/PortraitActions.tsx","webpack://mytonwallet/./src/components/main/sections/Actions/index.ts","webpack://mytonwallet/./src/components/main/sections/Card/AccountSelector.tsx","webpack://mytonwallet/./src/components/main/sections/Card/Card.tsx","webpack://mytonwallet/./src/components/main/sections/Card/ChartHistorySwitcher.tsx","webpack://mytonwallet/./src/components/main/sections/Card/CurrencySwitcher.tsx","webpack://mytonwallet/./src/components/main/sections/Card/StickyCard.tsx","webpack://mytonwallet/./src/components/main/sections/Card/TokenCard.tsx","webpack://mytonwallet/./src/components/main/sections/Card/helpers/calculateFullBalance.ts","webpack://mytonwallet/./src/components/main/sections/Card/index.ts","webpack://mytonwallet/./src/components/main/sections/Content/Activities.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Assets.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Content.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Explore.tsx","webpack://mytonwallet/./src/components/main/sections/Content/NewWalletGreeting.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Nft.tsx","webpack://mytonwallet/./src/components/main/sections/Content/NftCollectionHeader.tsx","webpack://mytonwallet/./src/components/main/sections/Content/NftMenu.tsx","webpack://mytonwallet/./src/components/main/sections/Content/NftSelectionHeader.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Nfts.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Swap.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Token.tsx","webpack://mytonwallet/./src/components/main/sections/Content/Transaction.tsx","webpack://mytonwallet/./src/components/main/sections/Content/index.ts","webpack://mytonwallet/./src/components/main/sections/Warnings/BackupWarning.tsx","webpack://mytonwallet/./src/components/main/sections/Warnings/SecurityWarning.tsx","webpack://mytonwallet/./src/components/main/sections/Warnings/Warnings.tsx","webpack://mytonwallet/./src/components/main/sections/Warnings/index.ts","webpack://mytonwallet/./src/components/mediaViewer/Actions.tsx","webpack://mytonwallet/./src/components/mediaViewer/Media.tsx","webpack://mytonwallet/./src/components/mediaViewer/MediaInfo.tsx","webpack://mytonwallet/./src/components/mediaViewer/MediaViewer.tsx","webpack://mytonwallet/./src/components/mediaViewer/Slides.tsx","webpack://mytonwallet/./src/components/mediaViewer/helpers/ghostAnimation.ts","webpack://mytonwallet/./src/components/mediaViewer/hooks/useNftMenu.ts","webpack://mytonwallet/./src/components/mediaViewer/hooks/useZoomChangeSignal.ts","webpack://mytonwallet/./src/components/receive/Content.tsx","webpack://mytonwallet/./src/components/receive/InvoiceModal.tsx","webpack://mytonwallet/./src/components/receive/ReceiveModal.tsx","webpack://mytonwallet/./src/components/settings/Settings.tsx","webpack://mytonwallet/./src/components/settings/SettingsAbout.tsx","webpack://mytonwallet/./src/components/settings/SettingsAppearance.tsx","webpack://mytonwallet/./src/components/settings/SettingsAssets.tsx","webpack://mytonwallet/./src/components/settings/SettingsDapps.tsx","webpack://mytonwallet/./src/components/settings/SettingsDeveloperOptions.tsx","webpack://mytonwallet/./src/components/settings/SettingsDisclaimer.tsx","webpack://mytonwallet/./src/components/settings/SettingsHiddenNfts.tsx","webpack://mytonwallet/./src/components/settings/SettingsLanguage.tsx","webpack://mytonwallet/./src/components/settings/SettingsModal.tsx","webpack://mytonwallet/./src/components/settings/SettingsTokenList.tsx","webpack://mytonwallet/./src/components/settings/SettingsTokens.tsx","webpack://mytonwallet/./src/components/settings/SettingsWalletVersion.tsx","webpack://mytonwallet/./src/components/settings/biometrics/Biometrics.tsx","webpack://mytonwallet/./src/components/settings/biometrics/NativeBiometricsToggle.tsx","webpack://mytonwallet/./src/components/settings/biometrics/NativeBiometricsTurnOn.tsx","webpack://mytonwallet/./src/components/settings/biometrics/TurnOff.tsx","webpack://mytonwallet/./src/components/settings/biometrics/TurnOffWarning.tsx","webpack://mytonwallet/./src/components/settings/biometrics/TurnOn.tsx","webpack://mytonwallet/./src/components/settings/nfts/HiddenByUserNft.tsx","webpack://mytonwallet/./src/components/settings/nfts/ProbablyScamNft.tsx","webpack://mytonwallet/./src/components/staking/StakeModal.tsx","webpack://mytonwallet/./src/components/staking/StakingInfoContent.tsx","webpack://mytonwallet/./src/components/staking/StakingInfoModal.tsx","webpack://mytonwallet/./src/components/staking/StakingInitial.tsx","webpack://mytonwallet/./src/components/staking/StakingProfitItem.tsx","webpack://mytonwallet/./src/components/staking/UnstakeModal.tsx","webpack://mytonwallet/./src/components/swap/SwapBlockchain.tsx","webpack://mytonwallet/./src/components/swap/SwapComplete.tsx","webpack://mytonwallet/./src/components/swap/SwapInitial.tsx","webpack://mytonwallet/./src/components/swap/SwapModal.tsx","webpack://mytonwallet/./src/components/swap/SwapPassword.tsx","webpack://mytonwallet/./src/components/swap/SwapSettingsModal.tsx","webpack://mytonwallet/./src/components/swap/SwapWaitTokens.tsx","webpack://mytonwallet/./src/components/swap/components/SwapSelectToken.tsx","webpack://mytonwallet/./src/components/swap/components/SwapSubmitButton.tsx","webpack://mytonwallet/./src/components/transfer/NftChips.tsx","webpack://mytonwallet/./src/components/transfer/NftInfo.tsx","webpack://mytonwallet/./src/components/transfer/TransferComplete.tsx","webpack://mytonwallet/./src/components/transfer/TransferConfirm.tsx","webpack://mytonwallet/./src/components/transfer/TransferInitial.tsx","webpack://mytonwallet/./src/components/transfer/TransferModal.tsx","webpack://mytonwallet/./src/components/transfer/TransferMultiNftProcess.tsx","webpack://mytonwallet/./src/components/transfer/TransferPassword.tsx","webpack://mytonwallet/./src/components/ui/AmountWithFeeTextField.tsx","webpack://mytonwallet/./src/components/ui/AnimatedCounter.tsx","webpack://mytonwallet/./src/components/ui/AnimatedIcon.tsx","webpack://mytonwallet/./src/components/ui/AnimatedIconWithPreview.tsx","webpack://mytonwallet/./src/components/ui/AnimatedSticker.tsx","webpack://mytonwallet/./src/components/ui/Button.tsx","webpack://mytonwallet/./src/components/ui/Checkbox.tsx","webpack://mytonwallet/./src/components/ui/ConfettiContainer.tsx","webpack://mytonwallet/./src/components/ui/CreatePasswordForm.tsx","webpack://mytonwallet/./src/components/ui/Draggable.tsx","webpack://mytonwallet/./src/components/ui/Dropdown.tsx","webpack://mytonwallet/./src/components/ui/DropdownMenu.tsx","webpack://mytonwallet/./src/components/ui/Emoji.tsx","webpack://mytonwallet/./src/components/ui/IconWithTooltip.tsx","webpack://mytonwallet/./src/components/ui/Image.tsx","webpack://mytonwallet/./src/components/ui/InAppBrowser.tsx","webpack://mytonwallet/./src/components/ui/InfiniteScroll.tsx","webpack://mytonwallet/./src/components/ui/Input.tsx","webpack://mytonwallet/./src/components/ui/InteractiveTextField.tsx","webpack://mytonwallet/./src/components/ui/Loading.tsx","webpack://mytonwallet/./src/components/ui/LoadingDots.tsx","webpack://mytonwallet/./src/components/ui/LoadingOverlay.tsx","webpack://mytonwallet/./src/components/ui/Menu.tsx","webpack://mytonwallet/./src/components/ui/MenuItem.tsx","webpack://mytonwallet/./src/components/ui/Modal.tsx","webpack://mytonwallet/./src/components/ui/ModalHeader.tsx","webpack://mytonwallet/./src/components/ui/Notification.tsx","webpack://mytonwallet/./src/components/ui/PasswordForm.tsx","webpack://mytonwallet/./src/components/ui/PinPad.tsx","webpack://mytonwallet/./src/components/ui/PinPadButton.tsx","webpack://mytonwallet/./src/components/ui/Portal.ts","webpack://mytonwallet/./src/components/ui/Radio.tsx","webpack://mytonwallet/./src/components/ui/RichNumberField.tsx","webpack://mytonwallet/./src/components/ui/RichNumberInput.tsx","webpack://mytonwallet/./src/components/ui/ShowTransition.tsx","webpack://mytonwallet/./src/components/ui/SuggestionList.tsx","webpack://mytonwallet/./src/components/ui/Switcher.tsx","webpack://mytonwallet/./src/components/ui/Tab.tsx","webpack://mytonwallet/./src/components/ui/TabList.tsx","webpack://mytonwallet/./src/components/ui/Transition.tsx","webpack://mytonwallet/./src/components/ui/UpdateAvailable.tsx","webpack://mytonwallet/./src/components/ui/helpers/animatedAssets.ts","webpack://mytonwallet/./src/components/ui/helpers/assetLogos.ts","webpack://mytonwallet/./src/components/vesting/VestingModal.tsx","webpack://mytonwallet/./src/components/vesting/VestingPasswordModal.tsx","webpack://mytonwallet/./src/config.ts","webpack://mytonwallet/./src/electron/types.ts","webpack://mytonwallet/./src/global/actions/api/auth.ts","webpack://mytonwallet/./src/global/actions/api/dapps.ts","webpack://mytonwallet/./src/global/actions/api/initial.ts","webpack://mytonwallet/./src/global/actions/api/nfts.ts","webpack://mytonwallet/./src/global/actions/api/staking.ts","webpack://mytonwallet/./src/global/actions/api/swap.ts","webpack://mytonwallet/./src/global/actions/api/tokens.ts","webpack://mytonwallet/./src/global/actions/api/vesting.ts","webpack://mytonwallet/./src/global/actions/api/wallet.ts","webpack://mytonwallet/./src/global/actions/apiUpdates/activities.ts","webpack://mytonwallet/./src/global/actions/apiUpdates/dapp.ts","webpack://mytonwallet/./src/global/actions/apiUpdates/initial.ts","webpack://mytonwallet/./src/global/actions/index.ts","webpack://mytonwallet/./src/global/actions/ui/dapps.ts","webpack://mytonwallet/./src/global/actions/ui/initial.ts","webpack://mytonwallet/./src/global/actions/ui/misc.ts","webpack://mytonwallet/./src/global/actions/ui/nfts.ts","webpack://mytonwallet/./src/global/actions/ui/settings.ts","webpack://mytonwallet/./src/global/actions/ui/swap.ts","webpack://mytonwallet/./src/global/actions/ui/vesting.ts","webpack://mytonwallet/./src/global/cache.ts","webpack://mytonwallet/./src/global/helpers/index.ts","webpack://mytonwallet/./src/global/helpers/renderText.tsx","webpack://mytonwallet/./src/global/index.ts","webpack://mytonwallet/./src/global/init.ts","webpack://mytonwallet/./src/global/initialState.ts","webpack://mytonwallet/./src/global/reducers/activities.ts","webpack://mytonwallet/./src/global/reducers/dapp.ts","webpack://mytonwallet/./src/global/reducers/index.ts","webpack://mytonwallet/./src/global/reducers/misc.ts","webpack://mytonwallet/./src/global/reducers/nfts.ts","webpack://mytonwallet/./src/global/reducers/staking.ts","webpack://mytonwallet/./src/global/reducers/swap.ts","webpack://mytonwallet/./src/global/reducers/tokens.ts","webpack://mytonwallet/./src/global/reducers/vesting.ts","webpack://mytonwallet/./src/global/reducers/wallet.ts","webpack://mytonwallet/./src/global/selectors/index.ts","webpack://mytonwallet/./src/global/types.ts","webpack://mytonwallet/./src/hooks/freezeWhenClosed.ts","webpack://mytonwallet/./src/hooks/useAsyncResolvers.ts","webpack://mytonwallet/./src/hooks/useBackgroundMode.ts","webpack://mytonwallet/./src/hooks/useBrowserUiColor.ts","webpack://mytonwallet/./src/hooks/useClipboardPaste.ts","webpack://mytonwallet/./src/hooks/useCurrentOrPrev.ts","webpack://mytonwallet/./src/hooks/useDebouncedCallback.ts","webpack://mytonwallet/./src/hooks/useDelegatedBottomSheet.ts","webpack://mytonwallet/./src/hooks/useDelegatingBottomSheet.ts","webpack://mytonwallet/./src/hooks/useDerivedSignal.ts","webpack://mytonwallet/./src/hooks/useDerivedState.ts","webpack://mytonwallet/./src/hooks/useDeviceScreen.ts","webpack://mytonwallet/./src/hooks/useEffectOnce.ts","webpack://mytonwallet/./src/hooks/useEffectWithPrevDeps.ts","webpack://mytonwallet/./src/hooks/useElectronDrag.ts","webpack://mytonwallet/./src/hooks/useFlag.ts","webpack://mytonwallet/./src/hooks/useFocusAfterAnimation.tsx","webpack://mytonwallet/./src/hooks/useForceUpdate.ts","webpack://mytonwallet/./src/hooks/useHeavyAnimationCheck.ts","webpack://mytonwallet/./src/hooks/useHideBrowser.ts","webpack://mytonwallet/./src/hooks/useHistoryBack.ts","webpack://mytonwallet/./src/hooks/useHorizontalScroll.ts","webpack://mytonwallet/./src/hooks/useInfiniteScroll.ts","webpack://mytonwallet/./src/hooks/useIntersectionObserver.ts","webpack://mytonwallet/./src/hooks/useInterval.ts","webpack://mytonwallet/./src/hooks/useLang.ts","webpack://mytonwallet/./src/hooks/useLastCallback.ts","webpack://mytonwallet/./src/hooks/useLayoutEffectWithPrevDeps.ts","webpack://mytonwallet/./src/hooks/useMediaQuery.ts","webpack://mytonwallet/./src/hooks/useMediaTransition.ts","webpack://mytonwallet/./src/hooks/useMenuPosition.ts","webpack://mytonwallet/./src/hooks/useModalTransitionKeys.ts","webpack://mytonwallet/./src/hooks/usePasswordValidation.ts","webpack://mytonwallet/./src/hooks/usePrevDuringAnimation.ts","webpack://mytonwallet/./src/hooks/usePreventPinchZoomGesture.ts","webpack://mytonwallet/./src/hooks/usePrevious.ts","webpack://mytonwallet/./src/hooks/usePrevious2.ts","webpack://mytonwallet/./src/hooks/usePriorityPlaybackCheck.ts","webpack://mytonwallet/./src/hooks/useQrCode.ts","webpack://mytonwallet/./src/hooks/useQrScannerSupport.ts","webpack://mytonwallet/./src/hooks/useScrolledState.ts","webpack://mytonwallet/./src/hooks/useSharedIntersectionObserver.ts","webpack://mytonwallet/./src/hooks/useShowTransition.ts","webpack://mytonwallet/./src/hooks/useSignal.ts","webpack://mytonwallet/./src/hooks/useSignalEffect.ts","webpack://mytonwallet/./src/hooks/useSignalRef.ts","webpack://mytonwallet/./src/hooks/useStateRef.ts","webpack://mytonwallet/./src/hooks/useSyncEffect.ts","webpack://mytonwallet/./src/hooks/useThrottledCallback.ts","webpack://mytonwallet/./src/hooks/useTimeout.ts","webpack://mytonwallet/./src/hooks/useUniqueId.ts","webpack://mytonwallet/./src/hooks/useUpdateIndicator.ts","webpack://mytonwallet/./src/hooks/useVesting.ts","webpack://mytonwallet/./src/hooks/useVirtualBackdrop.ts","webpack://mytonwallet/./src/hooks/useWindowSize.ts","webpack://mytonwallet/./src/lib/big.js/index.js","webpack://mytonwallet/./src/lib/fasterdom/fasterdom.ts","webpack://mytonwallet/./src/lib/fasterdom/layoutCauses.ts","webpack://mytonwallet/./src/lib/fasterdom/stricterdom.ts","webpack://mytonwallet/./src/lib/rlottie/RLottie.async.ts","webpack://mytonwallet/./src/lib/teact/dom-events.ts","webpack://mytonwallet/./src/lib/teact/teact-dom.ts","webpack://mytonwallet/./src/lib/teact/teact.ts","webpack://mytonwallet/./src/lib/teact/teactn.tsx","webpack://mytonwallet/./src/util/PostMessageConnector.ts","webpack://mytonwallet/./src/util/account.ts","webpack://mytonwallet/./src/util/activeTabMonitor.ts","webpack://mytonwallet/./src/util/animateHorizontalScroll.ts","webpack://mytonwallet/./src/util/animation.ts","webpack://mytonwallet/./src/util/areDeepEqual.ts","webpack://mytonwallet/./src/util/arePropsShallowEqual.ts","webpack://mytonwallet/./src/util/authApi/index.ts","webpack://mytonwallet/./src/util/authApi/webAuthn.ts","webpack://mytonwallet/./src/util/base64toHex.ts","webpack://mytonwallet/./src/util/betterView.ts","webpack://mytonwallet/./src/util/bigint.ts","webpack://mytonwallet/./src/util/bigintPatch.ts","webpack://mytonwallet/./src/util/buildClassName.ts","webpack://mytonwallet/./src/util/buildStyle.ts","webpack://mytonwallet/./src/util/cacheApi.ts","webpack://mytonwallet/./src/util/calcChangeValue.ts","webpack://mytonwallet/./src/util/callbacks.ts","webpack://mytonwallet/./src/util/capacitor.ts","webpack://mytonwallet/./src/util/capacitorStorageProxy/index.ts","webpack://mytonwallet/./src/util/capacitorStorageProxy/methods.ts","webpack://mytonwallet/./src/util/captureEscKeyListener.ts","webpack://mytonwallet/./src/util/captureEvents.ts","webpack://mytonwallet/./src/util/captureKeyboardListeners.ts","webpack://mytonwallet/./src/util/clipboard.ts","webpack://mytonwallet/./src/util/colors.ts","webpack://mytonwallet/./src/util/compareActivities.ts","webpack://mytonwallet/./src/util/createPostMessageInterface.ts","webpack://mytonwallet/./src/util/cssAnimationEndListeners.ts","webpack://mytonwallet/./src/util/cssColorToHex.ts","webpack://mytonwallet/./src/util/dateFormat.ts","webpack://mytonwallet/./src/util/debugOverlay.ts","webpack://mytonwallet/./src/util/decimals.ts","webpack://mytonwallet/./src/util/deepDiff.ts","webpack://mytonwallet/./src/util/deepMerge.ts","webpack://mytonwallet/./src/util/deeplink/constants.ts","webpack://mytonwallet/./src/util/deeplink/index.ts","webpack://mytonwallet/./src/util/dns.ts","webpack://mytonwallet/./src/util/electron.ts","webpack://mytonwallet/./src/util/fonts.ts","webpack://mytonwallet/./src/util/forceReflow.ts","webpack://mytonwallet/./src/util/formatNumber.ts","webpack://mytonwallet/./src/util/generateUniqueId.ts","webpack://mytonwallet/./src/util/getIsAppUpdateNeeded.ts","webpack://mytonwallet/./src/util/handleError.ts","webpack://mytonwallet/./src/util/isElementInViewport.ts","webpack://mytonwallet/./src/util/isMnemonicPrivateKey.ts","webpack://mytonwallet/./src/util/isPartialDeepEqual.ts","webpack://mytonwallet/./src/util/isTonAddressOrDomain.ts","webpack://mytonwallet/./src/util/iteratees.ts","webpack://mytonwallet/./src/util/langProvider.ts","webpack://mytonwallet/./src/util/ledger/tab.ts","webpack://mytonwallet/./src/util/lethargy.ts","webpack://mytonwallet/./src/util/logs.ts","webpack://mytonwallet/./src/util/math.ts","webpack://mytonwallet/./src/util/memo.ts","webpack://mytonwallet/./src/util/memoized.ts","webpack://mytonwallet/./src/util/modalSwipeManager.ts","webpack://mytonwallet/./src/util/multitab.ts","webpack://mytonwallet/./src/util/notificationSound.ts","webpack://mytonwallet/./src/util/openUrl.ts","webpack://mytonwallet/./src/util/preloadImage.ts","webpack://mytonwallet/./src/util/random.ts","webpack://mytonwallet/./src/util/renderPromise.ts","webpack://mytonwallet/./src/util/resetScroll.ts","webpack://mytonwallet/./src/util/resolveModalTransitionName.ts","webpack://mytonwallet/./src/util/round.ts","webpack://mytonwallet/./src/util/safeExec.ts","webpack://mytonwallet/./src/util/saveCaretPosition.ts","webpack://mytonwallet/./src/util/schedulers.ts","webpack://mytonwallet/./src/util/shortenAddress.ts","webpack://mytonwallet/./src/util/signals.ts","webpack://mytonwallet/./src/util/stopEvent.ts","webpack://mytonwallet/./src/util/swap/buildSwapId.ts","webpack://mytonwallet/./src/util/swap/getBlockchainNetworkIcon.ts","webpack://mytonwallet/./src/util/swap/getBlockchainNetworkName.ts","webpack://mytonwallet/./src/util/swap/getSwapRate.ts","webpack://mytonwallet/./src/util/swipeController.ts","webpack://mytonwallet/./src/util/switchAnimationLevel.ts","webpack://mytonwallet/./src/util/switchTheme.ts","webpack://mytonwallet/./src/util/ton/formatTransferUrl.ts","webpack://mytonwallet/./src/util/tonConnectEnvironment.ts","webpack://mytonwallet/./src/util/trapFocus.ts","webpack://mytonwallet/./src/util/url.ts","webpack://mytonwallet/./src/util/windowEnvironment.ts","webpack://mytonwallet/./src/util/windowSize.ts","webpack://mytonwallet/./src/util/withCache.ts","webpack://mytonwallet/./node_modules/base64-js/index.js","webpack://mytonwallet/./node_modules/buffer/index.js","webpack://mytonwallet/./node_modules/capacitor-native-settings/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/capacitor-native-settings/dist/esm/index.js","webpack://mytonwallet/./node_modules/capacitor-plugin-safe-area/dist/esm/definitions.js","webpack://mytonwallet/./node_modules/capacitor-plugin-safe-area/dist/esm/index.js","webpack://mytonwallet/./node_modules/ieee754/index.js","webpack://mytonwallet/./src/components/ui/Transition.scss?90cd","webpack://mytonwallet/./src/styles/index.scss?2775","webpack://mytonwallet/./src/components/App.module.scss?a9d3","webpack://mytonwallet/./src/components/AppInactive.module.scss?fa93","webpack://mytonwallet/./src/components/addbuy/AddBuyModal.module.scss?4c7a","webpack://mytonwallet/./src/components/auth/Auth.module.scss?dc00","webpack://mytonwallet/./src/components/common/Countdown.module.scss?d513","webpack://mytonwallet/./src/components/common/InputMnemonic.module.scss?8c11","webpack://mytonwallet/./src/components/common/SwapResult.module.scss?5045","webpack://mytonwallet/./src/components/common/SwapTokensInfo.module.scss?7d2b","webpack://mytonwallet/./src/components/common/TokenSelector.module.scss?759b","webpack://mytonwallet/./src/components/common/TransactionAmount.module.scss?8894","webpack://mytonwallet/./src/components/common/TransferResult.module.scss?a52a","webpack://mytonwallet/./src/components/dapps/Dapp.module.scss?bf14","webpack://mytonwallet/./src/components/electron/ElectronHeader.module.scss?adc9","webpack://mytonwallet/./src/components/electron/UpdateApp.module.scss?0ba5","webpack://mytonwallet/./src/components/ledger/LedgerModal.module.scss?bcee","webpack://mytonwallet/./src/components/main/Main.module.scss?6d95","webpack://mytonwallet/./src/components/main/modals/AddAccountModal.module.scss?8d66","webpack://mytonwallet/./src/components/main/modals/BackupModal.module.scss?7942","webpack://mytonwallet/./src/components/main/modals/DeleteSavedAddressModal.module.scss?f4ba","webpack://mytonwallet/./src/components/main/modals/DeleteTokenModal.module.scss?34ea","webpack://mytonwallet/./src/components/main/modals/DisconnectDappModal.module.scss?141f","webpack://mytonwallet/./src/components/main/modals/LogOutModal.module.scss?5651","webpack://mytonwallet/./src/components/main/modals/OnRampWidgetModal.module.scss?8236","webpack://mytonwallet/./src/components/main/modals/QrScannerModal.module.scss?87fb","webpack://mytonwallet/./src/components/main/modals/SignatureModal.module.scss?77a6","webpack://mytonwallet/./src/components/main/modals/TransactionModal.module.scss?6dca","webpack://mytonwallet/./src/components/main/sections/Actions/LandscapeActions.module.scss?b2d4","webpack://mytonwallet/./src/components/main/sections/Actions/PortraitActions.module.scss?a3a8","webpack://mytonwallet/./src/components/main/sections/Card/AccountSelector.module.scss?68a8","webpack://mytonwallet/./src/components/main/sections/Card/Card.module.scss?fdf3","webpack://mytonwallet/./src/components/main/sections/Card/ChartHistorySwitcher.module.scss?014e","webpack://mytonwallet/./src/components/main/sections/Card/StickyCard.module.scss?f113","webpack://mytonwallet/./src/components/main/sections/Content/Activities.module.scss?215b","webpack://mytonwallet/./src/components/main/sections/Content/Assets.module.scss?2b3b","webpack://mytonwallet/./src/components/main/sections/Content/Content.module.scss?df0c","webpack://mytonwallet/./src/components/main/sections/Content/Explore.module.scss?ebf0","webpack://mytonwallet/./src/components/main/sections/Content/NewWalletGreeting.module.scss?1d3d","webpack://mytonwallet/./src/components/main/sections/Content/Nft.module.scss?a2fa","webpack://mytonwallet/./src/components/main/sections/Content/NftCollectionHeader.module.scss?fecc","webpack://mytonwallet/./src/components/main/sections/Content/NftMenu.module.scss?7d45","webpack://mytonwallet/./src/components/main/sections/Content/Token.module.scss?2972","webpack://mytonwallet/./src/components/main/sections/Content/Transaction.module.scss?ffe8","webpack://mytonwallet/./src/components/main/sections/Warnings/Warnings.module.scss?104f","webpack://mytonwallet/./src/components/mediaViewer/MediaViewer.module.scss?afa2","webpack://mytonwallet/./src/components/receive/ReceiveModal.module.scss?beea","webpack://mytonwallet/./src/components/settings/Settings.module.scss?98b7","webpack://mytonwallet/./src/components/settings/biometrics/Biometrics.module.scss?14ce","webpack://mytonwallet/./src/components/staking/Staking.module.scss?5f25","webpack://mytonwallet/./src/components/staking/StakingProfileItem.module.scss?092e","webpack://mytonwallet/./src/components/swap/Swap.module.scss?9ed7","webpack://mytonwallet/./src/components/transfer/NftChips.module.scss?1471","webpack://mytonwallet/./src/components/transfer/NftInfo.module.scss?aa0a","webpack://mytonwallet/./src/components/transfer/Transfer.module.scss?40cb","webpack://mytonwallet/./src/components/ui/AmountWithFeeTextField.module.scss?aa7f","webpack://mytonwallet/./src/components/ui/AnimatedCounter.module.scss?5cb5","webpack://mytonwallet/./src/components/ui/AnimatedIconWithPreview.module.scss?9243","webpack://mytonwallet/./src/components/ui/Button.module.scss?78d5","webpack://mytonwallet/./src/components/ui/Checkbox.module.scss?4964","webpack://mytonwallet/./src/components/ui/ConfettiContainer.module.scss?8c12","webpack://mytonwallet/./src/components/ui/Draggable.module.scss?804f","webpack://mytonwallet/./src/components/ui/Dropdown.module.scss?3afe","webpack://mytonwallet/./src/components/ui/Emoji.module.scss?1c66","webpack://mytonwallet/./src/components/ui/IconWithTooltip.module.scss?91f0","webpack://mytonwallet/./src/components/ui/InAppBrowser.module.scss?a7be","webpack://mytonwallet/./src/components/ui/Input.module.scss?4fb9","webpack://mytonwallet/./src/components/ui/InteractiveTextField.module.scss?844c","webpack://mytonwallet/./src/components/ui/Loading.module.scss?aee8","webpack://mytonwallet/./src/components/ui/LoadingDots.module.scss?6dd6","webpack://mytonwallet/./src/components/ui/LoadingOverlay.module.scss?7efd","webpack://mytonwallet/./src/components/ui/Menu.module.scss?ed87","webpack://mytonwallet/./src/components/ui/MenuItem.module.scss?fd35","webpack://mytonwallet/./src/components/ui/Modal.module.scss?b689","webpack://mytonwallet/./src/components/ui/Notification.module.scss?743a","webpack://mytonwallet/./src/components/ui/PasswordForm.module.scss?0d24","webpack://mytonwallet/./src/components/ui/PinPad.module.scss?228e","webpack://mytonwallet/./src/components/ui/Radio.module.scss?1611","webpack://mytonwallet/./src/components/ui/SuggestionList.module.scss?e7a6","webpack://mytonwallet/./src/components/ui/Switcher.module.scss?8b13","webpack://mytonwallet/./src/components/ui/Tab.module.scss?eb4d","webpack://mytonwallet/./src/components/ui/TabList.module.scss?8978","webpack://mytonwallet/./src/components/ui/UpdateAvailable.module.scss?8e42","webpack://mytonwallet/./src/components/vesting/VestingModal.module.scss?2a82","webpack://mytonwallet/webpack/bootstrap","webpack://mytonwallet/webpack/runtime/compat get default export","webpack://mytonwallet/webpack/runtime/create fake namespace object","webpack://mytonwallet/webpack/runtime/define property getters","webpack://mytonwallet/webpack/runtime/ensure chunk","webpack://mytonwallet/webpack/runtime/get javascript chunk filename","webpack://mytonwallet/webpack/runtime/get mini-css chunk filename","webpack://mytonwallet/webpack/runtime/global","webpack://mytonwallet/webpack/runtime/hasOwnProperty shorthand","webpack://mytonwallet/webpack/runtime/load script","webpack://mytonwallet/webpack/runtime/make namespace object","webpack://mytonwallet/webpack/runtime/publicPath","webpack://mytonwallet/webpack/runtime/jsonp chunk loading","webpack://mytonwallet/./src/index.tsx"],"sourcesContent":["/**\n * @since 0.0.1\n */\nexport var BarcodeFormat;\n(function (BarcodeFormat) {\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Aztec\"] = \"AZTEC\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Codabar\"] = \"CODABAR\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Code39\"] = \"CODE_39\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Code93\"] = \"CODE_93\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Code128\"] = \"CODE_128\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"DataMatrix\"] = \"DATA_MATRIX\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Ean8\"] = \"EAN_8\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Ean13\"] = \"EAN_13\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Itf\"] = \"ITF\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"Pdf417\"] = \"PDF_417\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"QrCode\"] = \"QR_CODE\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"UpcA\"] = \"UPC_A\";\n    /**\n     * Only available on Android and iOS.\n     *\n     * @since 0.0.1\n     */\n    BarcodeFormat[\"UpcE\"] = \"UPC_E\";\n})(BarcodeFormat || (BarcodeFormat = {}));\n/**\n * @since 0.0.1\n */\nexport var BarcodeValueType;\n(function (BarcodeValueType) {\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"CalendarEvent\"] = \"CALENDAR_EVENT\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"ContactInfo\"] = \"CONTACT_INFO\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"DriversLicense\"] = \"DRIVERS_LICENSE\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Email\"] = \"EMAIL\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Geo\"] = \"GEO\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Isbn\"] = \"ISBN\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Phone\"] = \"PHONE\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Product\"] = \"PRODUCT\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Sms\"] = \"SMS\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Text\"] = \"TEXT\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Url\"] = \"URL\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Wifi\"] = \"WIFI\";\n    /**\n     * @since 0.0.1\n     */\n    BarcodeValueType[\"Unknown\"] = \"UNKNOWN\";\n})(BarcodeValueType || (BarcodeValueType = {}));\n/**\n * @since 0.0.1\n */\nexport var LensFacing;\n(function (LensFacing) {\n    /**\n     * @since 0.0.1\n     */\n    LensFacing[\"Front\"] = \"FRONT\";\n    /**\n     * @since 0.0.1\n     */\n    LensFacing[\"Back\"] = \"BACK\";\n})(LensFacing || (LensFacing = {}));\n/**\n * @since 5.1.0\n */\nexport var GoogleBarcodeScannerModuleInstallState;\n(function (GoogleBarcodeScannerModuleInstallState) {\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"UNKNOWN\"] = 0] = \"UNKNOWN\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"PENDING\"] = 1] = \"PENDING\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"DOWNLOADING\"] = 2] = \"DOWNLOADING\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"CANCELED\"] = 3] = \"CANCELED\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"COMPLETED\"] = 4] = \"COMPLETED\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"FAILED\"] = 5] = \"FAILED\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"INSTALLING\"] = 6] = \"INSTALLING\";\n    /**\n     * @since 5.1.0\n     */\n    GoogleBarcodeScannerModuleInstallState[GoogleBarcodeScannerModuleInstallState[\"DOWNLOAD_PAUSED\"] = 7] = \"DOWNLOAD_PAUSED\";\n})(GoogleBarcodeScannerModuleInstallState || (GoogleBarcodeScannerModuleInstallState = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst BarcodeScanner = registerPlugin('BarcodeScanner', {\n    web: () => import('./web').then(m => new m.BarcodeScannerWeb()),\n});\nexport * from './definitions';\nexport { BarcodeScanner };\n//# sourceMappingURL=index.js.map","export var ActionSheetButtonStyle;\n(function (ActionSheetButtonStyle) {\n    /**\n     * Default style of the option.\n     *\n     * @since 1.0.0\n     */\n    ActionSheetButtonStyle[\"Default\"] = \"DEFAULT\";\n    /**\n     * Style to use on destructive options.\n     *\n     * @since 1.0.0\n     */\n    ActionSheetButtonStyle[\"Destructive\"] = \"DESTRUCTIVE\";\n    /**\n     * Style to use on the option that cancels the Action Sheet.\n     * If used, should be on the latest availabe option.\n     *\n     * @since 1.0.0\n     */\n    ActionSheetButtonStyle[\"Cancel\"] = \"CANCEL\";\n})(ActionSheetButtonStyle || (ActionSheetButtonStyle = {}));\n/**\n * @deprecated Use `ActionSheetButtonStyle`.\n * @since 1.0.0\n */\nexport const ActionSheetOptionStyle = ActionSheetButtonStyle;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst ActionSheet = registerPlugin('ActionSheet', {\n    web: () => import('./web').then(m => new m.ActionSheetWeb()),\n});\nexport * from './definitions';\nexport { ActionSheet };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst AppLauncher = registerPlugin('AppLauncher', {\n    web: () => import('./web').then(m => new m.AppLauncherWeb()),\n});\nexport * from './definitions';\nexport { AppLauncher };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst App = registerPlugin('App', {\n    web: () => import('./web').then(m => new m.AppWeb()),\n});\nexport * from './definitions';\nexport { App };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nimport { ClipboardWeb } from './web';\nconst Clipboard = registerPlugin('Clipboard', {\n    web: () => new ClipboardWeb(),\n});\nexport * from './definitions';\nexport { Clipboard };\n//# sourceMappingURL=index.js.map","import { WebPlugin } from '@capacitor/core';\nexport class ClipboardWeb extends WebPlugin {\n    async write(options) {\n        if (typeof navigator === 'undefined' || !navigator.clipboard) {\n            throw this.unavailable('Clipboard API not available in this browser');\n        }\n        if (options.string !== undefined) {\n            await this.writeText(options.string);\n        }\n        else if (options.url) {\n            await this.writeText(options.url);\n        }\n        else if (options.image) {\n            if (typeof ClipboardItem !== 'undefined') {\n                try {\n                    const blob = await (await fetch(options.image)).blob();\n                    const clipboardItemInput = new ClipboardItem({ [blob.type]: blob });\n                    await navigator.clipboard.write([clipboardItemInput]);\n                }\n                catch (err) {\n                    throw new Error('Failed to write image');\n                }\n            }\n            else {\n                throw this.unavailable('Writing images to the clipboard is not supported in this browser');\n            }\n        }\n        else {\n            throw new Error('Nothing to write');\n        }\n    }\n    async read() {\n        if (typeof navigator === 'undefined' || !navigator.clipboard) {\n            throw this.unavailable('Clipboard API not available in this browser');\n        }\n        if (typeof ClipboardItem !== 'undefined') {\n            try {\n                const clipboardItems = await navigator.clipboard.read();\n                const type = clipboardItems[0].types[0];\n                const clipboardBlob = await clipboardItems[0].getType(type);\n                const data = await this._getBlobData(clipboardBlob, type);\n                return { value: data, type };\n            }\n            catch (err) {\n                return this.readText();\n            }\n        }\n        else {\n            return this.readText();\n        }\n    }\n    async readText() {\n        if (typeof navigator === 'undefined' ||\n            !navigator.clipboard ||\n            !navigator.clipboard.readText) {\n            throw this.unavailable('Reading from clipboard not supported in this browser');\n        }\n        const text = await navigator.clipboard.readText();\n        return { value: text, type: 'text/plain' };\n    }\n    async writeText(text) {\n        if (typeof navigator === 'undefined' ||\n            !navigator.clipboard ||\n            !navigator.clipboard.writeText) {\n            throw this.unavailable('Writting to clipboard not supported in this browser');\n        }\n        await navigator.clipboard.writeText(text);\n    }\n    _getBlobData(clipboardBlob, type) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            if (type.includes('image')) {\n                reader.readAsDataURL(clipboardBlob);\n            }\n            else {\n                reader.readAsText(clipboardBlob);\n            }\n            reader.onloadend = () => {\n                const r = reader.result;\n                resolve(r);\n            };\n            reader.onerror = e => {\n                reject(e);\n            };\n        });\n    }\n}\n//# sourceMappingURL=web.js.map","/*! Capacitor: https://capacitorjs.com/ - MIT License */\nconst createCapacitorPlatforms = (win) => {\n    const defaultPlatformMap = new Map();\n    defaultPlatformMap.set('web', { name: 'web' });\n    const capPlatforms = win.CapacitorPlatforms || {\n        currentPlatform: { name: 'web' },\n        platforms: defaultPlatformMap,\n    };\n    const addPlatform = (name, platform) => {\n        capPlatforms.platforms.set(name, platform);\n    };\n    const setPlatform = (name) => {\n        if (capPlatforms.platforms.has(name)) {\n            capPlatforms.currentPlatform = capPlatforms.platforms.get(name);\n        }\n    };\n    capPlatforms.addPlatform = addPlatform;\n    capPlatforms.setPlatform = setPlatform;\n    return capPlatforms;\n};\nconst initPlatforms = (win) => (win.CapacitorPlatforms = createCapacitorPlatforms(win));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst CapacitorPlatforms = /*#__PURE__*/ initPlatforms((typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {}));\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst addPlatform = CapacitorPlatforms.addPlatform;\n/**\n * @deprecated Set `CapacitorCustomPlatform` on the window object prior to runtime executing in the web app instead\n */\nconst setPlatform = CapacitorPlatforms.setPlatform;\n\nconst legacyRegisterWebPlugin = (cap, webPlugin) => {\n    var _a;\n    const config = webPlugin.config;\n    const Plugins = cap.Plugins;\n    if (!(config === null || config === void 0 ? void 0 : config.name)) {\n        // TODO: add link to upgrade guide\n        throw new Error(`Capacitor WebPlugin is using the deprecated \"registerWebPlugin()\" function, but without the config. Please use \"registerPlugin()\" instead to register this web plugin.\"`);\n    }\n    // TODO: add link to upgrade guide\n    console.warn(`Capacitor plugin \"${config.name}\" is using the deprecated \"registerWebPlugin()\" function`);\n    if (!Plugins[config.name] || ((_a = config === null || config === void 0 ? void 0 : config.platforms) === null || _a === void 0 ? void 0 : _a.includes(cap.getPlatform()))) {\n        // Add the web plugin into the plugins registry if there already isn't\n        // an existing one. If it doesn't already exist, that means\n        // there's no existing native implementation for it.\n        // - OR -\n        // If we already have a plugin registered (meaning it was defined in the native layer),\n        // then we should only overwrite it if the corresponding web plugin activates on\n        // a certain platform. For example: Geolocation uses the WebPlugin on Android but not iOS\n        Plugins[config.name] = webPlugin;\n    }\n};\n\nvar ExceptionCode;\n(function (ExceptionCode) {\n    /**\n     * API is not implemented.\n     *\n     * This usually means the API can't be used because it is not implemented for\n     * the current platform.\n     */\n    ExceptionCode[\"Unimplemented\"] = \"UNIMPLEMENTED\";\n    /**\n     * API is not available.\n     *\n     * This means the API can't be used right now because:\n     *   - it is currently missing a prerequisite, such as network connectivity\n     *   - it requires a particular platform or browser version\n     */\n    ExceptionCode[\"Unavailable\"] = \"UNAVAILABLE\";\n})(ExceptionCode || (ExceptionCode = {}));\nclass CapacitorException extends Error {\n    constructor(message, code, data) {\n        super(message);\n        this.message = message;\n        this.code = code;\n        this.data = data;\n    }\n}\nconst getPlatformId = (win) => {\n    var _a, _b;\n    if (win === null || win === void 0 ? void 0 : win.androidBridge) {\n        return 'android';\n    }\n    else if ((_b = (_a = win === null || win === void 0 ? void 0 : win.webkit) === null || _a === void 0 ? void 0 : _a.messageHandlers) === null || _b === void 0 ? void 0 : _b.bridge) {\n        return 'ios';\n    }\n    else {\n        return 'web';\n    }\n};\n\nconst createCapacitor = (win) => {\n    var _a, _b, _c, _d, _e;\n    const capCustomPlatform = win.CapacitorCustomPlatform || null;\n    const cap = win.Capacitor || {};\n    const Plugins = (cap.Plugins = cap.Plugins || {});\n    /**\n     * @deprecated Use `capCustomPlatform` instead, default functions like registerPlugin will function with the new object.\n     */\n    const capPlatforms = win.CapacitorPlatforms;\n    const defaultGetPlatform = () => {\n        return capCustomPlatform !== null\n            ? capCustomPlatform.name\n            : getPlatformId(win);\n    };\n    const getPlatform = ((_a = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _a === void 0 ? void 0 : _a.getPlatform) || defaultGetPlatform;\n    const defaultIsNativePlatform = () => getPlatform() !== 'web';\n    const isNativePlatform = ((_b = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _b === void 0 ? void 0 : _b.isNativePlatform) || defaultIsNativePlatform;\n    const defaultIsPluginAvailable = (pluginName) => {\n        const plugin = registeredPlugins.get(pluginName);\n        if (plugin === null || plugin === void 0 ? void 0 : plugin.platforms.has(getPlatform())) {\n            // JS implementation available for the current platform.\n            return true;\n        }\n        if (getPluginHeader(pluginName)) {\n            // Native implementation available.\n            return true;\n        }\n        return false;\n    };\n    const isPluginAvailable = ((_c = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _c === void 0 ? void 0 : _c.isPluginAvailable) ||\n        defaultIsPluginAvailable;\n    const defaultGetPluginHeader = (pluginName) => { var _a; return (_a = cap.PluginHeaders) === null || _a === void 0 ? void 0 : _a.find(h => h.name === pluginName); };\n    const getPluginHeader = ((_d = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _d === void 0 ? void 0 : _d.getPluginHeader) || defaultGetPluginHeader;\n    const handleError = (err) => win.console.error(err);\n    const pluginMethodNoop = (_target, prop, pluginName) => {\n        return Promise.reject(`${pluginName} does not have an implementation of \"${prop}\".`);\n    };\n    const registeredPlugins = new Map();\n    const defaultRegisterPlugin = (pluginName, jsImplementations = {}) => {\n        const registeredPlugin = registeredPlugins.get(pluginName);\n        if (registeredPlugin) {\n            console.warn(`Capacitor plugin \"${pluginName}\" already registered. Cannot register plugins twice.`);\n            return registeredPlugin.proxy;\n        }\n        const platform = getPlatform();\n        const pluginHeader = getPluginHeader(pluginName);\n        let jsImplementation;\n        const loadPluginImplementation = async () => {\n            if (!jsImplementation && platform in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations[platform] === 'function'\n                        ? (jsImplementation = await jsImplementations[platform]())\n                        : (jsImplementation = jsImplementations[platform]);\n            }\n            else if (capCustomPlatform !== null &&\n                !jsImplementation &&\n                'web' in jsImplementations) {\n                jsImplementation =\n                    typeof jsImplementations['web'] === 'function'\n                        ? (jsImplementation = await jsImplementations['web']())\n                        : (jsImplementation = jsImplementations['web']);\n            }\n            return jsImplementation;\n        };\n        const createPluginMethod = (impl, prop) => {\n            var _a, _b;\n            if (pluginHeader) {\n                const methodHeader = pluginHeader === null || pluginHeader === void 0 ? void 0 : pluginHeader.methods.find(m => prop === m.name);\n                if (methodHeader) {\n                    if (methodHeader.rtype === 'promise') {\n                        return (options) => cap.nativePromise(pluginName, prop.toString(), options);\n                    }\n                    else {\n                        return (options, callback) => cap.nativeCallback(pluginName, prop.toString(), options, callback);\n                    }\n                }\n                else if (impl) {\n                    return (_a = impl[prop]) === null || _a === void 0 ? void 0 : _a.bind(impl);\n                }\n            }\n            else if (impl) {\n                return (_b = impl[prop]) === null || _b === void 0 ? void 0 : _b.bind(impl);\n            }\n            else {\n                throw new CapacitorException(`\"${pluginName}\" plugin is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n            }\n        };\n        const createPluginMethodWrapper = (prop) => {\n            let remove;\n            const wrapper = (...args) => {\n                const p = loadPluginImplementation().then(impl => {\n                    const fn = createPluginMethod(impl, prop);\n                    if (fn) {\n                        const p = fn(...args);\n                        remove = p === null || p === void 0 ? void 0 : p.remove;\n                        return p;\n                    }\n                    else {\n                        throw new CapacitorException(`\"${pluginName}.${prop}()\" is not implemented on ${platform}`, ExceptionCode.Unimplemented);\n                    }\n                });\n                if (prop === 'addListener') {\n                    p.remove = async () => remove();\n                }\n                return p;\n            };\n            // Some flair \n            wrapper.toString = () => `${prop.toString()}() { [capacitor code] }`;\n            Object.defineProperty(wrapper, 'name', {\n                value: prop,\n                writable: false,\n                configurable: false,\n            });\n            return wrapper;\n        };\n        const addListener = createPluginMethodWrapper('addListener');\n        const removeListener = createPluginMethodWrapper('removeListener');\n        const addListenerNative = (eventName, callback) => {\n            const call = addListener({ eventName }, callback);\n            const remove = async () => {\n                const callbackId = await call;\n                removeListener({\n                    eventName,\n                    callbackId,\n                }, callback);\n            };\n            const p = new Promise(resolve => call.then(() => resolve({ remove })));\n            p.remove = async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            };\n            return p;\n        };\n        const proxy = new Proxy({}, {\n            get(_, prop) {\n                switch (prop) {\n                    // https://github.com/facebook/react/issues/20030\n                    case '$$typeof':\n                        return undefined;\n                    case 'toJSON':\n                        return () => ({});\n                    case 'addListener':\n                        return pluginHeader ? addListenerNative : addListener;\n                    case 'removeListener':\n                        return removeListener;\n                    default:\n                        return createPluginMethodWrapper(prop);\n                }\n            },\n        });\n        Plugins[pluginName] = proxy;\n        registeredPlugins.set(pluginName, {\n            name: pluginName,\n            proxy,\n            platforms: new Set([\n                ...Object.keys(jsImplementations),\n                ...(pluginHeader ? [platform] : []),\n            ]),\n        });\n        return proxy;\n    };\n    const registerPlugin = ((_e = capPlatforms === null || capPlatforms === void 0 ? void 0 : capPlatforms.currentPlatform) === null || _e === void 0 ? void 0 : _e.registerPlugin) || defaultRegisterPlugin;\n    // Add in convertFileSrc for web, it will already be available in native context\n    if (!cap.convertFileSrc) {\n        cap.convertFileSrc = filePath => filePath;\n    }\n    cap.getPlatform = getPlatform;\n    cap.handleError = handleError;\n    cap.isNativePlatform = isNativePlatform;\n    cap.isPluginAvailable = isPluginAvailable;\n    cap.pluginMethodNoop = pluginMethodNoop;\n    cap.registerPlugin = registerPlugin;\n    cap.Exception = CapacitorException;\n    cap.DEBUG = !!cap.DEBUG;\n    cap.isLoggingEnabled = !!cap.isLoggingEnabled;\n    // Deprecated props\n    cap.platform = cap.getPlatform();\n    cap.isNative = cap.isNativePlatform();\n    return cap;\n};\nconst initCapacitorGlobal = (win) => (win.Capacitor = createCapacitor(win));\n\nconst Capacitor = /*#__PURE__*/ initCapacitorGlobal(typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n        ? self\n        : typeof window !== 'undefined'\n            ? window\n            : typeof global !== 'undefined'\n                ? global\n                : {});\nconst registerPlugin = Capacitor.registerPlugin;\n/**\n * @deprecated Provided for backwards compatibility for Capacitor v2 plugins.\n * Capacitor v3 plugins should import the plugin directly. This \"Plugins\"\n * export is deprecated in v3, and will be removed in v4.\n */\nconst Plugins = Capacitor.Plugins;\n/**\n * Provided for backwards compatibility. Use the registerPlugin() API\n * instead, and provide the web plugin as the \"web\" implmenetation.\n * For example\n *\n * export const Example = registerPlugin('Example', {\n *   web: () => import('./web').then(m => new m.Example())\n * })\n *\n * @deprecated Deprecated in v3, will be removed from v4.\n */\nconst registerWebPlugin = (plugin) => legacyRegisterWebPlugin(Capacitor, plugin);\n\n/**\n * Base class web plugins should extend.\n */\nclass WebPlugin {\n    constructor(config) {\n        this.listeners = {};\n        this.windowListeners = {};\n        if (config) {\n            // TODO: add link to upgrade guide\n            console.warn(`Capacitor WebPlugin \"${config.name}\" config object was deprecated in v3 and will be removed in v4.`);\n            this.config = config;\n        }\n    }\n    addListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            this.listeners[eventName] = [];\n        }\n        this.listeners[eventName].push(listenerFunc);\n        // If we haven't added a window listener for this event and it requires one,\n        // go ahead and add it\n        const windowListener = this.windowListeners[eventName];\n        if (windowListener && !windowListener.registered) {\n            this.addWindowListener(windowListener);\n        }\n        const remove = async () => this.removeListener(eventName, listenerFunc);\n        const p = Promise.resolve({ remove });\n        Object.defineProperty(p, 'remove', {\n            value: async () => {\n                console.warn(`Using addListener() without 'await' is deprecated.`);\n                await remove();\n            },\n        });\n        return p;\n    }\n    async removeAllListeners() {\n        this.listeners = {};\n        for (const listener in this.windowListeners) {\n            this.removeWindowListener(this.windowListeners[listener]);\n        }\n        this.windowListeners = {};\n    }\n    notifyListeners(eventName, data) {\n        const listeners = this.listeners[eventName];\n        if (listeners) {\n            listeners.forEach(listener => listener(data));\n        }\n    }\n    hasListeners(eventName) {\n        return !!this.listeners[eventName].length;\n    }\n    registerWindowListener(windowEventName, pluginEventName) {\n        this.windowListeners[pluginEventName] = {\n            registered: false,\n            windowEventName,\n            pluginEventName,\n            handler: event => {\n                this.notifyListeners(pluginEventName, event);\n            },\n        };\n    }\n    unimplemented(msg = 'not implemented') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unimplemented);\n    }\n    unavailable(msg = 'not available') {\n        return new Capacitor.Exception(msg, ExceptionCode.Unavailable);\n    }\n    async removeListener(eventName, listenerFunc) {\n        const listeners = this.listeners[eventName];\n        if (!listeners) {\n            return;\n        }\n        const index = listeners.indexOf(listenerFunc);\n        this.listeners[eventName].splice(index, 1);\n        // If there are no more listeners for this type of event,\n        // remove the window listener\n        if (!this.listeners[eventName].length) {\n            this.removeWindowListener(this.windowListeners[eventName]);\n        }\n    }\n    addWindowListener(handle) {\n        window.addEventListener(handle.windowEventName, handle.handler);\n        handle.registered = true;\n    }\n    removeWindowListener(handle) {\n        if (!handle) {\n            return;\n        }\n        window.removeEventListener(handle.windowEventName, handle.handler);\n        handle.registered = false;\n    }\n}\n\nconst WebView = /*#__PURE__*/ registerPlugin('WebView');\n/******** END WEB VIEW PLUGIN ********/\n/******** COOKIES PLUGIN ********/\n/**\n * Safely web encode a string value (inspired by js-cookie)\n * @param str The string value to encode\n */\nconst encode = (str) => encodeURIComponent(str)\n    .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n    .replace(/[()]/g, escape);\n/**\n * Safely web decode a string value (inspired by js-cookie)\n * @param str The string value to decode\n */\nconst decode = (str) => str.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent);\nclass CapacitorCookiesPluginWeb extends WebPlugin {\n    async getCookies() {\n        const cookies = document.cookie;\n        const cookieMap = {};\n        cookies.split(';').forEach(cookie => {\n            if (cookie.length <= 0)\n                return;\n            // Replace first \"=\" with CAP_COOKIE to prevent splitting on additional \"=\"\n            let [key, value] = cookie.replace(/=/, 'CAP_COOKIE').split('CAP_COOKIE');\n            key = decode(key).trim();\n            value = decode(value).trim();\n            cookieMap[key] = value;\n        });\n        return cookieMap;\n    }\n    async setCookie(options) {\n        try {\n            // Safely Encoded Key/Value\n            const encodedKey = encode(options.key);\n            const encodedValue = encode(options.value);\n            // Clean & sanitize options\n            const expires = `; expires=${(options.expires || '').replace('expires=', '')}`; // Default is \"; expires=\"\n            const path = (options.path || '/').replace('path=', ''); // Default is \"path=/\"\n            const domain = options.url != null && options.url.length > 0\n                ? `domain=${options.url}`\n                : '';\n            document.cookie = `${encodedKey}=${encodedValue || ''}${expires}; path=${path}; ${domain};`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async deleteCookie(options) {\n        try {\n            document.cookie = `${options.key}=; Max-Age=0`;\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearCookies() {\n        try {\n            const cookies = document.cookie.split(';') || [];\n            for (const cookie of cookies) {\n                document.cookie = cookie\n                    .replace(/^ +/, '')\n                    .replace(/=.*/, `=;expires=${new Date().toUTCString()};path=/`);\n            }\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n    async clearAllCookies() {\n        try {\n            await this.clearCookies();\n        }\n        catch (error) {\n            return Promise.reject(error);\n        }\n    }\n}\nconst CapacitorCookies = registerPlugin('CapacitorCookies', {\n    web: () => new CapacitorCookiesPluginWeb(),\n});\n// UTILITY FUNCTIONS\n/**\n * Read in a Blob value and return it as a base64 string\n * @param blob The blob value to convert to a base64 string\n */\nconst readBlobAsBase64 = async (blob) => new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => {\n        const base64String = reader.result;\n        // remove prefix \"data:application/pdf;base64,\"\n        resolve(base64String.indexOf(',') >= 0\n            ? base64String.split(',')[1]\n            : base64String);\n    };\n    reader.onerror = (error) => reject(error);\n    reader.readAsDataURL(blob);\n});\n/**\n * Normalize an HttpHeaders map by lowercasing all of the values\n * @param headers The HttpHeaders object to normalize\n */\nconst normalizeHttpHeaders = (headers = {}) => {\n    const originalKeys = Object.keys(headers);\n    const loweredKeys = Object.keys(headers).map(k => k.toLocaleLowerCase());\n    const normalized = loweredKeys.reduce((acc, key, index) => {\n        acc[key] = headers[originalKeys[index]];\n        return acc;\n    }, {});\n    return normalized;\n};\n/**\n * Builds a string of url parameters that\n * @param params A map of url parameters\n * @param shouldEncode true if you should encodeURIComponent() the values (true by default)\n */\nconst buildUrlParams = (params, shouldEncode = true) => {\n    if (!params)\n        return null;\n    const output = Object.entries(params).reduce((accumulator, entry) => {\n        const [key, value] = entry;\n        let encodedValue;\n        let item;\n        if (Array.isArray(value)) {\n            item = '';\n            value.forEach(str => {\n                encodedValue = shouldEncode ? encodeURIComponent(str) : str;\n                item += `${key}=${encodedValue}&`;\n            });\n            // last character will always be \"&\" so slice it off\n            item.slice(0, -1);\n        }\n        else {\n            encodedValue = shouldEncode ? encodeURIComponent(value) : value;\n            item = `${key}=${encodedValue}`;\n        }\n        return `${accumulator}&${item}`;\n    }, '');\n    // Remove initial \"&\" from the reduce\n    return output.substr(1);\n};\n/**\n * Build the RequestInit object based on the options passed into the initial request\n * @param options The Http plugin options\n * @param extra Any extra RequestInit values\n */\nconst buildRequestInit = (options, extra = {}) => {\n    const output = Object.assign({ method: options.method || 'GET', headers: options.headers }, extra);\n    // Get the content-type\n    const headers = normalizeHttpHeaders(options.headers);\n    const type = headers['content-type'] || '';\n    // If body is already a string, then pass it through as-is.\n    if (typeof options.data === 'string') {\n        output.body = options.data;\n    }\n    // Build request initializers based off of content-type\n    else if (type.includes('application/x-www-form-urlencoded')) {\n        const params = new URLSearchParams();\n        for (const [key, value] of Object.entries(options.data || {})) {\n            params.set(key, value);\n        }\n        output.body = params.toString();\n    }\n    else if (type.includes('multipart/form-data') ||\n        options.data instanceof FormData) {\n        const form = new FormData();\n        if (options.data instanceof FormData) {\n            options.data.forEach((value, key) => {\n                form.append(key, value);\n            });\n        }\n        else {\n            for (const key of Object.keys(options.data)) {\n                form.append(key, options.data[key]);\n            }\n        }\n        output.body = form;\n        const headers = new Headers(output.headers);\n        headers.delete('content-type'); // content-type will be set by `window.fetch` to includy boundary\n        output.headers = headers;\n    }\n    else if (type.includes('application/json') ||\n        typeof options.data === 'object') {\n        output.body = JSON.stringify(options.data);\n    }\n    return output;\n};\n// WEB IMPLEMENTATION\nclass CapacitorHttpPluginWeb extends WebPlugin {\n    /**\n     * Perform an Http request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async request(options) {\n        const requestInit = buildRequestInit(options, options.webFetchExtra);\n        const urlParams = buildUrlParams(options.params, options.shouldEncodeUrlParams);\n        const url = urlParams ? `${options.url}?${urlParams}` : options.url;\n        const response = await fetch(url, requestInit);\n        const contentType = response.headers.get('content-type') || '';\n        // Default to 'text' responseType so no parsing happens\n        let { responseType = 'text' } = response.ok ? options : {};\n        // If the response content-type is json, force the response to be json\n        if (contentType.includes('application/json')) {\n            responseType = 'json';\n        }\n        let data;\n        let blob;\n        switch (responseType) {\n            case 'arraybuffer':\n            case 'blob':\n                blob = await response.blob();\n                data = await readBlobAsBase64(blob);\n                break;\n            case 'json':\n                data = await response.json();\n                break;\n            case 'document':\n            case 'text':\n            default:\n                data = await response.text();\n        }\n        // Convert fetch headers to Capacitor HttpHeaders\n        const headers = {};\n        response.headers.forEach((value, key) => {\n            headers[key] = value;\n        });\n        return {\n            data,\n            headers,\n            status: response.status,\n            url: response.url,\n        };\n    }\n    /**\n     * Perform an Http GET request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async get(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'GET' }));\n    }\n    /**\n     * Perform an Http POST request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async post(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'POST' }));\n    }\n    /**\n     * Perform an Http PUT request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async put(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PUT' }));\n    }\n    /**\n     * Perform an Http PATCH request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async patch(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'PATCH' }));\n    }\n    /**\n     * Perform an Http DELETE request given a set of options\n     * @param options Options to build the HTTP request\n     */\n    async delete(options) {\n        return this.request(Object.assign(Object.assign({}, options), { method: 'DELETE' }));\n    }\n}\nconst CapacitorHttp = registerPlugin('CapacitorHttp', {\n    web: () => new CapacitorHttpPluginWeb(),\n});\n/******** END HTTP PLUGIN ********/\n\nexport { Capacitor, CapacitorCookies, CapacitorException, CapacitorHttp, CapacitorPlatforms, ExceptionCode, Plugins, WebPlugin, WebView, addPlatform, buildRequestInit, registerPlugin, registerWebPlugin, setPlatform };\n//# sourceMappingURL=index.js.map\n","export var ImpactStyle;\n(function (ImpactStyle) {\n    /**\n     * A collision between large, heavy user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Heavy\"] = \"HEAVY\";\n    /**\n     * A collision between moderately sized user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Medium\"] = \"MEDIUM\";\n    /**\n     * A collision between small, light user interface elements\n     *\n     * @since 1.0.0\n     */\n    ImpactStyle[\"Light\"] = \"LIGHT\";\n})(ImpactStyle || (ImpactStyle = {}));\nexport var NotificationType;\n(function (NotificationType) {\n    /**\n     * A notification feedback type indicating that a task has completed successfully\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Success\"] = \"SUCCESS\";\n    /**\n     * A notification feedback type indicating that a task has produced a warning\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Warning\"] = \"WARNING\";\n    /**\n     * A notification feedback type indicating that a task has failed\n     *\n     * @since 1.0.0\n     */\n    NotificationType[\"Error\"] = \"ERROR\";\n})(NotificationType || (NotificationType = {}));\n/**\n * @deprecated Use `NotificationType`.\n * @since 1.0.0\n */\nexport const HapticsNotificationType = NotificationType;\n/**\n * @deprecated Use `ImpactStyle`.\n * @since 1.0.0\n */\nexport const HapticsImpactStyle = ImpactStyle;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst Haptics = registerPlugin('Haptics', {\n    web: () => import('./web').then(m => new m.HapticsWeb()),\n});\nexport * from './definitions';\nexport { Haptics };\n//# sourceMappingURL=index.js.map","export var Style;\n(function (Style) {\n    /**\n     * Light text for dark backgrounds.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Dark\"] = \"DARK\";\n    /**\n     * Dark text for light backgrounds.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Light\"] = \"LIGHT\";\n    /**\n     * The style is based on the device appearance.\n     * If the device is using Dark mode, the statusbar text will be light.\n     * If the device is using Light mode, the statusbar text will be dark.\n     * On Android the default will be the one the app was launched with.\n     *\n     * @since 1.0.0\n     */\n    Style[\"Default\"] = \"DEFAULT\";\n})(Style || (Style = {}));\nexport var Animation;\n(function (Animation) {\n    /**\n     * No animation during show/hide.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"None\"] = \"NONE\";\n    /**\n     * Slide animation during show/hide.\n     * It doesn't work on iOS 15+.\n     *\n     * @deprecated Use Animation.Fade or Animation.None instead.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"Slide\"] = \"SLIDE\";\n    /**\n     * Fade animation during show/hide.\n     *\n     * @since 1.0.0\n     */\n    Animation[\"Fade\"] = \"FADE\";\n})(Animation || (Animation = {}));\n/**\n * @deprecated Use `Animation`.\n * @since 1.0.0\n */\nexport const StatusBarAnimation = Animation;\n/**\n * @deprecated Use `Style`.\n * @since 1.0.0\n */\nexport const StatusBarStyle = Style;\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst StatusBar = registerPlugin('StatusBar');\nexport * from './definitions';\nexport { StatusBar };\n//# sourceMappingURL=index.js.map","export var BiometryType;\n(function (BiometryType) {\n    // Android, iOS\n    BiometryType[BiometryType[\"NONE\"] = 0] = \"NONE\";\n    // iOS\n    BiometryType[BiometryType[\"TOUCH_ID\"] = 1] = \"TOUCH_ID\";\n    // iOS\n    BiometryType[BiometryType[\"FACE_ID\"] = 2] = \"FACE_ID\";\n    // Android\n    BiometryType[BiometryType[\"FINGERPRINT\"] = 3] = \"FINGERPRINT\";\n    // Android\n    BiometryType[BiometryType[\"FACE_AUTHENTICATION\"] = 4] = \"FACE_AUTHENTICATION\";\n    // Android\n    BiometryType[BiometryType[\"IRIS_AUTHENTICATION\"] = 5] = \"IRIS_AUTHENTICATION\";\n    // Android\n    BiometryType[BiometryType[\"MULTIPLE\"] = 6] = \"MULTIPLE\";\n})(BiometryType || (BiometryType = {}));\n/**\n * Keep this in sync with BiometricAuthError in README.md\n * Update whenever `convertToPluginErrorCode` functions are modified\n */\nexport var BiometricAuthError;\n(function (BiometricAuthError) {\n    BiometricAuthError[BiometricAuthError[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    BiometricAuthError[BiometricAuthError[\"BIOMETRICS_UNAVAILABLE\"] = 1] = \"BIOMETRICS_UNAVAILABLE\";\n    BiometricAuthError[BiometricAuthError[\"USER_LOCKOUT\"] = 2] = \"USER_LOCKOUT\";\n    BiometricAuthError[BiometricAuthError[\"BIOMETRICS_NOT_ENROLLED\"] = 3] = \"BIOMETRICS_NOT_ENROLLED\";\n    BiometricAuthError[BiometricAuthError[\"USER_TEMPORARY_LOCKOUT\"] = 4] = \"USER_TEMPORARY_LOCKOUT\";\n    BiometricAuthError[BiometricAuthError[\"AUTHENTICATION_FAILED\"] = 10] = \"AUTHENTICATION_FAILED\";\n    BiometricAuthError[BiometricAuthError[\"APP_CANCEL\"] = 11] = \"APP_CANCEL\";\n    BiometricAuthError[BiometricAuthError[\"INVALID_CONTEXT\"] = 12] = \"INVALID_CONTEXT\";\n    BiometricAuthError[BiometricAuthError[\"NOT_INTERACTIVE\"] = 13] = \"NOT_INTERACTIVE\";\n    BiometricAuthError[BiometricAuthError[\"PASSCODE_NOT_SET\"] = 14] = \"PASSCODE_NOT_SET\";\n    BiometricAuthError[BiometricAuthError[\"SYSTEM_CANCEL\"] = 15] = \"SYSTEM_CANCEL\";\n    BiometricAuthError[BiometricAuthError[\"USER_CANCEL\"] = 16] = \"USER_CANCEL\";\n    BiometricAuthError[BiometricAuthError[\"USER_FALLBACK\"] = 17] = \"USER_FALLBACK\";\n})(BiometricAuthError || (BiometricAuthError = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from \"@capacitor/core\";\nconst NativeBiometric = registerPlugin(\"NativeBiometric\", {\n    web: () => import(\"./web\").then((m) => new m.NativeBiometricWeb()),\n});\nexport * from \"./definitions\";\nexport { NativeBiometric };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from \"@capacitor/core\";\nconst NativeAudio = registerPlugin(\"NativeAudio\", {\n    web: () => import(\"./web\").then((m) => new m.NativeAudioWeb()),\n});\nexport * from \"./definitions\";\nexport { NativeAudio };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst NavigationBar = registerPlugin('NavigationBar', {\n    web: () => import('./web').then(m => new m.NavigationBarWeb()),\n});\nexport * from './definitions';\nexport * from './navigationbar.events';\nexport { NavigationBar };\n//# sourceMappingURL=index.js.map","export var NavigationBarPluginEvents;\n(function (NavigationBarPluginEvents) {\n    /**\n     * Called after the navigation bar is displayed\n     */\n    NavigationBarPluginEvents[\"SHOW\"] = \"onShow\";\n    /**\n     * Called after navigation bar is hidden\n     */\n    NavigationBarPluginEvents[\"HIDE\"] = \"onHide\";\n    /**\n     * Called after navigation bar color is changed\n     */\n    NavigationBarPluginEvents[\"COLOR_CHANGE\"] = \"onColorChange\";\n})(NavigationBarPluginEvents || (NavigationBarPluginEvents = {}));\n//# sourceMappingURL=navigationbar.events.js.map","/// <reference types=\"@capacitor/cli\" />\n\ndeclare module '@capacitor/cli' {\n  export interface PluginsConfig {\n    /**\n     * These config values are available:\n     */\n    SplashScreen?: {\n      /**\n       * How long to show the launch splash screen when autoHide is enabled (in ms)\n       *\n       * @since 1.0.0\n       * @default 500\n       * @example 3000\n       */\n      launchShowDuration?: number;\n\n      /**\n       * Whether to auto hide the splash after launchShowDuration.\n       *\n       * @since 1.0.0\n       * @default true\n       * @example true\n       */\n      launchAutoHide?: boolean;\n\n      /**\n       * Duration for the fade out animation of the launch splash screen (in ms)\n       *\n       * Only available for Android, when using the Android 12 Splash Screen API.\n       *\n       * @since 4.2.0\n       * @default 200\n       * @example 3000\n       */\n      launchFadeOutDuration?: number;\n\n      /**\n       * Color of the background of the Splash Screen in hex format, #RRGGBB or #RRGGBBAA.\n       * Doesn't work if `useDialog` is true or on launch when using the Android 12 API.\n       *\n       * @since 1.0.0\n       * @example \"#ffffffff\"\n       */\n      backgroundColor?: string;\n\n      /**\n       * Name of the resource to be used as Splash Screen.\n       *\n       * Doesn't work on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.0.0\n       * @default splash\n       * @example \"splash\"\n       */\n      androidSplashResourceName?: string;\n\n      /**\n       * The [ImageView.ScaleType](https://developer.android.com/reference/android/widget/ImageView.ScaleType) used to scale\n       * the Splash Screen image.\n       * Doesn't work if `useDialog` is true or on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.0.0\n       * @default FIT_XY\n       * @example \"CENTER_CROP\"\n       */\n      androidScaleType?:\n        | 'CENTER'\n        | 'CENTER_CROP'\n        | 'CENTER_INSIDE'\n        | 'FIT_CENTER'\n        | 'FIT_END'\n        | 'FIT_START'\n        | 'FIT_XY'\n        | 'MATRIX';\n\n      /**\n       * Show a loading spinner on the Splash Screen.\n       * Doesn't work if `useDialog` is true or on launch when using the Android 12 API.\n       *\n       * @since 1.0.0\n       * @example true\n       */\n      showSpinner?: boolean;\n\n      /**\n       * Style of the Android spinner.\n       * Doesn't work if `useDialog` is true or on launch when using the Android 12 API.\n       *\n       * @since 1.0.0\n       * @default large\n       * @example \"large\"\n       */\n      androidSpinnerStyle?:\n        | 'horizontal'\n        | 'small'\n        | 'large'\n        | 'inverse'\n        | 'smallInverse'\n        | 'largeInverse';\n\n      /**\n       * Style of the iOS spinner.\n       * Doesn't work if `useDialog` is true.\n       *\n       * Only available on iOS.\n       *\n       * @since 1.0.0\n       * @default large\n       * @example \"small\"\n       */\n      iosSpinnerStyle?: 'large' | 'small';\n\n      /**\n       * Color of the spinner in hex format, #RRGGBB or #RRGGBBAA.\n       * Doesn't work if `useDialog` is true or on launch when using the Android 12 API.\n       *\n       * @since 1.0.0\n       * @example \"#999999\"\n       */\n      spinnerColor?: string;\n\n      /**\n       * Hide the status bar on the Splash Screen.\n       *\n       * Doesn't work on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.0.0\n       * @example true\n       */\n      splashFullScreen?: boolean;\n\n      /**\n       * Hide the status bar and the software navigation buttons on the Splash Screen.\n       *\n       * Doesn't work on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.0.0\n       * @example true\n       */\n      splashImmersive?: boolean;\n\n      /**\n       * If `useDialog` is set to true, configure the Dialog layout.\n       * If `useDialog` is not set or false, use a layout instead of the ImageView.\n       *\n       * Doesn't work on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.1.0\n       * @example \"launch_screen\"\n       */\n      layoutName?: string;\n\n      /**\n       * Use a Dialog instead of an ImageView.\n       * If `layoutName` is not configured, it will use\n       * a layout that uses the splash image as background.\n       *\n       * Doesn't work on launch when using the Android 12 API.\n       *\n       * Only available on Android.\n       *\n       * @since 1.1.0\n       * @example true\n       */\n      useDialog?: boolean;\n    };\n  }\n}\n\nexport interface ShowOptions {\n  /**\n   * Whether to auto hide the splash after showDuration\n   *\n   * @since 1.0.0\n   */\n  autoHide?: boolean;\n  /**\n   * How long (in ms) to fade in.\n   *\n   * @since 1.0.0\n   * @default 200\n   */\n  fadeInDuration?: number;\n  /**\n   * How long (in ms) to fade out.\n   *\n   * @since 1.0.0\n   * @default 200\n   */\n  fadeOutDuration?: number;\n  /**\n   * How long to show the splash screen when autoHide is enabled (in ms)\n   *\n   * @since 1.0.0\n   * @default 3000\n   */\n  showDuration?: number;\n}\n\nexport interface HideOptions {\n  /**\n   * How long (in ms) to fade out.\n   *\n   * On Android, if using the Android 12 Splash Screen API, it's not being used.\n   * Use launchFadeOutDuration configuration option instead.\n   *\n   * @since 1.0.0\n   * @default 200\n   */\n  fadeOutDuration?: number;\n}\n\nexport interface SplashScreenPlugin {\n  /**\n   * Show the splash screen\n   *\n   * @since 1.0.0\n   */\n  show(options?: ShowOptions): Promise<void>;\n  /**\n   * Hide the splash screen\n   *\n   * @since 1.0.0\n   */\n  hide(options?: HideOptions): Promise<void>;\n}\n\n/**\n * @deprecated Use `ShowOptions`.\n * @since 1.0.0\n */\nexport type SplashScreenShowOptions = ShowOptions;\n\n/**\n * @deprecated Use `HideOptions`.\n * @since 1.0.0\n */\nexport type SplashScreenHideOptions = HideOptions;\n","import { registerPlugin } from '@capacitor/core';\n\nimport type { SplashScreenPlugin } from './definitions';\n\nconst SplashScreen = registerPlugin<SplashScreenPlugin>('SplashScreen', {\n  web: () => import('./web').then(m => new m.SplashScreenWeb()),\n});\n\nexport * from './definitions';\nexport { SplashScreen };\n","import type { ApiWalletVersion } from '../../types';\nimport type { ContractInfo, ContractName } from './types';\nimport { Workchain } from '../../types';\n\nexport const TOKEN_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON\nexport const TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON\nexport const NFT_TRANSFER_TONCOIN_AMOUNT = 100000000n; // 0.1 TON\nexport const NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT = 1n; // 0.000000001 TON\n\nexport const STAKE_COMMENT = 'd';\nexport const UNSTAKE_COMMENT = 'w';\n\nexport const ATTEMPTS = 5;\n\nexport const DEFAULT_DECIMALS = 9;\nexport const DEFAULT_IS_BOUNCEABLE = true;\nexport const WALLET_IS_BOUNCEABLE = false;\n\n// Fee may change, so we add 5% for more reliability. This is only safe for low-fee blockchains such as TON.\nexport const FEE_FACTOR = 1.05;\n\nexport const ALL_WALLET_VERSIONS: ApiWalletVersion[] = [\n  'simpleR1', 'simpleR2', 'simpleR3', 'v2R1', 'v2R2', 'v3R1', 'v3R2', 'v4R2', 'W5',\n];\n\nexport const WORKCHAIN = Workchain.BaseChain;\nexport const TRANSFER_TIMEOUT_SEC = 600; // 10 min.\n\nexport enum OpCode {\n  Comment = 0,\n  Encrypted = 0x2167da4b,\n}\n\nexport enum JettonOpCode {\n  Transfer = 0xf8a7ea5,\n  TransferNotification = 0x7362d09c,\n  InternalTransfer = 0x178d4519,\n  Excesses = 0xd53276db,\n  Burn = 0x595f07bc,\n  BurnNotification = 0x7bdd97de,\n}\n\nexport enum NftOpCode {\n  TransferOwnership = 0x5fcc3d14,\n  OwnershipAssigned = 0x05138d91,\n}\n\nexport enum LiquidStakingOpCode {\n  // Pool\n  RequestLoan = 0xe642c965,\n  LoanRepayment = 0xdfdca27b,\n  Deposit = 0x47d54391,\n  Withdraw = 0x319B0CDC,\n  Withdrawal = 0x0a77535c,\n  DeployController = 0xb27edcad,\n  Touch = 0x4bc7c2df,\n  Donate = 0x73affe21,\n  // NFT\n  DistributedAsset = 0xdb3b8abd,\n  // Jetton\n  Vote = 0x69fb306c,\n}\n\nexport enum VestingV1OpCode {\n  AddWhitelist = 0x7258a69b,\n}\n\nexport enum SingleNominatorOpCode {\n  Withdraw = 0x1000,\n  ChangeValidator = 0x1001,\n}\n\nexport enum DnsOpCode {\n  ChangeRecord = 0x4eb1f0f9,\n}\n\nexport enum OtherOpCode {\n  TokenBridgePaySwap = 0x8,\n}\n\nexport enum ContractType {\n  Wallet = 'wallet',\n  Staking = 'staking',\n}\n\nexport enum DnsCategory {\n  DnsNextResolver = 'dns_next_resolver',\n  Wallet = 'wallet',\n  Site = 'site',\n  BagId = 'storage',\n  Unknown = 'unknown',\n}\n\nexport const DNS_CATEGORY_HASH_MAP = {\n  dns_next_resolver: '19f02441ee588fdb26ee24b2568dd035c3c9206e11ab979be62e55558a1d17ff',\n  wallet: 'e8d44050873dba865aa7c170ab4cce64d90839a34dcfd6cf71d14e0205443b1b',\n  site: 'fbae041b02c41ed0fd8a4efb039bc780dd6af4a1f0c420f42561ae705dda43fe',\n  storage: '49a25f9feefaffecad0fcd30c50dc9331cff8b55ece53def6285c09e17e6f5d7',\n} as const;\n\nexport const DNS_ZONES_MAP = {\n  '.t.me': 'EQCA14o1-VWhS2efqoh_9M1b_A9DtKTuoqfmkn83AbJzwnPi',\n  '.ton': 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz',\n  '.vip': 'EQBWG4EBbPDv4Xj7xlPwzxd7hSyHMzwwLB5O6rY-0BBeaixS',\n  '.gram': 'EQAic3zPce496ukFDhbco28FVsKKl2WUX_iJwaL87CBxSiLQ',\n} as const;\n\nexport const KnownContracts: Record<ContractName, ContractInfo> = {\n  simpleR1: {\n    name: 'simpleR1',\n    hash: '3232dc55b02b3d2a9485adc151cf29c50b94c374d3571cb59390d761b87af8bd',\n    type: ContractType.Wallet,\n  },\n  simpleR2: {\n    name: 'simpleR2',\n    hash: '672ce2b01d2fd487a5e0528611e7e4fc11867148cc13ff772bd773b72fb368df',\n    type: ContractType.Wallet,\n  },\n  simpleR3: {\n    name: 'simpleR3',\n    hash: 'd95417233f66ae218317f533630cbbddc677d6d893d5722be6947c8fad8e9d52',\n    type: ContractType.Wallet,\n  },\n  v2R1: {\n    name: 'v2R1',\n    hash: 'fb3bd539b7e50166f1cfdc0bbd298b1c88f6b261fe5ee61343ea47ab4b256029',\n    type: ContractType.Wallet,\n  },\n  v2R2: {\n    name: 'v2R2',\n    hash: 'b584b6106753b7f34709df505be603e463a44ff6a85adf7fec4e26453c325983',\n    type: ContractType.Wallet,\n  },\n  v3R1: {\n    name: 'v3R1',\n    hash: '11d123ed5c2055128e75a9ef4cf1e837e6d14a9c079c39939885c78dc13626e6',\n    type: ContractType.Wallet,\n  },\n  v3R2: {\n    name: 'v3R2',\n    hash: 'df7bf014ee7ac0c38da19ef1b7fa054e2cc7a4513df1f1aa295109cf3606ac14',\n    type: ContractType.Wallet,\n  },\n  v4R1: {\n    name: 'v4R1',\n    hash: '1bc0dfa40956c911616f8a5db09ecc217601bae48d7d3f9311562c5afcb66dcf',\n    type: ContractType.Wallet,\n  },\n  v4R2: {\n    name: 'v4R2',\n    hash: '5659ce2300f4a09a37b0bdee41246ded52474f032c1d6ffce0d7d31b18b7b2b1',\n    type: ContractType.Wallet,\n  },\n  W5: {\n    name: 'W5',\n    hash: '7e94eaaeaaa423b9396e79747038c42edc4fe98dce65094071f0e0ad2df22fd5',\n    type: ContractType.Wallet,\n  },\n  highloadV2: {\n    name: 'highloadV2',\n    hash: 'fcd7d1f3b3847f0b9bd44bc64a2256c03450979dd1646a24fbc874b075392d6e',\n    type: ContractType.Wallet,\n  },\n  nominatorPool: {\n    name: 'nominatorPool',\n    hash: '26faa2d0fd2a8197ea36ded8dc50ad081cce5244207e9b05c08c1bb655527bff',\n    type: ContractType.Staking,\n  },\n  multisig: {\n    name: 'multisig',\n    hash: '45d890485cdd6b152bcbbe3fb2e16d2df82f6da840440a5b9f34ea13cb0b92d2',\n    type: ContractType.Wallet,\n  },\n  multisigV2: {\n    name: 'multisigV2',\n    hash: 'eb1323c5544d5bf26248dc427d108d722d5c2922dd97dd0bdf903c4cea73ca97',\n    type: ContractType.Wallet,\n  },\n  vesting: {\n    name: 'vesting',\n    hash: '69dc931958f7aa203c4a7bfcf263d25d2d828d573184b542a65dd55c8398ad83',\n    type: ContractType.Wallet,\n  },\n  multisigNew: {\n    name: 'multisigNew',\n    hash: '7cb3678880388acff45d74b2e7e7544caa8039d20b49f57c75b53c051b6fa30f',\n    type: ContractType.Wallet,\n  },\n  dedustPool: {\n    name: 'dedustPool',\n    hash: 'f216ded2b43d32e2d487db6fa6e4d2387f0ef1d7b53ec1ad85f0b4feb8e4ed62',\n    isSwapAllowed: true,\n  },\n  dedustVaultNative: {\n    name: 'dedustVaultNative',\n    hash: '64a42ad66688097422901ae6188670f0d6292ad3bdb4139289666f24187e86cb',\n    isSwapAllowed: true,\n  },\n  dedustVaultJetton: {\n    name: 'dedustVaultJetton',\n    hash: '5bc82f0c5972ccc6732e98cbe31ea4795da818f9e06c991331568182a8362307',\n    isSwapAllowed: true,\n  },\n  stonPtonWallet: {\n    name: 'stonPtonWallet',\n    hash: '6ccbf71a3ed9c7355f84a698a44a7406574bfb8aa34d4bbd86ab75ee9c994880',\n    isSwapAllowed: true,\n  },\n  stonRouter: {\n    name: 'stonRouter',\n    hash: '14ce618a0e9a94adc99fa6e975219ddd675425b30dfa9728f98714c8dc55f9da',\n    isSwapAllowed: true,\n  },\n  megatonWtonMaster: {\n    name: 'megatonWtonMaster',\n    hash: '4c9790d808ea4470614e021f76c40529efe2fbce8138da4284a29b5f1943ef19',\n    isSwapAllowed: true,\n  },\n  megatonRouter: {\n    name: 'megatonRouter',\n    hash: '5d5f0e3ed9602d1ba96006ead98cb5e9b53f49ce4a5cf675e06e4d440b7d267c',\n    isSwapAllowed: true,\n  },\n};\n","// eslint-disable-next-line max-classes-per-file\nimport type { ApiAnyDisplayError } from './types';\nimport { ApiCommonError, ApiTransactionError } from './types';\n\nexport class ApiBaseError extends Error {\n  constructor(message?: string, public displayError?: ApiAnyDisplayError) {\n    super(message);\n    this.name = this.constructor.name;\n  }\n}\n\nexport class ApiUserRejectsError extends ApiBaseError {\n  constructor(message: string = 'Canceled by the user') {\n    super(message);\n  }\n}\n\nexport class ApiServerError extends ApiBaseError {\n  constructor(message: string, public statusCode?: number) {\n    super(message, ApiCommonError.ServerError);\n  }\n}\n\nexport class ApiUnsupportedVersionError extends ApiBaseError {\n  constructor(message: string) {\n    super(message, ApiCommonError.UnsupportedVersion);\n  }\n}\n\nexport class ApiHardwareBlindSigningNotEnabled extends ApiBaseError {\n  constructor(message: string = 'Blind signing not enabled') {\n    super(message, ApiTransactionError.HardwareBlindSigningNotEnabled);\n  }\n}\n\nexport class AbortOperationError extends ApiBaseError {\n  constructor(message: string = 'Abort operation') {\n    super(message);\n  }\n}\n\nexport function maybeApiErrors(fn: AnyAsyncFunction) {\n  return async (...args: any) => {\n    try {\n      return await fn(...args);\n    } catch (err) {\n      return handleServerError(err);\n    }\n  };\n}\n\nexport function handleServerError(err: any) {\n  if (err instanceof ApiServerError) {\n    return { error: err.displayError! };\n  }\n  throw err;\n}\n","// export { initApi, callApi } from './providers/direct/connector';\nexport { initApi, callApi } from './providers/worker/connector';\n","import type { Connector } from '../../../util/PostMessageConnector';\nimport type { ApiInitArgs, OnApiUpdate } from '../../types';\nimport type { AllMethodArgs, AllMethodResponse, AllMethods } from '../../types/methods';\n\nimport { IS_CAPACITOR } from '../../../config';\nimport { createWindowProvider } from '../../../util/capacitorStorageProxy';\nimport { logDebugError } from '../../../util/logs';\nimport { createConnector } from '../../../util/PostMessageConnector';\nimport { pause } from '../../../util/schedulers';\nimport { IS_IOS } from '../../../util/windowEnvironment';\n\nconst HEALTH_CHECK_TIMEOUT = 150;\nconst HEALTH_CHECK_MIN_DELAY = 5000; // 5 sec\n\nlet updateCallback: OnApiUpdate;\nlet worker: Worker | undefined;\nlet connector: Connector | undefined;\nlet isInitialized = false;\n\nexport function initApi(onUpdate: OnApiUpdate, initArgs: ApiInitArgs | (() => ApiInitArgs)) {\n  updateCallback = onUpdate;\n\n  if (!connector) {\n    worker = new Worker(\n      /* webpackChunkName: \"worker\" */ new URL('./provider.ts', import.meta.url),\n    );\n    connector = createConnector(worker, onUpdate);\n\n    if (IS_CAPACITOR) {\n      createWindowProvider(worker!);\n    }\n  }\n\n  if (!isInitialized) {\n    if (IS_IOS) {\n      setupIosHealthCheck();\n    }\n    isInitialized = true;\n  }\n\n  const args = typeof initArgs === 'function' ? initArgs() : initArgs;\n  return connector.init(args);\n}\n\nexport async function callApi<T extends keyof AllMethods>(fnName: T, ...args: AllMethodArgs<T>) {\n  if (!connector) {\n    logDebugError('API is not initialized');\n    return undefined;\n  }\n\n  try {\n    return await (connector.request({\n      name: fnName,\n      args,\n    }) as AllMethodResponse<T>);\n  } catch (err) {\n    return undefined;\n  }\n}\n\nexport function callApiWithThrow<T extends keyof AllMethods>(fnName: T, ...args: AllMethodArgs<T>) {\n  return (connector!.request({\n    name: fnName,\n    args,\n  }) as AllMethodResponse<T>);\n}\n\nconst startedAt = Date.now();\n\n// Workaround for iOS sometimes stops interacting with worker\nfunction setupIosHealthCheck() {\n  window.addEventListener('focus', () => {\n    void ensureWorkerPing();\n    // Sometimes a single check is not enough\n    setTimeout(() => ensureWorkerPing(), 1000);\n  });\n}\n\nasync function ensureWorkerPing() {\n  let isResolved = false;\n\n  try {\n    await Promise.race([\n      callApiWithThrow('ping'),\n      pause(HEALTH_CHECK_TIMEOUT)\n        .then(() => (isResolved ? undefined : Promise.reject(new Error('HEALTH_CHECK_TIMEOUT')))),\n    ]);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.error(err);\n\n    if (Date.now() - startedAt >= HEALTH_CHECK_MIN_DELAY) {\n      worker?.terminate();\n      worker = undefined;\n      connector = undefined;\n      updateCallback({ type: 'requestReconnectApi' });\n    }\n  } finally {\n    isResolved = true;\n  }\n}\n","import type {\n  CHAIN, ConnectEventError, ConnectItemReply, DeviceInfo,\n} from '@tonconnect/protocol';\n\nexport interface LocalConnectEventSuccess {\n  event: 'connect';\n  id: number;\n  payload: {\n    items: ConnectItemReply[];\n    device?: DeviceInfo; // We add it later in contentScript.js\n  };\n}\n\nexport interface TransactionPayload {\n  valid_until?: number;\n  network?: CHAIN;\n  from?: string; // https://github.com/ton-blockchain/ton-connect/blob/main/wallet-guidelines.md#multi-accounts\n  messages: TransactionPayloadMessage[];\n}\n\nexport interface TransactionPayloadMessage {\n  address: string;\n  amount: string;\n  payload?: string;\n  stateInit?: string;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum CONNECT_EVENT_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  MANIFEST_NOT_FOUND_ERROR = 2,\n  MANIFEST_CONTENT_ERROR = 3,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum SEND_TRANSACTION_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport enum SIGN_DATA_ERROR_CODES {\n  UNKNOWN_ERROR = 0,\n  BAD_REQUEST_ERROR = 1,\n  UNKNOWN_APP_ERROR = 100,\n  USER_REJECTS_ERROR = 300,\n  METHOD_NOT_SUPPORTED = 400,\n}\n\nexport type AllErrorCodes = CONNECT_EVENT_ERROR_CODES | SEND_TRANSACTION_ERROR_CODES | SIGN_DATA_ERROR_CODES;\nexport type LocalConnectEvent = LocalConnectEventSuccess | ConnectEventError;\n\nexport interface ApiTonConnectProof {\n  timestamp: number;\n  domain: string;\n  payload: string;\n}\n","import type { ApiSwapHistoryItem } from './backend';\nimport type { ApiTransaction } from './misc';\n\nexport type ApiTransactionActivity = ApiTransaction & {\n  id: string;\n  kind: 'transaction';\n};\n\nexport type ApiSwapActivity = ApiSwapHistoryItem & {\n  kind: 'swap';\n  shouldHide?: boolean;\n};\n\nexport type ApiActivity = ApiTransactionActivity | ApiSwapActivity;\n","import type { DieselStatus } from '../../global/types';\nimport type { ApiLoyaltyType } from './misc';\n\nexport type ApiSwapEstimateRequest = {\n  from: string;\n  to: string;\n  slippage: number;\n  fromAmount?: string;\n  toAmount?: string;\n  fromAddress: string;\n  shouldTryDiesel?: boolean;\n};\n\nexport type ApiSwapEstimateResponse = ApiSwapEstimateRequest & {\n  toAmount: string;\n  fromAmount: string;\n  toMinAmount: string;\n  networkFee: number;\n  realNetworkFee: number;\n  swapFee: string;\n  swapFeePercent: number;\n  impact: number;\n  dexLabel: string;\n  dieselStatus: DieselStatus;\n};\n\nexport type ApiSwapBuildRequest\n  = Omit<ApiSwapEstimateResponse, 'impact' | 'swapFeePercent' | 'realNetworkFee' | 'dieselStatus'>;\n\nexport type ApiSwapTransfer = {\n  toAddress: string;\n  amount: string;\n  payload: string;\n};\n\nexport type ApiSwapBuildResponse = {\n  id: string;\n  transfers: ApiSwapTransfer[];\n};\n\n// Swap assets and history\nexport type ApiSwapAsset = {\n  name: string;\n  symbol: string;\n  blockchain: string;\n  slug: string;\n  decimals: number;\n  isPopular: boolean;\n  price: number;\n  priceUsd: number;\n  image?: string;\n  contract?: string;\n  keywords?: string[];\n  color?: string;\n};\n\nexport type ApiSwapTonAsset = ApiSwapAsset & {\n  blockchain: 'ton';\n};\n\nexport type ApiSwapPairAsset = {\n  symbol: string;\n  slug: string;\n  contract?: string;\n  isReverseProhibited?: boolean;\n};\n\nexport type ApiSwapHistoryItem = {\n  id: string;\n  timestamp: number;\n  lt?: number;\n  from: string;\n  fromAmount: string;\n  to: string;\n  toAmount: string;\n  networkFee: number;\n  swapFee: string;\n  status: 'pending' | 'completed' | 'failed' | 'expired';\n  txIds: string[];\n  cex?: {\n    payinAddress: string;\n    payoutAddress: string;\n    payinExtraId?: string;\n    status: ApiSwapCexTransactionStatus;\n    transactionId: string;\n  };\n};\n\n// Cross-chain centralized swap\ntype ApiSwapCexTransactionStatus = 'new' | 'waiting' | 'confirming' | 'exchanging' | 'sending' | 'finished'\n| 'failed' | 'refunded' | 'hold' | 'overdue' | 'expired';\n\nexport type ApiSwapCexEstimateRequest = {\n  from: string;\n  fromAmount: string;\n  to: string;\n};\n\nexport type ApiSwapCexEstimateResponse = {\n  from: string;\n  fromAmount: string;\n  to: string;\n  toAmount: string;\n  swapFee: string;\n  // additional\n  fromMin: string;\n  fromMax: string;\n};\n\nexport type ApiSwapCexCreateTransactionRequest = {\n  from: string;\n  fromAmount: string;\n  fromAddress: string; // Always TON address\n  to: string;\n  toAddress: string; // TON or other crypto address\n  payoutExtraId?: string;\n  swapFee: string; // from estimate request\n  networkFee?: number; // only for sent TON\n};\n\nexport type ApiSwapCexCreateTransactionResponse = {\n  request: ApiSwapCexCreateTransactionRequest;\n  swap: ApiSwapHistoryItem;\n};\n\n// Staking\nexport type ApiStakingCommonData = {\n  liquid: {\n    currentRate: number;\n    nextRoundRate: number;\n    collection?: string;\n    apy: number;\n    available: bigint;\n    loyaltyApy: {\n      [key in ApiLoyaltyType]: number;\n    };\n  };\n  round: {\n    start: number;\n    end: number;\n    unlock: number;\n  };\n  prevRound: {\n    start: number;\n    end: number;\n    unlock: number;\n  };\n  bigInt: bigint;\n};\n\nexport type ApiSite = {\n  url: string;\n  name: string;\n  icon: string;\n  manifestUrl: string;\n  description: string;\n  canBeRestricted: boolean;\n  isExternal: boolean;\n};\n\n// Prices\nexport type ApiPriceHistoryPeriod = '1D' | '7D' | '1M' | '3M' | '1Y' | 'ALL';\n\n// Vesting\nexport type ApiVestingPartStatus = 'frozen' | 'ready' | 'unfrozen' | 'missed';\n\nexport type ApiVestingInfo = {\n  id: number;\n  title: string;\n  startsAt: Date;\n  initialAmount: number;\n  parts: {\n    id: number;\n    time: string;\n    timeEnd: string;\n    amount: number;\n    status: ApiVestingPartStatus;\n  }[];\n};\n","export enum ApiCommonError {\n  Unexpected = 'Unexpected',\n  ServerError = 'ServerError',\n  DebugError = 'DebugError',\n  UnsupportedVersion = 'UnsupportedVersion',\n}\n\nexport enum ApiTransactionDraftError {\n  InvalidAmount = 'InvalidAmount',\n  InvalidToAddress = 'InvalidToAddress',\n  InsufficientBalance = 'InsufficientBalance',\n  DomainNotResolved = 'DomainNotResolved',\n  WalletNotInitialized = 'WalletNotInitialized',\n  InvalidAddressFormat = 'InvalidAddressFormat',\n  InactiveContract = 'InactiveContract',\n}\n\nexport enum ApiTransactionError {\n  PartialTransactionFailure = 'PartialTransactionFailure',\n  IncorrectDeviceTime = 'IncorrectDeviceTime',\n  InsufficientBalance = 'InsufficientBalance',\n  UnsuccesfulTransfer = 'UnsuccesfulTransfer',\n  NotSupportedHardwareOperation = 'NotSupportedHardwareOperation',\n  HardwareBlindSigningNotEnabled = 'HardwareBlindSigningNotEnabled',\n  WrongAddress = 'WrongAddress',\n  WrongNetwork = 'WrongNetwork',\n}\n\nexport type ApiAnyDisplayError = ApiCommonError | ApiTransactionDraftError | ApiTransactionError;\n","export * from './updates';\nexport * from './misc';\nexport * from './payload';\nexport * from './errors';\nexport * from './backend';\nexport * from './storage';\nexport * from './activity';\n","import type { DNS_ZONES_MAP } from '../blockchains/ton/constants';\nimport type { ApiParsedPayload } from './payload';\nimport type { ApiSseOptions } from './storage';\n\nexport type ApiWalletVersion = 'simpleR1'\n| 'simpleR2'\n| 'simpleR3'\n| 'v2R1'\n| 'v2R2'\n| 'v3R1'\n| 'v3R2'\n| 'v4R2'\n| 'W5';\n\nexport type ApiBlockchainKey = 'ton';\nexport type ApiNetwork = 'mainnet' | 'testnet';\nexport type ApiLedgerDriver = 'HID' | 'USB';\n\nexport interface AccountIdParsed {\n  id: number;\n  blockchain: ApiBlockchainKey;\n  network: ApiNetwork;\n}\n\nexport interface ApiInitArgs {\n  isElectron: boolean;\n  isNativeBottomSheet: boolean;\n  isIosApp: boolean;\n  isAndroidApp: boolean;\n}\n\nexport interface ApiBaseToken {\n  name: string;\n  symbol: string;\n  slug: string;\n  decimals: number;\n  minterAddress?: string;\n  image?: string;\n  isPopular?: boolean;\n  keywords?: string[];\n  cmcSlug?: string;\n  color?: string;\n}\n\nexport interface ApiToken extends ApiBaseToken {\n  quote: ApiTokenPrice;\n}\n\nexport interface ApiTokenPrice {\n  slug: string;\n  price: number;\n  priceUsd: number;\n  percentChange24h: number;\n}\n\nexport type ApiKnownAddresses = Record<string, ApiAddressInfo>;\n\nexport interface ApiAddressInfo {\n  name?: string;\n  isScam?: boolean;\n  isMemoRequired?: boolean;\n}\n\nexport type ApiTxIdBySlug = Record<string, string | undefined>;\nexport type ApiTransactionType = 'stake' | 'unstake' | 'unstakeRequest' | 'swap'\n| 'nftTransferred' | 'nftReceived' | undefined;\n\nexport interface ApiTransaction {\n  txId: string;\n  timestamp: number;\n  amount: bigint;\n  fromAddress: string;\n  toAddress: string;\n  comment?: string;\n  encryptedComment?: string;\n  fee: bigint;\n  slug: string;\n  isIncoming: boolean;\n  normalizedAddress: string;\n  inMsgHash: string;\n  shouldHide?: boolean;\n  type?: ApiTransactionType;\n  metadata?: ApiTransactionMetadata;\n  nft?: ApiNft;\n}\n\nexport interface ApiTransactionMetadata extends ApiAddressInfo {\n}\n\nexport interface ApiNft {\n  index: number;\n  name?: string;\n  address: string;\n  thumbnail: string;\n  image: string;\n  description?: string;\n  collectionName?: string;\n  collectionAddress?: string;\n  isOnSale: boolean;\n  isHidden?: boolean;\n  isOnFragment?: boolean;\n  isScam?: boolean;\n}\n\nexport type ApiHistoryList = Array<[number, number]>;\nexport type ApiTokenSimple = Omit<ApiToken, 'quote'>;\n\nexport type ApiStakingType = 'nominators' | 'liquid';\n\nexport type ApiStakingState = {\n  type: 'nominators';\n  amount: bigint;\n  pendingDepositAmount: bigint;\n  isUnstakeRequested: boolean;\n} | {\n  type: 'liquid';\n  tokenAmount: bigint;\n  amount: bigint;\n  unstakeRequestAmount: bigint;\n  apy: number;\n  instantAvailable: bigint;\n};\n\nexport interface ApiNominatorsPool {\n  address: string;\n  apy: number;\n  start: number;\n  end: number;\n}\n\nexport interface ApiBackendStakingState {\n  balance: bigint;\n  totalProfit: bigint;\n  type?: ApiStakingType;\n  nominatorsPool: ApiNominatorsPool;\n  loyaltyType?: ApiLoyaltyType;\n  shouldUseNominators?: boolean;\n  stakedAt?: number;\n}\n\nexport type ApiStakingHistory = {\n  timestamp: number;\n  profit: string;\n}[];\n\nexport interface ApiDappPermissions {\n  isAddressRequired?: boolean;\n  isPasswordRequired?: boolean;\n}\n\nexport type ApiDappRequest = {\n  origin?: string;\n  accountId?: string;\n  sseOptions?: ApiSseOptions;\n} | {\n  origin: string;\n  accountId: string;\n};\n\nexport interface ApiDappTransfer {\n  toAddress: string;\n  amount: bigint;\n  rawPayload?: string;\n  payload?: ApiParsedPayload;\n  stateInit?: string;\n  isScam?: boolean;\n}\n\nexport interface ApiSubmitTransferOptions {\n  accountId: string;\n  password: string;\n  toAddress: string;\n  amount: bigint;\n  comment?: string;\n  tokenAddress?: string;\n  fee?: bigint;\n  shouldEncrypt?: boolean;\n  isBase64Data?: boolean;\n  withDiesel?: boolean;\n  dieselAmount?: bigint;\n}\n\nexport enum Workchain {\n  MasterChain = -1,\n  BaseChain = 0,\n}\n\nexport interface ApiSignedTransfer {\n  base64: string;\n  seqno: number;\n  params: Omit<ApiLocalTransactionParams, 'inMsgHash'>;\n}\n\nexport type ApiLocalTransactionParams = Omit<\nApiTransaction, 'txId' | 'timestamp' | 'isIncoming' | 'normalizedAddress'\n> & {\n  normalizedAddress?: string;\n};\n\nexport type ApiBaseCurrency = 'USD' | 'EUR' | 'RUB' | 'CNY' | 'BTC' | 'TON';\n\nexport enum ApiLiquidUnstakeMode {\n  Default,\n  Instant,\n  BestRate,\n}\n\nexport type ApiLoyaltyType = 'black' | 'platinum' | 'gold' | 'silver' | 'standard';\n\nexport type ApiBalanceBySlug = Record<string, bigint>;\n\nexport type ApiWalletInfo = {\n  address: string;\n  version: ApiWalletVersion;\n  balance: bigint;\n  isInitialized: boolean;\n  lastTxId?: string;\n};\n\nexport type ApiDnsZone = keyof typeof DNS_ZONES_MAP;\n\n// Country codes from ISO-3166-1 spec\nexport type ApiCountryCode = 'AF' | 'AX' | 'AL' | 'DZ' | 'AS' | 'AD' | 'AO' | 'AI' | 'AQ' | 'AG' | 'AR'\n| 'AM' | 'AW' | 'AU' | 'AT' | 'AZ' | 'BS' | 'BH' | 'BD' | 'BB' | 'BY' | 'BE' | 'BZ' | 'BJ' | 'BM'\n| 'BT' | 'BO' | 'BQ' | 'BA' | 'BW' | 'BV' | 'BR' | 'IO' | 'BN' | 'BG' | 'BF' | 'BI' | 'CV' | 'KH'\n| 'CM' | 'CA' | 'KY' | 'CF' | 'TD' | 'CL' | 'CN' | 'CX' | 'CC' | 'CO' | 'KM' | 'CG' | 'CD' | 'CK'\n| 'CR' | 'CI' | 'HR' | 'CU' | 'CW' | 'CY' | 'CZ' | 'DK' | 'DJ' | 'DM' | 'DO' | 'EC' | 'EG' | 'SV'\n| 'GQ' | 'ER' | 'EE' | 'SZ' | 'ET' | 'FK' | 'FO' | 'FJ' | 'FI' | 'FR' | 'GF' | 'PF' | 'TF' | 'GA'\n| 'GM' | 'GE' | 'DE' | 'GH' | 'GI' | 'GR' | 'GL' | 'GD' | 'GP' | 'GU' | 'GT' | 'GG' | 'GN' | 'GW'\n| 'GY' | 'HT' | 'HM' | 'VA' | 'HN' | 'HK' | 'HU' | 'IS' | 'IN' | 'ID' | 'IR' | 'IQ' | 'IE' | 'IM'\n| 'IL' | 'IT' | 'JM' | 'JP' | 'JE' | 'JO' | 'KZ' | 'KE' | 'KI' | 'KP' | 'KR' | 'KW' | 'KG' | 'LA'\n| 'LV' | 'LB' | 'LS' | 'LR' | 'LY' | 'LI' | 'LT' | 'LU' | 'MO' | 'MG' | 'MW' | 'MY' | 'MV' | 'ML'\n| 'MT' | 'MH' | 'MQ' | 'MR' | 'MU' | 'YT' | 'MX' | 'FM' | 'MD' | 'MC' | 'MN' | 'ME' | 'MS' | 'MA'\n| 'MZ' | 'MM' | 'NA' | 'NR' | 'NP' | 'NL' | 'NC' | 'NZ' | 'NI' | 'NE' | 'NG' | 'NU' | 'NF' | 'MP'\n| 'NO' | 'OM' | 'PK' | 'PW' | 'PS' | 'PA' | 'PG' | 'PY' | 'PE' | 'PH' | 'PN' | 'PL' | 'PT' | 'PR'\n| 'QA' | 'MK' | 'RO' | 'RU' | 'RW' | 'RE' | 'BL' | 'SH' | 'KN' | 'LC' | 'MF' | 'PM' | 'VC' | 'WS'\n| 'SM' | 'ST' | 'SA' | 'SN' | 'RS' | 'SC' | 'SL' | 'SG' | 'SX' | 'SK' | 'SI' | 'SB' | 'SO' | 'ZA'\n| 'GS' | 'SS' | 'ES' | 'LK' | 'SD' | 'SR' | 'SJ' | 'SE' | 'CH' | 'SY' | 'TW' | 'TJ' | 'TZ' | 'TH'\n| 'TL' | 'TG' | 'TK' | 'TO' | 'TT' | 'TN' | 'TR' | 'TM' | 'TC' | 'TV' | 'UG' | 'UA' | 'AE' | 'GB'\n| 'US' | 'UM' | 'UY' | 'UZ' | 'VU' | 'VE' | 'VN' | 'VG' | 'VI' | 'WF' | 'EH' | 'YE' | 'ZM' | 'ZW';\n","import type { DNS_CATEGORY_HASH_MAP } from '../blockchains/ton/constants';\nimport type { ApiNft } from './misc';\n\nexport type ApiCommentPayload = {\n  type: 'comment';\n  comment: string;\n};\n\nexport type ApiEncryptedCommentPayload = {\n  type: 'encrypted-comment';\n  encryptedComment: string;\n};\n\nexport type ApiNftTransferPayload = {\n  type: 'nft:transfer';\n  queryId: bigint;\n  newOwner: string;\n  responseDestination: string;\n  customPayload?: string;\n  forwardAmount: bigint;\n  forwardPayload?: string;\n  // Specific to UI\n  nftAddress: string;\n  nftName?: string;\n  nft?: ApiNft;\n  comment?: string;\n};\n\nexport type ApiNftOwnershipAssignedPayload = {\n  type: 'nft:ownership-assigned';\n  queryId: bigint;\n  prevOwner: string;\n  // Specific to UI\n  nftAddress: string;\n  nft?: ApiNft;\n  comment?: string;\n};\n\nexport type ApiTokensTransferPayload = {\n  type: 'tokens:transfer';\n  queryId: bigint;\n  amount: bigint;\n  destination: string;\n  responseDestination: string;\n  customPayload?: string;\n  forwardAmount: bigint;\n  forwardPayload?: string;\n  // Specific to UI\n  slug: string;\n};\n\nexport type ApiTokensTransferNonStandardPayload = {\n  type: 'tokens:transfer-non-standard';\n  queryId: bigint;\n  amount: bigint;\n  destination: string;\n  // Specific to UI\n  slug: string;\n};\n\nexport type ApiUnknownPayload = {\n  type: 'unknown';\n  base64: string;\n};\n\nexport type ApiTokensBurnPayload = {\n  type: 'tokens:burn';\n  queryId: bigint;\n  amount: bigint;\n  address: string;\n  customPayload?: string;\n  // Specific to UI\n  slug: string;\n  isLiquidUnstakeRequest: boolean;\n};\n\nexport type ApiLiquidStakingDepositPayload = {\n  type: 'liquid-staking:deposit';\n  queryId: bigint;\n  appId?: bigint;\n};\n\nexport type ApiLiquidStakingWithdrawalNftPayload = {\n  type: 'liquid-staking:withdrawal-nft';\n  queryId: bigint;\n};\n\nexport type ApiLiquidStakingWithdrawalPayload = {\n  type: 'liquid-staking:withdrawal';\n  queryId: bigint;\n};\n\nexport type ApiTokenBridgePaySwap = {\n  type: 'token-bridge:pay-swap';\n  queryId: bigint;\n  swapId: string;\n};\n\nexport type ApiDnsChangeRecord = {\n  type: 'dns:change-record';\n  queryId: bigint;\n  record: {\n    type: keyof typeof DNS_CATEGORY_HASH_MAP;\n    value?: string;\n    flags?: number;\n  } | {\n    type: 'unknown';\n    key: string;\n    value?: string;\n  };\n  // Specific to UI\n  domain: string;\n};\n\nexport type ApiVestingAddWhitelistPayload = {\n  type: 'vesting:add-whitelist';\n  queryId: bigint;\n  address: string;\n};\n\nexport type ApiSingleNominatorWithdrawPayload = {\n  type: 'single-nominator:withdraw';\n  queryId: bigint;\n  amount: bigint;\n};\n\nexport type ApiSingleNominatorChangeValidatorPayload = {\n  type: 'single-nominator:change-validator';\n  queryId: bigint;\n  address: string;\n};\n\nexport type ApiLiquidStakingVotePayload = {\n  type: 'liquid-staking:vote';\n  queryId: bigint;\n  votingAddress: string;\n  expirationDate: number;\n  vote: boolean;\n  needConfirmation: boolean;\n};\n\nexport type ApiParsedPayload = ApiCommentPayload\n| ApiEncryptedCommentPayload\n| ApiNftTransferPayload\n| ApiNftOwnershipAssignedPayload\n| ApiTokensTransferPayload\n| ApiTokensTransferNonStandardPayload\n| ApiUnknownPayload\n| ApiTokensBurnPayload\n| ApiLiquidStakingDepositPayload\n| ApiLiquidStakingWithdrawalPayload\n| ApiLiquidStakingWithdrawalNftPayload\n| ApiTokenBridgePaySwap\n| ApiDnsChangeRecord\n| ApiVestingAddWhitelistPayload\n| ApiSingleNominatorWithdrawPayload\n| ApiSingleNominatorChangeValidatorPayload\n| ApiLiquidStakingVotePayload;\n","import type { ApiLedgerDriver, ApiWalletVersion } from './misc';\n\nexport interface ApiAccount {\n  address: string;\n  publicKey: string;\n  version: ApiWalletVersion;\n  ledger?: {\n    index: number;\n    driver: ApiLedgerDriver;\n    deviceId?: string;\n    deviceName?: string;\n  };\n  authToken?: string;\n  isInitialized?: boolean;\n}\n\nexport interface ApiDappMetadata {\n  origin: string;\n  url: string;\n  name: string;\n  iconUrl: string;\n  manifestUrl: string;\n}\n\nexport interface ApiDapp extends ApiDappMetadata {\n  connectedAt: number;\n  sse?: ApiSseOptions;\n}\n\nexport interface ApiSseOptions {\n  clientId: string;\n  appClientId: string;\n  secretKey: string;\n  lastOutputId: number;\n}\n\nexport type ApiDappsState = Record<string, Record<string, ApiDapp>>;\n","import type { ApiTonConnectProof } from '../tonConnect/types';\nimport type { ApiActivity, ApiTransactionActivity } from './activity';\nimport type { ApiStakingCommonData, ApiSwapAsset, ApiVestingInfo } from './backend';\nimport type { ApiAnyDisplayError } from './errors';\nimport type {\n  ApiBackendStakingState,\n  ApiBalanceBySlug,\n  ApiBaseCurrency,\n  ApiCountryCode,\n  ApiDappTransfer,\n  ApiNft,\n  ApiStakingState,\n  ApiToken,\n  ApiWalletInfo,\n  ApiWalletVersion,\n} from './misc';\nimport type { ApiParsedPayload } from './payload';\nimport type { ApiAccount, ApiDapp } from './storage';\n\nexport type ApiUpdateBalances = {\n  type: 'updateBalances';\n  accountId: string;\n  balancesToUpdate: ApiBalanceBySlug;\n};\n\nexport type ApiUpdateNewActivities = {\n  type: 'newActivities';\n  accountId: string;\n  activities: ApiActivity[];\n  noForward?: boolean; // Forbid cyclic update redirection to/from NBS\n};\n\nexport type ApiUpdateNewLocalTransaction = {\n  type: 'newLocalTransaction';\n  accountId: string;\n  transaction: ApiTransactionActivity;\n};\n\nexport type ApiUpdateTokens = {\n  type: 'updateTokens';\n  tokens: Record<string, ApiToken>;\n  baseCurrency: ApiBaseCurrency;\n};\n\nexport type ApiUpdateSwapTokens = {\n  type: 'updateSwapTokens';\n  tokens: Record<string, ApiSwapAsset>;\n};\n\nexport type ApiUpdateCreateTransaction = {\n  type: 'createTransaction';\n  promiseId: string;\n  toAddress: string;\n  amount: bigint;\n  fee: bigint;\n  comment?: string;\n  rawPayload?: string;\n  parsedPayload?: ApiParsedPayload;\n  stateInit?: string;\n};\n\nexport type ApiUpdateCreateSignature = {\n  type: 'createSignature';\n  promiseId: string;\n  dataHex: string;\n};\n\nexport type ApiUpdateShowError = {\n  type: 'showError';\n  error?: ApiAnyDisplayError | string;\n};\n\nexport type ApiUpdateStaking = {\n  type: 'updateStaking';\n  accountId: string;\n  stakingCommonData: ApiStakingCommonData;\n  stakingState: ApiStakingState;\n  backendStakingState: ApiBackendStakingState;\n};\n\nexport type ApiUpdateActiveDapp = {\n  type: 'updateActiveDapp';\n  accountId: string;\n  origin?: string;\n};\n\nexport type ApiUpdateDappSendTransactions = {\n  type: 'dappSendTransactions';\n  promiseId: string;\n  accountId: string;\n  dapp: ApiDapp;\n  transactions: ApiDappTransfer[];\n  fee: bigint;\n  vestingAddress?: string;\n};\n\nexport type ApiUpdateDappConnect = {\n  type: 'dappConnect';\n  promiseId: string;\n  accountId: string;\n  dapp: ApiDapp;\n  permissions: {\n    address: boolean;\n    proof: boolean;\n  };\n  proof?: ApiTonConnectProof;\n};\n\nexport type ApiUpdateDappConnectComplete = {\n  type: 'dappConnectComplete';\n};\n\nexport type ApiUpdateDappDisconnect = {\n  type: 'dappDisconnect';\n  accountId: string;\n  origin: string;\n};\n\nexport type ApiUpdateDappLoading = {\n  type: 'dappLoading';\n  connectionType: 'connect' | 'sendTransaction';\n  isSse?: boolean;\n  accountId?: string;\n};\n\nexport type ApiUpdateDappCloseLoading = {\n  type: 'dappCloseLoading';\n};\n\nexport type ApiUpdateDapps = {\n  type: 'updateDapps';\n};\n\nexport type ApiUpdatePrepareTransaction = {\n  type: 'prepareTransaction';\n  toAddress: string;\n  amount?: bigint;\n  comment?: string;\n  binPayload?: string;\n};\n\nexport type ApiUpdateProcessDeeplink = {\n  type: 'processDeeplink';\n  url: string;\n};\n\nexport type ApiUpdateNfts = {\n  type: 'updateNfts';\n  accountId: string;\n  nfts: ApiNft[];\n};\n\nexport type ApiUpdateNftReceived = {\n  type: 'nftReceived';\n  accountId: string;\n  nftAddress: string;\n  nft: ApiNft;\n};\n\nexport type ApiUpdateNftSent = {\n  type: 'nftSent';\n  accountId: string;\n  nftAddress: string;\n};\n\nexport type ApiUpdateNftPutUpForSale = {\n  type: 'nftPutUpForSale';\n  accountId: string;\n  nftAddress: string;\n};\n\nexport type ApiNftUpdate = ApiUpdateNftReceived | ApiUpdateNftSent | ApiUpdateNftPutUpForSale;\n\nexport type ApiUpdateAccount = {\n  type: 'updateAccount';\n  accountId: string;\n  partial: Partial<ApiAccount>;\n};\n\nexport type ApiUpdateConfig = {\n  type: 'updateConfig';\n  isLimited: boolean;\n  isCopyStorageEnabled: boolean;\n  supportAccountsCount?: number;\n  countryCode?: ApiCountryCode;\n};\n\nexport type ApiUpdateWalletVersions = {\n  type: 'updateWalletVersions';\n  accountId: string;\n  currentVersion: ApiWalletVersion;\n  versions: ApiWalletInfo[];\n};\n\nexport type ApiOpenUrl = {\n  type: 'openUrl';\n  url: string;\n  isExternal?: boolean;\n  title?: string;\n  subtitle?: string;\n};\n\nexport type ApiRequestReconnect = {\n  type: 'requestReconnectApi';\n};\n\nexport type ApiUpdateIncorrectTime = {\n  type: 'incorrectTime';\n};\n\nexport type ApiUpdateVesting = {\n  type: 'updateVesting';\n  accountId: string;\n  vestingInfo: ApiVestingInfo[];\n};\n\nexport type ApiUpdatingStatus = {\n  type: 'updatingStatus';\n  kind: 'balance' | 'activities';\n  isUpdating?: boolean;\n};\n\nexport type ApiUpdate =\n  | ApiUpdateBalances\n  | ApiUpdateNewActivities\n  | ApiUpdateNewLocalTransaction\n  | ApiUpdateTokens\n  | ApiUpdateSwapTokens\n  | ApiUpdateCreateTransaction\n  | ApiUpdateCreateSignature\n  | ApiUpdateStaking\n  | ApiUpdateActiveDapp\n  | ApiUpdateDappSendTransactions\n  | ApiUpdateDappConnect\n  | ApiUpdateDappConnectComplete\n  | ApiUpdateDappDisconnect\n  | ApiUpdateDappLoading\n  | ApiUpdateDappCloseLoading\n  | ApiUpdateDapps\n  | ApiUpdatePrepareTransaction\n  | ApiUpdateProcessDeeplink\n  | ApiUpdateShowError\n  | ApiUpdateNfts\n  | ApiNftUpdate\n  | ApiUpdateAccount\n  | ApiUpdateConfig\n  | ApiUpdateWalletVersions\n  | ApiOpenUrl\n  | ApiRequestReconnect\n  | ApiUpdateIncorrectTime\n  | ApiUpdateVesting\n  | ApiUpdatingStatus;\n\nexport type OnApiUpdate = (update: ApiUpdate) => void;\n","import React, { memo, useEffect, useLayoutEffect } from '../lib/teact/teact';\nimport { getActions, withGlobal } from '../global';\n\nimport { AppState } from '../global/types';\n\nimport { INACTIVE_MARKER, IS_ANDROID_DIRECT, IS_CAPACITOR } from '../config';\nimport { setActiveTabChangeListener } from '../util/activeTabMonitor';\nimport buildClassName from '../util/buildClassName';\nimport { resolveRender } from '../util/renderPromise';\nimport {\n  IS_ANDROID,\n  IS_DELEGATED_BOTTOM_SHEET,\n  IS_DELEGATING_BOTTOM_SHEET,\n  IS_ELECTRON,\n  IS_IOS,\n  IS_LINUX,\n} from '../util/windowEnvironment';\nimport { updateSizes } from '../util/windowSize';\nimport { callApi } from '../api';\n\nimport useBackgroundMode from '../hooks/useBackgroundMode';\nimport { useDeviceScreen } from '../hooks/useDeviceScreen';\nimport useFlag from '../hooks/useFlag';\nimport useInterval from '../hooks/useInterval';\nimport useSyncEffect from '../hooks/useSyncEffect';\nimport useTimeout from '../hooks/useTimeout';\n\nimport AppInactive from './AppInactive';\nimport Auth from './auth/Auth';\nimport DappConnectModal from './dapps/DappConnectModal';\nimport DappTransferModal from './dapps/DappTransferModal';\nimport Dialogs from './Dialogs';\nimport ElectronHeader from './electron/ElectronHeader';\nimport LedgerModal from './ledger/LedgerModal';\nimport Main from './main/Main';\nimport AddAccountModal from './main/modals/AddAccountModal';\nimport BackupModal from './main/modals/BackupModal';\nimport OnRampWidgetModal from './main/modals/OnRampWidgetModal';\nimport QrScannerModal from './main/modals/QrScannerModal';\nimport SignatureModal from './main/modals/SignatureModal';\nimport SwapActivityModal from './main/modals/SwapActivityModal';\nimport TransactionModal from './main/modals/TransactionModal';\nimport UnhideNftModal from './main/modals/UnhideNftModal';\nimport Notifications from './main/Notifications';\nimport MediaViewer from './mediaViewer/MediaViewer';\nimport Settings from './settings/Settings';\nimport SettingsModal from './settings/SettingsModal';\nimport SwapModal from './swap/SwapModal';\nimport TransferModal from './transfer/TransferModal';\nimport ConfettiContainer from './ui/ConfettiContainer';\nimport InAppBrowser from './ui/InAppBrowser';\nimport LoadingOverlay from './ui/LoadingOverlay';\nimport Transition from './ui/Transition';\n\n// import Test from './components/test/TestNoRedundancy';\nimport styles from './App.module.scss';\n\ninterface StateProps {\n  appState: AppState;\n  accountId?: string;\n  isBackupWalletModalOpen?: boolean;\n  isQrScannerOpen?: boolean;\n  isHardwareModalOpen?: boolean;\n  areSettingsOpen?: boolean;\n  isMediaViewerOpen?: boolean;\n}\n\nconst APP_UPDATE_INTERVAL = (IS_ELECTRON && !IS_LINUX) || IS_ANDROID_DIRECT\n  ? 5 * 60 * 1000 // 5 min\n  : undefined;\nconst PRERENDER_MAIN_DELAY = 1200;\nlet mainKey = 0;\n\nfunction App({\n  appState,\n  accountId,\n  isBackupWalletModalOpen,\n  isHardwareModalOpen,\n  isQrScannerOpen,\n  areSettingsOpen,\n  isMediaViewerOpen,\n}: StateProps) {\n  // return <Test />;\n  const {\n    closeBackupWalletModal,\n    closeHardwareWalletModal,\n    closeSettings,\n    cancelCaching,\n    closeQrScanner,\n    checkAppVersion,\n  } = getActions();\n\n  const { isPortrait } = useDeviceScreen();\n  const areSettingsInModal = !isPortrait || IS_ELECTRON || IS_DELEGATING_BOTTOM_SHEET || IS_DELEGATED_BOTTOM_SHEET;\n\n  const [isInactive, markInactive] = useFlag(false);\n  const [canPrerenderMain, prerenderMain] = useFlag();\n\n  const renderingKey = isInactive\n    ? AppState.Inactive\n    : ((areSettingsOpen && !areSettingsInModal)\n      ? AppState.Settings : appState\n    );\n\n  useTimeout(\n    prerenderMain,\n    renderingKey === AppState.Auth && !canPrerenderMain ? PRERENDER_MAIN_DELAY : undefined,\n  );\n\n  useInterval(checkAppVersion, APP_UPDATE_INTERVAL);\n\n  useEffect(() => {\n    updateSizes();\n    setActiveTabChangeListener(() => {\n      document.title = `MyTonWallet ${INACTIVE_MARKER}`;\n\n      markInactive();\n      closeSettings();\n      cancelCaching();\n    });\n  }, [markInactive]);\n\n  useBackgroundMode(() => {\n    void callApi('setIsAppFocused', false);\n  }, () => {\n    void callApi('setIsAppFocused', true);\n  });\n\n  useLayoutEffect(() => {\n    document.documentElement.classList.add('is-rendered');\n    resolveRender();\n  }, []);\n\n  useSyncEffect(() => {\n    if (accountId) {\n      mainKey += 1;\n    }\n  }, [accountId]);\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case AppState.Auth:\n        return <Auth />;\n      case AppState.Main: {\n        const slideFullClassName = buildClassName(\n          styles.appSlide,\n          styles.appSlideContent,\n          'custom-scroll',\n          'app-slide-content',\n        );\n        return (\n          <Transition\n            name=\"semiFade\"\n            activeKey={mainKey}\n            shouldCleanup\n            nextKey={renderingKey === AppState.Auth && canPrerenderMain ? mainKey + 1 : undefined}\n            slideClassName={slideFullClassName}\n          >\n            <Main\n              key={mainKey}\n              isActive={isActive}\n            />\n          </Transition>\n        );\n      }\n      case AppState.Settings:\n        return <Settings />;\n      case AppState.Ledger:\n        return <LedgerModal isOpen onClose={handleCloseBrowserTab} />;\n      case AppState.Inactive:\n        return <AppInactive />;\n    }\n  }\n\n  return (\n    <>\n      {IS_ELECTRON && !IS_LINUX && <ElectronHeader withTitle />}\n\n      <Transition\n        name={isPortrait ? (IS_ANDROID ? 'slideFadeAndroid' : IS_IOS ? 'slideLayers' : 'slideFade') : 'semiFade'}\n        activeKey={renderingKey}\n        shouldCleanup={renderingKey !== AppState.Settings && !isMediaViewerOpen}\n        className={styles.transitionContainer}\n        slideClassName={buildClassName(styles.appSlide, 'custom-scroll')}\n      >\n        {renderContent}\n      </Transition>\n\n      {areSettingsInModal && (\n        <SettingsModal\n          isOpen={areSettingsOpen}\n          onClose={closeSettings}\n        >\n          <Settings isInsideModal />\n        </SettingsModal>\n      )}\n      <MediaViewer />\n      {!isInactive && (\n        <>\n          <LedgerModal isOpen={isHardwareModalOpen} onClose={closeHardwareWalletModal} />\n          <BackupModal\n            isOpen={isBackupWalletModalOpen}\n            onClose={closeBackupWalletModal}\n          />\n          <TransferModal />\n          <SwapModal />\n          <SignatureModal />\n          <TransactionModal />\n          <SwapActivityModal />\n          <DappConnectModal />\n          <DappTransferModal />\n          <AddAccountModal />\n          <OnRampWidgetModal />\n          <UnhideNftModal />\n          {!IS_DELEGATED_BOTTOM_SHEET && <Notifications />}\n          {IS_CAPACITOR && (\n            <QrScannerModal\n              isOpen={isQrScannerOpen}\n              onClose={closeQrScanner}\n            />\n          )}\n          {!IS_DELEGATED_BOTTOM_SHEET && <Dialogs />}\n          {!IS_DELEGATED_BOTTOM_SHEET && <ConfettiContainer />}\n          {IS_CAPACITOR && !IS_DELEGATED_BOTTOM_SHEET && <InAppBrowser />}\n          {!IS_DELEGATED_BOTTOM_SHEET && <LoadingOverlay />}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  return {\n    appState: global.appState,\n    accountId: global.currentAccountId,\n    isBackupWalletModalOpen: global.isBackupWalletModalOpen,\n    isHardwareModalOpen: global.isHardwareModalOpen,\n    areSettingsOpen: global.areSettingsOpen,\n    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),\n    isQrScannerOpen: global.isQrScannerOpen,\n  };\n})(App));\n\nasync function handleCloseBrowserTab() {\n  const tab = await chrome.tabs.getCurrent();\n  await chrome.tabs.remove(tab.id!);\n}\n","import React from '../lib/teact/teact';\n\nimport renderText from '../global/helpers/renderText';\n\nimport useLang from '../hooks/useLang';\nimport useLastCallback from '../hooks/useLastCallback';\n\nimport Button from './ui/Button';\n\nimport styles from './AppInactive.module.scss';\n\nimport appInactivePathPng from '../assets/app-inactive.png';\nimport appInactivePathWebP from '../assets/app-inactive.webp';\n\nfunction AppInactive() {\n  const lang = useLang();\n\n  const handleReload = useLastCallback(() => {\n    window.location.reload();\n  });\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.content}>\n        <picture className={styles.img}>\n          <source src={appInactivePathWebP} />\n          <img src={appInactivePathPng} alt=\"\" className={styles.img} />\n        </picture>\n\n        <h3 className={styles.title}>{lang('Such error, many tabs')}</h3>\n\n        <div className={styles.description}>{renderText(lang('$many_tabs_error_description'))}</div>\n\n        <div className={styles.actions}>\n          <Button isText className={styles.button} onClick={handleReload}>\n            {lang('Reload App')}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AppInactive;\n","import { Dialog } from 'native-dialog';\nimport type { FC } from '../lib/teact/teact';\nimport React, { memo, useEffect } from '../lib/teact/teact';\nimport { getActions, withGlobal } from '../global';\n\nimport type { DialogType } from '../global/types';\n\nimport { IS_CAPACITOR } from '../config';\nimport renderText from '../global/helpers/renderText';\nimport { pick } from '../util/iteratees';\n\nimport useFlag from '../hooks/useFlag';\nimport useLang from '../hooks/useLang';\n\nimport Button from './ui/Button';\nimport Modal from './ui/Modal';\n\nimport modalStyles from './ui/Modal.module.scss';\n\ntype StateProps = {\n  dialogs: DialogType[];\n};\n\nconst Dialogs: FC<StateProps> = ({ dialogs }) => {\n  const { dismissDialog } = getActions();\n\n  const lang = useLang();\n  const [isModalOpen, openModal, closeModal] = useFlag();\n\n  const dialog = dialogs[dialogs.length - 1];\n  const title = lang(dialog?.title ?? 'Something went wrong');\n\n  useEffect(() => {\n    if (IS_CAPACITOR) {\n      if (dialog) {\n        Dialog.alert({\n          title,\n          message: lang(dialog.message),\n        }).then(() => {\n          dismissDialog();\n        });\n      }\n    } else if (dialog) {\n      openModal();\n    } else {\n      closeModal();\n    }\n  }, [dialogs, lang, dialog, openModal, title]);\n\n  if (!dialog || IS_CAPACITOR) {\n    return undefined;\n  }\n\n  return (\n    <Modal\n      isOpen={isModalOpen}\n      isCompact\n      title={title}\n      onClose={closeModal}\n      onCloseAnimationEnd={dismissDialog}\n    >\n      <div>\n        {renderText(lang(dialog.message))}\n      </div>\n      <div className={modalStyles.footerButtons}>\n        <Button onClick={closeModal}>{lang('OK')}</Button>\n      </div>\n    </Modal>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['dialogs']),\n)(Dialogs));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport useLang from '../../hooks/useLang';\n\nimport Modal from '../ui/Modal';\nimport AddBuyStatic from './AddBuyStatic';\n\nimport styles from './AddBuyModal.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  isTestnet?: boolean;\n  isLedgerWallet?: boolean;\n  isSwapDisabled?: boolean;\n  isOnRampDisabled?: boolean;\n  onClose: NoneToVoidFunction;\n}\n\nfunction AddBuyModal({\n  isOpen,\n  isTestnet,\n  isLedgerWallet,\n  isSwapDisabled,\n  isOnRampDisabled,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  return (\n    <Modal\n      title={lang('Get TON')}\n      isOpen={isOpen}\n      onClose={onClose}\n      hasCloseButton\n      dialogClassName={styles.actionSheetDialog}\n    >\n      <AddBuyStatic\n        isLedger={isLedgerWallet}\n        isTestnet={isTestnet}\n        isSwapDisabled={isSwapDisabled}\n        isOnRampDisabled={isOnRampDisabled}\n        onClose={onClose}\n      />\n    </Modal>\n  );\n}\n\nexport default memo(AddBuyModal);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG, TONCOIN_SLUG } from '../../config';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\n\nimport styles from './AddBuyModal.module.scss';\n\ntype Props = {\n  className?: string;\n  isStatic?: boolean;\n  isTestnet?: boolean;\n  isLedger?: boolean;\n  isSwapDisabled?: boolean;\n  isOnRampDisabled?: boolean;\n  onClose?: NoneToVoidFunction;\n};\n\nfunction AddBuyStatic({\n  className,\n  isStatic,\n  isTestnet,\n  isLedger,\n  isSwapDisabled,\n  isOnRampDisabled,\n  onClose,\n}: Props) {\n  const {\n    startSwap,\n    openOnRampWidgetModal,\n    openReceiveModal,\n  } = getActions();\n\n  const lang = useLang();\n\n  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;\n  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;\n\n  const handleBuyFiat = useLastCallback(() => {\n    openOnRampWidgetModal();\n    onClose?.();\n  });\n\n  const handleSwapClick = useLastCallback(() => {\n    startSwap({\n      tokenInSlug: DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,\n      tokenOutSlug: TONCOIN_SLUG,\n      amountIn: '100',\n    });\n    onClose?.();\n  });\n\n  const handleReceiveClick = useLastCallback(() => {\n    openReceiveModal();\n    onClose?.();\n  });\n\n  const contentClassName = buildClassName(\n    styles.actionButtons,\n    isStatic && styles.actionButtonStatic,\n  );\n\n  const renderActions = () => {\n    return (\n      <div className={contentClassName}>\n        {isOnRampAllowed && (\n          <div className={styles.actionButton} onClick={handleBuyFiat}>\n            <i className={buildClassName(styles.actionIcon, 'icon-card')} aria-hidden />\n            {lang('Buy with Card')}\n            <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n          </div>\n        )}\n        {isSwapAllowed && (\n          <div className={styles.actionButton} onClick={handleSwapClick}>\n            <i className={buildClassName(styles.actionIcon, 'icon-crypto')} aria-hidden />\n            {lang('Buy with Crypto')}\n            <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n          </div>\n        )}\n        <div className={styles.actionButton} onClick={handleReceiveClick}>\n          <i className={buildClassName(styles.actionIcon, 'icon-receive')} aria-hidden />\n          {lang('Receive with QR or Invoice')}\n          <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className={buildClassName(styles.content, className)}>\n      {renderActions()}\n      {onClose && (\n        <Button className={styles.cancelButton} onClick={onClose}>\n          {lang('Cancel')}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default memo(AddBuyStatic);\n","import React, { memo, useState } from '../../lib/teact/teact';\nimport { getActions } from '../../lib/teact/teactn';\nimport { withGlobal } from '../../global';\n\nimport type { GlobalState } from '../../global/types';\nimport { AuthState } from '../../global/types';\n\nimport { pick } from '../../util/iteratees';\nimport { IS_ANDROID } from '../../util/windowEnvironment';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport SettingsAbout from '../settings/SettingsAbout';\nimport Transition from '../ui/Transition';\nimport AuthBackupWalletModal from './AuthBackupWalletModal';\nimport AuthCheckPassword from './AuthCheckPassword';\nimport AuthConfirmBiometrics from './AuthConfirmBiometrics';\nimport AuthConfirmPin from './AuthConfirmPin';\nimport AuthCreateBackup from './AuthCreateBackup';\nimport AuthCreateBiometrics from './AuthCreateBiometrics';\nimport AuthCreateNativeBiometrics from './AuthCreateNativeBiometrics';\nimport AuthCreatePassword from './AuthCreatePassword';\nimport AuthCreatePin from './AuthCreatePin';\nimport AuthCreatingWallet from './AuthCreatingWallet';\nimport AuthDisclaimer from './AuthDisclaimer';\nimport AuthImportMnemonic from './AuthImportMnemonic';\nimport AuthStart from './AuthStart';\n\nimport styles from './Auth.module.scss';\n\ntype StateProps = Pick<GlobalState['auth'], (\n  'state' | 'biometricsStep' | 'error' | 'mnemonic' | 'mnemonicCheckIndexes' | 'isLoading' | 'method'\n  | 'isBackupModalOpen'\n)>;\n\nconst RENDER_COUNT = Object.keys(AuthState).length / 2;\n\nconst Auth = ({\n  state,\n  biometricsStep,\n  error,\n  isLoading,\n  mnemonic,\n  mnemonicCheckIndexes,\n  isBackupModalOpen,\n  method,\n}: StateProps) => {\n  const {\n    closeAbout,\n  } = getActions();\n\n  const { isPortrait } = useDeviceScreen();\n\n  // Transitioning to ready state is done in another component\n  const renderingAuthState = useCurrentOrPrev(\n    state === AuthState.ready ? undefined : state,\n    true,\n  ) ?? -1;\n\n  const [prevKey, setPrevKey] = useState<number | undefined>(undefined);\n  const [nextKey, setNextKey] = useState(renderingAuthState + 1);\n  const updateRenderingKeys = useLastCallback(() => {\n    setNextKey(renderingAuthState + 1);\n    setPrevKey(renderingAuthState === AuthState.confirmPin ? AuthState.createPin : undefined);\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderAuthScreen(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case AuthState.none:\n        return <AuthStart />;\n      case AuthState.createWallet:\n        return <AuthCreatingWallet isActive={isActive} />;\n      case AuthState.checkPassword:\n        return (\n          <AuthCheckPassword\n            isActive={isActive}\n            isLoading={isLoading}\n            method=\"createAccount\"\n            error={error}\n          />\n        );\n      case AuthState.createPin:\n        return <AuthCreatePin isActive={isActive} method=\"createAccount\" />;\n      case AuthState.confirmPin:\n        return <AuthConfirmPin isActive={isActive} method=\"createAccount\" />;\n      case AuthState.createBiometrics:\n        return <AuthCreateBiometrics isActive={isActive} method=\"createAccount\" />;\n      case AuthState.confirmBiometrics:\n        return (\n          <AuthConfirmBiometrics\n            isActive={isActive}\n            isLoading={isLoading}\n            error={error}\n            biometricsStep={biometricsStep}\n          />\n        );\n      case AuthState.createNativeBiometrics:\n        return (\n          <AuthCreateNativeBiometrics isActive={isActive} isLoading={isLoading} />\n        );\n      case AuthState.createPassword:\n        return <AuthCreatePassword isActive={isActive} isLoading={isLoading} method=\"createAccount\" />;\n      case AuthState.createBackup:\n        return <AuthCreateBackup isActive={isActive} />;\n      case AuthState.disclaimerAndBackup:\n        return (\n          <AuthDisclaimer key=\"create\" isActive={isActive} />\n        );\n      case AuthState.importWallet:\n        return <AuthImportMnemonic isActive={isActive} />;\n      case AuthState.importWalletCreatePin:\n        return <AuthCreatePin isActive={isActive} method=\"importMnemonic\" />;\n      case AuthState.importWalletConfirmPin:\n        return <AuthConfirmPin isActive={isActive} method=\"importMnemonic\" />;\n      case AuthState.importWalletCheckPassword:\n        return (\n          <AuthCheckPassword\n            isActive={isActive}\n            isLoading={isLoading}\n            method=\"importMnemonic\"\n            error={error}\n          />\n        );\n      case AuthState.disclaimer:\n        return (\n          <AuthDisclaimer\n            key=\"import\"\n            isActive={isActive}\n            isImport\n          />\n        );\n      case AuthState.importWalletCreateNativeBiometrics:\n        return (\n          <AuthCreateNativeBiometrics isActive={isActive} isLoading={isLoading} />\n        );\n      case AuthState.importWalletCreatePassword:\n        return <AuthCreatePassword isActive={isActive} isLoading={isLoading} method={method} />;\n      case AuthState.importWalletCreateBiometrics:\n        return <AuthCreateBiometrics isActive={isActive} method={method} />;\n      case AuthState.importWalletConfirmBiometrics:\n        return (\n          <AuthConfirmBiometrics\n            isActive={isActive}\n            isLoading={isLoading}\n            error={error}\n            biometricsStep={biometricsStep}\n          />\n        );\n      case AuthState.about:\n        return <SettingsAbout handleBackClick={closeAbout} />;\n    }\n  }\n\n  return (\n    <>\n      <Transition\n        name={isPortrait ? (IS_ANDROID ? 'slideFade' : 'slideLayers') : 'semiFade'}\n        activeKey={renderingAuthState}\n        renderCount={RENDER_COUNT}\n        shouldCleanup\n        className={styles.transitionContainer}\n        slideClassName={styles.transitionSlide}\n        prevKey={prevKey}\n        nextKey={nextKey}\n        onStop={updateRenderingKeys}\n        shouldWrap\n      >\n        {renderAuthScreen}\n      </Transition>\n      <AuthBackupWalletModal\n        isOpen={isBackupModalOpen}\n        mnemonic={mnemonic}\n        checkIndexes={mnemonicCheckIndexes}\n      />\n    </>\n  );\n};\n\nexport default memo(withGlobal((global): StateProps => {\n  return pick(global.auth, [\n    'state', 'biometricsStep', 'error', 'mnemonic', 'mnemonicCheckIndexes', 'isLoading', 'method',\n    'isBackupModalOpen',\n  ]);\n})(Auth));\n","import React, { memo, useState } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Modal from '../ui/Modal';\nimport Transition from '../ui/Transition';\nimport MnemonicCheck from './MnemonicCheck';\nimport MnemonicList from './MnemonicList';\nimport SafetyRules from './SafetyRules';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  mnemonic?: string[];\n  checkIndexes?: number[];\n}\n\nconst SLIDE_ANIMATION_DURATION_MS = 250;\n\nenum BackupState {\n  Accept,\n  View,\n  Confirm,\n}\nfunction AuthBackupWalletModal({\n  isOpen, mnemonic, checkIndexes,\n}: OwnProps) {\n  const {\n    restartCheckMnemonicIndexes,\n    closeAuthBackupWalletModal,\n  } = getActions();\n\n  const lang = useLang();\n  const [renderingKey, setRenderingKey] = useState<number>(BackupState.Accept);\n  const [nextKey, setNextKey] = useState<number | undefined>(BackupState.View);\n\n  const handleModalClose = useLastCallback(() => {\n    setRenderingKey(BackupState.Accept);\n    setNextKey(BackupState.View);\n  });\n\n  const handleMnemonicView = useLastCallback(() => {\n    setRenderingKey(BackupState.View);\n    setNextKey(BackupState.Confirm);\n  });\n  const handleRestartCheckMnemonic = useLastCallback(() => {\n    handleMnemonicView();\n\n    setTimeout(() => {\n      restartCheckMnemonicIndexes();\n    }, SLIDE_ANIMATION_DURATION_MS);\n  });\n\n  const handleShowMnemonicCheck = useLastCallback(() => {\n    setRenderingKey(BackupState.Confirm);\n    setNextKey(undefined);\n  });\n\n  const handleMnemonicCheckSubmit = useLastCallback(() => {\n    closeAuthBackupWalletModal({ isBackupCreated: true });\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderModalContent(isScreenActive: boolean, isFrom: boolean, currentScreenKey: number) {\n    switch (currentScreenKey) {\n      case BackupState.Accept:\n        return (\n          <SafetyRules\n            isActive={isScreenActive}\n            onSubmit={handleMnemonicView}\n            onClose={closeAuthBackupWalletModal}\n          />\n        );\n\n      case BackupState.View:\n        return (\n          <MnemonicList\n            isActive={isScreenActive}\n            mnemonic={mnemonic}\n            onNext={handleShowMnemonicCheck}\n            onClose={closeAuthBackupWalletModal}\n          />\n        );\n\n      case BackupState.Confirm:\n        return (\n          <MnemonicCheck\n            isActive={isScreenActive}\n            mnemonic={mnemonic}\n            checkIndexes={checkIndexes}\n            buttonLabel={lang('Continue')}\n            onSubmit={handleMnemonicCheckSubmit}\n            onCancel={handleRestartCheckMnemonic}\n            onClose={closeAuthBackupWalletModal}\n          />\n        );\n    }\n  }\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"disclaimer\"\n      onClose={closeAuthBackupWalletModal}\n      onCloseAnimationEnd={handleModalClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={modalStyles.transition}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n      >\n        {renderModalContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(AuthBackupWalletModal);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { IS_PRODUCTION } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  onSkip: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nfunction AuthBackupWarning({ isOpen, onSkip, onClose }: OwnProps) {\n  const { openAuthBackupWalletModal } = getActions();\n\n  const lang = useLang();\n\n  const canSkipMnemonicCheck = !IS_PRODUCTION;\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      forceBottomSheet\n      nativeBottomSheetKey=\"backup-warning\"\n      dialogClassName={styles.disclaimerBackupDialog}\n    >\n      <p className={styles.backupNotice}>{renderText(lang('$auth_backup_warning_notice'))}</p>\n      <div className={styles.backupNoticeButtons}>\n        <Button\n          isPrimary\n          className={buildClassName(styles.btn, styles.btn_wide, !canSkipMnemonicCheck && styles.btn_single)}\n          onClick={openAuthBackupWalletModal}\n        >\n          {lang('Back Up Now')}\n        </Button>\n        {canSkipMnemonicCheck && (\n          <Button\n            isDestructive\n            className={buildClassName(styles.btn, styles.btn_mini)}\n            onClick={onSkip}\n          >\n            {lang('Later')}\n          </Button>\n        )}\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(AuthBackupWarning);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { AuthMethod } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport PasswordForm from '../ui/PasswordForm';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  isLoading?: boolean;\n  method?: AuthMethod;\n  error?: string;\n}\n\nfunction AuthCheckPassword({\n  isActive, isLoading, error, method,\n}: OwnProps) {\n  const { resetAuth, cleanAuthError, addAccount } = getActions();\n  const lang = useLang();\n\n  const isImporting = method !== 'createAccount';\n\n  const handleSubmit = useLastCallback((password: string) => {\n    addAccount({ method: isImporting ? 'importMnemonic' : 'createAccount', password, isAuthFlow: true });\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.container_scrollable, 'custom-scroll')}>\n      <PasswordForm\n        isActive={isActive}\n        isLoading={isLoading}\n        error={error}\n        containerClassName={styles.passwordForm}\n        submitLabel={lang('Send')}\n        cancelLabel={lang('Back')}\n        onSubmit={handleSubmit}\n        onCancel={resetAuth}\n        onUpdate={cleanAuthError}\n      >\n        <div className={styles.title}>{lang('Enter your password')}</div>\n      </PasswordForm>\n    </div>\n  );\n}\n\nexport default memo(AuthCheckPassword);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useTimeout from '../../hooks/useTimeout';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isLoading?: boolean;\n  error?: string;\n  biometricsStep?: 1 | 2;\n}\n\nconst START_BIOMETRICS_CONFIRMATION_DELAY_MS = 1000;\n\nfunction AuthConfirmBiometrics({\n  isActive,\n  biometricsStep,\n  error,\n  isLoading,\n}: OwnProps) {\n  const {\n    afterCreateBiometrics,\n    resetAuth,\n    cancelCreateBiometrics,\n  } = getActions();\n\n  useTimeout(afterCreateBiometrics, isActive ? START_BIOMETRICS_CONFIRMATION_DELAY_MS : undefined, [isActive]);\n\n  const lang = useLang();\n  const shouldRenderSteps = Boolean(biometricsStep);\n  const shouldRenderError = Boolean(error && !shouldRenderSteps);\n  const renderingError = useCurrentOrPrev(error, true);\n\n  useHistoryBack({\n    isActive,\n    onBack: resetAuth,\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.container_scrollable, 'custom-scroll')}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n        previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n        noLoop={false}\n        nonInteractive\n        className={styles.sticker}\n      />\n      <div className={styles.title}>{lang('Turn On Biometrics')}</div>\n\n      {shouldRenderSteps && (\n        <div className={styles.biometricsStep}>\n          {lang(biometricsStep === 1 ? 'Step 1 of 2. Registration' : 'Step 2 of 2. Verification')}\n        </div>\n      )}\n      {shouldRenderError && (\n        <div className={buildClassName(styles.biometricsError)}>\n          <div>{lang(renderingError || 'Unknown error.')}</div>\n          <div>{lang('Please try to confirm your biometrics again.')}</div>\n        </div>\n      )}\n\n      <div className={styles.buttons}>\n        <div className={styles.buttons__inner}>\n          <Button\n            isDisabled={Boolean(biometricsStep) || isLoading}\n            className={buildClassName(styles.btn, styles.btnHalfWidth)}\n            onClick={cancelCreateBiometrics}\n          >\n            {lang('Cancel')}\n          </Button>\n\n          {shouldRenderError && (\n            <Button\n              isPrimary\n              className={buildClassName(styles.btn, styles.btnHalfWidth)}\n              isDisabled={Boolean(biometricsStep) || isLoading}\n              onClick={afterCreateBiometrics}\n            >\n              {lang('Try Again')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(AuthConfirmBiometrics);\n","import React, { memo, useEffect, useState } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { AuthMethod } from '../../global/types';\n\nimport { PIN_LENGTH } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { pause } from '../../util/schedulers';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport PinPad from '../ui/PinPad';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  method?: AuthMethod;\n}\n\ninterface StateProps {\n  pin: string;\n}\n\nconst SUBMIT_PAUSE_MS = 1500;\n\nconst AuthConfirmPin = ({\n  isActive,\n  method,\n  pin,\n}: OwnProps & StateProps) => {\n  const { confirmPin, cancelConfirmPin } = getActions();\n\n  const lang = useLang();\n  const [pinConfirm, setPinConfirm] = useState<string>('');\n  const [error, setError] = useState<string>('');\n  const [isConfirmed, setIsConfirmed] = useState<boolean>(false);\n  const isImporting = method !== 'createAccount';\n\n  const handleBackClick = useLastCallback(() => {\n    cancelConfirmPin({ isImporting });\n  });\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  useEffect(() => {\n    if (isActive) {\n      setPinConfirm('');\n      setError('');\n      setIsConfirmed(false);\n    }\n  }, [isActive]);\n\n  const handleChange = useLastCallback((value: string) => {\n    setPinConfirm(value);\n    setError('');\n  });\n\n  const handleSubmit = useLastCallback(async (value: string) => {\n    if (value === pin) {\n      setIsConfirmed(true);\n      await pause(SUBMIT_PAUSE_MS);\n      confirmPin({ isImporting });\n    } else {\n      setError(lang('Codes don\\'t match'));\n    }\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.containerFullSize)}>\n      <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n        <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n        <span>{lang('Back')}</span>\n      </Button>\n\n      <div className={styles.pinPadHeader}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n          previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n          noLoop={false}\n          nonInteractive\n        />\n        <div className={styles.title}>{lang(isImporting ? 'Wallet is imported!' : 'Wallet is ready!')}</div>\n      </div>\n\n      <PinPad\n        isActive={isActive}\n        title={isConfirmed ? lang('Code set successfully') : (error || lang('Enter your code again'))}\n        type={isConfirmed ? 'success' : (error ? 'error' : undefined)}\n        length={PIN_LENGTH}\n        value={pinConfirm}\n        onChange={handleChange}\n        onSubmit={handleSubmit}\n      />\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>((global) => {\n  return {\n    pin: global.auth.password,\n  };\n})(AuthConfirmPin));\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { IS_PRODUCTION } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useLang from '../../hooks/useLang';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\nconst AuthCreateBackup = ({ isActive }: OwnProps) => {\n  const { skipCheckMnemonic, openAuthBackupWalletModal, resetAuth } = getActions();\n\n  const lang = useLang();\n\n  const canSkipMnemonicCheck = !IS_PRODUCTION;\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={buildClassName(styles.container, 'custom-scroll')}>\n        <Button isSimple isText onClick={resetAuth} className={styles.headerBack}>\n          <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n          <span>{lang('Back')}</span>\n        </Button>\n\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.snitch}\n          previewUrl={ANIMATED_STICKERS_PATHS.snitchPreview}\n          noLoop={false}\n          nonInteractive\n          className={styles.sticker}\n        />\n        <div className={styles.title}>{lang('Create Backup')}</div>\n        <div className={styles.info}>\n          <p className={styles.info__space}>{renderText(lang('$auth_backup_description1'))}</p>\n          <p>{renderText(lang('$auth_backup_description2'))}</p>\n          <p>{renderText(lang('$auth_backup_description3'))}</p>\n        </div>\n        <div className={styles.buttons}>\n          <Button\n            isPrimary\n            className={buildClassName(styles.btn, styles.btn_wide, !canSkipMnemonicCheck && styles.btn_single)}\n            onClick={openAuthBackupWalletModal}\n          >\n            {lang('Back Up')}\n          </Button>\n          {canSkipMnemonicCheck && (\n            <Button\n              isDestructive\n              isText\n              className={buildClassName(styles.btn, styles.btn_push)}\n              onClick={skipCheckMnemonic}\n            >\n              {lang('Later')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AuthCreateBackup);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { AuthMethod } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  method?: AuthMethod;\n}\n\nconst AuthCreateBiometrics = ({\n  isActive,\n  method,\n}: OwnProps) => {\n  const {\n    startCreatingBiometrics,\n    resetAuth,\n    skipCreateBiometrics,\n  } = getActions();\n\n  const lang = useLang();\n  const isImporting = method !== 'createAccount';\n\n  useHistoryBack({\n    isActive,\n    onBack: resetAuth,\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.container_scrollable, 'custom-scroll')}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        tgsUrl={ANIMATED_STICKERS_PATHS.happy}\n        previewUrl={ANIMATED_STICKERS_PATHS.happyPreview}\n        noLoop={false}\n        nonInteractive\n        className={styles.sticker}\n      />\n      <div className={styles.title}>{lang('Congratulations!')}</div>\n      <p className={styles.info}>\n        <b>{lang(isImporting ? 'The wallet is imported' : 'The wallet is ready')}.</b>\n      </p>\n      <p className={styles.info}>\n        {lang('Create a password or use biometric authentication to protect it.')}\n      </p>\n\n      <div className={styles.buttons}>\n        <Button\n          isPrimary\n          className={styles.btn}\n          onClick={startCreatingBiometrics}\n        >\n          {lang('Connect Biometrics')}\n        </Button>\n        <Button\n          isText\n          className={buildClassName(styles.btn, styles.btn_text)}\n          onClick={skipCreateBiometrics}\n        >\n          {lang('Use Password')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AuthCreateBiometrics);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport buildClassName from '../../util/buildClassName';\nimport { getIsFaceIdAvailable, getIsTouchIdAvailable } from '../../util/capacitor';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\nimport touchIdSvg from '../../assets/settings/settings_biometrics.svg';\nimport faceIdSvg from '../../assets/settings/settings_face-id.svg';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isLoading?: boolean;\n}\n\nconst AuthCreateNativeBiometrics = ({ isActive, isLoading }: OwnProps) => {\n  const { afterCreateNativeBiometrics, skipCreateNativeBiometrics, resetAuth } = getActions();\n\n  const lang = useLang();\n\n  const isFaceId = getIsFaceIdAvailable();\n  const isTouchId = getIsTouchIdAvailable();\n\n  useHistoryBack({\n    isActive,\n    onBack: resetAuth,\n  });\n\n  return (\n    <div className={styles.container}>\n      <Button isSimple isText onClick={resetAuth} className={styles.headerBack}>\n        <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n        <span>{lang('Back')}</span>\n      </Button>\n\n      <img\n        src={isFaceId ? faceIdSvg : touchIdSvg}\n        alt=\"\"\n        className={styles.biometricsIcon}\n      />\n\n      <div className={styles.biometricsTitle}>\n        {isFaceId ? lang('Use Face ID') : (isTouchId ? lang('Use Touch ID') : lang('Use Biometrics'))}\n      </div>\n      <div className={styles.biometricsSubtitle}>\n        {lang('You can connect your biometric data for more convenience')}\n      </div>\n\n      <div className={styles.buttons}>\n        <Button\n          isPrimary\n          className={styles.btn}\n          isLoading={isLoading}\n          onClick={!isLoading ? afterCreateNativeBiometrics : undefined}\n        >\n          {lang(isFaceId ? 'Connect Face ID' : (isTouchId ? 'Connect Touch ID' : 'Connect Biometrics'))}\n        </Button>\n        <Button\n          isText\n          isDisabled={isLoading}\n          className={buildClassName(styles.btn, styles.btn_text)}\n          onClick={skipCreateNativeBiometrics}\n        >\n          {lang('Not Now')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AuthCreateNativeBiometrics);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { AuthMethod } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { getIsBiometricAuthSupported } from '../../util/capacitor';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport CreatePasswordForm from '../ui/CreatePasswordForm';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  method?: AuthMethod;\n  isLoading?: boolean;\n}\n\nconst AuthCreatePassword = ({\n  isActive,\n  method,\n  isLoading,\n}: OwnProps) => {\n  const { afterCreatePassword, resetAuth } = getActions();\n\n  const lang = useLang();\n  const isImporting = method !== 'createAccount';\n  const formId = getFormId(method!);\n  const withDescription = !getIsBiometricAuthSupported();\n\n  useHistoryBack({\n    isActive,\n    onBack: resetAuth,\n  });\n\n  const handleSubmit = useLastCallback((password: string, isPasswordNumeric: boolean) => {\n    afterCreatePassword({ password, isPasswordNumeric });\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.container_scrollable, 'custom-scroll')}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n        previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n        noLoop={false}\n        nonInteractive\n        className={styles.sticker}\n      />\n      <div className={buildClassName(styles.title, !withDescription && styles.titleSmallMargin)}>\n        {lang(withDescription ? 'Congratulations!' : 'Create Password')}\n      </div>\n      {withDescription && (\n        <>\n          <p className={styles.info}>\n            <b>{lang(isImporting ? 'The wallet is imported' : 'The wallet is ready')}.</b>\n          </p>\n          <p className={styles.info}>\n            {lang('Create a password to protect it.')}\n          </p>\n        </>\n      )}\n\n      <CreatePasswordForm\n        isActive={isActive}\n        isLoading={isLoading}\n        formId={formId}\n        onCancel={resetAuth}\n        onSubmit={handleSubmit}\n      />\n    </div>\n  );\n};\n\n// eslint-disable-next-line consistent-return\nfunction getFormId(method: AuthMethod) {\n  switch (method) {\n    case 'createAccount':\n      return 'auth_create_password';\n    case 'importMnemonic':\n      return 'auth_import_mnemonic_password';\n    case 'importHardwareWallet':\n      return 'auth_import_hardware_password';\n  }\n}\n\nexport default memo(AuthCreatePassword);\n","import React, { memo, useEffect, useState } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { AuthMethod } from '../../global/types';\n\nimport { PIN_LENGTH } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { pause } from '../../util/schedulers';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport PinPad from '../ui/PinPad';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  method?: AuthMethod;\n}\n\nconst SUBMIT_PAUSE_MS = 750;\n\nconst AuthCreatePin = ({\n  isActive,\n  method,\n}: OwnProps) => {\n  const { createPin, resetAuth } = getActions();\n\n  const lang = useLang();\n  const [pin, setPin] = useState<string>('');\n  const isImporting = method !== 'createAccount';\n\n  useEffect(() => {\n    if (isActive) {\n      setPin('');\n    }\n  }, [isActive]);\n\n  useHistoryBack({\n    isActive,\n    onBack: resetAuth,\n  });\n\n  const handleSubmit = useLastCallback(async (value: string) => {\n    await pause(SUBMIT_PAUSE_MS);\n    createPin({ pin: value, isImporting });\n  });\n\n  return (\n    <div className={buildClassName(styles.container, styles.containerFullSize)}>\n      <Button isSimple isText onClick={resetAuth} className={styles.headerBack}>\n        <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n        <span>{lang('Back')}</span>\n      </Button>\n\n      <div className={styles.pinPadHeader}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n          previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n          noLoop={false}\n          nonInteractive\n        />\n        <div className={styles.title}>{lang(isImporting ? 'Wallet is imported!' : 'Wallet is ready!')}</div>\n      </div>\n      <PinPad\n        isActive={isActive}\n        title={lang('Create a code to protect it')}\n        length={PIN_LENGTH}\n        value={pin}\n        onChange={setPin}\n        onSubmit={handleSubmit}\n      />\n    </div>\n  );\n};\n\nexport default memo(AuthCreatePin);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useMediaTransition from '../../hooks/useMediaTransition';\nimport useTimeout from '../../hooks/useTimeout';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\nconst START_DELAY = 700;\nconst INTERVAL = 1000;\n\nconst AuthCreatingWallet = ({ isActive }: OwnProps) => {\n  const lang = useLang();\n  const [one, markOne] = useFlag();\n  const [two, markTwo] = useFlag();\n  const [three, markThree] = useFlag();\n\n  useTimeout(markOne, isActive ? START_DELAY : undefined);\n  useTimeout(markTwo, isActive ? START_DELAY + INTERVAL : undefined);\n  useTimeout(markThree, isActive ? START_DELAY + INTERVAL * 2 : undefined);\n\n  const oneClassNames = useMediaTransition(one);\n  const twoClassNames = useMediaTransition(two);\n  const threeClassNames = useMediaTransition(three);\n\n  return (\n    <div className={buildClassName(styles.container, 'custom-scroll')}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        tgsUrl={ANIMATED_STICKERS_PATHS.hello}\n        previewUrl={ANIMATED_STICKERS_PATHS.helloPreview}\n        nonInteractive\n        noLoop={false}\n      />\n      <div className={styles.title}>{lang('Creating Wallet...')}</div>\n\n      <div className={buildClassName(styles.counter)}>\n        <p className={styles.counterTitle}>{lang('On the count of three...')}</p>\n        <b className={buildClassName(styles.counterDigit, oneClassNames)}>1</b>\n        <b className={buildClassName(styles.counterDigit, twoClassNames)}>2</b>\n        <b className={buildClassName(styles.counterDigit, threeClassNames)}>3</b>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(AuthCreatingWallet);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { ANIMATED_STICKER_MIDDLE_SIZE_PX } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport { useOpenFromMainBottomSheet } from '../../hooks/useDelegatedBottomSheet';\nimport useFlag from '../../hooks/useFlag';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Checkbox from '../ui/Checkbox';\nimport AuthBackupWarning from './AuthBackupWarning';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isImport?: boolean;\n}\n\nconst AuthDisclaimer = ({\n  isActive, isImport,\n}: OwnProps) => {\n  const {\n    skipCheckMnemonic,\n    confirmDisclaimer,\n    cancelDisclaimer,\n  } = getActions();\n\n  const lang = useLang();\n  const [isInformationConfirmed, markInformationConfirmed, unmarkInformationConfirmed] = useFlag(false);\n  const {\n    shouldRender: shouldRenderStartButton,\n    transitionClassNames: startButtonTransitionClassNames,\n  } = useShowTransition(isInformationConfirmed && isImport);\n\n  useHistoryBack({\n    isActive,\n    onBack: cancelDisclaimer,\n  });\n  const setIsInformationConfirmed = useLastCallback((isConfirmed: boolean) => {\n    if (isConfirmed) {\n      markInformationConfirmed();\n    } else {\n      unmarkInformationConfirmed();\n    }\n  });\n\n  useOpenFromMainBottomSheet('backup-warning', markInformationConfirmed);\n\n  const handleCloseBackupWarningModal = useLastCallback(() => {\n    setIsInformationConfirmed(false);\n  });\n\n  const handleSkipMnemonic = useLastCallback(() => {\n    skipCheckMnemonic();\n    handleCloseBackupWarningModal();\n  });\n\n  return (\n    <div className={styles.wrapper}>\n      <div className={buildClassName(styles.container, 'custom-scroll')}>\n        <div className={styles.stickerAndTitle}>\n          <AnimatedIconWithPreview\n            play={isActive}\n            tgsUrl={ANIMATED_STICKERS_PATHS.snitch}\n            previewUrl={ANIMATED_STICKERS_PATHS.snitchPreview}\n            noLoop={false}\n            nonInteractive\n            size={ANIMATED_STICKER_MIDDLE_SIZE_PX}\n            className={styles.sticker}\n          />\n          <div className={styles.title}>{lang('Use Responsibly')}</div>\n        </div>\n        <div className={styles.infoBlock}>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description1'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description2'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description3'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description4'))}</p>\n        </div>\n\n        <Checkbox\n          id=\"information-confirmed\"\n          checked={isInformationConfirmed}\n          onChange={setIsInformationConfirmed}\n          className={styles.informationCheckbox}\n          contentClassName={styles.informationCheckboxContent}\n        >\n          {lang('I have read and accept this information')}\n        </Checkbox>\n        {shouldRenderStartButton && (\n          <div className={buildClassName(styles.buttons, startButtonTransitionClassNames)}>\n            <Button isPrimary className={buildClassName(styles.btn, styles.btn_wide)} onClick={confirmDisclaimer}>\n              {lang('Start Wallet')}\n            </Button>\n          </div>\n        )}\n      </div>\n\n      {!isImport && (\n        <AuthBackupWarning\n          isOpen={isInformationConfirmed}\n          onClose={handleCloseBackupWarningModal}\n          onSkip={handleSkipMnemonic}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(AuthDisclaimer);\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { ANIMATED_STICKER_SMALL_SIZE_PX, MNEMONIC_COUNT, PRIVATE_KEY_HEX_LENGTH } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport isMnemonicPrivateKey from '../../util/isMnemonicPrivateKey';\nimport { compact } from '../../util/iteratees';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useClipboardPaste from '../../hooks/useClipboardPaste';\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport InputMnemonic from '../common/InputMnemonic';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\ntype StateProps = {\n  error?: string;\n  isLoading?: boolean;\n};\n\nconst MNEMONIC_INPUTS = [...Array(MNEMONIC_COUNT)].map((_, index) => ({\n  id: index,\n  label: `${index + 1}`,\n}));\nconst MAX_LENGTH = PRIVATE_KEY_HEX_LENGTH;\nconst SLIDE_ANIMATION_DURATION_MS = 250;\n\nconst AuthImportMnemonic = ({ isActive, isLoading, error }: OwnProps & StateProps) => {\n  const {\n    afterImportMnemonic,\n    resetAuth,\n  } = getActions();\n\n  const lang = useLang();\n  const [mnemonic, setMnemonic] = useState<Record<number, string>>({});\n  const { isPortrait } = useDeviceScreen();\n\n  const handleMnemonicSet = useLastCallback((pastedMnemonic: string[]) => {\n    if (pastedMnemonic.length !== MNEMONIC_COUNT && !isMnemonicPrivateKey(pastedMnemonic)) {\n      return;\n    }\n\n    // RAF is a workaround for several Android browsers (e.g. Vivaldi)\n    requestAnimationFrame(() => {\n      setMnemonic(pastedMnemonic);\n    });\n\n    if (document.activeElement?.id.startsWith('import-mnemonic-')) {\n      (document.activeElement as HTMLInputElement).blur();\n    }\n  });\n\n  const handlePasteMnemonic = useLastCallback((pastedText: string) => {\n    const pastedMnemonic = parsePastedText(pastedText);\n\n    if (pastedMnemonic.length === 1 && document.activeElement?.id.startsWith('import-mnemonic-')) {\n      (document.activeElement as HTMLInputElement).value = pastedMnemonic[0];\n\n      const event = new Event('input');\n      (document.activeElement as HTMLInputElement).dispatchEvent(event);\n\n      return;\n    }\n\n    handleMnemonicSet(pastedMnemonic);\n  });\n\n  useClipboardPaste(Boolean(isActive), handlePasteMnemonic);\n\n  const isSubmitDisabled = useMemo(() => {\n    const mnemonicValues = compact(Object.values(mnemonic));\n\n    return mnemonicValues.length !== MNEMONIC_COUNT && !isMnemonicPrivateKey(mnemonicValues);\n  }, [mnemonic]);\n\n  const handleSetWord = useLastCallback((value: string, index: number) => {\n    const pastedMnemonic = parsePastedText(value);\n    if (pastedMnemonic.length === MNEMONIC_COUNT) {\n      handleMnemonicSet(pastedMnemonic);\n      return;\n    }\n\n    setMnemonic({\n      ...mnemonic,\n      [index]: pastedMnemonic[0].toLowerCase(),\n    });\n  });\n\n  const handleCancel = useLastCallback(() => {\n    setTimeout(() => {\n      resetAuth();\n    }, SLIDE_ANIMATION_DURATION_MS);\n  });\n\n  const handleSubmit = useLastCallback(() => {\n    if (!isSubmitDisabled) {\n      afterImportMnemonic({ mnemonic: Object.values(mnemonic) });\n    }\n  });\n\n  useHistoryBack({\n    isActive,\n    onBack: handleCancel,\n  });\n\n  useEffect(() => {\n    return isSubmitDisabled\n      ? undefined\n      : captureKeyboardListeners({\n        onEnter: handleSubmit,\n      });\n  }, [afterImportMnemonic, handleSubmit, isSubmitDisabled, mnemonic]);\n\n  return (\n    <div className={buildClassName(styles.container, styles.container_scrollable, 'custom-scroll')}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        size={ANIMATED_STICKER_SMALL_SIZE_PX}\n        tgsUrl={ANIMATED_STICKERS_PATHS.snitch}\n        previewUrl={ANIMATED_STICKERS_PATHS.snitchPreview}\n        nonInteractive\n        noLoop={false}\n        className={styles.sticker}\n      />\n      <div className={buildClassName(styles.title, styles.title_afterSmallSticker)}>\n        {lang('%1$d Secret Words', MNEMONIC_COUNT)}\n      </div>\n      <div className={buildClassName(styles.info, styles.infoSmallFont, styles.infoPull)}>\n        {renderText(lang('$auth_import_mnemonic_description', MNEMONIC_COUNT))}\n      </div>\n\n      <div className={styles.importingContent}>\n        {MNEMONIC_INPUTS.map(({ id, label }) => (\n          <InputMnemonic\n            key={id}\n            id={`import-mnemonic-${id}`}\n            nextId={id + 1 < MNEMONIC_COUNT ? `import-mnemonic-${id + 1}` : undefined}\n            labelText={label}\n            value={mnemonic[id]}\n            suggestionsPosition={getSuggestPosition(id, isPortrait)}\n            inputArg={id}\n            onInput={handleSetWord}\n          />\n        ))}\n      </div>\n\n      <div className={styles.buttons}>\n        {error && <div className={styles.footerError}>{error}</div>}\n        <div className={styles.buttons__inner}>\n          <Button onClick={handleCancel} className={styles.footerButton}>\n            {lang('Cancel')}\n          </Button>\n          <Button\n            isPrimary\n            isDisabled={isSubmitDisabled}\n            isLoading={isLoading}\n            className={styles.footerButton}\n            onClick={handleSubmit}\n          >\n            {lang('Continue')}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  return {\n    error: global.auth.error,\n    isLoading: global.auth.isLoading,\n  };\n})(AuthImportMnemonic));\n\nfunction parsePastedText(str: string) {\n  return str\n    .replace(/(?:\\r\\n)+|[\\r\\n\\s;,\\t]+/g, ' ')\n    .trim()\n    .split(' ')\n    .map((w) => w.slice(0, MAX_LENGTH));\n}\n\nfunction getSuggestPosition(id: number, isPortrait: boolean = false) {\n  if (isPortrait) {\n    return 'top';\n  }\n\n  return ((id > 5 && id < 8) || (id > 13 && id < 16) || id > 21) ? 'top' : undefined;\n}\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { APP_NAME, MNEMONIC_COUNT } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { IS_LEDGER_SUPPORTED } from '../../util/windowEnvironment';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport Button from '../ui/Button';\n\nimport styles from './Auth.module.scss';\n\nimport logoPath from '../../assets/logo.svg';\n\ninterface StateProps {\n  hasAccounts?: boolean;\n  isLoading?: boolean;\n}\n\nfunction AuthStart({ hasAccounts, isLoading }: StateProps) {\n  const {\n    startCreatingWallet,\n    startImportingWallet,\n    openAbout,\n    openHardwareWalletModal,\n    resetAuth,\n  } = getActions();\n\n  const lang = useLang();\n  const [isLogoReady, markLogoReady] = useFlag();\n  const { transitionClassNames } = useShowTransition(isLogoReady, undefined, undefined, 'slow');\n\n  return (\n    <div className={buildClassName(styles.container, 'custom-scroll')}>\n      {hasAccounts && (\n        <Button isSimple isText onClick={resetAuth} className={styles.headerBack}>\n          <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n          <span>{lang('Back')}</span>\n        </Button>\n      )}\n\n      <img\n        src={logoPath}\n        alt={APP_NAME}\n        className={buildClassName(styles.logo, transitionClassNames)}\n        onLoad={markLogoReady}\n      />\n      <div className={styles.appName}>{APP_NAME}</div>\n      <div className={styles.info}>\n        {renderText(lang('$auth_intro'))}\n      </div>\n      <Button\n        isText\n        className={buildClassName(styles.btn, styles.btn_about)}\n        onClick={openAbout}\n      >\n        {lang('More about MyTonWallet')}\n        <i className=\"icon-chevron-right\" aria-hidden />\n      </Button>\n      <div className={styles.importButtonsBlock}>\n        <Button\n          isPrimary\n          className={styles.btn}\n          isLoading={isLoading}\n          onClick={!isLoading ? startCreatingWallet : undefined}\n        >\n          {lang('Create Wallet')}\n        </Button>\n        <span className={styles.importText}>{lang('or import from')}</span>\n        <div className={styles.importButtons}>\n          <Button\n            className={buildClassName(styles.btn, !IS_LEDGER_SUPPORTED && styles.btn_single)}\n            onClick={!isLoading ? startImportingWallet : undefined}\n          >\n            {lang('%1$d Secret Words', MNEMONIC_COUNT)}\n          </Button>\n          {IS_LEDGER_SUPPORTED && (\n            <Button\n              className={buildClassName(styles.btn, styles.btn_mini)}\n              onClick={!isLoading ? openHardwareWalletModal : undefined}\n            >\n              {lang('Ledger')}\n            </Button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  return {\n    hasAccounts: Boolean(global.currentAccountId),\n    isLoading: global.auth.isLoading,\n  };\n})(AuthStart));\n","import type { FormEvent } from 'react';\nimport React, {\n  memo, useEffect, useState,\n} from '../../lib/teact/teact';\n\nimport { MNEMONIC_CHECK_COUNT } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { areSortedArraysEqual } from '../../util/iteratees';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport InputMnemonic from '../common/InputMnemonic';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Auth.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  isInModal?: boolean;\n  mnemonic?: string[];\n  checkIndexes?: number[];\n  buttonLabel: string;\n  onSubmit: NoneToVoidFunction;\n  onCancel: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n};\n\nfunction MnemonicCheck({\n  isActive, isInModal, mnemonic, checkIndexes, buttonLabel, onCancel, onSubmit, onClose,\n}: OwnProps) {\n  const lang = useLang();\n  const [words, setWords] = useState<Record<number, string>>({});\n  const [hasMnemonicError, setHasMnemonicError] = useState(false);\n\n  useEffect(() => {\n    if (isActive) {\n      setWords({});\n      setHasMnemonicError(false);\n    }\n  }, [isActive]);\n\n  useHistoryBack({\n    isActive,\n    onBack: onCancel,\n  });\n\n  const handleSetWord = useLastCallback((value: string, index: number) => {\n    setWords({\n      ...words,\n      [index]: value?.toLowerCase(),\n    });\n  });\n\n  const handleMnemonicCheckSubmit = useLastCallback((e: FormEvent) => {\n    e.preventDefault();\n    const answer = mnemonic && checkIndexes?.map((index) => mnemonic[index]);\n    if (answer && areSortedArraysEqual(answer, Object.values(words))) {\n      onSubmit();\n    } else {\n      setHasMnemonicError(true);\n    }\n  });\n\n  return (\n    <div className={modalStyles.transitionContentWrapper}>\n      <ModalHeader title={lang('Let\\'s Check!')} onClose={onClose} />\n      <div className={buildClassName(modalStyles.transitionContent, 'custom-scroll')}>\n        <p className={buildClassName(styles.info, styles.small)}>\n          {lang('Lets make sure your secrets words are recorded correctly.')}\n        </p>\n\n        <p className={buildClassName(styles.info, styles.small)}>\n          {renderText(lang('$mnemonic_check_words_list', checkIndexes?.map((n) => n + 1)?.join(', ')))}\n        </p>\n\n        <form onSubmit={handleMnemonicCheckSubmit} id=\"check_mnemonic_form\">\n          {checkIndexes!.map((key, i) => (\n            <InputMnemonic\n              key={key}\n              id={`check-mnemonic-${i}`}\n              nextId={i + 1 < MNEMONIC_CHECK_COUNT ? `check-mnemonic-${i + 1}` : undefined}\n              labelText={`${key + 1}`}\n              value={words[key]}\n              isInModal={isInModal}\n              suggestionsPosition={i > 1 ? 'top' : undefined}\n              inputArg={key}\n              className={styles.checkMnemonicInput}\n              onInput={handleSetWord}\n            />\n          ))}\n        </form>\n\n        {hasMnemonicError && (\n          <div className={buildClassName(styles.error, styles.small)}>\n            {renderText(lang('$mnemonic_check_error'))}\n          </div>\n        )}\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={onCancel} className={modalStyles.button}>{lang('Back')}</Button>\n          <Button isPrimary forFormId=\"check_mnemonic_form\" className={modalStyles.button}>{buttonLabel}</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(MnemonicCheck);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { MNEMONIC_COUNT } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport Button from '../ui/Button';\nimport Emoji from '../ui/Emoji';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Auth.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  mnemonic?: string[];\n  onClose: NoneToVoidFunction;\n  onNext: NoneToVoidFunction;\n};\n\nfunction MnemonicList({\n  isActive, mnemonic, onNext, onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  return (\n    <div className={modalStyles.transitionContentWrapper}>\n      <ModalHeader title={lang('%1$d Secret Words', MNEMONIC_COUNT) as string} onClose={onClose} />\n      <div className={buildClassName(styles.mnemonicContainer, modalStyles.transitionContent, 'custom-scroll')}>\n        <p className={buildClassName(styles.info, styles.small)}>\n          {renderText(lang('$mnemonic_list_description'))}\n        </p>\n        <p className={buildClassName(styles.info, styles.small)}>\n          <Emoji from=\"\" />{' '}{renderText(lang('$mnemonic_warning'))}\n        </p>\n        <ol className={styles.words}>\n          {mnemonic?.map((word) => (\n            <li className={styles.word}>{word}</li>\n          ))}\n        </ol>\n\n        <div className={modalStyles.buttons}>\n          <Button isPrimary onClick={onNext}>{lang('Let\\'s Check')}</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(MnemonicList);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport Emoji from '../ui/Emoji';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Auth.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  privateKeyHex?: string;\n  onClose: NoneToVoidFunction;\n};\n\nfunction MnemonicList({\n  isActive, privateKeyHex, onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  return (\n    <div className={modalStyles.transitionContentWrapper}>\n      <ModalHeader title={lang('Private Key')} onClose={onClose} />\n      <div className={buildClassName(styles.mnemonicContainer, modalStyles.transitionContent, 'custom-scroll')}>\n        <p className={buildClassName(styles.info, styles.small)}>\n          <Emoji from=\"\" />{' '}{renderText(lang('$mnemonic_warning'))}\n        </p>\n        <p className={styles.privateKey}>\n          {privateKeyHex}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(MnemonicList);\n","import React, { memo, useState } from '../../lib/teact/teact';\n\nimport { ANIMATED_STICKER_SMALL_SIZE_PX } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Checkbox from '../ui/Checkbox';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Auth.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  onSubmit: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n};\n\nfunction SafetyRules({ isActive, onSubmit, onClose }: OwnProps) {\n  const lang = useLang();\n  const [writedownAccepted, setWritedownAccepted] = useState(false);\n  const [openWalletAccepted, setOpenWalletAccepted] = useState(false);\n  const [canBeStolenAccepted, setCanBeStolenAccepted] = useState(false);\n  const canSubmit = writedownAccepted && openWalletAccepted && canBeStolenAccepted;\n\n  const handleSubmit = useLastCallback(() => {\n    if (!canSubmit) {\n      return;\n    }\n\n    onSubmit();\n  });\n\n  return (\n    <div className={modalStyles.transitionContentWrapper}>\n      <ModalHeader title={lang('Safety Rules')} onClose={onClose} />\n      <div className={buildClassName(modalStyles.transitionContent, 'custom-scroll')}>\n        <AnimatedIconWithPreview\n          tgsUrl={ANIMATED_STICKERS_PATHS.bill}\n          previewUrl={ANIMATED_STICKERS_PATHS.billPreview}\n          size={ANIMATED_STICKER_SMALL_SIZE_PX}\n          play={isActive}\n          nonInteractive\n          noLoop={false}\n          className={styles.modalSticker}\n        />\n        <Checkbox\n          checked={writedownAccepted}\n          onChange={setWritedownAccepted}\n        >\n          {renderText(lang('$safety_rules_one'))}\n        </Checkbox>\n\n        <Checkbox\n          checked={openWalletAccepted}\n          onChange={setOpenWalletAccepted}\n        >\n          {renderText(lang('$safety_rules_two'))}\n        </Checkbox>\n\n        <Checkbox\n          checked={canBeStolenAccepted}\n          onChange={setCanBeStolenAccepted}\n        >\n          {renderText(lang('$safety_rules_three'))}\n        </Checkbox>\n\n        <div className={modalStyles.buttons}>\n          <Button isPrimary onClick={handleSubmit} isDisabled={!canSubmit}>{lang('Understood')}</Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SafetyRules);\n","import React, { memo, useEffect, useState } from '../../lib/teact/teact';\n\nimport type { LangFn } from '../../hooks/useLang';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './Countdown.module.scss';\n\ninterface OwnProps {\n  timestamp: number;\n  deadline: number;\n  onCompleted?: NoneToVoidFunction;\n}\n\nconst WARNING_TIME = 5 * 60; // 5 minutes in seconds;\nconst SECOND = 1000;\n\nfunction Countdown({\n  timestamp,\n  deadline,\n  onCompleted,\n}: OwnProps) {\n  const lang = useLang();\n  const initialSeconds = Math.floor((timestamp + deadline - Date.now()) / 1000);\n  const [secondsLeft, setSecondsLeft] = useState(Math.max(initialSeconds, 0));\n  const shouldShowWarning = secondsLeft <= WARNING_TIME;\n\n  useEffect(() => {\n    const timerId = setTimeout(() => {\n      if (secondsLeft <= 0) return;\n\n      setSecondsLeft(Math.floor((timestamp + deadline - Date.now()) / 1000));\n    }, SECOND);\n\n    if (secondsLeft <= 0) {\n      onCompleted?.();\n    }\n\n    return () => clearTimeout(timerId);\n  }, [secondsLeft, onCompleted, timestamp, deadline]);\n\n  return (\n    <span className={buildClassName(\n      styles.time,\n      shouldShowWarning && styles.timeWarning,\n    )}\n    >\n      {formatTime(lang, secondsLeft)}\n    </span>\n  );\n}\n\nfunction formatTime(lang: LangFn, seconds: number): string {\n  const pad = (num: number) => num.toString().padStart(2, '0');\n\n  const hours = Math.floor(seconds / 3600);\n  const minutes = Math.floor((seconds % 3600) / 60);\n  const remainingSeconds = seconds % 60;\n\n  let formattedTime = hours > 0 ? `${hours}:` : '';\n  formattedTime += `${hours > 0 ? pad(minutes) : minutes}:`;\n  formattedTime += pad(remainingSeconds);\n\n  return formattedTime;\n}\n\nexport default memo(Countdown);\n","import React, { memo, useEffect, useState } from '../../lib/teact/teact';\n\nimport { PRIVATE_KEY_HEX_LENGTH } from '../../config';\nimport { requestMeasure } from '../../lib/fasterdom/fasterdom';\nimport buildClassName from '../../util/buildClassName';\nimport { callApi } from '../../api';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport SuggestionList from '../ui/SuggestionList';\n\nimport styles from './InputMnemonic.module.scss';\n\ntype OwnProps = {\n  id?: string;\n  nextId?: string;\n  labelText?: string;\n  className?: string;\n  value?: string;\n  isInModal?: boolean;\n  suggestionsPosition?: 'top' | 'bottom';\n  inputArg?: any;\n  onInput: (value: string, inputArg?: any) => void;\n};\n\nconst SUGGESTION_WORDS_COUNT = 7;\n\nfunction InputMnemonic({\n  id, nextId, labelText, className, value = '', isInModal, suggestionsPosition, inputArg, onInput,\n}: OwnProps) {\n  const [hasFocus, markFocus, unmarkFocus] = useFlag();\n  const [hasError, setHasError] = useState<boolean>(false);\n  const [filteredSuggestions, setFilteredSuggestions] = useState<string[]>([]);\n  const [activeSuggestionIndex, setActiveSuggestionIndex] = useState<number>(0);\n  const [areSuggestionsShown, setAreSuggestionsShown] = useState<boolean>(false);\n  const [wordlist, setWordlist] = useState<string[]>([]);\n  const shouldRenderSuggestions = areSuggestionsShown && value && filteredSuggestions.length > 0;\n\n  useEffect(() => {\n    (async () => {\n      const words = await callApi('getMnemonicWordList');\n      setWordlist(words ?? []);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const noError = !value\n      || (areSuggestionsShown && filteredSuggestions.length > 0)\n      || isCorrectMnemonic(value, wordlist);\n    setHasError(!noError);\n  }, [areSuggestionsShown, filteredSuggestions.length, value, wordlist]);\n\n  const processSuggestions = (userInput: string) => {\n    // Filter our suggestions that don't contain the user's input\n    const unLinked = wordlist.filter(\n      (suggestion) => suggestion.toLowerCase().startsWith(userInput.toLowerCase()),\n    ).slice(0, SUGGESTION_WORDS_COUNT);\n\n    onInput(userInput, inputArg);\n    setFilteredSuggestions(unLinked);\n    setActiveSuggestionIndex(0);\n    setAreSuggestionsShown(true);\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const userInput = e.target.value;\n\n    processSuggestions(userInput);\n  };\n\n  const handlePaste = (e: React.ClipboardEvent<HTMLInputElement>) => {\n    const pastedValue = e.clipboardData.getData('text');\n\n    processSuggestions(pastedValue);\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (!value) {\n      return;\n    }\n\n    if (e.code === 'Enter' || (e.code === 'Tab' && !(e.shiftKey || e.ctrlKey || e.altKey || e.metaKey))) {\n      onInput(filteredSuggestions[activeSuggestionIndex], inputArg);\n      setFilteredSuggestions([filteredSuggestions[activeSuggestionIndex]]);\n      setActiveSuggestionIndex(0);\n      setAreSuggestionsShown(false);\n\n      if (areSuggestionsShown) {\n        e.preventDefault();\n      }\n\n      if (nextId) {\n        requestMeasure(() => {\n          requestMeasure(() => {\n            const nextInput = document.getElementById(nextId);\n            nextInput?.focus();\n            (nextInput as HTMLInputElement)?.select();\n          });\n        });\n      }\n    }\n\n    if (e.code === 'ArrowUp') {\n      if (activeSuggestionIndex === 0) {\n        return;\n      }\n      setActiveSuggestionIndex(activeSuggestionIndex - 1);\n    }\n\n    if (e.code === 'ArrowDown') {\n      if (activeSuggestionIndex === filteredSuggestions.length - 1) {\n        return;\n      }\n      setActiveSuggestionIndex(activeSuggestionIndex + 1);\n    }\n  };\n\n  const handleClick = useLastCallback((suggestion: string) => {\n    onInput(suggestion, inputArg);\n    setAreSuggestionsShown(false);\n    setActiveSuggestionIndex(0);\n    setFilteredSuggestions([]);\n\n    if (nextId) {\n      requestMeasure(() => {\n        requestMeasure(() => {\n          const nextInput = document.getElementById(nextId);\n          nextInput?.focus();\n          (nextInput as HTMLInputElement)?.select();\n        });\n      });\n    }\n  });\n\n  const handleFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    processSuggestions(e.target.value);\n    markFocus();\n  };\n\n  const handleBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    // Remove focus from the input element to ensure correct blur handling, especially when triggered by window switching\n    e.target.blur();\n\n    unmarkFocus();\n    requestAnimationFrame(() => {\n      setAreSuggestionsShown(false);\n      setFilteredSuggestions([]);\n    });\n  };\n\n  return (\n    <div className={buildClassName(\n      styles.wrapper,\n      className,\n      hasFocus && styles.wrapper_focus,\n      hasError && styles.wrapper_error,\n    )}\n    >\n      {shouldRenderSuggestions && (\n        <SuggestionList\n          suggestions={filteredSuggestions}\n          activeIndex={activeSuggestionIndex}\n          position={suggestionsPosition}\n          isInModal={isInModal}\n          onSelect={handleClick}\n        />\n      )}\n      <label className={styles.label} htmlFor={id}>{labelText}.</label>\n      <input\n        id={id}\n        className={buildClassName(styles.input, value !== '' && styles.touched)}\n        type=\"text\"\n        autoComplete=\"off\"\n        onChange={handleChange}\n        onKeyDown={handleKeyDown}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onPaste={handlePaste}\n        value={value}\n        tabIndex={0}\n      />\n    </div>\n  );\n}\n\nfunction isCorrectMnemonic(mnemonic: string, wordlist: string[]) {\n  return mnemonic.length === PRIVATE_KEY_HEX_LENGTH || wordlist.includes(mnemonic);\n}\n\nexport default memo(InputMnemonic);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { UserSwapToken } from '../../global/types';\nimport { SwapType } from '../../global/types';\n\nimport getBlockchainNetworkName from '../../util/swap/getBlockchainNetworkName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useLang from '../../hooks/useLang';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport SwapTokensInfo from './SwapTokensInfo';\n\nimport styles from './SwapResult.module.scss';\n\ninterface OwnProps {\n  tokenIn?: UserSwapToken;\n  tokenOut?: UserSwapToken;\n  amountIn?: string;\n  amountOut?: string;\n  playAnimation?: boolean;\n  firstButtonText?: string;\n  secondButtonText?: string;\n  swapType?: SwapType;\n  toAddress?: string;\n  onFirstButtonClick?: NoneToVoidFunction;\n  onSecondButtonClick?: NoneToVoidFunction;\n}\n\nfunction SwapResult({\n  tokenIn,\n  tokenOut,\n  amountIn,\n  amountOut,\n  playAnimation,\n  firstButtonText,\n  secondButtonText,\n  swapType,\n  toAddress = '',\n  onFirstButtonClick,\n  onSecondButtonClick,\n}: OwnProps) {\n  const lang = useLang();\n\n  function renderButtons() {\n    if (!firstButtonText && !secondButtonText) {\n      return undefined;\n    }\n\n    return (\n      <div className={styles.buttons}>\n        {firstButtonText && (\n          <Button className={styles.button} onClick={onFirstButtonClick}>{firstButtonText}</Button>\n        )}\n        {secondButtonText && (\n          <Button className={styles.button} onClick={onSecondButtonClick}>{secondButtonText}</Button>\n        )}\n      </div>\n    );\n  }\n\n  function renderSticker() {\n    if (swapType === SwapType.CrosschainFromToncoin) return undefined;\n\n    return (\n      <AnimatedIconWithPreview\n        play={playAnimation}\n        noLoop={false}\n        nonInteractive\n        className={styles.sticker}\n        tgsUrl={ANIMATED_STICKERS_PATHS.thumbUp}\n        previewUrl={ANIMATED_STICKERS_PATHS.thumbUpPreview}\n      />\n    );\n  }\n\n  function renderChangellyInfo() {\n    if (swapType !== SwapType.CrosschainFromToncoin) return undefined;\n\n    return (\n      <div className={styles.changellyInfoBlock}>\n        <span className={styles.changellyDescription}>\n          {\n            lang('$swap_changelly_from_ton_description', {\n              blockchain: (\n                <span className={styles.changellyDescriptionBold}>\n                  {getBlockchainNetworkName(tokenOut?.blockchain)}\n                </span>\n              ),\n            })\n          }\n        </span>\n        <InteractiveTextField\n          address={toAddress}\n          copyNotification={lang('Address was copied!')}\n          noSavedAddress\n          noExplorer\n          className={styles.changellyTextField}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {renderSticker()}\n\n      <SwapTokensInfo\n        tokenIn={tokenIn}\n        amountIn={amountIn}\n        tokenOut={tokenOut}\n        amountOut={amountOut}\n      />\n\n      {renderChangellyInfo()}\n\n      {renderButtons()}\n    </>\n  );\n}\n\nexport default memo(SwapResult);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { ApiSwapAsset } from '../../api/types';\nimport type { UserSwapToken } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { formatCurrencyExtended } from '../../util/formatNumber';\nimport getBlockchainNetworkName from '../../util/swap/getBlockchainNetworkName';\nimport getSwapRate from '../../util/swap/getSwapRate';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport styles from './SwapTokensInfo.module.scss';\n\ninterface OwnProps {\n  tokenIn?: UserSwapToken | ApiSwapAsset;\n  amountIn?: string;\n  tokenOut?: UserSwapToken | ApiSwapAsset;\n  amountOut?: string;\n  isError?: boolean;\n}\n\nfunction SwapTokensInfo({\n  tokenIn, amountIn, tokenOut, amountOut, isError = false,\n}: OwnProps) {\n  function renderTokenInfo(token?: UserSwapToken | ApiSwapAsset, amount = '0', isReceived = false) {\n    const image = token?.image ?? ASSET_LOGO_PATHS[token?.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const amountWithSign = isReceived ? amount : -amount;\n    return (\n      <div className={styles.infoRow}>\n        <div className={styles.infoRowToken}>\n          <img\n            src={image}\n            alt={token?.symbol}\n            className={styles.infoRowIcon}\n          />\n          <div className={buildClassName(styles.infoRowText, styles.infoRowTextCenter)}>\n            <span className={styles.infoRowTitle}>{token?.name}</span>\n            <span className={styles.infoRowDescription}>{getBlockchainNetworkName(token?.blockchain)}</span>\n          </div>\n        </div>\n        <div className={buildClassName(styles.infoRowText, styles.infoRowTextRight, styles.infoRowTextCenter)}>\n          <span className={buildClassName(\n            styles.infoRowAmount,\n            isReceived && styles.infoRowAmountGreen,\n            isError && styles.infoRowAmountError,\n          )}\n          >\n            {formatCurrencyExtended(amountWithSign, token?.symbol ?? '')}\n          </span>\n          {!isReceived && renderCurrency(amountIn, amountOut, tokenIn, tokenOut)}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.infoBlock}>\n      {renderTokenInfo(tokenIn, amountIn)}\n      <div className={styles.infoSeparator}>\n        <i\n          className={buildClassName(\n            styles.infoSeparatorIcon,\n            isError && styles.infoSeparatorIconError,\n            isError ? 'icon-close' : 'icon-arrow-down',\n          )}\n          aria-hidden\n        />\n      </div>\n      {renderTokenInfo(tokenOut, amountOut, true)}\n    </div>\n  );\n}\n\nexport default memo(SwapTokensInfo);\n\nfunction renderCurrency(amountIn?: string, amountOut?: string, fromToken?: ApiSwapAsset, toToken?: ApiSwapAsset) {\n  const rate = getSwapRate(amountIn, amountOut, fromToken, toToken);\n  if (!rate) return undefined;\n\n  return (\n    <span className={styles.infoRowCurrency}>\n      {rate.firstCurrencySymbol} \n      <span className={styles.infoRowCurrencyValue}>\n        {rate.price}{' '}{rate.secondCurrencySymbol}\n      </span>\n    </span>\n  );\n}\n","import React, { memo, useMemo } from '../../lib/teact/teact';\n\nimport type { ApiHistoryList } from '../../api/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport Transition from '../ui/Transition';\n\ninterface OwnProps {\n  width: number;\n  height: number;\n  prices: ApiHistoryList;\n  selectedIndex: number;\n  className?: string;\n  imgClassName?: string;\n  onSelectIndex: (index: number) => void;\n  isUpdating?: boolean;\n}\n\nconst IS_SMOOTH = true;\nconst PATH_SMOOTHING = 0.0001;\nconst MIN_CHART_HEIGHT = 0.000000001;\n\nfunction TokenPriceChart({\n  width,\n  height,\n  prices,\n  selectedIndex,\n  className,\n  imgClassName,\n  onSelectIndex,\n  isUpdating,\n}: OwnProps) {\n  const lang = useLang();\n\n  const boundingPoints = useMemo(() => {\n    const priceValues = prices.map(([, price]) => price);\n    const min = Math.min(...priceValues);\n    const max = Math.max(...priceValues);\n\n    return {\n      width: prices.length - 1,\n      height: Math.max(MIN_CHART_HEIGHT, max - min),\n      min,\n    };\n  }, [prices]);\n\n  const points = useMemo(() => {\n    const scaleX = width / boundingPoints.width;\n    const scaleY = height / boundingPoints.height;\n\n    return prices.map(([, y], i) => ({ x: i * scaleX + 3, y: (y - boundingPoints.min) * scaleY + 3 }));\n  }, [boundingPoints.height, boundingPoints.min, boundingPoints.width, height, width, prices]);\n\n  function getBasisPoint(i: number) {\n    const indexesCount = points.length - 1;\n    const index = i < 0 ? 0 : i > indexesCount ? indexesCount : i;\n    const point = points[index];\n    const ratio = 1 - PATH_SMOOTHING;\n    const tangent = index / indexesCount;\n    const firstPoint = points[0];\n    const distance = {\n      x: points[indexesCount].x - firstPoint.x,\n      y: points[indexesCount].y - firstPoint.y,\n    };\n\n    return {\n      x: ratio * point.x + (1 - ratio) * (firstPoint.x + tangent * distance.x),\n      y: ratio * point.y + (1 - ratio) * (firstPoint.y + tangent * distance.y),\n    };\n  }\n\n  function getCurvePath(i: number) {\n    const pCurrent = getBasisPoint(i);\n    const pMinus1 = getBasisPoint(i - 1);\n    const pMinus2 = getBasisPoint(i - 2);\n\n    const x1 = (2 * pMinus2.x + pMinus1.x) / 3;\n    const y1 = (2 * pMinus2.y + pMinus1.y) / 3;\n    const x2 = (pMinus2.x + 2 * pMinus1.x) / 3;\n    const y2 = (pMinus2.y + 2 * pMinus1.y) / 3;\n    const x3 = (pMinus2.x + 4 * pMinus1.x + pCurrent.x) / 6;\n    const y3 = (pMinus2.y + 4 * pMinus1.y + pCurrent.y) / 6;\n\n    return `C ${x1} ${y1} ${x2} ${y2} ${x3} ${y3}`;\n  }\n\n  function getLinePath(point: { x: number; y: number }) {\n    return `L ${point.x} ${point.y}`;\n  }\n\n  function getPath() {\n    let d = points.reduce((acc, point, i) => {\n      const partialPath = IS_SMOOTH\n        ? getCurvePath(i)\n        : getLinePath(point);\n      return i === 0\n        ? `M ${point.x} ${point.y} `\n        : `${acc} ${partialPath} `;\n    }, '');\n\n    if (IS_SMOOTH) {\n      d += getCurvePath(points.length);\n      d += getLinePath(points[points.length - 1]);\n    }\n\n    return d;\n  }\n\n  function renderSvg() {\n    const activePoint = points[selectedIndex] || points[points.length - 1];\n\n    const svg = `<svg viewBox=\"0 0 ${width + 6} ${height + 6}\" height=\"${height + 6}\" width=\"${width + 6}\"\n        xmlns=\"http://www.w3.org/2000/svg\" style=\"transform: scale(1,-1)\">\n        <g fill=\"none\" stroke=\"white\">\n          <path stroke-linejoin=\"round\" stroke-width=\"1.5\" d=\"${getPath()}\" style=\"stroke-linecap: round\" />\n          <circle r=\"2.5\" fill=\"white\" cx=\"${activePoint.x}\" cy=\"${activePoint.y}\" />\n        </g>\n      </svg>`;\n\n    return `data:image/svg+xml;utf8,${(svg)}`;\n  }\n\n  function handleMouseMove(e: React.MouseEvent<HTMLDivElement> | React.TouchEvent<HTMLDivElement>) {\n    const { x: containerX, width: containerWidth } = e.currentTarget.getBoundingClientRect();\n    const { clientX } = 'touches' in e ? e.touches[0] : e;\n    const segmentHalfWidth = (containerWidth / points.length) / 2;\n    const x = clientX - containerX - segmentHalfWidth;\n    const nextIndex = Math.max(0, Math.min(Math.round(points.length * (x / containerWidth)), points.length - 1));\n\n    onSelectIndex(nextIndex);\n  }\n\n  function handleMouseLeave() {\n    onSelectIndex(-1);\n  }\n\n  return (\n    <div\n      className={className}\n      onMouseMove={handleMouseMove}\n      onMouseLeave={handleMouseLeave}\n      onTouchStart={handleMouseMove}\n      onTouchMove={handleMouseMove}\n      onTouchEnd={handleMouseLeave}\n      onTouchCancel={handleMouseLeave}\n    >\n      <Transition activeKey={isUpdating ? 1 : 0} name=\"semiFade\" shouldCleanup>\n        <img\n          src={renderSvg()}\n          className={buildClassName(imgClassName, isUpdating && 'glare-image')}\n          alt={lang('Currency History')}\n        />\n      </Transition>\n    </div>\n  );\n}\n\nexport default memo(TokenPriceChart);\n","import React, {\n  memo, useCallback, useEffect, useLayoutEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiBalanceBySlug, ApiBaseCurrency } from '../../api/types';\nimport {\n  type AssetPairs,\n  SettingsState,\n  type UserSwapToken,\n  type UserToken,\n} from '../../global/types';\n\nimport { ANIMATED_STICKER_MIDDLE_SIZE_PX, TON_BLOCKCHAIN } from '../../config';\nimport {\n  selectAvailableUserForSwapTokens,\n  selectCurrentAccountState,\n  selectPopularTokens,\n  selectSwapTokens,\n} from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport {\n  formatCurrency, getShortCurrencySymbol,\n} from '../../util/formatNumber';\nimport { isTonAddressOrDomain } from '../../util/isTonAddressOrDomain';\nimport { disableSwipeToClose, enableSwipeToClose } from '../../util/modalSwipeManager';\nimport getBlockchainNetworkIcon from '../../util/swap/getBlockchainNetworkIcon';\nimport getBlockchainNetworkName from '../../util/swap/getBlockchainNetworkName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useFocusAfterAnimation from '../../hooks/useFocusAfterAnimation';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useScrolledState from '../../hooks/useScrolledState';\nimport useSyncEffect from '../../hooks/useSyncEffect';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport styles from './TokenSelector.module.scss';\n\ntype Token = UserToken | UserSwapToken;\n\ntype TokenSortFactors = {\n  tickerExactMatch: number;\n  tickerMatchLength: number;\n  nameMatchLength: number;\n};\n\ninterface StateProps {\n  token?: Token;\n  userTokens?: Token[];\n  popularTokens?: Token[];\n  swapTokens?: UserSwapToken[];\n  tokenInSlug?: string;\n  pairsBySlug?: Record<string, AssetPairs>;\n  balancesBySlug?: ApiBalanceBySlug;\n  baseCurrency?: ApiBaseCurrency;\n  isLoading?: boolean;\n}\n\ninterface OwnProps {\n  isActive?: boolean;\n  shouldFilter?: boolean;\n  isInsideSettings?: boolean;\n  onClose: NoneToVoidFunction;\n  onBack: NoneToVoidFunction;\n  shouldHideMyTokens?: boolean;\n}\n\nenum SearchState {\n  Initial,\n  Search,\n  Loading,\n  Token,\n  Empty,\n}\n\nconst EMPTY_ARRAY: Token[] = [];\n\nfunction TokenSelector({\n  token,\n  userTokens,\n  swapTokens,\n  popularTokens,\n  shouldFilter,\n  isInsideSettings,\n  baseCurrency,\n  tokenInSlug,\n  pairsBySlug,\n  balancesBySlug,\n  isActive,\n  isLoading,\n  onBack,\n  onClose,\n  shouldHideMyTokens,\n}: OwnProps & StateProps) {\n  const {\n    importToken,\n    resetImportToken,\n    openSettingsWithState,\n    setSwapTokenIn,\n    setSwapTokenOut,\n    addToken,\n    addSwapToken,\n  } = getActions();\n  const lang = useLang();\n\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  // eslint-disable-next-line no-null/no-null\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n  // eslint-disable-next-line no-null/no-null\n  const searchInputRef = useRef<HTMLInputElement>(null);\n\n  useHistoryBack({\n    isActive,\n    onBack,\n  });\n\n  useEffect(() => {\n    if (!isActive) return undefined;\n\n    disableSwipeToClose();\n\n    return enableSwipeToClose;\n  }, [isActive]);\n\n  useFocusAfterAnimation(searchInputRef, !isActive);\n\n  const {\n    handleScroll: handleContentScroll,\n  } = useScrolledState();\n\n  const [searchValue, setSearchValue] = useState('');\n  const [isResetButtonVisible, setIsResetButtonVisible] = useState(false);\n  const [renderingKey, setRenderingKey] = useState(SearchState.Initial);\n  const [searchTokenList, setSearchTokenList] = useState<Token[]>([]);\n\n  // It is necessary to use useCallback instead of useLastCallback here\n  const filterTokens = useCallback((tokens: Token[]) => {\n    return filterAndSortTokens(tokens, tokenInSlug, pairsBySlug);\n  }, [pairsBySlug, tokenInSlug]);\n\n  const allUnimportedTonTokens = useMemo(() => {\n    return (swapTokens ?? EMPTY_ARRAY).filter(\n      (popularToken) => 'blockchain' in popularToken && popularToken.blockchain === TON_BLOCKCHAIN,\n    );\n  }, [swapTokens]);\n\n  const { userTokensWithFilter, popularTokensWithFilter, swapTokensWithFilter } = useMemo(() => {\n    const currentUserTokens = userTokens ?? EMPTY_ARRAY;\n    const currentSwapTokens = swapTokens ?? EMPTY_ARRAY;\n    const currentPopularTokens = popularTokens ?? EMPTY_ARRAY;\n\n    if (!shouldFilter) {\n      return {\n        userTokensWithFilter: currentUserTokens,\n        popularTokensWithFilter: currentPopularTokens,\n        swapTokensWithFilter: currentSwapTokens,\n      };\n    }\n\n    const filteredPopularTokens = filterTokens(currentPopularTokens);\n    const filteredUserTokens = filterTokens(currentUserTokens);\n    const filteredSwapTokens = filterTokens(currentSwapTokens);\n\n    return {\n      userTokensWithFilter: filteredUserTokens,\n      popularTokensWithFilter: filteredPopularTokens,\n      swapTokensWithFilter: filteredSwapTokens,\n    };\n  }, [filterTokens, popularTokens, shouldFilter, swapTokens, userTokens]);\n\n  const filteredTokenList = useMemo(() => {\n    const tokensToFilter = isInsideSettings ? allUnimportedTonTokens : swapTokensWithFilter;\n    const untrimmedSearchValue = searchValue.toLowerCase();\n    const lowerCaseSearchValue = untrimmedSearchValue.trim();\n\n    if (untrimmedSearchValue.length && !lowerCaseSearchValue.length) {\n      return [];\n    }\n\n    const filteredTokens = tokensToFilter.filter(({\n      name, symbol, keywords, isDisabled,\n    }) => {\n      if (isDisabled) {\n        return false;\n      }\n\n      const isName = name.toLowerCase().includes(lowerCaseSearchValue);\n      const isSymbol = symbol.toLowerCase().includes(lowerCaseSearchValue);\n      const isKeyword = keywords?.some((key) => key.toLowerCase().includes(lowerCaseSearchValue));\n\n      return isName || isSymbol || isKeyword;\n    }) ?? [];\n\n    const sortFactors = filteredTokens.reduce((acc, searchResultToken) => {\n      const factors = {\n        tickerExactMatch: 0,\n        tickerMatchLength: 0,\n        nameMatchLength: 0,\n      };\n\n      const tokenSymbol = searchResultToken.symbol.toLowerCase();\n      const tokenName = searchResultToken.name.toLowerCase();\n\n      if (tokenSymbol === lowerCaseSearchValue) {\n        factors.tickerExactMatch = 1;\n      }\n\n      if (tokenSymbol.includes(lowerCaseSearchValue)) {\n        factors.tickerMatchLength = lowerCaseSearchValue.length;\n      }\n\n      if (tokenName.includes(lowerCaseSearchValue)) {\n        factors.nameMatchLength = lowerCaseSearchValue.length;\n      }\n\n      acc[searchResultToken.slug] = factors;\n\n      return acc;\n    }, {} as Record<string, TokenSortFactors>);\n\n    return filteredTokens.sort((a, b) => {\n      const factorA = sortFactors[a.slug];\n      const factorB = sortFactors[b.slug];\n      const comparisonResult = compareTokens(factorA, factorB);\n      if (comparisonResult !== 0) return comparisonResult;\n\n      return Number(b.amount - a.amount);\n    });\n  }, [allUnimportedTonTokens, isInsideSettings, searchValue, swapTokensWithFilter]);\n\n  const resetSearch = () => {\n    setSearchValue('');\n  };\n\n  useSyncEffect(() => {\n    setIsResetButtonVisible(Boolean(searchValue.length));\n\n    const isValidAddress = isTonAddressOrDomain(searchValue);\n    let newRenderingKey = SearchState.Initial;\n\n    if (isLoading && isValidAddress) {\n      newRenderingKey = SearchState.Loading;\n    } else if (token && isValidAddress) {\n      newRenderingKey = SearchState.Token;\n    } else if (searchValue.length && filteredTokenList.length !== 0) {\n      newRenderingKey = SearchState.Search;\n    } else if (filteredTokenList.length === 0) {\n      newRenderingKey = SearchState.Empty;\n    }\n\n    setRenderingKey(newRenderingKey);\n\n    if (newRenderingKey !== SearchState.Initial) {\n      setSearchTokenList(filteredTokenList);\n    }\n  }, [searchTokenList.length, isLoading, searchValue, token, filteredTokenList]);\n\n  useEffect(() => {\n    if (isTonAddressOrDomain(searchValue)) {\n      importToken({ address: searchValue, isSwap: true });\n      setRenderingKey(SearchState.Loading);\n    } else {\n      resetImportToken();\n    }\n  }, [searchValue]);\n\n  useLayoutEffect(() => {\n    if (!isActive || !scrollContainerRef.current) return;\n\n    scrollContainerRef.current.scrollTop = 0;\n  }, [isActive]);\n\n  const handleTokenClick = useLastCallback((selectedToken: Token) => {\n    searchInputRef.current?.blur();\n\n    onBack();\n\n    const isTokenUnimported = balancesBySlug?.[selectedToken.slug] === undefined;\n\n    if (isInsideSettings && isTokenUnimported) {\n      addToken({ token: selectedToken as UserToken });\n    } else {\n      addSwapToken({ token: selectedToken as UserSwapToken });\n      const setToken = shouldFilter ? setSwapTokenOut : setSwapTokenIn;\n      setToken({ tokenSlug: selectedToken.slug });\n    }\n\n    resetSearch();\n  });\n\n  const handleOpenSettings = useLastCallback(() => {\n    onClose();\n    openSettingsWithState({ state: SettingsState.Assets });\n  });\n\n  function renderSearch() {\n    return (\n      <div className={styles.tokenSelectInputWrapper}>\n        <i className={buildClassName(styles.tokenSelectSearchIcon, 'icon-search')} aria-hidden />\n        <input\n          ref={searchInputRef}\n          name=\"token-search-modal\"\n          className={styles.tokenSelectInput}\n          onChange={(e) => setSearchValue(e.target.value)}\n          placeholder={lang('Name or Address...')}\n          value={searchValue}\n        />\n        <Transition\n          name=\"fade\"\n          activeKey={isResetButtonVisible ? 0 : 1}\n          className={styles.tokenSelectSearchResetWrapper}\n        >\n          {isResetButtonVisible && (\n            <button\n              type=\"button\"\n              className={styles.tokenSelectSearchReset}\n              aria-label={lang('Clear')}\n              onClick={resetSearch}\n            >\n              <i className={buildClassName(styles.tokenSelectSearchResetIcon, 'icon-close')} aria-hidden />\n            </button>\n          )}\n        </Transition>\n      </div>\n    );\n  }\n\n  function renderToken(currentToken: Token) {\n    const image = ASSET_LOGO_PATHS[\n      currentToken?.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS\n    ] ?? currentToken?.image;\n    const blockchain = 'blockchain' in currentToken ? currentToken.blockchain : TON_BLOCKCHAIN;\n\n    const isAvailable = !shouldFilter || currentToken.canSwap;\n    const descriptionText = isAvailable\n      ? getBlockchainNetworkName(blockchain)\n      : lang('Unavailable');\n    const handleClick = isAvailable ? () => handleTokenClick(currentToken) : undefined;\n\n    const tokenPrice = currentToken.price === 0\n      ? lang('No Price')\n      : formatCurrency(currentToken.price, shortBaseSymbol, undefined, true);\n\n    return (\n      <div\n        key={currentToken.slug}\n        className={buildClassName(\n          styles.tokenContainer,\n          !isAvailable && styles.tokenContainerDisabled,\n        )}\n        onClick={handleClick}\n      >\n        <div className={styles.tokenLogoContainer}>\n          <div className={styles.logoContainer}>\n            <img\n              src={image}\n              alt={currentToken.symbol}\n              className={buildClassName(\n                styles.tokenLogo,\n                !isAvailable && styles.tokenLogoDisabled,\n              )}\n            />\n            <img\n              className={styles.tokenNetworkLogo}\n              alt={blockchain}\n              src={getBlockchainNetworkIcon(blockchain)}\n            />\n            {!isAvailable && <span className={styles.tokenNetworkLogoDisabled} />}\n          </div>\n          <div className={styles.nameContainer}>\n            <span className={buildClassName(styles.tokenName, !isAvailable && styles.tokenTextDisabled)}>\n              {currentToken.name}\n            </span>\n            <span\n              className={buildClassName(\n                styles.tokenNetwork,\n                !isAvailable && styles.tokenTextDisabled,\n              )}\n            >\n              {descriptionText}\n            </span>\n          </div>\n        </div>\n        <div className={styles.tokenPriceContainer}>\n          <span className={buildClassName(\n            styles.tokenAmount,\n            !isAvailable && styles.tokenTextDisabled,\n          )}\n          >\n            {formatCurrency(toDecimal(currentToken.amount, currentToken?.decimals), currentToken.symbol)}\n          </span>\n          <span className={buildClassName(\n            styles.tokenValue,\n            !isAvailable && styles.tokenTextDisabled,\n          )}\n          >\n            {tokenPrice}\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  function renderTokenGroup(tokens: Token[], title: string, shouldShowSettings?: boolean) {\n    return (\n      <div className={styles.tokenGroupContainer}>\n        <div className={styles.tokenGroupHeader}>\n          <span className={styles.tokenGroupTitle}>{title}</span>\n          {shouldShowSettings && (\n            <span\n              className={styles.tokenGroupAdditionalTitle}\n              onClick={handleOpenSettings}\n            >\n              {lang('Settings')}\n            </span>\n          )}\n        </div>\n        {tokens.map(renderToken)}\n      </div>\n    );\n  }\n\n  function renderAllTokens(tokens: Token[]) {\n    return (\n      <div className={styles.tokenGroupContainer}>\n        {tokens.map(renderToken)}\n      </div>\n    );\n  }\n\n  function renderTokenSkeleton() {\n    return (\n      <div className={buildClassName(styles.tokenContainer, styles.tokenContainerDisabled)}>\n        <div className={styles.tokenLogoContainer}>\n          <div className={styles.logoContainer}>\n            <div className={styles.tokenLogoSkeleton} />\n            <div className={styles.tokenNetworkLogoSkeleton} />\n          </div>\n          <div className={styles.nameContainer}>\n            <span className={styles.tokenNameSkeleton} />\n            <span className={styles.tokenValueSkeleton} />\n          </div>\n        </div>\n        <div className={styles.tokenPriceContainer}>\n          <span className={buildClassName(styles.tokenNameSkeleton, styles.rotateSkeleton)} />\n          <span className={styles.tokenValueSkeleton} />\n        </div>\n      </div>\n    );\n  }\n\n  function renderNotFound(shouldPlay: boolean) {\n    return (\n      <div className={styles.tokenNotFound}>\n        <AnimatedIconWithPreview\n          play={shouldPlay}\n          tgsUrl={ANIMATED_STICKERS_PATHS.noData}\n          previewUrl={ANIMATED_STICKERS_PATHS.noDataPreview}\n          size={ANIMATED_STICKER_MIDDLE_SIZE_PX}\n          noLoop={false}\n          nonInteractive\n        />\n        <span className={styles.tokenNotFoundTitle}>{lang('Not Found')}</span>\n        <span className={styles.tokenNotFoundDesc}>{lang('Try another keyword or address.')}</span>\n      </div>\n    );\n  }\n\n  function renderSearchResults(tokenToImport?: Token) {\n    if (tokenToImport) {\n      return (\n        <div className={styles.tokenGroupContainer}>\n          {renderToken(tokenToImport)}\n        </div>\n      );\n    }\n\n    return (\n      <>\n        {renderTokenSkeleton()}\n        {renderTokenSkeleton()}\n        {renderTokenSkeleton()}\n        {renderTokenSkeleton()}\n        {renderTokenSkeleton()}\n      </>\n    );\n  }\n\n  function renderTokenGroups() {\n    return (\n      <>\n        {!shouldHideMyTokens && renderTokenGroup(userTokensWithFilter, lang('MY'), true)}\n        {renderTokenGroup(popularTokensWithFilter, lang('POPULAR'))}\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isContentActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case SearchState.Initial:\n        return renderTokenGroups();\n      case SearchState.Loading:\n        return renderSearchResults();\n      case SearchState.Search:\n        return renderAllTokens(searchTokenList);\n      case SearchState.Token:\n        return renderSearchResults(token);\n      case SearchState.Empty:\n        return renderNotFound(isContentActive);\n    }\n  }\n\n  return (\n    <>\n      <ModalHeader title={lang('Select Token')} onBackButtonClick={onBack} onClose={onClose} />\n      {renderSearch()}\n\n      <div\n        className={buildClassName(\n          styles.tokenSelectContent,\n          'custom-scroll',\n        )}\n        onScroll={handleContentScroll}\n        ref={scrollContainerRef}\n      >\n        <Transition\n          name=\"fade\"\n          activeKey={renderingKey}\n        >\n          {renderContent}\n        </Transition>\n      </div>\n    </>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const balances = selectCurrentAccountState(global)?.balances;\n  const { isLoading, token } = global.settings.importToken ?? {};\n  const { pairs, tokenInSlug } = global.currentSwap ?? {};\n\n  const userTokens = selectAvailableUserForSwapTokens(global);\n  const popularTokens = selectPopularTokens(global);\n  const swapTokens = selectSwapTokens(global);\n  const { baseCurrency } = global.settings;\n\n  return {\n    isLoading,\n    token,\n    userTokens,\n    popularTokens,\n    swapTokens,\n    tokenInSlug,\n    baseCurrency,\n    pairsBySlug: pairs?.bySlug,\n    balancesBySlug: balances?.bySlug,\n  };\n})(TokenSelector));\n\nfunction filterAndSortTokens(tokens: Token[], tokenInSlug?: string, pairsBySlug?: Record<string, AssetPairs>) {\n  if (!tokens.length || !tokenInSlug) return [];\n\n  return tokens.map((token) => {\n    const canSwap = Boolean(pairsBySlug?.[tokenInSlug]?.[token.slug]);\n    return { ...token, canSwap };\n  }).sort((a, b) => Number(b.canSwap) - Number(a.canSwap));\n}\n\nfunction compareTokens(a: TokenSortFactors, b: TokenSortFactors) {\n  if (a.tickerExactMatch !== b.tickerExactMatch) {\n    return b.tickerExactMatch - a.tickerExactMatch;\n  }\n  if (a.tickerMatchLength !== b.tickerMatchLength) {\n    return b.tickerMatchLength - a.tickerMatchLength;\n  }\n  return b.nameMatchLength - a.nameMatchLength;\n}\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { DEFAULT_DECIMAL_PLACES, TON_SYMBOL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency, formatCurrencyExtended } from '../../util/formatNumber';\n\nimport styles from './TransactionAmount.module.scss';\n\ninterface OwnProps {\n  amount: bigint;\n  decimals?: number;\n  isIncoming?: boolean;\n  isScam?: boolean;\n  tokenSymbol?: string;\n  from?: number;\n  to?: number;\n  status?: string;\n}\n\nfunction TransactionAmount({\n  isIncoming,\n  isScam,\n  amount,\n  decimals,\n  tokenSymbol,\n  from,\n  to,\n  status,\n}: OwnProps) {\n  const amountString = toDecimal(amount, decimals);\n  const [wholePart, fractionPart] = formatCurrencyExtended(amountString, '', false, decimals).split('.');\n\n  const withBalanceChange = from !== undefined && to !== undefined;\n\n  function renderAmount() {\n    return (\n      <div className={buildClassName(\n        styles.amount,\n        status && styles.withStatus,\n        isIncoming && !isScam && styles.operationPositive,\n        isScam && styles.operationScam,\n      )}\n      >\n        {wholePart.trim().replace('\\u202F', '')}\n        {fractionPart && <span className={styles.amountFraction}>.{fractionPart.trim()}</span>}\n        <span className={styles.amountSymbol}>{tokenSymbol || TON_SYMBOL}</span>\n\n        {withBalanceChange && (\n          <div className={styles.balanceChange}>\n            {formatCurrency(from, '', DEFAULT_DECIMAL_PLACES)}\n            &nbsp;&rarr;&nbsp;\n            {formatCurrency(to, '', DEFAULT_DECIMAL_PLACES)}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  if (!status) {\n    return renderAmount();\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      {renderAmount()}\n      <div className={buildClassName(\n        styles.status,\n        isIncoming && !isScam && styles.operationPositive,\n        isScam && styles.operationScam,\n      )}\n      >\n        {status}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(TransactionAmount);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { DEFAULT_DECIMAL_PLACES, TON_SYMBOL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency, formatCurrencyExtended } from '../../util/formatNumber';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\n\nimport styles from './TransferResult.module.scss';\n\ninterface OwnProps {\n  playAnimation?: boolean;\n  color?: 'green' | 'purple';\n  noSign?: boolean;\n  amount?: bigint;\n  tokenSymbol?: string;\n  decimals?: number;\n  precision?: number;\n  balance?: bigint;\n  operationAmount?: bigint;\n  fee?: bigint;\n  firstButtonText?: string;\n  secondButtonText?: string;\n  onFirstButtonClick?: NoneToVoidFunction;\n  onSecondButtonClick?: NoneToVoidFunction;\n}\n\nfunction TransferResult({\n  playAnimation,\n  amount = 0n,\n  tokenSymbol = TON_SYMBOL,\n  decimals = DEFAULT_DECIMAL_PLACES,\n  precision = 2,\n  noSign,\n  color,\n  balance,\n  operationAmount,\n  fee,\n  firstButtonText,\n  secondButtonText,\n  onFirstButtonClick,\n  onSecondButtonClick,\n}: OwnProps) {\n  const withBalanceChange = Boolean(balance !== undefined && operationAmount);\n  let finalBalance = withBalanceChange ? balance! + operationAmount! : 0n;\n  if (finalBalance && fee && tokenSymbol === TON_SYMBOL) {\n    finalBalance -= fee;\n  }\n\n  const amountString = toDecimal(amount, decimals);\n  const [wholePart, fractionPart] = formatCurrencyExtended(amountString, '', noSign, decimals).split('.');\n\n  function renderButtons() {\n    if (!firstButtonText && !secondButtonText) {\n      return undefined;\n    }\n\n    return (\n      <div className={styles.buttons}>\n        {firstButtonText && (\n          <Button className={styles.button} onClick={onFirstButtonClick}>{firstButtonText}</Button>\n        )}\n        {secondButtonText && (\n          <Button className={styles.button} onClick={onSecondButtonClick}>{secondButtonText}</Button>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <AnimatedIconWithPreview\n        play={playAnimation}\n        noLoop={false}\n        nonInteractive\n        className={styles.sticker}\n        tgsUrl={ANIMATED_STICKERS_PATHS.thumbUp}\n        previewUrl={ANIMATED_STICKERS_PATHS.thumbUpPreview}\n      />\n\n      {Boolean(withBalanceChange) && (\n        <div className={styles.balanceChange}>\n          {formatCurrency(toDecimal(balance!, decimals), tokenSymbol, precision)}\n          &nbsp;&rarr;&nbsp;\n          {formatCurrency(toDecimal(finalBalance!, decimals), tokenSymbol, precision)}\n        </div>\n      )}\n\n      <div className={buildClassName(styles.amount, color && styles[`amount_${color}`])}>\n        {wholePart.trim().replace('\\u202F', '').replace('-', '')}\n        {fractionPart && <span className={styles.amountFraction}>.{fractionPart.trim()}</span>}\n        <span className={styles.amountSymbol}>{tokenSymbol}</span>\n      </div>\n\n      {renderButtons()}\n    </>\n  );\n}\n\nexport default memo(TransferResult);\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiTonConnectProof } from '../../api/tonConnect/types';\nimport type { ApiDapp, ApiDappPermissions } from '../../api/types';\nimport type { Account, HardwareConnectState } from '../../global/types';\nimport { DappConnectState } from '../../global/types';\n\nimport { selectNetworkAccounts } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { shortenAddress } from '../../util/shortenAddress';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\n\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\nimport DappInfo from './DappInfo';\nimport DappPassword from './DappPassword';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Dapp.module.scss';\n\ninterface StateProps {\n  state?: DappConnectState;\n  hasConnectRequest: boolean;\n  dapp?: ApiDapp;\n  error?: string;\n  requiredPermissions?: ApiDappPermissions;\n  requiredProof?: ApiTonConnectProof;\n  currentAccountId: string;\n  accounts?: Record<string, Account>;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n}\n\nconst HARDWARE_ACCOUNT_ADDRESS_SHIFT = 3;\nconst ACCOUNT_ADDRESS_SHIFT = 4;\nconst ACCOUNT_ADDRESS_SHIFT_END = 4;\n\nfunction DappConnectModal({\n  state,\n  hasConnectRequest,\n  dapp,\n  error,\n  requiredPermissions,\n  requiredProof,\n  accounts,\n  currentAccountId,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n}: StateProps) {\n  const {\n    submitDappConnectRequestConfirm,\n    submitDappConnectRequestConfirmHardware,\n    cancelDappConnectRequestConfirm,\n    setDappConnectRequestState,\n  } = getActions();\n\n  const lang = useLang();\n  const [selectedAccount, setSelectedAccount] = useState<string>(currentAccountId);\n  const [isConfirmOpen, openConfirm, closeConfirm] = useFlag(false);\n\n  const isOpen = hasConnectRequest;\n\n  const { renderingKey, nextKey } = useModalTransitionKeys(state ?? 0, isOpen);\n\n  const iterableAccounts = useMemo(() => Object.entries(accounts || {}), [accounts]);\n  const isLoading = dapp === undefined;\n\n  useEffect(() => {\n    if (!currentAccountId) return;\n\n    setSelectedAccount(currentAccountId);\n  }, [currentAccountId]);\n\n  const shouldRenderAccounts = useMemo(() => {\n    return accounts && Object.keys(accounts).length > 1;\n  }, [accounts]);\n  const { iconUrl, name, url } = dapp || {};\n\n  const handleSubmit = useLastCallback(() => {\n    closeConfirm();\n    const { isHardware } = accounts![selectedAccount];\n    const { isPasswordRequired, isAddressRequired } = requiredPermissions || {};\n\n    if (!requiredProof || (!isHardware && isAddressRequired && !isPasswordRequired)) {\n      submitDappConnectRequestConfirm({\n        accountId: selectedAccount,\n      });\n\n      cancelDappConnectRequestConfirm();\n    } else if (isHardware) {\n      setDappConnectRequestState({ state: DappConnectState.ConnectHardware });\n    } else {\n      // The confirmation window must be closed before the password screen is displayed\n      requestAnimationFrame(() => {\n        setDappConnectRequestState({ state: DappConnectState.Password });\n      });\n    }\n  });\n\n  const handlePasswordCancel = useLastCallback(() => {\n    setDappConnectRequestState({ state: DappConnectState.Info });\n  });\n\n  const submitDappConnectRequestHardware = useLastCallback(() => {\n    submitDappConnectRequestConfirmHardware({\n      accountId: selectedAccount,\n    });\n  });\n\n  const handlePasswordSubmit = useLastCallback((password: string) => {\n    submitDappConnectRequestConfirm({\n      accountId: selectedAccount,\n      password,\n    });\n  });\n\n  function renderAccount(accountId: string, address: string, title?: string, isHardware?: boolean) {\n    const isActive = accountId === selectedAccount;\n    const onClick = isActive || isLoading ? undefined : () => setSelectedAccount(accountId);\n    const fullClassName = buildClassName(\n      styles.account,\n      isActive && styles.account_current,\n      isLoading && styles.account_disabled,\n    );\n\n    return (\n      <div\n        key={accountId}\n        className={fullClassName}\n        aria-label={lang('Switch Account')}\n        onClick={onClick}\n      >\n        {title && <span className={styles.accountName}>{title}</span>}\n        <div className={styles.accountFooter}>\n          {isHardware && <i className={buildClassName('icon-ledger', isHardware && styles.iconLedger)} aria-hidden />}\n          <span className={styles.accountAddress}>\n            {shortenAddress(\n              address,\n              isHardware ? HARDWARE_ACCOUNT_ADDRESS_SHIFT : ACCOUNT_ADDRESS_SHIFT,\n              ACCOUNT_ADDRESS_SHIFT_END,\n            )}\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  function renderAccounts() {\n    const fullClassName = buildClassName(\n      styles.accounts,\n      'custom-scroll',\n      iterableAccounts.length === 1 && styles.accounts_single,\n      iterableAccounts.length === 2 && styles.accounts_two,\n    );\n    return (\n      <>\n        <p className={styles.label}>{lang('Select wallet to use on this dapp')}</p>\n        <div className={fullClassName}>\n          {iterableAccounts.map(\n            ([accountId, { title, address, isHardware }]) => renderAccount(accountId, address, title, isHardware),\n          )}\n        </div>\n      </>\n    );\n  }\n\n  function renderDappInfo() {\n    return (\n      <>\n        <ModalHeader title={lang('Connect Dapp')} onClose={cancelDappConnectRequestConfirm} />\n\n        <div className={modalStyles.transitionContent}>\n          <DappInfo\n            iconUrl={iconUrl}\n            name={name}\n            url={url}\n            className={buildClassName(styles.dapp_first, styles.dapp_push)}\n          />\n          {shouldRenderAccounts && renderAccounts()}\n\n          <div className={styles.footer}>\n            <Button\n              isPrimary\n              onClick={openConfirm}\n            >\n              {lang('Connect')}\n            </Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderWaitForConnection() {\n    return (\n      <>\n        <ModalHeader title={lang('Connect Dapp')} onClose={cancelDappConnectRequestConfirm} />\n        <div className={modalStyles.transitionContent}>\n          <div className={buildClassName(styles.dappInfoSkeleton, styles.dapp_first)}>\n            <div className={styles.dappInfoIconSkeleton} />\n            <div className={styles.dappInfoTextSkeleton}>\n              <div className={styles.nameSkeleton} />\n              <div className={styles.descSkeleton} />\n            </div>\n          </div>\n          <div className={styles.accountWrapperSkeleton}>\n            {shouldRenderAccounts && renderAccounts()}\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderDappInfoWithSkeleton() {\n    return (\n      <Transition name=\"semiFade\" activeKey={isLoading ? 0 : 1} slideClassName={styles.skeletonTransitionWrapper}>\n        {isLoading ? renderWaitForConnection() : renderDappInfo()}\n      </Transition>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case DappConnectState.Info:\n        return renderDappInfoWithSkeleton();\n      case DappConnectState.Password:\n        return (\n          <DappPassword\n            isActive={isActive}\n            error={error}\n            onSubmit={handlePasswordSubmit}\n            onCancel={handlePasswordCancel}\n            onClose={cancelDappConnectRequestConfirm}\n          />\n        );\n      case DappConnectState.ConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isTonAppConnected={isTonAppConnected}\n            isLedgerConnected={isLedgerConnected}\n            onConnected={submitDappConnectRequestHardware}\n            onClose={handlePasswordCancel}\n          />\n        );\n      case DappConnectState.ConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            isActive={isActive}\n            text={lang('Please confirm operation on your Ledger')}\n            error={error}\n            onTryAgain={submitDappConnectRequestHardware}\n            onClose={handlePasswordCancel}\n          />\n        );\n    }\n  }\n\n  return (\n    <>\n      <Modal\n        isOpen={isOpen}\n        dialogClassName={styles.modalDialog}\n        nativeBottomSheetKey=\"dapp-connect\"\n        forceFullNative={renderingKey === DappConnectState.Password}\n        onClose={cancelDappConnectRequestConfirm}\n        onCloseAnimationEnd={cancelDappConnectRequestConfirm}\n      >\n        <Transition\n          name={resolveModalTransitionName()}\n          className={buildClassName(modalStyles.transition, 'custom-scroll')}\n          slideClassName={modalStyles.transitionSlide}\n          activeKey={renderingKey}\n          nextKey={nextKey}\n        >\n          {renderContent}\n        </Transition>\n      </Modal>\n      <Modal\n        isOpen={isConfirmOpen}\n        isCompact\n        title={lang('Dapp Permissions')}\n        onClose={closeConfirm}\n      >\n        <div className={styles.description}>\n          {lang('$dapp_can_view_balance', {\n            dappname: <strong>{name}</strong>,\n          })}\n        </div>\n        <div className={styles.buttons}>\n          <Button onClick={closeConfirm} className={styles.button}>{lang('Cancel')}</Button>\n          <Button isPrimary onClick={handleSubmit} className={styles.button}>{lang('Connect')}</Button>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accounts = selectNetworkAccounts(global);\n  const hasConnectRequest = global.dappConnectRequest?.state !== undefined;\n\n  const {\n    state, dapp, error, accountId, permissions, proof,\n  } = global.dappConnectRequest || {};\n\n  const currentAccountId = accountId || global.currentAccountId!;\n\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    state,\n    hasConnectRequest,\n    dapp,\n    error,\n    requiredPermissions: permissions,\n    requiredProof: proof,\n    currentAccountId,\n    accounts,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  };\n})(DappConnectModal));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\n\nimport styles from './Dapp.module.scss';\n\ninterface OwnProps {\n  iconUrl?: string;\n  name?: string;\n  url?: string;\n  origin?: string;\n  onDisconnect?: (origin: string) => void;\n  className?: string;\n}\n\nfunction DappInfo({\n  iconUrl,\n  name,\n  url,\n  origin,\n  onDisconnect,\n  className,\n}: OwnProps) {\n  const lang = useLang();\n\n  const shouldShowDisconnect = Boolean(onDisconnect && origin);\n\n  const handleDisconnect = useLastCallback(() => {\n    onDisconnect!(origin!);\n  });\n\n  function renderIcon() {\n    if (iconUrl) {\n      return (\n        <img src={iconUrl} alt={lang('Logo')} className={styles.dappLogo} />\n      );\n    }\n\n    return (\n      <div className={buildClassName(styles.dappLogo, styles.dappLogo_icon)}>\n        <i className={buildClassName(styles.dappIcon, 'icon-laptop')} aria-hidden />\n      </div>\n    );\n  }\n\n  return (\n    <div className={buildClassName(styles.dapp, className)}>\n      {renderIcon()}\n      <div className={styles.dappInfo}>\n        <span className={styles.dappName}>{name}</span>\n        <span className={styles.dappUrl}>{url && new URL(url).host}</span>\n      </div>\n      {shouldShowDisconnect && (\n        <Button\n          isSmall\n          isPrimary\n          className={styles.dappDisconnect}\n          onClick={handleDisconnect}\n        >\n          {lang('Disconnect')}\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default memo(DappInfo);\n","import React, {\n  memo,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiDapp } from '../../api/types';\nimport { type Account, TransferState, type UserToken } from '../../global/types';\n\nimport renderText from '../../global/helpers/renderText';\nimport { selectNetworkAccounts } from '../../global/selectors';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport DappInfo from './DappInfo';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Dapp.module.scss';\n\ninterface OwnProps {\n  tonToken: UserToken;\n}\n\ninterface StateProps {\n  currentAccount?: Account;\n  dapp?: ApiDapp;\n}\n\nfunction DappLedgerWarning({\n  tonToken,\n  currentAccount,\n  dapp,\n}: OwnProps & StateProps) {\n  const { cancelDappTransfer, setDappTransferScreen } = getActions();\n\n  const lang = useLang();\n\n  const handleAgree = useLastCallback(() => {\n    setDappTransferScreen({ state: TransferState.Initial });\n  });\n\n  function renderDapp() {\n    return (\n      <div className={styles.transactionDirection}>\n        <div className={styles.transactionAccount}>\n          <div className={styles.accountTitle}>{currentAccount?.title}</div>\n          <div className={styles.accountBalance}>{formatCurrency(toDecimal(tonToken.amount), tonToken.symbol)}</div>\n        </div>\n\n        <DappInfo\n          iconUrl={dapp?.iconUrl}\n          name={dapp?.name}\n          url={dapp?.url}\n          className={styles.transactionDapp}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className={modalStyles.transitionContent}>\n      {renderDapp()}\n\n      <div className={styles.descriptionContent}>\n        <span>{renderText(lang('$dapp_ledger_warning1'))}</span>\n        <span>{renderText(lang('$dapp_ledger_warning2'))}</span>\n      </div>\n\n      <div className={modalStyles.buttons}>\n        <Button className={modalStyles.button} onClick={cancelDappTransfer}>{lang('Cancel')}</Button>\n        <Button\n          isPrimary\n          isSubmit\n          className={modalStyles.button}\n          onClick={handleAgree}\n        >\n          {lang('Agree')}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const { dapp } = global.currentDappTransfer;\n  const accounts = selectNetworkAccounts(global);\n\n  return {\n    currentAccount: accounts?.[global.currentAccountId!],\n    dapp,\n  };\n})(DappLedgerWarning));\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { IS_CAPACITOR } from '../../config';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\n\ninterface OwnProps {\n  isActive: boolean;\n  error?: string;\n  onSubmit: (password: string) => void;\n  onCancel: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nfunction DappPassword({\n  isActive,\n  error,\n  onSubmit,\n  onCancel,\n  onClose,\n}: OwnProps) {\n  const { clearDappConnectRequestError } = getActions();\n\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: onCancel,\n  });\n\n  return (\n    <>\n      {!IS_CAPACITOR && <ModalHeader title={lang('Enter Password')} onClose={onClose} />}\n      <PasswordForm\n        isActive={isActive}\n        error={error}\n        withCloseButton={IS_CAPACITOR}\n        submitLabel={lang('Connect')}\n        cancelLabel={lang('Cancel')}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        onUpdate={clearDappConnectRequestError}\n      />\n    </>\n  );\n}\n\nexport default memo(DappPassword);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { ApiDappTransfer, ApiParsedPayload } from '../../api/types';\nimport type { UserToken } from '../../global/types';\n\nimport { TON_SYMBOL } from '../../config';\nimport { BIGINT_PREFIX } from '../../util/bigint';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency, formatCurrencySimple } from '../../util/formatNumber';\nimport { DEFAULT_DECIMALS, NFT_TRANSFER_TONCOIN_AMOUNT } from '../../api/blockchains/ton/constants';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\n\nimport AmountWithFeeTextField from '../ui/AmountWithFeeTextField';\nimport InteractiveTextField from '../ui/InteractiveTextField';\n\nimport styles from './Dapp.module.scss';\n\ninterface OwnProps {\n  tonToken: UserToken;\n  transaction: ApiDappTransfer;\n  fee?: bigint;\n  tokens?: UserToken[];\n}\n\nconst FRACTION_DIGITS = 2;\n\nfunction DappTransfer({\n  tonToken,\n  transaction,\n  fee,\n  tokens,\n}: OwnProps) {\n  const lang = useLang();\n  const [isPayloadExpanded, expandPayload] = useFlag(false);\n  const isNftTransfer = transaction.payload?.type === 'nft:transfer';\n  const shouldRenderPayloadWarning = transaction.payload?.type === 'unknown';\n\n  function renderFeeForNft() {\n    return (\n      <>\n        <div className={styles.label}>{lang('Fee')}</div>\n        <div className={styles.payloadField}>\n           {formatCurrencySimple(NFT_TRANSFER_TONCOIN_AMOUNT + (fee ?? 0n), '')}\n          <span className={styles.currencySymbol}>{TON_SYMBOL}</span>\n        </div>\n      </>\n    );\n  }\n\n  function renderPayload(payload: ApiParsedPayload, rawPayload?: string) {\n    switch (payload.type) {\n      case 'comment':\n        return payload.comment;\n\n      case 'tokens:transfer-non-standard':\n      case 'tokens:transfer': {\n        const {\n          slug: tokenSlug,\n          amount: tokenAmount,\n          destination,\n        } = payload;\n        const token = tokens?.find(({ slug }) => slug === tokenSlug);\n        const decimals = token?.decimals ?? DEFAULT_DECIMALS;\n        const symbol = token?.symbol ?? '';\n\n        return lang('$dapp_transfer_tokens_payload', {\n          amount: formatCurrency(toDecimal(tokenAmount, decimals), symbol, FRACTION_DIGITS),\n          address: destination,\n        });\n      }\n\n      case 'tokens:burn': {\n        const { slug: tokenSlug, amount } = payload;\n        const token = tokens?.find(({ slug }) => slug === tokenSlug);\n        const decimals = token?.decimals ?? DEFAULT_DECIMALS;\n        const symbol = token?.symbol ?? '';\n\n        return lang('$dapp_transfer_tokens_burn', {\n          amount: formatCurrency(toDecimal(amount, decimals), symbol, FRACTION_DIGITS),\n        });\n      }\n\n      case 'dns:change-record': {\n        const { record } = payload;\n        const category = record.type !== 'unknown' ? record.type : record.key;\n\n        if (record.type === 'wallet' && record.value) {\n          return lang('$dapp_dns_set_wallet_payload', {\n            address: record.value,\n          });\n        } else if (record.type === 'wallet' && !record.value) {\n          return lang('$dapp_dns_delete_wallet_payload');\n        } else if (record.value) {\n          return lang('$dapp_dns_change_record_payload', {\n            category,\n            value: record.value,\n          });\n        } else {\n          return lang('$dapp_dns_delete_record_payload', {\n            category,\n          });\n        }\n      }\n\n      case 'token-bridge:pay-swap': {\n        return lang('$dapp_token_bridge_pay_swap_payload', {\n          swapId: payload.swapId,\n        });\n      }\n\n      case 'liquid-staking:deposit': {\n        return lang('$dapp_liquid_staking_deposit_payload');\n      }\n\n      case 'liquid-staking:vote': {\n        return lang('$dapp_liquid_staking_vote_payload', {\n          votingAddress: payload.votingAddress,\n          vote: payload.vote,\n        });\n      }\n\n      case 'single-nominator:change-validator': {\n        return lang('$dapp_single_nominator_change_validator_payload', {\n          address: payload.address,\n        });\n      }\n\n      case 'single-nominator:withdraw': {\n        return lang('$dapp_single_nominator_withdraw_payload', {\n          amount: toDecimal(payload.amount),\n        });\n      }\n\n      case 'vesting:add-whitelist': {\n        return lang('$dapp_vesting_add_whitelist_payload', {\n          address: payload.address,\n        });\n      }\n\n      case 'unknown': {\n        return rawPayload;\n      }\n\n      default:\n        return JSON.stringify(payload, undefined, 2)\n          .replace(`/\"${BIGINT_PREFIX}/g`, '\"');\n    }\n  }\n\n  function renderPayloadLabel(payload: ApiParsedPayload) {\n    switch (payload.type) {\n      case 'comment':\n        return lang('Comment');\n      case 'unknown':\n        return lang('Payload');\n      default:\n        return lang('Nested Transaction');\n    }\n  }\n\n  return (\n    <>\n      <p className={styles.label}>{lang('Receiving Address')}</p>\n      <InteractiveTextField\n        address={transaction.toAddress}\n        isScam={transaction.isScam}\n        className={buildClassName(styles.dataField, styles.receivingAddress)}\n        copyNotification={lang('Address was copied!')}\n      />\n      {isNftTransfer ? renderFeeForNft() : (\n        <AmountWithFeeTextField\n          label={lang('Amount')}\n          amount={toDecimal(transaction.amount)}\n          symbol={tonToken.symbol}\n          fee={fee ? toDecimal(fee, tonToken.decimals) : undefined}\n          className={styles.dataField}\n          labelClassName={styles.label}\n        />\n      )}\n\n      {transaction.payload && !isNftTransfer && (\n        <>\n          <p className={styles.label}>{renderPayloadLabel(transaction.payload)}</p>\n          <div className={buildClassName(styles.payloadField, isPayloadExpanded && styles.payloadField_expanded)}>\n            {renderPayload(transaction.payload, transaction.rawPayload)}\n            {!isPayloadExpanded && (\n              <div className={styles.payloadFieldExpand} onClick={expandPayload}>\n                {lang('View')}\n              </div>\n            )}\n          </div>\n          {shouldRenderPayloadWarning && (\n            <div className={styles.warningForPayload}>{lang('$hardware_payload_warning')}</div>\n          )}\n        </>\n      )}\n    </>\n  );\n}\n\nexport default memo(DappTransfer);\n","import React, {\n  memo,\n  useMemo,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiDapp, ApiDappTransfer } from '../../api/types';\nimport type { Account, UserToken } from '../../global/types';\n\nimport { SHORT_FRACTION_DIGITS } from '../../config';\nimport { Big } from '../../lib/big.js';\nimport { selectCurrentAccountTokens, selectNetworkAccounts } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport { shortenAddress } from '../../util/shortenAddress';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport useLang from '../../hooks/useLang';\n\nimport NftInfo from '../transfer/NftInfo';\nimport Button from '../ui/Button';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport DappInfo from './DappInfo';\nimport DappTransfer from './DappTransfer';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Dapp.module.scss';\n\nimport scamImg from '../../assets/scam.svg';\n\ninterface OwnProps {\n  tonToken: UserToken;\n  onClose?: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  currentAccount?: Account;\n  transactions?: ApiDappTransfer[];\n  fee?: bigint;\n  dapp?: ApiDapp;\n  isLoading?: boolean;\n  tokens?: UserToken[];\n}\n\nfunction DappTransferInitial({\n  tonToken,\n  currentAccount,\n  transactions,\n  fee,\n  dapp,\n  isLoading,\n  tokens,\n  onClose,\n}: OwnProps & StateProps) {\n  const { showDappTransfer, submitDappTransferConfirm } = getActions();\n\n  const lang = useLang();\n  const isSingleTransaction = transactions?.length === 1;\n  const renderingTransactions = useCurrentOrPrev(transactions, true);\n  const isNftTransfer = renderingTransactions?.[0].payload?.type === 'nft:transfer';\n  const nft = isNftTransfer && 'nft' in renderingTransactions![0].payload!\n    ? renderingTransactions[0].payload.nft\n    : undefined;\n  const hasScamAddresses = useMemo(() => {\n    return renderingTransactions?.some(({ isScam }) => isScam);\n  }, [renderingTransactions]);\n\n  const totalAmountText = useMemo(() => {\n    const feeDecimal = fee ? toDecimal(fee) : '0';\n    let tonAmount = Big(feeDecimal);\n    let cost = 0;\n\n    const bySymbol: Record<string, Big> = (renderingTransactions ?? []).reduce((acc, transaction) => {\n      const { payload, amount } = transaction;\n      const amountDecimal = toDecimal(amount);\n\n      tonAmount = tonAmount.plus(amountDecimal);\n      cost += Number(amountDecimal) * tonToken.priceUsd ?? 0;\n\n      if (payload?.type === 'tokens:transfer' || payload?.type === 'tokens:transfer-non-standard') {\n        const { slug: tokenSlug, amount: tokenAmount } = payload;\n\n        const token = tokens?.find(({ slug }) => tokenSlug === slug);\n        if (token) {\n          const { decimals, symbol, priceUsd } = token;\n          const tokenAmountDecimal = toDecimal(tokenAmount, decimals);\n\n          acc[symbol] = (acc[symbol] ?? Big(0)).plus(tokenAmountDecimal);\n          cost += Number(tokenAmountDecimal) * priceUsd;\n        }\n      }\n\n      return acc;\n    }, {} as Record<string, Big>);\n\n    const text = Object.entries(bySymbol).reduce((acc, [symbol, amountBig]) => {\n      return `${acc} + ${formatCurrency(amountBig.toString(), symbol, SHORT_FRACTION_DIGITS)}`;\n    }, formatCurrency(tonAmount.toString(), tonToken.symbol, SHORT_FRACTION_DIGITS));\n\n    return `${text} (${formatCurrency(cost, '$')})`;\n  }, [renderingTransactions, fee, tokens, tonToken]);\n\n  function renderDapp() {\n    return (\n      <div className={styles.transactionDirection}>\n        <div className={styles.transactionAccount}>\n          <div className={styles.accountTitle}>{currentAccount?.title}</div>\n          <div className={styles.accountBalance}>{formatCurrency(toDecimal(tonToken.amount), tonToken.symbol)}</div>\n        </div>\n\n        <DappInfo\n          iconUrl={dapp?.iconUrl}\n          name={dapp?.name}\n          url={dapp?.url}\n          className={styles.transactionDapp}\n        />\n      </div>\n    );\n  }\n\n  function renderTransaction() {\n    return (\n      <DappTransfer\n        transaction={renderingTransactions![0]}\n        tonToken={tonToken}\n        fee={fee}\n        tokens={tokens}\n      />\n    );\n  }\n\n  function renderTransactionRow(transaction: ApiDappTransfer, i: number) {\n    const { payload } = transaction;\n\n    let extraText: string = '';\n    if (payload?.type === 'nft:transfer') {\n      extraText = '1 NFT + ';\n    } else if (payload?.type === 'tokens:transfer' || payload?.type === 'tokens:transfer-non-standard') {\n      const { slug: tokenSlug, amount } = payload;\n      const token = tokens?.find(({ slug }) => tokenSlug === slug);\n      if (token) {\n        const { decimals, symbol } = token;\n        extraText = `${formatCurrency(toDecimal(amount, decimals), symbol, SHORT_FRACTION_DIGITS)} + `;\n      }\n    }\n\n    return (\n      <div\n        key={`${transaction.toAddress}_${transaction.amount}_${i}`}\n        className={styles.transactionRow}\n        onClick={() => { showDappTransfer({ transactionIdx: i }); }}\n      >\n        {transaction.isScam && <img src={scamImg} alt={lang('Scam')} className={styles.scamImage} />}\n        <span className={buildClassName(styles.transactionRowAmount, transaction.isScam && styles.scam)}>\n          {extraText}\n          {formatCurrency(toDecimal(transaction.amount), tonToken.symbol, SHORT_FRACTION_DIGITS)}\n        </span>\n        {' '}\n        <span className={buildClassName(styles.transactionRowAddress, transaction.isScam && styles.scam)}>\n          {lang('$transaction_to', {\n            address: shortenAddress(transaction.toAddress),\n          })}\n        </span>\n        <i className={buildClassName(styles.transactionRowChevron, 'icon-chevron-right')} aria-hidden />\n      </div>\n    );\n  }\n\n  function renderTransactions() {\n    return (\n      <>\n        <p className={styles.label}>{lang('$many_transactions', renderingTransactions?.length, 'i')}</p>\n        <div className={styles.transactionList}>\n          {renderingTransactions?.map(renderTransactionRow)}\n        </div>\n        <span className={styles.label}>\n          {lang('Total Amount')}\n        </span>\n        <InteractiveTextField text={totalAmountText} />\n      </>\n    );\n  }\n\n  if (!renderingTransactions) {\n    return undefined;\n  }\n\n  return (\n    <div className={modalStyles.transitionContent}>\n      {renderDapp()}\n\n      {isNftTransfer && <NftInfo nft={nft} /> }\n\n      <div className={styles.contentWithBackground}>\n        {isSingleTransaction ? renderTransaction() : renderTransactions()}\n      </div>\n\n      <div className={modalStyles.buttons}>\n        <Button className={modalStyles.button} onClick={onClose}>{lang('Cancel')}</Button>\n        <Button\n          isPrimary\n          isSubmit\n          isLoading={isLoading}\n          isDisabled={hasScamAddresses}\n          className={modalStyles.button}\n          onClick={!hasScamAddresses ? submitDappTransferConfirm : undefined}\n        >\n          {lang('Send')}\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const {\n    transactions,\n    fee,\n    isLoading,\n    dapp,\n  } = global.currentDappTransfer;\n  const accounts = selectNetworkAccounts(global);\n\n  return {\n    currentAccount: accounts?.[global.currentAccountId!],\n    transactions,\n    fee,\n    dapp,\n    isLoading,\n    tokens: selectCurrentAccountTokens(global),\n  };\n})(DappTransferInitial));\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { GlobalState, HardwareConnectState, UserToken } from '../../global/types';\nimport { TransferState } from '../../global/types';\n\nimport { ANIMATED_STICKER_SMALL_SIZE_PX, IS_CAPACITOR, TONCOIN_SLUG } from '../../config';\nimport { selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\n\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\nimport Transition from '../ui/Transition';\nimport DappLedgerWarning from './DappLedgerWarning';\nimport DappTransfer from './DappTransfer';\nimport DappTransferInitial from './DappTransferInitial';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Dapp.module.scss';\n\ninterface StateProps {\n  currentDappTransfer: GlobalState['currentDappTransfer'];\n  tokens?: UserToken[];\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isMediaViewerOpen?: boolean;\n}\n\nfunction DappTransferModal({\n  currentDappTransfer: {\n    dapp,\n    transactions,\n    isLoading,\n    viewTransactionOnIdx,\n    state,\n    error,\n  },\n  tokens,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n  isMediaViewerOpen,\n}: StateProps) {\n  const {\n    setDappTransferScreen,\n    clearDappTransferError,\n    submitDappTransferPassword,\n    submitDappTransferHardware,\n    closeDappTransfer,\n    cancelDappTransfer,\n  } = getActions();\n\n  const lang = useLang();\n  const tonToken = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens])!;\n\n  const isOpen = state !== TransferState.None;\n\n  const [forceFullNative, setForceFullNative] = useState(false);\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n  const renderingTransactions = useCurrentOrPrev(transactions, true);\n  const isNftTransfer = renderingTransactions?.[0].payload?.type === 'nft:transfer';\n  const isDappLoading = dapp === undefined;\n  const withPayloadWarning = renderingTransactions?.[0].payload?.type === 'unknown';\n\n  useEffect(() => {\n    setForceFullNative(isOpen && (withPayloadWarning || renderingKey === TransferState.Password));\n  }, [withPayloadWarning, renderingKey, isOpen]);\n\n  const handleBackClick = useLastCallback(() => {\n    if (state === TransferState.Confirm || state === TransferState.Password) {\n      setDappTransferScreen({ state: TransferState.Initial });\n    }\n  });\n\n  const handleTransferPasswordSubmit = useLastCallback((password: string) => {\n    submitDappTransferPassword({ password });\n  });\n\n  const handleLedgerConnect = useLastCallback(() => {\n    submitDappTransferHardware();\n  });\n\n  const handleResetTransfer = useLastCallback(() => {\n    cancelDappTransfer();\n    updateNextKey();\n  });\n\n  function renderSingleTransaction(isActive: boolean) {\n    const transaction = viewTransactionOnIdx !== undefined ? transactions?.[viewTransactionOnIdx] : undefined;\n\n    return (\n      <>\n        <ModalHeader title={lang('Is it all ok?')} onClose={closeDappTransfer} />\n        <div className={modalStyles.transitionContent}>\n          <AnimatedIconWithPreview\n            size={ANIMATED_STICKER_SMALL_SIZE_PX}\n            play={isActive}\n            noLoop={false}\n            nonInteractive\n            className={buildClassName(styles.sticker, styles.sticker_sizeSmall)}\n            tgsUrl={ANIMATED_STICKERS_PATHS.bill}\n            previewUrl={ANIMATED_STICKERS_PATHS.billPreview}\n          />\n\n          {Boolean(transaction) && (\n            <DappTransfer\n              transaction={transaction}\n              tonToken={tonToken}\n              tokens={tokens}\n            />\n          )}\n          <div className={modalStyles.buttons}>\n            <Button onClick={handleBackClick}>{lang('Back')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderPassword(isActive: boolean) {\n    return (\n      <>\n        {!IS_CAPACITOR && <ModalHeader title={lang('Confirm Action')} onClose={closeDappTransfer} />}\n        <PasswordForm\n          isActive={isActive}\n          isLoading={isLoading}\n          error={error}\n          withCloseButton={IS_CAPACITOR}\n          submitLabel={lang('Send')}\n          cancelLabel={lang('Back')}\n          onSubmit={handleTransferPasswordSubmit}\n          onCancel={handleBackClick}\n          onUpdate={clearDappTransferError}\n        />\n      </>\n    );\n  }\n\n  function renderWaitForConnection() {\n    const renderRow = (isLarge?: boolean) => (\n      <div className={buildClassName(styles.rowContainerSkeleton, isLarge && styles.rowContainerLargeSkeleton)}>\n        <div className={buildClassName(styles.rowTextSkeleton, isLarge && styles.rowTextLargeSkeleton)} />\n        <div className={buildClassName(styles.rowSkeleton, isLarge && styles.rowLargeSkeleton)} />\n      </div>\n    );\n\n    return (\n      <>\n        <ModalHeader title={lang('Send Transaction')} onClose={closeDappTransfer} />\n        <div className={modalStyles.transitionContent}>\n          <div className={styles.transactionDirection}>\n            <div className={styles.transactionDirectionLeftSkeleton}>\n              <div className={buildClassName(styles.nameSkeleton, styles.nameDappSkeleton)} />\n              <div className={buildClassName(styles.descSkeleton, styles.descDappSkeleton)} />\n            </div>\n            <div className={styles.transactionDirectionRightSkeleton}>\n              <div className={buildClassName(styles.dappInfoIconSkeleton, styles.transactionDappIconSkeleton)} />\n              <div className={styles.dappInfoDataSkeleton}>\n                <div className={buildClassName(styles.nameSkeleton, styles.nameDappSkeleton)} />\n                <div className={buildClassName(styles.descSkeleton, styles.descDappSkeleton)} />\n              </div>\n            </div>\n          </div>\n          {renderRow(true)}\n          {renderRow()}\n          {renderRow()}\n        </div>\n      </>\n    );\n  }\n\n  function renderTransferInitialWithSkeleton() {\n    return (\n      <Transition name=\"semiFade\" activeKey={isDappLoading ? 0 : 1} slideClassName={styles.skeletonTransitionWrapper}>\n        {isDappLoading ? renderWaitForConnection() : (\n          <>\n            <ModalHeader title={lang(isNftTransfer ? 'Send NFT' : 'Send Transaction')} onClose={closeDappTransfer} />\n            <DappTransferInitial onClose={closeDappTransfer} tonToken={tonToken} />\n          </>\n        )}\n      </Transition>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case TransferState.Initial:\n        return renderTransferInitialWithSkeleton();\n      case TransferState.WarningHardware:\n        return (\n          <>\n            <ModalHeader title={lang('Send Transaction')} onClose={closeDappTransfer} />\n            <DappLedgerWarning tonToken={tonToken} />\n          </>\n        );\n      case TransferState.Confirm:\n        return renderSingleTransaction(isActive);\n      case TransferState.Password:\n        return renderPassword(isActive);\n      case TransferState.ConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isTonAppConnected={isTonAppConnected}\n            isLedgerConnected={isLedgerConnected}\n            onConnected={handleLedgerConnect}\n            onClose={closeDappTransfer}\n          />\n        );\n      case TransferState.ConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            text={lang('Please confirm transaction on your Ledger')}\n            error={error}\n            onTryAgain={submitDappTransferHardware}\n            onClose={closeDappTransfer}\n          />\n        );\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen && !isMediaViewerOpen}\n      noBackdropClose\n      dialogClassName={buildClassName(styles.modalDialog, withPayloadWarning && styles.modalDialogExtraHeight)}\n      nativeBottomSheetKey=\"dapp-transfer\"\n      forceFullNative={forceFullNative}\n      onClose={closeDappTransfer}\n      onCloseAnimationEnd={handleResetTransfer}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    currentDappTransfer: global.currentDappTransfer,\n    tokens: selectCurrentAccountTokens(global),\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),\n  };\n})(DappTransferModal));\n","import React, { memo, useRef } from '../../lib/teact/teact';\n\nimport { IS_WINDOWS } from '../../util/windowEnvironment';\n\nimport useElectronDrag from '../../hooks/useElectronDrag';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport UpdateApp from './UpdateApp';\n\nimport styles from './ElectronHeader.module.scss';\n\ntype Props = {\n  children?: React.ReactNode;\n  withTitle?: boolean;\n};\n\nfunction ElectronHeader({ children, withTitle }: Props) {\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  useElectronDrag(containerRef);\n\n  const handleMinimize = useLastCallback(() => {\n    window.electron?.minimize();\n  });\n\n  const handleMaximize = useLastCallback(async () => {\n    if (await window.electron?.getIsMaximized()) {\n      window.electron?.unmaximize();\n    } else {\n      window.electron?.maximize();\n    }\n  });\n\n  const handleClose = useLastCallback(() => {\n    window.electron?.close();\n  });\n\n  const handleDoubleClick = useLastCallback(() => {\n    window.electron?.handleDoubleClick();\n  });\n\n  if (IS_WINDOWS) {\n    return (\n      <div ref={containerRef} className={styles.container} onDoubleClick={handleDoubleClick}>\n        <div className={styles.wrapper}>\n          {Boolean(children) && <div className={styles.buttons}>{children}</div>}\n\n          {withTitle && <div className={styles.applicationName}>MyTonWallet</div>}\n        </div>\n\n        <div className={styles.windowsButtons}>\n          <UpdateApp />\n\n          <div className={styles.windowsButton} onClick={handleMinimize}>\n            <i className=\"icon-windows-minimize\" />\n          </div>\n\n          <div className={styles.windowsButton} onClick={handleMaximize}>\n            <i className=\"icon-windows-maximize\" />\n          </div>\n\n          <div className={styles.windowsButton} onClick={handleClose}>\n            <i className=\"icon-windows-close\" />\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div ref={containerRef} className={styles.container} onDoubleClick={handleDoubleClick}>\n      <div className={styles.wrapper}>\n        {withTitle && <div className={styles.applicationName}>MyTonWallet</div>}\n\n        <div className={styles.buttons}>\n          <UpdateApp />\n\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(ElectronHeader);\n","import React, {\n  memo, useEffect, useState,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { ElectronEvent } from '../../electron/types';\n\nimport { PRODUCTION_URL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport styles from './UpdateApp.module.scss';\n\ntype StateProps = {\n  isAppUpdateAvailable?: boolean;\n};\n\nfunction UpdateApp({ isAppUpdateAvailable }: StateProps) {\n  const lang = useLang();\n\n  const [isElectronUpdateDownloaded, setIsElectronUpdateDownloaded] = useState(false);\n  const [isElectronAutoUpdateEnabled, setIsElectronAutoUpdateEnabled] = useState(false);\n  const [isDisabled, disable] = useFlag(false);\n\n  useEffect(() => {\n    const removeUpdateErrorListener = window.electron?.on(ElectronEvent.UPDATE_ERROR, () => {\n      setIsElectronUpdateDownloaded(false);\n    });\n    const removeUpdateDownloadedListener = window.electron?.on(ElectronEvent.UPDATE_DOWNLOADED, () => {\n      setIsElectronUpdateDownloaded(true);\n    });\n\n    window.electron?.getIsAutoUpdateEnabled().then(setIsElectronAutoUpdateEnabled);\n\n    return () => {\n      removeUpdateErrorListener?.();\n      removeUpdateDownloadedListener?.();\n    };\n  }, []);\n\n  const handleClick = useLastCallback(async () => {\n    if (isDisabled) {\n      return;\n    }\n\n    if (!isElectronAutoUpdateEnabled) {\n      window.open(`${PRODUCTION_URL}/get`, '_blank', 'noopener');\n      return;\n    }\n\n    if (isElectronUpdateDownloaded) {\n      disable();\n      await window.electron?.installUpdate();\n      return;\n    }\n\n    if (isAppUpdateAvailable) {\n      window.location.reload();\n    }\n  });\n\n  const { transitionClassNames, shouldRender } = useShowTransition(isElectronUpdateDownloaded || isAppUpdateAvailable);\n\n  if (!shouldRender) {\n    return null; // eslint-disable-line no-null/no-null\n  }\n\n  return (\n    <div\n      className={buildClassName(\n        styles.container,\n        transitionClassNames,\n        isDisabled && styles.disabled,\n      )}\n      onClick={handleClick}\n    >\n      <div className={styles.iconWrapper}>\n        <i className={buildClassName('icon-update', styles.icon)} />\n      </div>\n\n      <div className={styles.text}>{lang('Update MyTonWallet')}</div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const { isAppUpdateAvailable } = global;\n\n  return { isAppUpdateAvailable };\n})(UpdateApp));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { vibrate } from '../../util/capacitor';\nimport { openUrl } from '../../util/openUrl';\nimport { getHostnameFromUrl } from '../../util/url';\n\nimport Image from '../ui/Image';\n\nimport styles from '../main/sections/Content/Explore.module.scss';\n\ninterface OwnProps {\n  url: string;\n  icon: string;\n  title: string;\n  description: string;\n  isExternal: boolean;\n}\n\nfunction Site({\n  url, icon, title, description, isExternal,\n}: OwnProps) {\n  function handleClick() {\n    vibrate();\n    openUrl(url, isExternal, title, getHostnameFromUrl(url));\n  }\n\n  return (\n    <div\n      className={styles.item}\n      tabIndex={0}\n      role=\"button\"\n      onClick={handleClick}\n    >\n      <Image url={icon} className={styles.imageWrapper} imageClassName={styles.image} />\n      <div className={styles.infoWrapper}>\n        <b className={styles.title}>{title}</b>\n      </div>\n      <div className={styles.description}>{description}</div>\n    </div>\n  );\n}\n\nexport default memo(Site);\n","import { TONCONNECT_WALLET_JSBRIDGE_KEY } from '../../config';\n\nexport enum WebViewBridgeMessageType {\n  invokeCapFunc = 'invokeCapFunc',\n  functionResponse = 'functionResponse',\n  event = 'event',\n}\n\nexport interface WebViewBridgeMessage {\n  type: string;\n  invocationId: string;\n  name: string;\n  args: any[];\n}\n\nexport const objectToInjection = (obj: Record<string, any>, timeout?: number) => {\n  const funcKeys = Object.keys(obj).filter((key) => typeof obj[key] === 'function');\n\n  const funcs = funcKeys.reduce(\n    (acc, funcName) => `${acc}${funcName}: (...args) => {\n      return new Promise((resolve, reject) => window.invokeCapFunc('bridge:${funcName}', args, resolve, reject))\n    },`,\n    '',\n  );\n\n  return `\n    (() => {\n      if (window.${TONCONNECT_WALLET_JSBRIDGE_KEY}) return;\n      window.capPromises = {};\n      window.capEventListeners = [];\n      window.invokeCapFunc = (name, args, resolve, reject) => {\n        const invocationId = btoa(Math.random()).substring(0, 12);\n        const timeoutMs = ${timeout || 'undefined'};\n        const timeoutId = timeoutMs\n          ? setTimeout(() => reject(new Error(\\`bridge timeout for function with name: \\${name}\\`)), timeoutMs)\n          : null;\n        window.capPromises[invocationId] = { resolve, reject, timeoutId };\n        const target = 'cordova_iab' in window ? window.cordova_iab : window.webkit.messageHandlers.cordova_iab;\n        target.postMessage(JSON.stringify({\n          type: '${WebViewBridgeMessageType.invokeCapFunc}',\n          invocationId: invocationId,\n          name,\n          args,\n        }));\n      };\n      window.open = (url) => {\n        window.invokeCapFunc('window:open', { url });\n      };\n      window.close = () => {\n        window.invokeCapFunc('window:close');\n      };\n      window.addEventListener('click', (e) => {\n        const { href, target } = e.target.closest('a') || {};\n        if (href && (target === '_blank' || !href.startsWith('http'))) {\n          e.preventDefault();\n          window.invokeCapFunc('window:open', { url: href });\n        }\n      }, false);\n      window.addEventListener('message', ({ data }) => {\n        try {\n          const message = JSON.parse(data);\n          if (message.type === '${WebViewBridgeMessageType.functionResponse}') {\n            const promise = window.capPromises[message.invocationId];\n            if (!promise) {\n              return;\n            }\n            if (promise.timeoutId) {\n              clearTimeout(promise.timeoutId);\n            }\n            if (message.status === 'fulfilled') {\n              promise.resolve(message.data);\n            } else {\n              promise.reject(new Error(message.data));\n            }\n            delete window.capPromises[message.invocationId];\n          }\n          if (message.type === '${WebViewBridgeMessageType.event}') {\n            window.capEventListeners.forEach((listener) => listener(message.event));\n          }\n        } catch {}\n      });\n      function listen(cb) {\n        window.capEventListeners.push(cb);\n        return function() {\n          const index = window.capEventListeners.indexOf(cb);\n          if (index > -1) {\n            window.capEventListeners.splice(index, 1);\n          }\n        };\n      }\n      window.${TONCONNECT_WALLET_JSBRIDGE_KEY} = {\n        tonconnect: Object.assign(\n          ${JSON.stringify(obj)},\n          {${funcs}},\n          { listen },\n        ),\n      };\n    })();\n  `;\n};\n\nexport const getInjectableJsMessage = (message: any) => {\n  return `\n    (function() {\n      window.dispatchEvent(new MessageEvent('message', {\n        data: ${JSON.stringify(message)}\n      }));\n    })();\n  `;\n};\n","import type {\n  AppRequest, ConnectEvent,\n  ConnectEventError, ConnectRequest, DeviceInfo, RpcMethod, WalletEvent,\n  WalletResponse,\n} from '@tonconnect/protocol';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport { useMemo, useRef, useState } from '../../../lib/teact/teact';\nimport { getGlobal } from '../../../global';\n\nimport type { CustomInAppBrowserObject } from './useWebViewBridge';\nimport { CONNECT_EVENT_ERROR_CODES, SEND_TRANSACTION_ERROR_CODES } from '../../../api/tonConnect/types';\n\nimport { TONCONNECT_PROTOCOL_VERSION } from '../../../config';\nimport { logDebugError } from '../../../util/logs';\nimport { tonConnectGetDeviceInfo } from '../../../util/tonConnectEnvironment';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { useWebViewBridge } from './useWebViewBridge';\n\nimport useLastCallback from '../../../hooks/useLastCallback';\n\ninterface WebViewTonConnectBridge {\n  deviceInfo: DeviceInfo;\n  protocolVersion: number;\n  isWalletBrowser: boolean;\n  connect(protocolVersion: number, message: ConnectRequest): Promise<ConnectEvent>;\n  restoreConnection(): Promise<ConnectEvent>;\n  disconnect(): Promise<void>;\n  send<T extends RpcMethod>(message: AppRequest<T>): Promise<WalletResponse<T>>;\n}\n\ninterface OwnProps {\n  endpoint?: string;\n}\n\nexport function useDappBridge({\n  endpoint,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const inAppBrowserRef = useRef<CustomInAppBrowserObject>(null);\n  const [requestId, setRequestId] = useState(0);\n  const origin = useMemo(() => {\n    return endpoint ? new URL(endpoint).origin.toLowerCase() : undefined;\n  }, [endpoint]);\n\n  const bridgeObject = useMemo((): WebViewTonConnectBridge | undefined => {\n    if (!origin) return undefined;\n\n    return {\n      deviceInfo: tonConnectGetDeviceInfo(),\n      protocolVersion: TONCONNECT_PROTOCOL_VERSION,\n      isWalletBrowser: true,\n\n      connect: async (protocolVersion, request) => {\n        try {\n          if (protocolVersion > TONCONNECT_PROTOCOL_VERSION) {\n            return buildConnectError(\n              requestId,\n              'Unsupported protocol version',\n              CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR,\n            );\n          }\n          verifyConnectRequest(request);\n\n          await inAppBrowserRef.current?.hide();\n          if (IS_DELEGATING_BOTTOM_SHEET) {\n            await BottomSheet.enable();\n          }\n\n          const response = await callApi(\n            'tonConnect_connect',\n            buildDappRequest(origin),\n            request,\n            requestId,\n          );\n          if (IS_DELEGATING_BOTTOM_SHEET) {\n            await BottomSheet.disable();\n          }\n\n          inAppBrowserRef.current?.show();\n          setRequestId(requestId + 1);\n\n          if (response?.event === 'connect') {\n            response.payload.device = tonConnectGetDeviceInfo();\n          }\n\n          return response;\n        } catch (err: any) {\n          logDebugError('useDAppBridge:connect', err);\n          if (IS_DELEGATING_BOTTOM_SHEET) {\n            await BottomSheet.disable();\n          }\n          inAppBrowserRef.current?.show();\n\n          if ('event' in err && 'id' in err && 'payload' in err) {\n            return err;\n          }\n\n          return buildConnectError(\n            requestId,\n            err?.message,\n            CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR,\n          );\n        }\n      },\n\n      restoreConnection: async () => {\n        try {\n          const response = await callApi(\n            'tonConnect_reconnect',\n            buildDappRequest(origin),\n            requestId,\n          );\n          setRequestId(requestId + 1);\n\n          if (response?.event === 'connect') {\n            response.payload.device = tonConnectGetDeviceInfo();\n          }\n\n          return response;\n        } catch (err: any) {\n          logDebugError('useDAppBridge:reconnect', err);\n\n          if ('event' in err && 'id' in err && 'payload' in err) {\n            return err;\n          }\n\n          return buildConnectError(\n            requestId,\n            err?.message,\n            CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR,\n          );\n        }\n      },\n\n      disconnect: async () => {\n        setRequestId(0);\n\n        await callApi(\n          'tonConnect_disconnect',\n          buildDappRequest(origin),\n          { id: requestId.toString(), method: 'disconnect', params: [] },\n        );\n      },\n\n      send: async <T extends RpcMethod>(request: AppRequest<T>) => {\n        setRequestId(requestId + 1);\n        const isConnected = getGlobal().settings.dapps?.some((dapp) => dapp.origin === origin);\n\n        if (!isConnected) {\n          return {\n            error: {\n              code: SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR,\n              message: 'Unknown app',\n            },\n            id: request.id.toString(),\n          };\n        }\n\n        const dappRequest = buildDappRequest(origin);\n\n        try {\n          switch (request.method) {\n            case 'sendTransaction': {\n              await inAppBrowserRef.current?.hide();\n              if (IS_DELEGATING_BOTTOM_SHEET) {\n                await BottomSheet.enable();\n              }\n\n              const callResponse = await callApi(\n                'tonConnect_sendTransaction',\n                dappRequest,\n                request,\n              );\n              if (IS_DELEGATING_BOTTOM_SHEET) {\n                await BottomSheet.disable();\n              }\n              if (IS_DELEGATED_BOTTOM_SHEET) {\n                void BottomSheet.applyScrollPatch();\n              }\n              inAppBrowserRef.current?.show();\n\n              return callResponse!;\n            }\n\n            case 'disconnect': {\n              const callResponse = await callApi(\n                'tonConnect_disconnect',\n                dappRequest,\n                request,\n              );\n\n              return callResponse!;\n            }\n\n            case 'signData': {\n              await inAppBrowserRef.current?.hide();\n              if (IS_DELEGATING_BOTTOM_SHEET) {\n                await BottomSheet.enable();\n              }\n              const callResponse = await callApi(\n                'tonConnect_signData',\n                dappRequest,\n                request,\n              );\n              if (IS_DELEGATING_BOTTOM_SHEET) {\n                await BottomSheet.disable();\n              }\n              inAppBrowserRef.current?.show();\n\n              return callResponse!;\n            }\n\n            default:\n              return {\n                error: {\n                  code: SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR,\n                  message: `Method \"${request!.method}\" is not supported`,\n                },\n                id: request!.id.toString(),\n              };\n          }\n        } catch (err: any) {\n          logDebugError('useDAppBridge:send', err);\n          if (IS_DELEGATING_BOTTOM_SHEET) {\n            await BottomSheet.disable();\n          }\n          inAppBrowserRef.current?.show();\n\n          return {\n            error: {\n              code: SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR,\n              message: err?.message,\n            },\n            id: request!.id.toString(),\n          };\n        }\n      },\n    };\n  }, [origin, requestId]);\n\n  const [\n    bridgeInjectionCode,\n    onMessage,\n    sendEvent,\n  ] = useWebViewBridge<WebViewTonConnectBridge, WalletEvent>(inAppBrowserRef, bridgeObject);\n\n  const disconnect = useLastCallback(() => {\n    try {\n      // onDisconnect(endpoint, requestId);\n      sendEvent({ event: 'disconnect', payload: {}, id: requestId });\n    } catch (err: any) {\n      logDebugError('disconnect', err);\n    }\n  });\n\n  return {\n    inAppBrowserRef,\n    bridgeInjectionCode,\n    onMessage,\n    disconnect,\n  };\n}\n\nfunction buildConnectError(\n  id: number,\n  msg = 'Unknown error.',\n  code?: CONNECT_EVENT_ERROR_CODES,\n): ConnectEventError {\n  return {\n    event: 'connect_error',\n    id,\n    payload: {\n      code: code || CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR,\n      message: msg,\n    },\n  };\n}\n\nfunction verifyConnectRequest(request: ConnectRequest) {\n  if (!(request && request.manifestUrl && request.items?.length)) {\n    throw new Error('Wrong request data');\n  }\n}\n\nfunction buildDappRequest(origin: string) {\n  return {\n    origin,\n    accountId: getGlobal().currentAccountId,\n  };\n}\n","import type { InAppBrowserObject } from '@awesome-cordova-plugins/in-app-browser';\nimport { useCallback, useMemo } from '../../../lib/teact/teact';\n\nimport type { WebViewBridgeMessage } from '../helpers';\n\nimport { openDeeplinkOrUrl } from '../../../util/deeplink';\nimport { getInjectableJsMessage, objectToInjection, WebViewBridgeMessageType } from '../helpers';\n\nexport type CustomInAppBrowserObject = Omit<InAppBrowserObject, 'hide'> & { hide: () => Promise<void> };\n\ntype UseWebViewBridgeReturnType<Event> = [\n  string,\n  (e: MessageEvent) => void,\n  (event: Event) => void,\n];\n\nexport const useWebViewBridge = <\n  BridgeObject extends { [key: string]: any } = {},\n  Event extends object = {},\n>(\n    inAppBrowserRef: React.RefObject<CustomInAppBrowserObject>,\n    bridgeObj?: BridgeObject,\n    timeout?: number,\n  ): UseWebViewBridgeReturnType<Event> => {\n  const bridgeInjectionCode = useMemo(\n    () => (bridgeObj ? objectToInjection(bridgeObj, timeout) : ''),\n    [bridgeObj, timeout],\n  );\n\n  const postMessage = useCallback((message: any) => {\n    inAppBrowserRef.current?.executeScript({\n      code: getInjectableJsMessage(JSON.stringify(message)),\n    });\n  }, [inAppBrowserRef]);\n\n  const onMessage = useCallback(\n    async (event: MessageEvent) => {\n      if (!bridgeObj) return;\n\n      const message = typeof event.data === 'string'\n        ? JSON.parse(event.data)\n        : event.data as WebViewBridgeMessage;\n\n      if (message.type === WebViewBridgeMessageType.invokeCapFunc) {\n        try {\n          let result: any;\n          switch (message.name) {\n            case 'window:open': {\n              const { url } = message.args;\n              openDeeplinkOrUrl(url, true, true);\n              result = true;\n              break;\n            }\n\n            case 'window:close': {\n              inAppBrowserRef.current?.close();\n\n              break;\n            }\n\n            default: {\n              const methodName = message.name.replace('bridge:', '');\n              result = await bridgeObj[methodName](...message.args);\n            }\n          }\n\n          postMessage({\n            type: WebViewBridgeMessageType.functionResponse,\n            invocationId: message.invocationId,\n            status: 'fulfilled',\n            data: result,\n          });\n        } catch (err: any) {\n          postMessage({\n            type: WebViewBridgeMessageType.functionResponse,\n            invocationId: message.invocationId,\n            status: 'rejected',\n            data: err?.message,\n          });\n        }\n      }\n    },\n    [bridgeObj, inAppBrowserRef, postMessage],\n  );\n\n  const sendEvent = useCallback(\n    (event: any) => {\n      postMessage({ type: WebViewBridgeMessageType.event, event });\n    },\n    [postMessage],\n  );\n\n  return [bridgeInjectionCode, onMessage, sendEvent];\n};\n","import React, { memo, useEffect, useState } from '../../lib/teact/teact';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './LedgerModal.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  text: string;\n  error?: string;\n  onClose: () => void;\n  onTryAgain: () => void;\n}\n\nenum ConfirmTransactionState {\n  Waiting,\n  Error,\n}\n\nfunction LedgerConfirmOperation({\n  isActive, text, error, onClose, onTryAgain,\n}: OwnProps) {\n  const lang = useLang();\n\n  const [activeState, setActiveState] = useState(ConfirmTransactionState.Waiting);\n  const [nextKey, setNextKey] = useState(ConfirmTransactionState.Error);\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  useEffect(() => {\n    if (error) {\n      setActiveState(ConfirmTransactionState.Error);\n      setNextKey(ConfirmTransactionState.Waiting);\n    } else {\n      setActiveState(ConfirmTransactionState.Waiting);\n      setNextKey(ConfirmTransactionState.Error);\n    }\n  }, [error]);\n\n  function renderWaitingConfirm(isActiveSlide: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Confirm via Ledger')} onClose={onClose} />\n        <div className={styles.container}>\n          <AnimatedIconWithPreview\n            size={ANIMATED_STICKER_BIG_SIZE_PX}\n            play={isActiveSlide}\n            noLoop={false}\n            nonInteractive\n            className={styles.sticker}\n            tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n            previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n          />\n          <div className={buildClassName(styles.textBlock, styles.textBlock_small)}>\n            <span className={styles.text}>{text}</span>\n          </div>\n          <div className={buildClassName(styles.actionBlock, styles.actionBlock_single)}>\n            <Button onClick={onClose} className={styles.button}>{lang('Cancel')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderTryAgain(isActiveSlide: boolean) {\n    const isErrorDetailed = error === '$hardware_blind_sign_not_enabled';\n\n    return (\n      <>\n        <ModalHeader title={lang('Confirm via Ledger')} onClose={onClose} />\n        <div className={styles.container}>\n          <AnimatedIconWithPreview\n            size={ANIMATED_STICKER_BIG_SIZE_PX}\n            play={isActiveSlide}\n            noLoop={false}\n            nonInteractive\n            className={styles.sticker}\n            tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n            previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n          />\n          <div className={buildClassName(styles.declinedLabel, isErrorDetailed && styles.declinedLabelDetailed)}>\n            {renderText(lang(error!))}\n          </div>\n          <div className={styles.actionBlock}>\n            <Button onClick={onClose} className={styles.button}>{lang('Cancel')}</Button>\n            <Button isPrimary onClick={onTryAgain} className={styles.button}>{lang('Try Again')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActiveSlide: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case ConfirmTransactionState.Waiting:\n        return renderWaitingConfirm(isActiveSlide);\n      case ConfirmTransactionState.Error:\n        return renderTryAgain(isActiveSlide);\n    }\n  }\n\n  return (\n    <Transition\n      name={resolveModalTransitionName()}\n      className={buildClassName(modalStyles.transition, 'custom-scroll')}\n      slideClassName={buildClassName(modalStyles.transitionSlide, styles.slide)}\n      activeKey={activeState}\n      nextKey={nextKey}\n    >\n      {renderContent}\n    </Transition>\n  );\n}\n\nexport default memo(LedgerConfirmOperation);\n","import React, {\n  memo, useEffect,\n} from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { HardwareConnectState } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { closeLedgerTab } from '../../util/ledger/tab';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './LedgerModal.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  state?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isRemoteTab?: boolean;\n  onConnected: (isSingleWallet: boolean) => void;\n  onCancel?: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nconst NEXT_SLIDE_DELAY = 500;\n\nfunction LedgerConnect({\n  isActive,\n  state,\n  isLedgerConnected,\n  isTonAppConnected,\n  isRemoteTab,\n  onConnected,\n  onCancel,\n  onClose,\n}: OwnProps) {\n  const {\n    connectHardwareWallet,\n    resetHardwareWalletConnect,\n    initializeHardwareWalletConnection,\n  } = getActions();\n  const lang = useLang();\n\n  const isLedgerFailed = isLedgerConnected === false;\n  const isTonAppFailed = isTonAppConnected === false;\n  const isConnected = state === HardwareConnectState.ConnectedWithSingleWallet\n    || state === HardwareConnectState.ConnectedWithSeveralWallets;\n  const isWaitingForBrowser = state === HardwareConnectState.WaitingForBrowser;\n  const title = isConnected ? lang('Ledger Connected!') : lang('Connect Ledger');\n  const shouldCloseOnCancel = !onCancel;\n\n  useHistoryBack({\n    isActive,\n    onBack: onCancel ?? onClose,\n  });\n\n  const handleConnected = useLastCallback((isSingleWallet: boolean) => {\n    if (isRemoteTab) {\n      return;\n    }\n\n    setTimeout(() => {\n      onConnected(isSingleWallet);\n\n      setTimeout(() => {\n        resetHardwareWalletConnect();\n      }, NEXT_SLIDE_DELAY);\n    }, NEXT_SLIDE_DELAY);\n  });\n\n  useEffect(() => {\n    if (isRemoteTab || !isActive) return;\n\n    initializeHardwareWalletConnection();\n  }, [isActive, isRemoteTab]);\n\n  useEffect(() => {\n    if (\n      state === HardwareConnectState.ConnectedWithSingleWallet\n      || state === HardwareConnectState.ConnectedWithSeveralWallets\n    ) {\n      handleConnected(state === HardwareConnectState.ConnectedWithSingleWallet);\n    }\n  }, [state, handleConnected]);\n\n  const handleCloseWithBrowserTab = useLastCallback(() => {\n    const closeAction = shouldCloseOnCancel ? onClose : onCancel;\n    closeLedgerTab();\n    closeAction();\n  });\n\n  function renderButtons() {\n    const isConnecting = state === HardwareConnectState.Connecting;\n    const isFailed = state === HardwareConnectState.Failed;\n\n    if (isRemoteTab && isConnected) {\n      return (\n        <div className={buildClassName(styles.actionBlock, isConnected && styles.actionBlock_single)}>\n          <Button\n            isDisabled={isConnecting}\n            className={buildClassName(styles.button, isConnected && styles.button_single)}\n            onClick={onClose}\n          >\n            {lang('Continue')}\n          </Button>\n        </div>\n      );\n    }\n\n    return (\n      <div className={buildClassName(styles.actionBlock, isConnected && styles.actionBlock_single)}>\n        <Button\n          isDisabled={isConnecting}\n          className={buildClassName(styles.button, isConnected && styles.button_single)}\n          onClick={shouldCloseOnCancel ? onClose : onCancel}\n        >\n          {lang(shouldCloseOnCancel ? 'Cancel' : 'Back')}\n        </Button>\n        {!isConnected && (\n          <Button\n            isPrimary\n            isDisabled={isConnecting}\n            className={styles.button}\n            onClick={connectHardwareWallet}\n          >\n            {isFailed ? lang('Try Again') : lang('Continue')}\n          </Button>\n        )}\n      </div>\n    );\n  }\n\n  function renderWaitingForBrowser() {\n    return (\n      <>\n        <ModalHeader title={title} onClose={handleCloseWithBrowserTab} />\n        <div className={styles.container}>\n          <div\n            className={buildClassName(\n              styles.iconBlock,\n              styles.iconBlock_base,\n            )}\n          />\n          <div\n            className={buildClassName(\n              styles.textBlock,\n              styles.textBlock_gap,\n            )}\n          >\n            <span className={styles.text}>\n              <i className={buildClassName(styles.textIcon, 'icon-dot')} aria-hidden />\n              {lang('Switch to the newly opened tab to connect Ledger.')}\n            </span>\n            <span className={styles.text}>\n              <i className={buildClassName(styles.textIcon, 'icon-dot')} aria-hidden />\n              {lang('Once connected, switch back to this window to proceed.')}\n            </span>\n          </div>\n          <div className={buildClassName(styles.actionBlock, styles.actionBlock_single)}>\n            <Button\n              className={buildClassName(styles.button, styles.button_single)}\n              onClick={handleCloseWithBrowserTab}\n            >\n              {lang(shouldCloseOnCancel ? 'Cancel' : 'Back')}\n            </Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderConnect() {\n    return (\n      <>\n        <ModalHeader title={title} onClose={onClose} />\n        <div className={styles.container}>\n          <div\n            className={buildClassName(\n              styles.iconBlock,\n              isConnected ? styles.iconBlock_success : styles.iconBlock_base,\n            )}\n          />\n          <div\n            className={buildClassName(\n              styles.textBlock,\n              isConnected && styles.textBlock_success,\n            )}\n          >\n            <span\n              className={buildClassName(\n                styles.text,\n                isLedgerFailed && styles.text_failed,\n                isLedgerConnected && styles.text_connected,\n                isConnected && styles.text_success,\n              )}\n            >\n              <i\n                className={buildClassName(styles.textIcon, isLedgerConnected ? 'icon-accept' : 'icon-dot')}\n                aria-hidden\n              />\n              {lang('Connect your Ledger to PC')}\n            </span>\n            <span\n              className={buildClassName(\n                styles.text,\n                isTonAppFailed && styles.text_failed,\n                isTonAppConnected && styles.text_connected,\n                isConnected && styles.text_success,\n              )}\n            >\n              <i\n                className={buildClassName(styles.textIcon, isTonAppConnected ? 'icon-accept' : 'icon-dot')}\n                aria-hidden\n              />\n              {lang('Unlock it and open the TON App')}\n            </span>\n          </div>\n          {renderButtons()}\n        </div>\n      </>\n    );\n  }\n\n  function renderContent() {\n    if (isWaitingForBrowser) {\n      return renderWaitingForBrowser();\n    }\n\n    return renderConnect();\n  }\n\n  return (\n    <Transition\n      name={resolveModalTransitionName()}\n      className={buildClassName(modalStyles.transition, 'custom-scroll')}\n      slideClassName={modalStyles.transitionSlide}\n      activeKey={isWaitingForBrowser ? 1 : 0}\n    >\n      {renderContent}\n    </Transition>\n  );\n}\n\nexport default memo(LedgerConnect);\n","import React, {\n  memo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { Account, HardwareConnectState } from '../../global/types';\nimport type { LedgerWalletInfo } from '../../util/ledger/types';\n\nimport { selectNetworkAccounts } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\n\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Modal from '../ui/Modal';\nimport Transition from '../ui/Transition';\nimport LedgerConnect from './LedgerConnect';\nimport LedgerSelectWallets from './LedgerSelectWallets';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './LedgerModal.module.scss';\n\ntype OwnProps = {\n  isOpen?: boolean;\n  onClose: () => void;\n};\n\ntype StateProps = {\n  hardwareWallets?: LedgerWalletInfo[];\n  accounts?: Record<string, Account>;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isRemoteTab?: boolean;\n};\n\nenum LedgerModalState {\n  Password,\n  Connect,\n  SelectWallets,\n}\n\nfunction LedgerModal({\n  isOpen,\n  onClose,\n  hardwareWallets,\n  accounts,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n  isRemoteTab,\n}: OwnProps & StateProps) {\n  const {\n    afterSelectHardwareWallets,\n    resetHardwareWalletConnect,\n  } = getActions();\n\n  const [currentSlide, setCurrentSlide] = useState<number>(\n    LedgerModalState.Connect,\n  );\n  const [nextKey] = useState<number | undefined>(\n    LedgerModalState.SelectWallets,\n  );\n\n  const handleAddLedgerWallet = useLastCallback(() => {\n    afterSelectHardwareWallets({ hardwareSelectedIndices: [hardwareWallets![0].index] });\n    onClose();\n  });\n\n  const handleConnected = useLastCallback((isSingleWallet: boolean) => {\n    if (isSingleWallet) {\n      handleAddLedgerWallet();\n      return;\n    }\n    setCurrentSlide(LedgerModalState.SelectWallets);\n  });\n\n  const handleLedgerModalClose = useLastCallback(() => {\n    setCurrentSlide(LedgerModalState.Connect);\n    resetHardwareWalletConnect();\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case LedgerModalState.Connect:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            isRemoteTab={isRemoteTab}\n            onConnected={handleConnected}\n            onClose={onClose}\n          />\n        );\n      case LedgerModalState.SelectWallets:\n        return (\n          <LedgerSelectWallets\n            isActive={isActive}\n            accounts={accounts}\n            hardwareWallets={hardwareWallets}\n            onClose={onClose}\n          />\n        );\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      onClose={onClose}\n      onCloseAnimationEnd={handleLedgerModalClose}\n      dialogClassName={styles.modalDialog}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={currentSlide}\n        nextKey={nextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const accounts = selectNetworkAccounts(global);\n\n  const {\n    hardwareWallets,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n    isRemoteTab,\n  } = global.hardware;\n\n  return {\n    accounts,\n    hardwareWallets,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n    isRemoteTab,\n  };\n})(LedgerModal));\n","import React, {\n  memo, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { Account } from '../../global/types';\nimport type { LedgerWalletInfo } from '../../util/ledger/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport { shortenAddress } from '../../util/shortenAddress';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport styles from './LedgerModal.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  hardwareWallets?: LedgerWalletInfo[];\n  accounts?: Record<string, Account>;\n  onCancel?: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n};\n\nconst ACCOUNT_ADDRESS_SHIFT = 4;\nconst ACCOUNT_BALANCE_DECIMALS = 3;\n\nfunction LedgerSelectWallets({\n  isActive,\n  hardwareWallets,\n  accounts,\n  onCancel,\n  onClose,\n}: OwnProps) {\n  const {\n    afterSelectHardwareWallets,\n    loadMoreHardwareWallets,\n  } = getActions();\n  const lang = useLang();\n\n  const [selectedAccountIndices, setSelectedAccountIndices] = useState<number[]>([]);\n  const shouldCloseOnCancel = !onCancel;\n\n  useHistoryBack({\n    isActive,\n    onBack: onCancel ?? onClose,\n  });\n\n  const handleAccountToggle = useLastCallback((index: number) => {\n    if (selectedAccountIndices.includes(index)) {\n      setSelectedAccountIndices(selectedAccountIndices.filter((id) => id !== index));\n    } else {\n      setSelectedAccountIndices(selectedAccountIndices.concat([index]));\n    }\n  });\n\n  const handleAddLedgerWallets = useLastCallback(() => {\n    afterSelectHardwareWallets({ hardwareSelectedIndices: selectedAccountIndices });\n    onClose();\n  });\n\n  const alreadyConnectedList = useMemo(\n    () => Object.values(accounts ?? []).map(({ address }) => address),\n    [accounts],\n  );\n\n  const handleAddWalletClick = useLastCallback(() => {\n    const list = hardwareWallets ?? [];\n    const lastIndex = list[list.length - 1]?.index ?? 0;\n\n    loadMoreHardwareWallets({ lastIndex });\n  });\n\n  function renderAddAccount() {\n    return (\n      <Button\n        className={styles.addAccountContainer}\n        onClick={handleAddWalletClick}\n      >\n        {lang('Add Wallet')}\n        <i className={buildClassName(styles.addAccountIcon, 'icon-plus')} aria-hidden />\n      </Button>\n    );\n  }\n\n  function renderAccount(address: string, balance: bigint, index: number, isConnected: boolean) {\n    const isActiveAccount = isConnected || selectedAccountIndices.includes(index);\n\n    return (\n      <div\n        key={address}\n        className={buildClassName(styles.account, isActiveAccount && styles.account_current)}\n        onClick={isConnected ? undefined : () => handleAccountToggle(index)}\n      >\n        <span className={styles.accountName}>\n          <i className={buildClassName(styles.accountCurrencyIcon, 'icon-ton')} aria-hidden />\n          {formatCurrency(toDecimal(balance), '', ACCOUNT_BALANCE_DECIMALS)}\n        </span>\n        <div className={styles.accountFooter}>\n          <span className={styles.accountAddress}>\n            {shortenAddress(address, ACCOUNT_ADDRESS_SHIFT, ACCOUNT_ADDRESS_SHIFT)}\n          </span>\n        </div>\n\n        <div className={buildClassName(styles.accountCheckMark, isActiveAccount && styles.accountCheckMark_active)} />\n      </div>\n    );\n  }\n\n  function renderAccounts() {\n    const list = hardwareWallets ?? [];\n    const fullClassName = buildClassName(\n      styles.accounts,\n      list.length === 1 && styles.accounts_two,\n      'custom-scroll',\n    );\n\n    return (\n      <div className={fullClassName}>\n        {list.map(\n          ({ address, balance, index }) => renderAccount(\n            address,\n            balance,\n            index,\n            alreadyConnectedList.includes(address),\n          ),\n        )}\n        {renderAddAccount()}\n      </div>\n    );\n  }\n\n  const areAccountsSelected = !selectedAccountIndices.length;\n  const title = selectedAccountIndices.length\n    ? lang('%1$d Selected', selectedAccountIndices.length) as string\n    : lang('Select Ledger Wallets');\n\n  return (\n    <>\n      <ModalHeader title={title} onClose={onClose} />\n      <div className={styles.container}>\n        {renderAccounts()}\n        <div className={styles.actionBlock}>\n          <Button\n            className={styles.button}\n            onClick={shouldCloseOnCancel ? onClose : onCancel}\n          >\n            {lang(shouldCloseOnCancel ? 'Cancel' : 'Back')}\n          </Button>\n          <Button\n            isPrimary\n            isDisabled={areAccountsSelected}\n            onClick={handleAddLedgerWallets}\n            className={styles.button}\n          >\n            {lang('Add')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(LedgerSelectWallets);\n","import React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { ActiveTab, ContentTab } from '../../global/types';\n\nimport { IS_ANDROID_DIRECT, IS_CAPACITOR } from '../../config';\nimport { selectCurrentAccount, selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { getStatusBarHeight } from '../../util/capacitor';\nimport { captureEvents, SwipeDirection } from '../../util/captureEvents';\nimport { setStatusBarStyle } from '../../util/switchTheme';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_TOUCH_ENV, REM } from '../../util/windowEnvironment';\nimport windowSize from '../../util/windowSize';\n\nimport useBackgroundMode, { isBackgroundModeActive } from '../../hooks/useBackgroundMode';\nimport { useOpenFromMainBottomSheet } from '../../hooks/useDelegatedBottomSheet';\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useEffectOnce from '../../hooks/useEffectOnce';\nimport useFlag from '../../hooks/useFlag';\nimport useInterval from '../../hooks/useInterval';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport usePreventPinchZoomGesture from '../../hooks/usePreventPinchZoomGesture';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport ReceiveModal from '../receive/ReceiveModal';\nimport StakeModal from '../staking/StakeModal';\nimport StakingInfoModal from '../staking/StakingInfoModal';\nimport UnstakeModal from '../staking/UnstakeModal';\nimport UpdateAvailable from '../ui/UpdateAvailable';\nimport VestingModal from '../vesting/VestingModal';\nimport VestingPasswordModal from '../vesting/VestingPasswordModal';\nimport { LandscapeActions, PortraitActions } from './sections/Actions';\nimport Card from './sections/Card';\nimport StickyCard from './sections/Card/StickyCard';\nimport Content from './sections/Content';\nimport Warnings from './sections/Warnings';\n\nimport styles from './Main.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\ntype StateProps = {\n  currentTokenSlug?: string;\n  isStakingActive: boolean;\n  isUnstakeRequested?: boolean;\n  isTestnet?: boolean;\n  isLedger?: boolean;\n  isStakingInfoModalOpen?: boolean;\n  isSwapDisabled?: boolean;\n  isOnRampDisabled?: boolean;\n  isMediaViewerOpen?: boolean;\n};\n\nconst STICKY_CARD_INTERSECTION_THRESHOLD = -3.75 * REM;\nconst UPDATE_SWAPS_INTERVAL_NOT_FOCUSED = 15000; // 15 sec\nconst UPDATE_SWAPS_INTERVAL = 3000; // 3 sec\n\nfunction Main({\n  isActive,\n  currentTokenSlug,\n  isStakingActive,\n  isUnstakeRequested,\n  isTestnet,\n  isLedger,\n  isStakingInfoModalOpen,\n  isSwapDisabled,\n  isOnRampDisabled,\n  isMediaViewerOpen,\n}: OwnProps & StateProps) {\n  const {\n    selectToken,\n    startStaking,\n    openBackupWalletModal,\n    setActiveContentTab,\n    openStakingInfo,\n    closeStakingInfo,\n    setLandscapeActionsActiveTabIndex,\n    loadExploreSites,\n    openReceiveModal,\n    updatePendingSwaps,\n  } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const cardRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const portraitContainerRef = useRef<HTMLDivElement>(null);\n  const [canRenderStickyCard, setCanRenderStickyCard] = useState(false);\n  const [shouldRenderDarkStatusBar, setShouldRenderDarkStatusBar] = useState(false);\n  const safeAreaTop = IS_CAPACITOR ? getStatusBarHeight() : windowSize.get().safeAreaTop;\n  const [isFocused, markIsFocused, unmarkIsFocused] = useFlag(!isBackgroundModeActive());\n\n  useBackgroundMode(unmarkIsFocused, markIsFocused);\n\n  useOpenFromMainBottomSheet('receive', openReceiveModal);\n  usePreventPinchZoomGesture(isMediaViewerOpen);\n\n  const { isPortrait } = useDeviceScreen();\n  const {\n    shouldRender: shouldRenderStickyCard,\n    transitionClassNames: stickyCardTransitionClassNames,\n  } = useShowTransition(canRenderStickyCard);\n\n  useEffectOnce(loadExploreSites);\n\n  useEffect(() => {\n    setStatusBarStyle(shouldRenderDarkStatusBar);\n  }, [shouldRenderDarkStatusBar]);\n\n  useInterval(updatePendingSwaps, isFocused ? UPDATE_SWAPS_INTERVAL : UPDATE_SWAPS_INTERVAL_NOT_FOCUSED);\n\n  useEffect(() => {\n    if (!isPortrait || !isActive) {\n      setCanRenderStickyCard(false);\n      return undefined;\n    }\n\n    const rootMarginTop = STICKY_CARD_INTERSECTION_THRESHOLD - safeAreaTop;\n    const observer = new IntersectionObserver((entries) => {\n      const { isIntersecting, boundingClientRect: { left, width } } = entries[0];\n      setCanRenderStickyCard(entries.length > 0 && !isIntersecting && left < width);\n    }, { rootMargin: `${rootMarginTop}px 0px 0px` });\n\n    const cardTopSideObserver = new IntersectionObserver((entries) => {\n      const { isIntersecting } = entries[0];\n\n      setShouldRenderDarkStatusBar(!isIntersecting);\n    }, { rootMargin: `-${safeAreaTop}px 0px 0px`, threshold: [1] });\n    const cardElement = cardRef.current;\n\n    if (cardElement) {\n      observer.observe(cardElement);\n      cardTopSideObserver.observe(cardElement);\n    }\n\n    return () => {\n      if (cardElement) {\n        observer.unobserve(cardElement);\n        cardTopSideObserver.unobserve(cardElement);\n      }\n    };\n  }, [isActive, isPortrait, safeAreaTop]);\n\n  const handleTokenCardClose = useLastCallback(() => {\n    selectToken({ slug: undefined });\n    setActiveContentTab({ tab: ContentTab.Assets });\n  });\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV || !isPortrait || !portraitContainerRef.current || !currentTokenSlug) {\n      return undefined;\n    }\n\n    return captureEvents(portraitContainerRef.current!, {\n      excludedClosestSelector: '.token-card',\n      onSwipe: (e, direction) => {\n        if (direction === SwipeDirection.Right) {\n          handleTokenCardClose();\n          return true;\n        }\n\n        return false;\n      },\n    });\n  }, [currentTokenSlug, handleTokenCardClose, isPortrait]);\n\n  const handleEarnClick = useLastCallback(() => {\n    if (!isPortrait) {\n      setLandscapeActionsActiveTabIndex({ index: ActiveTab.Stake });\n      return;\n    }\n\n    if (isStakingActive || isUnstakeRequested) {\n      openStakingInfo();\n    } else {\n      startStaking();\n    }\n  });\n\n  function renderPortraitLayout() {\n    return (\n      <div className={styles.portraitContainer} ref={portraitContainerRef}>\n        <div className={styles.head}>\n          <Warnings onOpenBackupWallet={openBackupWalletModal} />\n          <Card\n            ref={cardRef}\n            forceCloseAccountSelector={shouldRenderStickyCard}\n            onTokenCardClose={handleTokenCardClose}\n            onApyClick={handleEarnClick}\n          />\n          {shouldRenderStickyCard && (\n            <StickyCard\n              classNames={stickyCardTransitionClassNames}\n            />\n          )}\n          <PortraitActions\n            hasStaking={isStakingActive}\n            isTestnet={isTestnet}\n            isUnstakeRequested={isUnstakeRequested}\n            onEarnClick={handleEarnClick}\n            isLedger={isLedger}\n            isSwapDisabled={isSwapDisabled}\n            isOnRampDisabled={isOnRampDisabled}\n          />\n        </div>\n\n        <Content onStakedTokenClick={handleEarnClick} />\n      </div>\n    );\n  }\n\n  function renderLandscapeLayout() {\n    return (\n      <div className={styles.landscapeContainer}>\n        <div className={buildClassName(styles.sidebar, 'custom-scroll')}>\n          <Warnings onOpenBackupWallet={openBackupWalletModal} />\n          <Card onTokenCardClose={handleTokenCardClose} onApyClick={handleEarnClick} />\n          <LandscapeActions\n            hasStaking={isStakingActive}\n            isUnstakeRequested={isUnstakeRequested}\n            isLedger={isLedger}\n          />\n        </div>\n        <div className={styles.main}>\n          <Content onStakedTokenClick={handleEarnClick} />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {!IS_DELEGATED_BOTTOM_SHEET && (isPortrait ? renderPortraitLayout() : renderLandscapeLayout())}\n\n      <StakeModal />\n      <StakingInfoModal isOpen={isStakingInfoModalOpen} onClose={closeStakingInfo} />\n      <ReceiveModal />\n      <UnstakeModal />\n      {IS_ANDROID_DIRECT && <UpdateAvailable />}\n      <VestingModal />\n      <VestingPasswordModal />\n    </>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const accountState = selectCurrentAccountState(global);\n      const account = selectCurrentAccount(global);\n\n      const { isSwapDisabled, isOnRampDisabled } = global.restrictions;\n\n      return {\n        isStakingActive: Boolean(accountState?.staking?.balance),\n        isUnstakeRequested: accountState?.staking?.isUnstakeRequested,\n        currentTokenSlug: accountState?.currentTokenSlug,\n        isTestnet: global.settings.isTestnet,\n        isLedger: !!account?.ledger,\n        isStakingInfoModalOpen: global.isStakingInfoModalOpen,\n        isMediaViewerOpen: Boolean(global.mediaViewer?.mediaId),\n        isSwapDisabled,\n        isOnRampDisabled,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(Main),\n);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { NotificationType } from '../../global/types';\n\nimport { pick } from '../../util/iteratees';\n\nimport Notification from '../ui/Notification';\n\ntype StateProps = {\n  notifications: NotificationType[];\n};\n\nfunction Notifications({ notifications }: StateProps) {\n  const { dismissNotification } = getActions();\n\n  if (!notifications.length) {\n    return undefined;\n  }\n\n  return (\n    <div id=\"Notifications\">\n      {notifications.map(({ message, icon }) => (\n        <Notification\n          icon={icon}\n          message={message}\n          // eslint-disable-next-line react/jsx-no-bind\n          onDismiss={dismissNotification}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['notifications']),\n)(Notifications));\n","import type { ApiVestingInfo, ApiVestingPartStatus } from '../../../api/types';\n\nexport function calcVestingAmountByStatus(vesting: ApiVestingInfo[], statuses: ApiVestingPartStatus[]) {\n  return vesting.reduce((acc, currentVesting) => {\n    return acc + currentVesting.parts.reduce((currentAcc, part) => {\n      return currentAcc + (statuses.includes(part.status) ? part.amount : 0);\n    }, 0);\n  }, 0).toString();\n}\n","import type { UserToken } from '../../../global/types';\nimport type { RGBColor } from '../../../util/colors';\n\nimport { TONCOIN_SLUG } from '../../../config';\nimport { deltaE, hex2rgb } from '../../../util/colors';\n\nconst TOKEN_CARD_COLORS: Record<string, RGBColor> = {\n  green: [80, 135, 51],\n  orange: [173, 84, 54],\n  pink: [154, 60, 144],\n  purple: [104, 48, 149],\n  red: [156, 52, 75],\n  sea: [43, 116, 123],\n  tegro: [3, 93, 229],\n  blue: [47, 108, 173],\n};\n\nexport const TOKEN_EXCEPTION_COLORS: Record<string, string> = {\n  [TONCOIN_SLUG]: 'blue',\n  'ton-eqcqc6ehrj': 'green', // STAKED\n};\n\nconst DISTANCE_THRESHOLD = 35;\n\nexport function calculateTokenCardColor(token?: UserToken): string {\n  let closestColor = 'blue';\n  let smallestDistance = Infinity;\n\n  if (!token) return closestColor;\n\n  if (TOKEN_EXCEPTION_COLORS[token.slug]) {\n    return TOKEN_EXCEPTION_COLORS[token.slug];\n  }\n\n  if (!token.color) return closestColor;\n\n  const tokenRgbColor = hex2rgb(token.color);\n\n  Object.entries(TOKEN_CARD_COLORS).forEach(([colorName, colorValue]) => {\n    const distance = deltaE(tokenRgbColor, colorValue);\n    if (distance < smallestDistance) {\n      smallestDistance = distance;\n      closestColor = colorName;\n    }\n  });\n\n  if (smallestDistance > DISTANCE_THRESHOLD) {\n    return 'blue';\n  }\n\n  return closestColor;\n}\n","import React, { memo, useState } from '../../../lib/teact/teact';\nimport { getActions, getGlobal, withGlobal } from '../../../global';\n\nimport type { LedgerWalletInfo } from '../../../util/ledger/types';\nimport { ApiCommonError } from '../../../api/types';\nimport { type Account, type HardwareConnectState, SettingsState } from '../../../global/types';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX, MNEMONIC_COUNT } from '../../../config';\nimport renderText from '../../../global/helpers/renderText';\nimport { selectFirstNonHardwareAccount, selectNetworkAccounts } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { IS_LEDGER_SUPPORTED } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { ANIMATED_STICKERS_PATHS } from '../../ui/helpers/animatedAssets';\n\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport LedgerConnect from '../../ledger/LedgerConnect';\nimport LedgerSelectWallets from '../../ledger/LedgerSelectWallets';\nimport AnimatedIconWithPreview from '../../ui/AnimatedIconWithPreview';\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport Transition from '../../ui/Transition';\nimport AddAccountPasswordModal from './AddAccountPasswordModal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './AddAccountModal.module.scss';\n\ninterface StateProps {\n  isOpen?: boolean;\n  isLoading?: boolean;\n  error?: string;\n\n  firstNonHardwareAccount?: Account;\n  hardwareWallets?: LedgerWalletInfo[];\n  accounts?: Record<string, Account>;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isOtherVersionsExist?: boolean;\n}\n\nconst enum RenderingState {\n  Initial,\n  Password,\n\n  ConnectHardware,\n  SelectAccountsHardware,\n}\n\nfunction AddAccountModal({\n  isOpen,\n  isLoading,\n  error,\n  hardwareWallets,\n  firstNonHardwareAccount,\n  accounts,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n  isOtherVersionsExist,\n}: StateProps) {\n  const {\n    addAccount,\n    clearAccountError,\n    closeAddAccountModal,\n    afterSelectHardwareWallets,\n    showError,\n    openSettingsWithState,\n    clearAccountLoading,\n  } = getActions();\n\n  const lang = useLang();\n  const [renderingKey, setRenderingKey] = useState<number>(RenderingState.Initial);\n\n  const [isNewAccountImporting, setIsNewAccountImporting] = useState<boolean>(false);\n  const [isCheckingApiAvailability, markCheckingApiAvailability, unmarkCheckingApiAvailability] = useFlag(false);\n\n  const handleBackClick = useLastCallback(() => {\n    setRenderingKey(RenderingState.Initial);\n    clearAccountError();\n  });\n\n  const handleModalClose = useLastCallback(() => {\n    setRenderingKey(RenderingState.Initial);\n    setIsNewAccountImporting(false);\n    clearAccountLoading();\n  });\n\n  const handleNewAccountClick = useLastCallback(async () => {\n    if (!firstNonHardwareAccount) {\n      addAccount({\n        method: 'createAccount',\n        password: '',\n      });\n      return;\n    }\n\n    markCheckingApiAvailability();\n    const isApiAvailable = await callApi('checkApiAvailability', {\n      accountId: getGlobal().currentAccountId!,\n    });\n    unmarkCheckingApiAvailability();\n\n    if (isApiAvailable) {\n      setRenderingKey(RenderingState.Password);\n      setIsNewAccountImporting(false);\n    } else {\n      showError({ error: ApiCommonError.ServerError });\n    }\n  });\n\n  const handleImportAccountClick = useLastCallback(() => {\n    if (!firstNonHardwareAccount) {\n      addAccount({\n        method: 'importMnemonic',\n        password: '',\n      });\n      return;\n    }\n\n    setRenderingKey(RenderingState.Password);\n    setIsNewAccountImporting(true);\n  });\n\n  const handleImportHardwareWalletClick = useLastCallback(() => {\n    setRenderingKey(RenderingState.ConnectHardware);\n  });\n\n  const handleAddLedgerWallet = useLastCallback(() => {\n    afterSelectHardwareWallets({ hardwareSelectedIndices: [hardwareWallets![0].index] });\n    closeAddAccountModal();\n  });\n\n  const handleHardwareWalletConnected = useLastCallback((isSingleWallet: boolean) => {\n    if (isSingleWallet) {\n      handleAddLedgerWallet();\n      return;\n    }\n    setRenderingKey(RenderingState.SelectAccountsHardware);\n  });\n\n  const handleSubmit = useLastCallback((password: string) => {\n    addAccount({ method: isNewAccountImporting ? 'importMnemonic' : 'createAccount', password });\n  });\n\n  const handleOpenSettingWalletVersion = useLastCallback(() => {\n    closeAddAccountModal();\n    openSettingsWithState({ state: SettingsState.WalletVersion });\n  });\n\n  function renderSelector(isActive?: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Add Wallet')} onClose={closeAddAccountModal} />\n        <AnimatedIconWithPreview\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n          play={isActive}\n          noLoop={false}\n          nonInteractive\n          className={styles.sticker}\n          tgsUrl={ANIMATED_STICKERS_PATHS.forge}\n          previewUrl={ANIMATED_STICKERS_PATHS.forgePreview}\n        />\n        <p className={styles.modalText}>\n          {renderText(lang('$add_account_description1'))}\n        </p>\n\n        <div className={styles.modalButtons}>\n          <Button\n            isPrimary\n            className={buildClassName(styles.button, styles.button_single)}\n            isLoading={isCheckingApiAvailability}\n            onClick={handleNewAccountClick}\n          >\n            {lang('Create Wallet')}\n          </Button>\n          <span className={styles.importText}>{lang('or import from')}</span>\n          <div className={buildClassName(\n            styles.importButtons,\n            !isOtherVersionsExist && styles.importButtonsWithMargin,\n          )}\n          >\n            <Button\n              className={buildClassName(styles.button, !IS_LEDGER_SUPPORTED && styles.button_single)}\n              onClick={handleImportAccountClick}\n            >\n              {lang('%1$d Secret Words', MNEMONIC_COUNT)}\n            </Button>\n            {IS_LEDGER_SUPPORTED && (\n              <Button\n                className={buildClassName(styles.button, styles.ledgerButton)}\n                onClick={handleImportHardwareWalletClick}\n              >\n                {lang('Ledger')}\n              </Button>\n            )}\n          </div>\n          {isOtherVersionsExist && (\n            <div className={styles.walletVersionBlock}>\n              <span>\n                {lang('$wallet_switch_version_1', {\n                  action: (\n                    <div\n                      role=\"button\"\n                      tabIndex={0}\n                      onClick={handleOpenSettingWalletVersion}\n                      className={styles.walletVersionText}\n                    >\n                      {lang('$wallet_switch_version_2')}\n                    </div>\n                  ),\n                })}\n              </span>\n            </div>\n          )}\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case RenderingState.Initial:\n        return renderSelector(isActive);\n      case RenderingState.Password:\n        return (\n          <AddAccountPasswordModal\n            isActive={isActive}\n            isLoading={isLoading}\n            error={error}\n            onClearError={clearAccountError}\n            onSubmit={handleSubmit}\n            onBack={handleBackClick}\n            onClose={closeAddAccountModal}\n          />\n        );\n      case RenderingState.ConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            onConnected={handleHardwareWalletConnected}\n            onCancel={handleBackClick}\n            onClose={closeAddAccountModal}\n          />\n        );\n      case RenderingState.SelectAccountsHardware:\n        return (\n          <LedgerSelectWallets\n            accounts={accounts}\n            hardwareWallets={hardwareWallets}\n            onCancel={handleBackClick}\n            onClose={closeAddAccountModal}\n          />\n        );\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      noBackdropClose\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"add-account\"\n      forceFullNative={renderingKey === RenderingState.Password}\n      onCloseAnimationEnd={handleModalClose}\n      onClose={closeAddAccountModal}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={renderingKey === RenderingState.Initial ? RenderingState.Password : undefined}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accounts = selectNetworkAccounts(global);\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const { byId: versionById } = global.walletVersions ?? {};\n  const versions = versionById?.[global.currentAccountId!];\n  const isOtherVersionsExist = !!versions?.length;\n\n  const {\n    hardwareWallets,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    isOpen: global.isAddAccountModalOpen,\n    isLoading: global.accounts?.isLoading,\n    error: global.accounts?.error,\n\n    accounts,\n    firstNonHardwareAccount,\n    hardwareState,\n    hardwareWallets,\n    isLedgerConnected,\n    isTonAppConnected,\n    isOtherVersionsExist,\n  };\n})(AddAccountModal));\n","import React, { memo } from '../../../lib/teact/teact';\n\nimport { IS_CAPACITOR } from '../../../config';\n\nimport useHistoryBack from '../../../hooks/useHistoryBack';\nimport useLang from '../../../hooks/useLang';\n\nimport ModalHeader from '../../ui/ModalHeader';\nimport PasswordForm from '../../ui/PasswordForm';\n\ninterface OwnProps {\n  isActive: boolean;\n  isLoading?: boolean;\n  error?: string;\n  onClearError: NoneToVoidFunction;\n  onSubmit: (password: string) => void;\n  onBack: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nfunction AddAccountPasswordModal({\n  isActive,\n  isLoading,\n  error,\n  onClearError,\n  onSubmit,\n  onBack,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack,\n  });\n\n  return (\n    <>\n      {!IS_CAPACITOR && <ModalHeader title={lang('Enter Password')} onClose={onClose} />}\n      <PasswordForm\n        isActive={isActive}\n        isLoading={isLoading}\n        error={error}\n        operationType=\"passcode\"\n        withCloseButton={IS_CAPACITOR}\n        submitLabel={lang('Send')}\n        cancelLabel={lang('Back')}\n        onSubmit={onSubmit}\n        onCancel={onBack}\n        onUpdate={onClearError}\n      />\n    </>\n  );\n}\n\nexport default memo(AddAccountPasswordModal);\n","import React, {\n  memo, useEffect, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { IS_CAPACITOR } from '../../../config';\nimport { selectMnemonicForCheck } from '../../../global/actions/api/auth';\nimport buildClassName from '../../../util/buildClassName';\nimport { vibrateOnError, vibrateOnSuccess } from '../../../util/capacitor';\nimport isMnemonicPrivateKey from '../../../util/isMnemonicPrivateKey';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { callApi } from '../../../api';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport MnemonicCheck from '../../auth/MnemonicCheck';\nimport MnemonicList from '../../auth/MnemonicList';\nimport MnemonicPrivateKey from '../../auth/MnemonicPrivateKey';\nimport SafetyRules from '../../auth/SafetyRules';\nimport Modal from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport PasswordForm from '../../ui/PasswordForm';\nimport Transition from '../../ui/Transition';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './BackupModal.module.scss';\n\ntype OwnProps = {\n  isOpen?: boolean;\n  onClose: () => void;\n};\n\ntype StateProps = {\n  currentAccountId?: string;\n};\n\nenum SLIDES {\n  confirm,\n  password,\n  mnemonic,\n  check,\n}\n\nfunction BackupModal({\n  isOpen, currentAccountId, onClose,\n}: OwnProps & StateProps) {\n  const { setIsBackupRequired, setIsPinAccepted, clearIsPinAccepted } = getActions();\n\n  const lang = useLang();\n  const [currentSlide, setCurrentSlide] = useState<number>(SLIDES.confirm);\n  const [nextKey, setNextKey] = useState<number | undefined>(SLIDES.password);\n  const [checkIndexes, setCheckIndexes] = useState<number[]>([]);\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | undefined>();\n\n  const mnemonicRef = useRef<string[] | undefined>(undefined);\n  const noResetFullNativeOnBlur = currentSlide === SLIDES.confirm || currentSlide === SLIDES.password;\n\n  useEffect(() => {\n    mnemonicRef.current = undefined;\n  }, [isOpen]);\n\n  const handleSafetyConfirm = useLastCallback(() => {\n    setCurrentSlide(SLIDES.password);\n    setNextKey(SLIDES.mnemonic);\n  });\n\n  const handlePasswordSubmit = useLastCallback(async (password: string) => {\n    setIsLoading(true);\n    mnemonicRef.current = await callApi('getMnemonic', currentAccountId!, password);\n\n    if (!mnemonicRef.current) {\n      setError('Wrong password, please try again.');\n      if (IS_CAPACITOR) {\n        void vibrateOnError();\n      }\n\n      setIsLoading(false);\n      return;\n    }\n    if (IS_CAPACITOR) {\n      setIsPinAccepted();\n      await vibrateOnSuccess(true);\n      clearIsPinAccepted();\n    }\n\n    setIsLoading(false);\n    setNextKey(SLIDES.check);\n    setCurrentSlide(SLIDES.mnemonic);\n  });\n\n  const handleBackupErrorUpdate = useLastCallback(() => {\n    setError(undefined);\n  });\n\n  const handleCheckMnemonic = useLastCallback(() => {\n    setCheckIndexes(selectMnemonicForCheck());\n    setCurrentSlide(SLIDES.check);\n    setNextKey(undefined);\n  });\n\n  const handleRestartCheckMnemonic = useLastCallback(() => {\n    setCurrentSlide(SLIDES.mnemonic);\n    setNextKey(SLIDES.check);\n  });\n\n  const handleModalClose = useLastCallback(() => {\n    setIsLoading(false);\n    setError(undefined);\n    setCurrentSlide(SLIDES.confirm);\n    setNextKey(SLIDES.password);\n  });\n\n  const handleCheckMnemonicSubmit = useLastCallback(() => {\n    setIsBackupRequired({ isMnemonicChecked: true });\n    onClose();\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    const mnemonic = mnemonicRef.current;\n\n    switch (currentKey) {\n      case SLIDES.confirm:\n        return (\n          <SafetyRules\n            isActive={isActive}\n            onSubmit={handleSafetyConfirm}\n            onClose={onClose}\n          />\n        );\n\n      case SLIDES.password:\n        return (\n          <>\n            {!IS_CAPACITOR && <ModalHeader title={lang('Enter Password')} onClose={onClose} />}\n            <PasswordForm\n              isActive={isActive}\n              isLoading={isLoading}\n              error={error}\n              withCloseButton={IS_CAPACITOR}\n              submitLabel={lang('Back Up')}\n              cancelLabel={lang('Cancel')}\n              onSubmit={handlePasswordSubmit}\n              onCancel={onClose}\n              onUpdate={handleBackupErrorUpdate}\n            />\n          </>\n        );\n\n      case SLIDES.mnemonic:\n        return mnemonic && isMnemonicPrivateKey(mnemonic) ? (\n          <MnemonicPrivateKey\n            privateKeyHex={mnemonic![0]}\n            onClose={onClose}\n          />\n        ) : (\n          <MnemonicList\n            mnemonic={mnemonic}\n            onNext={handleCheckMnemonic}\n            onClose={onClose}\n          />\n        );\n\n      case SLIDES.check:\n        return (\n          <MnemonicCheck\n            isActive={isActive}\n            isInModal\n            mnemonic={mnemonicRef.current as string[]}\n            checkIndexes={checkIndexes}\n            buttonLabel={lang('Done')}\n            onSubmit={handleCheckMnemonicSubmit}\n            onCancel={handleRestartCheckMnemonic}\n            onClose={onClose}\n          />\n        );\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      hasCloseButton\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"backup\"\n      forceFullNative={currentSlide === SLIDES.password}\n      noResetFullNativeOnBlur={noResetFullNativeOnBlur}\n      onClose={onClose}\n      onCloseAnimationEnd={handleModalClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={currentSlide}\n        nextKey={nextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  return { currentAccountId: global.currentAccountId };\n})(BackupModal));\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './DeleteSavedAddressModal.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  address?: string;\n  onClose: NoneToVoidFunction;\n}\n\nfunction DeleteSavedAddressModal({ isOpen, address, onClose }: OwnProps) {\n  const { removeFromSavedAddress, showNotification } = getActions();\n\n  const lang = useLang();\n\n  const handleDeleteSavedAddress = useLastCallback(() => {\n    if (!address) {\n      return;\n    }\n\n    removeFromSavedAddress({ address });\n    showNotification({ message: lang('Address removed from saved') as string, icon: 'icon-trash' });\n    onClose();\n  });\n\n  return (\n    <Modal\n      title={lang('Delete Saved Address')}\n      isCompact\n      isOpen={isOpen}\n      onClose={onClose}\n    >\n      <p className={styles.text}>{lang('Are you sure you want to remove this address from your saved ones?')}</p>\n\n      <p className={styles.text}>{lang('You will be able to save it again via Transaction Info with this address.')}</p>\n\n      <div className={modalStyles.buttons}>\n        <Button onClick={onClose} className={modalStyles.button}>{lang('Cancel')}</Button>\n        <Button isDestructive onClick={handleDeleteSavedAddress} className={modalStyles.button}>\n          {lang('Delete')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(DeleteSavedAddressModal);\n","import React, {\n  memo, useState,\n} from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport type { UserToken } from '../../../global/types';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../hooks/useSyncEffect';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './DeleteTokenModal.module.scss';\n\ninterface OwnProps {\n  token?: UserToken;\n}\n\nfunction DeleteTokenModal({ token }: OwnProps) {\n  const {\n    deleteToken,\n  } = getActions();\n\n  const [isOpen, setIsOpen] = useState(false);\n  const lang = useLang();\n\n  useSyncEffect(() => {\n    if (token) {\n      setIsOpen(true);\n    }\n  }, [token]);\n\n  const handleClose = useLastCallback(() => {\n    setIsOpen(false);\n  });\n\n  const handleDeleteToken = useLastCallback(() => {\n    handleClose();\n    deleteToken({ slug: token!.slug });\n  });\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      onClose={handleClose}\n      title={lang('Delete Token')}\n      contentClassName={styles.content}\n    >\n      <p className={styles.description}>\n        {lang('Are you sure you want to delete?', { token: <strong>{token?.name}</strong> })}\n      </p>\n      <div className={modalStyles.buttons}>\n        <Button onClick={handleClose} className={modalStyles.button}>{lang('Cancel')}</Button>\n        <Button isDestructive onClick={handleDeleteToken} className={modalStyles.button}>\n          {lang('Delete')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(DeleteTokenModal);\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport type { ApiDapp } from '../../../api/types';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport styles from './DisconnectDappModal.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  dapp?: ApiDapp;\n  onClose: NoneToVoidFunction;\n}\n\nfunction DisconnectDappModal({ isOpen, dapp, onClose }: OwnProps) {\n  const {\n    deleteAllDapps,\n    deleteDapp,\n  } = getActions();\n\n  const lang = useLang();\n\n  const handleDeleteAllDapps = useLastCallback(() => {\n    void deleteAllDapps();\n    onClose();\n  });\n\n  const handleDeleteDapp = useLastCallback(() => {\n    void deleteDapp({ origin: dapp!.origin });\n    onClose();\n  });\n\n  const title = dapp ? lang('Disconnect Dapp') : lang('Disconnect Dapps');\n  const description = dapp\n    ? lang('Are you sure you want to disconnect?', { dappname: <strong>{dapp.name}</strong> })\n    : lang('Are you sure you want to disconnect all websites?');\n  const onDisconnect = dapp ? handleDeleteDapp : handleDeleteAllDapps;\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      onClose={onClose}\n      title={title}\n      contentClassName={styles.content}\n    >\n      <p className={styles.description}>{description}</p>\n      <div className={styles.buttons}>\n        <Button onClick={onClose} className={styles.button}>{lang('Cancel')}</Button>\n        <Button isDestructive onClick={onDisconnect} className={styles.button}>\n          {lang('Disconnect')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(DisconnectDappModal);\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  selectedNftsToHide?: {\n    addresses: string[];\n    isCollection: boolean;\n  };\n}\n\nfunction HideNftModal({\n  isOpen,\n  selectedNftsToHide,\n}: OwnProps) {\n  const {\n    addNftsToBlacklist,\n    closeNftCollection,\n    closeHideNftModal,\n  } = getActions();\n\n  const lang = useLang();\n\n  const handleHide = useLastCallback(() => {\n    addNftsToBlacklist({\n      addresses: selectedNftsToHide!.addresses,\n    });\n    if (selectedNftsToHide?.isCollection) closeNftCollection();\n    closeHideNftModal();\n  });\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      onClose={closeHideNftModal}\n      title={lang('Hide NFTs')}\n    >\n      <p className={modalStyles.text}>\n        {\n          selectedNftsToHide?.isCollection\n            ? lang(\n              'Are you sure you want to hide this NFT collection containing %number% NFTs?',\n              { number: selectedNftsToHide?.addresses.length },\n            )\n            : lang(\n              'Are you sure you want to hide these %number% NFTs?',\n              { number: selectedNftsToHide?.addresses.length },\n            )\n        }\n      </p>\n      <div className={modalStyles.buttons}>\n        <Button onClick={closeHideNftModal} className={modalStyles.button}>{lang('Cancel')}</Button>\n        <Button isDestructive onClick={handleHide} className={modalStyles.button}>\n          {lang('Hide')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(HideNftModal);\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport type { Account, AccountState } from '../../../global/types';\n\nimport { MNEMONIC_COUNT } from '../../../config';\nimport renderText from '../../../global/helpers/renderText';\nimport { selectCurrentAccountState, selectNetworkAccounts } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\nimport { shortenAddress } from '../../../util/shortenAddress';\nimport { IS_IOS_APP } from '../../../util/windowEnvironment';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Button from '../../ui/Button';\nimport Checkbox from '../../ui/Checkbox';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './LogOutModal.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  onClose: (shouldCloseSettings: boolean) => void;\n}\n\ninterface StateProps {\n  currentAccountId: string;\n  hasManyAccounts: boolean;\n  accounts: Record<string, Account>;\n  accountStates: Record<string, AccountState>;\n  isBackupRequired?: boolean;\n}\n\ninterface LinkAccount {\n  id: string;\n  title: string;\n}\n\nfunction LogOutModal({\n  isOpen,\n  currentAccountId,\n  hasManyAccounts,\n  accounts,\n  accountStates,\n  isBackupRequired,\n  onClose,\n}: OwnProps & StateProps) {\n  const { signOut, switchAccount } = getActions();\n\n  const lang = useLang();\n  const [isLogOutFromAllAccounts, setIsLogOutFromAllAccounts] = useState<boolean>(false);\n\n  const accountsWithoutBackups = useMemo(() => {\n    if (!hasManyAccounts) {\n      return [];\n    }\n\n    return Object.entries(accounts).reduce<LinkAccount[]>((acc, [id, { title, address }]) => {\n      if (id !== currentAccountId && accountStates[id]?.isBackupRequired) {\n        acc.push({\n          id,\n          title: title || shortenAddress(address)!,\n        });\n      }\n\n      return acc;\n    }, []);\n  }, [accounts, accountStates, currentAccountId, hasManyAccounts]);\n\n  useEffect(() => {\n    if (isOpen) {\n      setIsLogOutFromAllAccounts(false);\n    }\n  }, [isOpen]);\n\n  const handleSwitchAccount = (accountId: string) => {\n    onClose(false);\n    switchAccount({ accountId });\n  };\n\n  const handleLogOut = useLastCallback(() => {\n    onClose(!isLogOutFromAllAccounts && hasManyAccounts);\n    signOut({ isFromAllAccounts: isLogOutFromAllAccounts });\n  });\n\n  const handleClose = useLastCallback(() => {\n    onClose(false);\n  });\n\n  function renderAccountLink(account: LinkAccount, idx: number) {\n    const { id, title } = account;\n    const fullClassName = buildClassName(\n      styles.accountLink,\n      idx + 2 === accountsWithoutBackups.length && styles.penultimate,\n    );\n\n    return (\n      <span className={fullClassName}>\n        <a\n          key={id}\n          href=\"#\"\n          className={styles.accountLink_inner}\n          onClick={(e: React.MouseEvent) => {\n            e.preventDefault();\n            handleSwitchAccount(id);\n          }}\n        >\n          {title}\n        </a>\n      </span>\n    );\n  }\n\n  function renderBackupWarning() {\n    return (\n      <p className={modalStyles.text}>\n        <b className={styles.warning}>{lang('Warning!')}</b> {lang('$logout_without_backup_warning')}\n      </p>\n    );\n  }\n\n  function renderBackupForAccountsWarning() {\n    return (\n      <p className={modalStyles.text}>\n        <b className={styles.warning}>{lang('Warning!')}</b>{' '}\n        {lang('$logout_accounts_without_backup_warning', {\n          links: <>{accountsWithoutBackups.map(renderAccountLink)}</>,\n        })}\n      </p>\n    );\n  }\n\n  const shouldRenderWarningForAnotherAccounts = isLogOutFromAllAccounts && accountsWithoutBackups.length > 0;\n  const shouldRenderWarningForCurrentAccount = isBackupRequired && !shouldRenderWarningForAnotherAccounts;\n  // Sibling button has wider text on iOS due to App Store \"Remove Wallet\" requirements\n  const cancelButtonClassNames = buildClassName(modalStyles.button, IS_IOS_APP && modalStyles.shortButton);\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      title={IS_IOS_APP ? lang('Remove Wallet') : lang('Log Out')}\n      onClose={handleClose}\n    >\n      <p className={buildClassName(modalStyles.text, modalStyles.text_noExtraMargin)}>\n        {renderText(lang('$logout_warning', MNEMONIC_COUNT))}\n      </p>\n      {hasManyAccounts && (\n        <Checkbox\n          id=\"logount_all_accounts\"\n          className={styles.checkbox}\n          checked={isLogOutFromAllAccounts}\n          onChange={setIsLogOutFromAllAccounts}\n        >\n          {renderText(lang('$logout_confirm'))}\n        </Checkbox>\n      )}\n\n      {shouldRenderWarningForCurrentAccount && renderBackupWarning()}\n      {shouldRenderWarningForAnotherAccounts && renderBackupForAccountsWarning()}\n\n      <div className={modalStyles.buttons}>\n        <Button className={cancelButtonClassNames} onClick={handleClose}>\n          {lang('Cancel')}\n        </Button>\n        <Button isDestructive onClick={handleLogOut} className={modalStyles.button}>\n          {IS_IOS_APP ? lang('Remove Wallet') : lang('Exit')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>((global): StateProps => {\n    const accounts = selectNetworkAccounts(global) || {};\n    const currentAccountState = selectCurrentAccountState(global);\n    const accountIds = Object.keys(accounts);\n    const hasManyAccounts = accountIds.length > 1;\n\n    return {\n      currentAccountId: global.currentAccountId!,\n      hasManyAccounts,\n      accounts,\n      accountStates: global.byAccountId,\n      isBackupRequired: currentAccountState?.isBackupRequired,\n    };\n  })(LogOutModal),\n);\n","import React, {\n  memo, useEffect, useRef, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport type { ApiCountryCode } from '../../../api/types';\n\nimport { selectAccount } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\n\nimport useLang from '../../../hooks/useLang';\n\nimport Loading from '../../ui/Loading';\nimport Modal from '../../ui/Modal';\n\nimport styles from './OnRampWidgetModal.module.scss';\n\ninterface StateProps {\n  isOpen?: boolean;\n  address?: string;\n  countryCode?: ApiCountryCode;\n}\n\nconst INITIAL_AMOUNT_USD = 50;\nconst ANIMATION_TIMEOUT = 200;\n\nfunction OnRampWidgetModal({ isOpen, address, countryCode }: StateProps) {\n  const {\n    closeOnRampWidgetModal,\n  } = getActions();\n\n  const lang = useLang();\n  const animationTimeoutRef = useRef<number>();\n  const [isAnimationInProgress, setIsAnimationInProgress] = useState(true);\n  const [isLoading, setIsLoading] = useState(true);\n  const withExtraHeight = countryCode === 'RU';\n\n  const iframeUrl = getIframeUrl(countryCode).replace('{address}', address ?? '');\n\n  useEffect(() => {\n    if (!isOpen) {\n      setIsAnimationInProgress(true);\n      setIsLoading(true);\n    }\n\n    return () => window.clearTimeout(animationTimeoutRef.current);\n  }, [isOpen]);\n\n  const onIframeLoaded = () => {\n    setIsLoading(false);\n\n    animationTimeoutRef.current = window.setTimeout(() => {\n      setIsAnimationInProgress(false);\n    }, ANIMATION_TIMEOUT);\n  };\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      title={lang('Buy with Card')}\n      dialogClassName={buildClassName(styles.modalDialog, withExtraHeight && styles.modalDialogExtraHeight)}\n      forceFullNative={withExtraHeight}\n      nativeBottomSheetKey=\"onramp-widget\"\n      onClose={closeOnRampWidgetModal}\n    >\n      <div className={styles.content}>\n        <div className={buildClassName(\n          styles.loaderContainer,\n          !isLoading && styles.fadeOut,\n          !isAnimationInProgress && styles.inactive,\n        )}\n        >\n          <Loading />\n        </div>\n        <iframe\n          title=\"On Ramp Widget\"\n          onLoad={onIframeLoaded}\n          className={!isLoading && styles.fadeIn}\n          width=\"100%\"\n          height=\"100%\"\n          frameBorder=\"none\"\n          src={iframeUrl}\n        >\n          {lang('Cannot load widget')}\n        </iframe>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const { address } = selectAccount(global, global.currentAccountId!) || {};\n  const { countryCode } = global.restrictions;\n\n  return {\n    isOpen: global.isOnRampWidgetModalOpen,\n    address,\n    countryCode,\n  };\n})(OnRampWidgetModal));\n\nfunction getIframeUrl(counryCode?: ApiCountryCode) {\n  return counryCode === 'RU'\n    ? 'https://dreamwalkers.io/ru/mytonwallet/?wallet={address}&give=CARDRUB&take=TON&type=buy'\n    // eslint-disable-next-line max-len\n    : `https://widget.changelly.com?from=usd%2Ceur&to=ton&amount=${INITIAL_AMOUNT_USD}&address={address}&fromDefault=usd&toDefault=ton&merchant_id=DdrqYH0dBHq6kGlj&payment_id=&v=3&color=5f41ff&headerId=1&logo=hide&buyButtonTextId=1`;\n}\n","import type { StartScanOptions } from '@capacitor-mlkit/barcode-scanning';\nimport { BarcodeFormat, BarcodeScanner } from '@capacitor-mlkit/barcode-scanning';\nimport React, { memo, useRef, useState } from '../../../lib/teact/teact';\nimport { addExtraClass, removeExtraClass } from '../../../lib/teact/teact-dom';\nimport { getActions } from '../../../global';\n\nimport buildClassName from '../../../util/buildClassName';\nimport { vibrateOnSuccess } from '../../../util/capacitor';\nimport { pause } from '../../../util/schedulers';\nimport { DPR, IS_DELEGATING_BOTTOM_SHEET, IS_IOS } from '../../../util/windowEnvironment';\n\nimport useEffectOnce from '../../../hooks/useEffectOnce';\nimport useEffectWithPrevDeps from '../../../hooks/useEffectWithPrevDeps';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './QrScannerModal.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  onClose: NoneToVoidFunction;\n}\n\ntype Point = [number, number];\ntype Square = [Point, Point, Point, Point];\n\nconst START_SCAN_DELAY_MS = IS_IOS ? 160 : 360;\nconst MODAL_ANIMATION_DURATION_MS = IS_IOS ? 650 : 500;\nconst DESTROY_SCANNER_DELAY_MS = IS_IOS ? 250 : 500;\n\nfunction QrScannerModal({ isOpen, onClose }: OwnProps) {\n  const {\n    handleQrCode,\n  } = getActions();\n\n  const [isFlashlightAvailable, setIsFlashlightAvailable] = useState(false);\n  const [isFlashlightEnabled, setIsFlashlightEnabled] = useState(false);\n  const [isScannerStarted, setIsScannerStarted] = useState(false);\n\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const scanSquareRef = useRef<HTMLDivElement>(null);\n\n  useEffectOnce(() => {\n    BarcodeScanner\n      .isTorchAvailable()\n      .then((result) => {\n        setIsFlashlightAvailable(result.available);\n      });\n    BarcodeScanner\n      .isTorchEnabled()\n      .then((result) => {\n        setIsFlashlightEnabled(result.enabled);\n      });\n  });\n\n  const onCloseAnimationEnd = useLastCallback(async () => {\n    removeExtraClass(document.documentElement, styles.documentRoot);\n    await BarcodeScanner.stopScan();\n  });\n\n  const handleClose = useLastCallback(() => {\n    setIsScannerStarted(false);\n    onClose();\n  });\n\n  const startScan = useLastCallback(async () => {\n    const options: StartScanOptions = {\n      formats: [BarcodeFormat.QrCode],\n    };\n\n    const scanAreaCoordinates = getDomNodeDimensions(scanSquareRef.current);\n\n    await BarcodeScanner.removeAllListeners();\n    const listener = await BarcodeScanner.addListener(\n      'barcodeScanned',\n      async (event) => {\n        let { cornerPoints: qrCodeCoordinates } = event.barcode;\n        qrCodeCoordinates = qrCodeCoordinates ? sortCoordinatesClockwise(qrCodeCoordinates) : undefined;\n\n        if (\n          !scanAreaCoordinates\n          || !qrCodeCoordinates\n          || isQrCodeOutsideScanArea(scanAreaCoordinates, qrCodeCoordinates)\n        ) {\n          return;\n        }\n\n        await listener.remove();\n        await vibrateOnSuccess();\n        handleQrCode({ data: event.barcode.rawValue });\n        handleClose();\n        await pause(DESTROY_SCANNER_DELAY_MS);\n        if (IS_IOS) {\n          removeExtraClass(document.documentElement, styles.documentRoot);\n        }\n      },\n    );\n\n    setIsScannerStarted(true);\n    await BarcodeScanner.startScan(options);\n  });\n\n  useEffectWithPrevDeps(([prevIsOpen]) => {\n    if (IS_DELEGATING_BOTTOM_SHEET) return undefined;\n\n    let startScanTimeoutId: number;\n    let documentClassModifyTimeoutId: number;\n    if (isOpen) {\n      startScanTimeoutId = window.setTimeout(startScan, START_SCAN_DELAY_MS);\n      documentClassModifyTimeoutId = window.setTimeout(() => {\n        addExtraClass(document.documentElement, styles.documentRoot);\n      }, MODAL_ANIMATION_DURATION_MS);\n    } else if (prevIsOpen) {\n      handleClose();\n    }\n\n    return () => {\n      if (startScanTimeoutId) window.clearTimeout(startScanTimeoutId);\n      if (documentClassModifyTimeoutId) window.clearTimeout(documentClassModifyTimeoutId);\n    };\n  }, [isOpen, handleClose, startScan]);\n\n  const handleFlashlightClick = useLastCallback(async () => {\n    if (isFlashlightEnabled) {\n      await BarcodeScanner.disableTorch();\n    } else {\n      await BarcodeScanner.enableTorch();\n    }\n    setIsFlashlightEnabled(!isFlashlightEnabled);\n  });\n\n  const flashlightButtonClassName = buildClassName(\n    styles.flashLightButton,\n    isFlashlightEnabled && styles.flashLightButtonEnabled,\n  );\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={handleClose}\n      nativeBottomSheetKey=\"qr-scanner\"\n      forceFullNative\n      onCloseAnimationEnd={onCloseAnimationEnd}\n    >\n      <div className={buildClassName(styles.scanner, isScannerStarted && styles.scannerStarted)}>\n        <div\n          className={styles.closeButton}\n          aria-label={lang('Close')}\n          role=\"button\"\n          tabIndex={0}\n          onClick={handleClose}\n        >\n          <i className={buildClassName(modalStyles.closeIcon, 'icon-close')} aria-hidden />\n        </div>\n\n        {isFlashlightAvailable && (\n          <div\n            className={flashlightButtonClassName}\n            onClick={handleFlashlightClick}\n            aria-label={lang('Toggle Flashlight')}\n            role=\"button\"\n            tabIndex={0}\n          >\n            <i className=\"icon-flashlight\" aria-hidden />\n          </div>\n        )}\n\n        <div className={styles.title}>{lang('Scan QR Code')}</div>\n\n        <div className={styles.square} ref={scanSquareRef}>\n          <div className={styles.squareInner} />\n        </div>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(QrScannerModal);\n\nfunction sortCoordinatesClockwise(coordinates: Square): Square {\n  coordinates.sort((a, b) => a[1] - b[1]);\n\n  const topHalf = coordinates.slice(0, 2) as [Point, Point];\n  const bottomHalf = coordinates.slice(2) as [Point, Point];\n\n  topHalf.sort((a, b) => b[0] - a[0]);\n  bottomHalf.sort((a, b) => a[0] - b[0]);\n\n  return [...topHalf, ...bottomHalf];\n}\n\nfunction getDomNodeDimensions(node: HTMLDivElement | null): Square | undefined {\n  if (!node) {\n    return undefined;\n  }\n\n  const scanSquareRect = node.getBoundingClientRect();\n  const scaledRect = {\n    left: scanSquareRect.left * DPR,\n    right: scanSquareRect.right * DPR,\n    top: scanSquareRect.top * DPR,\n    bottom: scanSquareRect.bottom * DPR,\n    width: scanSquareRect.width * DPR,\n    height: scanSquareRect.height * DPR,\n  };\n\n  return [\n    [scaledRect.left, scaledRect.top],\n    [scaledRect.left + scaledRect.width, scaledRect.top],\n    [scaledRect.left + scaledRect.width, scaledRect.top + scaledRect.height],\n    [scaledRect.left, scaledRect.top + scaledRect.height],\n  ];\n}\n\nfunction isQrCodeOutsideScanArea(scanArea: Square, qrCodeCoordinates: Square): boolean {\n  return (\n    scanArea[0][0] > qrCodeCoordinates[0][0]\n    || scanArea[0][1] > qrCodeCoordinates[0][1]\n    || scanArea[1][0] < qrCodeCoordinates[1][0]\n    || scanArea[1][1] > qrCodeCoordinates[1][1]\n    || scanArea[2][0] < qrCodeCoordinates[2][0]\n    || scanArea[2][1] < qrCodeCoordinates[2][1]\n    || scanArea[3][0] > qrCodeCoordinates[3][0]\n    || scanArea[3][1] < qrCodeCoordinates[3][1]\n  );\n}\n","import React, {\n  memo, useEffect, useLayoutEffect, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport renderText from '../../../global/helpers/renderText';\nimport buildClassName from '../../../util/buildClassName';\nimport captureKeyboardListeners from '../../../util/captureKeyboardListeners';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { ANIMATED_STICKERS_PATHS } from '../../ui/helpers/animatedAssets';\n\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../../ui/AnimatedIconWithPreview';\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport PasswordForm from '../../ui/PasswordForm';\nimport Transition from '../../ui/Transition';\n\nimport transferStyles from '../../transfer/Transfer.module.scss';\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './SignatureModal.module.scss';\n\ntype StateProps = {\n  dataHex?: string;\n  error?: string;\n  isSigned?: boolean;\n};\n\nconst enum SLIDES {\n  confirm,\n  password,\n  complete,\n}\n\nfunction SignatureModal({\n  dataHex, error, isSigned,\n}: StateProps) {\n  const { submitSignature, clearSignatureError, cancelSignature } = getActions();\n\n  const lang = useLang();\n  const [isModalOpen, openModal, closeModal] = useFlag(false);\n  const [currentSlide, setCurrentSlide] = useState<number>(SLIDES.confirm);\n  const [nextKey, setNextKey] = useState<number | undefined>(SLIDES.password);\n\n  useLayoutEffect(() => {\n    if (dataHex) {\n      setCurrentSlide(SLIDES.confirm);\n      setNextKey(SLIDES.password);\n      openModal();\n    }\n  }, [dataHex, openModal]);\n\n  useLayoutEffect(() => {\n    if (isSigned) {\n      setCurrentSlide(SLIDES.complete);\n      setNextKey(undefined);\n    }\n  }, [isSigned]);\n\n  useEffect(() => (\n    currentSlide === SLIDES.complete\n      ? captureKeyboardListeners({\n        onEnter: () => {\n          closeModal();\n        },\n      })\n      : undefined\n  ), [closeModal, currentSlide]);\n\n  const handleConfirm = useLastCallback(() => {\n    setCurrentSlide(SLIDES.password);\n    setNextKey(SLIDES.complete);\n  });\n\n  const handlePasswordSubmit = useLastCallback((password: string) => {\n    submitSignature({ password });\n  });\n\n  function renderConfirm() {\n    return (\n      <>\n        <ModalHeader title={lang('Confirmation')} onClose={closeModal} />\n        <div className={modalStyles.transitionContent}>\n          <div className={transferStyles.label}>{lang('Data to sign')}</div>\n          <div className={transferStyles.inputReadOnly}>\n            {dataHex}\n          </div>\n\n          <div className={styles.error}>\n            {renderText(lang('$signature_warning'))}\n          </div>\n          <div className={modalStyles.buttons}>\n            <Button className={modalStyles.button} onClick={closeModal}>{lang('Cancel')}</Button>\n            <Button isPrimary className={modalStyles.button} onClick={handleConfirm}>{lang('Sign')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderPasswordForm(isActive: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Enter Password')} onClose={closeModal} />\n        <PasswordForm\n          isActive={isActive}\n          error={error}\n          submitLabel={lang('Sign')}\n          cancelLabel={lang('Cancel')}\n          onSubmit={handlePasswordSubmit}\n          onCancel={closeModal}\n          onUpdate={clearSignatureError}\n        />\n      </>\n    );\n  }\n\n  function renderComplete(isActive: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Done!')} onClose={closeModal} />\n\n        <div className={buildClassName(modalStyles.transitionContent, modalStyles.transitionContent_simple)}>\n          <AnimatedIconWithPreview\n            play={isActive}\n            noLoop={false}\n            nonInteractive\n            className={styles.sticker}\n            tgsUrl={ANIMATED_STICKERS_PATHS.thumbUp}\n            previewUrl={ANIMATED_STICKERS_PATHS.thumbUpPreview}\n          />\n          <div className={styles.description}>\n            {lang('Signing was confirmed!')}\n          </div>\n\n          <div className={modalStyles.buttons}>\n            <Button isPrimary onClick={closeModal}>{lang('Close')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case SLIDES.confirm:\n        return renderConfirm();\n\n      case SLIDES.password:\n        return renderPasswordForm(isActive);\n\n      case SLIDES.complete:\n        return renderComplete(isActive);\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isModalOpen}\n      dialogClassName={styles.modalDialog}\n      onClose={closeModal}\n      onCloseAnimationEnd={cancelSignature}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={currentSlide}\n        nextKey={nextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal(\n  (global): StateProps => {\n    const {\n      dataHex, error, isSigned,\n    } = global.currentSignature || {};\n\n    return {\n      dataHex, error, isSigned,\n    };\n  },\n)(SignatureModal));\n","import React, { memo, type TeactNode, useMemo } from '../../../lib/teact/teact';\nimport { getActions, getGlobal, withGlobal } from '../../../global';\n\nimport type { ApiSwapActivity, ApiSwapAsset } from '../../../api/types';\n\nimport {\n  ANIMATION_END_DELAY,\n  ANIMATION_LEVEL_MIN,\n  CHANGELLY_LIVE_CHAT_URL,\n  CHANGELLY_SECURITY_EMAIL,\n  CHANGELLY_SUPPORT_EMAIL,\n  CHANGELLY_WAITING_DEADLINE,\n  TON_EXPLORER_NAME,\n  TON_SYMBOL,\n  TONCOIN_SLUG,\n} from '../../../config';\nimport { selectCurrentAccountState } from '../../../global/selectors';\nimport buildClassName from '../../../util/buildClassName';\nimport { formatFullDay, formatTime } from '../../../util/dateFormat';\nimport { formatCurrency, formatCurrencyExtended } from '../../../util/formatNumber';\nimport getBlockchainNetworkName from '../../../util/swap/getBlockchainNetworkName';\nimport { getTonExplorerTransactionUrl } from '../../../util/url';\n\nimport { useDeviceScreen } from '../../../hooks/useDeviceScreen';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport usePrevDuringAnimation from '../../../hooks/usePrevDuringAnimation';\nimport useQrCode from '../../../hooks/useQrCode';\n\nimport Countdown from '../../common/Countdown';\nimport SwapTokensInfo from '../../common/SwapTokensInfo';\nimport Button from '../../ui/Button';\nimport InteractiveTextField from '../../ui/InteractiveTextField';\nimport Modal, { CLOSE_DURATION, CLOSE_DURATION_PORTRAIT } from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './TransactionModal.module.scss';\n\ntype StateProps = {\n  activity?: ApiSwapActivity;\n  tokensBySlug?: Record<string, ApiSwapAsset>;\n};\n\nconst CHANGELLY_EXPIRE_CHECK_STATUSES = new Set(['new', 'waiting']);\nconst CHANGELLY_PENDING_STATUSES = new Set(['new', 'waiting', 'confirming', 'exchanging', 'sending']);\nconst CHANGELLY_ERROR_STATUSES = new Set(['failed', 'expired', 'refunded', 'overdue']);\nconst ONCHAIN_ERROR_STATUSES = new Set(['failed', 'expired']);\n\nfunction SwapActivityModal({ activity, tokensBySlug }: StateProps) {\n  const {\n    startSwap,\n    closeActivityInfo,\n  } = getActions();\n\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n  const animationLevel = getGlobal().settings.animationLevel;\n  const animationDuration = animationLevel === ANIMATION_LEVEL_MIN\n    ? 0\n    : (isPortrait ? CLOSE_DURATION_PORTRAIT : CLOSE_DURATION) + ANIMATION_END_DELAY;\n  const renderedActivity = usePrevDuringAnimation(activity, animationDuration);\n  const tonExplorerTitle = useMemo(() => {\n    return (lang('View Transaction on %ton_explorer_name%', {\n      ton_explorer_name: TON_EXPLORER_NAME,\n    }) as TeactNode[]\n    ).join('');\n  }, [lang]);\n\n  const { txIds, timestamp, networkFee = 0 } = renderedActivity ?? {};\n\n  let fromToken: ApiSwapAsset | undefined;\n  let toToken: ApiSwapAsset | undefined;\n  let fromAmount = '0';\n  let toAmount = '0';\n  let isPending = true;\n  let isError = false;\n  let isCexSwap = false;\n  let isCexError = false;\n  let isCexHold = false;\n  let isCexWaiting = false;\n  let isCexPending = false;\n  let isExpired = false;\n  let cexTransactionId = '';\n  let title = '';\n  let cexErrorMessage = '';\n  let isFromToncoin = true;\n  let isCountdownFinished = false;\n\n  if (renderedActivity) {\n    const {\n      status, from, to, cex,\n    } = renderedActivity;\n    fromToken = tokensBySlug?.[from];\n    toToken = tokensBySlug?.[to];\n    fromAmount = renderedActivity.fromAmount;\n    toAmount = renderedActivity.toAmount;\n    isFromToncoin = from === TONCOIN_SLUG;\n\n    if (cex) {\n      isCountdownFinished = timestamp\n        ? (timestamp + CHANGELLY_WAITING_DEADLINE - Date.now() < 0)\n        : false;\n      isExpired = CHANGELLY_EXPIRE_CHECK_STATUSES.has(cex.status) && isCountdownFinished;\n      isCexSwap = true;\n      isPending = !isExpired && CHANGELLY_PENDING_STATUSES.has(cex.status);\n      isCexPending = isPending;\n      isCexError = isExpired || CHANGELLY_ERROR_STATUSES.has(cex.status);\n      isCexHold = cex.status === 'hold';\n      // Skip the 'waiting' status for transactions from Toncoin to account for delayed status updates from hangelly\n      isCexWaiting = cex.status === 'waiting' && !isFromToncoin && !isExpired;\n      cexTransactionId = cex.transactionId;\n    } else {\n      isPending = status === 'pending';\n      isError = ONCHAIN_ERROR_STATUSES.has(status!);\n    }\n\n    if (isPending) {\n      title = lang('Swapping');\n    } else if (isCexHold) {\n      title = lang('Swap On Hold');\n    } else if (isCexError) {\n      const { status: cexStatus } = renderedActivity?.cex ?? {};\n      if (cexStatus === 'expired' || cexStatus === 'overdue') {\n        title = lang('Swap Expired');\n        cexErrorMessage = lang('You have not sent the coins to the specified address.');\n      } else if (cexStatus === 'refunded') {\n        title = lang('Swap Refunded');\n        cexErrorMessage = lang('Exchange failed and coins were refunded to your wallet.');\n      } else {\n        title = lang('Swap Failed');\n      }\n    } else if (isError) {\n      title = lang('Swap Failed');\n    } else {\n      title = lang('Swapped');\n    }\n  }\n\n  const [, transactionHash] = (txIds?.[0] || '').split(':');\n  const transactionUrl = getTonExplorerTransactionUrl(transactionHash);\n\n  const { payinAddress, payoutAddress, payinExtraId } = renderedActivity?.cex || {};\n  const shouldShowQrCode = !payinExtraId;\n  const { qrCodeRef, isInitialized } = useQrCode(\n    payinAddress,\n    !!payinAddress,\n    styles.qrCodeHidden,\n    true,\n  );\n\n  const handleClose = useLastCallback(() => {\n    closeActivityInfo({ id: renderedActivity!.id });\n  });\n\n  const handleSwapClick = useLastCallback(() => {\n    closeActivityInfo({ id: activity!.id });\n    startSwap({\n      tokenInSlug: activity!.from,\n      tokenOutSlug: activity!.to,\n      amountIn: fromAmount,\n    });\n  });\n\n  function renderHeader() {\n    return (\n      <div className={styles.transactionHeader}>\n        <div className={styles.headerTitle}>\n          {title}\n          {isPending && (\n            <i\n              className={buildClassName(styles.clockIcon, 'icon-clock')}\n              title={title}\n              aria-hidden\n            />\n          )}\n        </div>\n        {!!timestamp && (\n          <div className={styles.headerDate}>\n            {formatFullDay(lang.code!, timestamp)}, {formatTime(timestamp)}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  function renderFooterButton() {\n    let isButtonVisible = true;\n    let buttonText = 'Swap Again';\n\n    if (isCexWaiting) {\n      return (\n        <Button onClick={handleClose} className={styles.button}>\n          {lang('Close')}\n        </Button>\n      );\n    }\n\n    if (isCexHold) {\n      isButtonVisible = false;\n    } else if (isCexError) {\n      const { status: cexStatus } = renderedActivity?.cex ?? {};\n      if (cexStatus === 'expired' || cexStatus === 'refunded' || cexStatus === 'overdue') {\n        buttonText = 'Try Again';\n      }\n    }\n\n    if (!isButtonVisible) {\n      return undefined;\n    }\n\n    return (\n      <Button onClick={handleSwapClick} className={styles.button}>\n        {lang(buttonText)}\n      </Button>\n    );\n  }\n\n  function renderCexInformation() {\n    if (isCexHold) {\n      return (\n        <div className={styles.textFieldWrapperFullWidth}>\n          <span className={styles.changellyDescription}>\n            {lang('$swap_changelly_kyc_security', {\n              email: (\n                <span className={styles.changellyDescriptionBold}>\n                  {CHANGELLY_SECURITY_EMAIL}\n                </span>),\n            })}\n          </span>\n          {cexTransactionId && (\n            <InteractiveTextField\n              text={cexTransactionId}\n              copyNotification={lang('Transaction ID was copied!')}\n              noSavedAddress\n              noExplorer\n              className={styles.changellyTextField}\n            />\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div className={buildClassName(styles.textFieldWrapperFullWidth, styles.swapSupportBlock)}>\n        {cexErrorMessage && <span className={styles.errorCexMessage}>{cexErrorMessage}</span>}\n\n        {isCexPending && (\n          <span className={buildClassName(styles.changellyDescription)}>\n            {lang('Please note that it may take up to a few hours for tokens to appear in your wallet.')}\n          </span>\n        )}\n        {isCountdownFinished && (\n          <>\n            <span className={styles.changellyDescription}>\n              {lang('$swap_changelly_support', {\n                livechat: (\n                  <a\n                    href={CHANGELLY_LIVE_CHAT_URL}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className={styles.changellyDescriptionBold}\n                  >\n                    {lang('Changelly Live Chat')}\n                  </a>),\n                email: (\n                  <span className={styles.changellyDescriptionBold}>\n                    {CHANGELLY_SUPPORT_EMAIL}\n                  </span>),\n              })}\n            </span>\n            {cexTransactionId && (\n              <InteractiveTextField\n                text={cexTransactionId}\n                copyNotification={lang('Transaction ID was copied!')}\n                noSavedAddress\n                noExplorer\n                className={styles.changellyTextField}\n              />\n            )}\n          </>\n        )}\n      </div>\n    );\n  }\n\n  function renderMemo() {\n    if (!payinExtraId) return undefined;\n\n    return (\n      <div className={styles.textFieldWrapperFullWidth}>\n        <span className={styles.textFieldLabel}>\n          {lang('Memo')}\n        </span>\n        <InteractiveTextField\n          address={payinExtraId}\n          copyNotification={lang('Memo was copied!')}\n          noSavedAddress\n          noExplorer\n          className={styles.changellyTextField}\n        />\n      </div>\n    );\n  }\n\n  function renderFee() {\n    return (\n      <div className={styles.textFieldWrapper}>\n        <span className={styles.textFieldLabel}>\n          {lang('Blockchain Fee')}\n        </span>\n        <div className={styles.textField}>\n          {formatCurrency(networkFee, TON_SYMBOL, undefined, true)}\n        </div>\n      </div>\n    );\n  }\n\n  function renderAddress() {\n    if (!payinAddress) return undefined;\n\n    return (\n      <div className={styles.textFieldWrapper}>\n        <span className={styles.textFieldLabel}>\n          {isFromToncoin\n            ? lang('Your %blockchain% Address', { blockchain: toToken?.name })\n            : lang('Address for %blockchain% transfer', { blockchain: fromToken?.name })}\n        </span>\n        <InteractiveTextField\n          address={isFromToncoin ? payoutAddress : payinAddress}\n          copyNotification={lang('Address was copied!')}\n          noSavedAddress\n          noExplorer\n        />\n      </div>\n    );\n  }\n\n  function renderSwapInfo() {\n    if (isCexWaiting) {\n      return (\n        <div className={styles.changellyInfoBlock}>\n          {networkFee > 0 && renderFee()}\n          <span className={styles.changellyDescription}>{lang('$swap_changelly_to_ton_description1', {\n            value: (\n              <span className={styles.changellyDescriptionBold}>\n                {formatCurrencyExtended(Number(fromAmount), fromToken?.symbol ?? '', true)}\n              </span>\n            ),\n            blockchain: (\n              <span className={styles.changellyDescriptionBold}>\n                {getBlockchainNetworkName(fromToken?.blockchain)}\n              </span>\n            ),\n            time: <Countdown timestamp={timestamp ?? 0} deadline={CHANGELLY_WAITING_DEADLINE} />,\n          })}\n          </span>\n          <InteractiveTextField\n            address={payinAddress}\n            copyNotification={lang('Address was copied!')}\n            noSavedAddress\n            noExplorer\n            className={styles.changellyTextField}\n          />\n          {renderMemo()}\n          {shouldShowQrCode && (\n            <div className={buildClassName(styles.qrCode, !isInitialized && styles.qrCodeHidden)} ref={qrCodeRef} />\n          )}\n        </div>\n      );\n    }\n\n    const shouldRenderFee = !(isCexError || isCexHold) || networkFee > 0;\n\n    return (\n      <>\n        {shouldRenderFee && renderFee()}\n        {renderAddress()}\n        {renderMemo()}\n      </>\n    );\n  }\n\n  function renderContent() {\n    return (\n      <>\n        <SwapTokensInfo\n          tokenIn={fromToken}\n          amountIn={fromAmount}\n          tokenOut={toToken}\n          amountOut={toAmount}\n          isError={isError || isCexError}\n        />\n        <div className={styles.infoBlock}>\n          {renderSwapInfo()}\n          {isCexSwap && renderCexInformation()}\n        </div>\n        <div className={styles.footer}>\n          {renderFooterButton()}\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      title={renderHeader()}\n      isOpen={Boolean(activity)}\n      nativeBottomSheetKey=\"swap-activity\"\n      onClose={handleClose}\n    >\n      <div className={modalStyles.transitionContent}>\n        {transactionUrl && (\n          <a\n            href={transactionUrl}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            className={styles.tonExplorer}\n            title={tonExplorerTitle}\n          >\n            <i className=\"icon-tonexplorer\" aria-hidden />\n          </a>\n        )}\n        {renderContent()}\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(\n  withGlobal((global): StateProps => {\n    const accountState = selectCurrentAccountState(global);\n\n    const id = accountState?.currentActivityId;\n    const activity = id ? accountState?.activities?.byId[id] : undefined;\n\n    return {\n      activity: activity?.kind === 'swap' ? activity : undefined,\n      tokensBySlug: global.swapTokenInfo?.bySlug,\n    };\n  })(SwapActivityModal),\n);\n","import React, {\n  memo, type TeactNode, useEffect, useMemo, useState,\n} from '../../../lib/teact/teact';\nimport { getActions, getGlobal, withGlobal } from '../../../global';\n\nimport type { ApiToken, ApiTransactionActivity } from '../../../api/types';\nimport type { StakingStatus } from '../../../global/types';\nimport { ActiveTab } from '../../../global/types';\n\nimport {\n  ANIMATION_END_DELAY,\n  ANIMATION_LEVEL_MIN,\n  IS_CAPACITOR,\n  STAKING_CYCLE_DURATION_MS,\n  TON_EXPLORER_NAME,\n  TON_SYMBOL,\n  TONCOIN_SLUG,\n} from '../../../config';\nimport { getIsTxIdLocal } from '../../../global/helpers';\nimport { selectCurrentAccountStakingStatus, selectCurrentAccountState } from '../../../global/selectors';\nimport { bigintAbs } from '../../../util/bigint';\nimport buildClassName from '../../../util/buildClassName';\nimport { vibrateOnSuccess } from '../../../util/capacitor';\nimport { formatFullDay, formatRelativeHumanDateTime, formatTime } from '../../../util/dateFormat';\nimport { toDecimal } from '../../../util/decimals';\nimport { handleOpenUrl } from '../../../util/openUrl';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { getTonExplorerTransactionUrl } from '../../../util/url';\nimport { callApi } from '../../../api';\n\nimport { useDeviceScreen } from '../../../hooks/useDeviceScreen';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport usePrevDuringAnimation from '../../../hooks/usePrevDuringAnimation';\nimport useShowTransition from '../../../hooks/useShowTransition';\nimport useSyncEffect from '../../../hooks/useSyncEffect';\n\nimport TransactionAmount from '../../common/TransactionAmount';\nimport NftInfo from '../../transfer/NftInfo';\nimport AmountWithFeeTextField from '../../ui/AmountWithFeeTextField';\nimport Button from '../../ui/Button';\nimport InteractiveTextField from '../../ui/InteractiveTextField';\nimport Modal, { CLOSE_DURATION, CLOSE_DURATION_PORTRAIT } from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport PasswordForm from '../../ui/PasswordForm';\nimport Transition from '../../ui/Transition';\n\nimport transferStyles from '../../transfer/Transfer.module.scss';\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './TransactionModal.module.scss';\n\nimport scamImg from '../../../assets/scam.svg';\n\ntype StateProps = {\n  transaction?: ApiTransactionActivity;\n  tokensBySlug?: Record<string, ApiToken>;\n  savedAddresses?: Record<string, string>;\n  isTestnet?: boolean;\n  startOfStakingCycle?: number;\n  endOfStakingCycle?: number;\n  isUnstakeRequested?: boolean;\n  isLongUnstakeRequested?: boolean;\n  stakingStatus?: StakingStatus;\n  isMediaViewerOpen?: boolean;\n};\nconst enum SLIDES {\n  initial,\n  password,\n}\n\nfunction TransactionModal({\n  transaction,\n  tokensBySlug,\n  savedAddresses,\n  isTestnet,\n  startOfStakingCycle,\n  endOfStakingCycle,\n  isUnstakeRequested,\n  isLongUnstakeRequested,\n  stakingStatus,\n  isMediaViewerOpen,\n}: StateProps) {\n  const {\n    startTransfer,\n    startStaking,\n    closeActivityInfo,\n    setIsPinAccepted,\n    clearIsPinAccepted,\n    setLandscapeActionsActiveTabIndex,\n  } = getActions();\n\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n  const [currentSlide, setCurrentSlide] = useState<number>(SLIDES.initial);\n  const [nextKey, setNextKey] = useState<number | undefined>(SLIDES.password);\n  const animationLevel = getGlobal().settings.animationLevel;\n  const animationDuration = animationLevel === ANIMATION_LEVEL_MIN\n    ? 0\n    : (isPortrait ? CLOSE_DURATION_PORTRAIT : CLOSE_DURATION) + ANIMATION_END_DELAY;\n  const renderedTransaction = usePrevDuringAnimation(transaction, animationDuration);\n  const [unstakeDate, setUnstakeDate] = useState<number>(Date.now() + STAKING_CYCLE_DURATION_MS);\n\n  const {\n    fromAddress,\n    toAddress,\n    amount,\n    comment,\n    encryptedComment,\n    fee,\n    id,\n    isIncoming,\n    slug,\n    timestamp,\n    nft,\n  } = renderedTransaction || {};\n  const [, transactionHash] = (id || '').split(':');\n  const isStaking = renderedTransaction?.type === 'stake' || renderedTransaction?.type === 'unstake';\n  const isUnstaking = renderedTransaction?.type === 'unstake';\n  const isNftTransfer = (\n    renderedTransaction?.type === 'nftTransferred'\n    || renderedTransaction?.type === 'nftReceived'\n    || Boolean(renderedTransaction?.nft)\n  );\n\n  const token = slug ? tokensBySlug?.[slug] : undefined;\n  const address = isIncoming ? fromAddress : toAddress;\n  const addressName = (address && savedAddresses?.[address]) || transaction?.metadata?.name;\n  const isScam = Boolean(transaction?.metadata?.isScam);\n\n  const [decryptedComment, setDecryptedComment] = useState<string>();\n  const [passwordError, setPasswordError] = useState<string>();\n\n  const transactionUrl = getTonExplorerTransactionUrl(transactionHash, isTestnet);\n  const tonExplorerTitle = useMemo(() => {\n    return (lang('View Transaction on %ton_explorer_name%', {\n      ton_explorer_name: TON_EXPLORER_NAME,\n    }) as TeactNode[]\n    ).join('');\n  }, [lang]);\n\n  const [withUnstakeTimer, setWithUnstakeTimer] = useState(false);\n\n  useEffect(() => {\n    if (transaction?.type !== 'unstakeRequest' || !startOfStakingCycle) {\n      return;\n    }\n\n    const shouldDisplayTimer = Boolean(isUnstakeRequested || isLongUnstakeRequested)\n      && transaction.timestamp >= startOfStakingCycle;\n    setWithUnstakeTimer(shouldDisplayTimer);\n  }, [isUnstakeRequested, startOfStakingCycle, transaction, isLongUnstakeRequested]);\n\n  const {\n    shouldRender: shouldRenderUnstakeTimer,\n    transitionClassNames: unstakeTimerClassNames,\n  } = useShowTransition(withUnstakeTimer);\n\n  useSyncEffect(() => {\n    if (renderedTransaction) {\n      setDecryptedComment(undefined);\n    }\n  }, [renderedTransaction]);\n\n  useSyncEffect(() => {\n    if (endOfStakingCycle) {\n      setUnstakeDate(endOfStakingCycle);\n    }\n  }, [endOfStakingCycle]);\n\n  const clearPasswordError = useLastCallback(() => {\n    setPasswordError(undefined);\n  });\n\n  const openPasswordSlide = useLastCallback(() => {\n    setCurrentSlide(SLIDES.password);\n    setNextKey(undefined);\n  });\n\n  const closePasswordSlide = useLastCallback(() => {\n    setCurrentSlide(SLIDES.initial);\n    setNextKey(SLIDES.password);\n    clearPasswordError();\n  });\n\n  const openHiddenComment = useLastCallback(() => {\n    if (!encryptedComment) {\n      return;\n    }\n\n    openPasswordSlide();\n  });\n\n  const handleSendClick = useLastCallback(() => {\n    closeActivityInfo({ id: id! });\n    startTransfer({\n      isPortrait,\n      tokenSlug: slug || TONCOIN_SLUG,\n      toAddress: address,\n      amount: bigintAbs(amount!),\n      comment: !isIncoming ? comment : undefined,\n    });\n  });\n\n  const handleStartStakingClick = useLastCallback(() => {\n    closeActivityInfo({ id: id! });\n\n    if (!isPortrait) {\n      setLandscapeActionsActiveTabIndex({ index: ActiveTab.Stake });\n      return;\n    }\n\n    startStaking();\n  });\n\n  const handleUnstakeMoreClick = useLastCallback(() => {\n    closeActivityInfo({ id: id! });\n\n    if (!isPortrait) {\n      setLandscapeActionsActiveTabIndex({ index: ActiveTab.Stake });\n    }\n\n    startStaking({ isUnstaking: true });\n  });\n\n  const handlePasswordSubmit = useLastCallback(async (password: string) => {\n    const result = await callApi(\n      'decryptComment',\n      getGlobal().currentAccountId!,\n      encryptedComment!,\n      fromAddress!,\n      password,\n    );\n\n    if (!result) {\n      setPasswordError('Wrong password, please try again.');\n      return;\n    }\n\n    if (IS_CAPACITOR) {\n      setIsPinAccepted();\n      await vibrateOnSuccess(true);\n    }\n\n    closePasswordSlide();\n    setDecryptedComment(result);\n  });\n\n  const handleClose = useLastCallback(() => {\n    closeActivityInfo({ id: id! });\n    if (IS_CAPACITOR) {\n      clearIsPinAccepted();\n    }\n  });\n\n  function getTitle(isLocal: boolean) {\n    if (isUnstaking) {\n      return isLocal ? 'Unstaking' : 'Unstaked';\n    }\n    if (isIncoming) return 'Received';\n\n    return isLocal ? 'Sending' : 'Sent';\n  }\n\n  function renderHeader() {\n    const isLocal = Boolean(id && getIsTxIdLocal(id));\n\n    return (\n      <div\n        className={buildClassName(\n          modalStyles.header,\n          modalStyles.header_wideContent,\n        )}\n      >\n        <div className={modalStyles.title}>\n          <div className={styles.headerTitle}>\n            {lang(getTitle(isLocal))}\n            {isLocal && (\n              <i\n                className=\"icon-clock\"\n                title={lang('Transaction in progress')}\n                aria-hidden\n              />\n            )}\n            {isScam && isIncoming && <img src={scamImg} alt={lang('Scam')} className={styles.scamImage} />}\n          </div>\n          {!!timestamp && (\n            <div className={styles.headerDate}>\n              {formatFullDay(lang.code!, timestamp)}, {formatTime(timestamp)}\n            </div>\n          )}\n        </div>\n        <Button\n          isRound\n          className={modalStyles.closeButton}\n          ariaLabel={lang('Close')}\n          onClick={handleClose}\n        >\n          <i className={buildClassName(modalStyles.closeIcon, 'icon-close')} aria-hidden />\n        </Button>\n      </div>\n    );\n  }\n\n  function renderFee() {\n    if (isIncoming || !fee) {\n      return undefined;\n    }\n\n    return (\n      <AmountWithFeeTextField\n        label={lang('Fee')}\n        amount={toDecimal(fee)}\n        currency={TON_SYMBOL}\n      />\n    );\n  }\n\n  function renderComment() {\n    if ((!comment && !encryptedComment) || (transaction?.type && !isNftTransfer)) {\n      return undefined;\n    }\n\n    const spoiler = encryptedComment\n      ? lang('Message is encrypted.')\n      : isScam\n        ? lang('Scam comment is hidden.')\n        : undefined;\n\n    return (\n      <>\n        <div className={transferStyles.label}>{lang('Comment')}</div>\n        <InteractiveTextField\n          text={encryptedComment ? decryptedComment : comment}\n          spoiler={spoiler}\n          spoilerRevealText={encryptedComment ? lang('Decrypt') : lang('Display')}\n          spoilerCallback={openHiddenComment}\n          copyNotification={lang('Comment was copied!')}\n          className={styles.copyButtonWrapper}\n          textClassName={styles.comment}\n        />\n      </>\n    );\n  }\n\n  function renderUnstakeTimer() {\n    return (\n      <div className={buildClassName(styles.unstakeTime, unstakeTimerClassNames)}>\n        <i className={buildClassName(styles.unstakeTimeIcon, 'icon-clock')} aria-hidden />\n        <div>\n          {lang('$unstaking_when_receive', {\n            time: (\n              <strong>\n                {formatRelativeHumanDateTime(lang.code, unstakeDate)}\n              </strong>\n            ),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  function renderTransactionContent() {\n    return (\n      <>\n        {isNftTransfer ? (\n          <NftInfo nft={nft} withTonExplorer />\n        ) : (\n          <TransactionAmount\n            isIncoming={isIncoming}\n            isScam={isScam}\n            amount={amount ?? 0n}\n            decimals={token?.decimals}\n            tokenSymbol={token?.symbol}\n            status={isUnstaking && !shouldRenderUnstakeTimer ? lang('Successfully') : undefined}\n          />\n        )}\n\n        {!isUnstaking && (\n          <>\n            <div className={transferStyles.label}>{lang(isIncoming ? 'Sender' : 'Recipient')}</div>\n            <InteractiveTextField\n              addressName={addressName}\n              address={address!}\n              isScam={isScam && !isIncoming}\n              copyNotification={lang('Address was copied!')}\n              className={styles.copyButtonWrapper}\n              textClassName={isScam && isIncoming ? styles.scamAddress : undefined}\n            />\n          </>\n        )}\n\n        {renderFee()}\n        {renderComment()}\n        {shouldRenderUnstakeTimer && renderUnstakeTimer()}\n\n        <div className={styles.footer}>\n          {!isStaking && !isIncoming && !isNftTransfer && (\n            <Button onClick={handleSendClick} className={styles.button}>\n              {lang('Repeat')}\n            </Button>\n          )}\n          {isStaking && (\n            <Button\n              onClick={handleStartStakingClick}\n              className={buildClassName(styles.button, isUnstaking && stakingStatus === 'active' && styles.buttonWide)}\n            >\n              {lang('Stake Again')}\n            </Button>\n          )}\n          {isUnstaking && stakingStatus === 'active' && (\n            <Button onClick={handleUnstakeMoreClick} className={buildClassName(styles.button, styles.buttonWide)}>\n              {lang('Unstake More')}\n            </Button>\n          )}\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case SLIDES.initial:\n        return (\n          <>\n            {renderHeader()}\n            <div className={modalStyles.transitionContent}>\n              {transactionUrl && (\n                <a\n                  href={transactionUrl}\n                  target=\"_blank\"\n                  rel=\"noreferrer noopener\"\n                  className={styles.tonExplorer}\n                  title={tonExplorerTitle}\n                  onClick={handleOpenUrl}\n                >\n                  <i className=\"icon-tonexplorer\" aria-hidden />\n                </a>\n              )}\n              {renderTransactionContent()}\n            </div>\n          </>\n        );\n      case SLIDES.password:\n        if (!encryptedComment) return undefined;\n\n        return (\n          <>\n            {!IS_CAPACITOR && <ModalHeader title={lang('Enter Password')} onClose={handleClose} />}\n            <PasswordForm\n              isActive={isActive}\n              error={passwordError}\n              withCloseButton={IS_CAPACITOR}\n              containerClassName={IS_CAPACITOR ? styles.passwordFormContent : styles.passwordFormContentInModal}\n              submitLabel={lang('Send')}\n              onSubmit={handlePasswordSubmit}\n              onCancel={closePasswordSlide}\n              onUpdate={clearPasswordError}\n            />\n          </>\n        );\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={Boolean(transaction) && !isMediaViewerOpen}\n      hasCloseButton\n      nativeBottomSheetKey=\"transaction-info\"\n      forceFullNative={currentSlide === SLIDES.password}\n      dialogClassName={buildClassName(styles.modalDialog, isUnstaking && styles.unstakeModal)}\n      onClose={handleClose}\n      onCloseAnimationEnd={closePasswordSlide}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={currentSlide}\n        nextKey={nextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(\n  withGlobal((global): StateProps => {\n    const accountState = selectCurrentAccountState(global);\n\n    const txId = accountState?.currentActivityId;\n    const activity = txId ? accountState?.activities?.byId[txId] : undefined;\n    const {\n      start: startOfStakingCycle,\n      end: endOfStakingCycle,\n    } = accountState?.staking || {};\n    const savedAddresses = accountState?.savedAddresses;\n    const stakingStatus = selectCurrentAccountStakingStatus(global);\n\n    return {\n      transaction: activity?.kind === 'transaction' ? activity : undefined,\n      tokensBySlug: global.tokenInfo?.bySlug,\n      savedAddresses,\n      isTestnet: global.settings.isTestnet,\n      startOfStakingCycle,\n      endOfStakingCycle,\n      isUnstakeRequested: accountState?.staking?.isUnstakeRequested,\n      isLongUnstakeRequested: accountState?.isLongUnstakeRequested,\n      stakingStatus,\n      isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),\n    };\n  })(TransactionModal),\n);\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { selectCurrentAccountState } from '../../../global/selectors';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\n\ninterface StateProps {\n  isOpen?: boolean;\n  nftAddress?: string;\n  nftName?: string;\n}\n\nfunction UnhideNftModal({\n  isOpen,\n  nftAddress,\n  nftName,\n}: StateProps) {\n  const { addNftsToWhitelist, closeUnhideNftModal } = getActions();\n\n  const lang = useLang();\n\n  const handleUnhide = useLastCallback(() => {\n    addNftsToWhitelist({ addresses: [nftAddress!] });\n    closeUnhideNftModal();\n  });\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      onClose={closeUnhideNftModal}\n      title={lang('Unhide NFT')}\n    >\n      <p className={modalStyles.text}>\n        {lang('$unhide_nft_warning', { name: <b>{nftName}</b> })}\n      </p>\n      <div className={modalStyles.buttons}>\n        <Button onClick={closeUnhideNftModal} className={modalStyles.button}>{lang('Cancel')}</Button>\n        <Button isDestructive onClick={handleUnhide} className={modalStyles.button}>\n          {lang('Unhide')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const {\n    isUnhideNftModalOpen,\n    selectedNftToUnhide,\n  } = selectCurrentAccountState(global) ?? {};\n\n  return {\n    isOpen: isUnhideNftModalOpen,\n    nftAddress: selectedNftToUnhide?.address,\n    nftName: selectedNftToUnhide?.name,\n  };\n})(UnhideNftModal));\n","import React, {\n  memo, useEffect, useMemo, useRef,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport { ActiveTab } from '../../../../global/types';\n\nimport { DEFAULT_LANDSCAPE_ACTION_TAB_ID, TONCOIN_SLUG } from '../../../../config';\nimport { requestMutation } from '../../../../lib/fasterdom/fasterdom';\nimport { selectAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\n\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../../hooks/useSyncEffect';\n\nimport AddBuyStatic from '../../../addbuy/AddBuyStatic';\nimport StakingInfoContent from '../../../staking/StakingInfoContent';\nimport StakingInitial from '../../../staking/StakingInitial';\nimport SwapInitial from '../../../swap/SwapInitial';\nimport TransferInitial from '../../../transfer/TransferInitial';\nimport Transition, { ACTIVE_SLIDE_CLASS_NAME, TO_SLIDE_CLASS_NAME } from '../../../ui/Transition';\n\nimport styles from './LandscapeActions.module.scss';\n\ninterface OwnProps {\n  hasStaking?: boolean;\n  isUnstakeRequested?: boolean;\n  isLedger?: boolean;\n}\n\ninterface StateProps {\n  activeTabIndex?: ActiveTab;\n  nfts?: ApiNft[];\n  tokenSlug: string;\n  isTestnet?: boolean;\n  isSwapDisabled: boolean;\n  isOnRampDisabled: boolean;\n}\n\nconst TABS = [ActiveTab.Receive, ActiveTab.Transfer, ActiveTab.Swap, ActiveTab.Stake];\nlet activeTransferKey = 0;\n\nfunction LandscapeActions({\n  hasStaking,\n  activeTabIndex = DEFAULT_LANDSCAPE_ACTION_TAB_ID,\n  isUnstakeRequested,\n  nfts,\n  tokenSlug,\n  isTestnet,\n  isLedger,\n  isSwapDisabled,\n  isOnRampDisabled,\n}: OwnProps & StateProps) {\n  const { setLandscapeActionsActiveTabIndex: setActiveTabIndex } = getActions();\n\n  const lang = useLang();\n\n  const isStaking = activeTabIndex === ActiveTab.Stake && (hasStaking || isUnstakeRequested);\n  const {\n    renderedBgHelpers,\n    transitionRef,\n    handleTransitionStart,\n  } = useTabHeightAnimation(\n    styles.slideContent,\n    isStaking ? styles.contentSlideStaked : undefined,\n    isStaking,\n  );\n\n  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;\n  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;\n\n  const isStakingAllowed = !isTestnet;\n  const areNotAllTabs = !isSwapAllowed || !isStakingAllowed;\n  const isLastTab = (!isStakingAllowed && !isSwapAllowed && activeTabIndex === ActiveTab.Transfer)\n    || (!isStakingAllowed && isSwapAllowed && activeTabIndex === ActiveTab.Swap)\n    || (isStakingAllowed && activeTabIndex === ActiveTab.Stake);\n  const transferKey = useMemo(() => nfts?.map((nft) => nft.address).join(',') || tokenSlug, [nfts, tokenSlug]);\n\n  useSyncEffect(() => {\n    activeTransferKey += 1;\n  }, [transferKey]);\n\n  useEffect(() => {\n    if (\n      (!isSwapAllowed && activeTabIndex === ActiveTab.Swap)\n      || (!isStakingAllowed && activeTabIndex === ActiveTab.Stake)\n    ) {\n      setActiveTabIndex({ index: ActiveTab.Transfer });\n    }\n  }, [activeTabIndex, isTestnet, isLedger, isSwapAllowed, isStakingAllowed]);\n\n  function renderCurrentTab(isActive: boolean, isPrev: boolean) {\n    switch (activeTabIndex) {\n      case ActiveTab.Receive:\n        return (\n          <AddBuyStatic\n            className={styles.slideContent}\n            isStatic\n            isTestnet={isTestnet}\n            isLedger={isLedger}\n            isSwapDisabled={isSwapDisabled}\n            isOnRampDisabled={isOnRampDisabled}\n          />\n        );\n\n      case ActiveTab.Transfer:\n        return (\n          <div className={buildClassName(styles.slideContent, styles.slideContentTransfer)}>\n            <Transition\n              activeKey={activeTransferKey}\n              name={isPrev ? 'semiFade' : 'none'}\n              shouldCleanup\n              slideClassName={styles.slideContentInner}\n            >\n              <TransferInitial key={activeTransferKey} isStatic onCommentChange={handleTransitionStart} />\n            </Transition>\n          </div>\n        );\n\n      case ActiveTab.Swap:\n        return (\n          <div className={styles.slideContent}>\n            <SwapInitial isStatic isActive={isActive} />\n          </div>\n        );\n\n      case ActiveTab.Stake:\n        if (hasStaking || isUnstakeRequested) {\n          return (\n            <div className={styles.slideContent}>\n              <StakingInfoContent isStatic isActive={isActive} />\n            </div>\n          );\n        }\n\n        return (\n          <div className={styles.slideContent}>\n            <StakingInitial isStatic isActive={isActive} />\n          </div>\n        );\n\n      default:\n        return undefined;\n    }\n  }\n\n  useEffect(() => {\n    handleTransitionStart();\n  }, [activeTabIndex, handleTransitionStart, lang]);\n\n  function handleSelectTab(index: ActiveTab) {\n    setActiveTabIndex({ index }, { forceOnHeavyAnimation: true });\n  }\n\n  return (\n    <div className={styles.container}>\n      <div className={\n        buildClassName(styles.tabs, areNotAllTabs && styles.notAllTabs)\n      }\n      >\n        <div\n          className={buildClassName(styles.tab, activeTabIndex === ActiveTab.Receive && styles.active)}\n          onClick={() => handleSelectTab(ActiveTab.Receive)}\n        >\n          <i className={buildClassName(styles.tabIcon, 'icon-add-buy')} aria-hidden />\n          <span className={styles.tabText}>{lang(isSwapAllowed || isOnRampAllowed ? 'Add / Buy' : 'Add')}</span>\n\n          <span className={styles.tabDecoration} aria-hidden />\n        </div>\n        <div\n          className={buildClassName(styles.tab, activeTabIndex === ActiveTab.Transfer && styles.active)}\n          onClick={() => handleSelectTab(ActiveTab.Transfer)}\n        >\n          <i className={buildClassName(styles.tabIcon, 'icon-send')} aria-hidden />\n          <span className={styles.tabText}>{lang('Send')}</span>\n          <span className={styles.tabDecoration} aria-hidden />\n          <span className={styles.tabDelimiter} aria-hidden />\n        </div>\n        {isSwapAllowed && (\n          <div\n            className={buildClassName(styles.tab, activeTabIndex === ActiveTab.Swap && styles.active)}\n            onClick={() => handleSelectTab(ActiveTab.Swap)}\n          >\n            <i className={buildClassName(styles.tabIcon, 'icon-swap')} aria-hidden />\n            <span className={styles.tabText}>{lang('Swap')}</span>\n            <span className={styles.tabDecoration} aria-hidden />\n            <span className={styles.tabDelimiter} aria-hidden />\n          </div>\n        )}\n        {isStakingAllowed && (\n          <div\n            className={buildClassName(\n              styles.tab,\n              activeTabIndex === ActiveTab.Stake && styles.active,\n              isStaking && styles.tab_purple,\n              (hasStaking || isUnstakeRequested) && styles.tab_purpleText,\n            )}\n            onClick={() => handleSelectTab(ActiveTab.Stake)}\n          >\n            <i className={buildClassName(styles.tabIcon, 'icon-earn')} aria-hidden />\n            <span className={styles.tabText}>\n              {lang(isUnstakeRequested ? 'Unstaking' : (hasStaking ? 'Earning' : 'Earn'))}\n            </span>\n            <span className={styles.tabDecoration} aria-hidden />\n            <span className={styles.tabDelimiter} aria-hidden />\n          </div>\n        )}\n\n      </div>\n\n      <div\n        className={buildClassName(\n          styles.contentHeader,\n          activeTabIndex === ActiveTab.Receive && styles.firstActive,\n          isLastTab && styles.lastActive,\n        )}\n      >\n        <div className={buildClassName(styles.contentHeaderInner, isStaking && styles.contentSlideStaked)} />\n      </div>\n      {renderedBgHelpers}\n\n      <Transition\n        ref={transitionRef}\n        name=\"slideFade\"\n        activeKey={activeTabIndex}\n        renderCount={TABS.length}\n        className={styles.transitionContent}\n      >\n        {renderCurrentTab}\n      </Transition>\n    </div>\n  );\n}\n\nfunction useTabHeightAnimation(slideClassName: string, contentBackgroundClassName?: string, isUnstaking = false) {\n  // eslint-disable-next-line no-null/no-null\n  const transitionRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const contentBgRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const contentFooterRef = useRef<HTMLDivElement>(null);\n\n  const lastHeightRef = useRef<number>();\n\n  const suffix = isUnstaking ? ' .staking-info' : '';\n  // eslint-disable-next-line max-len\n  const query = `.${slideClassName}.${TO_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${TO_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${ACTIVE_SLIDE_CLASS_NAME}${suffix}, .${slideClassName}.${ACTIVE_SLIDE_CLASS_NAME}${suffix}`;\n\n  const adjustBg = useLastCallback((noTransition = false) => {\n    const slide = transitionRef.current?.querySelector(query)!;\n    const rect = slide.getBoundingClientRect();\n    const shouldRenderWithoutTransition = !lastHeightRef.current || noTransition;\n\n    if (lastHeightRef.current === rect.height || !contentBgRef.current) return;\n\n    requestMutation(() => {\n      if (!contentBgRef.current || !contentFooterRef.current) return;\n\n      const contentBgStyle = contentBgRef.current.style;\n      const contentFooterStyle = contentFooterRef.current!.style;\n\n      if (shouldRenderWithoutTransition) {\n        contentBgStyle.transition = 'none';\n        contentFooterStyle.transition = 'none';\n      }\n\n      contentBgStyle.transform = `scaleY(calc(${rect.height} / 100))`;\n      contentFooterStyle.transform = `translateY(${Math.floor(rect.height)}px)`;\n\n      if (shouldRenderWithoutTransition) {\n        requestMutation(() => {\n          if (!contentBgRef.current || !contentFooterRef.current) return;\n\n          contentBgRef.current.style.transition = '';\n          contentFooterRef.current.style.transition = '';\n        });\n      }\n\n      lastHeightRef.current = rect.height;\n    });\n  });\n\n  useEffect(() => {\n    adjustBg(true);\n\n    const componentObserver = new ResizeObserver((entries) => {\n      if (!entries.length) return;\n      adjustBg(false);\n    });\n\n    if (transitionRef.current) {\n      componentObserver.observe(transitionRef.current);\n    }\n\n    return () => {\n      componentObserver.disconnect();\n    };\n  }, [adjustBg]);\n\n  const renderedBgHelpers = useMemo(() => {\n    return (\n      <>\n        <div ref={contentBgRef} className={buildClassName(styles.contentBg, contentBackgroundClassName)} />\n        <div ref={contentFooterRef} className={buildClassName(styles.contentFooter, contentBackgroundClassName)} />\n      </>\n    );\n  }, [contentBackgroundClassName]);\n\n  return {\n    renderedBgHelpers,\n    transitionRef,\n    handleTransitionStart: adjustBg,\n  };\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const accountState = selectAccountState(global, global.currentAccountId!) ?? {};\n\n      const { isSwapDisabled, isOnRampDisabled } = global.restrictions;\n      const { nfts, tokenSlug = TONCOIN_SLUG } = global.currentTransfer;\n\n      return {\n        activeTabIndex: accountState?.landscapeActionsActiveTabIndex,\n        isTestnet: global.settings.isTestnet,\n        nfts,\n        tokenSlug,\n        isSwapDisabled,\n        isOnRampDisabled,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(LandscapeActions),\n);\n","import type { ActionSheetButton } from '@capacitor/action-sheet';\nimport { ActionSheet, ActionSheetButtonStyle } from '@capacitor/action-sheet';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport React, { memo } from '../../../../lib/teact/teact';\nimport { getActions } from '../../../../global';\n\nimport { DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG, TONCOIN_SLUG } from '../../../../config';\nimport buildClassName from '../../../../util/buildClassName';\nimport { vibrate } from '../../../../util/capacitor';\nimport { IS_DELEGATING_BOTTOM_SHEET, IS_IOS_APP } from '../../../../util/windowEnvironment';\n\nimport useFlag from '../../../../hooks/useFlag';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport AddBuyModal from '../../../addbuy/AddBuyModal';\nimport Button from '../../../ui/Button';\n\nimport styles from './PortraitActions.module.scss';\n\ninterface OwnProps {\n  hasStaking?: boolean;\n  isTestnet?: boolean;\n  isUnstakeRequested?: boolean;\n  onEarnClick: NoneToVoidFunction;\n  isLedger?: boolean;\n  isSwapDisabled?: boolean;\n  isOnRampDisabled?: boolean;\n}\n\nfunction PortraitActions({\n  hasStaking,\n  isTestnet,\n  isUnstakeRequested,\n  onEarnClick,\n  isLedger,\n  isSwapDisabled,\n  isOnRampDisabled,\n}: OwnProps) {\n  const {\n    startTransfer, startSwap, openOnRampWidgetModal, openReceiveModal,\n  } = getActions();\n\n  const [isAddBuyModalOpened, openAddBuyModal, closeAddBuyModal] = useFlag();\n\n  const lang = useLang();\n\n  const isSwapAllowed = !isTestnet && !isLedger && !isSwapDisabled;\n  const isOnRampAllowed = !isTestnet && !isOnRampDisabled;\n  const isStakingAllowed = !isTestnet;\n\n  const handleStartSwap = useLastCallback(() => {\n    vibrate();\n\n    startSwap();\n  });\n\n  const handleStartSwapWidget = () => {\n    startSwap({\n      tokenInSlug: DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,\n      tokenOutSlug: TONCOIN_SLUG,\n      amountIn: '100',\n    });\n  };\n\n  const handleStartTransfer = useLastCallback(() => {\n    vibrate();\n\n    startTransfer({ isPortrait: true });\n  });\n\n  const handleAddBuyClick = useLastCallback(async () => {\n    vibrate();\n\n    if (!IS_IOS_APP) {\n      openAddBuyModal();\n      return;\n    }\n\n    const options: ActionSheetButton[] = [\n      ...(isOnRampAllowed ? [{ title: lang('Buy with Card') }] : []),\n      ...(isSwapAllowed ? [{ title: lang('Buy with Crypto') }] : []),\n      { title: lang('Receive with QR or Invoice') },\n      {\n        title: lang('Cancel'),\n        style: ActionSheetButtonStyle.Cancel,\n      },\n    ];\n\n    const actionByIndex = [\n      ...(isOnRampAllowed ? [openOnRampWidgetModal] : []),\n      ...(isSwapAllowed ? [handleStartSwapWidget] : []),\n      openReceiveModal,\n    ];\n\n    if (IS_DELEGATING_BOTTOM_SHEET) {\n      await BottomSheet.disable();\n    }\n    const result = await ActionSheet.showActions({ options });\n    if (IS_DELEGATING_BOTTOM_SHEET) {\n      await BottomSheet.enable();\n    }\n\n    actionByIndex[result.index]?.();\n  });\n\n  const handleEarnClick = useLastCallback(() => {\n    vibrate();\n    onEarnClick();\n  });\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.buttons}>\n        <Button className={styles.button} onClick={handleAddBuyClick} isSimple>\n          <i className={buildClassName(styles.buttonIcon, 'icon-add-buy')} aria-hidden />\n          {lang(isSwapAllowed || isOnRampAllowed ? 'Add / Buy' : 'Add')}\n        </Button>\n        <Button className={styles.button} onClick={handleStartTransfer} isSimple>\n          <i className={buildClassName(styles.buttonIcon, 'icon-send')} aria-hidden />\n          {lang('Send')}\n        </Button>\n        {isSwapAllowed && (\n          <Button className={styles.button} onClick={handleStartSwap} isSimple>\n            <i className={buildClassName(styles.buttonIcon, 'icon-swap')} aria-hidden />\n            {lang('Swap')}\n          </Button>\n        )}\n        {isStakingAllowed && (\n          <Button\n            className={buildClassName(styles.button, (hasStaking || isUnstakeRequested) && styles.button_purple)}\n            onClick={handleEarnClick}\n            isSimple\n          >\n            <i className={buildClassName(styles.buttonIcon, 'icon-earn')} aria-hidden />\n            {lang(isUnstakeRequested ? 'Unstaking' : hasStaking ? 'Earning' : 'Earn')}\n          </Button>\n        )}\n      </div>\n\n      <AddBuyModal\n        isOpen={isAddBuyModalOpened}\n        isTestnet={isTestnet}\n        isLedgerWallet={isLedger}\n        isSwapDisabled={isSwapDisabled}\n        isOnRampDisabled={isOnRampDisabled}\n        onClose={closeAddBuyModal}\n      />\n    </div>\n  );\n}\n\nexport default memo(PortraitActions);\n","export { default as LandscapeActions } from './LandscapeActions';\nexport { default as PortraitActions } from './PortraitActions';\n","import React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiWalletVersion } from '../../../../api/types';\nimport { type Account, SettingsState } from '../../../../global/types';\n\nimport { selectNetworkAccounts } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { vibrate } from '../../../../util/capacitor';\nimport captureEscKeyListener from '../../../../util/captureEscKeyListener';\nimport { shortenAddress } from '../../../../util/shortenAddress';\nimport trapFocus from '../../../../util/trapFocus';\n\nimport useFlag from '../../../../hooks/useFlag';\nimport useFocusAfterAnimation from '../../../../hooks/useFocusAfterAnimation';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useQrScannerSupport from '../../../../hooks/useQrScannerSupport';\nimport useShowTransition from '../../../../hooks/useShowTransition';\n\nimport Button from '../../../ui/Button';\n\nimport styles from './AccountSelector.module.scss';\n\ninterface OwnProps {\n  canEdit?: boolean;\n  forceClose?: boolean;\n  accountClassName?: string;\n  accountSelectorClassName?: string;\n  menuButtonClassName?: string;\n  noSettingsButton?: boolean;\n  noAccountSelector?: boolean;\n  isInsideSticky?: boolean;\n}\n\ninterface StateProps {\n  currentAccountId: string;\n  currentAccount?: Account;\n  accounts?: Record<string, Account>;\n  shouldForceAccountEdit?: boolean;\n  currentWalletVersion?: ApiWalletVersion;\n}\n\nconst HARDWARE_ACCOUNT_ADDRESS_SHIFT = 3;\nconst ACCOUNT_ADDRESS_SHIFT = 4;\nconst ACCOUNTS_AMOUNT_FOR_COMPACT_DIALOG = 2;\n\nfunction AccountSelector({\n  currentAccountId,\n  currentAccount,\n  canEdit,\n  forceClose,\n  accountClassName,\n  accountSelectorClassName,\n  menuButtonClassName,\n  noSettingsButton,\n  noAccountSelector,\n  accounts,\n  isInsideSticky,\n  shouldForceAccountEdit,\n  currentWalletVersion,\n}: OwnProps & StateProps) {\n  const {\n    switchAccount, renameAccount, openAddAccountModal, openSettings, requestOpenQrScanner, openSettingsWithState,\n  } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const modalRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const lang = useLang();\n  const [isOpen, openAccountSelector, closeAccountSelector] = useFlag(false);\n  const [isEdit, openEdit, closeEdit] = useFlag(shouldForceAccountEdit);\n  const { shouldRender, transitionClassNames } = useShowTransition(isOpen && !isEdit, undefined, undefined, 'slow');\n  const [inputValue, setInputValue] = useState<string>(currentAccount?.title || '');\n\n  const isQrScannerSupported = useQrScannerSupport();\n\n  const noSettingsOrQrSupported = noSettingsButton || (isInsideSticky && isQrScannerSupported);\n  const withAddW5Button = currentWalletVersion !== 'W5' && !currentAccount?.isHardware;\n\n  const accountsAmount = useMemo(() => Object.keys(accounts || {}).length, [accounts]);\n\n  useEffect(() => {\n    if (isOpen && forceClose) {\n      closeAccountSelector();\n    }\n  }, [forceClose, isOpen]);\n\n  useEffect(\n    () => (shouldRender ? captureEscKeyListener(closeAccountSelector) : undefined),\n    [closeAccountSelector, isOpen, shouldRender],\n  );\n  useEffect(\n    () => (isEdit ? captureEscKeyListener(closeEdit) : undefined),\n    [closeEdit, isEdit],\n  );\n  useEffect(() => (shouldRender && modalRef.current ? trapFocus(modalRef.current) : undefined), [shouldRender]);\n  useFocusAfterAnimation(inputRef, !isEdit);\n  useEffect(() => {\n    if (isEdit) {\n      setInputValue(currentAccount?.title || '');\n    }\n  }, [currentAccount?.title, isEdit]);\n\n  const handleOpenAccountSelector = () => {\n    openAccountSelector();\n  };\n\n  const handleSwitchAccount = (value: string) => {\n    vibrate();\n    closeAccountSelector();\n    switchAccount({ accountId: value });\n  };\n\n  const handleEditClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n\n    openEdit();\n  };\n\n  const handleSaveClick = useLastCallback(() => {\n    renameAccount({ accountId: currentAccountId, title: inputValue.trim() });\n    closeAccountSelector();\n    closeEdit();\n  });\n\n  const handleAddWalletClick = useLastCallback(() => {\n    vibrate();\n    closeAccountSelector();\n    openAddAccountModal();\n  });\n\n  const handleAddV5WalletClick = useLastCallback(() => {\n    vibrate();\n    closeAccountSelector();\n    openSettingsWithState({ state: SettingsState.WalletVersion });\n  });\n\n  const handleInputKeyDown = useLastCallback((e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.code === 'Enter') {\n      handleSaveClick();\n    } else {\n      setInputValue(e.currentTarget.value);\n    }\n  });\n\n  const handleQrScanClick = useLastCallback(() => {\n    closeAccountSelector();\n    requestOpenQrScanner();\n  });\n\n  function renderButton(accountId: string, address: string, isHardware?: boolean, title?: string) {\n    const isActive = accountId === currentAccountId;\n\n    return (\n      <div\n        className={buildClassName(styles.button, isActive && styles.button_current)}\n        aria-label={lang('Switch Account')}\n        onClick={isActive ? undefined : () => handleSwitchAccount(accountId)}\n      >\n        {title && <span className={styles.accountName}>{title}</span>}\n        <div className={styles.accountAddressBlock}>\n          {isHardware && <i className=\"icon-ledger\" aria-hidden />}\n          <span>\n            {shortenAddress(\n              address,\n              isHardware ? HARDWARE_ACCOUNT_ADDRESS_SHIFT : ACCOUNT_ADDRESS_SHIFT,\n              ACCOUNT_ADDRESS_SHIFT,\n            )}\n          </span>\n        </div>\n\n        {isActive && canEdit && (\n          <div className={styles.edit} onClick={handleEditClick}>\n            <i className=\"icon-pen\" aria-hidden />\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  const fullClassName = buildClassName(\n    styles.container,\n    transitionClassNames,\n    accountSelectorClassName,\n  );\n  const accountTitleClassName = buildClassName(\n    styles.accountTitle,\n    accountClassName,\n    isQrScannerSupported && !noSettingsOrQrSupported && styles.accountTitleShort,\n  );\n  const settingsButtonClassName = buildClassName(\n    styles.menuButton,\n    menuButtonClassName,\n    isQrScannerSupported && styles.menuButtonFirst,\n  );\n\n  function renderCurrentAccount() {\n    return (\n      <>\n        {!noAccountSelector && (\n          <div className={accountTitleClassName} onClick={handleOpenAccountSelector}>\n            <span className={styles.accountTitleInner}>\n              {currentAccount?.title || shortenAddress(currentAccount?.address || '')}\n            </span>\n            <i className={buildClassName('icon icon-caret-down', styles.arrowIcon)} aria-hidden />\n          </div>\n        )}\n        {!noSettingsOrQrSupported && (\n          <Button\n            className={settingsButtonClassName}\n            isText\n            isSimple\n            kind=\"transparent\"\n            ariaLabel={lang('Main menu')}\n            onClick={openSettings}\n          >\n            <i className=\"icon-cog\" aria-hidden />\n          </Button>\n        )}\n        {isQrScannerSupported && (\n          <Button\n            className={buildClassName(styles.menuButton, menuButtonClassName)}\n            isText\n            isSimple\n            kind=\"transparent\"\n            ariaLabel={lang('Scan QR Code')}\n            onClick={handleQrScanClick}\n          >\n            <i className=\"icon-qr-scanner\" aria-hidden />\n          </Button>\n        )}\n      </>\n    );\n  }\n\n  function renderInput() {\n    return (\n      <div className={buildClassName(styles.inputContainer, 'account-edit-input')}>\n        <input\n          ref={inputRef}\n          className={styles.input}\n          value={inputValue}\n          onKeyDown={handleInputKeyDown}\n          onChange={(e) => setInputValue(e.target.value)}\n        />\n        <Button isSimple className={styles.saveButton} onClick={handleSaveClick}>{lang('Done')}</Button>\n      </div>\n    );\n  }\n\n  function renderAccountsChooser() {\n    const dialogFullClassName = buildClassName(\n      styles.dialog,\n      accountsAmount <= ACCOUNTS_AMOUNT_FOR_COMPACT_DIALOG && styles.dialog_compact,\n    );\n\n    return (\n      <div\n        ref={modalRef}\n        className={fullClassName}\n        tabIndex={-1}\n        role=\"dialog\"\n      >\n        <div className={styles.backdrop} onClick={() => closeAccountSelector()} />\n        <div className={dialogFullClassName}>\n          {accounts && Object.entries(accounts).map(\n            ([accountId, { title, address, isHardware }]) => renderButton(accountId, address, isHardware, title),\n          )}\n          {withAddW5Button && (\n            <Button className={styles.createAccountButton} onClick={handleAddV5WalletClick}>\n              {lang('Switch to W5')}\n              <i className={buildClassName(styles.createAccountIcon, 'icon-versions')} aria-hidden />\n            </Button>\n          )}\n          <Button className={styles.createAccountButton} onClick={handleAddWalletClick}>\n            {lang('Add Wallet')}\n            <i className={buildClassName(styles.createAccountIcon, 'icon-plus')} aria-hidden />\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      {!isEdit && renderCurrentAccount()}\n      {isEdit && renderInput()}\n\n      {shouldRender && renderAccountsChooser()}\n    </>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>(\n  (global): StateProps => {\n    const accounts = selectNetworkAccounts(global);\n    const currentAccountId = global.currentAccountId!;\n\n    return {\n      currentAccountId,\n      currentAccount: accounts?.[currentAccountId],\n      accounts,\n      shouldForceAccountEdit: global.shouldForceAccountEdit,\n      currentWalletVersion: global.walletVersions?.currentVersion,\n    };\n  },\n  (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n)(AccountSelector));\n","import type { Ref } from 'react';\nimport type { TeactNode } from '../../../../lib/teact/teact';\nimport React, { memo, useEffect, useMemo } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiBaseCurrency } from '../../../../api/types';\nimport type { UserToken } from '../../../../global/types';\n\nimport { IS_EXTENSION, TON_EXPLORER_NAME } from '../../../../config';\nimport {\n  selectAccount,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectCurrentNetwork,\n} from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport captureEscKeyListener from '../../../../util/captureEscKeyListener';\nimport { copyTextToClipboard } from '../../../../util/clipboard';\nimport { formatCurrency, getShortCurrencySymbol } from '../../../../util/formatNumber';\nimport { shortenAddress } from '../../../../util/shortenAddress';\nimport { getTonExplorerAddressUrl } from '../../../../util/url';\nimport { IS_IOS, IS_SAFARI } from '../../../../util/windowEnvironment';\nimport { calculateFullBalance } from './helpers/calculateFullBalance';\n\nimport useCurrentOrPrev from '../../../../hooks/useCurrentOrPrev';\nimport useFlag from '../../../../hooks/useFlag';\nimport useHistoryBack from '../../../../hooks/useHistoryBack';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useShowTransition from '../../../../hooks/useShowTransition';\nimport useUpdateIndicator from '../../../../hooks/useUpdateIndicator';\n\nimport AnimatedCounter from '../../../ui/AnimatedCounter';\nimport Loading from '../../../ui/Loading';\nimport LoadingDots from '../../../ui/LoadingDots';\nimport Transition from '../../../ui/Transition';\nimport AccountSelector from './AccountSelector';\nimport CurrencySwitcher from './CurrencySwitcher';\nimport TokenCard from './TokenCard';\n\nimport styles from './Card.module.scss';\n\ninterface OwnProps {\n  ref?: Ref<HTMLDivElement>;\n  forceCloseAccountSelector?: boolean;\n  onTokenCardClose: NoneToVoidFunction;\n  onApyClick: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  address?: string;\n  tokens?: UserToken[];\n  activeDappOrigin?: string;\n  currentTokenSlug?: string;\n  isTestnet?: boolean;\n  baseCurrency?: ApiBaseCurrency;\n  stakingBalance?: bigint;\n  balanceUpdateStartedAt?: number;\n}\n\nfunction Card({\n  ref,\n  address,\n  tokens,\n  activeDappOrigin,\n  currentTokenSlug,\n  forceCloseAccountSelector,\n  onTokenCardClose,\n  onApyClick,\n  isTestnet,\n  baseCurrency,\n  stakingBalance,\n  balanceUpdateStartedAt,\n}: OwnProps & StateProps) {\n  const { showNotification } = getActions();\n\n  const lang = useLang();\n  const addressUrl = getTonExplorerAddressUrl(address, isTestnet);\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n  const tonExplorerTitle = useMemo(() => {\n    return (lang('View address on %ton_explorer_name%', {\n      ton_explorer_name: TON_EXPLORER_NAME,\n    }) as TeactNode[]\n    ).join('');\n  }, [lang]);\n\n  const isUpdating = useUpdateIndicator(balanceUpdateStartedAt);\n\n  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = useFlag(false);\n  const currentToken = useMemo(() => {\n    return tokens ? tokens.find((token) => token.slug === currentTokenSlug) : undefined;\n  }, [currentTokenSlug, tokens]);\n  const renderedToken = useCurrentOrPrev(currentToken, true);\n  const {\n    shouldRender: shouldRenderTokenCard,\n    transitionClassNames: tokenCardTransitionClassNames,\n  } = useShowTransition(Boolean(currentTokenSlug), undefined, true);\n\n  const dappDomain = useMemo(() => {\n    if (!activeDappOrigin) {\n      return undefined;\n    }\n\n    let value: string | undefined;\n    try {\n      value = new URL(activeDappOrigin).hostname;\n    } catch (err) {\n      value = shortenAddress(activeDappOrigin);\n    }\n\n    return value;\n  }, [activeDappOrigin]);\n  const renderingDappDomain = useCurrentOrPrev(dappDomain, true);\n\n  const values = useMemo(() => {\n    return tokens ? calculateFullBalance(tokens, stakingBalance) : undefined;\n  }, [tokens, stakingBalance]);\n\n  const {\n    shouldRender: shouldRenderDappElement,\n    transitionClassNames: dappClassNames,\n  } = useShowTransition(Boolean(dappDomain));\n\n  const shouldRenderDapp = IS_EXTENSION && shouldRenderDappElement;\n\n  useHistoryBack({\n    isActive: Boolean(currentTokenSlug),\n    onBack: onTokenCardClose,\n  });\n\n  useEffect(\n    () => (shouldRenderTokenCard ? captureEscKeyListener(onTokenCardClose) : undefined),\n    [shouldRenderTokenCard, onTokenCardClose],\n  );\n\n  const handleCopyAddress = useLastCallback(() => {\n    if (!address) return;\n\n    showNotification({ message: lang('Address was copied!') as string, icon: 'icon-copy' });\n    void copyTextToClipboard(address);\n  });\n\n  const {\n    primaryValue, primaryWholePart, primaryFractionPart, changeClassName, changePrefix, changePercent, changeValue,\n  } = values || {};\n\n  function renderLoader() {\n    return (\n      <div className={buildClassName(styles.isLoading)}>\n        <Loading color=\"white\" className={styles.center} />\n      </div>\n    );\n  }\n\n  function renderBalance() {\n    const iconCaretClassNames = buildClassName(\n      'icon',\n      'icon-caret-down',\n      primaryFractionPart || shortBaseSymbol.length > 1 ? styles.iconCaretFraction : styles.iconCaret,\n    );\n    const noAnimationCounter = !isUpdating || IS_SAFARI || IS_IOS;\n    return (\n      <>\n        <Transition activeKey={isUpdating ? 1 : 0} name=\"fade\" shouldCleanup className={styles.balanceTransition}>\n          <div className={styles.primaryValue}>\n            <span\n              className={buildClassName(styles.currencySwitcher, isUpdating && 'glare-text')}\n              role=\"button\"\n              tabIndex={0}\n              onClick={openCurrencyMenu}\n            >\n              {shortBaseSymbol.length === 1 && shortBaseSymbol}\n              <AnimatedCounter isDisabled={noAnimationCounter} text={primaryWholePart ?? ''} />\n              {primaryFractionPart && (\n                <span className={styles.primaryFractionPart}>\n                  <AnimatedCounter isDisabled={noAnimationCounter} text={`.${primaryFractionPart}`} />\n                </span>\n              )}\n              {shortBaseSymbol.length > 1 && (\n                <span className={styles.primaryFractionPart}>\n                &nbsp;{shortBaseSymbol}\n                </span>\n              )}\n              <i className={iconCaretClassNames} aria-hidden />\n            </span>\n          </div>\n        </Transition>\n        <CurrencySwitcher isOpen={isCurrencyMenuOpen} onClose={closeCurrencyMenu} />\n        {primaryValue !== '0' && (\n          <div className={buildClassName(styles.change, changeClassName)}>\n            {changePrefix}\n            &thinsp;\n            <AnimatedCounter text={`${Math.abs(changePercent!)}%`} />\n            {'  '}\n            <AnimatedCounter text={formatCurrency(Math.abs(changeValue!), shortBaseSymbol)} />\n          </div>\n        )}\n      </>\n    );\n  }\n\n  return (\n    <div className={styles.containerWrapper} ref={ref}>\n      <Transition activeKey={isUpdating ? 1 : 0} name=\"fade\" shouldCleanup className={styles.loadingDotsContainer}>\n        {isUpdating ? <LoadingDots isActive isDoubled /> : undefined}\n      </Transition>\n      <div className={buildClassName(styles.container, currentTokenSlug && styles.backstage)}>\n        <AccountSelector forceClose={forceCloseAccountSelector} canEdit />\n        {shouldRenderDapp && (\n          <div className={buildClassName(styles.dapp, dappClassNames)}>\n            <i className={buildClassName(styles.dappIcon, 'icon-laptop')} aria-hidden />\n            {renderingDappDomain}\n          </div>\n        )}\n        {values ? renderBalance() : renderLoader()}\n        <div className={styles.addressContainer}>\n          <button\n            type=\"button\"\n            className={styles.address}\n            aria-label={lang('Copy wallet address')}\n            onClick={handleCopyAddress}\n          >\n            {address && shortenAddress(address)}\n            <i className={buildClassName(styles.icon, 'icon-copy')} aria-hidden />\n          </button>\n          <a\n            href={addressUrl}\n            className={styles.tonExplorerButton}\n            title={tonExplorerTitle}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n          >\n            <i className={buildClassName(styles.icon, 'icon-tonexplorer-small')} aria-hidden />\n          </a>\n        </div>\n      </div>\n      {shouldRenderTokenCard && (\n        <TokenCard\n          token={renderedToken!}\n          classNames={tokenCardTransitionClassNames}\n          isUpdating={isUpdating}\n          onApyClick={onApyClick}\n          onClose={onTokenCardClose}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const { address } = selectAccount(global, global.currentAccountId!) || {};\n      const accountState = selectCurrentAccountState(global);\n      const stakingBalance = selectCurrentNetwork(global) === 'mainnet'\n        ? accountState?.staking?.balance\n        : 0n;\n\n      return {\n        address,\n        tokens: selectCurrentAccountTokens(global),\n        activeDappOrigin: accountState?.activeDappOrigin,\n        currentTokenSlug: accountState?.currentTokenSlug,\n        isTestnet: global.settings.isTestnet,\n        baseCurrency: global.settings.baseCurrency,\n        stakingBalance,\n        balanceUpdateStartedAt: global.balanceUpdateStartedAt,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(Card),\n);\n","import React, { memo } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { TokenPeriod } from '../../../../global/types';\n\nimport { HISTORY_PERIODS } from '../../../../config';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport { vibrate } from '../../../../util/capacitor';\n\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport DropdownMenu from '../../../ui/DropdownMenu';\n\nimport styles from './ChartHistorySwitcher.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  onClose: NoneToVoidFunction;\n  onChange?: (period: TokenPeriod) => void;\n}\n\ninterface StateProps {\n  currentPeriod?: TokenPeriod;\n}\n\nconst ITEMS = HISTORY_PERIODS.map((key) => ({ value: key, name: key === 'ALL' ? 'All' : key }));\n\nfunction ChartHistorySwitcher({\n  isOpen,\n  currentPeriod,\n  onClose,\n  onChange,\n}: OwnProps & StateProps) {\n  const { setCurrentTokenPeriod } = getActions();\n\n  const handlePeriodChange = useLastCallback((period: string) => {\n    onClose();\n\n    if (period === currentPeriod) return;\n\n    vibrate();\n\n    setCurrentTokenPeriod({ period: period as TokenPeriod });\n    onChange?.(period as TokenPeriod);\n  });\n\n  return (\n    <DropdownMenu\n      isOpen={isOpen}\n      onClose={onClose}\n      items={ITEMS}\n      className={styles.menuWrapper}\n      bubbleClassName={styles.menu}\n      buttonClassName={styles.menuItem}\n      selectedValue={currentPeriod}\n      menuPositionHorizontal=\"right\"\n      onSelect={handlePeriodChange}\n    />\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n\n  return {\n    currentPeriod: accountState?.currentTokenPeriod,\n  };\n})(ChartHistorySwitcher));\n","import React, { memo, useMemo } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiBaseCurrency } from '../../../../api/types';\n\nimport { CURRENCY_LIST } from '../../../../config';\n\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport DropdownMenu from '../../../ui/DropdownMenu';\n\ninterface OwnProps {\n  isOpen: boolean;\n  excludedCurrency?: string;\n  menuPositionHorizontal?: 'right' | 'left';\n  onClose: NoneToVoidFunction;\n  onChange?: (currency: ApiBaseCurrency) => void;\n}\n\ninterface StateProps {\n  currentCurrency?: ApiBaseCurrency;\n}\n\nfunction CurrencySwitcher({\n  isOpen,\n  currentCurrency,\n  excludedCurrency,\n  menuPositionHorizontal,\n  onClose,\n  onChange,\n}: OwnProps & StateProps) {\n  const { changeBaseCurrency } = getActions();\n\n  const currencyList = useMemo(\n    () => CURRENCY_LIST.filter((item) => item.value !== excludedCurrency),\n    [excludedCurrency],\n  );\n\n  const handleBaseCurrencyChange = useLastCallback((currency: string) => {\n    onClose();\n\n    if (currency === currentCurrency) return;\n\n    changeBaseCurrency({ currency: currency as ApiBaseCurrency });\n    onChange?.(currency as ApiBaseCurrency);\n  });\n\n  return (\n    <DropdownMenu\n      isOpen={isOpen}\n      onClose={onClose}\n      items={currencyList}\n      shouldTranslateOptions\n      selectedValue={currentCurrency}\n      menuPositionHorizontal={menuPositionHorizontal}\n      onSelect={handleBaseCurrencyChange}\n    />\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global) => {\n  return {\n    currentCurrency: global.settings.baseCurrency,\n  };\n})(CurrencySwitcher));\n","import React, { memo, useMemo } from '../../../../lib/teact/teact';\nimport { withGlobal } from '../../../../global';\n\nimport type { ApiBaseCurrency } from '../../../../api/types';\nimport type { UserToken } from '../../../../global/types';\n\nimport { selectCurrentAccountState, selectCurrentAccountTokens } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { getShortCurrencySymbol } from '../../../../util/formatNumber';\nimport { IS_ELECTRON, IS_MAC_OS, IS_WINDOWS } from '../../../../util/windowEnvironment';\nimport { calculateFullBalance } from './helpers/calculateFullBalance';\n\nimport useFlag from '../../../../hooks/useFlag';\n\nimport AccountSelector from './AccountSelector';\nimport CurrencySwitcher from './CurrencySwitcher';\n\nimport styles from './StickyCard.module.scss';\n\ninterface OwnProps {\n  classNames?: string;\n}\n\ninterface StateProps {\n  tokens?: UserToken[];\n  baseCurrency?: ApiBaseCurrency;\n  stakingBalance?: bigint;\n}\n\nfunction StickyCard({\n  classNames,\n  tokens,\n  baseCurrency,\n  stakingBalance,\n}: OwnProps & StateProps) {\n  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = useFlag(false);\n  const values = useMemo(() => {\n    return tokens ? calculateFullBalance(tokens, stakingBalance) : undefined;\n  }, [tokens, stakingBalance]);\n\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n  const { primaryWholePart, primaryFractionPart } = values || {};\n  const iconCaretClassNames = buildClassName(\n    'icon',\n    'icon-caret-down',\n    styles.iconCaret,\n    primaryFractionPart && styles.iconCaretFraction,\n  );\n\n  return (\n    <div className={styles.root}>\n      <div className={buildClassName(styles.background, classNames)}>\n        <div className={styles.content}>\n          <AccountSelector\n            isInsideSticky\n            accountClassName={styles.account}\n            accountSelectorClassName=\"sticky-card-account-selector\"\n            menuButtonClassName={styles.menuButton}\n            noSettingsButton={(IS_ELECTRON && IS_WINDOWS)}\n            noAccountSelector={IS_ELECTRON && IS_MAC_OS}\n          />\n          <div className={styles.balance}>\n            <span className={styles.currencySwitcher} role=\"button\" tabIndex={0} onClick={openCurrencyMenu}>\n              {shortBaseSymbol.length === 1 && shortBaseSymbol}\n              {primaryWholePart}\n              {primaryFractionPart && <span className={styles.balanceFractionPart}>.{primaryFractionPart}</span>}\n              {shortBaseSymbol.length > 1 && (\n                <span className={styles.balanceFractionPart}>&nbsp;{shortBaseSymbol}</span>\n              )}\n              <i className={iconCaretClassNames} aria-hidden />\n            </span>\n            <CurrencySwitcher isOpen={isCurrencyMenuOpen} onClose={closeCurrencyMenu} />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const accountState = selectCurrentAccountState(global);\n      return {\n        tokens: selectCurrentAccountTokens(global),\n        baseCurrency: global.settings.baseCurrency,\n        stakingBalance: accountState?.staking?.balance,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(StickyCard),\n);\n","import type { TeactNode } from '../../../../lib/teact/teact';\nimport React, { memo, useMemo, useState } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiBaseCurrency } from '../../../../api/types';\nimport type { PriceHistoryPeriods, TokenPeriod, UserToken } from '../../../../global/types';\n\nimport {\n  DEFAULT_PRICE_CURRENCY, HISTORY_PERIODS, TOKEN_EXPLORER_NAME, TONCOIN_SLUG,\n} from '../../../../config';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { vibrate } from '../../../../util/capacitor';\nimport { formatShortDay } from '../../../../util/dateFormat';\nimport { toBig, toDecimal } from '../../../../util/decimals';\nimport { formatCurrency, getShortCurrencySymbol } from '../../../../util/formatNumber';\nimport { round } from '../../../../util/round';\nimport { getTonExplorerTokenUrl } from '../../../../util/url';\nimport { IS_IOS } from '../../../../util/windowEnvironment';\nimport { ASSET_LOGO_PATHS } from '../../../ui/helpers/assetLogos';\nimport { calculateTokenCardColor } from '../../helpers/cardColors';\n\nimport useFlag from '../../../../hooks/useFlag';\nimport useForceUpdate from '../../../../hooks/useForceUpdate';\nimport useInterval from '../../../../hooks/useInterval';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../../hooks/useSyncEffect';\nimport useTimeout from '../../../../hooks/useTimeout';\n\nimport TokenPriceChart from '../../../common/TokenPriceChart';\nimport Button from '../../../ui/Button';\nimport Loading from '../../../ui/Loading';\nimport Transition from '../../../ui/Transition';\nimport ChartHistorySwitcher from './ChartHistorySwitcher';\nimport CurrencySwitcher from './CurrencySwitcher';\n\nimport styles from './Card.module.scss';\n\nimport tonUrl from '../../../../assets/coins/ton.svg';\n\ninterface OwnProps {\n  token: UserToken;\n  classNames: string;\n  isUpdating?: boolean;\n  onApyClick?: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  period?: TokenPeriod;\n  apyValue: number;\n  baseCurrency?: ApiBaseCurrency;\n  historyPeriods?: PriceHistoryPeriods;\n  minterAddress?: string;\n  isTestnet?: boolean;\n}\n\nconst OFFLINE_TIMEOUT = 120000; // 2 minutes\n\nconst CHART_DIMENSIONS = { width: 300, height: 64 };\nconst INTERVAL = 5 * 1000;\n\nconst DEFAULT_PERIOD = HISTORY_PERIODS[0];\n\nfunction TokenCard({\n  isTestnet,\n  token,\n  classNames,\n  period = DEFAULT_PERIOD,\n  apyValue,\n  isUpdating,\n  onApyClick,\n  onClose,\n  baseCurrency,\n  historyPeriods,\n  minterAddress,\n}: OwnProps & StateProps) {\n  const { loadPriceHistory } = getActions();\n  const lang = useLang();\n  const forceUpdate = useForceUpdate();\n  const [isCurrencyMenuOpen, openCurrencyMenu, closeCurrencyMenu] = useFlag(false);\n  const [isHistoryMenuOpen, openHistoryMenu, closeHistoryMenu] = useFlag(false);\n\n  const shouldUseDefaultCurrency = baseCurrency === undefined || baseCurrency === token.symbol;\n  const chartCurrency = shouldUseDefaultCurrency ? DEFAULT_PRICE_CURRENCY : baseCurrency;\n\n  const currencySymbol = getShortCurrencySymbol(chartCurrency);\n\n  const [selectedHistoryIndex, setSelectedHistoryIndex] = useState(-1);\n\n  useSyncEffect(([prevHistoryIndex]) => {\n    if (!IS_IOS) return;\n\n    if (prevHistoryIndex !== undefined) {\n      vibrate();\n    }\n  }, [selectedHistoryIndex]);\n\n  const {\n    slug, symbol, amount, image, name, price: lastPrice, decimals,\n  } = token;\n\n  const logoPath = slug === TONCOIN_SLUG\n    ? tonUrl\n    : image || ASSET_LOGO_PATHS[symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n\n  const refreshHistory = useLastCallback((newPeriod?: TokenPeriod) => {\n    loadPriceHistory({ slug, period: newPeriod ?? period });\n  });\n\n  const handleCurrencyChange = useLastCallback((currency: ApiBaseCurrency) => {\n    loadPriceHistory({ slug, period, currency });\n  });\n\n  useInterval(refreshHistory, INTERVAL);\n\n  const history = historyPeriods?.[period];\n\n  const tokenLastUpdatedAt = history?.length ? history[history.length - 1][0] * 1000 : undefined;\n  const tokenLastHistoryPrice = history?.length ? history[history.length - 1][1] : lastPrice;\n  const selectedHistoryPoint = history?.[selectedHistoryIndex];\n  const price = selectedHistoryPoint?.[1]\n    ?? (shouldUseDefaultCurrency ? tokenLastHistoryPrice : undefined)\n    ?? lastPrice;\n  const isLoading = !tokenLastUpdatedAt || (Date.now() - tokenLastUpdatedAt > OFFLINE_TIMEOUT);\n  const dateStr = selectedHistoryPoint\n    ? formatShortDay(lang.code!, selectedHistoryPoint[0] * 1000, true, true)\n    : (isLoading && tokenLastUpdatedAt ? formatShortDay(lang.code!, tokenLastUpdatedAt, true, false) : lang('Now'));\n\n  useTimeout(forceUpdate, isLoading ? undefined : OFFLINE_TIMEOUT, [tokenLastUpdatedAt]);\n\n  const initialPrice = useMemo(() => {\n    return history?.find(([, value]) => Boolean(value))?.[1];\n  }, [history]);\n\n  const change = (initialPrice && price) ? price - initialPrice : 0;\n\n  const value = toBig(amount, decimals).mul(price).toString();\n  const changePrefix = change === undefined ? change : change > 0 ? '' : change < 0 ? '' : 0;\n\n  const changeValue = change ? Math.abs(round(change, 4)) : 0;\n  const changePercent = change ? Math.abs(round((change / initialPrice!) * 100, 2)) : 0;\n\n  const withChange = Boolean(change !== undefined);\n  const historyStartDay = history?.length ? new Date(history![0][0] * 1000) : undefined;\n  const withTonExplorerButton = Boolean(token.cmcSlug || minterAddress);\n  const shouldHideChartPeriodSwitcher = !history?.length && token.priceUsd === 0;\n\n  const color = useMemo(() => calculateTokenCardColor(token), [token]);\n\n  function renderTonExplorerLink() {\n    const url = getTonExplorerTokenUrl(token.cmcSlug, minterAddress, isTestnet);\n    if (!url) return undefined;\n\n    const title = (lang(\n      'Open on %ton_explorer_name%',\n      { ton_explorer_name: TOKEN_EXPLORER_NAME },\n    ) as TeactNode[]).join('');\n\n    return (\n      <>\n        {'  '}\n        <a\n          href={url}\n          title={title}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className={styles.tokenTonExplorerButton}\n        >\n          <i className=\"icon-tonexplorer-small\" aria-hidden />\n        </a>\n      </>\n    );\n  }\n\n  return (\n    <div className={buildClassName(styles.container, styles.tokenCard, classNames, color, 'token-card')}>\n      <div className={styles.tokenInfo}>\n        <Button className={styles.backButton} isSimple onClick={onClose} ariaLabel={lang('Back')}>\n          <i className=\"icon-chevron-left\" aria-hidden />\n        </Button>\n        <img className={styles.tokenLogo} src={logoPath} alt={token.name} />\n        <div>\n          <b className={styles.tokenAmount}>{formatCurrency(toDecimal(amount, token.decimals), symbol)}</b>\n          <span className={styles.tokenName}>\n            {name}\n            {token.slug === TONCOIN_SLUG && (\n              <span className={styles.apy} onClick={onApyClick}>\n                APY {apyValue}%\n              </span>\n            )}\n          </span>\n        </div>\n      </div>\n\n      {withChange && (\n        <div className={styles.tokenPrice}>\n          <span className={styles.currencySwitcher} role=\"button\" tabIndex={0} onClick={openCurrencyMenu}>\n            &thinsp;{formatCurrency(value, currencySymbol, undefined, true)}\n            <i className={buildClassName('icon', 'icon-caret-down', styles.iconCaretSmall)} aria-hidden />\n          </span>\n          <CurrencySwitcher\n            isOpen={isCurrencyMenuOpen}\n            menuPositionHorizontal=\"right\"\n            excludedCurrency={token.symbol}\n            onClose={closeCurrencyMenu}\n            onChange={handleCurrencyChange}\n          />\n\n          {Boolean(changeValue) && (\n            <div className={styles.tokenChange}>\n              {changePrefix}\n              &thinsp;\n              {Math.abs(changePercent)}%  {formatCurrency(Math.abs(changeValue), currencySymbol)}\n            </div>\n          )}\n        </div>\n      )}\n\n      <Transition activeKey={!history ? 0 : history.length ? HISTORY_PERIODS.indexOf(period) + 1 : -1} name=\"fade\">\n        {!history ? (\n          <div className={buildClassName(styles.isLoading)}>\n            <Loading color=\"white\" className={styles.center} />\n          </div>\n        ) : history?.length ? (\n          <>\n            <TokenPriceChart\n              className={styles.chart}\n              imgClassName={styles.chartImg}\n              width={CHART_DIMENSIONS.width}\n              height={CHART_DIMENSIONS.height}\n              prices={history!}\n              selectedIndex={selectedHistoryIndex}\n              onSelectIndex={setSelectedHistoryIndex}\n              isUpdating={isUpdating}\n            />\n\n            <div className={styles.tokenHistoryPrice}>\n              {formatCurrency(history![0][1], currencySymbol, undefined, true)}\n              <div className={styles.tokenPriceDate}>{formatShortDay(lang.code!, historyStartDay!)}</div>\n            </div>\n          </>\n        ) : undefined}\n      </Transition>\n\n      <span\n        className={buildClassName(styles.periodChooser, shouldHideChartPeriodSwitcher && styles.periodChooserHidden)}\n        role=\"button\"\n        tabIndex={0}\n        onClick={openHistoryMenu}\n      >\n        {period === 'ALL' ? 'All' : period}\n        <i className={buildClassName('icon', 'icon-caret-down', styles.iconCaretSmall)} aria-hidden />\n        <ChartHistorySwitcher\n          isOpen={isHistoryMenuOpen}\n          onChange={refreshHistory}\n          onClose={closeHistoryMenu}\n        />\n      </span>\n\n      <div className={styles.tokenCurrentPrice}>\n        {formatCurrency(price, currencySymbol, selectedHistoryIndex === -1 ? 2 : 4, true)}\n        <div className={styles.tokenPriceDate}>\n          {dateStr}\n          {withTonExplorerButton && renderTonExplorerLink()}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>((global, ownProps): StateProps => {\n    const accountState = selectCurrentAccountState(global);\n    const minterAddress = global.tokenInfo.bySlug[ownProps.token.slug]?.minterAddress;\n\n    return {\n      isTestnet: global.settings.isTestnet,\n      period: accountState?.currentTokenPeriod,\n      apyValue: accountState?.staking?.apy || 0,\n      baseCurrency: global.settings.baseCurrency,\n      historyPeriods: global.tokenPriceHistory.bySlug[ownProps.token.slug],\n      minterAddress,\n    };\n  })(TokenCard),\n);\n","import type { UserToken } from '../../../../../global/types';\n\nimport { TONCOIN_SLUG } from '../../../../../config';\nimport { Big } from '../../../../../lib/big.js';\nimport { calcBigChangeValue } from '../../../../../util/calcChangeValue';\nimport { toBig } from '../../../../../util/decimals';\nimport { formatInteger } from '../../../../../util/formatNumber';\nimport { round } from '../../../../../util/math';\n\nimport styles from '../Card.module.scss';\n\nexport function calculateFullBalance(tokens: UserToken[], stakingBalance = 0n) {\n  const primaryValue = tokens.reduce((acc, token) => {\n    if (token.slug === TONCOIN_SLUG) {\n      const stakingAmount = toBig(stakingBalance, token.decimals).mul(token.price);\n      acc = acc.plus(stakingAmount);\n    }\n\n    return acc.plus(token.totalValue);\n  }, Big(0));\n\n  const [primaryWholePart, primaryFractionPart] = formatInteger(primaryValue).split('.');\n  const changeValue = tokens.reduce((acc, token) => {\n    return acc.plus(calcBigChangeValue(token.totalValue, token.change24h));\n  }, Big(0)).round(4).toNumber();\n\n  const changePercent = round(primaryValue ? (changeValue / (primaryValue.toNumber() - changeValue)) * 100 : 0, 2);\n  const changeClassName = changePercent > 0\n    ? styles.changeCourseUp\n    : (changePercent < 0 ? styles.changeCourseDown : undefined);\n  const changePrefix = changeValue > 0 ? '' : changeValue < 0 ? '' : undefined;\n\n  return {\n    primaryValue: primaryValue.toString(),\n    primaryWholePart,\n    primaryFractionPart,\n    changeClassName,\n    changePrefix,\n    changePercent,\n    changeValue,\n  };\n}\n","// eslint-disable-next-line no-restricted-exports\nexport { default } from './Card';\n","import React, {\n  memo, useEffect, useLayoutEffect, useMemo, useRef,\n} from '../../../../lib/teact/teact';\nimport { setExtraStyles } from '../../../../lib/teact/teact-dom';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiActivity, ApiSwapAsset, ApiToken } from '../../../../api/types';\nimport { ContentTab } from '../../../../global/types';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX, MIN_ASSETS_TAB_VIEW, TONCOIN_SLUG } from '../../../../config';\nimport { getIsSwapId, getIsTinyOrScamTransaction, getIsTxIdLocal } from '../../../../global/helpers';\nimport {\n  selectAccountSettings,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectEnabledTokensCountMemoized,\n  selectIsNewWallet,\n} from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { compareActivities } from '../../../../util/compareActivities';\nimport { formatHumanDay, getDayStartAt } from '../../../../util/dateFormat';\nimport { findLast, unique } from '../../../../util/iteratees';\nimport { REM } from '../../../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from '../../../ui/helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useInfiniteScroll from '../../../../hooks/useInfiniteScroll';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useThrottledCallback from '../../../../hooks/useThrottledCallback';\nimport useUpdateIndicator from '../../../../hooks/useUpdateIndicator';\n\nimport AnimatedIconWithPreview from '../../../ui/AnimatedIconWithPreview';\nimport InfiniteScroll from '../../../ui/InfiniteScroll';\nimport Loading from '../../../ui/Loading';\nimport LoadingDots from '../../../ui/LoadingDots';\nimport Transition from '../../../ui/Transition';\nimport NewWalletGreeting from './NewWalletGreeting';\nimport Swap from './Swap';\nimport Transaction from './Transaction';\n\nimport styles from './Activities.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\ntype StateProps = {\n  currentAccountId: string;\n  slug?: string;\n  isNewWallet: boolean;\n  areTinyTransfersHidden?: boolean;\n  byId?: Record<string, ApiActivity>;\n  idsBySlug?: Record<string, string[]>;\n  tokensBySlug?: Record<string, ApiToken>;\n  swapTokensBySlug?: Record<string, ApiSwapAsset>;\n  currentActivityId?: string;\n  apyValue: number;\n  savedAddresses?: Record<string, string>;\n  isMainHistoryEndReached?: boolean;\n  isHistoryEndReachedBySlug?: Record<string, boolean>;\n  exceptionSlugs?: string[];\n  activitiesUpdateStartedAt?: number;\n};\n\ninterface ActivityOffsetInfo {\n  offset: number;\n  offsetNext: number;\n  dateCount: number;\n  commentCount: number;\n  nftCount: number;\n  date: number;\n}\n\nconst FURTHER_SLICE = 30;\nconst THROTTLE_TIME = 1000;\n\nconst DATE_HEADER_HEIGHT = 2.5 * REM;\nconst TRANSACTION_COMMENT_HEIGHT = 2.1875 * REM;\nconst TRANSACTION_NFT_HEIGHT = 4 * REM;\nconst TRANSACTION_HEIGHT = 4 * REM;\n\nconst TIME_BETWEEN_SWAP_AND_TX = 3600000; // 1 hour\n\nfunction Activities({\n  isActive,\n  currentAccountId,\n  isNewWallet,\n  slug,\n  idsBySlug,\n  byId,\n  tokensBySlug,\n  swapTokensBySlug,\n  areTinyTransfersHidden,\n  currentActivityId,\n  apyValue,\n  savedAddresses,\n  isMainHistoryEndReached,\n  isHistoryEndReachedBySlug,\n  exceptionSlugs,\n  activitiesUpdateStartedAt = 0,\n}: OwnProps & StateProps) {\n  const {\n    fetchTokenTransactions, fetchAllTransactions, showActivityInfo,\n  } = getActions();\n\n  const lang = useLang();\n  const { isLandscape } = useDeviceScreen();\n\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  const isUpdating = useUpdateIndicator(activitiesUpdateStartedAt);\n\n  const ids = useMemo(() => {\n    let idList: string[] | undefined;\n\n    const bySlug = idsBySlug ?? {};\n\n    if (byId) {\n      if (slug) {\n        idList = bySlug[slug] ?? [];\n        const lastTokenTxId = findLast(idList, (id) => !getIsTxIdLocal(id) && !getIsSwapId(id));\n\n        if (lastTokenTxId) {\n          const lastTokenTxTimestamp = byId[lastTokenTxId].timestamp - TIME_BETWEEN_SWAP_AND_TX;\n          idList = idList.filter((txId) => byId[txId].timestamp >= lastTokenTxTimestamp);\n        }\n      } else {\n        const lastTonTxId = findLast(bySlug[TONCOIN_SLUG] ?? [], (id) => !getIsTxIdLocal(id) && !getIsSwapId(id));\n        idList = unique(Object.values(bySlug).flat());\n        if (lastTonTxId) {\n          idList = idList.filter((txId) => byId[txId].timestamp >= byId[lastTonTxId].timestamp);\n        }\n\n        idList.sort((a, b) => compareActivities(byId[a], byId[b]));\n      }\n    }\n    if (!idList) {\n      return undefined;\n    }\n\n    return idList;\n  }, [byId, slug, idsBySlug]);\n\n  const activityList = useMemo(() => {\n    if (!ids) {\n      return undefined;\n    }\n\n    const allActivities = ids\n      .map((id) => byId?.[id])\n      .filter((activity) => {\n        if (activity?.shouldHide) {\n          return false;\n        }\n        if (activity?.kind === 'swap') {\n          return Boolean(!slug || activity.from === slug || activity.to === slug);\n        } else {\n          return Boolean(\n            activity?.slug\n            && (!slug || activity.slug === slug)\n            && (\n              !areTinyTransfersHidden\n              || !getIsTinyOrScamTransaction(activity, tokensBySlug![activity.slug])\n              || exceptionSlugs?.includes(activity.slug)\n            ),\n          );\n        }\n      }) as ApiActivity[];\n\n    if (!allActivities.length) {\n      return [];\n    }\n\n    return allActivities;\n  }, [areTinyTransfersHidden, byId, exceptionSlugs, ids, slug, tokensBySlug]);\n\n  const { activityIds, activitiesById } = useMemo(() => {\n    const activityIdList: string[] = [];\n    const activityMap: Record<string, ApiActivity> = {};\n\n    activityList?.forEach((activity) => {\n      activityIdList.push(activity.id);\n      activityMap[activity.id] = activity;\n    });\n\n    return { activityIds: activityIdList, activitiesById: activityMap };\n  }, [activityList]);\n\n  const isHistoryEndReached = useMemo(() => {\n    if (slug) {\n      return !!isHistoryEndReachedBySlug?.[slug];\n    }\n\n    return !!isMainHistoryEndReached;\n  }, [isHistoryEndReachedBySlug, isMainHistoryEndReached, slug]);\n\n  const loadMore = useLastCallback(() => {\n    if (slug) {\n      fetchTokenTransactions({ slug, limit: FURTHER_SLICE * 2, shouldLoadWithBudget: true });\n    } else {\n      fetchAllTransactions({ limit: FURTHER_SLICE * 2, shouldLoadWithBudget: true });\n    }\n  });\n\n  const throttledLoadMore = useThrottledCallback(loadMore, [loadMore], THROTTLE_TIME, true);\n\n  const [viewportIds, getMore, resetScroll] = useInfiniteScroll(\n    throttledLoadMore, activityIds, undefined, FURTHER_SLICE, slug, isActive,\n  );\n\n  const isActivitiesEmpty = !activityList || !activityList.length;\n\n  const activityOffsetInfoById = useMemo(() => {\n    const offsetMap: Record<string, ActivityOffsetInfo> = {};\n\n    let dateCount = 0;\n    let nftCount = 0;\n    let commentCount = 0;\n    let lastActivityDayStart = 0;\n\n    activityIds.forEach((id, index) => {\n      const activity = activitiesById[id];\n      if (!activity) return;\n\n      offsetMap[id] = {\n        offset: 0,\n        offsetNext: 0,\n        dateCount: 0,\n        commentCount: 0,\n        nftCount: 0,\n        date: lastActivityDayStart,\n      };\n\n      const offsetTop = calculateOffset(index, dateCount, commentCount, nftCount);\n      const activityDayStart = getDayStartAt(activity.timestamp);\n      const isNewDay = lastActivityDayStart !== activityDayStart;\n      const isNftTransfer = activity.kind === 'transaction'\n        && (\n          activity.type === 'nftTransferred'\n          || activity.type === 'nftReceived'\n          || Boolean(activity.nft)\n        );\n      const canCountComment = activity.kind === 'transaction' && (!activity.type || isNftTransfer);\n      if (isNewDay) {\n        lastActivityDayStart = activityDayStart;\n        dateCount += 1;\n      }\n\n      if (canCountComment && (activity.comment || activity.encryptedComment) && !activity.metadata?.isScam) {\n        commentCount += 1;\n      }\n\n      if (isNftTransfer && activity.nft) {\n        nftCount += 1;\n      }\n\n      offsetMap[id] = {\n        ...offsetMap[id],\n        offset: offsetTop,\n        offsetNext: calculateOffset(index + 1, dateCount, commentCount, nftCount),\n        dateCount,\n        commentCount,\n        nftCount,\n      };\n    });\n\n    return offsetMap;\n  }, [activitiesById, activityIds]);\n\n  const currentContainerHeight = useMemo(\n    () => {\n      const lastViewportId = viewportIds![viewportIds!.length - 1];\n\n      return activityOffsetInfoById[lastViewportId]?.offsetNext || 0;\n    },\n    [activityOffsetInfoById, viewportIds],\n  );\n\n  useLayoutEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    setExtraStyles(container, { height: isLandscape ? '' : `${currentContainerHeight}px` });\n  }, [isLandscape, currentContainerHeight]);\n\n  useEffect(() => {\n    if (!isHistoryEndReached && ids && isActivitiesEmpty) {\n      throttledLoadMore();\n    }\n  }, [ids, isActivitiesEmpty, isHistoryEndReached, throttledLoadMore]);\n\n  useEffect(() => {\n    if (!isActive && !isLandscape) {\n      resetScroll?.();\n    }\n  }, [isActive, isLandscape, resetScroll]);\n\n  const handleActivityClick = useLastCallback((id: string) => {\n    showActivityInfo({ id });\n  });\n\n  if (!currentAccountId) {\n    return undefined;\n  }\n\n  function renderActivity(activity: ApiActivity, isLast: boolean, isActivityActive: boolean) {\n    const isSwap = activity.kind === 'swap';\n\n    if (isSwap) {\n      return (\n        <Swap\n          key={activity.id}\n          activity={activity}\n          tokensBySlug={swapTokensBySlug}\n          isLast={isLast}\n          isActive={isActivityActive}\n          onClick={handleActivityClick}\n        />\n      );\n    } else {\n      return (\n        <Transaction\n          key={activity.id}\n          transaction={activity}\n          tokensBySlug={tokensBySlug}\n          isActive={isActivityActive}\n          apyValue={apyValue}\n          isLast={isLast}\n          savedAddresses={savedAddresses}\n          onClick={handleActivityClick}\n        />\n      );\n    }\n  }\n\n  function renderDate(dateValue: number, isFirst?: boolean) {\n    const formattedDate = formatHumanDay(lang, dateValue);\n    const date = <div className={styles.date}>{formattedDate}</div>;\n\n    if (!isFirst) {\n      return date;\n    }\n\n    const dateWithLoader = (\n      <div className={buildClassName(styles.date, styles.date_withLoadingDots)}>\n        {formattedDate}\n        <LoadingDots isActive isDoubled className={styles.loadingDots} />\n      </div>\n    );\n\n    return (\n      <Transition\n        name=\"semiFade\"\n        activeKey={isUpdating ? 1 : 0}\n        className={styles.dateContainer}\n        slideClassName={styles.dateSlide}\n      >\n        {isUpdating ? dateWithLoader : date}\n      </Transition>\n    );\n  }\n\n  function renderHistory() {\n    return viewportIds!.map((id, index) => {\n      const activityInfo = activityOffsetInfoById[id];\n\n      const nextActivityId = viewportIds![index + 1];\n      const activity = activitiesById[id];\n      const nextActivity = activitiesById[nextActivityId];\n      if (!activity) return undefined;\n\n      const activityDayStart = getDayStartAt(activity.timestamp);\n      const isNewDay = activityInfo.date !== activityDayStart;\n\n      const nextActivityDayStart = nextActivity ? getDayStartAt(nextActivity.timestamp) : 0;\n      const isFirst = index === 0;\n      const isLast = activityDayStart !== nextActivityDayStart;\n\n      const isActivityActive = activity.id === currentActivityId;\n\n      return (\n        <div\n          key={id}\n          style={`top: ${activityInfo.offset}px`}\n          className={buildClassName('ListItem', styles.listItem)}\n        >\n          {isNewDay && renderDate(activityDayStart, isFirst)}\n          {renderActivity(activity, isLast, isActivityActive)}\n        </div>\n      );\n    });\n  }\n\n  if (isNewWallet && isActivitiesEmpty) {\n    return (\n      <div className={buildClassName(isLandscape && styles.greeting)}>\n        <NewWalletGreeting isActive={isActive} mode={isLandscape ? 'emptyList' : 'panel'} />\n      </div>\n    );\n  }\n\n  if (isHistoryEndReached && isActivitiesEmpty) {\n    return (\n      <div className={styles.emptyList}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.noData}\n          previewUrl={ANIMATED_STICKERS_PATHS.noDataPreview}\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n          className={styles.sticker}\n          noLoop={false}\n          nonInteractive\n        />\n        <p className={styles.emptyListTitle}>{lang('No Activity')}</p>\n      </div>\n    );\n  }\n\n  if (!ids || isActivitiesEmpty) {\n    return (\n      <div className={buildClassName(styles.emptyList, styles.emptyListLoading)}>\n        <Loading />\n      </div>\n    );\n  }\n\n  return (\n    <InfiniteScroll\n      ref={containerRef}\n      className={buildClassName('custom-scroll', styles.listGroup)}\n      scrollContainerClosest={!isLandscape && isActive ? '.app-slide-content' : undefined}\n      items={viewportIds}\n      preloadBackwards={FURTHER_SLICE}\n      withAbsolutePositioning\n      maxHeight={currentContainerHeight}\n      onLoadMore={getMore}\n    >\n      {renderHistory()}\n    </InfiniteScroll>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const accountState = selectCurrentAccountState(global);\n      const accountSettings = selectAccountSettings(global, global.currentAccountId!);\n      const isNewWallet = selectIsNewWallet(global);\n      const slug = accountState?.currentTokenSlug;\n      const {\n        idsBySlug, byId, isMainHistoryEndReached, isHistoryEndReachedBySlug,\n      } = accountState?.activities ?? {};\n      return {\n        currentAccountId: global.currentAccountId!,\n        slug,\n        byId,\n        isNewWallet,\n        idsBySlug,\n        tokensBySlug: global.tokenInfo?.bySlug,\n        swapTokensBySlug: global.swapTokenInfo?.bySlug,\n        areTinyTransfersHidden: global.settings.areTinyTransfersHidden,\n        apyValue: accountState?.staking?.apy || 0,\n        savedAddresses: accountState?.savedAddresses,\n        isMainHistoryEndReached,\n        isHistoryEndReachedBySlug,\n        currentActivityId: accountState?.currentActivityId,\n        exceptionSlugs: accountSettings?.exceptionSlugs,\n        activitiesUpdateStartedAt: global.activitiesUpdateStartedAt,\n      };\n    },\n    (global, _, stickToFirst) => {\n      const tokens = selectCurrentAccountTokens(global);\n      const accountState = selectCurrentAccountState(global);\n      const tokensCount = selectEnabledTokensCountMemoized(tokens);\n      const shouldShowSeparateAssetsPanel = tokensCount > 0 && tokensCount < MIN_ASSETS_TAB_VIEW;\n\n      return stickToFirst((\n        accountState?.activeContentTab === ContentTab.Activity\n        || (accountState?.activeContentTab === ContentTab.Assets && shouldShowSeparateAssetsPanel)\n      ) && global.currentAccountId);\n    },\n  )(Activities),\n);\n\nfunction calculateOffset(index: number, dateCount: number, commentCount: number, nftCount: number) {\n  const commentOffset = commentCount * TRANSACTION_COMMENT_HEIGHT;\n  const dateOffset = dateCount * DATE_HEADER_HEIGHT;\n  const nftOffset = nftCount * TRANSACTION_NFT_HEIGHT;\n  return index * TRANSACTION_HEIGHT + dateOffset + commentOffset + nftOffset;\n}\n","import React, {\n  memo, useLayoutEffect, useMemo, useRef,\n} from '../../../../lib/teact/teact';\nimport { setExtraStyles } from '../../../../lib/teact/teact-dom';\nimport { withGlobal } from '../../../../global';\n\nimport type { ApiBaseCurrency, ApiToken, ApiVestingInfo } from '../../../../api/types';\nimport type { StakingStatus, UserToken } from '../../../../global/types';\n\nimport { TONCOIN_SLUG } from '../../../../config';\nimport {\n  selectCurrentAccountStakingStatus,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectIsNewWallet,\n  selectMycoin,\n} from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { toDecimal } from '../../../../util/decimals';\nimport { buildCollectionByKey } from '../../../../util/iteratees';\nimport { REM } from '../../../../util/windowEnvironment';\n\nimport useCurrentOrPrev from '../../../../hooks/useCurrentOrPrev';\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useInfiniteScroll from '../../../../hooks/useInfiniteScroll';\nimport useShowTransition from '../../../../hooks/useShowTransition';\nimport useVesting from '../../../../hooks/useVesting';\n\nimport InfiniteScroll from '../../../ui/InfiniteScroll';\nimport Loading from '../../../ui/Loading';\nimport NewWalletGreeting from './NewWalletGreeting';\nimport Token from './Token';\n\nimport styles from './Assets.module.scss';\n\ntype OwnProps = {\n  isActive?: boolean;\n  isSeparatePanel?: boolean;\n  onTokenClick: (slug: string) => void;\n  onStakedTokenClick: NoneToVoidFunction;\n};\n\ninterface StateProps {\n  tokens?: UserToken[];\n  isNewWallet: boolean;\n  vesting?: ApiVestingInfo[];\n  stakingStatus?: StakingStatus;\n  stakingBalance?: bigint;\n  isInvestorViewEnabled?: boolean;\n  apyValue: number;\n  currentTokenSlug?: string;\n  baseCurrency?: ApiBaseCurrency;\n  mycoin?: ApiToken;\n}\n\nconst LIST_SLICE = 30;\nconst TOKEN_HEIGHT_REM = 4;\n\nfunction Assets({\n  isActive,\n  tokens,\n  isNewWallet,\n  vesting,\n  stakingStatus,\n  stakingBalance,\n  isInvestorViewEnabled,\n  isSeparatePanel,\n  apyValue,\n  currentTokenSlug,\n  onTokenClick,\n  onStakedTokenClick,\n  baseCurrency,\n  mycoin,\n}: OwnProps & StateProps) {\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  const renderedTokens = useCurrentOrPrev(tokens, true);\n  const renderedMycoin = useCurrentOrPrev(mycoin, true);\n\n  const toncoin = useMemo(() => renderedTokens?.find(({ slug }) => slug === TONCOIN_SLUG), [renderedTokens])!;\n  const userMycoin = useMemo(() => {\n    if (!renderedTokens || !renderedMycoin) return undefined;\n\n    return renderedTokens.find(({ slug }) => slug === renderedMycoin.slug);\n  }, [renderedMycoin, renderedTokens]);\n\n  const { isLandscape, isPortrait } = useDeviceScreen();\n\n  const shouldShowGreeting = isNewWallet && isPortrait && !isSeparatePanel;\n\n  const { shouldRender: shouldRenderStakedToken, transitionClassNames: stakedTokenClassNames } = useShowTransition(\n    Boolean(stakingStatus && toncoin),\n  );\n\n  const {\n    shouldRender: shouldRenderVestingToken,\n    transitionClassNames: vestingTokenClassNames,\n    amount: vestingAmount,\n    vestingStatus,\n    unfreezeEndDate,\n    onVestingTokenClick,\n  } = useVesting({ vesting, userMycoin });\n\n  const tokenSlugs = useMemo(() => (\n    renderedTokens\n      ?.filter(({ isDisabled }) => !isDisabled)\n      .map(({ slug }) => slug)\n  ), [renderedTokens]);\n  const [viewportSlugs, getMore] = useInfiniteScroll(\n    undefined, tokenSlugs, undefined, undefined, undefined, isActive, isPortrait,\n  );\n  const viewportIndex = useMemo(() => {\n    if (!viewportSlugs) return -1;\n\n    let index = tokenSlugs!.indexOf(viewportSlugs[0]);\n    if (shouldRenderStakedToken) {\n      index++;\n    }\n    if (shouldRenderVestingToken) {\n      index++;\n    }\n\n    return index;\n  }, [shouldRenderStakedToken, shouldRenderVestingToken, tokenSlugs, viewportSlugs]);\n  const tokensBySlug = useMemo(() => (\n    renderedTokens ? buildCollectionByKey(renderedTokens, 'slug') : undefined\n  ), [renderedTokens]);\n  const withAbsolutePositioning = tokenSlugs && tokenSlugs.length > LIST_SLICE;\n\n  const currentContainerHeight = useMemo(() => {\n    if (!withAbsolutePositioning || !viewportSlugs?.length || viewportIndex < 0) return undefined;\n\n    return (viewportIndex + viewportSlugs.length) * TOKEN_HEIGHT_REM * REM;\n  }, [viewportIndex, viewportSlugs?.length, withAbsolutePositioning]);\n\n  useLayoutEffect(() => {\n    const container = containerRef.current;\n    if (!container) return;\n\n    setExtraStyles(container, {\n      height: currentContainerHeight && !isLandscape ? `${currentContainerHeight}px` : '',\n    });\n  }, [isLandscape, currentContainerHeight]);\n\n  function renderVestingToken() {\n    return (\n      <Token\n        key=\"vesting\"\n        token={userMycoin!}\n        vestingStatus={vestingStatus}\n        unfreezeEndDate={unfreezeEndDate}\n        amount={vestingAmount}\n        isInvestorView={isInvestorViewEnabled}\n        classNames={vestingTokenClassNames}\n        onClick={onVestingTokenClick}\n        baseCurrency={baseCurrency}\n      />\n    );\n  }\n\n  function renderStakedToken() {\n    return (\n      <Token\n        key=\"staking\"\n        token={toncoin!}\n        stakingStatus={stakingStatus}\n        apyValue={apyValue}\n        amount={stakingBalance === undefined ? undefined : toDecimal(stakingBalance)}\n        isInvestorView={isInvestorViewEnabled}\n        classNames={stakedTokenClassNames}\n        onClick={onStakedTokenClick}\n        baseCurrency={baseCurrency}\n      />\n    );\n  }\n\n  function renderToken(token: UserToken, indexInViewport: number) {\n    const style = withAbsolutePositioning\n      ? `position: absolute; top: ${(viewportIndex + indexInViewport) * TOKEN_HEIGHT_REM}rem`\n      : undefined;\n\n    return (\n      <Token\n        classNames=\"token-list-item\"\n        style={style}\n        key={token.slug}\n        token={token}\n        apyValue={!stakingBalance && token.slug === TONCOIN_SLUG ? apyValue : undefined}\n        isInvestorView={isInvestorViewEnabled}\n        isActive={token.slug === currentTokenSlug}\n        baseCurrency={baseCurrency}\n        onClick={onTokenClick}\n      />\n    );\n  }\n\n  return (\n    <InfiniteScroll\n      ref={containerRef}\n      className={buildClassName(styles.wrapper, isSeparatePanel && !renderedTokens && styles.wrapperLoading)}\n      scrollContainerClosest={!isLandscape && isActive ? '.app-slide-content' : undefined}\n      items={viewportSlugs}\n      itemSelector=\".token-list-item\"\n      withAbsolutePositioning={withAbsolutePositioning}\n      maxHeight={currentContainerHeight}\n      onLoadMore={getMore}\n    >\n      {!renderedTokens && (\n        <div key=\"loading\" className={isSeparatePanel ? styles.emptyListSeparate : styles.emptyList}>\n          <Loading />\n        </div>\n      )}\n      {shouldShowGreeting && <NewWalletGreeting key=\"new-wallet-greeting\" isActive={isActive} mode=\"panel\" />}\n      {shouldRenderVestingToken && renderVestingToken()}\n      {shouldRenderStakedToken && renderStakedToken()}\n      {viewportSlugs?.map((tokenSlug, i) => renderToken(tokensBySlug![tokenSlug], i))}\n    </InfiniteScroll>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const tokens = selectCurrentAccountTokens(global);\n      const isNewWallet = selectIsNewWallet(global);\n      const accountState = selectCurrentAccountState(global);\n      const { isInvestorViewEnabled } = global.settings;\n      const stakingStatus = selectCurrentAccountStakingStatus(global);\n\n      return {\n        tokens,\n        isNewWallet,\n        stakingStatus,\n        vesting: accountState?.vesting?.info,\n        stakingBalance: accountState?.staking?.balance,\n        isInvestorViewEnabled,\n        apyValue: accountState?.staking?.apy || 0,\n        currentTokenSlug: accountState?.currentTokenSlug,\n        baseCurrency: global.settings.baseCurrency,\n        mycoin: selectMycoin(global),\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(Assets),\n);\n","import React, {\n  memo, useEffect, useMemo, useRef,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport type { DropdownItem } from '../../../ui/Dropdown';\nimport { ContentTab, SettingsState } from '../../../../global/types';\n\nimport {\n  DEFAULT_SWAP_SECOND_TOKEN_SLUG,\n  MIN_ASSETS_TAB_VIEW,\n  NOTCOIN_VOUCHERS_ADDRESS,\n  TONCOIN_SLUG,\n} from '../../../../config';\nimport {\n  selectAccountState,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectEnabledTokensCountMemoized,\n} from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { captureEvents, SwipeDirection } from '../../../../util/captureEvents';\nimport { IS_TOUCH_ENV } from '../../../../util/windowEnvironment';\n\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useEffectOnce from '../../../../hooks/useEffectOnce';\nimport useHistoryBack from '../../../../hooks/useHistoryBack';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../../hooks/useSyncEffect';\n\nimport TabList from '../../../ui/TabList';\nimport Transition from '../../../ui/Transition';\nimport HideNftModal from '../../modals/HideNftModal';\nimport Activity from './Activities';\nimport Assets from './Assets';\nimport Explore from './Explore';\nimport NftCollectionHeader from './NftCollectionHeader';\nimport Nfts from './Nfts';\nimport NftSelectionHeader from './NftSelectionHeader';\n\nimport styles from './Content.module.scss';\n\ninterface OwnProps {\n  onStakedTokenClick: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  tokensCount: number;\n  nfts?: Record<string, ApiNft>;\n  currentCollectionAddress?: string;\n  selectedAddresses?: string[];\n  activeContentTab?: ContentTab;\n  currentTokenSlug?: string;\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n  selectedNftsToHide?: {\n    addresses: string[];\n    isCollection: boolean;\n  };\n}\n\nlet activeNftKey = 0;\n\nfunction Content({\n  activeContentTab,\n  tokensCount,\n  nfts,\n  currentCollectionAddress,\n  selectedAddresses,\n  onStakedTokenClick,\n  currentTokenSlug,\n  blacklistedNftAddresses,\n  whitelistedNftAddresses,\n  selectedNftsToHide,\n}: OwnProps & StateProps) {\n  const {\n    selectToken,\n    setActiveContentTab,\n    setDefaultSwapParams,\n    changeTransferToken,\n    openNftCollection,\n    closeNftCollection,\n    openSettingsWithState,\n  } = getActions();\n\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n  const hasNftSelection = Boolean(selectedAddresses?.length);\n\n  useSyncEffect(() => {\n    if (currentCollectionAddress) {\n      activeNftKey += 1;\n    } else {\n      activeNftKey = 0;\n    }\n  }, [currentCollectionAddress]);\n\n  const handleNftCollectionClick = useLastCallback((address: string) => {\n    openNftCollection({ address }, { forceOnHeavyAnimation: true });\n  });\n\n  const handleNftsMenuButtonClick = useLastCallback((value: string) => {\n    if (value === 'hidden_nfts') {\n      openSettingsWithState({ state: SettingsState.HiddenNfts });\n    } else {\n      handleNftCollectionClick(value);\n    }\n  });\n\n  const nftCollections = useMemo(() => {\n    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);\n    const whitelistedNftAddressesSet = new Set(whitelistedNftAddresses);\n    const collections = Object.values(nfts ?? {})\n      .filter((nft) => (\n        !nft.isHidden || whitelistedNftAddressesSet.has(nft.address)\n      ) && !blacklistedNftAddressesSet.has(nft.address))\n      .reduce((acc, nft) => {\n        if (nft.collectionAddress) {\n          acc[nft.collectionAddress] = nft.collectionName || lang('Unnamed collection');\n        }\n\n        return acc;\n      }, {} as Record<string, string>);\n    const collentionAddresses = Object.keys(collections);\n    collentionAddresses.sort((left, right) => collections[left].localeCompare(collections[right]));\n\n    return collentionAddresses.map<DropdownItem>((key) => {\n      return {\n        id: key,\n        name: collections[key],\n        value: key,\n      };\n    });\n  }, [lang, nfts, blacklistedNftAddresses, whitelistedNftAddresses]);\n\n  const shouldRenderHiddenNftsSection = useMemo(() => {\n    const blacklistedAddressesSet = new Set(blacklistedNftAddresses);\n    return Object.values(nfts ?? {}).some(\n      (nft) => blacklistedAddressesSet.has(nft.address) || nft.isHidden,\n    );\n  }, [blacklistedNftAddresses, nfts]);\n\n  // eslint-disable-next-line no-null/no-null\n  const transitionRef = useRef<HTMLDivElement>(null);\n\n  const shouldShowSeparateAssetsPanel = tokensCount > 0 && tokensCount < MIN_ASSETS_TAB_VIEW;\n  const tabs = useMemo(\n    () => [\n      ...(\n        !shouldShowSeparateAssetsPanel\n          ? [{ id: ContentTab.Assets, title: lang('Assets'), className: styles.tab }]\n          : []\n      ),\n      { id: ContentTab.Activity, title: lang('Activity'), className: styles.tab },\n      { id: ContentTab.Explore, title: lang('Explore'), className: styles.tab },\n      {\n        id: ContentTab.Nft,\n        title: lang('NFT'),\n        className: styles.tab,\n        menuItems: shouldRenderHiddenNftsSection\n          ? [\n            ...nftCollections,\n            {\n              name: lang('Hidden NFTs'),\n              value: 'hidden_nfts',\n              withSeparator: true,\n            } as DropdownItem,\n          ]\n          : nftCollections,\n        onMenuItemClick: handleNftsMenuButtonClick,\n      },\n      ...(nftCollections.some(({ value }) => value === NOTCOIN_VOUCHERS_ADDRESS) ? [{\n        id: ContentTab.NotcoinVouchers,\n        title: 'NOT Vouchers',\n        className: styles.tab,\n      }] : []),\n    ],\n    [lang, nftCollections, shouldShowSeparateAssetsPanel, shouldRenderHiddenNftsSection],\n  );\n\n  const activeTabIndex = useMemo(\n    () => {\n      const tabIndex = tabs.findIndex((tab) => tab.id === activeContentTab);\n\n      if (tabIndex === -1) {\n        return ContentTab.Assets;\n      }\n\n      return tabIndex;\n    },\n    [tabs, activeContentTab],\n  );\n\n  useEffectOnce(() => {\n    if (activeContentTab === undefined) {\n      setActiveContentTab({ tab: ContentTab.Assets });\n    }\n  });\n\n  const handleSwitchTab = useLastCallback((tab: ContentTab) => {\n    if (tab === ContentTab.NotcoinVouchers) {\n      selectToken({ slug: undefined }, { forceOnHeavyAnimation: true });\n      setActiveContentTab({ tab: ContentTab.Nft }, { forceOnHeavyAnimation: true });\n      handleNftCollectionClick(NOTCOIN_VOUCHERS_ADDRESS);\n\n      return;\n    }\n\n    selectToken({ slug: undefined }, { forceOnHeavyAnimation: true });\n    setActiveContentTab({ tab }, { forceOnHeavyAnimation: true });\n  });\n\n  useHistoryBack({\n    isActive: activeTabIndex !== 0,\n    onBack: () => handleSwitchTab(ContentTab.Assets),\n  });\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV) {\n      return undefined;\n    }\n\n    return captureEvents(transitionRef.current!, {\n      includedClosestSelector: '.swipe-container',\n      onSwipe: (e, direction) => {\n        if (direction === SwipeDirection.Left) {\n          const tab = tabs[Math.min(tabs.length - 1, activeTabIndex + 1)];\n          handleSwitchTab(tab.id);\n          return true;\n        } else if (direction === SwipeDirection.Right) {\n          if (currentCollectionAddress) {\n            closeNftCollection();\n          } else {\n            const tab = tabs[Math.max(0, activeTabIndex - 1)];\n            handleSwitchTab(tab.id);\n          }\n          return true;\n        }\n\n        return false;\n      },\n    });\n  }, [tabs, handleSwitchTab, activeTabIndex, currentCollectionAddress]);\n\n  useEffect(() => {\n    if (currentTokenSlug !== undefined) return;\n\n    setDefaultSwapParams({ tokenInSlug: undefined, tokenOutSlug: undefined });\n    changeTransferToken({ tokenSlug: TONCOIN_SLUG });\n  }, [currentTokenSlug]);\n\n  const handleClickAsset = useLastCallback((slug: string) => {\n    selectToken({ slug });\n\n    if (slug) {\n      if (slug === TONCOIN_SLUG) {\n        setDefaultSwapParams({ tokenInSlug: DEFAULT_SWAP_SECOND_TOKEN_SLUG, tokenOutSlug: slug });\n      } else {\n        setDefaultSwapParams({ tokenOutSlug: slug });\n      }\n      changeTransferToken({ tokenSlug: slug });\n    }\n\n    setActiveContentTab({ tab: ContentTab.Activity });\n  });\n\n  const containerClassName = buildClassName(\n    styles.container,\n    IS_TOUCH_ENV && 'swipe-container',\n    isPortrait ? styles.portraitContainer : styles.landscapeContainer,\n  );\n\n  function renderTabsPanel() {\n    if (hasNftSelection) {\n      return <NftSelectionHeader />;\n    }\n\n    return currentCollectionAddress ? <NftCollectionHeader key=\"collection\" /> : (\n      <TabList\n        tabs={tabs}\n        activeTab={activeTabIndex}\n        onSwitchTab={handleSwitchTab}\n        className={buildClassName(styles.tabs, 'content-tabslist')}\n      />\n    );\n  }\n\n  function renderCurrentTab(isActive: boolean) {\n    // When assets are shown separately, there is effectively no tab with index 0,\n    // so we fall back to next tab to not break parent's component logic.\n    if (activeTabIndex === 0 && shouldShowSeparateAssetsPanel) {\n      return <Activity isActive={isActive} />;\n    }\n\n    switch (tabs[activeTabIndex].id) {\n      case ContentTab.Assets:\n        return <Assets isActive={isActive} onTokenClick={handleClickAsset} onStakedTokenClick={onStakedTokenClick} />;\n      case ContentTab.Activity:\n        return <Activity isActive={isActive} />;\n      case ContentTab.Nft:\n        return (\n          <Transition\n            activeKey={activeNftKey}\n            name={isPortrait ? 'slide' : 'slideFade'}\n            className=\"nfts-container\"\n          >\n            <Nfts key={currentCollectionAddress || 'all'} isActive={isActive} />\n          </Transition>\n        );\n      case ContentTab.Explore:\n        return <Explore isActive={isActive} />;\n      default:\n        return undefined;\n    }\n  }\n\n  function renderContent() {\n    const activeKey = hasNftSelection ? 2 : (currentCollectionAddress ? 1 : 0);\n\n    return (\n      <>\n        <Transition activeKey={activeKey} name=\"slideFade\" className={styles.tabsContainer}>\n          {renderTabsPanel()}\n        </Transition>\n        <Transition\n          ref={transitionRef}\n          name={isPortrait ? 'slide' : 'slideFade'}\n          activeKey={activeTabIndex}\n          renderCount={tabs.length}\n          className={buildClassName(styles.slides, 'content-transition')}\n          slideClassName={buildClassName(styles.slide, 'custom-scroll')}\n        >\n          {renderCurrentTab}\n        </Transition>\n      </>\n    );\n  }\n\n  return (\n    <div className={containerClassName}>\n      {shouldShowSeparateAssetsPanel && (\n        <div className={styles.assetsPanel}>\n          <Assets\n            isActive\n            isSeparatePanel\n            onStakedTokenClick={onStakedTokenClick}\n            onTokenClick={handleClickAsset}\n          />\n        </div>\n      )}\n      <div className={buildClassName(isPortrait ? styles.contentPanel : styles.landscapeContentPanel)}>\n        {renderContent()}\n      </div>\n      <HideNftModal\n        isOpen={Boolean(selectedNftsToHide?.addresses.length)}\n        selectedNftsToHide={selectedNftsToHide}\n      />\n\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const accountState = selectAccountState(global, global.currentAccountId!) ?? {};\n      const tokens = selectCurrentAccountTokens(global);\n      const tokensCount = selectEnabledTokensCountMemoized(tokens);\n      const {\n        byAddress: nfts,\n        currentCollectionAddress,\n        selectedAddresses,\n      } = selectCurrentAccountState(global)?.nfts || {};\n      const {\n        blacklistedNftAddresses,\n        whitelistedNftAddresses,\n        selectedNftsToHide,\n      } = selectCurrentAccountState(global) ?? {};\n\n      return {\n        nfts,\n        currentCollectionAddress,\n        selectedAddresses,\n        tokensCount,\n        activeContentTab: accountState?.activeContentTab,\n        currentTokenSlug: accountState?.currentTokenSlug,\n        blacklistedNftAddresses,\n        whitelistedNftAddresses,\n        selectedNftsToHide,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(Content),\n);\n","import React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiSite } from '../../../../api/types';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX } from '../../../../config';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport { vibrate } from '../../../../util/capacitor';\nimport { openUrl } from '../../../../util/openUrl';\nimport stopEvent from '../../../../util/stopEvent';\nimport { getHostnameFromUrl, isValidUrl } from '../../../../util/url';\nimport { IS_ANDROID, IS_ANDROID_APP, IS_IOS_APP } from '../../../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from '../../../ui/helpers/animatedAssets';\n\nimport useCurrentOrPrev from '../../../../hooks/useCurrentOrPrev';\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useFlag from '../../../../hooks/useFlag';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport Site from '../../../explore/Site';\nimport AnimatedIconWithPreview from '../../../ui/AnimatedIconWithPreview';\nimport Loading from '../../../ui/Loading';\nimport Menu from '../../../ui/Menu';\nimport MenuItem from '../../../ui/MenuItem';\n\nimport styles from './Explore.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\ninterface StateProps {\n  sites?: ApiSite[];\n  shouldRestrict: boolean;\n  browserHistory?: string[];\n}\n\nconst SUGGESTIONS_OPEN_DELAY = 300;\nconst GOOGLE_SEARCH_URL = 'https://www.google.com/search?q=';\n\nfunction Explore({\n  isActive, sites, shouldRestrict, browserHistory,\n}: OwnProps & StateProps) {\n  const {\n    loadExploreSites,\n    getDapps,\n    addSiteToBrowserHistory,\n    removeSiteFromBrowserHistory,\n  } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const suggestionsTimeoutRef = useRef<number>(null);\n  const lang = useLang();\n  const { isLandscape } = useDeviceScreen();\n  const [searchValue, setSearchValue] = useState<string>('');\n  const [isSuggestionsVisible, showSuggestions, hideSuggestions] = useFlag(false);\n  const filteredBrowserHistory = useMemo(() => {\n    const result = browserHistory?.filter((url) => url.toLowerCase().includes(searchValue.toLowerCase()));\n\n    return result?.length ? result : undefined;\n  }, [browserHistory, searchValue]);\n  const renderingBrowserHistory = useCurrentOrPrev(filteredBrowserHistory, true);\n\n  const openSite = (originalUrl: string, isExternal?: boolean, title?: string) => {\n    let url = originalUrl;\n    if (!url.startsWith('http:') && !url.startsWith('https:')) {\n      url = `https://${url}`;\n    }\n    if (!isValidUrl(url)) {\n      url = `${GOOGLE_SEARCH_URL}${encodeURIComponent(originalUrl)}`;\n    } else {\n      addSiteToBrowserHistory({ url });\n    }\n\n    openUrl(url, isExternal, title, getHostnameFromUrl(url));\n  };\n\n  const handleSiteClick = useLastCallback((\n    e: React.SyntheticEvent<HTMLDivElement | HTMLAnchorElement>,\n    url: string,\n  ) => {\n    vibrate();\n    hideSuggestions();\n    const site = sites?.find(({ url: currentUrl }) => currentUrl === url);\n    openSite(url, site?.isExternal, site?.name);\n  });\n\n  const handleSiteClear = (e: React.MouseEvent, url: string) => {\n    stopEvent(e);\n\n    removeSiteFromBrowserHistory({ url });\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setSearchValue(e.target.value);\n  };\n\n  const handleFocus = () => {\n    if (!filteredBrowserHistory?.length) return;\n\n    // Simultaneous opening of the virtual keyboard and display of Saved Addresses causes animation degradation\n    if (IS_ANDROID) {\n      suggestionsTimeoutRef.current = window.setTimeout(showSuggestions, SUGGESTIONS_OPEN_DELAY);\n    } else {\n      showSuggestions();\n    }\n  };\n\n  const handleBlur = () => {\n    if (!isSuggestionsVisible) return;\n\n    hideSuggestions();\n    if (suggestionsTimeoutRef.current) {\n      window.clearTimeout(suggestionsTimeoutRef.current);\n    }\n  };\n\n  const handleMenuClose = useLastCallback(() => {\n    inputRef.current?.blur();\n  });\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    stopEvent(e);\n\n    handleMenuClose();\n    openSite(searchValue);\n    setSearchValue('');\n  };\n\n  useEffect(() => {\n    if (!isActive) return;\n\n    getDapps();\n    loadExploreSites();\n  }, [isActive]);\n\n  function renderSearch() {\n    return (\n      <form action=\"#\" onSubmit={handleSubmit} className={styles.searchWrapper} autoComplete=\"off\">\n        <i className={buildClassName(styles.searchIcon, 'icon-search')} aria-hidden />\n        <input\n          ref={inputRef}\n          name=\"explore-search\"\n          className={styles.searchInput}\n          placeholder={lang('Search or enter address...')}\n          value={searchValue}\n          autoCapitalize=\"off\"\n          onChange={handleChange}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n        />\n      </form>\n    );\n  }\n\n  function renderSearchSuggestions() {\n    return (\n      <Menu\n        type=\"suggestion\"\n        noBackdrop\n        isOpen={Boolean(isSuggestionsVisible && filteredBrowserHistory?.length)}\n        className={styles.suggestions}\n        bubbleClassName={styles.suggestionsMenu}\n        onClose={handleMenuClose}\n      >\n        {renderingBrowserHistory?.map((url) => (\n          <MenuItem key={url} className={styles.suggestion} onClick={handleSiteClick} clickArg={url}>\n            <i\n              className={buildClassName(styles.suggestionIcon, searchValue.length ? 'icon-search' : 'icon-globe')}\n              aria-hidden\n            />\n            <span className={styles.suggestionAddress}>{getHostnameFromUrl(url)}</span>\n\n            <button\n              className={styles.clearSuggestion}\n              type=\"button\"\n              aria-label={lang('Clear')}\n              title={lang('Clear')}\n              onMouseDown={(e) => handleSiteClear(e, url)}\n              onClick={stopEvent}\n            >\n              <i className=\"icon-close\" aria-hidden />\n            </button>\n          </MenuItem>\n        ))}\n      </Menu>\n    );\n  }\n\n  if (sites === undefined) {\n    return (\n      <div className={buildClassName(styles.emptyList, styles.emptyListLoading)}>\n        <Loading />\n      </div>\n    );\n  }\n\n  if (sites.length === 0) {\n    return (\n      <div className={styles.emptyList}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.happy}\n          previewUrl={ANIMATED_STICKERS_PATHS.happyPreview}\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n          className={styles.sticker}\n          noLoop={false}\n          nonInteractive\n        />\n        <p className={styles.emptyListTitle}>{lang('No partners yet')}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      {renderSearch()}\n      {renderSearchSuggestions()}\n      <div className={buildClassName(styles.list, isLandscape && styles.landscapeList)}>\n        {sites.filter((site) => !(shouldRestrict && site.canBeRestricted)).map((site) => (\n          <Site\n            key={site.url}\n            url={site.url}\n            icon={site.icon}\n            title={site.name}\n            description={site.description}\n            isExternal={site.isExternal}\n          />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const { browserHistory } = selectCurrentAccountState(global) || {};\n  return {\n    sites: global.exploreSites,\n    shouldRestrict: global.restrictions.isLimitedRegion && (IS_IOS_APP || IS_ANDROID_APP),\n    browserHistory,\n  };\n})(Explore));\n","import React, { memo } from '../../../../lib/teact/teact';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX, ANIMATED_STICKER_SMALL_SIZE_PX } from '../../../../config';\nimport buildClassName from '../../../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../../../ui/helpers/animatedAssets';\n\nimport useLang from '../../../../hooks/useLang';\n\nimport AnimatedIconWithPreview from '../../../ui/AnimatedIconWithPreview';\n\nimport styles from './NewWalletGreeting.module.scss';\n\ninterface Props {\n  isActive?: boolean;\n  mode: 'panel' | 'emptyList';\n}\n\nfunction NewWalletGreeting({ isActive, mode }: Props) {\n  const lang = useLang();\n\n  return (\n    <div className={buildClassName(styles.container, styles[mode])}>\n      <AnimatedIconWithPreview\n        play={isActive}\n        tgsUrl={ANIMATED_STICKERS_PATHS.hello}\n        previewUrl={ANIMATED_STICKERS_PATHS.helloPreview}\n        nonInteractive\n        noLoop={false}\n        size={mode === 'emptyList' ? ANIMATED_STICKER_BIG_SIZE_PX : ANIMATED_STICKER_SMALL_SIZE_PX}\n      />\n\n      <div className={styles.text}>\n        <p className={styles.header}>{lang('You have just created a new wallet')}</p>\n        <p className={styles.description}>\n          {lang('You can now transfer your tokens from another wallet or exchange.')}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(NewWalletGreeting);\n","import React, {\n  memo, useMemo, useRef, useState,\n} from '../../../../lib/teact/teact';\nimport { getActions } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport { type IAnchorPosition, MediaType } from '../../../../global/types';\n\nimport buildClassName from '../../../../util/buildClassName';\nimport { vibrate } from '../../../../util/capacitor';\nimport { preloadImage } from '../../../../util/preloadImage';\nimport { shortenAddress } from '../../../../util/shortenAddress';\n\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useShowTransition from '../../../../hooks/useShowTransition';\n\nimport Image from '../../../ui/Image';\nimport Radio from '../../../ui/Radio';\nimport NftMenu from './NftMenu';\n\nimport styles from './Nft.module.scss';\n\ninterface OwnProps {\n  nft: ApiNft;\n  selectedAddresses?: string[];\n}\n\nfunction Nft({ nft, selectedAddresses }: OwnProps) {\n  const { openMediaViewer, selectNfts, clearNftSelection } = getActions();\n\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLDivElement>(null);\n  const [menuPosition, setMenuPosition] = useState<IAnchorPosition>();\n  const isSelectionEnabled = !!selectedAddresses && selectedAddresses.length > 0;\n  const isSelected = useMemo(() => selectedAddresses?.includes(nft.address), [selectedAddresses, nft.address]);\n  const isMenuOpen = Boolean(menuPosition);\n  const {\n    shouldRender: shouldRenderWarning,\n    transitionClassNames: warningTransitionClassNames,\n  } = useShowTransition(isSelectionEnabled && nft.isOnSale);\n  const fullClassName = buildClassName(\n    styles.item,\n    !isSelectionEnabled && nft.isOnSale && styles.item_onSale,\n    isMenuOpen && styles.itemWithMenu,\n    isSelectionEnabled && nft.isOnSale && styles.nonInteractive,\n  );\n\n  function handleClick() {\n    if (isSelectionEnabled) {\n      if (isSelected) {\n        clearNftSelection({ address: nft.address });\n      } else {\n        selectNfts({ addresses: [nft.address] });\n      }\n      return;\n    }\n\n    vibrate();\n    openMediaViewer({ mediaId: nft.address, mediaType: MediaType.Nft });\n  }\n\n  const handleOpenMenu = useLastCallback(() => {\n    const { right: x, y } = ref.current!.getBoundingClientRect();\n    setMenuPosition({ x, y });\n  });\n\n  const handleCloseMenu = useLastCallback(() => {\n    setMenuPosition(undefined);\n  });\n\n  const handleIntersect = useLastCallback(() => {\n    preloadImage(nft.image).catch(() => {\n    });\n  });\n\n  return (\n    <div\n      key={nft.address}\n      ref={ref}\n      data-nft-address={nft.address}\n      onClick={!isSelectionEnabled || !nft.isOnSale ? handleClick : undefined}\n      className={fullClassName}\n    >\n      {isSelectionEnabled && !nft.isOnSale && (\n        <Radio\n          isChecked={isSelected}\n          name=\"nft\"\n          value={nft.address}\n          className={styles.radio}\n        />\n      )}\n      {!isSelectionEnabled && (\n        <NftMenu\n          nft={nft}\n          menuPosition={menuPosition}\n          onOpen={handleOpenMenu}\n          onClose={handleCloseMenu}\n        />\n      )}\n      <Image\n        url={nft.thumbnail}\n        className={styles.imageWrapper}\n        imageClassName={buildClassName(styles.image, isSelected && styles.imageSelected)}\n        onIntersect={handleIntersect}\n      />\n      {shouldRenderWarning && (\n        <div className={buildClassName(styles.warning, warningTransitionClassNames)}>\n          {lang('For sale. Cannot be sent and burned')}\n        </div>\n      )}\n      <div className={styles.infoWrapper}>\n        <b className={styles.title}>{nft.name || shortenAddress(nft.address, 4)}</b>\n      </div>\n      <div className={styles.collection}>{nft.collectionName}</div>\n    </div>\n  );\n}\n\nexport default memo(Nft);\n","import React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport type { IAnchorPosition } from '../../../../global/types';\nimport type { DropdownItem } from '../../../ui/Dropdown';\n\nimport {\n  GETGEMS_BASE_MAINNET_URL,\n  GETGEMS_BASE_TESTNET_URL,\n  TON_EXPLORER_NAME,\n} from '../../../../config';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport captureEscKeyListener from '../../../../util/captureEscKeyListener';\nimport { openUrl } from '../../../../util/openUrl';\nimport { getTonExplorerNftCollectionUrl } from '../../../../util/url';\n\nimport useCurrentOrPrev from '../../../../hooks/useCurrentOrPrev';\nimport { getIsPortrait } from '../../../../hooks/useDeviceScreen';\nimport useHistoryBack from '../../../../hooks/useHistoryBack';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useMenuPosition from '../../../../hooks/useMenuPosition';\n\nimport Button from '../../../ui/Button';\nimport DropdownMenu from '../../../ui/DropdownMenu';\n\nimport styles from './NftCollectionHeader.module.scss';\n\ninterface StateProps {\n  isTestnet?: boolean;\n  nfts?: Record<string, ApiNft>;\n  currentCollectionAddress?: string;\n}\n\nconst MENU_ITEMS: DropdownItem[] = [{\n  name: 'Send All',\n  value: 'sendAll',\n}, {\n  name: 'Getgems',\n  value: 'getgems',\n  fontIcon: 'external',\n}, {\n  name: TON_EXPLORER_NAME,\n  value: 'tonExplorer',\n  fontIcon: 'external',\n}, {\n  name: 'Hide All',\n  value: 'hideAll',\n}, {\n  name: 'Burn All',\n  value: 'burnAll',\n  isDangerous: true,\n}, {\n  name: 'Select All',\n  value: 'selectAll',\n  withSeparator: true,\n}];\n\nfunction NftCollectionHeader({\n  isTestnet,\n  nfts,\n  currentCollectionAddress,\n}: StateProps) {\n  const {\n    closeNftCollection,\n    selectNfts,\n    startTransfer,\n    burnNfts,\n    openHideNftModal,\n  } = getActions();\n\n  const lang = useLang();\n  const [menuPosition, setMenuPosition] = useState<IAnchorPosition>();\n  const isMenuOpen = Boolean(menuPosition);\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLButtonElement>(null);\n\n  const nftFromCurrentCollection = useMemo(() => {\n    if (!currentCollectionAddress || !nfts) {\n      return undefined;\n    }\n\n    return Object.values(nfts).find((nft) => nft.collectionAddress === currentCollectionAddress);\n  }, [currentCollectionAddress, nfts]);\n  const amount = useMemo(() => {\n    if (!currentCollectionAddress || !nfts) {\n      return undefined;\n    }\n\n    return Object.values(nfts).reduce((acc, nft) => {\n      return nft.collectionAddress === currentCollectionAddress ? acc + 1 : acc;\n    }, 0);\n  }, [currentCollectionAddress, nfts]);\n  const renderedNft = useCurrentOrPrev(nftFromCurrentCollection, true);\n  const renderedAmount = useCurrentOrPrev(amount, true);\n\n  const isActive = Boolean(currentCollectionAddress);\n\n  useHistoryBack({\n    isActive,\n    onBack: closeNftCollection,\n  });\n\n  useEffect(() => (isActive ? captureEscKeyListener(closeNftCollection) : undefined), [isActive]);\n\n  const getTriggerElement = useLastCallback(() => ref.current);\n  const getRootElement = useLastCallback(() => document.body);\n  const getMenuElement = useLastCallback(() => document.querySelector('#portals .menu-bubble'));\n  const getLayout = useLastCallback(() => ({ withPortal: true }));\n\n  const {\n    positionY, transformOriginX, transformOriginY, style: menuStyle,\n  } = useMenuPosition(\n    menuPosition,\n    getTriggerElement,\n    getRootElement,\n    getMenuElement,\n    getLayout,\n  );\n\n  const handleMenuItemClick = useLastCallback((value: string) => {\n    switch (value) {\n      case 'sendAll': {\n        const collectionNfts = Object.values(nfts!).filter((nft) => {\n          return nft.collectionAddress === currentCollectionAddress && !nft.isOnSale;\n        });\n\n        startTransfer({\n          nfts: collectionNfts,\n          isPortrait: getIsPortrait(),\n        });\n        break;\n      }\n\n      case 'getgems': {\n        const getgemsBaseUrl = isTestnet ? GETGEMS_BASE_TESTNET_URL : GETGEMS_BASE_MAINNET_URL;\n        openUrl(`${getgemsBaseUrl}collection/${renderedNft?.collectionAddress}`);\n        break;\n      }\n\n      case 'tonExplorer': {\n        const url = getTonExplorerNftCollectionUrl(renderedNft?.collectionAddress, isTestnet);\n        if (url) {\n          openUrl(url);\n        }\n        break;\n      }\n\n      case 'selectAll': {\n        const addresses = Object.values(nfts || {})\n          .filter((nft) => nft.collectionAddress === currentCollectionAddress && !nft.isOnSale)\n          .map((nft) => nft.address);\n        selectNfts({ addresses });\n        break;\n      }\n\n      case 'burnAll': {\n        const collectionNfts = Object.values(nfts!).filter((nft) => {\n          return nft.collectionAddress === currentCollectionAddress && !nft.isOnSale;\n        });\n        burnNfts({ nfts: collectionNfts });\n\n        break;\n      }\n\n      case 'hideAll': {\n        const collectionNfts = Object.values(nfts!)\n          .filter((nft) => {\n            return nft.collectionAddress === currentCollectionAddress;\n          })\n          .map((nft) => nft.address);\n        openHideNftModal({ addresses: collectionNfts, isCollection: true });\n      }\n    }\n  });\n  const handleMenuOpen = useLastCallback(() => {\n    const { right: x, bottom: y } = ref.current!.getBoundingClientRect();\n    setMenuPosition({ x, y });\n  });\n  const handleMenuClose = useLastCallback(() => {\n    setMenuPosition(undefined);\n  });\n\n  if (!renderedNft) {\n    return undefined;\n  }\n\n  return (\n    <div className={styles.root}>\n      <Button className={styles.backButton} isSimple isText onClick={closeNftCollection}>\n        <i className={buildClassName(styles.backIcon, 'icon-chevron-left')} aria-hidden />\n        <span>{lang('Back')}</span>\n      </Button>\n\n      <div className={styles.content}>\n        <div className={styles.title}>{renderedNft?.collectionName || lang('Unnamed Collection')}</div>\n        <div className={styles.amount}>\n          {renderedAmount! > 1 ? lang('%amount% NFTs', { amount: renderedAmount }) : lang('1 NFT')}\n        </div>\n      </div>\n\n      <Button isSimple ref={ref} className={styles.menuButton} onClick={handleMenuOpen} ariaLabel={lang('Open Menu')}>\n        <i className=\"icon-menu-dots\" aria-hidden />\n      </Button>\n      <DropdownMenu\n        isOpen={isMenuOpen}\n        withPortal\n        shouldTranslateOptions\n        menuPositionHorizontal=\"right\"\n        menuPosition={positionY}\n        menuStyle={menuStyle}\n        transformOriginX={transformOriginX}\n        transformOriginY={transformOriginY}\n        buttonClassName={styles.menuItem}\n        bubbleClassName={styles.menu}\n        items={MENU_ITEMS}\n        onSelect={handleMenuItemClick}\n        onClose={handleMenuClose}\n      />\n    </div>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const {\n    byAddress: nfts,\n    currentCollectionAddress,\n  } = selectCurrentAccountState(global)?.nfts || {};\n\n  return {\n    isTestnet: global.settings.isTestnet,\n    nfts,\n    currentCollectionAddress,\n  };\n})(NftCollectionHeader));\n","import React, { memo, useMemo, useRef } from '../../../../lib/teact/teact';\nimport { withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport type { IAnchorPosition } from '../../../../global/types';\n\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport stopEvent from '../../../../util/stopEvent';\n\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useMenuPosition from '../../../../hooks/useMenuPosition';\nimport useNftMenu from '../../../mediaViewer/hooks/useNftMenu';\n\nimport DropdownMenu from '../../../ui/DropdownMenu';\n\nimport styles from './NftMenu.module.scss';\n\ninterface OwnProps {\n  nft: ApiNft;\n  menuPosition?: IAnchorPosition;\n  onOpen: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n}\n\nfunction NftMenu({\n  nft, menuPosition, onOpen, onClose, blacklistedNftAddresses, whitelistedNftAddresses,\n}: OwnProps & StateProps) {\n  const isNftBlackListed = useMemo(() => {\n    return blacklistedNftAddresses?.includes(nft.address);\n  }, [nft, blacklistedNftAddresses]);\n  const isNftWhiteListed = useMemo(() => {\n    return whitelistedNftAddresses?.includes(nft.address);\n  }, [nft, whitelistedNftAddresses]);\n\n  const { menuItems, handleMenuItemSelect } = useNftMenu(nft, isNftBlackListed, isNftWhiteListed);\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLButtonElement>(null);\n  const isOpen = Boolean(menuPosition);\n\n  const getTriggerElement = useLastCallback(() => ref.current);\n  const getRootElement = useLastCallback(() => document.body);\n  const getMenuElement = useLastCallback(() => document.querySelector('#portals .menu-bubble'));\n  const getLayout = useLastCallback(() => ({ withPortal: true }));\n\n  const {\n    positionY, transformOriginX, transformOriginY, style: menuStyle,\n  } = useMenuPosition(\n    menuPosition,\n    getTriggerElement,\n    getRootElement,\n    getMenuElement,\n    getLayout,\n  );\n\n  const handleButtonClick = (e: React.MouseEvent) => {\n    stopEvent(e);\n\n    if (isOpen) {\n      onClose();\n    } else {\n      onOpen();\n    }\n  };\n\n  return (\n    <>\n      <button ref={ref} type=\"button\" className={styles.button} onClick={handleButtonClick}>\n        <i className={buildClassName(styles.icon, 'icon-menu-dots')} aria-hidden />\n      </button>\n      <DropdownMenu\n        isOpen={isOpen}\n        withPortal\n        menuPositionHorizontal=\"right\"\n        menuPosition={positionY}\n        menuStyle={menuStyle}\n        transformOriginX={transformOriginX}\n        transformOriginY={transformOriginY}\n        items={menuItems}\n        shouldTranslateOptions\n        className={styles.menu}\n        buttonClassName={styles.item}\n        shouldCleanup\n        onClose={onClose}\n        onSelect={handleMenuItemSelect}\n      />\n    </>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accountState = selectCurrentAccountState(global) || {};\n  const { blacklistedNftAddresses, whitelistedNftAddresses } = accountState;\n  return {\n    blacklistedNftAddresses,\n    whitelistedNftAddresses,\n  };\n})(NftMenu));\n","import React, {\n  memo, useEffect, useRef, useState,\n} from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\nimport { type IAnchorPosition } from '../../../../global/types';\n\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport captureEscKeyListener from '../../../../util/captureEscKeyListener';\n\nimport { getIsPortrait } from '../../../../hooks/useDeviceScreen';\nimport useHistoryBack from '../../../../hooks/useHistoryBack';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useMenuPosition from '../../../../hooks/useMenuPosition';\n\nimport Button from '../../../ui/Button';\nimport { type DropdownItem } from '../../../ui/Dropdown';\nimport DropdownMenu from '../../../ui/DropdownMenu';\n\nimport styles from './NftCollectionHeader.module.scss';\n\ninterface StateProps {\n  byAddress?: Record<string, ApiNft>;\n  selectedAddresses?: string[];\n}\n\nconst MENU_ITEMS: DropdownItem[] = [{\n  name: 'Send',\n  value: 'send',\n}, {\n  name: 'Hide',\n  value: 'hide',\n}, {\n  name: 'Burn',\n  value: 'burn',\n  isDangerous: true,\n}];\n\nfunction NftSelectionHeader({ selectedAddresses, byAddress }: StateProps) {\n  const {\n    clearNftsSelection, startTransfer, burnNfts, openHideNftModal,\n  } = getActions();\n\n  const lang = useLang();\n  const amount = selectedAddresses?.length ?? 1;\n  const isActive = Boolean(selectedAddresses?.length);\n\n  useHistoryBack({\n    isActive,\n    onBack: clearNftsSelection,\n  });\n\n  useEffect(() => (isActive ? captureEscKeyListener(clearNftsSelection) : undefined), [isActive]);\n\n  const handleSendClick = useLastCallback(() => {\n    const nfts = selectedAddresses!.map((address) => byAddress![address]) ?? [];\n\n    clearNftsSelection();\n\n    startTransfer({\n      isPortrait: getIsPortrait(),\n      nfts,\n    });\n  });\n\n  const handleBurnClick = useLastCallback(() => {\n    const nfts = selectedAddresses!.map((address) => byAddress![address]) ?? [];\n\n    clearNftsSelection();\n\n    burnNfts({ nfts });\n  });\n\n  const handleHideClick = useLastCallback(() => {\n    clearNftsSelection();\n\n    openHideNftModal({ addresses: selectedAddresses!, isCollection: false });\n  });\n\n  const [menuPosition, setMenuPosition] = useState<IAnchorPosition>();\n  const isMenuOpen = Boolean(menuPosition);\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLButtonElement>(null);\n  const handleMenuOpen = useLastCallback(() => {\n    const { right: x, bottom: y } = ref.current!.getBoundingClientRect();\n    setMenuPosition({ x, y });\n  });\n  const handleMenuClose = useLastCallback(() => {\n    setMenuPosition(undefined);\n  });\n  const getTriggerElement = useLastCallback(() => ref.current);\n  const getRootElement = useLastCallback(() => document.body);\n  const getMenuElement = useLastCallback(() => document.querySelector('#portals .menu-bubble'));\n  const getLayout = useLastCallback(() => ({ withPortal: true }));\n\n  const {\n    positionY, transformOriginX, transformOriginY, style: menuStyle,\n  } = useMenuPosition(\n    menuPosition,\n    getTriggerElement,\n    getRootElement,\n    getMenuElement,\n    getLayout,\n  );\n\n  const handleMenuItemClick = useLastCallback((value: string) => {\n    switch (value) {\n      case 'send': {\n        handleSendClick();\n        break;\n      }\n      case 'hide': {\n        handleHideClick();\n        break;\n      }\n      case 'burn': {\n        handleBurnClick();\n        break;\n      }\n    }\n  });\n\n  return (\n    <div className={styles.root}>\n      <Button className={styles.backButton} isSimple isText onClick={clearNftsSelection}>\n        <i className={buildClassName(styles.backIcon, 'icon-chevron-left')} aria-hidden />\n        <span>{lang('Back')}</span>\n      </Button>\n      <div className={styles.content}>\n        <div className={styles.title}>\n          {amount > 1 ? lang('%amount% NFTs Selected', { amount }) : lang('1 NFT Selected')}\n        </div>\n      </div>\n      <div>\n        <Button isSimple ref={ref} className={styles.menuButton} onClick={handleMenuOpen} ariaLabel={lang('Open Menu')}>\n          <i className=\"icon-menu-dots\" aria-hidden />\n        </Button>\n        <DropdownMenu\n          isOpen={isMenuOpen}\n          withPortal\n          shouldTranslateOptions\n          menuPositionHorizontal=\"right\"\n          menuPosition={positionY}\n          menuStyle={menuStyle}\n          transformOriginX={transformOriginX}\n          transformOriginY={transformOriginY}\n          buttonClassName={styles.menuItem}\n          bubbleClassName={styles.menu}\n          items={MENU_ITEMS}\n          onSelect={handleMenuItemClick}\n          onClose={handleMenuClose}\n        />\n      </div>\n\n    </div>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const {\n    selectedAddresses, byAddress,\n  } = selectCurrentAccountState(global)?.nfts || {};\n\n  return { selectedAddresses, byAddress };\n})(NftSelectionHeader));\n","import React, { memo, useEffect, useMemo } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport type { ApiNft } from '../../../../api/types';\n\nimport {\n  ANIMATED_STICKER_BIG_SIZE_PX,\n  GETGEMS_BASE_MAINNET_URL,\n  GETGEMS_BASE_TESTNET_URL,\n  NOTCOIN_VOUCHERS_ADDRESS,\n} from '../../../../config';\nimport renderText from '../../../../global/helpers/renderText';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport buildClassName from '../../../../util/buildClassName';\nimport captureEscKeyListener from '../../../../util/captureEscKeyListener';\nimport { IS_ANDROID_APP, IS_IOS_APP } from '../../../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from '../../../ui/helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../../../ui/AnimatedIconWithPreview';\nimport Button from '../../../ui/Button';\nimport Loading from '../../../ui/Loading';\nimport Transition from '../../../ui/Transition';\nimport Nft from './Nft';\n\nimport styles from './Nft.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n}\n\ninterface StateProps {\n  orderedAddresses?: string[];\n  selectedAddresses?: string[];\n  byAddress?: Record<string, ApiNft>;\n  currentCollectionAddress?: string;\n  isTestnet?: boolean;\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n}\n\nconst GETGEMS_ENABLED = !IS_IOS_APP && !IS_ANDROID_APP;\n\nfunction Nfts({\n  isActive,\n  orderedAddresses,\n  selectedAddresses,\n  byAddress,\n  currentCollectionAddress,\n  isTestnet,\n  blacklistedNftAddresses,\n  whitelistedNftAddresses,\n}: OwnProps & StateProps) {\n  const { clearNftsSelection, burnNfts } = getActions();\n\n  const lang = useLang();\n  const { isLandscape } = useDeviceScreen();\n  const hasSelection = Boolean(selectedAddresses?.length);\n\n  useEffect(clearNftsSelection, [clearNftsSelection, isActive, currentCollectionAddress]);\n  useEffect(() => (hasSelection ? captureEscKeyListener(clearNftsSelection) : undefined), [hasSelection]);\n\n  const getgemsBaseUrl = isTestnet ? GETGEMS_BASE_TESTNET_URL : GETGEMS_BASE_MAINNET_URL;\n\n  const nfts = useMemo(() => {\n    if (!orderedAddresses || !byAddress) {\n      return undefined;\n    }\n\n    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);\n    const whitelistedNftAddressesSet = new Set(whitelistedNftAddresses);\n\n    return orderedAddresses\n      .map((address) => byAddress[address])\n      .filter((nft) => {\n        if (!nft) return false;\n\n        return !currentCollectionAddress || nft.collectionAddress === currentCollectionAddress;\n      })\n      .filter((nft) => (\n        !nft.isHidden || whitelistedNftAddressesSet.has(nft.address)\n      ) && !blacklistedNftAddressesSet.has(nft.address));\n  }, [\n    byAddress, currentCollectionAddress, orderedAddresses, blacklistedNftAddresses, whitelistedNftAddresses,\n  ]);\n\n  const handleBurnNotcoinVouchersClick = useLastCallback(() => {\n    burnNfts({ nfts: nfts! });\n  });\n\n  if (nfts === undefined) {\n    return (\n      <div className={buildClassName(styles.emptyList, styles.emptyListLoading)}>\n        <Loading />\n      </div>\n    );\n  }\n\n  if (nfts.length === 0) {\n    return (\n      <div className={styles.emptyList}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.happy}\n          previewUrl={ANIMATED_STICKERS_PATHS.happyPreview}\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n          className={styles.sticker}\n          noLoop={false}\n          nonInteractive\n        />\n        <p className={styles.emptyListTitle}>{lang('No NFTs yet')}</p>\n        {GETGEMS_ENABLED && (\n          <>\n            <p className={styles.emptyListText}>{renderText(lang('$nft_explore_offer'))}</p>\n            <a className={styles.emptyListButton} href={getgemsBaseUrl} rel=\"noreferrer noopener\" target=\"_blank\">\n              {lang('Open Getgems')}\n            </a>\n          </>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      {currentCollectionAddress === NOTCOIN_VOUCHERS_ADDRESS && (\n        <Button\n          isPrimary\n          className={styles.notcoinVoucherButton}\n          onClick={handleBurnNotcoinVouchersClick}\n        >\n          {/* eslint-disable-next-line max-len */}\n          <svg className={styles.notcoinVoucherIcon} xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" color=\"#ffffff\" style=\"transform: rotateX(180deg);\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.14138 15.4996C7.2095 15.5943 7.34508 15.767 7.576 15.8689C7.84607 15.9881 8.15383 15.9881 8.4239 15.8689C8.65482 15.767 8.7904 15.5943 8.85852 15.4996C8.92424 15.4081 8.99102 15.2945 9.04911 15.1957L14.3316 6.21548C14.6645 5.64971 14.9405 5.18052 15.1235 4.79199C15.3081 4.40015 15.4553 3.97793 15.4105 3.52755C15.3472 2.89047 15.0155 2.31052 14.4985 1.93295C14.133 1.66602 13.6944 1.57879 13.2631 1.53922C12.8355 1.49998 12.2912 1.49999 11.6348 1.5H4.36532C3.70891 1.49999 3.16447 1.49998 2.73678 1.53922C2.30546 1.57879 1.86692 1.66602 1.50141 1.93294C0.984382 2.31052 0.652684 2.89047 0.589388 3.52755C0.544641 3.97793 0.691804 4.40015 0.876386 4.79199C1.05941 5.18052 1.33542 5.6497 1.66824 6.21547L6.95075 15.1956C7.00885 15.2945 7.07565 15.4081 7.14138 15.4996ZM8.74995 3L8.74994 12.7458L8.74995 12.7563L13.4336 4.80929C13.7831 4.21637 13.9578 3.91991 13.9337 3.67629C13.9127 3.46383 13.8022 3.27038 13.6298 3.14442C13.4322 3 13.088 3 12.3996 3H8.74995ZM7.99995 14.0208L7.98772 14H8.01218L7.99995 14.0208ZM7.24995 12.7563V3H3.60028C2.91192 3 2.56774 3 2.37007 3.14442C2.19769 3.27038 2.08716 3.46383 2.06617 3.67629C2.04211 3.91991 2.21684 4.21637 2.56629 4.80929L7.24995 12.7563Z\" fill=\"currentColor\" /></svg>\n          {lang('Burn NOT Vouchers')}\n        </Button>\n      )}\n      <Transition\n        name=\"fade\"\n        activeKey={nfts.length}\n        shouldCleanup\n      >\n        <div className={buildClassName(styles.list, isLandscape && styles.landscapeList)}>\n          {nfts.map((nft) => <Nft key={nft.address} nft={nft} selectedAddresses={selectedAddresses} />)}\n        </div>\n      </Transition>\n    </div>\n  );\n}\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const {\n        orderedAddresses,\n        byAddress,\n        currentCollectionAddress,\n        selectedAddresses,\n      } = selectCurrentAccountState(global)?.nfts || {};\n\n      const {\n        blacklistedNftAddresses,\n        whitelistedNftAddresses,\n      } = selectCurrentAccountState(global) || {};\n\n      return {\n        orderedAddresses,\n        selectedAddresses,\n        byAddress,\n        currentCollectionAddress,\n        isTestnet: global.settings.isTestnet,\n        blacklistedNftAddresses,\n        whitelistedNftAddresses,\n      };\n    },\n    (global, _, stickToFirst) => {\n      const {\n        currentCollectionAddress,\n      } = selectCurrentAccountState(global)?.nfts || {};\n\n      return stickToFirst(`${global.currentAccountId}_${currentCollectionAddress || 'all'}`);\n    },\n  )(Nfts),\n);\n","import type { Ref, RefObject } from 'react';\nimport type { TeactNode } from '../../../../lib/teact/teact';\nimport React, { memo } from '../../../../lib/teact/teact';\n\nimport type { ApiSwapActivity, ApiSwapAsset } from '../../../../api/types';\n\nimport { TON_SYMBOL, TONCOIN_SLUG, WHOLE_PART_DELIMITER } from '../../../../config';\nimport buildClassName from '../../../../util/buildClassName';\nimport { formatTime } from '../../../../util/dateFormat';\nimport { formatCurrencyExtended } from '../../../../util/formatNumber';\nimport getSwapRate from '../../../../util/swap/getSwapRate';\n\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport Button from '../../../ui/Button';\n\nimport styles from './Transaction.module.scss';\n\ntype OwnProps = {\n  ref?: Ref<HTMLElement>;\n  tokensBySlug?: Record<string, ApiSwapAsset>;\n  isLast: boolean;\n  activity: ApiSwapActivity;\n  isActive: boolean;\n  onClick: (id: string) => void;\n};\n\nconst CHANGELLY_PENDING_STATUSES = new Set(['new', 'waiting', 'confirming', 'exchanging', 'sending', 'hold']);\nconst CHANGELLY_EXPIRED_STATUSES = new Set(['failed', 'expired', 'refunded', 'overdue']);\nconst ONCHAIN_ERROR_STATUSES = new Set(['expired', 'failed']);\n\nfunction Swap({\n  ref,\n  tokensBySlug,\n  activity,\n  isLast,\n  isActive,\n  onClick,\n}: OwnProps) {\n  const lang = useLang();\n\n  const {\n    id,\n    timestamp,\n    status,\n    from,\n    to,\n    cex,\n  } = activity;\n\n  const fromToken = tokensBySlug?.[from];\n  const toToken = tokensBySlug?.[to];\n  const fromAmount = Number(activity.fromAmount);\n  const toAmount = Number(activity.toAmount);\n  const isPending = status === 'pending'\n    || CHANGELLY_PENDING_STATUSES.has(cex?.status ?? '');\n  const isError = ONCHAIN_ERROR_STATUSES.has(status)\n    || CHANGELLY_EXPIRED_STATUSES.has(cex?.status ?? '');\n  const isHold = cex?.status === 'hold';\n\n  const isFromToncoin = from === TONCOIN_SLUG;\n\n  const handleClick = useLastCallback(() => {\n    onClick(id);\n  });\n\n  const swapIconClass = buildClassName(\n    'icon-swap',\n    styles.icon_swap,\n    isError && styles.icon_error,\n  );\n\n  const iconFullClass = buildClassName(\n    styles.icon,\n    swapIconClass,\n  );\n\n  function renderAmount() {\n    const amountSwapClass = buildClassName(\n      styles.amount,\n      styles.swapAmount,\n    );\n\n    return (\n      <div className={styles.amountWrapper}>\n        <div className={amountSwapClass}>\n          <span className={buildClassName(styles.swapSell, isError && styles.swapError)}>\n            {formatCurrencyExtended(\n              Math.abs(fromAmount),\n              fromToken?.symbol || TON_SYMBOL,\n              true,\n            )}\n          </span>\n          <i\n            className={buildClassName(\n              styles.swapArrowRight,\n              'icon-arrow-right',\n              isError && styles.swapError,\n              isHold && styles.swapHold,\n            )}\n            aria-hidden\n          />\n          <span className={buildClassName(\n            styles.swapBuy,\n            isError && styles.swapError,\n            isHold && styles.swapHold,\n          )}\n          >\n            {formatCurrencyExtended(\n              Math.abs(toAmount),\n              toToken?.symbol || TON_SYMBOL,\n              true,\n            )}\n          </span>\n        </div>\n        {renderCurrency(activity, fromToken, toToken)}\n      </div>\n    );\n  }\n\n  function renderErrorMessage() {\n    const date: string | TeactNode[] = formatTime(timestamp);\n    let state = '';\n    const cexStatus = cex?.status;\n\n    if (cexStatus === 'expired' || cexStatus === 'overdue') {\n      state = lang('Expired');\n    } else if (cexStatus === 'refunded') {\n      state = lang('Refunded');\n    } else if (cexStatus === 'hold') {\n      state = lang('On Hold');\n    } else if (cexStatus === 'failed' || isError) {\n      state = lang('Failed');\n    } else if (cexStatus === 'waiting' && !isFromToncoin) {\n      // Skip the `waiting` status for transactions from TON to account for delayed status updates from Changelly\n      state = lang('Waiting for Payment');\n    } else if (isPending) {\n      state = lang('In Progress');\n    }\n\n    return (\n      <div className={buildClassName(\n        styles.date,\n        isError && styles.isSwapErrorMessage,\n      )}\n      >\n        {date}{state ? `${WHOLE_PART_DELIMITER}${WHOLE_PART_DELIMITER}${state}` : ''}\n      </div>\n    );\n  }\n\n  function renderTitle() {\n    if (isHold || isError) {\n      return lang('SwapTitle');\n    } else if (isPending) {\n      return lang('Swapping');\n    }\n\n    return lang('Swapped');\n  }\n\n  return (\n    <Button\n      ref={ref as RefObject<HTMLButtonElement>}\n      key={id}\n      className={buildClassName(\n        styles.item,\n        isLast && styles.itemLast,\n        isActive && styles.active,\n      )}\n      onClick={handleClick}\n      isSimple\n    >\n      <i className={iconFullClass} aria-hidden />\n      {isPending && (\n        <i\n          className={buildClassName(styles.iconWaiting, styles.iconWaitingSwap, 'icon-clock')}\n          title={lang('Swap is not completed')}\n          aria-hidden\n        />\n      )}\n      {isError && (\n        <i\n          className={buildClassName(styles.iconError, 'icon-close-filled')}\n          title={lang('Swap is not completed')}\n          aria-hidden\n        />\n      )}\n      <div className={styles.leftBlock}>\n        <div className={styles.operationName}>\n          {renderTitle()}\n        </div>\n        {renderErrorMessage()}\n      </div>\n      {renderAmount()}\n      <i className={buildClassName(styles.iconArrow, 'icon-chevron-right')} aria-hidden />\n    </Button>\n  );\n}\n\nexport default memo(Swap);\n\nfunction renderCurrency(activity: ApiSwapActivity, fromToken?: ApiSwapAsset, toToken?: ApiSwapAsset) {\n  const rate = getSwapRate(activity.fromAmount, activity.toAmount, fromToken, toToken);\n\n  return (\n    <div\n      className={styles.swapPrice}\n    >\n      {\n        rate && (\n          <>\n            {rate.firstCurrencySymbol}{'  '}\n            <span\n              className={styles.swapPriceValue}\n            >\n              {rate.price}{' '}{rate.secondCurrencySymbol}\n            </span>\n          </>\n        )\n      }\n    </div>\n  );\n}\n","import React, { memo } from '../../../../lib/teact/teact';\n\nimport type { ApiBaseCurrency } from '../../../../api/types';\nimport type { UserToken } from '../../../../global/types';\n\nimport { TONCOIN_SLUG } from '../../../../config';\nimport { Big } from '../../../../lib/big.js';\nimport buildClassName from '../../../../util/buildClassName';\nimport { calcChangeValue } from '../../../../util/calcChangeValue';\nimport { formatFullDay } from '../../../../util/dateFormat';\nimport { toDecimal } from '../../../../util/decimals';\nimport { formatCurrency, getShortCurrencySymbol } from '../../../../util/formatNumber';\nimport { round } from '../../../../util/round';\nimport { ASSET_LOGO_PATHS } from '../../../ui/helpers/assetLogos';\n\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useShowTransition from '../../../../hooks/useShowTransition';\n\nimport AnimatedCounter from '../../../ui/AnimatedCounter';\nimport Button from '../../../ui/Button';\n\nimport styles from './Token.module.scss';\n\ninterface OwnProps {\n  token: UserToken;\n  stakingStatus?: 'active' | 'unstakeRequested';\n  vestingStatus?: 'frozen' | 'readyToUnfreeze';\n  unfreezeEndDate?: number;\n  amount?: string;\n  isInvestorView?: boolean;\n  classNames?: string;\n  style?: string;\n  apyValue?: number;\n  isActive?: boolean;\n  baseCurrency?: ApiBaseCurrency;\n  onClick: (slug: string) => void;\n}\n\nconst DAY = 1000 * 60 * 60 * 24;\nconst UNFREEZE_DANGER_DURATION = 7 * DAY;\n\nfunction Token({\n  token,\n  amount,\n  stakingStatus,\n  vestingStatus,\n  unfreezeEndDate,\n  apyValue,\n  isInvestorView,\n  classNames,\n  style,\n  isActive,\n  baseCurrency,\n  onClick,\n}: OwnProps) {\n  const {\n    name,\n    symbol,\n    slug,\n    amount: tokenAmount,\n    price,\n    change24h: change,\n    image,\n    decimals,\n  } = token;\n\n  const lang = useLang();\n\n  const isVesting = Boolean(vestingStatus?.length);\n  const renderedAmount = amount ?? toDecimal(tokenAmount, decimals, true);\n  const logoPath = image || ASSET_LOGO_PATHS[symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n  const value = Big(renderedAmount).mul(price).toString();\n  const changeClassName = change > 0 ? styles.change_up : change < 0 ? styles.change_down : undefined;\n  const changeValue = Math.abs(round(calcChangeValue(Number(value), change), 4));\n  const changePercent = Math.abs(round(change * 100, 2));\n  const withApy = Boolean(apyValue) && slug === TONCOIN_SLUG;\n  const fullClassName = buildClassName(styles.container, isActive && styles.active, classNames);\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  const {\n    shouldRender: shouldRenderApy,\n    transitionClassNames: renderApyClassNames,\n  } = useShowTransition(withApy);\n\n  const handleClick = useLastCallback(() => {\n    onClick(slug);\n  });\n\n  function renderApy() {\n    return (\n      <span className={buildClassName(styles.apy, stakingStatus && styles.apy_staked, renderApyClassNames)}>\n        APY {apyValue}%\n      </span>\n    );\n  }\n\n  function renderChangeIcon() {\n    if (change === 0) {\n      return undefined;\n    }\n\n    return (\n      <i\n        className={buildClassName(styles.iconArrow, change > 0 ? 'icon-arrow-up' : 'icon-arrow-down')}\n        aria-hidden\n      />\n    );\n  }\n\n  function renderInvestorView() {\n    return (\n      <Button className={fullClassName} isSimple style={style} onClick={handleClick}>\n        <img src={logoPath} alt={symbol} className={styles.icon} />\n        {stakingStatus && (\n          <i\n            className={buildClassName(stakingStatus === 'active' ? 'icon-percent' : 'icon-clock', styles.percent)}\n            aria-hidden\n          />\n        )}\n        {vestingStatus && (\n          <i\n            className={buildClassName(vestingStatus === 'frozen' ? 'icon-snow' : 'icon-fire', styles.vestingIcon)}\n            aria-hidden\n          />\n        )}\n        <div className={styles.primaryCell}>\n          <div className={buildClassName(styles.name, withApy && styles.name_withApy)}>\n            {name}\n            {shouldRenderApy && renderApy()}\n          </div>\n          <div className={styles.subtitle}>\n            <AnimatedCounter text={formatCurrency(renderedAmount, symbol)} />\n            <i className={styles.dot} aria-hidden />\n            <AnimatedCounter text={formatCurrency(price, shortBaseSymbol, undefined, true)} />\n          </div>\n        </div>\n        <div className={styles.secondaryCell}>\n          <div className={buildClassName(\n            styles.secondaryValue,\n            stakingStatus && styles.secondaryValue_staked,\n            isVesting && styles.secondaryValue_vesting,\n            isVesting && vestingStatus === 'readyToUnfreeze' && styles.secondaryValue_vestingUnfreeze,\n          )}\n          >\n            <AnimatedCounter text={formatCurrency(value, shortBaseSymbol)} />\n          </div>\n          {unfreezeEndDate ? (\n            <div\n              className={buildClassName(\n                styles.change,\n                (unfreezeEndDate - Date.now() < UNFREEZE_DANGER_DURATION) && styles.change_down,\n              )}\n            >\n              {lang('Unfreeze')}\n              {' '}\n              {lang('until %date%', { date: `${formatFullDay(lang.code!, unfreezeEndDate)}` })}\n            </div>\n          ) : (\n            <div className={buildClassName(styles.change, changeClassName)}>\n              {renderChangeIcon()}<AnimatedCounter text={String(changePercent)} />%\n              <i className={styles.dot} aria-hidden />\n              <AnimatedCounter text={formatCurrency(changeValue, shortBaseSymbol, undefined, true)} />\n            </div>\n          )}\n        </div>\n        <i className={buildClassName(styles.iconChevron, 'icon-chevron-right')} aria-hidden />\n      </Button>\n    );\n  }\n\n  function renderDefaultView() {\n    const totalAmount = Big(renderedAmount).mul(price);\n    const canRenderApy = Boolean(apyValue) && slug === TONCOIN_SLUG;\n\n    return (\n      <Button className={fullClassName} style={style} onClick={handleClick} isSimple>\n        <img src={logoPath} alt={symbol} className={styles.icon} />\n        {stakingStatus && (\n          <i\n            className={buildClassName(stakingStatus === 'active' ? 'icon-percent' : 'icon-clock', styles.percent)}\n            aria-hidden\n          />\n        )}\n        {vestingStatus && (\n          <i\n            className={buildClassName(vestingStatus === 'frozen' ? 'icon-snow' : 'icon-fire', styles.vestingIcon)}\n            aria-hidden\n          />\n        )}\n        <div className={styles.primaryCell}>\n          <div className={buildClassName(styles.name, canRenderApy && styles.name_withApy)}>\n            {name}\n            {canRenderApy && renderApy()}\n          </div>\n          <div className={styles.subtitle}>\n            <AnimatedCounter text={formatCurrency(price, shortBaseSymbol, undefined, true)} />\n            {!stakingStatus && (\n              <>\n                <i className={styles.dot} aria-hidden />\n                {unfreezeEndDate ? (\n                  <span className={(unfreezeEndDate - Date.now() < UNFREEZE_DANGER_DURATION) && styles.change_down}>\n                    {lang('Unfreeze')}\n                    {' '}\n                    {lang('until %date%', { date: `${formatFullDay(lang.code!, unfreezeEndDate)}` })}\n                  </span>\n                ) : (\n                  <span className={changeClassName}>\n                    {renderChangeIcon()}<AnimatedCounter text={String(changePercent)} />%\n                  </span>\n                )}\n              </>\n            )}\n          </div>\n        </div>\n        <div className={styles.secondaryCell}>\n          <div className={buildClassName(\n            styles.secondaryValue,\n            stakingStatus && styles.secondaryValue_staked,\n            isVesting && styles.secondaryValue_vesting,\n            isVesting && vestingStatus === 'readyToUnfreeze' && styles.secondaryValue_vestingUnfreeze,\n          )}\n          >\n            <AnimatedCounter text={formatCurrency(renderedAmount, symbol)} />\n          </div>\n          <div className={styles.subtitle}>\n            {totalAmount.gt(0) ? '' : ''}&thinsp;\n            <AnimatedCounter text={formatCurrency(totalAmount, shortBaseSymbol, undefined, true)} />\n          </div>\n        </div>\n        <i className={buildClassName(styles.iconChevron, 'icon-chevron-right')} aria-hidden />\n      </Button>\n    );\n  }\n\n  return isInvestorView ? renderInvestorView() : renderDefaultView();\n}\n\nexport default memo(Token);\n","import type { Ref, RefObject } from 'react';\nimport React, { memo } from '../../../../lib/teact/teact';\nimport { getActions } from '../../../../global';\n\nimport type { ApiToken, ApiTransactionActivity } from '../../../../api/types';\nimport { MediaType } from '../../../../global/types';\n\nimport { TON_SYMBOL } from '../../../../config';\nimport { getIsTxIdLocal } from '../../../../global/helpers';\nimport { bigintAbs } from '../../../../util/bigint';\nimport buildClassName from '../../../../util/buildClassName';\nimport { formatTime } from '../../../../util/dateFormat';\nimport { toDecimal } from '../../../../util/decimals';\nimport { formatCurrencyExtended } from '../../../../util/formatNumber';\nimport { shortenAddress } from '../../../../util/shortenAddress';\n\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\n\nimport Button from '../../../ui/Button';\n\nimport styles from './Transaction.module.scss';\n\nimport scamImg from '../../../../assets/scam.svg';\n\ntype OwnProps = {\n  ref?: Ref<HTMLElement>;\n  tokensBySlug?: Record<string, ApiToken>;\n  transaction: ApiTransactionActivity;\n  isLast: boolean;\n  isActive: boolean;\n  apyValue: number;\n  savedAddresses?: Record<string, string>;\n  onClick: (id: string) => void;\n};\n\nfunction Transaction({\n  ref,\n  tokensBySlug,\n  transaction,\n  isActive,\n  apyValue,\n  savedAddresses,\n  isLast,\n  onClick,\n}: OwnProps) {\n  const { openMediaViewer } = getActions();\n  const lang = useLang();\n\n  const {\n    txId,\n    amount,\n    fromAddress,\n    toAddress,\n    timestamp,\n    comment,\n    encryptedComment,\n    isIncoming,\n    type,\n    metadata,\n    slug,\n    nft,\n  } = transaction;\n\n  const isStake = type === 'stake';\n  const isUnstake = type === 'unstake';\n  const isUnstakeRequest = type === 'unstakeRequest';\n  const isStaking = isStake || isUnstake || isUnstakeRequest;\n  const isNftTransfer = type === 'nftTransferred' || type === 'nftReceived' || Boolean(nft);\n\n  const token = tokensBySlug?.[slug];\n  const address = isIncoming ? fromAddress : toAddress;\n  const addressName = savedAddresses?.[address] || metadata?.name;\n  const isLocal = getIsTxIdLocal(txId);\n  const isScam = Boolean(metadata?.isScam);\n\n  const handleClick = useLastCallback(() => {\n    onClick(txId);\n  });\n\n  const handleNftClick = useLastCallback((event: React.MouseEvent) => {\n    event.stopPropagation();\n    openMediaViewer({ mediaId: nft!.address, mediaType: MediaType.Nft, txId });\n  });\n\n  function getOperationName() {\n    if (isStake) {\n      return 'Staked';\n    }\n\n    if (isUnstakeRequest) {\n      return 'Unstake Requested';\n    }\n\n    if (isUnstake) {\n      return 'Unstaked';\n    }\n\n    return isIncoming ? 'Received' : 'Sent';\n  }\n\n  function renderNft() {\n    return (\n      <div\n        className={buildClassName(\n          styles.nft,\n          isIncoming && styles.received,\n          comment && styles.nftWithComment,\n          'transaction-nft',\n        )}\n        onClick={handleNftClick}\n        data-nft-address={nft?.address}\n        data-tx-id={txId}\n      >\n        <img src={nft!.thumbnail} alt={nft!.name} className={styles.nftImage} />\n        <div className={styles.nftData}>\n          <div className={styles.nftName}>{nft!.name}</div>\n          <div className={styles.nftCollection}>{nft!.collectionName}</div>\n        </div>\n      </div>\n    );\n  }\n\n  function renderComment() {\n    if (isStaking || isScam || (!comment && !encryptedComment)) {\n      return undefined;\n    }\n\n    return (\n      <div\n        className={buildClassName(\n          styles.comment,\n          isIncoming ? styles.comment_incoming : styles.comment_outgoing,\n        )}\n      >\n        {encryptedComment && <i className={buildClassName(styles.commentIcon, 'icon-lock')} aria-hidden />}\n        {encryptedComment ? <i>{lang('Encrypted Message')}</i> : comment}\n      </div>\n    );\n  }\n\n  const stakeIconClass = buildClassName(\n    isStaking && 'icon-earn',\n    isStake && styles.icon_purple,\n    isStaking && styles.icon_staking,\n    !isStaking && (isIncoming ? 'icon-receive-alt' : 'icon-send-alt'),\n  );\n\n  const iconFullClass = buildClassName(\n    styles.icon,\n    isIncoming && styles.icon_operationPositive,\n    stakeIconClass,\n  );\n\n  function renderAmount() {\n    const amountOtherClass = buildClassName(\n      styles.amount,\n      isIncoming\n        ? styles.amount_operationPositive\n        : (isStake ? styles.amount_stake : styles.amount_operationNegative),\n    );\n\n    return (\n      <div className={styles.amountWrapper}>\n        <div className={amountOtherClass}>\n          {isNftTransfer ? 'NFT' : formatCurrencyExtended(\n            toDecimal(isStaking ? bigintAbs(amount) : amount, token!.decimals),\n            token?.symbol || TON_SYMBOL,\n            isStaking,\n          )}\n        </div>\n        <div className={styles.address}>\n          {!isStaking && lang(isIncoming ? '$transaction_from' : '$transaction_to', {\n            address: <span className={styles.addressValue}>{addressName || shortenAddress(address)}</span>,\n          })}\n          {isStake && lang('at %apy_value%', {\n            apy_value: <span className={styles.apyValue}>APY {apyValue}%</span>,\n          })}\n          {(isUnstake || isUnstakeRequest) && '\\u00A0'}\n        </div>\n      </div>\n    );\n  }\n\n  const waitingIconClassName = buildClassName(\n    styles.iconWaiting,\n    isStake && styles.iconWaitingStake,\n    'icon-clock',\n  );\n\n  return (\n    <Button\n      ref={ref as RefObject<HTMLButtonElement>}\n      key={txId}\n      className={buildClassName(\n        styles.item,\n        isLast && styles.itemLast,\n        isActive && styles.active,\n        isNftTransfer && styles.withNft,\n        isNftTransfer && comment && styles.withNftAndComment,\n      )}\n      onClick={handleClick}\n      isSimple\n    >\n      <i className={iconFullClass} aria-hidden />\n      {isLocal && (\n        <i\n          className={waitingIconClassName}\n          title={lang('Transaction is not completed')}\n          aria-hidden\n        />\n      )}\n      <div className={styles.leftBlock}>\n        <div className={styles.operationName}>\n          {lang(getOperationName())}\n          {isScam && <img src={scamImg} alt={lang('Scam')} className={styles.scamImage} />}\n        </div>\n        <div className={styles.date}>{formatTime(timestamp)}</div>\n      </div>\n      {renderAmount()}\n      {nft && renderNft()}\n      {renderComment()}\n      <i className={buildClassName(styles.iconArrow, 'icon-chevron-right')} aria-hidden />\n    </Button>\n  );\n}\n\nexport default memo(Transaction);\n","// eslint-disable-next-line no-restricted-exports\nexport { default } from './Content';\n","import React, { memo } from '../../../../lib/teact/teact';\nimport { withGlobal } from '../../../../global';\n\nimport type { Theme } from '../../../../global/types';\n\nimport buildClassName from '../../../../util/buildClassName';\n\nimport useBrowserUiColor from '../../../../hooks/useBrowserUiColor';\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useLang from '../../../../hooks/useLang';\nimport useShowTransition from '../../../../hooks/useShowTransition';\n\nimport styles from './Warnings.module.scss';\n\ntype OwnProps = {\n  isRequired: boolean;\n  onOpenBackupWallet: () => void;\n};\n\ntype StateProps = {\n  theme: Theme;\n};\n\nconst UI_BG_RED_LIGHT = '#F36A6B';\nconst UI_BG_RED_DARK = '#C44646';\n\nfunction BackupWarning({ isRequired, theme, onOpenBackupWallet }: OwnProps & StateProps) {\n  const { shouldRender, transitionClassNames } = useShowTransition(isRequired, undefined, true);\n  const { isLandscape } = useDeviceScreen();\n\n  const lang = useLang();\n\n  useBrowserUiColor({\n    isActive: isRequired,\n    currentTheme: theme,\n    lightColor: UI_BG_RED_LIGHT,\n    darkColor: UI_BG_RED_DARK,\n  });\n\n  const handleClick = () => {\n    onOpenBackupWallet();\n  };\n\n  if (!shouldRender) {\n    return undefined;\n  }\n\n  return (\n    <div\n      className={buildClassName(styles.wrapper, isLandscape && styles.wrapper_landscape, transitionClassNames)}\n      onClick={handleClick}\n    >\n      {lang('Wallet is not backed up')}\n      <i className={buildClassName(styles.icon, 'icon-chevron-right')} aria-hidden />\n      <p className={styles.text}>\n        {lang('Back up wallet to have full access to it')}\n      </p>\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      return {\n        theme: global.settings.theme,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(BackupWarning),\n);\n","import React, { memo } from '../../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../../global';\n\nimport { MY_TON_WALLET_PROMO_URL } from '../../../../config';\nimport buildClassName from '../../../../util/buildClassName';\nimport { openUrl } from '../../../../util/openUrl';\n\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useLang from '../../../../hooks/useLang';\nimport useLastCallback from '../../../../hooks/useLastCallback';\nimport useShowTransition from '../../../../hooks/useShowTransition';\n\nimport styles from './Warnings.module.scss';\n\ntype StateProps = {\n  isSecurityWarningHidden?: boolean;\n};\n\nfunction SecurityWarning({ isSecurityWarningHidden }: StateProps) {\n  const { closeSecurityWarning } = getActions();\n\n  const { shouldRender, transitionClassNames } = useShowTransition(!isSecurityWarningHidden, undefined, true);\n  const { isLandscape } = useDeviceScreen();\n\n  const lang = useLang();\n\n  function handleClick() {\n    openUrl(MY_TON_WALLET_PROMO_URL);\n  }\n\n  const handleClose = useLastCallback((e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n\n    closeSecurityWarning();\n  });\n\n  if (!shouldRender) {\n    return undefined;\n  }\n\n  return (\n    <div\n      className={buildClassName(styles.wrapper, isLandscape && styles.wrapper_landscape, transitionClassNames)}\n      onClick={handleClick}\n    >\n      {lang('Consider More Secure Version')}\n      <i className={buildClassName(styles.icon, 'icon-chevron-right')} aria-hidden />\n      <p className={styles.text}>{lang('Install our native app or browser extension.')}</p>\n\n      <button type=\"button\" className={styles.closeButton} aria-label={lang('Close')} onClick={handleClose}>\n        <i className=\"icon-close\" aria-hidden />\n      </button>\n    </div>\n  );\n}\n\nexport default memo(\n  withGlobal((global): StateProps => {\n    return {\n      isSecurityWarningHidden: global.settings.isSecurityWarningHidden,\n    };\n  })(SecurityWarning),\n);\n","import React, { memo } from '../../../../lib/teact/teact';\nimport { withGlobal } from '../../../../global';\n\nimport { IS_EXTENSION } from '../../../../config';\nimport { selectCurrentAccountState } from '../../../../global/selectors';\nimport { IS_ANDROID, IS_ELECTRON, IS_IOS } from '../../../../util/windowEnvironment';\n\nimport { useDeviceScreen } from '../../../../hooks/useDeviceScreen';\nimport useLang from '../../../../hooks/useLang';\n\nimport BackupWarning from './BackupWarning';\nimport SecurityWarning from './SecurityWarning';\n\nimport styles from './Warnings.module.scss';\n\ntype OwnProps = {\n  onOpenBackupWallet: () => void;\n};\n\ntype StateProps = {\n  isTestnet?: boolean;\n  isBackupRequired: boolean;\n};\n\nconst IS_UNSAFE_WEB = !IS_ELECTRON && !IS_EXTENSION && !IS_IOS && !IS_ANDROID;\n\nfunction Warnings({ isBackupRequired, isTestnet, onOpenBackupWallet }: OwnProps & StateProps) {\n  const { isPortrait } = useDeviceScreen();\n  const lang = useLang();\n\n  return (\n    <>\n      {isTestnet && (\n        <div className={isPortrait ? styles.portraitContainer : styles.container}>\n          <div className={styles.testnetWarning}>{lang('Testnet Version')}</div>\n        </div>\n      )}\n\n      <BackupWarning isRequired={isBackupRequired} onOpenBackupWallet={onOpenBackupWallet} />\n      {IS_UNSAFE_WEB && <SecurityWarning />}\n    </>\n  );\n}\n\nexport default memo(\n  withGlobal(\n    (global): StateProps => {\n      return {\n        isBackupRequired: Boolean(selectCurrentAccountState(global)?.isBackupRequired),\n        isTestnet: global.settings.isTestnet,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(Warnings),\n);\n","// eslint-disable-next-line no-restricted-exports\nexport { default } from './Warnings';\n","import React, { memo, useMemo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport type { ApiNft } from '../../api/types';\nimport { MediaType } from '../../global/types';\n\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useNftMenu from './hooks/useNftMenu';\n\nimport DropdownMenu from '../ui/DropdownMenu';\n\nimport styles from './MediaViewer.module.scss';\n\ntype OwnProps = {\n  // eslint-disable-next-line react/no-unused-prop-types\n  mediaId?: string;\n  onClose: NoneToVoidFunction;\n};\n\ntype StateProps = {\n  nft?: ApiNft;\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n};\n\nfunction Actions({\n  onClose, nft, blacklistedNftAddresses, whitelistedNftAddresses,\n}: StateProps & OwnProps) {\n  const lang = useLang();\n  const [isMenuOpen, openMenu, closeMenu] = useFlag();\n\n  const isNftBlackListed = useMemo(() => {\n    return blacklistedNftAddresses?.includes(nft!.address);\n  }, [nft, blacklistedNftAddresses]);\n  const isNftWhiteListed = useMemo(() => {\n    return whitelistedNftAddresses?.includes(nft!.address);\n  }, [nft, whitelistedNftAddresses]);\n\n  const { menuItems, handleMenuItemSelect } = useNftMenu(nft, isNftBlackListed, isNftWhiteListed);\n\n  const handleSelect = useLastCallback((value: string) => {\n    if (value === 'send') {\n      onClose();\n    }\n\n    handleMenuItemSelect(value);\n  });\n\n  return (\n    <div className={styles.actions}>\n      <button\n        type=\"button\"\n        aria-label={lang('More actions')}\n        className={buildClassName(styles.actionButton, styles.menuButton, isMenuOpen && styles.menuButton_active)}\n        onClick={openMenu}\n      >\n        <i className=\"icon icon-more\" aria-hidden />\n      </button>\n      <DropdownMenu\n        isOpen={isMenuOpen}\n        items={menuItems}\n        menuPosition=\"top\"\n        menuPositionHorizontal=\"right\"\n        shouldTranslateOptions\n        onClose={closeMenu}\n        className=\"component-theme-dark\"\n        buttonClassName={styles.menuItem}\n        onSelect={handleSelect}\n      />\n\n      <button\n        type=\"button\"\n        aria-label={lang('Close')}\n        className={styles.actionButton}\n        onClick={onClose}\n      >\n        <i className={buildClassName('icon-windows-close', styles.actionIcon)} aria-hidden />\n      </button>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global, { mediaId }): StateProps => {\n  const { mediaType = MediaType.Nft } = global.mediaViewer || {};\n\n  if (!mediaId || mediaType !== MediaType.Nft) return {};\n\n  const { byAddress } = selectCurrentAccountState(global)?.nfts || {};\n  const nft = byAddress?.[mediaId];\n  if (!nft) return {};\n\n  const { blacklistedNftAddresses, whitelistedNftAddresses } = selectCurrentAccountState(global) || {};\n\n  return {\n    nft, blacklistedNftAddresses, whitelistedNftAddresses,\n  };\n})(Actions));\n","import React, {\n  memo, useEffect, useMemo, useRef,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { MediaType } from '../../global/types';\n\nimport { requestMutation } from '../../lib/fasterdom/fasterdom';\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useLang from '../../hooks/useLang';\n\nimport styles from './MediaViewer.module.scss';\n\nimport scamImg from '../../assets/scam.svg';\n\ninterface OwnProps {\n  // eslint-disable-next-line react/no-unused-prop-types\n  mediaId: string;\n}\n\ninterface StateProps {\n  alt?: string;\n  thumbnail?: string;\n  image?: string;\n  description?: string;\n  isScam?: boolean;\n  whitelistedMediaIds?: string[];\n}\n\nfunction Media({\n  mediaId, alt, thumbnail, image, description, isScam, whitelistedMediaIds,\n}: OwnProps & StateProps) {\n  const lang = useLang();\n  const src = image || thumbnail;\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLDivElement | null>(null);\n  const { isPortrait } = useDeviceScreen();\n\n  useEffect(() => {\n    const element = ref.current!;\n    const { height } = element.getBoundingClientRect();\n    requestMutation(() => {\n      // Inner scroll requires max-height to be set\n      element.style.setProperty('--max-height', `${height}px`);\n    });\n  }, [isPortrait]);\n\n  const isNftWhiteListed = useMemo(() => {\n    return whitelistedMediaIds?.includes(mediaId);\n  }, [mediaId, whitelistedMediaIds]);\n\n  return (\n    <div className={styles.content}>\n      <img src={src} alt={alt} className={styles.image} />\n      <div className={styles.contentDescription} ref={ref}>\n        {description && (\n          <div className={styles.contentTextWrapper}>\n            <div className={buildClassName(styles.contentText, 'custom-scroll')} dir=\"auto\">\n              {isScam && !isNftWhiteListed && <img src={scamImg} alt={lang('Scam')} className={styles.scamImage} />}\n              {description}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global, { mediaId }): StateProps => {\n  const { mediaType = MediaType.Nft } = global.mediaViewer || {};\n\n  if (mediaType !== MediaType.Nft) return {};\n\n  const { byAddress } = selectCurrentAccountState(global)?.nfts || {};\n  const nft = byAddress?.[mediaId];\n  if (!nft) return {};\n\n  const { whitelistedNftAddresses } = selectCurrentAccountState(global) || {};\n\n  return {\n    alt: nft.name,\n    thumbnail: nft.thumbnail,\n    image: nft.image,\n    description: nft.description,\n    isScam: nft.isScam,\n    whitelistedMediaIds: whitelistedNftAddresses,\n  };\n})(Media));\n","import React, { memo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { MediaType } from '../../global/types';\n\nimport { GETGEMS_BASE_MAINNET_URL, GETGEMS_BASE_TESTNET_URL } from '../../config';\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { handleOpenUrl } from '../../util/openUrl';\nimport { shortenAddress } from '../../util/shortenAddress';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './MediaViewer.module.scss';\n\ntype OwnProps = {\n  // eslint-disable-next-line react/no-unused-prop-types\n  mediaId?: string;\n};\n\ntype StateProps = {\n  title?: string;\n  description?: string;\n  descriptionUrl?: string;\n};\n\nfunction MediaInfo({ title, description, descriptionUrl }: OwnProps & StateProps) {\n  const lang = useLang();\n\n  return (\n    <div className={styles.mediaInfo}>\n      <span className={styles.mediaInfoTitle}>{title}</span>\n      <a\n        href={descriptionUrl}\n        target=\"_blank\"\n        aria-label={lang('Open NFT Collection')}\n        className={styles.mediaInfoDescription}\n        rel=\"noreferrer\"\n        onClick={handleOpenUrl}\n      >\n        <span className={styles.descriptionText}>{description}</span>\n        <i className={buildClassName('icon-tooltip', styles.tooltip)} aria-hidden />\n      </a>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global, { mediaId }): StateProps => {\n  const { mediaType = MediaType.Nft } = global.mediaViewer || {};\n\n  if (!mediaId || mediaType !== MediaType.Nft) return {};\n\n  const isTestnet = global.settings.isTestnet;\n\n  const getgemsBaseUrl = isTestnet ? GETGEMS_BASE_TESTNET_URL : GETGEMS_BASE_MAINNET_URL;\n\n  const { byAddress } = selectCurrentAccountState(global)?.nfts || {};\n  const nft = byAddress?.[mediaId];\n  if (!nft) return {};\n\n  return {\n    title: nft.name || shortenAddress(nft.address, 4),\n    description: nft.collectionName,\n    descriptionUrl: `${getgemsBaseUrl}collection/${nft.collectionAddress}`,\n  };\n})(MediaInfo));\n","import React, {\n  memo, useEffect, useLayoutEffect, useMemo,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiNft } from '../../api/types';\nimport { MediaType } from '../../global/types';\n\nimport { ANIMATION_END_DELAY } from '../../config';\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport captureEscKeyListener from '../../util/captureEscKeyListener';\nimport { MEMO_EMPTY_ARRAY } from '../../util/memo';\nimport { animateClosing, animateOpening, ANIMATION_DURATION } from './helpers/ghostAnimation';\n\nimport { dispatchHeavyAnimationEvent } from '../../hooks/useHeavyAnimationCheck';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport usePrevious from '../../hooks/usePrevious';\n\nimport ShowTransition from '../ui/ShowTransition';\nimport Transition from '../ui/Transition';\nimport Actions from './Actions';\nimport MediaInfo from './MediaInfo';\nimport Slides from './Slides';\n\nimport styles from './MediaViewer.module.scss';\n\ninterface StateProps {\n  mediaId?: string;\n  txId?: string;\n  hiddenNfts?: 'user' | 'scam';\n  noGhostAnimation?: boolean;\n  mediaIds: string[];\n  mediaUrl?: string;\n  mediaType: MediaType;\n  mediaByIds?: Record<string, ApiNft>;\n  blacklistedIds: string[];\n  withAnimation: boolean;\n}\n\nfunction MediaViewer({\n  mediaId, mediaIds, mediaType, mediaUrl, withAnimation, mediaByIds, blacklistedIds, txId, hiddenNfts, noGhostAnimation,\n}: StateProps) {\n  const { closeMediaViewer, openMediaViewer } = getActions();\n\n  const isOpen = Boolean(mediaId);\n  const lang = useLang();\n  const prevMediaId = usePrevious(mediaId);\n  const prevTxId = usePrevious(txId);\n  const prevHiddenNfts = usePrevious(hiddenNfts);\n  const prevNoGhostAnimation = usePrevious(noGhostAnimation);\n  const headerAnimation = withAnimation ? 'slideFade' : 'none';\n  const shouldAnimateOpening = withAnimation && isOpen && !prevMediaId && !noGhostAnimation;\n  const shouldAnimateClosing = withAnimation && !isOpen && !!prevMediaId && !prevNoGhostAnimation;\n\n  const handleClose = useLastCallback(() => closeMediaViewer());\n\n  const renderedMediaIds = useMemo(() => {\n    return mediaIds.filter((id) => {\n      const media = mediaByIds?.[id];\n      return media && !media.isHidden && !blacklistedIds.includes(id);\n    });\n  }, [blacklistedIds, mediaByIds, mediaIds]);\n  const selectedMediaIndex = renderedMediaIds.indexOf(mediaId!);\n\n  const getMediaId = useLastCallback((fromId?: string, direction?: number): string | undefined => {\n    if (fromId === undefined) return undefined;\n    const index = renderedMediaIds.indexOf(fromId);\n    if ((direction === -1 && index > 0) || (direction === 1 && index < renderedMediaIds.length - 1)) {\n      return renderedMediaIds[index + direction];\n    }\n    return undefined;\n  });\n\n  const selectMedia = useLastCallback((id: string) => {\n    openMediaViewer({ mediaType, mediaId: id });\n  });\n\n  useLayoutEffect(() => {\n    document.body.classList.toggle('is-media-viewer-open', isOpen);\n  }, [isOpen]);\n\n  useEffect(() => (isOpen ? captureEscKeyListener(handleClose) : undefined), [handleClose, isOpen]);\n\n  useEffect(() => {\n    if (shouldAnimateOpening) {\n      dispatchHeavyAnimationEvent(ANIMATION_DURATION + ANIMATION_END_DELAY);\n      animateOpening(mediaType, mediaId, mediaUrl, txId, hiddenNfts);\n    }\n    if (shouldAnimateClosing) {\n      dispatchHeavyAnimationEvent(ANIMATION_DURATION + ANIMATION_END_DELAY);\n      animateClosing(mediaType, prevMediaId, prevTxId, prevHiddenNfts);\n    }\n  }, [\n    shouldAnimateOpening,\n    shouldAnimateClosing,\n    mediaId,\n    mediaType,\n    mediaUrl,\n    prevMediaId,\n    txId,\n    prevTxId,\n    hiddenNfts,\n    prevHiddenNfts,\n  ]);\n\n  return (\n    <ShowTransition\n      className={buildClassName(styles.root, 'opacity-transition', 'slow')}\n      isOpen={isOpen}\n      shouldAnimateFirstRender\n      isCustom\n    >\n      <div className={styles.header} dir={lang.isRtl ? 'rtl' : undefined}>\n        <Transition activeKey={selectedMediaIndex} name={headerAnimation} className={styles.headerTransition}>\n          <MediaInfo mediaId={mediaId} />\n        </Transition>\n        <Actions mediaId={mediaId} onClose={handleClose} />\n      </div>\n      <Slides\n        isOpen={isOpen}\n        mediaId={mediaId}\n        getMediaId={getMediaId}\n        selectMedia={selectMedia}\n        withAnimation={withAnimation}\n        onClose={handleClose}\n      />\n    </ShowTransition>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const {\n    mediaId, mediaType = MediaType.Nft, txId, hiddenNfts, noGhostAnimation,\n  } = global.mediaViewer || {};\n  const animationLevel = global.settings?.animationLevel;\n  const accountState = selectCurrentAccountState(global);\n\n  let mediaIds: string[] = MEMO_EMPTY_ARRAY;\n  let mediaUrl: string | undefined;\n  let mediaByIds: Record<string, ApiNft> | undefined;\n  let blacklistedIds: string[] = MEMO_EMPTY_ARRAY;\n\n  if (mediaType === MediaType.Nft) {\n    const { orderedAddresses, byAddress } = accountState?.nfts || {};\n    const { blacklistedNftAddresses } = accountState || {};\n    const nft = byAddress?.[mediaId!];\n    mediaUrl = nft?.image || nft?.thumbnail;\n    mediaIds = orderedAddresses || MEMO_EMPTY_ARRAY;\n    mediaByIds = byAddress;\n    if (blacklistedNftAddresses?.length) {\n      blacklistedIds = blacklistedNftAddresses;\n    }\n  }\n\n  return {\n    mediaId,\n    txId,\n    hiddenNfts,\n    noGhostAnimation,\n    mediaIds,\n    mediaType,\n    mediaUrl,\n    mediaByIds,\n    blacklistedIds,\n    withAnimation: animationLevel > 0,\n  };\n})(MediaViewer));\n","import React, {\n  memo, useEffect, useLayoutEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport type { RealTouchEvent } from '../../util/captureEvents';\n\nimport { animateNumber, timingFunctions } from '../../util/animation';\nimport buildClassName from '../../util/buildClassName';\nimport {\n  captureEvents,\n  IOS_SCREEN_EDGE_THRESHOLD,\n  SWIPE_DIRECTION_THRESHOLD,\n  SWIPE_DIRECTION_TOLERANCE,\n} from '../../util/captureEvents';\nimport { clamp, isBetween, round } from '../../util/math';\nimport { debounce } from '../../util/schedulers';\nimport { IS_IOS, IS_TOUCH_ENV } from '../../util/windowEnvironment';\n\nimport useDebouncedCallback from '../../hooks/useDebouncedCallback';\nimport useDerivedState from '../../hooks/useDerivedState';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useSignal from '../../hooks/useSignal';\nimport { useSignalRef } from '../../hooks/useSignalRef';\nimport useWindowSize from '../../hooks/useWindowSize';\nimport useZoomChange from './hooks/useZoomChangeSignal';\n\nimport Media from './Media';\n\nimport styles from './MediaViewer.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  mediaId?: string;\n  getMediaId: (fromId?: string, direction?: number) => string | undefined;\n  selectMedia: (id: string) => void;\n  withAnimation: boolean;\n  onClose: () => void;\n}\n\ntype Transform = {\n  x: number;\n  y: number;\n  scale: number;\n};\n\nenum SwipeDirection {\n  Horizontal,\n  Vertical,\n}\n\nconst SWIPE_X_THRESHOLD = 50; // px\nconst SWIPE_Y_THRESHOLD = 50; // px\nconst SLIDES_GAP = IS_TOUCH_ENV ? 40 : 0; // px\nconst ANIMATION_DURATION = 350; // ms\nconst DEBOUNCE_SELECT_MEDIA = 350; // ms\nconst DEBOUNCE_SWIPE = 500; // ms\nconst DOUBLE_TAP_ZOOM = 3;\nconst CLICK_Y_THRESHOLD = 80; // px\nconst MAX_ZOOM = 4;\nconst MIN_ZOOM = 1;\n\nconst { easeOutCubic, easeOutQuart } = timingFunctions;\n\nlet cancelAnimation: Function | undefined;\nlet cancelZoomAnimation: Function | undefined;\n\nfunction Slides({\n  isOpen, mediaId, selectMedia, getMediaId, withAnimation, onClose,\n}: OwnProps) {\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const activeSlideRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const leftSlideRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const rightSlideRef = useRef<HTMLDivElement>(null);\n  const lastTransformRef = useRef<Transform>({ x: 0, y: 0, scale: 1 });\n  const swipeDirectionRef = useRef<SwipeDirection | undefined>(undefined);\n  const initialContentRectRef = useRef<DOMRect | undefined>(undefined);\n  const isReleasedRef = useRef(false);\n  const [getZoomChange] = useZoomChange();\n  const prevZoomChangeRef = useRef(getZoomChange());\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const [getTransform, setTransform] = useSignal<Transform>({ x: 0, y: 0, scale: 1 });\n  const transformRef = useSignalRef(getTransform);\n  const [getActiveMediaId, setActiveMediaId] = useSignal<string | undefined>(mediaId);\n  const activeMediaIdRef = useSignalRef(getActiveMediaId);\n  const isScaled = useDerivedState(() => getTransform().scale !== 1, [getTransform]);\n  const activeMediaId = useDerivedState(getActiveMediaId);\n  const { height: windowHeight, width: windowWidth, isResizing } = useWindowSize();\n\n  useHistoryBack({\n    isActive: isOpen,\n    onBack: onClose,\n    shouldBeReplaced: true,\n  });\n\n  const selectMediaDebounced = useDebouncedCallback(selectMedia, [selectMedia], DEBOUNCE_SELECT_MEDIA, true);\n  const clearSwipeDirectionDebounced = useDebouncedCallback(() => {\n    swipeDirectionRef.current = undefined;\n  }, [], DEBOUNCE_SWIPE, true);\n\n  const clickXThreshold = IS_TOUCH_ENV ? 40 : windowWidth / 10;\n\n  useEffect(() => {\n    const { scale, x, y } = transformRef.current;\n    // Only update active media if slide is in default position\n    if (x === 0 && y === 0 && scale === 1) {\n      setActiveMediaId(mediaId);\n    }\n  }, [mediaId, setActiveMediaId, transformRef]);\n\n  useLayoutEffect(() => {\n    const { x, y, scale } = getTransform();\n    if (leftSlideRef.current) {\n      leftSlideRef.current.style.transform = getTransformStyle(-windowWidth + x - SLIDES_GAP);\n    }\n    if (activeSlideRef.current) {\n      activeSlideRef.current.style.transform = getTransformStyle(x, y, scale);\n    }\n    if (rightSlideRef.current) {\n      rightSlideRef.current.style.transform = getTransformStyle(windowWidth + x + SLIDES_GAP);\n    }\n  }, [getTransform, windowWidth]);\n\n  const changeSlide = useLastCallback((direction: number, dryRun = false) => {\n    let lastTransform = lastTransformRef.current;\n    const mId = getMediaId(activeMediaIdRef.current, direction);\n    if (dryRun) return mId !== undefined;\n    if (mId === undefined) return false;\n    const offset = (windowWidth + SLIDES_GAP) * direction;\n    const transform = transformRef.current;\n    const x = transform.x + offset;\n    setActiveMediaId(mId);\n    selectMediaDebounced(mId);\n    lastTransform = { x: 0, y: 0, scale: 1 };\n    if (!withAnimation) {\n      setTransform(lastTransform);\n      return true;\n    }\n    cancelAnimation = animateNumber({\n      from: x,\n      to: 0,\n      duration: ANIMATION_DURATION,\n      timing: easeOutCubic,\n      onUpdate: (value) => setTransform({\n        y: 0,\n        x: value,\n        scale: 1,\n      }),\n    });\n    return true;\n  });\n\n  const handleNextSlide = useLastCallback(() => changeSlide(1));\n  const handlePrevSlide = useLastCallback(() => changeSlide(-1));\n\n  useEffect(() => {\n    if (!containerRef.current || activeMediaIdRef.current === undefined) {\n      return undefined;\n    }\n    let lastTransform = lastTransformRef.current;\n    const lastDragOffset = {\n      x: 0,\n      y: 0,\n    };\n    const lastZoomCenter = {\n      x: 0,\n      y: 0,\n    };\n    const panDelta = {\n      x: 0,\n      y: 0,\n    };\n    let lastGestureTime = Date.now();\n    let content: HTMLElement | null;\n    const setLastGestureTime = debounce(() => {\n      lastGestureTime = Date.now();\n    }, 500, false, true);\n\n    const changeSlideOnClick = (e: MouseEvent): [boolean, boolean] => {\n      const { scale } = transformRef.current;\n      if (scale !== 1) return [false, false];\n      let direction = 0;\n      if (windowHeight - e.pageY < CLICK_Y_THRESHOLD) {\n        return [false, false];\n      }\n      if (e.pageX < clickXThreshold) {\n        direction = -1;\n      } else if (e.pageX > windowWidth - clickXThreshold) {\n        direction = 1;\n      }\n      const hasNextSlide = changeSlide(direction, !IS_TOUCH_ENV);\n      const isInThreshold = direction !== 0;\n      return [isInThreshold, hasNextSlide];\n    };\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const { scale } = transformRef.current;\n      if (scale !== 1) return;\n      switch (e.key) {\n        case 'Left': // IE/Edge specific value\n        case 'ArrowLeft':\n          changeSlide(-1);\n          break;\n\n        case 'Right': // IE/Edge specific value\n        case 'ArrowRight':\n          changeSlide(1);\n          break;\n      }\n    };\n\n    const calculateOffsetBoundaries = (\n      { x, y, scale }: Transform,\n      offsetTop = 0,\n    ): [Transform, boolean, boolean] => {\n      const initialContentRect = initialContentRectRef.current;\n      if (!initialContentRect) return [{ x, y, scale }, true, true];\n      // Get current content boundaries\n      let inBoundsX = true;\n      let inBoundsY = true;\n\n      const centerX = (windowWidth - windowWidth * scale) / 2;\n      const centerY = (windowHeight - windowHeight * scale) / 2;\n\n      // If content is outside window we calculate offset boundaries\n      // based on initial content rect and current scale\n      const minOffsetX = Math.max(-initialContentRect.left * scale, centerX);\n      const maxOffsetX = windowWidth - initialContentRect.right * scale;\n      inBoundsX = isBetween(x, maxOffsetX, minOffsetX);\n      x = clamp(x, maxOffsetX, minOffsetX);\n\n      const minOffsetY = Math.max(-initialContentRect.top * scale + offsetTop, centerY);\n      const maxOffsetY = windowHeight - initialContentRect.bottom * scale;\n      inBoundsY = isBetween(y, maxOffsetY, minOffsetY);\n      y = clamp(y, maxOffsetY, minOffsetY);\n\n      return [{ x, y, scale }, inBoundsX, inBoundsY];\n    };\n\n    const onRelease = (e: MouseEvent | RealTouchEvent | WheelEvent) => {\n      // This allows to prevent onRelease triggered by debounced wheel event\n      // after onRelease was triggered manually in onDrag\n      if (isReleasedRef.current) {\n        isReleasedRef.current = false;\n        return;\n      }\n      if (e.type === 'mouseup') {\n        setIsMouseDown(false);\n      }\n      const transform = transformRef.current;\n      const { y, scale } = transform;\n      let x = transform.x;\n      const absX = Math.abs(x);\n      const absY = Math.abs(y);\n\n      clearSwipeDirectionDebounced();\n\n      // If scale is less than 1 we need to bounce back\n      if (scale < 1) {\n        lastTransform = { x: 0, y: 0, scale: 1 };\n        cancelAnimation = animateNumber({\n          from: [x, y, scale],\n          to: [0, 0, 1],\n          duration: ANIMATION_DURATION,\n          timing: easeOutCubic,\n          onUpdate: (value) => setTransform({\n            x: value[0],\n            y: value[1],\n            scale: value[2],\n          }),\n        });\n        return;\n      }\n      if (scale > 1) {\n        // Get current content boundaries\n        const s1 = Math.min(scale, MAX_ZOOM);\n        const scaleFactor = s1 / scale;\n\n        // Calculate new position based on the last zoom center to keep the zoom center\n        // at the same position when bouncing back from max zoom\n        let x1 = x * scaleFactor + (lastZoomCenter.x - scaleFactor * lastZoomCenter.x);\n        let y1 = y * scaleFactor + (lastZoomCenter.y - scaleFactor * lastZoomCenter.y);\n\n        // Arbitrary pan velocity coefficient\n        const k = 0.15;\n\n        // If scale didn't change, we need to add inertia to pan gesture\n        if (e.type !== 'wheel' && lastTransform.scale === scale) {\n          // Calculate user gesture velocity\n          const Vx = Math.abs(lastDragOffset.x) / (Date.now() - lastGestureTime);\n          const Vy = Math.abs(lastDragOffset.y) / (Date.now() - lastGestureTime);\n\n          // Add extra distance based on gesture velocity and last pan delta\n          x1 -= Math.abs(lastDragOffset.x) * Vx * k * panDelta.x;\n          y1 -= Math.abs(lastDragOffset.y) * Vy * k * panDelta.y;\n        }\n\n        [lastTransform] = calculateOffsetBoundaries({ x: x1, y: y1, scale: s1 });\n        cancelAnimation = animateNumber({\n          from: [x, y, scale],\n          to: [lastTransform.x, lastTransform.y, lastTransform.scale],\n          duration: ANIMATION_DURATION,\n          timing: easeOutCubic,\n          onUpdate: (value) => setTransform({\n            x: value[0],\n            y: value[1],\n            scale: value[2],\n          }),\n        });\n        return;\n      }\n      lastTransform = {\n        x,\n        y,\n        scale,\n      };\n      if (absY >= SWIPE_Y_THRESHOLD) {\n        onClose();\n        return;\n      }\n      // Bounce back if vertical swipe is below threshold\n      if (absY > 0) {\n        cancelAnimation = animateNumber({\n          from: y,\n          to: 0,\n          duration: ANIMATION_DURATION,\n          timing: easeOutCubic,\n          onUpdate: (value) => setTransform({\n            x: 0,\n            y: value,\n            scale,\n          }),\n        });\n        return;\n      }\n      // Get horizontal swipe direction\n      const direction = x < 0 ? 1 : -1;\n      const mId = getMediaId(activeMediaIdRef.current, x < 0 ? 1 : -1);\n      // Get the direction of the last pan gesture.\n      // Could be different from the total horizontal swipe direction\n      // if user starts a swipe in one direction and then changes the direction\n      // we need to cancel slide transition\n      const dirX = panDelta.x < 0 ? -1 : 1;\n      if (mId !== undefined && absX >= SWIPE_X_THRESHOLD && direction === dirX) {\n        const offset = (windowWidth + SLIDES_GAP) * direction;\n        // If image is shifted by more than SWIPE_X_THRESHOLD,\n        // We shift everything by one screen width and then set new active message id\n        x += offset;\n        setActiveMediaId(mId);\n        selectMediaDebounced(mId);\n      }\n      // Then we always return to the original position\n      cancelAnimation = animateNumber({\n        from: x,\n        to: 0,\n        duration: ANIMATION_DURATION,\n        timing: easeOutCubic,\n        onUpdate: (value) => setTransform({\n          y: 0,\n          x: value,\n          scale: scale ?? 1,\n        }),\n      });\n    };\n\n    const cleanup = captureEvents(containerRef.current, {\n      isNotPassive: true,\n      withNativeDrag: true,\n      excludedClosestSelector: `${styles.header}, .${styles.contentDescription}`,\n      minZoom: MIN_ZOOM,\n      maxZoom: MAX_ZOOM,\n      doubleTapZoom: DOUBLE_TAP_ZOOM,\n      withWheelDrag: true,\n      onCapture: (e) => {\n        const { x, y, scale } = transformRef.current;\n        if (e.type === 'mousedown') {\n          setIsMouseDown(true);\n          if (scale !== 1) {\n            e.preventDefault();\n            return;\n          }\n        }\n        lastGestureTime = Date.now();\n        if (x === 0 && y === 0 && scale === 1) {\n          if (!activeSlideRef.current) return;\n          content = activeSlideRef.current.querySelector('img, video');\n          if (!content) return;\n          // Store initial content rect, without transformations\n          initialContentRectRef.current = content.getBoundingClientRect();\n        }\n      },\n      onDrag: (event, captureEvent, {\n        dragOffsetX,\n        dragOffsetY,\n      }, cancelDrag) => {\n        if (isReleasedRef.current) return;\n        // Avoid conflicts with swipe-to-back gestures\n        if (IS_IOS && captureEvent.type === 'touchstart') {\n          const { pageX } = (captureEvent as RealTouchEvent).touches[0];\n          if (pageX <= IOS_SCREEN_EDGE_THRESHOLD || pageX >= windowWidth - IOS_SCREEN_EDGE_THRESHOLD) {\n            return;\n          }\n        }\n        if (cancelAnimation) {\n          cancelAnimation();\n          cancelAnimation = undefined;\n        }\n        panDelta.x = lastDragOffset.x - dragOffsetX;\n        panDelta.y = lastDragOffset.y - dragOffsetY;\n        lastDragOffset.x = dragOffsetX;\n        lastDragOffset.y = dragOffsetY;\n        const absOffsetX = Math.abs(dragOffsetX);\n        const absOffsetY = Math.abs(dragOffsetY);\n        const { x, y, scale } = transformRef.current;\n\n        // If user is inactive but is still touching the screen\n        // we reset last gesture time\n        setLastGestureTime();\n\n        // If image is scaled we just need to pan it\n        if (scale !== 1) {\n          const x1 = lastTransform.x + dragOffsetX;\n          const y1 = lastTransform.y + dragOffsetY;\n          if (['wheel', 'mousemove'].includes(event.type)) {\n            const [transform, inBoundsX, inBoundsY] = calculateOffsetBoundaries({ x: x1, y: y1, scale });\n            if (cancelDrag) cancelDrag(!inBoundsX, !inBoundsY);\n            setTransform(transform);\n            return;\n          }\n          if ('touches' in event && event.touches.length === 1) {\n            setTransform({\n              x: x1,\n              y: y1,\n              scale,\n            });\n          }\n          return;\n        }\n        if (event.type === 'mousemove') return;\n        if (swipeDirectionRef.current !== SwipeDirection.Vertical) {\n          // If user is swiping horizontally or horizontal shift is dominant\n          // we change only horizontal position\n          if (swipeDirectionRef.current === SwipeDirection.Horizontal\n              || Math.abs(x) > SWIPE_DIRECTION_THRESHOLD || absOffsetX / absOffsetY > SWIPE_DIRECTION_TOLERANCE) {\n            swipeDirectionRef.current = SwipeDirection.Horizontal;\n            const limit = windowWidth + SLIDES_GAP;\n            const x1 = clamp(dragOffsetX, -limit, limit);\n            setTransform({\n              x: x1,\n              y: 0,\n              scale,\n            });\n            // We know that at this point onRelease will trigger slide change,\n            // We can trigger onRelease directly instead of waiting for the debounced callback\n            // to avoid a delay\n            if (event.type === 'wheel' && Math.abs(x1) > SWIPE_X_THRESHOLD * 2) {\n              onRelease(event);\n              isReleasedRef.current = true;\n            }\n            return;\n          }\n        }\n        // If vertical shift is dominant we change only vertical position\n        if (swipeDirectionRef.current === SwipeDirection.Vertical\n            || Math.abs(y) > SWIPE_DIRECTION_THRESHOLD || absOffsetY / absOffsetX > SWIPE_DIRECTION_TOLERANCE) {\n          swipeDirectionRef.current = SwipeDirection.Vertical;\n          const limit = windowHeight;\n          const y1 = clamp(dragOffsetY, -limit, limit);\n          setTransform({\n            x: 0,\n            y: y1,\n            scale,\n          });\n          if (event.type === 'wheel' && Math.abs(y1) > SWIPE_Y_THRESHOLD * 2) {\n            onRelease(event);\n            isReleasedRef.current = true;\n          }\n        }\n      },\n      onZoom: (e, {\n        zoom,\n        zoomFactor,\n        initialCenterX,\n        initialCenterY,\n        dragOffsetX,\n        dragOffsetY,\n        currentCenterX,\n        currentCenterY,\n      }) => {\n        if (cancelAnimation) cancelAnimation();\n        initialCenterX = initialCenterX || windowWidth / 2;\n        initialCenterY = initialCenterY || windowHeight / 2;\n        currentCenterX = currentCenterX || windowWidth / 2;\n        currentCenterY = currentCenterY || windowHeight / 2;\n\n        // Calculate current scale based on zoom factor and limits, add zoom margin for bounce back effect\n        const scale = zoom ?? clamp(lastTransform.scale * zoomFactor!, MIN_ZOOM * 0.5, MAX_ZOOM * 3);\n        const scaleFactor = scale / lastTransform.scale;\n        const offsetX = Math.abs(Math.min(lastTransform.x, 0));\n        const offsetY = Math.abs(Math.min(lastTransform.y, 0));\n\n        // Save last zoom center for bounce back effect\n        lastZoomCenter.x = currentCenterX;\n        lastZoomCenter.y = currentCenterY;\n\n        // Calculate new center relative to the shifted image\n        const scaledCenterX = offsetX + initialCenterX;\n        const scaledCenterY = offsetY + initialCenterY;\n\n        // Calculate how much we need to shift the image to keep the zoom center at the same position\n        const scaleOffsetX = (scaledCenterX - scaleFactor * scaledCenterX);\n        const scaleOffsetY = (scaledCenterY - scaleFactor * scaledCenterY);\n\n        const [transform] = calculateOffsetBoundaries({\n          x: lastTransform.x + scaleOffsetX + dragOffsetX,\n          y: lastTransform.y + scaleOffsetY + dragOffsetY,\n          scale,\n        });\n\n        setTransform(transform);\n      },\n      onClick(e) {\n        setIsMouseDown(false);\n        const [isInThreshold, hasNextSlide] = changeSlideOnClick(e as MouseEvent);\n        if (isInThreshold) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (IS_TOUCH_ENV) return;\n          if (!hasNextSlide) onClose();\n          return;\n        }\n        if (lastTransform.scale !== 1 || IS_TOUCH_ENV) return;\n        onClose();\n      },\n      onDoubleClick(e, {\n        centerX,\n        centerY,\n      }) {\n        const [isInThreshold] = changeSlideOnClick(e as MouseEvent);\n        if (isInThreshold) {\n          e.preventDefault();\n          e.stopPropagation();\n          return;\n        }\n        if (!IS_TOUCH_ENV && e.type !== 'wheel') return;\n        const { x, y, scale } = transformRef.current;\n        // Calculate how much we need to shift the image to keep the zoom center at the same position\n        const scaleOffsetX = (centerX - DOUBLE_TAP_ZOOM * centerX);\n        const scaleOffsetY = (centerY - DOUBLE_TAP_ZOOM * centerY);\n        if (scale === 1) {\n          if (x !== 0 || y !== 0) return;\n          lastTransform = calculateOffsetBoundaries({\n            x: scaleOffsetX,\n            y: scaleOffsetY,\n            scale: DOUBLE_TAP_ZOOM,\n          })[0];\n        } else {\n          lastTransform = {\n            x: 0,\n            y: 0,\n            scale: 1,\n          };\n        }\n        cancelAnimation = animateNumber({\n          from: [x, y, scale],\n          to: [lastTransform.x, lastTransform.y, lastTransform.scale],\n          duration: ANIMATION_DURATION,\n          timing: easeOutCubic,\n          onUpdate: (value) => {\n            const transform = {\n              x: value[0],\n              y: value[1],\n              scale: value[2],\n            };\n            setTransform(transform);\n          },\n        });\n      },\n      onRelease,\n    });\n    document.addEventListener('keydown', handleKeyDown, false);\n    return () => {\n      cleanup();\n      document.removeEventListener('keydown', handleKeyDown, false);\n    };\n  },\n  [\n    onClose,\n    setTransform,\n    getMediaId,\n    windowWidth,\n    windowHeight,\n    clickXThreshold,\n    selectMediaDebounced,\n    clearSwipeDirectionDebounced,\n    withAnimation,\n    setIsMouseDown,\n    transformRef,\n    setActiveMediaId,\n    activeMediaIdRef,\n    changeSlide,\n  ]);\n\n  useEffect(() => {\n    const zoomChange = getZoomChange();\n    const hasZoomChanged = prevZoomChangeRef.current !== undefined\n      && prevZoomChangeRef.current !== zoomChange;\n    if (!containerRef.current || !hasZoomChanged) return;\n    prevZoomChangeRef.current = zoomChange;\n    const { scale } = transformRef.current;\n    const dir = zoomChange > 0 ? -1 : +1;\n    const minZoom = MIN_ZOOM * 0.6;\n    const maxZoom = MAX_ZOOM * 3;\n    let steps = 100;\n    let prevValue = 0;\n    if (scale <= minZoom && dir > 0) return;\n    if (scale >= maxZoom && dir < 0) return;\n    if (scale === 1 && dir > 0) steps = 20;\n    if (cancelZoomAnimation) cancelZoomAnimation();\n    cancelZoomAnimation = animateNumber({\n      from: dir,\n      to: dir * steps,\n      duration: ANIMATION_DURATION,\n      timing: easeOutQuart,\n      onUpdate: (value) => {\n        if (!containerRef.current) return;\n        const delta = round(value - prevValue, 2);\n        prevValue = value;\n        // To reuse existing logic we trigger wheel event for zoom buttons\n        const wheelEvent = new WheelEvent('wheel', {\n          deltaY: delta,\n          ctrlKey: true,\n        });\n        containerRef.current.dispatchEvent(wheelEvent);\n      },\n    });\n  }, [getZoomChange, transformRef]);\n\n  // eslint-disable-next-line no-null/no-null\n  if (activeMediaId === undefined) return null;\n\n  const nextMediaId = getMediaId(activeMediaId, 1);\n  const prevMediaId = getMediaId(activeMediaId, -1);\n  const hasPrev = prevMediaId !== undefined;\n  const hasNext = nextMediaId !== undefined;\n  const isMoving = isMouseDown && isScaled;\n\n  return (\n    <div className={styles.slides} ref={containerRef}>\n      <div className={styles.slide} ref={leftSlideRef}>\n        {hasPrev && !isScaled && !isResizing && (\n          <Media mediaId={prevMediaId} />\n        )}\n      </div>\n      <div\n        className={buildClassName(styles.slide, styles.slide_active, isMoving && styles.slide_moving)}\n        ref={activeSlideRef}\n      >\n        <Media mediaId={activeMediaId} />\n      </div>\n      <div className={styles.slide} ref={rightSlideRef}>\n        {hasNext && !isScaled && !isResizing && (\n          <Media mediaId={nextMediaId} />\n        )}\n      </div>\n      {hasPrev && !isScaled && !IS_TOUCH_ENV && (\n        <button\n          type=\"button\"\n          onClick={handlePrevSlide}\n          className={buildClassName(styles.navigation, styles.navigation_prev)}\n          aria-label={lang('Previous')}\n          dir={lang.isRtl ? 'rtl' : undefined}\n        />\n      )}\n      {hasNext && !isScaled && !IS_TOUCH_ENV && (\n        <button\n          type=\"button\"\n          onClick={handleNextSlide}\n          className={buildClassName(styles.navigation, styles.navigation_next)}\n          aria-label={lang('Next')}\n          dir={lang.isRtl ? 'rtl' : undefined}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default memo(Slides);\n\nfunction getTransformStyle(x = 0, y = 0, scale = 1) {\n  return `translate3d(${x.toFixed(3)}px, ${y.toFixed(3)}px, 0px) scale(${scale.toFixed(3)})`;\n}\n","import { MediaType } from '../../../global/types';\n\nimport { ANIMATION_END_DELAY, MOBILE_SCREEN_MAX_WIDTH } from '../../../config';\nimport { requestMutation } from '../../../lib/fasterdom/fasterdom';\nimport { applyStyles } from '../../../util/animation';\nimport { isElementInViewport } from '../../../util/isElementInViewport';\nimport stopEvent from '../../../util/stopEvent';\nimport { REM } from '../../../util/windowEnvironment';\nimport windowSize from '../../../util/windowSize';\n\nimport styles from '../MediaViewer.module.scss';\n\nexport const ANIMATION_DURATION = 200;\n\n// Header height + bottom padding, keep in sync with styles.image max-height\nconst OCCUPIED_HEIGHT = 14 * REM;\n\nexport function animateOpening(\n  type: MediaType, mediaId: string, mediaUrl?: string, txId?: string, hiddenNfts?: 'user' | 'scam',\n) {\n  const { image: fromImage } = getNode(type, mediaId, txId, hiddenNfts);\n  if (!fromImage || !mediaUrl) {\n    return;\n  }\n\n  requestMutation(async () => {\n    document.body.classList.add('ghost-animating');\n\n    const { width: windowWidth, height: windowHeight } = windowSize.get();\n    const { width: mediaWidth, height: mediaHeight } = await getImageDimension(mediaUrl);\n\n    const availableHeight = windowHeight - OCCUPIED_HEIGHT;\n    const offsetTop = (windowWidth <= MOBILE_SCREEN_MAX_WIDTH ? 8 : 7) * REM;\n\n    const { width: toWidth, height: toHeight } = calculateDimensions(\n      windowWidth,\n      availableHeight,\n      mediaWidth,\n      mediaHeight,\n    );\n\n    const toLeft = (windowWidth - toWidth) / 2;\n    const toTop = offsetTop + (availableHeight - toHeight) / 2;\n\n    const {\n      top: fromTop, left: fromLeft, width: fromWidth, height: fromHeight,\n    } = fromImage.getBoundingClientRect();\n\n    const fromTranslateX = (fromLeft + fromWidth / 2) - (toLeft + toWidth / 2);\n    const fromTranslateY = (fromTop + fromHeight / 2) - (toTop + toHeight / 2);\n    const fromScaleX = fromWidth / toWidth;\n    const fromScaleY = fromHeight / toHeight;\n\n    requestMutation(() => {\n      const ghost = createGhost(fromImage);\n      applyShape(ghost, type, true);\n      applyStyles(ghost, {\n        top: `${toTop}px`,\n        left: `${toLeft}px`,\n        width: `${toWidth}px`,\n        height: `${toHeight}px`,\n        transform: `translate3d(${fromTranslateX}px, ${fromTranslateY}px, 0) scale(${fromScaleX}, ${fromScaleY})`,\n      });\n\n      document.body.appendChild(ghost);\n\n      requestMutation(() => {\n        ghost.style.transform = '';\n        clearShape(ghost, type, true);\n\n        setTimeout(() => {\n          requestMutation(() => {\n            if (document.body.contains(ghost)) {\n              document.body.removeChild(ghost);\n            }\n            document.body.classList.remove('ghost-animating');\n          });\n        }, ANIMATION_DURATION + ANIMATION_END_DELAY);\n      });\n    });\n  });\n}\n\nexport function animateClosing(type: MediaType, mediaId: string, txId?: string, hiddenNfts?: 'user' | 'scam') {\n  const { container, image: toImage } = getNode(type, mediaId, txId, hiddenNfts);\n  const fromImage = document.querySelector<HTMLImageElement>(`.${styles.slide_active} img`);\n  if (!fromImage || !toImage) {\n    return;\n  }\n\n  const {\n    top: fromTop, left: fromLeft, width: fromWidth, height: fromHeight,\n  } = fromImage.getBoundingClientRect();\n  const {\n    top: targetTop, left: toLeft, width: toWidth, height: toHeight,\n  } = toImage.getBoundingClientRect();\n\n  let toTop = targetTop;\n  if (!isElementInViewport(toImage)) {\n    const { height: windowHeight } = windowSize.get();\n    toTop = targetTop < fromTop ? -toHeight : windowHeight;\n  }\n\n  const fromTranslateX = (fromLeft + fromWidth / 2) - (toLeft + toWidth / 2);\n  const fromTranslateY = (fromTop + fromHeight / 2) - (toTop + toHeight / 2);\n  const fromScaleX = fromWidth / toWidth;\n  const fromScaleY = fromHeight / toHeight;\n\n  const existingGhost = document.querySelector<HTMLDivElement>(`.${styles.ghost}`);\n  const ghost = existingGhost || createGhost(fromImage);\n\n  let ghostStyles: Record<string, string>;\n  if (existingGhost) {\n    const {\n      top, left, width, height,\n    } = existingGhost.getBoundingClientRect();\n    const scaleX = width / toWidth;\n    const scaleY = height / toHeight;\n\n    ghostStyles = {\n      transition: 'none',\n      top: `${toTop}px`,\n      left: `${toLeft}px`,\n      transformOrigin: 'top left',\n      transform: `translate3d(${left - toLeft}px, ${top - toTop}px, 0) scale(${scaleX}, ${scaleY})`,\n      width: `${toWidth}px`,\n      height: `${toHeight}px`,\n    };\n  } else {\n    ghostStyles = {\n      top: `${toTop}px`,\n      left: `${toLeft}px`,\n      width: `${toWidth}px`,\n      height: `${toHeight}px`,\n      transform: `translate3d(${fromTranslateX}px, ${fromTranslateY}px, 0) scale(${fromScaleX}, ${fromScaleY})`,\n    };\n  }\n\n  requestMutation(() => {\n    applyShape(ghost, type);\n    applyStyles(ghost, ghostStyles);\n    if (!existingGhost) document.body.appendChild(ghost);\n    document.body.classList.add('ghost-animating');\n    if (container) {\n      container.classList.add('ghost-target');\n    }\n\n    requestMutation(() => {\n      if (existingGhost) {\n        existingGhost.style.transition = '';\n      }\n\n      ghost.style.transform = '';\n\n      setTimeout(() => {\n        requestMutation(() => {\n          if (document.body.contains(ghost)) {\n            document.body.removeChild(ghost);\n          }\n          document.body.classList.remove('ghost-animating');\n          if (container) {\n            container.classList.remove('ghost-target');\n          }\n        });\n      }, ANIMATION_DURATION + ANIMATION_END_DELAY);\n    });\n  });\n}\n\nfunction getNode(type: MediaType, mediaId: string, txId?: string, hiddenNfts?: 'user' | 'scam') {\n  let image: HTMLImageElement | undefined;\n  let container: HTMLElement | undefined;\n  if (type === MediaType.Nft) {\n    container = document.querySelector(\n      txId\n        ? `.transaction-nft[data-tx-id=\"${txId}\"][data-nft-address=\"${mediaId}\"]`\n        : hiddenNfts\n          ? `.hidden-nfts-${hiddenNfts} [data-nft-address=\"${mediaId}\"]`\n          : `.nfts-container > .Transition_slide-active [data-nft-address=\"${mediaId}\"]`,\n    ) as HTMLElement;\n    image = container?.querySelector('img') as HTMLImageElement;\n  }\n  return { container, image };\n}\n\nfunction createGhost(source: HTMLImageElement) {\n  const ghost = document.createElement('div');\n  ghost.classList.add(styles.ghost);\n\n  const img = new Image();\n  img.classList.add(styles.ghostImage);\n  img.draggable = false;\n  img.oncontextmenu = stopEvent;\n  img.src = source.src;\n\n  ghost.appendChild(img);\n\n  return ghost;\n}\n\nfunction calculateDimensions(\n  availableWidth: number,\n  availableHeight: number,\n  mediaWidth: number,\n  mediaHeight: number,\n) {\n  const aspectRatio = mediaHeight / mediaWidth;\n  const calculatedWidth = Math.min(mediaWidth, availableWidth);\n  const calculatedHeight = Math.round(calculatedWidth * aspectRatio);\n\n  if (calculatedHeight > availableHeight) {\n    return {\n      width: Math.round(availableHeight / aspectRatio),\n      height: availableHeight,\n    };\n  }\n\n  return {\n    width: calculatedWidth,\n    height: Math.round(calculatedWidth * aspectRatio),\n  };\n}\n\nfunction applyShape(ghost: HTMLDivElement, type: MediaType, isOpening = false) {\n  if (type === MediaType.Nft) {\n    ghost.classList.add(isOpening ? styles.ghost_roundedOpening : styles.ghost_roundedClosing);\n  }\n}\n\nfunction clearShape(ghost: HTMLDivElement, type: MediaType, isOpening = false) {\n  if (type === MediaType.Nft) {\n    ghost.classList.remove(isOpening ? styles.ghost_roundedOpening : styles.ghost_roundedClosing);\n  }\n}\n\nasync function getImageDimension(url: string) {\n  const img = new Image();\n  img.src = url;\n  await new Promise((resolve) => {\n    img.onload = resolve;\n  });\n  return { width: img.width, height: img.height };\n}\n","import { useMemo } from '../../../lib/teact/teact';\nimport { getActions, getGlobal } from '../../../global';\n\nimport type { ApiNft } from '../../../api/types';\nimport type { DropdownItem } from '../../ui/Dropdown';\n\nimport {\n  GETGEMS_BASE_MAINNET_URL,\n  GETGEMS_BASE_TESTNET_URL,\n  TON_DNS_COLLECTION,\n  TON_EXPLORER_NAME,\n} from '../../../config';\nimport { openUrl } from '../../../util/openUrl';\nimport { getTonExplorerNftUrl } from '../../../util/url';\n\nimport { getIsPortrait } from '../../../hooks/useDeviceScreen';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nconst ON_SALE_ITEM: DropdownItem = {\n  name: 'Cannot be sent',\n  value: 'send',\n  description: 'NFT is for sale',\n  isDisabled: true,\n};\nconst TON_DNS_ITEM: DropdownItem = {\n  name: 'Configure DNS',\n  value: 'tondns',\n  fontIcon: 'external',\n};\nconst SEND_ITEM: DropdownItem = {\n  name: 'Send',\n  value: 'send',\n};\nconst FRAGMENT_ITEM: DropdownItem = {\n  name: 'Fragment',\n  value: 'fragment',\n  fontIcon: 'external',\n};\nconst GETGEMS_ITEM: DropdownItem = {\n  name: 'Getgems',\n  value: 'getgems',\n  fontIcon: 'external',\n};\nconst TON_EXPLORER_ITEM: DropdownItem = {\n  name: TON_EXPLORER_NAME,\n  value: 'tonExplorer',\n  fontIcon: 'external',\n};\nconst COLLECTION_ITEM: DropdownItem = {\n  name: 'Collection',\n  value: 'collection',\n};\nconst HIDE_ITEM: DropdownItem = {\n  name: 'Hide',\n  value: 'hide',\n};\nconst NOT_SCAM: DropdownItem = {\n  name: 'Not Scam',\n  value: 'not_scam',\n};\nconst UNHIDE: DropdownItem = {\n  name: 'Unhide',\n  value: 'unhide',\n};\nconst BURN_ITEM: DropdownItem = {\n  name: 'Burn',\n  value: 'burn',\n  isDangerous: true,\n};\nconst SELECT_ITEM: DropdownItem = {\n  name: 'Select',\n  value: 'select',\n  withSeparator: true,\n};\n\nexport default function useNftMenu(nft?: ApiNft, isNftBlacklisted?: boolean, isNftWhitelisted?: boolean) {\n  const {\n    startTransfer,\n    selectNfts,\n    openNftCollection,\n    burnNfts,\n    addNftsToBlacklist,\n    addNftsToWhitelist,\n    closeMediaViewer,\n    openUnhideNftModal,\n  } = getActions();\n\n  const handleMenuItemSelect = useLastCallback((value: string) => {\n    const { isTestnet } = getGlobal().settings;\n    switch (value) {\n      case 'send': {\n        startTransfer({\n          isPortrait: getIsPortrait(),\n          nfts: [nft!],\n        });\n        closeMediaViewer();\n\n        break;\n      }\n\n      case 'tonExplorer': {\n        const url = getTonExplorerNftUrl(nft!.address, isTestnet)!;\n\n        openUrl(url);\n        break;\n      }\n\n      case 'getgems': {\n        const getgemsBaseUrl = isTestnet ? GETGEMS_BASE_TESTNET_URL : GETGEMS_BASE_MAINNET_URL;\n        const getgemsUrl = nft!.collectionAddress\n          ? `${getgemsBaseUrl}collection/${nft!.collectionAddress}/${nft!.address}`\n          : `${getgemsBaseUrl}nft/${nft!.address}`;\n\n        openUrl(getgemsUrl);\n        break;\n      }\n\n      case 'tondns': {\n        const url = `https://dns.ton.org/#${(nft!.name || '').replace(/\\.ton$/i, '')}`;\n\n        openUrl(url);\n        break;\n      }\n\n      case 'fragment': {\n        let url: string;\n        if (nft!.collectionName?.toLowerCase().includes('numbers')) {\n          url = `https://fragment.com/number/${nft!.name?.replace(/[^0-9]/g, '')}`;\n        } else {\n          url = `https://fragment.com/username/${encodeURIComponent(nft!.name?.substring(1) || '')}`;\n        }\n\n        openUrl(url);\n        break;\n      }\n\n      case 'collection': {\n        openNftCollection({ address: nft!.collectionAddress! }, { forceOnHeavyAnimation: true });\n\n        break;\n      }\n\n      case 'hide': {\n        addNftsToBlacklist({ addresses: [nft!.address] });\n        closeMediaViewer();\n\n        break;\n      }\n\n      case 'not_scam': {\n        openUnhideNftModal({ address: nft!.address, name: nft!.name });\n\n        break;\n      }\n\n      case 'unhide': {\n        addNftsToWhitelist({ addresses: [nft!.address] });\n        closeMediaViewer();\n\n        break;\n      }\n\n      case 'burn': {\n        burnNfts({ nfts: [nft!] });\n        closeMediaViewer();\n\n        break;\n      }\n\n      case 'select': {\n        selectNfts({ addresses: [nft!.address] });\n        break;\n      }\n    }\n  });\n\n  const menuItems = useMemo(() => {\n    if (!nft) return [];\n\n    return [\n      ...(nft.collectionAddress === TON_DNS_COLLECTION ? [TON_DNS_ITEM] : []),\n      nft.isOnSale ? ON_SALE_ITEM : SEND_ITEM,\n      ...(nft.isOnFragment ? [FRAGMENT_ITEM] : []),\n      GETGEMS_ITEM,\n      TON_EXPLORER_ITEM,\n      ...(nft.collectionAddress ? [COLLECTION_ITEM] : []),\n      ...((!nft.isScam && !isNftBlacklisted) || isNftWhitelisted ? [HIDE_ITEM] : []),\n      ...(nft.isScam && !isNftWhitelisted ? [NOT_SCAM] : []),\n      ...(!nft.isScam && isNftBlacklisted ? [UNHIDE] : []),\n      ...(!nft.isOnSale ? [\n        BURN_ITEM,\n        SELECT_ITEM,\n      ] : []),\n    ];\n  }, [nft, isNftBlacklisted, isNftWhitelisted]);\n\n  return { menuItems, handleMenuItemSelect };\n}\n","import { useEffect } from '../../../lib/teact/teact';\n\nimport { createSignal } from '../../../util/signals';\n\nconst [getZoomChange, setZoomChange] = createSignal(1);\n\nexport default function useZoomChange() {\n  useEffect(() => {\n    return () => {\n      setZoomChange(1);\n    };\n  }, []);\n\n  return [getZoomChange, setZoomChange] as const;\n}\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport renderText from '../../global/helpers/renderText';\nimport { selectAccount } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useQrCode from '../../hooks/useQrCode';\n\nimport Button from '../ui/Button';\nimport InteractiveTextField from '../ui/InteractiveTextField';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './ReceiveModal.module.scss';\n\ninterface StateProps {\n  address?: string;\n  isLedger?: boolean;\n}\n\ntype OwnProps = {\n  isOpen?: boolean;\n  isStatic?: boolean;\n  onInvoiceModalOpen: NoneToVoidFunction;\n};\n\nfunction Content({\n  isOpen, address, isStatic, onInvoiceModalOpen, isLedger,\n}: StateProps & OwnProps) {\n  const lang = useLang();\n\n  const { qrCodeRef, isInitialized } = useQrCode(address, isOpen, styles.qrCodeHidden, undefined, true);\n  const { verifyHardwareAddress } = getActions();\n\n  const handleVerify = (e: React.MouseEvent<HTMLAnchorElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    verifyHardwareAddress();\n  };\n\n  return (\n    <>\n      <div className={styles.contentTitle}>\n        {renderText(lang('$receive_ton_description'))}\n      </div>\n\n      <p className={styles.label}>{lang('Your address')}</p>\n      <InteractiveTextField\n        address={address!}\n        className={isStatic ? styles.copyButtonStatic : undefined}\n        copyNotification={lang('Your address was copied!')}\n        noSavedAddress\n      />\n\n      <div className={buildClassName(styles.qrCode, !isInitialized && styles.qrCodeHidden)} ref={qrCodeRef} />\n\n      {isLedger && (\n        <div className={styles.contentTitle}>\n          {renderText(lang('$ledger_verify_address'))}\n          {' '}\n          <a href=\"#\" onClick={handleVerify} className={styles.dottedLink}>\n            {lang('Verify now')}\n          </a>\n        </div>\n      )}\n\n      <div className={modalStyles.buttons}>\n        <Button onClick={onInvoiceModalOpen} className={styles.invoiceButton}>\n          {lang('Create Deposit Link')}\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>((global): StateProps => {\n    const account = selectAccount(global, global.currentAccountId!);\n\n    return {\n      address: account?.address,\n      isLedger: Boolean(account?.ledger),\n    };\n  })(Content),\n);\n","import React, { memo, useMemo, useState } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport type { UserToken } from '../../global/types';\nimport type { DropdownItem } from '../ui/Dropdown';\n\nimport { DEFAULT_DECIMAL_PLACES, TONCOIN_SLUG } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport { selectAccount, selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { fromDecimal, toDecimal } from '../../util/decimals';\nimport formatTransferUrl from '../../util/ton/formatTransferUrl';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Dropdown from '../ui/Dropdown';\nimport Input from '../ui/Input';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport Modal from '../ui/Modal';\nimport RichNumberInput from '../ui/RichNumberInput';\n\nimport styles from './ReceiveModal.module.scss';\n\ninterface StateProps {\n  address?: string;\n  tokens?: UserToken[];\n}\n\ntype OwnProps = {\n  isOpen: boolean;\n  onClose: () => void;\n};\n\nfunction InvoiceModal({\n  address,\n  isOpen,\n  tokens,\n  onClose,\n}: StateProps & OwnProps) {\n  const lang = useLang();\n\n  const [amount, setAmount] = useState<bigint | undefined>(undefined);\n  const [comment, setComment] = useState<string>('');\n  const [hasAmountError, setHasAmountError] = useState<boolean>(false);\n\n  const invoiceUrl = address ? formatTransferUrl(address, amount, comment) : '';\n  const decimals = DEFAULT_DECIMAL_PLACES; // TODO Change it after token selection is supported\n\n  const dropdownItems = useMemo(() => {\n    if (!tokens) {\n      return [];\n    }\n\n    return tokens.reduce<DropdownItem[]>((acc, token) => {\n      if (token.slug === TONCOIN_SLUG) {\n        acc.push({\n          value: token.slug,\n          icon: token.image || ASSET_LOGO_PATHS[token.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS],\n          name: token.symbol,\n        });\n      }\n\n      return acc;\n    }, []);\n  }, [tokens]);\n\n  const handleAmountInput = useLastCallback((stringValue?: string) => {\n    setHasAmountError(false);\n\n    if (!stringValue) {\n      setAmount(undefined);\n      return;\n    }\n\n    const value = fromDecimal(stringValue, decimals);\n\n    if (value < 0) {\n      setHasAmountError(true);\n      return;\n    }\n\n    setAmount(value);\n  });\n\n  function renderTokens() {\n    return <Dropdown items={dropdownItems} selectedValue={TONCOIN_SLUG} className={styles.tokenDropdown} />;\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      hasCloseButton\n      title={lang('Deposit Link')}\n      contentClassName={styles.content}\n      nativeBottomSheetKey=\"invoice\"\n      onClose={onClose}\n    >\n      <div className={styles.contentTitle}>\n        {renderText(lang('$receive_invoice_description'))}\n      </div>\n      <RichNumberInput\n        key=\"amount\"\n        id=\"amount\"\n        hasError={hasAmountError}\n        value={amount === undefined ? undefined : toDecimal(amount)}\n        labelText={lang('Amount')}\n        onChange={handleAmountInput}\n      >\n        {renderTokens()}\n      </RichNumberInput>\n      <Input\n        value={comment}\n        label={lang('Comment')}\n        placeholder={lang('Optional')}\n        wrapperClassName={styles.invoiceComment}\n        onInput={setComment}\n      />\n\n      <p className={buildClassName(styles.label, styles.labelForInvoice)}>\n        {lang('Share this URL to receive TON')}\n      </p>\n      <InteractiveTextField\n        text={invoiceUrl}\n        copyNotification={lang('Invoice link was copied!')}\n        className={styles.invoiceLinkField}\n      />\n    </Modal>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>((global): StateProps => {\n    const address = selectAccount(global, global.currentAccountId!)?.address;\n\n    return {\n      address,\n      tokens: selectCurrentAccountTokens(global),\n    };\n  })(InvoiceModal),\n);\n","import { BottomSheet } from 'native-bottom-sheet';\nimport React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../util/windowEnvironment';\n\nimport { useOpenFromMainBottomSheet } from '../../hooks/useDelegatedBottomSheet';\nimport { useOpenFromNativeBottomSheet } from '../../hooks/useDelegatingBottomSheet';\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Modal from '../ui/Modal';\nimport Content from './Content';\nimport InvoiceModal from './InvoiceModal';\n\nimport styles from './ReceiveModal.module.scss';\n\ntype StateProps = {\n  isOpen?: boolean;\n};\n\nfunction ReceiveModal({\n  isOpen,\n}: StateProps) {\n  const {\n    closeReceiveModal,\n  } = getActions();\n  const lang = useLang();\n  const [isInvoiceModalOpen, openInvoiceModal, closeInvoiceModal] = useFlag(false);\n\n  useOpenFromNativeBottomSheet('invoice', openInvoiceModal);\n  useOpenFromMainBottomSheet('invoice', openInvoiceModal);\n\n  const handleOpenInvoiceModal = useLastCallback(() => {\n    closeReceiveModal();\n\n    if (IS_DELEGATED_BOTTOM_SHEET) {\n      BottomSheet.openInMain({ key: 'invoice' });\n    } else {\n      openInvoiceModal();\n    }\n  });\n\n  const handleClose = useLastCallback(() => {\n    closeReceiveModal();\n    closeInvoiceModal();\n  });\n\n  return (\n    <>\n      <Modal\n        isOpen={isOpen}\n        title={lang('Receive')}\n        hasCloseButton\n        contentClassName={styles.content}\n        nativeBottomSheetKey=\"receive\"\n        onClose={closeReceiveModal}\n      >\n        <Content\n          isOpen={isOpen}\n          onInvoiceModalOpen={handleOpenInvoiceModal}\n        />\n      </Modal>\n      <InvoiceModal isOpen={isInvoiceModalOpen} onClose={handleClose} />\n    </>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  return {\n    isOpen: global.isReceiveModalOpen,\n  };\n})(ReceiveModal));\n","import { AndroidSettings, IOSSettings, NativeSettings } from 'capacitor-native-settings';\nimport { Dialog } from 'native-dialog';\nimport React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiWalletInfo, ApiWalletVersion } from '../../api/types';\nimport type { Wallet } from './SettingsWalletVersion';\nimport { type GlobalState, SettingsState, type UserToken } from '../../global/types';\n\nimport {\n  APP_ENV_MARKER,\n  APP_NAME,\n  APP_VERSION,\n  IS_CAPACITOR,\n  IS_EXTENSION,\n  LANG_LIST,\n  PROXY_HOSTS,\n  SUPPORT_USERNAME,\n  TELEGRAM_WEB_URL,\n  TONCOIN_SLUG,\n} from '../../config';\nimport {\n  selectAccountSettings,\n  selectCurrentAccountTokens,\n  selectIsHardwareAccount,\n  selectIsPasswordPresent,\n} from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { getIsNativeBiometricAuthSupported } from '../../util/capacitor';\nimport captureEscKeyListener from '../../util/captureEscKeyListener';\nimport { toBig, toDecimal } from '../../util/decimals';\nimport { formatCurrency, getShortCurrencySymbol } from '../../util/formatNumber';\nimport { openUrl } from '../../util/openUrl';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { captureControlledSwipe } from '../../util/swipeController';\nimport {\n  IS_BIOMETRIC_AUTH_SUPPORTED,\n  IS_DAPP_SUPPORTED,\n  IS_DELEGATED_BOTTOM_SHEET,\n  IS_ELECTRON,\n  IS_IOS,\n  IS_IOS_APP,\n  IS_LEDGER_SUPPORTED,\n  IS_TOUCH_ENV,\n  IS_WEB,\n} from '../../util/windowEnvironment';\n\nimport useEffectOnce from '../../hooks/useEffectOnce';\nimport useFlag from '../../hooks/useFlag';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\nimport usePrevious2 from '../../hooks/usePrevious2';\nimport useScrolledState from '../../hooks/useScrolledState';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport { useStateRef } from '../../hooks/useStateRef';\n\nimport LogOutModal from '../main/modals/LogOutModal';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport Switcher from '../ui/Switcher';\nimport Transition from '../ui/Transition';\nimport Biometrics from './biometrics/Biometrics';\nimport NativeBiometricsToggle from './biometrics/NativeBiometricsToggle';\nimport SettingsNativeBiometricsTurnOn from './biometrics/NativeBiometricsTurnOn';\nimport SettingsAbout from './SettingsAbout';\nimport SettingsAppearance from './SettingsAppearance';\nimport SettingsAssets from './SettingsAssets';\nimport SettingsDapps from './SettingsDapps';\nimport SettingsDeveloperOptions from './SettingsDeveloperOptions';\nimport SettingsDisclaimer from './SettingsDisclaimer';\nimport SettingsHiddenNfts from './SettingsHiddenNfts';\nimport SettingsLanguage from './SettingsLanguage';\nimport SettingsTokenList from './SettingsTokenList';\nimport SettingsWalletVersion from './SettingsWalletVersion';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Settings.module.scss';\n\nimport aboutImg from '../../assets/settings/settings_about.svg';\nimport appearanceImg from '../../assets/settings/settings_appearance.svg';\nimport assetsActivityImg from '../../assets/settings/settings_assets-activity.svg';\nimport backupSecretImg from '../../assets/settings/settings_backup-secret.svg';\nimport biometricsImg from '../../assets/settings/settings_biometrics.svg';\nimport connectedDappsImg from '../../assets/settings/settings_connected-dapps.svg';\nimport disclaimerImg from '../../assets/settings/settings_disclaimer.svg';\nimport exitImg from '../../assets/settings/settings_exit.svg';\nimport installAppImg from '../../assets/settings/settings_install-app.svg';\nimport installDesktopImg from '../../assets/settings/settings_install-desktop.svg';\nimport installMobileImg from '../../assets/settings/settings_install-mobile.svg';\nimport languageImg from '../../assets/settings/settings_language.svg';\nimport ledgerImg from '../../assets/settings/settings_ledger.svg';\nimport supportImg from '../../assets/settings/settings_support.svg';\nimport telegramImg from '../../assets/settings/settings_telegram-menu.svg';\nimport tonLinksImg from '../../assets/settings/settings_ton-links.svg';\nimport tonMagicImg from '../../assets/settings/settings_ton-magic.svg';\nimport tonProxyImg from '../../assets/settings/settings_ton-proxy.svg';\nimport walletVersionImg from '../../assets/settings/settings_wallet-version.svg';\n\ntype OwnProps = {\n  isInsideModal?: boolean;\n};\n\ntype StateProps = {\n  settings: GlobalState['settings'];\n  isOpen?: boolean;\n  tokens?: UserToken[];\n  orderedSlugs?: string[];\n  isBiometricAuthEnabled: boolean;\n  isPasswordPresent?: boolean;\n  isHardwareAccount?: boolean;\n  currentVersion?: ApiWalletVersion;\n  versions?: ApiWalletInfo[];\n  isCopyStorageEnabled?: boolean;\n  supportAccountsCount?: number;\n};\n\nconst AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE = 5;\nconst SUPPORT_ACCOUNTS_COUNT_DEFAULT = 1;\n\nfunction Settings({\n  settings: {\n    state,\n    theme,\n    animationLevel,\n    areTinyTransfersHidden,\n    isTestnet,\n    isInvestorViewEnabled,\n    canPlaySounds,\n    langCode,\n    isTonProxyEnabled,\n    isTonMagicEnabled,\n    isDeeplinkHookEnabled,\n    areTokensWithNoCostHidden,\n    isSortByValueEnabled,\n    dapps,\n    baseCurrency,\n  },\n  isOpen = false,\n  tokens,\n  orderedSlugs,\n  isInsideModal,\n  isBiometricAuthEnabled,\n  isPasswordPresent,\n  isHardwareAccount,\n  currentVersion,\n  versions,\n  isCopyStorageEnabled,\n  supportAccountsCount = SUPPORT_ACCOUNTS_COUNT_DEFAULT,\n}: OwnProps & StateProps) {\n  const {\n    setSettingsState,\n    openBackupWalletModal,\n    openHardwareWalletModal,\n    closeSettings,\n    toggleDeeplinkHook,\n    toggleTonProxy,\n    toggleTonMagic,\n    getDapps,\n    initTokensOrder,\n    openBiometricsTurnOn,\n    openBiometricsTurnOffWarning,\n    clearIsPinAccepted,\n  } = getActions();\n\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const transitionRef = useRef<HTMLDivElement>(null);\n  const { renderingKey, nextKey } = useModalTransitionKeys(state, isOpen);\n  const [clicksAmount, setClicksAmount] = useState<number>(isTestnet ? AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE : 0);\n  const prevRenderingKeyRef = useStateRef(usePrevious2(renderingKey));\n\n  const [isDeveloperModalOpen, openDeveloperModal, closeDeveloperModal] = useFlag();\n  const [isLogOutModalOpened, openLogOutModal, closeLogOutModal] = useFlag();\n\n  const activeLang = useMemo(() => LANG_LIST.find((l) => l.langCode === langCode), [langCode]);\n  const shouldRenderNativeBiometrics = isPasswordPresent && (getIsNativeBiometricAuthSupported() || IS_IOS_APP);\n\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  const tonToken = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens]);\n\n  const wallets = useMemo(() => {\n    return versions?.map((v) => {\n      const tonBalance = formatCurrency(toDecimal(v.balance), tonToken?.symbol ?? '');\n      const balanceInCurrency = formatCurrency(\n        toBig(v.balance).mul(tonToken?.price ?? 0).round(tonToken?.decimals),\n        shortBaseSymbol,\n      );\n\n      const accountTokens = [tonBalance];\n\n      return {\n        address: v.address,\n        version: v.version,\n        totalBalance: balanceInCurrency,\n        tokens: accountTokens,\n      } satisfies Wallet;\n    }) ?? [];\n  }, [shortBaseSymbol, tonToken, versions]);\n\n  const {\n    transitionClassNames: telegramLinkClassNames,\n    shouldRender: isTelegramLinkRendered,\n  } = useShowTransition(isTonMagicEnabled);\n\n  useEffectOnce(() => {\n    initTokensOrder();\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  const handleSlideAnimationStop = useLastCallback(() => {\n    if (prevRenderingKeyRef.current === SettingsState.NativeBiometricsTurnOn) {\n      clearIsPinAccepted();\n    }\n  });\n\n  const handleCloseSettings = useLastCallback(() => {\n    closeSettings(undefined, { forceOnHeavyAnimation: true });\n  });\n\n  useHistoryBack({\n    isActive: !isInsideModal && renderingKey === SettingsState.Initial,\n    onBack: handleCloseSettings,\n  });\n\n  const handleConnectedDappsOpen = useLastCallback(() => {\n    getDapps();\n    setSettingsState({ state: SettingsState.Dapps });\n  });\n\n  function handleAppearanceOpen() {\n    setSettingsState({ state: SettingsState.Appearance });\n  }\n\n  function handleAssetsOpen() {\n    setSettingsState({ state: SettingsState.Assets });\n  }\n\n  function handleLanguageOpen() {\n    setSettingsState({ state: SettingsState.Language });\n  }\n\n  function handleAboutOpen() {\n    setSettingsState({ state: SettingsState.About });\n  }\n\n  function handleDisclaimerOpen() {\n    setSettingsState({ state: SettingsState.Disclaimer });\n  }\n\n  const handleNativeBiometricsTurnOnOpen = useLastCallback(() => {\n    if (!getIsNativeBiometricAuthSupported()) {\n      const warningDescription = IS_IOS\n        ? 'To use this feature, first enable Face ID in your phone settings.'\n        : 'To use this feature, first enable biometrics in your phone settings.';\n      Dialog.confirm({\n        title: lang('Warning!'),\n        message: lang(warningDescription),\n        okButtonTitle: lang('Open Settings'),\n        cancelButtonTitle: lang('Cancel'),\n      })\n        .then(({ value }) => {\n          if (value) {\n            NativeSettings.open({\n              optionAndroid: AndroidSettings.ApplicationDetails,\n              optionIOS: IOSSettings.App,\n            });\n          }\n        });\n    } else {\n      setSettingsState({ state: SettingsState.NativeBiometricsTurnOn });\n    }\n  });\n\n  const handleBackClick = useLastCallback(() => {\n    setSettingsState({ state: SettingsState.Initial });\n  });\n\n  const handleBackClickToAssets = useLastCallback(() => {\n    setSettingsState({ state: SettingsState.Assets });\n  });\n\n  const handleOpenWalletVersion = useLastCallback(() => {\n    setSettingsState({ state: SettingsState.WalletVersion });\n  });\n\n  const handleDeeplinkHookToggle = useLastCallback(() => {\n    toggleDeeplinkHook({ isEnabled: !isDeeplinkHookEnabled });\n  });\n\n  const handleTonProxyToggle = useLastCallback(() => {\n    toggleTonProxy({ isEnabled: !isTonProxyEnabled });\n  });\n\n  const handleTonMagicToggle = useLastCallback(() => {\n    toggleTonMagic({ isEnabled: !isTonMagicEnabled });\n  });\n\n  const handleBiometricAuthToggle = useLastCallback(() => {\n    if (isBiometricAuthEnabled) {\n      openBiometricsTurnOffWarning();\n    } else {\n      openBiometricsTurnOn();\n    }\n  });\n\n  function handleClickInstallApp() {\n    openUrl('https://mytonwallet.io/get', true);\n  }\n\n  function handleClickInstallOnDesktop() {\n    openUrl('https://mytonwallet.io/get/desktop', true);\n  }\n\n  function handleClickInstallOnMobile() {\n    openUrl('https://mytonwallet.io/get/mobile', true);\n  }\n\n  function handleOpenBackupWallet() {\n    if (IS_DELEGATED_BOTTOM_SHEET) {\n      handleCloseSettings();\n    }\n\n    openBackupWalletModal();\n  }\n\n  const [isTrayIconEnabled, setIsTrayIconEnabled] = useState(false);\n  useEffect(() => {\n    window.electron?.getIsTrayIconEnabled().then(setIsTrayIconEnabled);\n  }, []);\n\n  const handleTrayIconEnabledToggle = useLastCallback(() => {\n    setIsTrayIconEnabled(!isTrayIconEnabled);\n    window.electron?.setIsTrayIconEnabled(!isTrayIconEnabled);\n  });\n\n  const [isAutoUpdateEnabled, setIsAutoUpdateEnabled] = useState(false);\n  useEffect(() => {\n    window.electron?.getIsAutoUpdateEnabled().then(setIsAutoUpdateEnabled);\n  }, []);\n\n  const handleAutoUpdateEnabledToggle = useLastCallback(() => {\n    setIsAutoUpdateEnabled(!isAutoUpdateEnabled);\n    window.electron?.setIsAutoUpdateEnabled(!isAutoUpdateEnabled);\n  });\n\n  const handleBackOrCloseAction = useLastCallback(() => {\n    if (renderingKey === SettingsState.Initial) {\n      handleCloseSettings();\n    } else {\n      handleBackClick();\n    }\n  });\n\n  const handleCloseLogOutModal = useLastCallback((shouldCloseSettings: boolean) => {\n    closeLogOutModal();\n    if (shouldCloseSettings) {\n      handleCloseSettings();\n    }\n  });\n\n  function handleOpenHardwareModal() {\n    openHardwareWalletModal();\n  }\n\n  const handleMultipleClick = () => {\n    if (clicksAmount + 1 >= AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE) {\n      openDeveloperModal();\n    } else {\n      setClicksAmount(clicksAmount + 1);\n    }\n  };\n\n  useEffect(\n    () => captureEscKeyListener(handleBackOrCloseAction),\n    [handleBackOrCloseAction],\n  );\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV) {\n      return undefined;\n    }\n\n    return captureControlledSwipe(transitionRef.current!, {\n      onSwipeRightStart: IS_DELEGATED_BOTTOM_SHEET ? handleBackClick : handleBackOrCloseAction,\n      onCancel: () => {\n        setSettingsState({ state: prevRenderingKeyRef.current! });\n      },\n    });\n  }, [handleBackClick, handleBackOrCloseAction, prevRenderingKeyRef]);\n\n  function renderHandleDeeplinkButton() {\n    return (\n      <div className={styles.item} onClick={handleDeeplinkHookToggle}>\n        <img className={styles.menuIcon} src={tonLinksImg} alt={lang('Handle ton:// links')} />\n        {lang('Handle ton:// links')}\n\n        <Switcher\n          className={styles.menuSwitcher}\n          label={lang('Handle ton:// links')}\n          checked={isDeeplinkHookEnabled}\n        />\n      </div>\n    );\n  }\n\n  function renderSettings() {\n    return (\n      <div className={styles.slide}>\n        {isInsideModal ? (\n          <ModalHeader\n            title={lang('Settings')}\n            withNotch={isScrolled}\n            onClose={handleCloseSettings}\n            className={styles.modalHeader}\n          />\n        ) : (\n          <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n            <Button isSimple isText onClick={handleCloseSettings} className={styles.headerBack}>\n              <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n              <span>{lang('Back')}</span>\n            </Button>\n            <span className={styles.headerTitle}>{lang('Settings')}</span>\n          </div>\n        )}\n\n        <div\n          className={buildClassName(styles.content, 'custom-scroll')}\n          onScroll={handleContentScroll}\n        >\n          {IS_WEB && (\n            <div className={styles.block}>\n              <div className={styles.item} onClick={handleClickInstallApp}>\n                <img className={styles.menuIcon} src={installAppImg} alt={lang('Install App')} />\n                {lang('Install App')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            </div>\n          )}\n          {shouldRenderNativeBiometrics && (\n            <NativeBiometricsToggle\n              onEnable={handleNativeBiometricsTurnOnOpen}\n            />\n          )}\n          {isPasswordPresent && IS_BIOMETRIC_AUTH_SUPPORTED && (\n            <div className={styles.block}>\n              <div className={styles.item} onClick={handleBiometricAuthToggle}>\n                <img className={styles.menuIcon} src={biometricsImg} alt={lang('Biometric Authentication')} />\n                {lang('Biometric Authentication')}\n\n                <Switcher\n                  className={styles.menuSwitcher}\n                  label={lang('Biometric Authentication')}\n                  checked={isBiometricAuthEnabled}\n                />\n              </div>\n            </div>\n          )}\n          {IS_EXTENSION && (\n            <div className={styles.block}>\n              {PROXY_HOSTS && (\n                <div className={styles.item} onClick={handleTonProxyToggle}>\n                  <img className={styles.menuIcon} src={tonProxyImg} alt={lang('TON Proxy')} />\n                  {lang('TON Proxy')}\n\n                  <Switcher\n                    className={styles.menuSwitcher}\n                    label={lang('Toggle TON Proxy')}\n                    checked={isTonProxyEnabled}\n                  />\n                </div>\n              )}\n              <div className={styles.item} onClick={handleTonMagicToggle}>\n                <img className={styles.menuIcon} src={tonMagicImg} alt={lang('TON Magic')} />\n                {lang('TON Magic')}\n\n                <Switcher\n                  className={styles.menuSwitcher}\n                  label={lang('Toggle TON Magic')}\n                  checked={isTonMagicEnabled}\n                />\n              </div>\n              {isTelegramLinkRendered && (\n                <div className={buildClassName(styles.item, telegramLinkClassNames)} onClick={handleOpenTelegramWeb}>\n                  <img className={styles.menuIcon} src={telegramImg} alt={lang('Open Telegram Web')} />\n                  {lang('Open Telegram Web')}\n\n                  <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n                </div>\n              )}\n              {renderHandleDeeplinkButton()}\n            </div>\n          )}\n          {IS_ELECTRON && (\n            <div className={styles.block}>\n              {renderHandleDeeplinkButton()}\n            </div>\n          )}\n\n          <div className={styles.block}>\n            <div className={styles.item} onClick={handleAppearanceOpen}>\n              <img className={styles.menuIcon} src={appearanceImg} alt={lang('Appearance')} />\n              {lang('Appearance')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n            </div>\n            <div className={styles.item} onClick={handleAssetsOpen}>\n              <img className={styles.menuIcon} src={assetsActivityImg} alt={lang('Assets & Activity')} />\n              {lang('Assets & Activity')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n            </div>\n            {IS_DAPP_SUPPORTED && (\n              <div className={styles.item} onClick={handleConnectedDappsOpen}>\n                <img className={styles.menuIcon} src={connectedDappsImg} alt={lang('Connected Dapps')} />\n                {lang('Connected Dapps')}\n\n                <div className={styles.itemInfo}>\n                  {dapps.length ? dapps.length : ''}\n                  <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n                </div>\n              </div>\n            )}\n            <div className={styles.item} onClick={handleLanguageOpen}>\n              <img className={styles.menuIcon} src={languageImg} alt={lang('Language')} />\n              {lang('Language')}\n              <div className={styles.itemInfo}>\n                {activeLang?.name}\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            </div>\n          </div>\n\n          <div className={styles.block}>\n            {!isHardwareAccount && (\n              <div className={styles.item} onClick={handleOpenBackupWallet}>\n                <img className={styles.menuIcon} src={backupSecretImg} alt={lang('Back Up Secret Words')} />\n                {lang('Back Up Secret Words')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            )}\n            {!!versions?.length && !isHardwareAccount && (\n              <div className={styles.item} onClick={handleOpenWalletVersion}>\n                <img className={styles.menuIcon} src={walletVersionImg} alt={lang('Wallet Versions')} />\n                {lang('Wallet Versions')}\n\n                <div className={styles.itemInfo}>\n                  {currentVersion}\n                  <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n                </div>\n              </div>\n            )}\n            {IS_LEDGER_SUPPORTED && (\n              <div className={styles.item} onClick={handleOpenHardwareModal}>\n                <img className={styles.menuIcon} src={ledgerImg} alt={lang('Connect Ledger')} />\n                {lang('Connect Ledger')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            )}\n          </div>\n\n          <div className={styles.block}>\n            <div className={styles.item} onClick={handleDisclaimerOpen}>\n              <img className={styles.menuIcon} src={disclaimerImg} alt={lang('Use Responsibly')} />\n              {lang('Use Responsibly')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n            </div>\n            {supportAccountsCount > 0 && (\n              <a\n                href={`https://t.me/${SUPPORT_USERNAME}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className={styles.item}\n              >\n                <img className={styles.menuIcon} src={supportImg} alt={lang('Get Support')} />\n                {lang('Get Support')}\n\n                <div className={styles.itemInfo}>\n                  <span className={styles.small}>@{SUPPORT_USERNAME}</span>\n                  <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n                </div>\n              </a>\n            )}\n            <div className={styles.item} onClick={handleAboutOpen}>\n              <img className={styles.menuIcon} src={aboutImg} alt={lang('About')} />\n              {lang('About')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n            </div>\n          </div>\n\n          {IS_CAPACITOR && (\n            <div className={styles.block}>\n              <div className={styles.item} onClick={handleClickInstallOnDesktop}>\n                <img className={styles.menuIcon} src={installDesktopImg} alt={lang('Install on Desktop')} />\n                {lang('Install on Desktop')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            </div>\n          )}\n\n          {IS_ELECTRON && (\n            <div className={styles.block}>\n              <div className={styles.item} onClick={handleClickInstallOnMobile}>\n                <img className={styles.menuIcon} src={installMobileImg} alt={lang('Install on Mobile')} />\n                {lang('Install on Mobile')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            </div>\n          )}\n\n          {IS_EXTENSION && (\n            <div className={styles.block}>\n              <div className={styles.item} onClick={handleClickInstallApp}>\n                <img className={styles.menuIcon} src={installAppImg} alt={lang('Install App')} />\n                {lang('Install App')}\n\n                <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n              </div>\n            </div>\n          )}\n          <div className={styles.block}>\n            <div className={buildClassName(styles.item, styles.item_red)} onClick={openLogOutModal}>\n              <img className={styles.menuIcon} src={exitImg} alt={lang('Exit')} />\n              {lang('Exit')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n            </div>\n          </div>\n\n          <div className={styles.version} onClick={handleMultipleClick}>\n            {APP_NAME} {APP_VERSION} {APP_ENV_MARKER}\n          </div>\n        </div>\n        <SettingsDeveloperOptions\n          isOpen={isDeveloperModalOpen}\n          onClose={closeDeveloperModal}\n          isTestnet={isTestnet}\n          isCopyStorageEnabled={isCopyStorageEnabled}\n        />\n      </div>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case SettingsState.Initial:\n        return renderSettings();\n      case SettingsState.Appearance:\n        return (\n          <SettingsAppearance\n            isActive={isActive}\n            theme={theme}\n            animationLevel={animationLevel}\n            canPlaySounds={canPlaySounds}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n            isTrayIconEnabled={isTrayIconEnabled}\n            onTrayIconEnabledToggle={handleTrayIconEnabledToggle}\n            isAutoUpdateEnabled={isAutoUpdateEnabled}\n            onAutoUpdateEnabledToggle={handleAutoUpdateEnabledToggle}\n          />\n        );\n      case SettingsState.Assets:\n        return (\n          <SettingsAssets\n            isActive={isActive}\n            tokens={tokens}\n            orderedSlugs={orderedSlugs}\n            isInvestorViewEnabled={isInvestorViewEnabled}\n            areTinyTransfersHidden={areTinyTransfersHidden}\n            areTokensWithNoCostHidden={areTokensWithNoCostHidden}\n            isSortByValueEnabled={isSortByValueEnabled}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n            baseCurrency={baseCurrency}\n          />\n        );\n      case SettingsState.Dapps:\n        return (\n          <SettingsDapps\n            isActive={isActive}\n            dapps={dapps}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n          />\n        );\n      case SettingsState.Language:\n        return (\n          <SettingsLanguage\n            isActive={isActive}\n            langCode={langCode}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n          />\n        );\n      case SettingsState.About:\n        return <SettingsAbout isActive={isActive} handleBackClick={handleBackClick} isInsideModal={isInsideModal} />;\n      case SettingsState.Disclaimer:\n        return (\n          <SettingsDisclaimer\n            isActive={isActive}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n          />\n        );\n      case SettingsState.NativeBiometricsTurnOn:\n        return (\n          <SettingsNativeBiometricsTurnOn\n            isActive={isActive}\n            handleBackClick={handleBackClick}\n          />\n        );\n      case SettingsState.SelectTokenList:\n        return (\n          <SettingsTokenList\n            isActive={isActive}\n            handleBackClick={handleBackClickToAssets}\n          />\n        );\n      case SettingsState.WalletVersion:\n        return (\n          <SettingsWalletVersion\n            currentVersion={currentVersion}\n            handleBackClick={handleBackClick}\n            isInsideModal={isInsideModal}\n            wallets={wallets}\n          />\n        );\n      case SettingsState.HiddenNfts:\n        return (\n          <SettingsHiddenNfts\n            isActive={isActive}\n            handleBackClick={handleBackClickToAssets}\n            isInsideModal={isInsideModal}\n          />\n        );\n    }\n  }\n\n  return (\n    <div className={styles.wrapper}>\n      <Transition\n        ref={transitionRef}\n        name={resolveModalTransitionName()}\n        className={buildClassName(isInsideModal ? modalStyles.transition : styles.transitionContainer, 'custom-scroll')}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        slideClassName={buildClassName(modalStyles.transitionSlide, styles.transitionSlide)}\n        withSwipeControl\n        onStop={IS_CAPACITOR ? handleSlideAnimationStop : undefined}\n      >\n        {renderContent}\n      </Transition>\n      <LogOutModal isOpen={isLogOutModalOpened} onClose={handleCloseLogOutModal} />\n      {IS_BIOMETRIC_AUTH_SUPPORTED && <Biometrics />}\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const { authConfig } = global.settings;\n\n  const { orderedSlugs } = selectAccountSettings(global, global.currentAccountId!) ?? {};\n  const isHardwareAccount = selectIsHardwareAccount(global);\n  const isPasswordPresent = selectIsPasswordPresent(global);\n  const { isCopyStorageEnabled, supportAccountsCount = 1 } = global.restrictions;\n\n  const { currentVersion, byId: versionsById } = global.walletVersions ?? {};\n  const versions = versionsById?.[global.currentAccountId!];\n\n  return {\n    settings: global.settings,\n    isOpen: global.areSettingsOpen,\n    tokens: selectCurrentAccountTokens(global),\n    orderedSlugs,\n    isBiometricAuthEnabled: !!authConfig && authConfig.kind !== 'password',\n    isPasswordPresent,\n    isHardwareAccount,\n    currentVersion,\n    versions,\n    isCopyStorageEnabled,\n    supportAccountsCount,\n  };\n})(Settings));\n\nfunction handleOpenTelegramWeb() {\n  window.open(TELEGRAM_WEB_URL, '_blank', 'noopener');\n}\n","import React, { memo } from '../../lib/teact/teact';\n\nimport {\n  APP_ENV_MARKER, APP_NAME, APP_REPO_URL, APP_VERSION, IS_EXTENSION,\n} from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { handleOpenUrl } from '../../util/openUrl';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport Button from '../ui/Button';\nimport Emoji from '../ui/Emoji';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport styles from './Settings.module.scss';\n\nimport logoSrc from '../../assets/logo.svg';\n\ninterface OwnProps {\n  isActive?: boolean;\n  handleBackClick: () => void;\n  isInsideModal?: boolean;\n}\n\nfunction SettingsAbout({ isActive, handleBackClick, isInsideModal }: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('About')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('About')}</span>\n        </div>\n      )}\n      <div\n        className={buildClassName(\n          styles.content,\n          isInsideModal && 'custom-scroll',\n          !isInsideModal && styles.content_noScroll,\n        )}\n        onScroll={isInsideModal ? handleContentScroll : undefined}\n      >\n        <img src={logoSrc} alt={lang('Logo')} className={styles.logo} />\n        <h2 className={styles.title}>\n          {APP_NAME} {APP_VERSION} {APP_ENV_MARKER}\n          <a href=\"https://mytonwallet.io/\" target=\"_blank\" className={styles.titleLink} rel=\"noreferrer\">\n            mytonwallet.io\n          </a>\n        </h2>\n        <div className={buildClassName(styles.blockAbout, !isInsideModal && 'custom-scroll')}>\n          <p className={styles.text}>\n            {renderText(lang('$about_description1'))}\n          </p>\n          <p className={styles.text}>\n            {renderText(lang('$about_description2'))}\n          </p>\n          {IS_EXTENSION ? (\n            <>\n              <h3 className={buildClassName(styles.text, styles.heading)}>\n                <Emoji from=\"\" /> {lang('What is TON Proxy?')}\n              </h3>\n              <p className={styles.text}>\n                {renderText(lang('$about_extension_description1'))}{' '}\n                <a\n                  href=\"https://telegra.ph/TON-Sites-TON-WWW-and-TON-Proxy-09-29-2\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {lang('More info and demo.')}\n                </a>\n              </p>\n              <h3 className={buildClassName(styles.text, styles.heading)}>\n                <Emoji from=\"\" /> {lang('What is TON Magic?')}\n              </h3>\n              <p className={styles.text}>\n                {renderText(lang('$about_extension_description2'))}\n              </p>\n              <p className={styles.text}>\n                {lang('$about_extension_description3')}{' '}\n                <a href=\"https://telegra.ph/Telegram--TON-11-10\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  {lang('More info and demo.')}\n                </a>\n              </p>\n            </>\n          ) : (\n            <>\n              <h3 className={buildClassName(styles.text, styles.heading)}>\n                {lang('$about_proxy_magic_title', { ninja: <Emoji from=\"\" />, unicorn: <Emoji from=\"\" /> })}\n              </h3>\n              <p className={styles.text}>\n                {lang('$about_proxy_magic_description', {\n                  extension_link: (\n                    <a href=\"https://mytonwallet.io/\" target=\"_blank\" rel=\"noreferrer\">\n                      {renderText(lang('$about_extension_link_text'))}\n                    </a>\n                  ),\n                })}\n              </p>\n            </>\n          )}\n          <h3 className={buildClassName(styles.text, styles.heading)}>\n            <i className={buildClassName(styles.github, 'icon-github')} aria-hidden /> {lang('Is it open source?')}\n          </h3>\n          <p className={styles.text}>\n            {lang('$about_wallet_github', {\n              github_link: (\n                <a href={APP_REPO_URL} target=\"_blank\" rel=\"noreferrer\">\n                  {renderText(lang('$about_github_link_text'))}\n                </a>\n              ),\n            })}\n          </p>\n          <h3 className={styles.heading}>\n            <i\n              className={buildClassName(styles.telegram, 'icon-telegram')}\n              aria-hidden\n            /> {lang('Is there a community?')}\n          </h3>\n          <p className={styles.text}>\n            {lang('$about_wallet_community', {\n              community_link: (\n                <a\n                  href={lang.code === 'ru' ? 'https://t.me/MyTonWalletRu' : 'https://t.me/MyTonWalletEn'}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  {renderText(lang('$about_community_link_text'))}\n                </a>\n              ),\n            })}\n          </p>\n        </div>\n        <div className={styles.aboutFooterWrapper}>\n          <div className={styles.aboutFooterContent}>\n            <a\n              href=\"https://mytonwallet.io/terms-of-use\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              onClick={handleOpenUrl}\n            >{lang('Terms of Use')}\n            </a>\n            <i className={styles.dotLarge} aria-hidden />\n            <a\n              href=\"https://mytonwallet.io/privacy-policy\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              onClick={handleOpenUrl}\n            >{lang('Privacy Policy')}\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SettingsAbout);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { AnimationLevel, Theme } from '../../global/types';\n\nimport { ANIMATION_LEVEL_MAX, ANIMATION_LEVEL_MIN } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport switchAnimationLevel from '../../util/switchAnimationLevel';\nimport switchTheme from '../../util/switchTheme';\nimport { IS_ELECTRON, IS_WINDOWS } from '../../util/windowEnvironment';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport Switcher from '../ui/Switcher';\n\nimport styles from './Settings.module.scss';\n\nimport darkThemeImg from '../../assets/theme/theme_dark.png';\nimport lightThemeImg from '../../assets/theme/theme_light.png';\nimport systemThemeImg from '../../assets/theme/theme_system.png';\n\ninterface OwnProps {\n  isActive?: boolean;\n  theme: Theme;\n  handleBackClick: () => void;\n  animationLevel: AnimationLevel;\n  canPlaySounds?: boolean;\n  isInsideModal?: boolean;\n  isTrayIconEnabled: boolean;\n  onTrayIconEnabledToggle: VoidFunction;\n  isAutoUpdateEnabled: boolean;\n  onAutoUpdateEnabledToggle: VoidFunction;\n}\n\nconst SWITCH_THEME_DURATION_MS = 300;\n\nfunction SettingsAppearance({\n  isActive,\n  theme,\n  handleBackClick,\n  animationLevel,\n  canPlaySounds,\n  isInsideModal,\n  isTrayIconEnabled,\n  onTrayIconEnabledToggle,\n  isAutoUpdateEnabled,\n  onAutoUpdateEnabledToggle,\n}: OwnProps) {\n  const {\n    setTheme,\n    setAnimationLevel,\n    toggleCanPlaySounds,\n  } = getActions();\n  const lang = useLang();\n\n  const THEME_OPTIONS = [{\n    value: 'light',\n    name: lang('Light'),\n    icon: lightThemeImg,\n  }, {\n    value: 'system',\n    name: lang('System'),\n    icon: systemThemeImg,\n  }, {\n    value: 'dark',\n    name: lang('Dark'),\n    icon: darkThemeImg,\n  }];\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  const handleThemeChange = useLastCallback((newTheme: string) => {\n    document.documentElement.classList.add('no-transitions');\n    setTheme({ theme: newTheme as Theme });\n    switchTheme(newTheme as Theme);\n    setTimeout(() => {\n      document.documentElement.classList.remove('no-transitions');\n    }, SWITCH_THEME_DURATION_MS);\n  });\n\n  const handleAnimationLevelToggle = useLastCallback(() => {\n    const level = animationLevel === ANIMATION_LEVEL_MIN ? ANIMATION_LEVEL_MAX : ANIMATION_LEVEL_MIN;\n    setAnimationLevel({ level });\n    switchAnimationLevel(level);\n  });\n\n  const handleCanPlaySoundToggle = useLastCallback(() => {\n    toggleCanPlaySounds({ isEnabled: !canPlaySounds });\n  });\n\n  function renderThemes() {\n    return THEME_OPTIONS.map(({ name, value, icon }) => {\n      return (\n        <div\n          key={value}\n          className={buildClassName(styles.theme, value === theme && styles.theme_active)}\n          onClick={() => handleThemeChange(value)}\n        >\n          <div className={buildClassName(styles.themeIcon, value === theme && styles.themeIcon_active)}>\n            <img src={icon} alt={name} className={styles.themeImg} />\n          </div>\n          <span>{name}</span>\n        </div>\n      );\n    });\n  }\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Appearance')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Appearance')}</span>\n        </div>\n      )}\n      <div\n        className={buildClassName(styles.content, 'custom-scroll')}\n        onScroll={handleContentScroll}\n      >\n        <p className={styles.blockTitle}>{lang('Theme')}</p>\n        <div className={styles.settingsBlock}>\n          <div className={styles.themeWrapper}>\n            {renderThemes()}\n          </div>\n        </div>\n        <p className={styles.blockTitle}>{lang('Other')}</p>\n        <div className={styles.settingsBlock}>\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleAnimationLevelToggle}>\n            {lang('Enable Animations')}\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Enable Animations')}\n              checked={animationLevel !== ANIMATION_LEVEL_MIN}\n            />\n          </div>\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleCanPlaySoundToggle}>\n            {lang('Play Sounds')}\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Play Sounds')}\n              checked={canPlaySounds}\n            />\n          </div>\n          {IS_ELECTRON && IS_WINDOWS && (\n            <div className={buildClassName(styles.item, styles.item_small)} onClick={onTrayIconEnabledToggle}>\n              {lang('Display Tray Icon')}\n\n              <Switcher\n                className={styles.menuSwitcher}\n                label={lang('Display Tray Icon')}\n                checked={isTrayIconEnabled}\n              />\n            </div>\n          )}\n          {IS_ELECTRON && (\n            <div className={buildClassName(styles.item, styles.item_small)} onClick={onAutoUpdateEnabledToggle}>\n              {lang('Enable Auto-Updates')}\n\n              <Switcher\n                className={styles.menuSwitcher}\n                label={lang('Enable Auto-Updates')}\n                checked={isAutoUpdateEnabled}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SettingsAppearance);\n","import React, {\n  memo, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiBaseCurrency, ApiNft } from '../../api/types';\nimport { SettingsState, type UserToken } from '../../global/types';\n\nimport {\n  CURRENCY_LIST,\n  DEFAULT_PRICE_CURRENCY,\n  TINY_TRANSFER_MAX_COST,\n} from '../../config';\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { MEMO_EMPTY_ARRAY } from '../../util/memo';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport Button from '../ui/Button';\nimport Dropdown from '../ui/Dropdown';\nimport IconWithTooltip from '../ui/IconWithTooltip';\nimport ModalHeader from '../ui/ModalHeader';\nimport Switcher from '../ui/Switcher';\nimport SettingsTokens from './SettingsTokens';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  tokens?: UserToken[];\n  orderedSlugs?: string[];\n  areTinyTransfersHidden?: boolean;\n  isInvestorViewEnabled?: boolean;\n  areTokensWithNoCostHidden?: boolean;\n  isSortByValueEnabled?: boolean;\n  isInsideModal?: boolean;\n  handleBackClick: NoneToVoidFunction;\n  baseCurrency?: ApiBaseCurrency;\n}\n\ninterface StateProps {\n  nftsByAddress?: Record<string, ApiNft>;\n  blacklistedNftAddresses: string[];\n  whitelistedNftAddresses: string[];\n}\n\nfunction SettingsAssets({\n  isActive,\n  tokens,\n  orderedSlugs,\n  areTinyTransfersHidden,\n  isInvestorViewEnabled,\n  areTokensWithNoCostHidden,\n  isSortByValueEnabled,\n  handleBackClick,\n  isInsideModal,\n  baseCurrency,\n  nftsByAddress,\n  blacklistedNftAddresses,\n  whitelistedNftAddresses,\n}: OwnProps & StateProps) {\n  const {\n    toggleTinyTransfersHidden,\n    toggleInvestorView,\n    toggleTokensWithNoCost,\n    toggleSortByValue,\n    changeBaseCurrency,\n    setSettingsState,\n  } = getActions();\n  const lang = useLang();\n\n  // eslint-disable-next-line no-null/no-null\n  const scrollContainerRef = useRef<HTMLDivElement>(null);\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  const handleTinyTransfersHiddenToggle = useLastCallback(() => {\n    toggleTinyTransfersHidden({ isEnabled: !areTinyTransfersHidden });\n  });\n\n  const handleInvestorViewToggle = useLastCallback(() => {\n    toggleInvestorView({ isEnabled: !isInvestorViewEnabled });\n  });\n\n  const handleOpenHiddenNfts = useLastCallback(() => {\n    setSettingsState({ state: SettingsState.HiddenNfts });\n  });\n\n  const handleTokensWithNoPriceToggle = useLastCallback(() => {\n    toggleTokensWithNoCost({ isEnabled: !areTokensWithNoCostHidden });\n  });\n\n  const handleSortByValueToggle = useLastCallback(() => {\n    toggleSortByValue({ isEnabled: !isSortByValueEnabled });\n  });\n\n  const [localBaseCurrency, setLocalBaseCurrency] = useState(baseCurrency);\n\n  const handleBaseCurrencyChange = useLastCallback((currency: string) => {\n    if (currency === baseCurrency) return;\n\n    setLocalBaseCurrency(currency as ApiBaseCurrency);\n    changeBaseCurrency({ currency: currency as ApiBaseCurrency });\n  });\n\n  const {\n    shouldRenderHiddenNftsSection,\n    hiddenNftsCount,\n  } = useMemo(() => {\n    const nfts = Object.values(nftsByAddress || {});\n    const blacklistedAddressesSet = new Set(blacklistedNftAddresses);\n    const whitelistedAddressesSet = new Set(whitelistedNftAddresses);\n    const shouldRender = nfts.some((nft) => blacklistedAddressesSet.has(nft.address) || nft.isHidden);\n    const hiddenNfts = nfts.filter(\n      (nft) => !whitelistedAddressesSet.has(nft.address) && (blacklistedAddressesSet.has(nft.address) || nft.isHidden),\n    );\n\n    return {\n      shouldRenderHiddenNftsSection: shouldRender,\n      hiddenNftsCount: hiddenNfts.length,\n    };\n  }, [nftsByAddress, blacklistedNftAddresses, whitelistedNftAddresses]);\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Assets & Activity')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Assets & Activity')}</span>\n        </div>\n      )}\n      <div\n        className={buildClassName(styles.content, 'custom-scroll')}\n        onScroll={handleContentScroll}\n        ref={scrollContainerRef}\n      >\n        <div className={styles.settingsBlock}>\n          <Dropdown\n            label={lang('Base Currency')}\n            items={CURRENCY_LIST}\n            selectedValue={baseCurrency ?? DEFAULT_PRICE_CURRENCY}\n            theme=\"light\"\n            shouldTranslateOptions\n            className={buildClassName(styles.item, styles.item_small)}\n            onChange={handleBaseCurrencyChange}\n            isLoading={localBaseCurrency !== baseCurrency}\n          />\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleInvestorViewToggle}>\n            <div className={styles.blockWithTooltip}>\n              {lang('Investor View')}\n\n              <IconWithTooltip\n                message={lang('Focus on asset value rather than current balance')}\n                tooltipClassName={styles.tooltip}\n                iconClassName={styles.iconQuestion}\n              />\n\n            </div>\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Investor View')}\n              checked={isInvestorViewEnabled}\n            />\n          </div>\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleTinyTransfersHiddenToggle}>\n            <div className={styles.blockWithTooltip}>\n              {lang('Hide Tiny Transfers')}\n\n              <IconWithTooltip\n                message={\n                  lang(\n                    '$tiny_transfers_help',\n                    { value: TINY_TRANSFER_MAX_COST },\n                  ) as string\n                }\n                tooltipClassName={buildClassName(styles.tooltip, styles.tooltip_wide)}\n                iconClassName={styles.iconQuestion}\n              />\n            </div>\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Hide Tiny Transfers')}\n              checked={areTinyTransfersHidden}\n            />\n          </div>\n        </div>\n        {\n          shouldRenderHiddenNftsSection && (\n            <div className={styles.settingsBlock}>\n              <div className={buildClassName(styles.item, styles.item_small)} onClick={handleOpenHiddenNfts}>\n                {lang('Hidden NFTs')}\n                <div className={styles.itemInfo}>\n                  {hiddenNftsCount}\n                  <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n                </div>\n              </div>\n            </div>\n          )\n        }\n        <p className={styles.blockTitle}>{lang('Token Settings')}</p>\n        <div className={styles.settingsBlock}>\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleSortByValueToggle}>\n            {lang('Sort By Cost')}\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Sort By Cost')}\n              checked={isSortByValueEnabled}\n            />\n          </div>\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleTokensWithNoPriceToggle}>\n            <div className={styles.blockWithTooltip}>\n              {lang('Hide Tokens With No Cost')}\n\n              <IconWithTooltip\n                message={\n                  lang(\n                    '$hide_tokens_no_cost_help',\n                    { value: TINY_TRANSFER_MAX_COST },\n                  ) as string\n                }\n                tooltipClassName={buildClassName(styles.tooltip, styles.tooltip_wide)}\n                iconClassName={styles.iconQuestion}\n              />\n            </div>\n\n            <Switcher\n              className={styles.menuSwitcher}\n              label={lang('Hide Tokens With No Cost')}\n              checked={areTokensWithNoCostHidden}\n            />\n          </div>\n        </div>\n\n        <SettingsTokens\n          parentContainer={scrollContainerRef}\n          tokens={tokens}\n          orderedSlugs={orderedSlugs}\n          isSortByValueEnabled={isSortByValueEnabled}\n          baseCurrency={baseCurrency}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const {\n    blacklistedNftAddresses = MEMO_EMPTY_ARRAY,\n    whitelistedNftAddresses = MEMO_EMPTY_ARRAY,\n  } = selectCurrentAccountState(global) || {};\n  const { byAddress } = selectCurrentAccountState(global)?.nfts || {};\n\n  return {\n    nftsByAddress: byAddress,\n    blacklistedNftAddresses,\n    whitelistedNftAddresses,\n  };\n})(SettingsAssets));\n","import React, { memo, useState } from '../../lib/teact/teact';\n\nimport type { ApiDapp } from '../../api/types';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useFlag from '../../hooks/useFlag';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport DappInfo from '../dapps/DappInfo';\nimport DisconnectDappModal from '../main/modals/DisconnectDappModal';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  dapps: ApiDapp[];\n  handleBackClick: () => void;\n  isInsideModal?: boolean;\n}\n\nfunction SettingsDapps({\n  isActive,\n  dapps,\n  handleBackClick,\n  isInsideModal,\n}: OwnProps) {\n  const lang = useLang();\n\n  const [isDisconnectModalOpen, openDisconnectModal, closeDisconnectModal] = useFlag();\n  const [dappToDelete, setDappToDelete] = useState<ApiDapp | undefined>();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  const handleDisconnectDapp = useLastCallback((origin: string) => {\n    const dapp = dapps.find((d) => d.origin === origin);\n    setDappToDelete(dapp);\n    openDisconnectModal();\n  });\n\n  const handleDisconnectAll = useLastCallback(() => {\n    setDappToDelete(undefined);\n    openDisconnectModal();\n  });\n\n  function renderDapp(dapp: ApiDapp) {\n    const {\n      iconUrl, name, url, origin,\n    } = dapp;\n\n    return (\n      <DappInfo\n        key={origin}\n        iconUrl={iconUrl}\n        name={name}\n        url={url}\n        origin={origin}\n        className={styles.dapp}\n        onDisconnect={handleDisconnectDapp}\n      />\n    );\n  }\n\n  function renderDapps() {\n    const dappList = dapps.map(renderDapp);\n\n    return (\n      <div className={styles.slide}>\n        <div className={styles.disconnectAllBlock}>\n          <Button\n            className={styles.disconnectButton}\n            isSimple\n            onClick={handleDisconnectAll}\n          >\n            {lang('Disconnect All Dapps')}\n          </Button>\n          <p className={styles.blockDescription}>{lang('$dapps-description')}</p>\n        </div>\n\n        <p className={styles.blockTitle}>{lang('Logged in with MyTonWallet')}</p>\n\n        <div className={styles.block}>\n          {dappList}\n        </div>\n      </div>\n    );\n  }\n\n  function renderEmptyDappsMessage(isPlaying: boolean) {\n    return (\n      <div className={styles.emptyList}>\n        <AnimatedIconWithPreview\n          play={isPlaying}\n          tgsUrl={ANIMATED_STICKERS_PATHS.noData}\n          previewUrl={ANIMATED_STICKERS_PATHS.noDataPreview}\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n          noLoop={false}\n          nonInteractive\n        />\n        <p className={styles.emptyListTitle}>{lang('No active connections')}</p>\n      </div>\n    );\n  }\n\n  const content = dapps.length === 0\n    ? renderEmptyDappsMessage(isActive)\n    : renderDapps();\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Dapps')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Dapps')}</span>\n        </div>\n      )}\n      <div\n        className={buildClassName(styles.content, 'custom-scroll')}\n        onScroll={handleContentScroll}\n      >\n        <Transition activeKey={dapps.length === 0 ? 0 : 1} name=\"fade\">\n          {content}\n        </Transition>\n      </div>\n      <DisconnectDappModal isOpen={isDisconnectModalOpen} onClose={closeDisconnectModal} dapp={dappToDelete} />\n    </div>\n  );\n}\n\nexport default memo(SettingsDapps);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { ApiNetwork } from '../../api/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport Dropdown from '../ui/Dropdown';\nimport Modal from '../ui/Modal';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  onClose: () => void;\n  isTestnet?: boolean;\n  isCopyStorageEnabled?: boolean;\n}\n\nconst NETWORK_OPTIONS = [{\n  value: 'mainnet',\n  name: 'Mainnet',\n}, {\n  value: 'testnet',\n  name: 'Testnet',\n}];\n\nfunction SettingsDeveloperOptions({\n  isOpen, onClose, isTestnet, isCopyStorageEnabled,\n}: OwnProps) {\n  const {\n    startChangingNetwork,\n    copyStorageData,\n  } = getActions();\n  const lang = useLang();\n  const currentNetwork = NETWORK_OPTIONS[isTestnet ? 1 : 0].value;\n\n  const handleNetworkChange = useLastCallback((newNetwork: string) => {\n    if (currentNetwork === newNetwork) {\n      return;\n    }\n\n    startChangingNetwork({ network: newNetwork as ApiNetwork });\n    onClose();\n  });\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      noBackdropClose\n      isCompact\n    >\n      <div className={styles.developerTitle}>\n        {lang('Developer Options')}\n      </div>\n\n      <div className={styles.settingsBlock}>\n        <Dropdown\n          label={lang('Network')}\n          items={NETWORK_OPTIONS}\n          selectedValue={currentNetwork}\n          theme=\"light\"\n          arrow=\"chevron\"\n          className={buildClassName(styles.item, styles.item_small)}\n          onChange={handleNetworkChange}\n        />\n      </div>\n\n      {isCopyStorageEnabled && (\n        <>\n          <p className={styles.blockTitle}>{lang('Dangerous')}</p>\n          <div className={styles.settingsBlock}>\n            <div className={buildClassName(styles.item, styles.item_small)} onClick={() => copyStorageData()}>\n              {lang('Copy Storage Data')}\n\n              <i className={buildClassName(styles.iconChevronRight, 'icon-copy')} aria-hidden />\n            </div>\n          </div>\n        </>\n      )}\n\n      <Button\n        className={styles.developerCloseButton}\n        onClick={onClose}\n      >\n        {lang('Close')}\n      </Button>\n    </Modal>\n  );\n}\n\nexport default memo(SettingsDeveloperOptions);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { ANIMATED_STICKER_MIDDLE_SIZE_PX } from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  handleBackClick: () => void;\n  isInsideModal?: boolean;\n}\n\nfunction SettingsDisclaimer({ isActive, handleBackClick, isInsideModal }: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title=\"\"\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n        </div>\n      )}\n      <div\n        className={buildClassName(\n          styles.content,\n          isInsideModal && 'custom-scroll',\n          !isInsideModal && styles.content_noScroll,\n        )}\n        onScroll={isInsideModal ? handleContentScroll : undefined}\n      >\n        <div className={styles.stickerAndTitle}>\n          <AnimatedIconWithPreview\n            play={isActive}\n            tgsUrl={ANIMATED_STICKERS_PATHS.snitch}\n            previewUrl={ANIMATED_STICKERS_PATHS.snitchPreview}\n            noLoop={false}\n            nonInteractive\n            size={ANIMATED_STICKER_MIDDLE_SIZE_PX}\n          />\n          <div className={styles.sideTitle}>{lang('Use Responsibly')}</div>\n        </div>\n        <div className={buildClassName(styles.blockAbout, !isInsideModal && 'custom-scroll')}>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description1'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description2'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description3'))}</p>\n          <p className={styles.text}>{renderText(lang('$auth_responsibly_description4'))}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SettingsDisclaimer);\n","import React, { memo, useMemo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport type { ApiNft } from '../../api/types';\n\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET, IS_ELECTRON } from '../../util/windowEnvironment';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport HiddenByUserNft from './nfts/HiddenByUserNft';\nimport ProbablyScamNft from './nfts/ProbablyScamNft';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  handleBackClick: NoneToVoidFunction;\n  isInsideModal?: boolean;\n}\n\ninterface StateProps {\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n  orderedAddresses?: string[];\n  byAddress?: Record<string, ApiNft>;\n}\n\nfunction SettingsHiddenNfts({\n  isActive,\n  handleBackClick,\n  isInsideModal,\n  blacklistedNftAddresses,\n  whitelistedNftAddresses,\n  orderedAddresses,\n  byAddress,\n}: OwnProps & StateProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    isScrolled,\n    handleScroll: handleContentScroll,\n  } = useScrolledState();\n\n  const nfts = useMemo(() => {\n    if (!orderedAddresses || !byAddress) {\n      return undefined;\n    }\n\n    return orderedAddresses\n      .map((address) => byAddress[address])\n      .filter(Boolean);\n  }, [\n    byAddress, orderedAddresses,\n  ]);\n\n  const hiddenByUserNfts = useMemo(() => {\n    const blacklistedNftAddressesSet = new Set(blacklistedNftAddresses);\n    return nfts?.filter((nft) => blacklistedNftAddressesSet.has(nft.address));\n  }, [nfts, blacklistedNftAddresses]);\n\n  const probablyScamNfts = useMemo(() => {\n    return nfts?.filter((nft) => nft.isHidden);\n  }, [nfts]);\n\n  const whitelistedNftAddressesSet = useMemo(() => {\n    return new Set(whitelistedNftAddresses);\n  }, [whitelistedNftAddresses]);\n\n  const { isPortrait } = useDeviceScreen();\n  const areSettingsInModal = !isPortrait || IS_ELECTRON || IS_DELEGATING_BOTTOM_SHEET || IS_DELEGATED_BOTTOM_SHEET;\n\n  function renderHiddenByUserNfts() {\n    return (\n      <>\n        <p className={styles.blockTitle}>{lang('Hidden By Me')}</p>\n        <div className={buildClassName(styles.block, !areSettingsInModal && 'hidden-nfts-user')}>\n          {hiddenByUserNfts!.map((nft) => <HiddenByUserNft key={nft.address} nft={nft} />)}\n        </div>\n      </>\n    );\n  }\n\n  function renderProbablyScamNfts() {\n    return (\n      <>\n        <p className={styles.blockTitle}>{lang('Probably Scam')}</p>\n        <div className={\n          buildClassName(styles.block, styles.settingsBlockWithDescription, !areSettingsInModal && 'hidden-nfts-scam')\n        }\n        >\n          {\n            probablyScamNfts!.map(\n              (nft) => (\n                <ProbablyScamNft\n                  key={nft.address}\n                  nft={nft}\n                  isWhitelisted={whitelistedNftAddressesSet.has(nft.address)}\n                />\n              ),\n            )\n          }\n        </div>\n        <p className={styles.blockDescription}>\n          {lang('$settings_nft_probably_scam_description')}\n        </p>\n      </>\n    );\n  }\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Hidden NFTs')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Hidden NFTs')}</span>\n        </div>\n      )}\n\n      <div\n        className={buildClassName(styles.content, 'custom-scroll')}\n        onScroll={handleContentScroll}\n      >\n        {Boolean(hiddenByUserNfts?.length) && renderHiddenByUserNfts()}\n        {Boolean(probablyScamNfts?.length) && renderProbablyScamNfts()}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const {\n    blacklistedNftAddresses,\n    whitelistedNftAddresses,\n  } = selectCurrentAccountState(global) ?? {};\n  const {\n    orderedAddresses,\n    byAddress,\n  } = selectCurrentAccountState(global)?.nfts ?? {};\n  return {\n    blacklistedNftAddresses,\n    whitelistedNftAddresses,\n    orderedAddresses,\n    byAddress,\n  };\n})(SettingsHiddenNfts));\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { LangCode } from '../../global/types';\n\nimport { LANG_LIST } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { setLanguage } from '../../util/langProvider';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport styles from './Settings.module.scss';\n\nimport checkmarkImg from '../../assets/settings/settings_checkmark.svg';\n\ninterface OwnProps {\n  isActive?: boolean;\n  langCode: LangCode;\n  handleBackClick: () => void;\n  isInsideModal?: boolean;\n}\n\nfunction SettingsLanguage({\n  isActive,\n  langCode,\n  handleBackClick,\n  isInsideModal,\n}: OwnProps) {\n  const {\n    changeLanguage,\n  } = getActions();\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const handleLanguageChange = useLastCallback((newLangCode: LangCode) => {\n    void setLanguage(newLangCode, () => {\n      changeLanguage({ langCode: newLangCode });\n    });\n  });\n\n  function renderLanguages() {\n    return LANG_LIST.map(({ name, nativeName, langCode: lc }) => (\n      <div\n        key={lc}\n        className={buildClassName(styles.item, styles.item_lang)}\n        onClick={() => handleLanguageChange(lc)}\n      >\n        <div className={styles.languageInfo}>\n          <span className={styles.languageMain}>{name}</span>\n          <span className={styles.languageNative}>{nativeName}</span>\n        </div>\n\n        {langCode === lc && <img src={checkmarkImg} alt={name} />}\n      </div>\n    ));\n  }\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Language')}\n          onBackButtonClick={handleBackClick}\n          className={buildClassName(styles.modalHeader, styles.languageHeader)}\n        />\n      ) : (\n        <div className={styles.header}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Language')}</span>\n        </div>\n      )}\n      <div className={buildClassName(styles.content, 'custom-scroll')}>\n        <div className={styles.block}>\n          {renderLanguages()}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SettingsLanguage);\n","import React, { memo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { IS_EXTENSION } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { IS_ELECTRON } from '../../util/windowEnvironment';\n\nimport Modal from '../ui/Modal';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  children: React.ReactNode;\n  isOpen?: boolean;\n  onClose: () => void;\n}\n\ninterface StateProps {\n  isMediaViewerOpen?: boolean;\n}\n\nfunction SettingsModal({\n  children, isOpen, onClose, isMediaViewerOpen,\n}: OwnProps & StateProps) {\n  const fullDialogClassName = buildClassName(\n    styles.modalDialog,\n    !(IS_ELECTRON || IS_EXTENSION) && styles.modalDialogWeb,\n  );\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen && !isMediaViewerOpen}\n      dialogClassName={fullDialogClassName}\n      contentClassName={styles.modalContent}\n      nativeBottomSheetKey=\"settings\"\n      forceFullNative\n      onClose={onClose}\n    >\n      {children}\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  return {\n    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),\n  };\n})(SettingsModal));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\n\nimport TokenSelector from '../common/TokenSelector';\n\nimport styles from './Settings.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  handleBackClick: NoneToVoidFunction;\n}\n\nfunction SettingsTokenList({\n  isActive,\n  handleBackClick,\n}: OwnProps) {\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  return (\n    <div className={styles.slide}>\n      <TokenSelector\n        isActive={isActive}\n        onBack={handleBackClick}\n        onClose={handleBackClick}\n        isInsideSettings\n        shouldHideMyTokens\n      />\n    </div>\n  );\n}\n\nexport default memo(SettingsTokenList);\n","import type { RefObject } from 'react';\nimport React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { ApiBaseCurrency } from '../../api/types';\nimport { SettingsState, type UserToken } from '../../global/types';\n\nimport { TONCOIN_SLUG } from '../../config';\nimport { bigintMultiplyToNumber } from '../../util/bigint';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency, getShortCurrencySymbol } from '../../util/formatNumber';\nimport { isBetween } from '../../util/math';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport DeleteTokenModal from '../main/modals/DeleteTokenModal';\nimport AnimatedCounter from '../ui/AnimatedCounter';\nimport Draggable from '../ui/Draggable';\nimport Switcher from '../ui/Switcher';\n\nimport styles from './Settings.module.scss';\n\ninterface SortState {\n  orderedTokenSlugs?: string[];\n  dragOrderTokenSlugs?: string[];\n  draggedIndex?: number;\n}\n\ninterface OwnProps {\n  parentContainer: RefObject<HTMLDivElement>;\n  tokens?: UserToken[];\n  orderedSlugs?: string[];\n  isSortByValueEnabled?: boolean;\n  baseCurrency?: ApiBaseCurrency;\n}\n\nconst TOKEN_HEIGHT_PX = 64;\nconst TOP_OFFSET = 48;\n\nfunction SettingsTokens({\n  parentContainer,\n  tokens,\n  orderedSlugs,\n  isSortByValueEnabled,\n  baseCurrency,\n}: OwnProps) {\n  const {\n    openSettingsWithState,\n    sortTokens,\n    toggleExceptionToken,\n  } = getActions();\n  const lang = useLang();\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  // eslint-disable-next-line no-null/no-null\n  const tokensRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const sortableContainerRef = useRef<HTMLDivElement>(null);\n\n  const [tokenToDelete, setTokenToDelete] = useState<UserToken | undefined>();\n  const [state, setState] = useState<SortState>({\n    orderedTokenSlugs: orderedSlugs,\n    dragOrderTokenSlugs: orderedSlugs,\n    draggedIndex: undefined,\n  });\n\n  useEffect(() => {\n    if (!arraysAreEqual(orderedSlugs, state.orderedTokenSlugs)) {\n      setState({\n        orderedTokenSlugs: orderedSlugs,\n        dragOrderTokenSlugs: orderedSlugs,\n        draggedIndex: undefined,\n      });\n    }\n  }, [orderedSlugs, state.orderedTokenSlugs]);\n\n  const handleOpenAddTokenPage = useLastCallback(() => {\n    openSettingsWithState({ state: SettingsState.SelectTokenList });\n  });\n\n  const handleDrag = useLastCallback((translation: { x: number; y: number }, id: string | number) => {\n    const delta = Math.round(translation.y / TOKEN_HEIGHT_PX);\n    const index = state.orderedTokenSlugs?.indexOf(id as string) ?? 0;\n    const dragOrderTokens = state.orderedTokenSlugs?.filter((tokenSlug) => tokenSlug !== id);\n\n    if (!dragOrderTokens || !isBetween(index + delta, 0, orderedSlugs?.length ?? 0)) {\n      return;\n    }\n\n    dragOrderTokens.splice(index + delta, 0, id as string);\n    setState((current) => ({\n      ...current,\n      draggedIndex: index,\n      dragOrderTokenSlugs: dragOrderTokens,\n    }));\n  });\n\n  const handleDragEnd = useLastCallback(() => {\n    setState((current) => {\n      sortTokens({\n        orderedSlugs: current.dragOrderTokenSlugs!,\n      });\n\n      return {\n        ...current,\n        orderedTokenSlugs: current.dragOrderTokenSlugs,\n        draggedIndex: undefined,\n      };\n    });\n  });\n\n  const handleExceptionToken = useLastCallback((slug: string, e: React.MouseEvent | React.TouchEvent) => {\n    if (slug === TONCOIN_SLUG) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n    toggleExceptionToken({ slug });\n  });\n\n  const handleDeleteToken = useLastCallback((token: UserToken, e: React.MouseEvent<HTMLSpanElement>) => {\n    e.stopPropagation();\n    setTokenToDelete(token);\n  });\n\n  function renderToken(token: UserToken, index: number) {\n    const {\n      symbol, image, name, amount, price, slug, isDisabled,\n    } = token;\n\n    const isToncoin = slug === TONCOIN_SLUG;\n    const logoPath = image || ASSET_LOGO_PATHS[symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const totalAmount = bigintMultiplyToNumber(amount, price);\n    const isDragged = state.draggedIndex === index;\n\n    const draggedTop = isSortByValueEnabled ? getOffsetByIndex(index) : getOffsetBySlug(slug, state.orderedTokenSlugs);\n    const top = isSortByValueEnabled ? getOffsetByIndex(index) : getOffsetBySlug(slug, state.dragOrderTokenSlugs);\n\n    const style = `top: ${isDragged ? draggedTop : top}px;`;\n    const knobStyle = 'left: 1rem;';\n\n    const isDeleteButtonVisible = amount === 0n && !isToncoin;\n\n    const isDragDisabled = isSortByValueEnabled || tokens!.length <= 1;\n\n    return (\n      <Draggable\n        key={slug}\n        id={slug}\n        onDrag={handleDrag}\n        onDragEnd={handleDragEnd}\n        style={style}\n        knobStyle={knobStyle}\n        isDisabled={isDragDisabled}\n        className={buildClassName(styles.item, styles.item_token, !isSortByValueEnabled && styles.draggable)}\n        offset={{ top: TOP_OFFSET }}\n        parentRef={tokensRef}\n        scrollRef={parentContainer}\n        // eslint-disable-next-line react/jsx-no-bind\n        onClick={(e) => handleExceptionToken(slug, e)}\n      >\n        <img\n          src={logoPath}\n          alt={symbol}\n          className={styles.tokenIcon}\n        />\n        <div className={styles.tokenInfo}>\n          <div className={styles.tokenTitle}>\n            {name}\n          </div>\n          <div className={styles.tokenDescription}>\n            <AnimatedCounter text={formatCurrency(toDecimal(totalAmount, token.decimals, true), shortBaseSymbol)} />\n            <i className={styles.dot} aria-hidden />\n            <AnimatedCounter text={formatCurrency(toDecimal(amount, token.decimals), symbol)} />\n            {isDeleteButtonVisible && (\n              <>\n                <i className={styles.dot} aria-hidden />\n                <span className={styles.deleteText} onClick={(e) => handleDeleteToken(token, e)}>\n                  {lang('Delete')}\n                </span>\n              </>\n            )}\n          </div>\n        </div>\n        {!isToncoin && (\n          <Switcher\n            className={styles.menuSwitcher}\n            checked={!isDisabled}\n          />\n        )}\n      </Draggable>\n    );\n  }\n\n  return (\n    <>\n      <p className={styles.blockTitle}>{lang('My Tokens')}</p>\n      <div className={styles.contentRelative} ref={sortableContainerRef}>\n        <div\n          className={buildClassName(styles.settingsBlock, styles.sortableContainer)}\n          style={`height: ${(tokens?.length ?? 0) * TOKEN_HEIGHT_PX + TOP_OFFSET}px`}\n          ref={tokensRef}\n        >\n          <div className={buildClassName(styles.item, styles.item_small)} onClick={handleOpenAddTokenPage}>\n            {lang('Add Token')}\n            <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n          </div>\n\n          {tokens?.map(renderToken)}\n        </div>\n      </div>\n\n      <DeleteTokenModal token={tokenToDelete} />\n    </>\n  );\n}\n\nfunction arraysAreEqual<T>(arr1: T[] = [], arr2: T[] = []) {\n  return arr1.length === arr2.length && arr1.every((value, index) => value === arr2[index]);\n}\n\nfunction getOffsetBySlug(slug: string, list: string[] = []) {\n  const realIndex = list.indexOf(slug);\n  const index = realIndex === -1 ? list.length : realIndex;\n  return getOffsetByIndex(index);\n}\n\nfunction getOffsetByIndex(index: number) {\n  return index * TOKEN_HEIGHT_PX + TOP_OFFSET;\n}\n\nexport default memo(SettingsTokens);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { ApiWalletVersion } from '../../api/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { shortenAddress } from '../../util/shortenAddress';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useScrolledState from '../../hooks/useScrolledState';\n\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport styles from './Settings.module.scss';\n\nexport interface Wallet {\n  address: string;\n  version: ApiWalletVersion;\n  totalBalance: string;\n  tokens: string[];\n}\n\ninterface OwnProps {\n  isActive?: boolean;\n  handleBackClick: () => void;\n  isInsideModal?: boolean;\n  wallets?: Wallet[];\n  currentVersion?: ApiWalletVersion;\n}\n\nfunction SettingsWalletVersion({\n  isActive,\n  handleBackClick,\n  isInsideModal,\n  currentVersion,\n  wallets,\n}: OwnProps) {\n  const {\n    closeSettings,\n    importAccountByVersion,\n  } = getActions();\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const {\n    handleScroll: handleContentScroll,\n    isScrolled,\n  } = useScrolledState();\n\n  const handleAddWallet = useLastCallback((version: ApiWalletVersion) => {\n    closeSettings();\n    importAccountByVersion({ version });\n  });\n\n  function renderWallets() {\n    return wallets?.map((v) => {\n      return (\n        <div\n          key={v.address}\n          className={buildClassName(styles.item, styles.item_wallet_version)}\n          onClick={() => handleAddWallet(v.version)}\n        >\n          <div className={styles.walletVersionInfo}>\n            <span className={styles.walletVersionTitle}>{v.version}</span>\n            <span className={styles.walletVersionAddress}>{shortenAddress(v.address)}</span>\n          </div>\n          <div className={styles.walletVersionInfoRight}>\n            <span className={styles.walletVersionTokens}>\n              {v.tokens.join(', ')}\n            </span>\n            <span className={styles.walletVersionAmount}>\n              &thinsp;{v.totalBalance}\n            </span>\n          </div>\n          <i className={buildClassName(styles.iconChevronRight, 'icon-chevron-right')} aria-hidden />\n        </div>\n      );\n    });\n  }\n\n  return (\n    <div className={styles.slide}>\n      {isInsideModal ? (\n        <ModalHeader\n          title={lang('Wallet Versions')}\n          withNotch={isScrolled}\n          onBackButtonClick={handleBackClick}\n          className={styles.modalHeader}\n        />\n      ) : (\n        <div className={buildClassName(styles.header, 'with-notch-on-scroll', isScrolled && 'is-scrolled')}>\n          <Button isSimple isText onClick={handleBackClick} className={styles.headerBack}>\n            <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n            <span>{lang('Back')}</span>\n          </Button>\n          <span className={styles.headerTitle}>{lang('Wallet Versions')}</span>\n        </div>\n      )}\n      <div\n        className={buildClassName(styles.content, 'custom-scroll')}\n        onScroll={handleContentScroll}\n      >\n        <div className={styles.blockWalletVersionText}>\n          <span>{lang('$current_wallet_version', { version: <strong>{currentVersion}</strong> })}</span>\n          <span>{lang('You have tokens on other versions of your wallet. You can import them from here.')}</span>\n        </div>\n        <div className={styles.block}>\n          {renderWallets()}\n        </div>\n        <div className={styles.blockWalletVersionReadMore}>\n          {lang('$read_more_about_wallet_version', {\n            ton_link: (\n              <a href=\"https://docs.ton.org/participate/wallets/contracts\" target=\"_blank\" rel=\"noreferrer\">\n                ton.org\n              </a>\n            ),\n          })}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(SettingsWalletVersion);\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { BiometricsState } from '../../../global/types';\n\nimport BiometricsTurnOff from './TurnOff';\nimport BiometricsTurnOffWarning from './TurnOffWarning';\nimport BiometricsTurnOn from './TurnOn';\n\ninterface StateProps {\n  state: BiometricsState;\n  error?: string;\n}\n\nfunction Biometrics({ state, error }: StateProps) {\n  const { closeBiometricSettings } = getActions();\n\n  const isTurnOnBiometricsOpened = state === BiometricsState.TurnOnPasswordConfirmation\n    || state === BiometricsState.TurnOnRegistration\n    || state === BiometricsState.TurnOnVerification\n    || state === BiometricsState.TurnOnComplete;\n  const isTurnOffBiometricsOpened = state === BiometricsState.TurnOffBiometricConfirmation\n    || state === BiometricsState.TurnOffCreatePassword\n    || state === BiometricsState.TurnOffComplete;\n  const isTurnOffBiometricsWarningOpened = state === BiometricsState.TurnOffWarning;\n\n  return (\n    <>\n      <BiometricsTurnOn\n        isOpen={isTurnOnBiometricsOpened}\n        state={state}\n        error={error}\n        onClose={closeBiometricSettings}\n      />\n      <BiometricsTurnOff\n        isOpen={isTurnOffBiometricsOpened}\n        state={state}\n        error={error}\n        onClose={closeBiometricSettings}\n      />\n      <BiometricsTurnOffWarning isOpen={isTurnOffBiometricsWarningOpened} onClose={closeBiometricSettings} />\n    </>\n  );\n}\n\nexport default memo(withGlobal((global) => {\n  const { biometrics: { state, error } } = global;\n\n  return {\n    state,\n    error,\n  };\n})(Biometrics));\n","import { Dialog } from 'native-dialog';\nimport React, { memo } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport renderText from '../../../global/helpers/renderText';\nimport {\n  getIsFaceIdAvailable,\n  getIsNativeBiometricAuthSupported,\n  getIsTouchIdAvailable,\n} from '../../../util/capacitor';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_IOS } from '../../../util/windowEnvironment';\n\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../hooks/useSyncEffect';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\nimport Switcher from '../../ui/Switcher';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from '../Settings.module.scss';\n\nimport biometricsImg from '../../../assets/settings/settings_biometrics.svg';\nimport faceIdImg from '../../../assets/settings/settings_face-id.svg';\n\ninterface OwnProps {\n  onEnable: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  isBiometricAuthEnabled: boolean;\n}\n\nfunction NativeBiometricsToggle({ isBiometricAuthEnabled, onEnable }: OwnProps & StateProps) {\n  const { disableNativeBiometrics } = getActions();\n  const isFaceId = getIsFaceIdAvailable() || (!getIsNativeBiometricAuthSupported() && IS_IOS);\n  const isTouchId = getIsTouchIdAvailable();\n\n  const lang = useLang();\n  const [isWarningModalOpen, openWarningModal, closeWarningModal] = useFlag();\n  const switcherTitle = isFaceId ? 'Face ID' : (isTouchId ? 'Touch ID' : lang('Biometric Authentication'));\n  const warningTitle = isFaceId\n    ? 'Turn Off Face ID'\n    : (isTouchId ? 'Turn Off Touch ID' : 'Turn Off Biometrics');\n  const warningDescription = isFaceId\n    ? 'Are you sure you want to disable Face ID?'\n    : (isTouchId ? 'Are you sure you want to disable Touch ID?' : 'Are you sure you want to disable biometrics?');\n\n  const icon = isFaceId ? faceIdImg : biometricsImg;\n\n  const handleConfirmDisableBiometrics = useLastCallback(() => {\n    closeWarningModal();\n    disableNativeBiometrics();\n  });\n\n  useSyncEffect(() => {\n    if (!IS_DELEGATED_BOTTOM_SHEET) return;\n\n    if (isWarningModalOpen) {\n      Dialog.confirm({\n        title: lang(warningTitle),\n        message: lang(warningDescription),\n        okButtonTitle: lang('Yes'),\n        cancelButtonTitle: lang('Cancel'),\n      })\n        .then(({ value }) => {\n          if (value) {\n            handleConfirmDisableBiometrics();\n          }\n        })\n        .finally(closeWarningModal);\n    }\n  }, [handleConfirmDisableBiometrics, isWarningModalOpen, lang, warningDescription, warningTitle]);\n\n  const handleBiometricAuthToggle = useLastCallback(() => {\n    if (isBiometricAuthEnabled) {\n      openWarningModal();\n    } else {\n      onEnable();\n    }\n  });\n\n  function renderDisableNativeBiometricsWarning() {\n    if (IS_DELEGATED_BOTTOM_SHEET) return undefined;\n\n    return (\n      <Modal\n        isCompact\n        isOpen={isWarningModalOpen}\n        title={lang(warningTitle)}\n        onClose={closeWarningModal}\n        dialogClassName={styles.stakingSafeDialog}\n      >\n        <p className={modalStyles.text}>\n          {renderText(lang(warningDescription))}\n        </p>\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={closeWarningModal}>{lang('Cancel')}</Button>\n          <Button onClick={handleConfirmDisableBiometrics}>{lang('Yes')}</Button>\n        </div>\n      </Modal>\n    );\n  }\n\n  return (\n    <div className={styles.block}>\n      <div className={styles.item} onClick={handleBiometricAuthToggle}>\n        <img className={styles.menuIcon} src={icon} alt=\"\" />\n        {switcherTitle}\n\n        <Switcher\n          className={styles.menuSwitcher}\n          label={switcherTitle}\n          checked={isBiometricAuthEnabled}\n        />\n      </div>\n      {renderDisableNativeBiometricsWarning()}\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const { authConfig } = global.settings;\n\n  return {\n    isBiometricAuthEnabled: !!authConfig && authConfig.kind === 'native-biometrics',\n  };\n})(NativeBiometricsToggle));\n","import React, { memo, useEffect, useState } from '../../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../../global';\n\nimport { PIN_LENGTH } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../../ui/helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../../hooks/useDeviceScreen';\nimport useEffectWithPrevDeps from '../../../hooks/useEffectWithPrevDeps';\nimport useHistoryBack from '../../../hooks/useHistoryBack';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../../ui/AnimatedIconWithPreview';\nimport Button from '../../ui/Button';\nimport PinPad from '../../ui/PinPad';\n\nimport styles from '../Settings.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  handleBackClick: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  isPinAccepted?: boolean;\n  error?: string;\n  isNativeBiometricsEnabled?: boolean;\n}\n\nfunction NativeBiometricsTurnOn({\n  isActive,\n  isPinAccepted,\n  error,\n  isNativeBiometricsEnabled,\n  handleBackClick,\n}: OwnProps & StateProps) {\n  const { enableNativeBiometrics, clearNativeBiometricsError } = getActions();\n\n  const lang = useLang();\n  const { isSmallHeight } = useDeviceScreen();\n  const [pin, setPin] = useState<string>('');\n  const pinPadType = pin.length !== PIN_LENGTH\n    ? undefined\n    : (isPinAccepted ? 'success' : (error ? 'error' : undefined));\n  const pinTitle = isPinAccepted\n    ? 'Correct'\n    : (error && pin.length === PIN_LENGTH ? error : 'Enter your code');\n\n  useEffect(() => {\n    if (!isActive) return;\n\n    setPin('');\n  }, [isActive]);\n\n  useEffectWithPrevDeps(([prevIsEnabled]) => {\n    if (isNativeBiometricsEnabled && !prevIsEnabled) {\n      handleBackClick();\n    }\n  }, [isNativeBiometricsEnabled, handleBackClick]);\n\n  useHistoryBack({\n    isActive,\n    onBack: handleBackClick,\n  });\n\n  const handleSubmit = useLastCallback((password: string) => {\n    enableNativeBiometrics({ password });\n  });\n\n  return (\n    <div className={styles.slide}>\n      <div className={buildClassName(styles.content, styles.contentFullSize)}>\n        <Button\n          isSimple\n          isText\n          onClick={handleBackClick}\n          className={buildClassName(styles.headerBack, styles.headerBackInContent)}\n        >\n          <i className={buildClassName(styles.iconChevron, 'icon-chevron-left')} aria-hidden />\n          <span>{lang('Back')}</span>\n        </Button>\n\n        <div className={styles.pinPadHeader}>\n          <AnimatedIconWithPreview\n            play={isActive}\n            tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n            previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n            noLoop={false}\n            nonInteractive\n            className={styles.stickerNativeBiometric}\n          />\n\n          {!isSmallHeight && <div className={styles.pinPadTitle}>{lang('Confirm Passcode')}</div>}\n        </div>\n\n        <PinPad\n          isActive={isActive}\n          onClearError={clearNativeBiometricsError}\n          title={lang(pinTitle)}\n          type={pinPadType}\n          length={PIN_LENGTH}\n          value={pin}\n          onChange={setPin}\n          onSubmit={handleSubmit}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const {\n    nativeBiometricsError,\n    isPinAccepted,\n    settings: { authConfig },\n  } = global;\n\n  return {\n    isPinAccepted,\n    error: nativeBiometricsError,\n    isNativeBiometricsEnabled: !!authConfig && authConfig.kind === 'native-biometrics',\n  };\n})(NativeBiometricsTurnOn));\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport { BiometricsState } from '../../../global/types';\n\nimport { ANIMATED_STICKER_HUGE_SIZE_PX } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { ANIMATED_STICKERS_PATHS } from '../../ui/helpers/animatedAssets';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../../hooks/useModalTransitionKeys';\n\nimport AnimatedIconWithPreview from '../../ui/AnimatedIconWithPreview';\nimport Button from '../../ui/Button';\nimport CreatePasswordForm from '../../ui/CreatePasswordForm';\nimport Modal from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport Transition from '../../ui/Transition';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './Biometrics.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  state: BiometricsState;\n  error?: string;\n  onClose: NoneToVoidFunction;\n}\n\nconst STICKER_SIZE = 180;\n\nfunction TurnOff({\n  isOpen, state, error, onClose,\n}: OwnProps) {\n  const { disableBiometrics } = getActions();\n\n  const lang = useLang();\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n\n  const handleSubmit = useLastCallback((password: string, isPasswordNumeric?: boolean) => {\n    disableBiometrics({ password, isPasswordNumeric });\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case BiometricsState.TurnOffBiometricConfirmation:\n        return (\n          <>\n            <ModalHeader title={lang('Biometric Confirmation')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n                previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n                play={isActive}\n                size={STICKER_SIZE}\n                nonInteractive\n                noLoop={false}\n                className={styles.sticker}\n              />\n\n              {error ? (\n                <div className={styles.error}>{lang(error)}</div>\n              ) : (\n                <div className={styles.step}>{lang('Please verify the operation.')}</div>\n              )}\n\n              <div className={modalStyles.buttons}>\n                <Button onClick={onClose} className={modalStyles.customSubmitButton}>\n                  {lang('Cancel')}\n                </Button>\n              </div>\n            </div>\n          </>\n        );\n\n      case BiometricsState.TurnOffCreatePassword:\n        return (\n          <>\n            <ModalHeader title={lang('Create Password')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n                previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n                play={isActive}\n                size={STICKER_SIZE}\n                nonInteractive\n                noLoop={false}\n                className={styles.sticker}\n              />\n              <CreatePasswordForm\n                isActive={isActive}\n                formId=\"biometrics-create-password\"\n                onSubmit={handleSubmit}\n                onCancel={onClose}\n              />\n            </div>\n          </>\n        );\n\n      case BiometricsState.TurnOffComplete:\n        return (\n          <>\n            <ModalHeader title={lang('Biometrics Disabled')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.yeee}\n                previewUrl={ANIMATED_STICKERS_PATHS.yeeePreview}\n                play={isActive}\n                size={ANIMATED_STICKER_HUGE_SIZE_PX}\n                nonInteractive\n                noLoop={false}\n                className={buildClassName(styles.sticker, styles.stickerHuge)}\n              />\n\n              <div className={modalStyles.buttons}>\n                <Button isPrimary onClick={onClose} className={modalStyles.customSubmitButton}>\n                  {lang('Done')}\n                </Button>\n              </div>\n            </div>\n          </>\n        );\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      dialogClassName={styles.modalDialog}\n      onClose={onClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(TurnOff);\n","import React, { memo } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport buildClassName from '../../../util/buildClassName';\n\nimport useLang from '../../../hooks/useLang';\n\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\n\nimport modalStyles from '../../ui/Modal.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  onClose: NoneToVoidFunction;\n}\n\nfunction TurnOffWaning({ isOpen, onClose }: OwnProps) {\n  const { openBiometricsTurnOff } = getActions();\n\n  const lang = useLang();\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      isCompact\n      title={lang('Turn Off Biometrics')}\n      onClose={onClose}\n    >\n      <p className={modalStyles.text}>\n        {lang('If you turn off biometric protection, you will need to create a password.')}\n      </p>\n\n      <div className={buildClassName(modalStyles.buttons, modalStyles.buttonsNoExtraSpace)}>\n        <Button className={modalStyles.button} onClick={onClose}>\n          {lang('Cancel')}\n        </Button>\n        <Button isPrimary className={modalStyles.button} onClick={openBiometricsTurnOff}>\n          {lang('Continue')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(TurnOffWaning);\n","import React, { memo, useEffect, useState } from '../../../lib/teact/teact';\nimport { getActions } from '../../../global';\n\nimport { BiometricsState } from '../../../global/types';\n\nimport { ANIMATED_STICKER_HUGE_SIZE_PX } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport resolveModalTransitionName from '../../../util/resolveModalTransitionName';\nimport { IS_ELECTRON } from '../../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from '../../ui/helpers/animatedAssets';\n\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../../hooks/useModalTransitionKeys';\n\nimport AnimatedIconWithPreview from '../../ui/AnimatedIconWithPreview';\nimport Button from '../../ui/Button';\nimport Modal from '../../ui/Modal';\nimport ModalHeader from '../../ui/ModalHeader';\nimport PasswordForm from '../../ui/PasswordForm';\nimport Transition from '../../ui/Transition';\n\nimport modalStyles from '../../ui/Modal.module.scss';\nimport styles from './Biometrics.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  state: BiometricsState;\n  error?: string;\n  onClose: NoneToVoidFunction;\n}\n\nconst STICKER_SIZE = 180;\n\nfunction TurnOn({\n  isOpen, state, error, onClose,\n}: OwnProps) {\n  const { enableBiometrics } = getActions();\n\n  const lang = useLang();\n  const [localError, setLocalError] = useState<string | undefined>();\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n  const shouldDisablePasswordForm = Boolean(state !== BiometricsState.TurnOnPasswordConfirmation);\n\n  useEffect(() => {\n    if (isOpen) {\n      setLocalError('');\n    }\n  }, [isOpen]);\n\n  const handleClearError = useLastCallback(() => {\n    setLocalError(undefined);\n  });\n\n  const handleSubmit = useLastCallback((password: string) => {\n    if (shouldDisablePasswordForm) {\n      return;\n    }\n\n    try {\n      enableBiometrics({ password });\n    } catch (err: any) {\n      setLocalError(err.message || 'Unknown error.');\n    }\n  });\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case BiometricsState.TurnOnPasswordConfirmation:\n        return (\n          <>\n            <ModalHeader title={lang('Turn On Biometrics')} onClose={onClose} />\n            <PasswordForm\n              isActive={isActive}\n              isLoading={false}\n              error={error || localError}\n              operationType=\"passcode\"\n              help={lang('Enabling biometric confirmation will reset the password.')}\n              submitLabel={lang('Continue')}\n              onSubmit={handleSubmit}\n              onCancel={onClose}\n              onUpdate={handleClearError}\n            />\n          </>\n        );\n\n      case BiometricsState.TurnOnRegistration:\n        return (\n          <>\n            <ModalHeader title={lang('Biometric Registration')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n                previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n                play={isActive}\n                size={STICKER_SIZE}\n                nonInteractive\n                noLoop={false}\n                className={styles.sticker}\n              />\n\n              <div className={styles.step}>{lang('Step 1 of 2. Registration')}</div>\n\n              <div className={modalStyles.buttons}>\n                <Button onClick={onClose} className={modalStyles.customCancelButton}>\n                  {lang('Cancel')}\n                </Button>\n              </div>\n            </div>\n          </>\n        );\n\n      case BiometricsState.TurnOnVerification:\n        return (\n          <>\n            <ModalHeader title={lang('Biometric Registration')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n                previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n                play={isActive}\n                size={STICKER_SIZE}\n                nonInteractive\n                noLoop={false}\n                className={styles.sticker}\n              />\n\n              <div className={styles.step}>\n                {lang(IS_ELECTRON ? 'Verification' : 'Step 2 of 2. Verification')}\n              </div>\n\n              <div className={modalStyles.buttons}>\n                <Button onClick={onClose} className={modalStyles.customCancelButton}>\n                  {lang('Cancel')}\n                </Button>\n              </div>\n            </div>\n          </>\n        );\n\n      case BiometricsState.TurnOnComplete:\n        return (\n          <>\n            <ModalHeader title={lang('Biometrics Enabled')} onClose={onClose} />\n            <div className={modalStyles.transitionContent}>\n              <AnimatedIconWithPreview\n                tgsUrl={ANIMATED_STICKERS_PATHS.yeee}\n                previewUrl={ANIMATED_STICKERS_PATHS.yeeePreview}\n                play={isActive}\n                size={ANIMATED_STICKER_HUGE_SIZE_PX}\n                nonInteractive\n                noLoop={false}\n                className={buildClassName(styles.sticker, styles.stickerHuge)}\n              />\n\n              <div className={modalStyles.buttons}>\n                <Button isPrimary onClick={onClose} className={modalStyles.customSubmitButton}>\n                  {lang('Done')}\n                </Button>\n              </div>\n            </div>\n          </>\n        );\n    }\n  }\n\n  return (\n    <Modal\n      hasCloseButton\n      isOpen={isOpen}\n      dialogClassName={styles.modalDialog}\n      onClose={onClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(TurnOn);\n","import { memo } from '../../../lib/teact/teact';\nimport React from '../../../lib/teact/teactn';\nimport { getActions } from '../../../global';\n\nimport { type ApiNft } from '../../../api/types';\nimport { MediaType } from '../../../global/types';\n\nimport buildClassName from '../../../util/buildClassName';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET, IS_ELECTRON } from '../../../util/windowEnvironment';\n\nimport { useDeviceScreen } from '../../../hooks/useDeviceScreen';\nimport useFlag from '../../../hooks/useFlag';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useShowTransition from '../../../hooks/useShowTransition';\n\nimport Button from '../../ui/Button';\n\nimport styles from '../Settings.module.scss';\n\ninterface OwnProps {\n  nft: ApiNft;\n}\n\nfunction HiddenByUserNft({ nft }: OwnProps) {\n  const { openMediaViewer, removeNftSpecialStatus } = getActions();\n  const lang = useLang();\n\n  const [isNftHidden, , unmarkNftHidden] = useFlag(true);\n\n  const handleUnhide = useLastCallback(() => {\n    removeNftSpecialStatus({ address: nft.address });\n  });\n\n  const {\n    transitionClassNames,\n  } = useShowTransition(isNftHidden, handleUnhide);\n\n  const { isPortrait } = useDeviceScreen();\n  const areSettingsInModal = !isPortrait || IS_ELECTRON || IS_DELEGATING_BOTTOM_SHEET || IS_DELEGATED_BOTTOM_SHEET;\n\n  function handleNftClick() {\n    openMediaViewer({\n      mediaId: nft.address, mediaType: MediaType.Nft, noGhostAnimation: areSettingsInModal, hiddenNfts: 'user',\n    });\n  }\n\n  return (\n    <div\n      className={buildClassName(styles.item, transitionClassNames)}\n      onClick={handleNftClick}\n      key={nft.address}\n      role=\"button\"\n      tabIndex={0}\n      data-nft-address={!areSettingsInModal && nft.address}\n    >\n      <img className={styles.nftImage} src={nft.image} alt={nft.name} />\n      <div className={styles.nftPrimaryCell}>\n        <span className={styles.nftName}>{nft.name || lang('Untitled')}</span>\n        {\n          nft.collectionName && <span className={styles.nftCollection}>{nft.collectionName}</span>\n        }\n      </div>\n\n      <Button\n        isSmall\n        isPrimary\n        isText\n        className={styles.nftButtonUnhide}\n        onClick={unmarkNftHidden}\n        shouldStopPropagation\n      >\n        {lang('Unhide')}\n      </Button>\n    </div>\n  );\n}\n\nexport default memo(HiddenByUserNft);\n","import { memo } from '../../../lib/teact/teact';\nimport React from '../../../lib/teact/teactn';\nimport { getActions } from '../../../global';\n\nimport { type ApiNft } from '../../../api/types';\nimport { MediaType } from '../../../global/types';\n\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET, IS_ELECTRON } from '../../../util/windowEnvironment';\n\nimport { useDeviceScreen } from '../../../hooks/useDeviceScreen';\nimport useLang from '../../../hooks/useLang';\nimport useLastCallback from '../../../hooks/useLastCallback';\n\nimport Switcher from '../../ui/Switcher';\n\nimport styles from '../Settings.module.scss';\n\ninterface OwnProps {\n  nft: ApiNft;\n  isWhitelisted?: boolean;\n}\n\nfunction ProbablyScamNft({ nft, isWhitelisted }: OwnProps) {\n  const { openMediaViewer, removeNftSpecialStatus, openUnhideNftModal } = getActions();\n  const lang = useLang();\n\n  const { isPortrait } = useDeviceScreen();\n  const areSettingsInModal = !isPortrait || IS_ELECTRON || IS_DELEGATING_BOTTOM_SHEET || IS_DELEGATED_BOTTOM_SHEET;\n\n  const handleNftClick = useLastCallback(() => {\n    openMediaViewer({\n      mediaId: nft.address, mediaType: MediaType.Nft, noGhostAnimation: areSettingsInModal, hiddenNfts: 'scam',\n    });\n  });\n\n  const handleSwitcherClick = useLastCallback((e: React.ChangeEvent) => {\n    e.stopPropagation();\n    if (isWhitelisted) {\n      removeNftSpecialStatus({ address: nft.address });\n    } else {\n      openUnhideNftModal({ address: nft.address, name: nft.name! });\n    }\n  });\n\n  return (\n    <div\n      className={styles.item}\n      onClick={handleNftClick}\n      key={nft.address}\n      role=\"button\"\n      tabIndex={0}\n      data-nft-address={!areSettingsInModal && nft.address}\n    >\n      <img className={styles.nftImage} src={nft.image} alt={nft.name} />\n      <div className={styles.nftPrimaryCell}>\n        <span className={styles.nftName}>{nft.name}</span>\n        {\n          nft.collectionName && <span className={styles.nftCollection}>{nft.collectionName}</span>\n        }\n      </div>\n\n      <Switcher\n        className={styles.menuSwitcher}\n        label={lang('Show')}\n        checked={isWhitelisted}\n        onChange={handleSwitcherClick}\n        shouldStopPropagation\n      />\n    </div>\n  );\n}\n\nexport default memo(ProbablyScamNft);\n","import React, { memo, useMemo, useState } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { GlobalState, HardwareConnectState, UserToken } from '../../global/types';\nimport { StakingState } from '../../global/types';\n\nimport { IS_CAPACITOR, TONCOIN_SLUG } from '../../config';\nimport { selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\n\nimport TransferResult from '../common/TransferResult';\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\nimport Transition from '../ui/Transition';\nimport StakingInitial from './StakingInitial';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Staking.module.scss';\n\ntype StateProps = GlobalState['staking'] & {\n  tokens?: UserToken[];\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n};\n\nconst IS_OPEN_STATES = new Set([\n  StakingState.StakeInitial,\n  StakingState.StakePassword,\n  StakingState.StakeConnectHardware,\n  StakingState.StakeConfirmHardware,\n  StakingState.StakeComplete,\n]);\n\nfunction StakeModal({\n  state,\n  isLoading,\n  amount,\n  error,\n  tokens,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n}: StateProps) {\n  const {\n    startStaking,\n    setStakingScreen,\n    cancelStaking,\n    clearStakingError,\n    submitStakingPassword,\n    submitStakingHardware,\n    openStakingInfo,\n  } = getActions();\n\n  const lang = useLang();\n  const isOpen = IS_OPEN_STATES.has(state);\n  const tonToken = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens]);\n  const [renderedStakingAmount, setRenderedStakingAmount] = useState(amount);\n\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n\n  const handleBackClick = useLastCallback(() => {\n    if (state === StakingState.StakePassword) {\n      clearStakingError();\n      setStakingScreen({ state: StakingState.StakeInitial });\n    }\n  });\n\n  const handleLedgerConnect = useLastCallback(() => {\n    setRenderedStakingAmount(amount);\n    submitStakingHardware();\n  });\n\n  const handleTransferSubmit = useLastCallback((password: string) => {\n    setRenderedStakingAmount(amount);\n    submitStakingPassword({ password });\n  });\n\n  const handleViewStakingInfoClick = useLastCallback(() => {\n    cancelStaking();\n    openStakingInfo();\n  });\n\n  function renderStakingShortInfo() {\n    if (!tonToken || !amount) return undefined;\n\n    const logoPath = tonToken.image || ASSET_LOGO_PATHS[tonToken.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const stakingInfoClassName = buildClassName(\n      styles.stakingShortInfo,\n      !IS_CAPACITOR && styles.stakingShortInfoInsidePasswordForm,\n    );\n\n    return (\n      <div className={stakingInfoClassName}>\n        <img src={logoPath} alt={tonToken.symbol} className={styles.tokenIcon} />\n        <span>{formatCurrency(toDecimal(amount), tonToken.symbol)}</span>\n      </div>\n    );\n  }\n\n  function renderPassword(isActive: boolean) {\n    return (\n      <>\n        {!IS_CAPACITOR && <ModalHeader title={lang('Confirm Staking')} onClose={cancelStaking} />}\n        <PasswordForm\n          isActive={isActive}\n          isLoading={isLoading}\n          error={error}\n          withCloseButton={IS_CAPACITOR}\n          operationType=\"staking\"\n          placeholder=\"Confirm operation with your password\"\n          submitLabel={lang('Confirm')}\n          cancelLabel={lang('Back')}\n          onSubmit={handleTransferSubmit}\n          onCancel={handleBackClick}\n          onUpdate={clearStakingError}\n        >\n          {renderStakingShortInfo()}\n        </PasswordForm>\n      </>\n    );\n  }\n\n  function renderComplete(isActive: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Coins have been staked!')} onClose={cancelStaking} />\n\n        <div className={modalStyles.transitionContent}>\n          <TransferResult\n            color=\"purple\"\n            playAnimation={isActive}\n            amount={renderedStakingAmount}\n            noSign\n            balance={tonToken?.amount ?? 0n}\n            operationAmount={amount ? -amount : undefined}\n            firstButtonText={lang('View')}\n            secondButtonText={lang('Stake More')}\n            onFirstButtonClick={handleViewStakingInfoClick}\n            onSecondButtonClick={startStaking}\n          />\n\n          <div className={modalStyles.buttons}>\n            <Button onClick={cancelStaking} isPrimary>{lang('Close')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case StakingState.StakeInitial:\n        return (\n          <>\n            <ModalHeader title={lang('Stake TON')} onClose={cancelStaking} />\n            <StakingInitial isActive={isActive} />\n          </>\n        );\n\n      case StakingState.StakePassword:\n        return renderPassword(isActive);\n\n      case StakingState.StakeConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            onConnected={handleLedgerConnect}\n            onClose={cancelStaking}\n          />\n        );\n\n      case StakingState.StakeConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            text={lang('Please confirm operation on your Ledger')}\n            error={error}\n            onClose={cancelStaking}\n            onTryAgain={handleLedgerConnect}\n          />\n        );\n\n      case StakingState.StakeComplete:\n        return renderComplete(isActive);\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      hasCloseButton\n      noBackdropClose\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"stake\"\n      forceFullNative={renderingKey === StakingState.StakePassword}\n      onClose={cancelStaking}\n      onCloseAnimationEnd={updateNextKey}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global) => {\n  const tokens = selectCurrentAccountTokens(global);\n\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    ...global.staking,\n    tokens,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  };\n})(StakeModal));\n","import React, {\n  memo, useEffect, useMemo,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiStakingHistory } from '../../api/types';\nimport type { UserToken } from '../../global/types';\n\nimport { TON_SYMBOL, TONCOIN_SLUG } from '../../config';\nimport { selectCurrentAccountState, selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { formatRelativeHumanDateTime } from '../../util/dateFormat';\nimport { toBig, toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useInterval from '../../hooks/useInterval';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport useWindowSize from '../../hooks/useWindowSize';\n\nimport Button from '../ui/Button';\nimport Loading from '../ui/Loading';\nimport ModalHeader from '../ui/ModalHeader';\nimport RichNumberField from '../ui/RichNumberField';\nimport { STAKING_DECIMAL } from './StakingInitial';\nimport StakingProfitItem from './StakingProfitItem';\n\nimport styles from './Staking.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isStatic?: boolean;\n  onClose?: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  amount: bigint;\n  apyValue: number;\n  totalProfit: bigint;\n  stakingHistory?: ApiStakingHistory;\n  tokens?: UserToken[];\n  isUnstakeRequested?: boolean;\n  endOfStakingCycle?: number;\n}\n\nconst UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec\nconst HISTORY_SCROLL_APPEARANCE_HEIGHT_PX = 640;\n\nfunction StakingInfoContent({\n  isActive,\n  isStatic,\n  amount,\n  apyValue,\n  totalProfit,\n  stakingHistory,\n  tokens,\n  isUnstakeRequested,\n  endOfStakingCycle,\n  onClose,\n}: OwnProps & StateProps) {\n  const { startStaking, fetchStakingHistory } = getActions();\n\n  const lang = useLang();\n  const isLoading = !amount;\n  const hasHistory = Boolean(stakingHistory?.length);\n  const {\n    shouldRender: shouldRenderSpinner,\n    transitionClassNames: spinnerClassNames,\n  } = useShowTransition(isLoading && isActive);\n  const tonToken = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG)!, [tokens]);\n  const forceUpdate = useForceUpdate();\n  const { height } = useWindowSize();\n\n  useInterval(forceUpdate, isUnstakeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);\n\n  useEffect(() => {\n    if (isActive) {\n      fetchStakingHistory();\n    }\n  }, [fetchStakingHistory, isActive]);\n\n  const handleStakeClick = useLastCallback(() => {\n    onClose?.();\n    startStaking();\n  });\n\n  const handleUnstakeClick = useLastCallback(() => {\n    onClose?.();\n    startStaking({ isUnstaking: true });\n  });\n\n  const stakingResult = toBig(amount).round(STAKING_DECIMAL).toString();\n  const balanceResult = toBig(amount).mul((apyValue / 100) + 1).round(STAKING_DECIMAL).toString();\n\n  function renderUnstakeDescription() {\n    return (\n      <div className={buildClassName(styles.unstakeTime, styles.unstakeTime_purple)}>\n        <i className={buildClassName(styles.unstakeTimeIcon, 'icon-clock')} aria-hidden />\n        <div>\n          {Boolean(endOfStakingCycle) && lang('$unstaking_when_receive', {\n            time: (\n              <strong>\n                {formatRelativeHumanDateTime(lang.code, endOfStakingCycle)}\n              </strong>\n            ),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  function renderHistory() {\n    return (\n      <div className={buildClassName(styles.history, isStatic && styles.history_static)}>\n        <div className={styles.historyTotal}>\n          {lang('$total', {\n            value: (\n              <span className={styles.historyTotalValue}>\n                {formatCurrency(toDecimal(totalProfit), TON_SYMBOL)}\n              </span>\n            ),\n          })}\n        </div>\n        <div className={styles.historyTitle}>{lang('Earning History')}</div>\n        <div className={buildClassName(\n          styles.historyList,\n          isStatic && styles.historyList_static,\n          isStatic && 'custom-scroll',\n          !isStatic && height >= HISTORY_SCROLL_APPEARANCE_HEIGHT_PX && 'custom-scroll',\n        )}\n        >\n          {stakingHistory?.map((record) => (\n            <StakingProfitItem\n              key={record.timestamp}\n              profit={record.profit}\n              timestamp={record.timestamp}\n              tonToken={tonToken}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  const fullClassName = buildClassName(\n    styles.stakingInfo,\n    !isStatic && styles.stakingInfo_modal,\n    !hasHistory && styles.stakingInfoNoHistory,\n    isStatic && 'staking-info',\n  );\n\n  return (\n    <>\n      <div className={fullClassName}>\n        {!isStatic && (\n          <ModalHeader\n            title={lang('Staking')}\n            closeClassName={styles.stakingInfoClose}\n            onClose={onClose}\n          />\n        )}\n        <RichNumberField\n          labelText={lang('Currently Staked')}\n          zeroValue=\"...\"\n          value={stakingResult}\n          decimals={STAKING_DECIMAL}\n          suffix={TON_SYMBOL}\n          className={styles.stakingBalance}\n          labelClassName={styles.balanceStakedLabel}\n          valueClassName={styles.balanceStakedResult}\n        >\n          {shouldRenderSpinner && <Loading className={buildClassName(styles.stakingInfoLoading, spinnerClassNames)} />}\n        </RichNumberField>\n        {isUnstakeRequested\n          ? renderUnstakeDescription()\n          : (\n            <>\n              <RichNumberField\n                labelText={lang('Est. balance in a year')}\n                zeroValue=\"...\"\n                value={balanceResult}\n                decimals={STAKING_DECIMAL}\n                suffix={TON_SYMBOL}\n                inputClassName={styles.balanceResultInput}\n                labelClassName={styles.balanceStakedLabel}\n                valueClassName={styles.balanceResult}\n              />\n              <div className={styles.stakingInfoButtons}>\n                <Button\n                  className={styles.stakingInfoButton}\n                  isPrimary\n                  isDisabled={isLoading}\n                  onClick={handleStakeClick}\n                >\n                  {lang('Stake More')}\n                </Button>\n                <Button\n                  className={styles.stakingInfoButton}\n                  isDisabled={isLoading}\n                  onClick={handleUnstakeClick}\n                >\n                  {lang('Unstake')}\n                </Button>\n              </div>\n            </>\n          )}\n      </div>\n\n      {hasHistory && renderHistory()}\n    </>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n\n  return {\n    amount: accountState?.staking?.balance || 0n,\n    apyValue: accountState?.staking?.apy || 0,\n    totalProfit: accountState?.staking?.totalProfit ?? 0n,\n    stakingHistory: accountState?.stakingHistory,\n    tokens: selectCurrentAccountTokens(global),\n    isUnstakeRequested: accountState?.staking?.isUnstakeRequested,\n    endOfStakingCycle: accountState?.staking?.end,\n  };\n})(StakingInfoContent));\n","import React, { memo, useEffect } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useInterval from '../../hooks/useInterval';\n\nimport Modal from '../ui/Modal';\nimport StakingInfoContent from './StakingInfoContent';\n\nimport styles from './Staking.module.scss';\n\ninterface OwnProps {\n  isOpen?: boolean;\n  onClose: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  isUnstakeRequested?: boolean;\n  hasHistory?: boolean;\n}\n\nconst UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec\n\nfunction StakingInfoModal({\n  isOpen,\n  isUnstakeRequested,\n  hasHistory,\n  onClose,\n}: OwnProps & StateProps) {\n  const { fetchStakingHistory } = getActions();\n\n  const forceUpdate = useForceUpdate();\n\n  useInterval(forceUpdate, isUnstakeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchStakingHistory();\n    }\n  }, [fetchStakingHistory, isOpen]);\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      contentClassName={buildClassName(styles.stakingInfoModalContent)}\n      nativeBottomSheetKey=\"staking-info\"\n      onClose={onClose}\n      forceFullNative={hasHistory}\n    >\n      <StakingInfoContent isActive={isOpen} onClose={onClose} />\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n\n  return {\n    isUnstakeRequested: accountState?.staking?.isUnstakeRequested,\n    hasHistory: accountState?.stakingHistory && accountState.stakingHistory.length > 0,\n  };\n})(StakingInfoModal));\n","import { Dialog } from 'native-dialog';\nimport React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { StakingState, type UserToken } from '../../global/types';\n\nimport {\n  ANIMATED_STICKER_MIDDLE_SIZE_PX,\n  ANIMATED_STICKER_SMALL_SIZE_PX,\n  DEFAULT_DECIMAL_PLACES,\n  DEFAULT_FEE,\n  NOMINATORS_STAKING_MIN_AMOUNT,\n  ONE_TON,\n  STAKING_MIN_AMOUNT,\n  TONCOIN_SLUG,\n} from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport { selectCurrentAccountState, selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\nimport { fromDecimal, toBig, toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport { throttle } from '../../util/schedulers';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useSyncEffect from '../../hooks/useSyncEffect';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport RichNumberField from '../ui/RichNumberField';\nimport RichNumberInput from '../ui/RichNumberInput';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Staking.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isStatic?: boolean;\n}\n\ninterface StateProps {\n  isLoading?: boolean;\n  apiError?: string;\n  tokens?: UserToken[];\n  fee?: bigint;\n  stakingBalance: bigint;\n  apyValue: number;\n  shouldUseNominators?: boolean;\n}\n\nexport const STAKING_DECIMAL = 2;\n\nconst ACTIVE_STATES = new Set([StakingState.StakeInitial, StakingState.None]);\n\nconst runThrottled = throttle((cb) => cb(), 1500, true);\n\nconst TWO_TON = 2n * ONE_TON;\nconst MINIMUM_REQUIRED_AMOUNT_TON = 3n * ONE_TON + (ONE_TON / 10n);\n\nfunction StakingInitial({\n  isActive,\n  isStatic,\n  isLoading,\n  apiError,\n  tokens,\n  fee,\n  stakingBalance,\n  apyValue,\n  shouldUseNominators,\n}: OwnProps & StateProps) {\n  const { submitStakingInitial, fetchStakingFee } = getActions();\n\n  const lang = useLang();\n\n  const [isStakingInfoModalOpen, openStakingInfoModal, closeStakingInfoModal] = useFlag();\n  const [amount, setAmount] = useState<bigint | undefined>();\n  const [isNotEnough, setIsNotEnough] = useState<boolean>(false);\n  const [isInsufficientBalance, setIsInsufficientBalance] = useState<boolean>(false);\n  const [isInsufficientFee, setIsInsufficientFee] = useState(false);\n  const [isBelowMinimumAmount, setIsBelowMinimumAmount] = useState(false);\n  const [shouldUseAllBalance, setShouldUseAllBalance] = useState<boolean>(false);\n\n  const {\n    amount: balance, symbol,\n  } = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens]) || {};\n  const hasAmountError = Boolean(isInsufficientBalance || apiError);\n  const calculatedFee = fee ?? DEFAULT_FEE;\n  const decimals = DEFAULT_DECIMAL_PLACES;\n\n  const minAmount = shouldUseNominators ? NOMINATORS_STAKING_MIN_AMOUNT : STAKING_MIN_AMOUNT;\n\n  const shouldRenderBalanceWithSmallFee = balance && balance >= MINIMUM_REQUIRED_AMOUNT_TON;\n  const availableBalance = shouldRenderBalanceWithSmallFee\n    ? balance - TWO_TON\n    : balance && balance > ONE_TON\n      ? balance - ONE_TON\n      : balance;\n\n  const validateAndSetAmount = useLastCallback((newAmount: bigint | undefined, noReset = false) => {\n    if (!noReset) {\n      setShouldUseAllBalance(false);\n      setIsNotEnough(false);\n      setIsInsufficientBalance(false);\n      setIsBelowMinimumAmount(false);\n      setIsInsufficientFee(false);\n    }\n\n    if (newAmount === undefined) {\n      setAmount(undefined);\n      return;\n    }\n\n    if (Number.isNaN(newAmount) || newAmount < 0) {\n      setIsNotEnough(true);\n      return;\n    }\n\n    if (newAmount < minAmount) {\n      setIsBelowMinimumAmount(true);\n    } else if (!availableBalance || newAmount + calculatedFee > availableBalance) {\n      setIsInsufficientBalance(true);\n    } else if (newAmount >= minAmount && newAmount < TWO_TON && !shouldRenderBalanceWithSmallFee) {\n      setIsInsufficientFee(true);\n    } else if (availableBalance + stakingBalance < minAmount) {\n      setIsNotEnough(true);\n    }\n\n    setAmount(newAmount);\n  });\n\n  useEffect(() => {\n    if (shouldUseAllBalance && availableBalance) {\n      const newAmount = availableBalance - calculatedFee;\n\n      validateAndSetAmount(newAmount, true);\n    } else {\n      validateAndSetAmount(amount, true);\n    }\n  }, [amount, fee, shouldUseAllBalance, validateAndSetAmount, calculatedFee, availableBalance]);\n\n  useEffect(() => {\n    if (!amount) {\n      return;\n    }\n\n    runThrottled(() => {\n      fetchStakingFee({\n        amount,\n      });\n    });\n  }, [amount, fetchStakingFee]);\n\n  useSyncEffect(() => {\n    if (!IS_DELEGATED_BOTTOM_SHEET) return;\n\n    if (isStakingInfoModalOpen) {\n      Dialog.alert({\n        title: lang('Why is staking safe?'),\n        message: [\n          `1. ${lang('$safe_staking_description1')}`,\n          `2. ${lang('$safe_staking_description2')}`,\n          `3. ${lang('$safe_staking_description3')}`,\n        ].join('\\n\\n').replace(/\\*\\*/g, ''),\n      })\n        .then(closeStakingInfoModal);\n    }\n  }, [isStakingInfoModalOpen, lang]);\n\n  const handleAmountBlur = useLastCallback(() => {\n    if (amount && amount + stakingBalance < minAmount) {\n      setIsNotEnough(true);\n    }\n  });\n\n  const handleMaxAmountClick = useLastCallback((e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!availableBalance) {\n      return;\n    }\n\n    vibrate();\n\n    setShouldUseAllBalance(true);\n  });\n\n  const canSubmit = amount && availableBalance && !isNotEnough && !isBelowMinimumAmount && !isInsufficientFee\n    && amount <= availableBalance\n    && (amount + stakingBalance >= minAmount);\n\n  const handleSubmit = useLastCallback((e) => {\n    e.preventDefault();\n\n    if (!canSubmit) {\n      return;\n    }\n\n    vibrate();\n\n    submitStakingInitial({ amount });\n  });\n\n  const handleAmountChange = useLastCallback((stringValue?: string) => {\n    const value = stringValue ? fromDecimal(stringValue, decimals) : undefined;\n    validateAndSetAmount(value);\n  });\n\n  function getError() {\n    if (isInsufficientBalance) {\n      return lang('Insufficient balance');\n    }\n\n    if (isInsufficientFee) {\n      return lang('$insufficient_fee', { fee: formatCurrency(toDecimal(ONE_TON), symbol ?? '') });\n    }\n\n    if (isBelowMinimumAmount) {\n      return lang('$min_value', {\n        value: (\n          <span className={styles.minAmountValue}>\n            {formatCurrency(toDecimal(minAmount), symbol ?? '')}\n          </span>\n        ),\n      });\n    }\n\n    return apiError ? lang(apiError) : undefined;\n  }\n\n  function renderTopRight() {\n    if (!symbol) return undefined;\n\n    const hasBalance = availableBalance !== undefined;\n    const balanceButton = lang('$max_balance', {\n      balance: (\n        <div\n          role=\"button\"\n          tabIndex={0}\n          className={styles.balanceLink}\n          onClick={handleMaxAmountClick}\n        >\n          {hasBalance ? formatCurrency(toDecimal(availableBalance, decimals), symbol) : lang('Loading...')}\n        </div>\n      ),\n    });\n\n    return (\n      <Transition\n        className={buildClassName(styles.amountTopRight, isStatic && styles.amountTopRight_static)}\n        slideClassName={styles.amountTopRight_slide}\n        name=\"fade\"\n        activeKey={0}\n      >\n        <div className={styles.balanceContainer}>\n          <span className={styles.balance}>\n            {balanceButton}\n          </span>\n        </div>\n      </Transition>\n    );\n  }\n\n  function renderBottomRight() {\n    const error = getError();\n\n    const activeKey = isInsufficientBalance ? 0\n      : isInsufficientFee ? 1\n        : isBelowMinimumAmount ? 2\n          : apiError ? 3\n            : !stakingBalance && !hasAmountError ? 4\n              : 5;\n\n    return (\n      <Transition\n        className={buildClassName(styles.amountBottomRight, isNotEnough && styles.amountBottomRight_error)}\n        slideClassName={styles.amountBottomRight_slide}\n        name=\"fade\"\n        activeKey={activeKey}\n      >\n        {error ? (\n          <span className={styles.balanceError}>{error}</span>\n        ) : (\n          lang('$min_value', {\n            value: (\n              <span className={styles.minAmountValue}>\n                {formatCurrency(toDecimal(minAmount), 'TON')}\n              </span>\n            ),\n          })\n        )}\n      </Transition>\n    );\n  }\n\n  function renderStakingSafeModal() {\n    if (IS_DELEGATED_BOTTOM_SHEET) return undefined;\n\n    return (\n      <Modal\n        isCompact\n        isOpen={isStakingInfoModalOpen}\n        title={lang('Why is staking safe?')}\n        onClose={closeStakingInfoModal}\n        dialogClassName={styles.stakingSafeDialog}\n      >\n        <p className={modalStyles.text}>\n          {renderText(lang('$safe_staking_description1'))}\n        </p>\n        <p className={modalStyles.text}>\n          {renderText(lang('$safe_staking_description2'))}\n        </p>\n        <p className={modalStyles.text}>\n          {renderText(lang('$safe_staking_description3'))}\n        </p>\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={closeStakingInfoModal}>{lang('Close')}</Button>\n        </div>\n      </Modal>\n    );\n  }\n\n  function renderStakingResult() {\n    const balanceResult = amount\n      ? toBig(amount).mul((apyValue / 100) + 1).round(STAKING_DECIMAL).toString()\n      : '0';\n\n    return (\n      <RichNumberField\n        labelText={lang('Est. balance in a year')}\n        zeroValue=\"...\"\n        value={balanceResult}\n        decimals={decimals}\n        className={styles.balanceResultWrapper}\n        inputClassName={buildClassName(styles.balanceResultInput, isStatic && styles.inputRichStatic)}\n        labelClassName={styles.balanceResultLabel}\n        valueClassName={styles.balanceResult}\n      />\n    );\n  }\n\n  return (\n    <form\n      className={isStatic ? undefined : modalStyles.transitionContent}\n      onSubmit={handleSubmit}\n    >\n      <div className={buildClassName(styles.welcome, isStatic && styles.welcome_static)}>\n        <AnimatedIconWithPreview\n          size={isStatic ? ANIMATED_STICKER_MIDDLE_SIZE_PX : ANIMATED_STICKER_SMALL_SIZE_PX}\n          play={isActive}\n          noLoop={false}\n          nonInteractive\n          className={buildClassName(styles.sticker, isStatic && styles.sticker_static)}\n          tgsUrl={ANIMATED_STICKERS_PATHS.wait}\n          previewUrl={ANIMATED_STICKERS_PATHS.waitPreview}\n        />\n        <div className={buildClassName(styles.welcomeInformation, isStatic && styles.welcomeInformation_static)}>\n          <div>{lang('Earn from your tokens while holding them')}</div>\n          <div className={styles.stakingApy}>{lang('$est_apy_val', apyValue)}</div>\n          <Button isText className={styles.textButton} onClick={openStakingInfoModal}>\n            {lang('Why this is safe')}\n          </Button>\n        </div>\n      </div>\n\n      {renderTopRight()}\n      <RichNumberInput\n        key=\"staking_amount\"\n        id=\"staking_amount\"\n        hasError={isNotEnough || isInsufficientBalance}\n        value={amount === undefined ? undefined : toDecimal(amount)}\n        labelText={lang('Amount')}\n        onBlur={handleAmountBlur}\n        onChange={handleAmountChange}\n        onPressEnter={handleSubmit}\n        decimals={decimals}\n        inputClassName={isStatic ? styles.inputRichStatic : undefined}\n        className={styles.amountInput}\n      >\n        <div className={styles.ton}>\n          <img src={ASSET_LOGO_PATHS.ton} alt=\"\" className={styles.tonIcon} />\n          <span className={styles.tonName}>{symbol}</span>\n        </div>\n      </RichNumberInput>\n      <div className={buildClassName(styles.amountBottomWrapper, isStatic && styles.amountBottomWrapper_static)}>\n        <div className={styles.amountBottom}>\n          {renderBottomRight()}\n        </div>\n      </div>\n\n      {renderStakingResult()}\n\n      <div className={modalStyles.buttons}>\n        <Button\n          isPrimary\n          isSubmit\n          isDisabled={!canSubmit}\n          isLoading={isLoading}\n        >\n          {lang('Stake TON')}\n        </Button>\n      </div>\n      {renderStakingSafeModal()}\n    </form>\n  );\n}\n\nexport default memo(\n  withGlobal(\n    (global): StateProps => {\n      const {\n        state,\n        isLoading,\n        fee,\n        error: apiError,\n      } = global.staking;\n      const tokens = selectCurrentAccountTokens(global);\n      const accountState = selectCurrentAccountState(global);\n      const shouldUseNominators = accountState?.staking?.type === 'nominators';\n\n      return {\n        isLoading: isLoading && ACTIVE_STATES.has(state),\n        tokens,\n        apiError,\n        fee,\n        stakingBalance: accountState?.staking?.balance || 0n,\n        apyValue: accountState?.staking?.apy || 0,\n        shouldUseNominators,\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(StakingInitial),\n);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { UserToken } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { formatHumanDay, formatTime } from '../../util/dateFormat';\nimport { formatCurrencyExtended } from '../../util/formatNumber';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './StakingProfileItem.module.scss';\n\ninterface OwnProps {\n  tonToken: UserToken;\n  timestamp: number;\n  profit: string;\n}\n\nfunction StakingProfitItem({ tonToken, timestamp, profit }: OwnProps) {\n  const lang = useLang();\n\n  return (\n    <div className={styles.item}>\n      <i className={buildClassName(styles.icon, 'icon-earn')} aria-hidden />\n      <div className={styles.leftBlock}>\n        <div className={styles.operationName}>{lang('Earned')}</div>\n        <div className={styles.date}>{formatHumanDay(lang, timestamp)}, {formatTime(timestamp)}</div>\n      </div>\n      <div className={styles.amount}>\n        {formatCurrencyExtended(profit, tonToken.symbol)}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(StakingProfitItem);\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiBaseCurrency, ApiStakingType } from '../../api/types';\nimport type { GlobalState, HardwareConnectState, UserToken } from '../../global/types';\nimport { StakingState } from '../../global/types';\n\nimport {\n  IS_CAPACITOR,\n  MIN_BALANCE_FOR_UNSTAKE, STAKING_CYCLE_DURATION_MS, TON_SYMBOL, TONCOIN_SLUG,\n} from '../../config';\nimport { Big } from '../../lib/big.js';\nimport {\n  selectAccountState,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectIsHardwareAccount,\n} from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { formatRelativeHumanDateTime } from '../../util/dateFormat';\nimport { fromDecimal, toBig, toDecimal } from '../../util/decimals';\nimport {\n  formatCurrency, formatCurrencySimple, getShortCurrencySymbol,\n} from '../../util/formatNumber';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useInterval from '../../hooks/useInterval';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport useSyncEffect from '../../hooks/useSyncEffect';\n\nimport TransferResult from '../common/TransferResult';\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\nimport RichNumberInput from '../ui/RichNumberInput';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Staking.module.scss';\n\ntype StateProps = GlobalState['staking'] & {\n  tokens?: UserToken[];\n  stakingType?: ApiStakingType;\n  stakingBalance?: bigint;\n  endOfStakingCycle?: number;\n  stakingInfo: GlobalState['stakingInfo'];\n  baseCurrency?: ApiBaseCurrency;\n  shouldUseNominators?: boolean;\n  isHardwareAccount?: boolean;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n};\n\nconst IS_OPEN_STATES = new Set([\n  StakingState.UnstakeInitial,\n  StakingState.UnstakePassword,\n  StakingState.UnstakeConnectHardware,\n  StakingState.UnstakeConfirmHardware,\n  StakingState.UnstakeComplete,\n  StakingState.NotEnoughBalance,\n]);\n\nconst FULL_SIZE_NBS_STATES = new Set([\n  StakingState.UnstakePassword,\n  StakingState.UnstakeConnectHardware,\n  StakingState.UnstakeConfirmHardware,\n]);\n\nconst UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec\n\nfunction UnstakeModal({\n  state,\n  isLoading,\n  error,\n  tokens,\n  stakingType,\n  stakingBalance,\n  endOfStakingCycle,\n  stakingInfo,\n  baseCurrency,\n  shouldUseNominators,\n  isHardwareAccount,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n  amount,\n}: StateProps) {\n  const {\n    setStakingScreen,\n    cancelStaking,\n    clearStakingError,\n    submitStakingInitial,\n    submitStakingPassword,\n    submitStakingHardware,\n    fetchStakingHistory,\n    openReceiveModal,\n  } = getActions();\n\n  const lang = useLang();\n  const isOpen = IS_OPEN_STATES.has(state);\n\n  const tonToken = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens]);\n\n  const [renderedBalance, setRenderedBalance] = useState(tonToken?.amount);\n  const [hasAmountError, setHasAmountError] = useState<boolean>(false);\n\n  const [isLongUnstake, setIsLongUnstake] = useState(false);\n\n  const [isInsufficientBalance, setIsInsufficientBalance] = useState(false);\n\n  const [unstakeAmount, setUnstakeAmount] = useState(shouldUseNominators ? stakingBalance : undefined);\n  const [successUnstakeAmount, setSuccessUnstakeAmount] = useState<bigint | undefined>(undefined);\n\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  useEffect(() => {\n    const isInstantUnstake = Boolean(\n      stakingType === 'liquid' && (stakingBalance ?? 0n) < (stakingInfo.liquid?.instantAvailable ?? 0n),\n    );\n\n    setIsLongUnstake(!isInstantUnstake);\n  }, [stakingType, stakingBalance, stakingInfo]);\n\n  const [unstakeDate, setUnstakeDate] = useState<number>(Date.now() + STAKING_CYCLE_DURATION_MS);\n  const hasBalanceForUnstake = tonToken && tonToken.amount >= MIN_BALANCE_FOR_UNSTAKE;\n  const forceUpdate = useForceUpdate();\n\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n\n  const amountInCurrency = tonToken && tonToken.price && unstakeAmount\n    ? toBig(unstakeAmount, tonToken.decimals).mul(tonToken.price).round(tonToken.decimals, Big.roundHalfUp).toString()\n    : undefined;\n  const renderingAmountInCurrency = useCurrentOrPrev(amountInCurrency, true);\n  const isUnstakeDisabled = !hasBalanceForUnstake || isInsufficientBalance || !unstakeAmount;\n\n  const { shouldRender: shouldRenderCurrency, transitionClassNames: currencyClassNames } = useShowTransition(\n    Boolean(amountInCurrency),\n  );\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchStakingHistory();\n      setUnstakeAmount(shouldUseNominators ? stakingBalance : undefined);\n      setHasAmountError(false);\n      setIsInsufficientBalance(false);\n    }\n  }, [isOpen, fetchStakingHistory, shouldUseNominators, stakingBalance]);\n\n  useSyncEffect(() => {\n    if (endOfStakingCycle) {\n      setUnstakeDate(endOfStakingCycle);\n    }\n  }, [endOfStakingCycle]);\n\n  const refreshUnstakeDate = useLastCallback(() => {\n    if (unstakeDate < Date.now()) {\n      fetchStakingHistory();\n    }\n    forceUpdate();\n  });\n\n  useInterval(refreshUnstakeDate, UPDATE_UNSTAKE_DATE_INTERVAL_MS);\n\n  const handleBackClick = useLastCallback(() => {\n    if (state === StakingState.UnstakePassword) {\n      setStakingScreen({ state: StakingState.UnstakeInitial });\n    }\n  });\n\n  const handleStartUnstakeClick = useLastCallback(() => {\n    submitStakingInitial({ isUnstaking: true, amount: unstakeAmount });\n  });\n\n  const handleTransferSubmit = useLastCallback((password: string) => {\n    setSuccessUnstakeAmount(amount);\n    setRenderedBalance(tonToken?.amount);\n\n    submitStakingPassword({ password, isUnstaking: true });\n  });\n\n  const handleLedgerConnect = useLastCallback(() => {\n    setSuccessUnstakeAmount(amount);\n    submitStakingHardware({ isUnstaking: true });\n  });\n\n  const handleGetTon = useLastCallback(() => {\n    cancelStaking();\n    openReceiveModal();\n  });\n\n  function renderUnstakingShortInfo() {\n    if (!tonToken || !unstakeAmount) return undefined;\n\n    const logoPath = tonToken.image || ASSET_LOGO_PATHS[tonToken.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const className = buildClassName(\n      styles.stakingShortInfo,\n      styles.unstake,\n      !IS_CAPACITOR && styles.stakingShortInfoInsidePasswordForm,\n    );\n\n    return (\n      <div className={className}>\n        <img src={logoPath} alt={tonToken.symbol} className={styles.tokenIcon} />\n        <span>{formatCurrency(toDecimal(unstakeAmount), tonToken.symbol)}</span>\n      </div>\n    );\n  }\n\n  const validateAndSetAmount = useLastCallback(\n    (newAmount: bigint | undefined, noReset = false) => {\n      if (!noReset) {\n        setHasAmountError(false);\n        setIsInsufficientBalance(false);\n      }\n\n      if (newAmount === undefined) {\n        setUnstakeAmount(undefined);\n        return;\n      }\n\n      if (newAmount < 0) {\n        setHasAmountError(true);\n        return;\n      }\n\n      if (!stakingBalance || newAmount > stakingBalance) {\n        setHasAmountError(true);\n        setIsInsufficientBalance(true);\n      }\n\n      setUnstakeAmount(newAmount);\n    },\n  );\n\n  const handleMaxAmountClick = useLastCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      e.preventDefault();\n\n      if (!stakingBalance) {\n        return;\n      }\n\n      validateAndSetAmount(stakingBalance);\n    },\n  );\n\n  const handleAmountChange = useLastCallback((stringValue?: string) => {\n    const value = stringValue ? fromDecimal(stringValue, tonToken?.decimals) : undefined;\n    validateAndSetAmount(value);\n  });\n\n  function renderBalance() {\n    return (\n      <div className={styles.balanceContainer}>\n        <span className={styles.balance}>\n          {lang('$all_balance', {\n            balance: (\n              <a href=\"#\" onClick={handleMaxAmountClick} className={styles.balanceLink}>\n                {\n                  stakingBalance !== undefined\n                    ? formatCurrencySimple(stakingBalance, tonToken?.symbol!, tonToken?.decimals!)\n                    : lang('Loading...')\n                }\n              </a>\n            ),\n          })}\n        </span>\n      </div>\n    );\n  }\n\n  function renderCurrencyValue() {\n    return (\n      <span className={buildClassName(styles.amountInCurrency, currencyClassNames)}>\n        &thinsp;{formatCurrency(renderingAmountInCurrency || '0', shortBaseSymbol)}\n      </span>\n    );\n  }\n\n  function renderBottomRight() {\n    const instantAvailable = stakingInfo.liquid?.instantAvailable;\n\n    const activeKey = isInsufficientBalance ? 0\n      : !hasBalanceForUnstake ? 1\n        : instantAvailable ? 2\n          : 3;\n\n    const insufficientBalanceText = <span className={styles.balanceError}>{lang('Insufficient balance')}</span>;\n    const insufficientFeeText = (\n      <span className={styles.balanceError}>\n        {lang('$insufficient_fee', {\n          fee: formatCurrency(toBig(MIN_BALANCE_FOR_UNSTAKE), TON_SYMBOL),\n        })}\n      </span>\n    );\n    const instantAvailableText = instantAvailable\n      ? (\n        lang('$unstake_up_to_information', {\n          value: formatCurrency(toDecimal(instantAvailable, tonToken?.decimals), TON_SYMBOL),\n        })\n      ) : ' ';\n\n    const content = isInsufficientBalance ? insufficientBalanceText\n      : !hasBalanceForUnstake ? insufficientFeeText\n        : instantAvailable ? instantAvailableText\n          : ' ';\n\n    return (\n      <Transition\n        className={styles.amountBottomRight}\n        slideClassName={styles.amountBottomRight_slide}\n        name=\"fade\"\n        activeKey={activeKey}\n      >\n        {content}\n      </Transition>\n    );\n  }\n\n  function renderUnstakeTimer() {\n    return (\n      <div className={buildClassName(styles.unstakeTime)}>\n        <i className={buildClassName(styles.unstakeTimeIcon, 'icon-clock')} aria-hidden />\n        <div>\n          {lang('$unstaking_when_receive', {\n            time: (\n              <strong>\n                {formatRelativeHumanDateTime(lang.code, unstakeDate)}\n              </strong>\n            ),\n          })}\n        </div>\n      </div>\n    );\n  }\n\n  function renderUnstakeInfo() {\n    const shouldShowInfo = !isInsufficientBalance && unstakeAmount;\n\n    return (\n      <Transition name=\"fade\" activeKey={!shouldShowInfo ? 0 : !isLongUnstake ? 1 : 2}>\n        {!shouldShowInfo ? undefined\n          : (\n            !isLongUnstake\n              ? (\n                <div className={styles.unstakeInfo}>\n                  {lang('$unstake_information_instantly')}\n                </div>\n              )\n              : renderUnstakeTimer()\n          )}\n      </Transition>\n    );\n  }\n\n  function renderNotEnoughBalance(isActive: boolean) {\n    return (\n      <>\n        <ModalHeader title={lang('Unstake TON')} onClose={cancelStaking} />\n        <div className={buildClassName(modalStyles.transitionContent, styles.notEnoughBalanceContent)}>\n          <AnimatedIconWithPreview\n            play={isActive}\n            tgsUrl={ANIMATED_STICKERS_PATHS.forge}\n            previewUrl={ANIMATED_STICKERS_PATHS.forgePreview}\n            noLoop={false}\n            nonInteractive\n            className={styles.sticker}\n          />\n          <div className={styles.notEnoughBalanceText}>\n            {lang('$unstaking_not_enough_balance', {\n              value: (\n                <span className={styles.notEnoughBalanceTextBold}>\n                  {formatCurrency(toBig(MIN_BALANCE_FOR_UNSTAKE), TON_SYMBOL)}\n                </span>\n              ),\n            })}\n          </div>\n          <div className={modalStyles.buttons}>\n            <Button\n              isPrimary\n              className={modalStyles.button}\n              onClick={handleGetTon}\n            >\n              {lang('Get TON')}\n            </Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderInitial() {\n    return (\n      <>\n        <ModalHeader title={lang('Unstake TON')} onClose={cancelStaking} />\n        <div className={modalStyles.transitionContent}>\n          {!isHardwareAccount && renderBalance()}\n          <RichNumberInput\n            key=\"unstaking_amount\"\n            id=\"unstaking_amount\"\n            hasError={hasAmountError}\n            value={unstakeAmount === undefined ? undefined : toDecimal(unstakeAmount, tonToken?.decimals)}\n            labelText={lang('Amount to unstake')}\n            onChange={handleAmountChange}\n            className={styles.amountInput}\n            decimals={tonToken?.decimals}\n            disabled={shouldUseNominators}\n          >\n            <div className={styles.ton}>\n              <img src={ASSET_LOGO_PATHS.ton} alt=\"\" className={styles.tonIcon} />\n              <span className={styles.tonName}>{tonToken?.symbol}</span>\n            </div>\n          </RichNumberInput>\n\n          <div className={styles.amountBottomWrapper}>\n            <div className={styles.amountBottom}>\n              {shouldRenderCurrency && renderCurrencyValue()}\n              {renderBottomRight()}\n            </div>\n          </div>\n\n          {renderUnstakeInfo()}\n\n          <div className={modalStyles.buttons}>\n            <Button\n              isPrimary\n              isLoading={isLoading}\n              isDisabled={isUnstakeDisabled}\n              onClick={handleStartUnstakeClick}\n            >\n              {lang('Unstake')}\n            </Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  function renderPassword(isActive: boolean) {\n    return (\n      <>\n        {!IS_CAPACITOR && <ModalHeader title={lang('Confirm Unstaking')} onClose={cancelStaking} />}\n        <PasswordForm\n          isActive={isActive}\n          isLoading={isLoading}\n          withCloseButton={IS_CAPACITOR}\n          operationType=\"unstaking\"\n          error={error}\n          placeholder=\"Confirm operation with your password\"\n          submitLabel={lang('Confirm')}\n          cancelLabel={lang('Back')}\n          onSubmit={handleTransferSubmit}\n          onCancel={handleBackClick}\n          onUpdate={clearStakingError}\n        >\n          {renderUnstakingShortInfo()}\n        </PasswordForm>\n      </>\n    );\n  }\n\n  function renderComplete(isActive: boolean) {\n    return (\n      <>\n        <ModalHeader\n          title={lang('Request for unstaking is sent!')}\n          onClose={cancelStaking}\n        />\n\n        <div className={modalStyles.transitionContent}>\n          <TransferResult\n            color=\"green\"\n            playAnimation={isActive}\n            amount={successUnstakeAmount}\n            noSign\n            balance={renderedBalance}\n            operationAmount={successUnstakeAmount}\n          />\n\n          {isLongUnstake && renderUnstakeTimer()}\n\n          <div className={modalStyles.buttons}>\n            <Button onClick={cancelStaking} isPrimary>{lang('Close')}</Button>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case StakingState.NotEnoughBalance:\n        return renderNotEnoughBalance(isActive);\n\n      case StakingState.UnstakeInitial:\n        return renderInitial();\n\n      case StakingState.UnstakePassword:\n        return renderPassword(isActive);\n\n      case StakingState.UnstakeConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            onConnected={handleLedgerConnect}\n            onClose={cancelStaking}\n          />\n        );\n\n      case StakingState.UnstakeConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            text={lang('Please confirm operation on your Ledger')}\n            error={error}\n            onClose={cancelStaking}\n            onTryAgain={handleLedgerConnect}\n          />\n        );\n\n      case StakingState.UnstakeComplete:\n        return renderComplete(isActive);\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      hasCloseButton\n      noBackdropClose\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"unstake\"\n      forceFullNative={FULL_SIZE_NBS_STATES.has(renderingKey)}\n      onClose={cancelStaking}\n      onCloseAnimationEnd={updateNextKey}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const tokens = selectCurrentAccountTokens(global);\n  const currentAccountState = selectCurrentAccountState(global);\n  const baseCurrency = global.settings.baseCurrency;\n  const accountState = selectAccountState(global, global.currentAccountId!);\n  const shouldUseNominators = accountState?.staking?.type === 'nominators';\n  const isHardwareAccount = selectIsHardwareAccount(global);\n\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    ...global.staking,\n    tokens,\n    stakingType: currentAccountState?.staking?.type,\n    stakingBalance: currentAccountState?.staking?.balance,\n    endOfStakingCycle: currentAccountState?.staking?.end,\n    stakingInfo: global.stakingInfo,\n    baseCurrency,\n    shouldUseNominators,\n    isHardwareAccount,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  };\n})(UnstakeModal));\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { SwapState, SwapType, type UserSwapToken } from '../../global/types';\n\nimport { ANIMATED_STICKER_BIG_SIZE_PX, IS_FIREFOX_EXTENSION } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\nimport { readClipboardContent } from '../../util/clipboard';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport getBlockchainNetworkName from '../../util/swap/getBlockchainNetworkName';\nimport { IS_FIREFOX } from '../../util/windowEnvironment';\nimport { callApi } from '../../api';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useFlag from '../../hooks/useFlag';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useQrScannerSupport from '../../hooks/useQrScannerSupport';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport Input from '../ui/Input';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  swapType?: SwapType;\n  toAddress?: string;\n  tokenIn?: UserSwapToken;\n  tokenOut?: UserSwapToken;\n}\n\nconst SHORT_ADDRESS_SHIFT = 14;\nconst MIN_ADDRESS_LENGTH_TO_SHORTEN = SHORT_ADDRESS_SHIFT * 2;\n\nfunction SwapBlockchain({\n  isActive,\n  swapType,\n  toAddress = '',\n  tokenIn,\n  tokenOut,\n}: OwnProps) {\n  const {\n    cancelSwap, setSwapCexAddress,\n    showNotification, setSwapScreen,\n    requestOpenQrScanner,\n  } = getActions();\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n\n  // eslint-disable-next-line no-null/no-null\n  const toAddressRef = useRef<HTMLInputElement>(null);\n\n  // Note: As of 27-11-2023, Firefox does not support readText()\n  const [shouldRenderPasteButton, setShouldRenderPasteButton] = useState(!(IS_FIREFOX || IS_FIREFOX_EXTENSION));\n  const [isAddressFocused, markAddressFocused, unmarkAddressFocused] = useFlag();\n  const [hasToAddressError, setHasToAddressError] = useState(false);\n  const [canContinue, setCanContinue] = useState(swapType !== SwapType.CrosschainFromToncoin);\n\n  const isQrScannerSupported = useQrScannerSupport();\n\n  const withPasteButton = shouldRenderPasteButton && toAddress === '';\n\n  const toAddressShort = toAddress.length > MIN_ADDRESS_LENGTH_TO_SHORTEN\n    ? shortenAddress(toAddress, SHORT_ADDRESS_SHIFT) || ''\n    : toAddress;\n\n  const handleCancelClick = useLastCallback(() => {\n    setHasToAddressError(false);\n    setCanContinue(false);\n    setSwapScreen({ state: isPortrait ? SwapState.Initial : SwapState.None });\n  });\n\n  useHistoryBack({\n    isActive,\n    onBack: handleCancelClick,\n  });\n\n  const handleAddressFocus = useLastCallback(() => {\n    const el = toAddressRef.current!;\n\n    // `selectionStart` is only updated in the next frame after `focus` event\n    requestAnimationFrame(() => {\n      const caretPosition = el.selectionStart!;\n      markAddressFocused();\n\n      // Restore caret position after input field value has been focused and expanded\n      requestAnimationFrame(() => {\n        const newCaretPosition = caretPosition <= SHORT_ADDRESS_SHIFT + 3\n          ? caretPosition\n          : Math.max(0, el.value.length - (toAddressShort.length - caretPosition));\n\n        el.setSelectionRange(newCaretPosition, newCaretPosition);\n        if (newCaretPosition > SHORT_ADDRESS_SHIFT * 2) {\n          el.scrollLeft = el.scrollWidth - el.clientWidth;\n        }\n      });\n    });\n  });\n\n  const validateToAddress = useLastCallback(async (address: string) => {\n    if (!address.length) {\n      setHasToAddressError(false);\n      setCanContinue(false);\n      return;\n    }\n\n    const response = await callApi('swapCexValidateAddress', {\n      slug: tokenOut?.slug!,\n      address,\n    });\n\n    if (!response) {\n      setHasToAddressError(false);\n      setCanContinue(false);\n      return;\n    }\n\n    setHasToAddressError(!response.result);\n    setCanContinue(response.result);\n  });\n\n  const handleAddressBlur = useLastCallback(() => {\n    unmarkAddressFocused();\n  });\n\n  const handleAddressInput = useLastCallback((newToAddress: string) => {\n    setSwapCexAddress({ toAddress: newToAddress.trim() });\n  });\n\n  const handlePasteClick = useLastCallback(async () => {\n    try {\n      const { type, text } = await readClipboardContent();\n\n      if (type === 'text/plain') {\n        setSwapCexAddress({ toAddress: text.trim() });\n        validateToAddress(text.trim());\n      }\n    } catch (error) {\n      showNotification({\n        message: lang('Error reading clipboard'),\n      });\n      setShouldRenderPasteButton(false);\n    }\n  });\n\n  useEffect(() => {\n    validateToAddress(toAddress);\n  }, [toAddress, validateToAddress]);\n\n  const submitPassword = useLastCallback(() => {\n    vibrate();\n    setSwapScreen({ state: SwapState.Password });\n  });\n\n  const handleQrScanClick = useLastCallback(() => {\n    requestOpenQrScanner();\n    cancelSwap();\n  });\n\n  function renderInfo() {\n    const text = hasToAddressError\n      ? lang('Incorrect address.')\n      : lang('Please provide an address of your wallet in %blockchain% blockchain to receive bought tokens.', {\n        blockchain: getBlockchainNetworkName(tokenOut?.blockchain),\n      });\n\n    return (\n      <Transition\n        name=\"fade\"\n        activeKey={hasToAddressError ? 0 : 1}\n        slideClassName={styles.blockchainHintWrapper}\n      >\n        <span className={buildClassName(\n          styles.blockchainHintText,\n          hasToAddressError && styles.blockchainHintTextError,\n        )}\n        >\n          {text}\n        </span>\n      </Transition>\n    );\n  }\n\n  function renderInputAddress() {\n    if (swapType !== SwapType.CrosschainFromToncoin) return undefined;\n\n    return (\n      <>\n        <div className={styles.inputAddress}>\n          <Input\n            ref={toAddressRef}\n            isRequired\n            placeholder={lang('Your address on another blockchain')}\n            value={isAddressFocused ? toAddress : toAddressShort}\n            onInput={handleAddressInput}\n            onFocus={handleAddressFocus}\n            onBlur={handleAddressBlur}\n            wrapperClassName={styles.inputAddressWrapper}\n          >\n            {isQrScannerSupported && (\n              <Button\n                isSimple\n                className={buildClassName(styles.inputButton, withPasteButton && styles.inputButtonShifted)}\n                onClick={handleQrScanClick}\n                ariaLabel={lang('Scan QR Code')}\n              >\n                <i className=\"icon-qr-scanner-alt\" aria-hidden />\n              </Button>\n            )}\n            {withPasteButton && (\n              <Button isSimple className={styles.inputButton} onClick={handlePasteClick} ariaLabel={lang('Paste')}>\n                <i className=\"icon-paste\" aria-hidden />\n              </Button>\n            )}\n          </Input>\n        </div>\n        {renderInfo()}\n      </>\n    );\n  }\n\n  const title = (lang('$swap_from_to', {\n    from: tokenIn?.symbol,\n    to: tokenOut?.symbol,\n  }) as TeactNode[]).join('');\n\n  return (\n    <>\n      <ModalHeader title={title} onClose={cancelSwap} />\n      <div className={buildClassName(styles.scrollContent, styles.selectBlockchainBlock, 'custom-scroll')}>\n        <AnimatedIconWithPreview\n          play={isActive}\n          noLoop={false}\n          nonInteractive\n          tgsUrl={ANIMATED_STICKERS_PATHS.bill}\n          previewUrl={ANIMATED_STICKERS_PATHS.billPreview}\n          size={ANIMATED_STICKER_BIG_SIZE_PX}\n        />\n\n        {renderInputAddress()}\n\n        <div className={buildClassName(styles.blockchainButtons, modalStyles.footerButtons)}>\n          <Button onClick={handleCancelClick} className={modalStyles.buttonHalfWidth}>{lang('Close')}</Button>\n          <Button\n            isPrimary\n            isDisabled={!canContinue}\n            className={modalStyles.buttonHalfWidth}\n            onClick={submitPassword}\n          >\n            {lang('Continue')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(SwapBlockchain);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { SwapType, UserSwapToken } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport SwapResult from '../common/SwapResult';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  tokenIn?: UserSwapToken;\n  tokenOut?: UserSwapToken;\n  amountIn?: string;\n  amountOut?: string;\n  swapType?: SwapType;\n  toAddress?: string;\n  onInfoClick: NoneToVoidFunction;\n  onStartSwap: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nfunction SwapComplete({\n  isActive,\n  tokenIn,\n  tokenOut,\n  amountIn,\n  amountOut,\n  swapType,\n  toAddress,\n  onInfoClick,\n  onStartSwap,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  return (\n    <>\n      <ModalHeader title={lang('Swap Placed')} onClose={onClose} />\n\n      <div className={buildClassName(styles.scrollContent, 'custom-scroll')}>\n        <SwapResult\n          tokenIn={tokenIn}\n          amountIn={amountIn}\n          tokenOut={tokenOut}\n          amountOut={amountOut}\n          swapType={swapType}\n          toAddress={toAddress}\n          playAnimation={isActive}\n          firstButtonText={lang('Details')}\n          secondButtonText={lang('Repeat')}\n          onFirstButtonClick={onInfoClick}\n          onSecondButtonClick={onStartSwap}\n        />\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={onClose} isPrimary>{lang('Close')}</Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(SwapComplete);\n","import React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, getGlobal, withGlobal } from '../../global';\n\nimport type { GlobalState, UserSwapToken } from '../../global/types';\nimport { SwapInputSource, SwapState, SwapType } from '../../global/types';\n\nimport {\n  ANIMATED_STICKER_TINY_SIZE_PX,\n  ANIMATION_LEVEL_MAX,\n  CHANGELLY_AML_KYC,\n  CHANGELLY_PRIVACY_POLICY,\n  CHANGELLY_TERMS_OF_USE,\n  DEFAULT_FEE,\n  DEFAULT_SWAP_SECOND_TOKEN_SLUG,\n  DIESEL_TOKENS,\n  TON_SYMBOL,\n  TONCOIN_SLUG,\n} from '../../config';\nimport { Big } from '../../lib/big.js';\nimport { selectSwapTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\nimport { fromDecimal, toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport getSwapRate from '../../util/swap/getSwapRate';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport { isBackgroundModeActive } from '../../hooks/useBackgroundMode';\nimport useDebouncedCallback from '../../hooks/useDebouncedCallback';\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport usePrevious from '../../hooks/usePrevious';\nimport useSyncEffect from '../../hooks/useSyncEffect';\nimport useThrottledCallback from '../../hooks/useThrottledCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport RichNumberInput from '../ui/RichNumberInput';\nimport Transition from '../ui/Transition';\nimport SwapSelectToken from './components/SwapSelectToken';\nimport SwapSubmitButton from './components/SwapSubmitButton';\nimport SwapSettingsModal, { MAX_PRICE_IMPACT_VALUE } from './SwapSettingsModal';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface OwnProps {\n  isStatic?: boolean;\n  isActive?: boolean;\n}\n\ninterface StateProps {\n  currentSwap: GlobalState['currentSwap'];\n  accountId?: string;\n  tokens?: UserSwapToken[];\n}\n\nconst ESTIMATE_REQUEST_INTERVAL = 1_000;\nconst SET_AMOUNT_DEBOUNCE_TIME = 500;\nconst DEFAULT_SWAP_FEE = 500000000n; // 0.5 TON\n\nfunction SwapInitial({\n  currentSwap: {\n    tokenInSlug,\n    tokenOutSlug,\n    amountIn,\n    amountOut,\n    errorType,\n    isEstimating,\n    shouldEstimate,\n    networkFee = 0,\n    realNetworkFee = 0,\n    priceImpact = 0,\n    inputSource,\n    swapType,\n    limits,\n    isLoading,\n    pairs,\n    isSettingsModalOpen,\n    dieselStatus,\n    swapFee,\n  },\n  accountId,\n  tokens,\n  isActive,\n  isStatic,\n}: OwnProps & StateProps) {\n  const {\n    setDefaultSwapParams,\n    setSwapAmountIn,\n    setSwapAmountOut,\n    switchSwapTokens,\n    estimateSwap,\n    estimateSwapCex,\n    setSwapScreen,\n    loadSwapPairs,\n    setSwapType,\n    setSwapCexAddress,\n    toggleSwapSettingsModal,\n    authorizeDiesel,\n  } = getActions();\n  const lang = useLang();\n\n  // eslint-disable-next-line no-null/no-null\n  const inputInRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const inputOutRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const estimateIntervalId = useRef<number>(null);\n\n  const [hasAmountInError, setHasAmountInError] = useState(false);\n\n  const currentTokenInSlug = tokenInSlug ?? TONCOIN_SLUG;\n  const currentTokenOutSlug = tokenOutSlug ?? DEFAULT_SWAP_SECOND_TOKEN_SLUG;\n\n  const tokenInTransitionKey = useTokenTransitionKey(currentTokenInSlug ?? '');\n\n  const accountIdPrev = usePrevious(accountId, true);\n\n  const tokenIn = useMemo(\n    () => tokens?.find((token) => token.slug === currentTokenInSlug),\n    [currentTokenInSlug, tokens],\n  );\n\n  const tokenOut = useMemo(\n    () => tokens?.find((token) => token.slug === currentTokenOutSlug),\n    [currentTokenOutSlug, tokens],\n  );\n\n  const toncoin = useMemo(\n    () => tokens?.find((token) => token.slug === TONCOIN_SLUG) ?? { amount: 0 },\n    [tokens],\n  );\n\n  const isToncoinIn = currentTokenInSlug === TONCOIN_SLUG;\n  const totalToncoinAmount = useMemo(\n    () => {\n      if (!tokenIn || !amountIn) {\n        return 0n;\n      }\n      if (isToncoinIn) {\n        return fromDecimal(amountIn) + fromDecimal(networkFee) + DEFAULT_FEE;\n      }\n      return fromDecimal(networkFee) + DEFAULT_FEE;\n    },\n    [tokenIn, amountIn, isToncoinIn, networkFee],\n  );\n\n  const amountInBig = useMemo(() => Big(amountIn || 0), [amountIn]);\n  const amountOutBig = useMemo(() => Big(amountOut || 0), [amountOut]);\n  const tokenInAmountBig = useMemo(() => toDecimal(tokenIn?.amount ?? 0n, tokenIn?.decimals), [tokenIn]);\n\n  const isErrorExist = errorType !== undefined;\n  const isEnoughToncoin = toncoin.amount > totalToncoinAmount;\n  const isDieselSwap = swapType === SwapType.OnChain\n    && !isEnoughToncoin\n    && tokenIn?.slug\n    && DIESEL_TOKENS.has(tokenIn.slug);\n\n  // eslint-disable-next-line max-len\n  const isCorrectAmountIn = Boolean(\n    amountIn\n    && tokenIn?.amount\n    && amountInBig.gt(0)\n    && amountInBig.lte(tokenInAmountBig),\n  ) || swapType === SwapType.CrosschainToToncoin;\n  const isEnoughFee = swapType === SwapType.CrosschainToToncoin || isEnoughToncoin || (\n    dieselStatus === 'available' || dieselStatus === 'not-authorized'\n  );\n  const isCorrectAmountOut = amountOut && amountOutBig.gt(0);\n  const canSubmit = Boolean(isCorrectAmountIn && isCorrectAmountOut && isEnoughFee && !isEstimating && !isErrorExist);\n  const isPriceImpactError = priceImpact >= MAX_PRICE_IMPACT_VALUE;\n\n  const isCrosschain = swapType === SwapType.CrosschainFromToncoin || swapType === SwapType.CrosschainToToncoin;\n\n  const isReverseProhibited = useMemo(() => {\n    return isCrosschain || pairs?.bySlug?.[currentTokenInSlug]?.[currentTokenOutSlug]?.isReverseProhibited;\n  }, [currentTokenInSlug, currentTokenOutSlug, isCrosschain, pairs?.bySlug]);\n\n  const handleEstimateSwap = useLastCallback((shouldBlock: boolean) => {\n    if (!isActive || isBackgroundModeActive()) return;\n\n    if (isCrosschain) {\n      estimateSwapCex({ shouldBlock });\n      return;\n    }\n    estimateSwap({ shouldBlock, isEnoughToncoin });\n  });\n\n  const throttledEstimateSwap = useThrottledCallback(\n    handleEstimateSwap, [handleEstimateSwap], ESTIMATE_REQUEST_INTERVAL, true,\n  );\n  const debounceSetAmountIn = useDebouncedCallback(\n    setSwapAmountIn, [setSwapAmountIn], SET_AMOUNT_DEBOUNCE_TIME, true,\n  );\n  const debounceSetAmountOut = useDebouncedCallback(\n    setSwapAmountOut, [setSwapAmountOut], SET_AMOUNT_DEBOUNCE_TIME, true,\n  );\n  const createEstimateTimer = useLastCallback(() => {\n    estimateIntervalId.current = window.setInterval(() => {\n      throttledEstimateSwap(false);\n    }, ESTIMATE_REQUEST_INTERVAL);\n  });\n\n  useEffect(() => {\n    if (!tokenInSlug && !tokenOutSlug) {\n      setDefaultSwapParams();\n    }\n  }, [tokenInSlug, tokenOutSlug]);\n\n  useEffect(() => {\n    const clearEstimateTimer = () => estimateIntervalId.current && window.clearInterval(estimateIntervalId.current);\n\n    if (shouldEstimate) {\n      clearEstimateTimer();\n      throttledEstimateSwap(true);\n    }\n\n    createEstimateTimer();\n\n    return clearEstimateTimer;\n  }, [shouldEstimate, createEstimateTimer, throttledEstimateSwap]);\n\n  useEffect(() => {\n    const shouldForceUpdate = accountId !== accountIdPrev;\n\n    if (currentTokenInSlug) {\n      loadSwapPairs({ tokenSlug: currentTokenInSlug, shouldForceUpdate });\n    }\n    if (currentTokenOutSlug) {\n      loadSwapPairs({ tokenSlug: currentTokenOutSlug, shouldForceUpdate });\n    }\n  }, [accountId, accountIdPrev, currentTokenInSlug, currentTokenOutSlug]);\n\n  useEffect(() => {\n    if (tokenIn?.blockchain === 'ton' && tokenOut?.blockchain !== 'ton') {\n      setSwapType({ type: SwapType.CrosschainFromToncoin });\n      return;\n    } else if (tokenOut?.blockchain === 'ton' && tokenIn?.blockchain !== 'ton') {\n      setSwapType({ type: SwapType.CrosschainToToncoin });\n      return;\n    }\n    setSwapType({ type: SwapType.OnChain });\n  }, [tokenIn, tokenOut]);\n\n  const validateAmountIn = useLastCallback((amount: string | undefined) => {\n    if (swapType === SwapType.CrosschainToToncoin) {\n      setHasAmountInError(false);\n      return;\n    }\n\n    const amountBig = amount === undefined ? undefined : Big(amount);\n    const hasError = amountBig !== undefined && (\n      amountBig.lt(0) || (tokenIn?.amount !== undefined && amountBig.gt(tokenInAmountBig))\n    );\n\n    setHasAmountInError(hasError);\n  });\n\n  useEffect(() => {\n    validateAmountIn(amountIn);\n  }, [amountIn, tokenIn, validateAmountIn, swapType]);\n\n  const handleAmountInChange = useLastCallback(\n    (amount: string | undefined, noReset = false) => {\n      if (!noReset) {\n        setHasAmountInError(false);\n      }\n\n      if (!amount) {\n        debounceSetAmountIn({ amount: undefined });\n        return;\n      }\n\n      validateAmountIn(amount);\n      debounceSetAmountIn({ amount });\n    },\n  );\n\n  const handleAmountOutChange = useLastCallback(\n    (amount: string | undefined) => {\n      debounceSetAmountOut({ amount });\n    },\n  );\n\n  const handleMaxAmountClick = useLastCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      e.preventDefault();\n\n      if (!tokenIn?.amount) {\n        return;\n      }\n\n      vibrate();\n\n      const amountWithFee = tokenIn.amount > DEFAULT_SWAP_FEE\n        ? tokenIn.amount - DEFAULT_SWAP_FEE\n        : tokenIn.amount;\n      const newAmount = isToncoinIn ? amountWithFee : tokenIn.amount;\n      const amount = toDecimal(newAmount, tokenIn.decimals);\n\n      validateAmountIn(amount);\n      setSwapAmountIn({ amount });\n    },\n  );\n\n  const handleSubmit = useLastCallback((e) => {\n    e.preventDefault();\n\n    if (!canSubmit) {\n      return;\n    }\n\n    if (isDieselSwap && dieselStatus === 'not-authorized') {\n      authorizeDiesel();\n      return;\n    }\n\n    vibrate();\n\n    if (isCrosschain) {\n      setSwapCexAddress({ toAddress: '' });\n      if (swapType === SwapType.CrosschainToToncoin) {\n        setSwapScreen({ state: SwapState.Password });\n      } else {\n        setSwapScreen({ state: SwapState.Blockchain });\n      }\n      return;\n    }\n\n    setSwapScreen({ state: SwapState.Password });\n  });\n\n  const handleSwitchTokens = useLastCallback(() => {\n    vibrate();\n    switchSwapTokens();\n  });\n\n  const openSettingsModal = useLastCallback(() => {\n    toggleSwapSettingsModal({ isOpen: true });\n  });\n\n  const closeSettingsModal = useLastCallback(() => {\n    toggleSwapSettingsModal({ isOpen: false });\n  });\n\n  function renderBalance() {\n    const isBalanceVisible = tokenIn && swapType !== SwapType.CrosschainToToncoin;\n\n    return (\n      <Transition\n        name=\"fade\"\n        activeKey={tokenInTransitionKey}\n      >\n        {isBalanceVisible && (\n          <div className={styles.balanceContainer}>\n            <span className={styles.balance}>\n              {lang('$max_balance', {\n                balance: (\n                  <div\n                    role=\"button\"\n                    tabIndex={0}\n                    onClick={handleMaxAmountClick}\n                    className={styles.balanceLink}\n                  >\n                    {formatCurrency(toDecimal(tokenIn.amount, tokenIn?.decimals), tokenIn?.symbol)}\n                  </div>\n                ),\n              })}\n            </span>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n\n  function renderPrice() {\n    const isPriceVisible = Boolean(amountIn && amountOut);\n    const shouldBeRendered = isPriceVisible && !isEstimating;\n\n    if (!shouldBeRendered) return undefined;\n\n    const rate = getSwapRate(\n      amountIn ? String(amountIn) : undefined,\n      amountOut ? String(amountOut) : undefined,\n      tokenIn,\n      tokenOut,\n      true,\n    );\n\n    if (!rate) return undefined;\n\n    return (\n      <span className={styles.tokenPrice}>\n        {rate.firstCurrencySymbol}{'  '}\n        <span className={styles.tokenPriceBold}>\n          {rate.price}{' '}{rate.secondCurrencySymbol}\n        </span>\n      </span>\n    );\n  }\n\n  function renderPriceImpactWarning() {\n    if (!priceImpact || !isPriceImpactError || isCrosschain) {\n      return undefined;\n    }\n\n    return (\n      <div\n        className={buildClassName(styles.priceImpact, isStatic && styles.priceImpactStatic)}\n        onClick={openSettingsModal}\n      >\n        <AnimatedIconWithPreview\n          play={isActive}\n          tgsUrl={ANIMATED_STICKERS_PATHS.run}\n          previewUrl={ANIMATED_STICKERS_PATHS.runPreview}\n          noLoop={false}\n          nonInteractive\n          size={ANIMATED_STICKER_TINY_SIZE_PX}\n          className={styles.priceImpactSticker}\n        />\n        <div className={styles.priceImpactContent}>\n          <span className={styles.priceImpactTitle}>\n            {lang('The exchange rate is below market value!', { value: `${priceImpact}%` })}\n            <i className={buildClassName(styles.priceImpactArrow, 'icon-arrow-right-swap')} aria-hidden />\n          </span>\n          <span className={styles.priceImpactDescription}>\n            {lang('We do not recommend to perform an exchange, try to specify a lower amount.')}\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  function renderChangellyInfo() {\n    if (!isCrosschain) {\n      return undefined;\n    }\n\n    return (\n      <div className={buildClassName(styles.changellyInfo, isStatic && styles.changellyInfoStatic)}>\n        <div className={styles.changellyInfoContent}>\n          <span className={styles.changellyInfoTitle}>\n            <i className={buildClassName('icon-changelly', styles.changellyIcon)} aria-hidden />\n            {lang('Cross-chain exchange provided by Changelly')}\n          </span>\n          <span className={styles.changellyInfoDescription}>\n            {\n              lang('$swap_changelly_agreement_message', {\n                terms: (\n                  <a href={CHANGELLY_TERMS_OF_USE} target=\"_blank\" rel=\"noreferrer\">\n                    {lang('$swap_changelly_terms_of_use')}\n                  </a>\n                ),\n                policy: (\n                  <a href={CHANGELLY_PRIVACY_POLICY} target=\"_blank\" rel=\"noreferrer\">\n                    {lang('$swap_changelly_privacy_policy')}\n                  </a>\n                ),\n                kyc: <a href={CHANGELLY_AML_KYC} target=\"_blank\" rel=\"noreferrer\">Changelly AML/KYC</a>,\n              })\n            }\n          </span>\n        </div>\n      </div>\n    );\n  }\n\n  function renderFee() {\n    const isFeeEqualZero = realNetworkFee === 0;\n\n    let feeBlock: React.JSX.Element | undefined;\n\n    if (\n      swapType === SwapType.OnChain\n      && isDieselSwap\n      && swapFee\n      && tokenIn\n      && tokenIn?.slug !== TONCOIN_SLUG\n      && !isLoading\n    ) {\n      // Diesel swap\n      feeBlock = (\n        <span className={styles.feeText}>{lang('$fee_value', {\n          fee: formatCurrency(swapFee, tokenIn.symbol),\n        })}\n        </span>\n      );\n    } else if (swapType !== SwapType.CrosschainToToncoin) {\n      feeBlock = (\n        <span className={styles.feeText}>{lang(isFeeEqualZero ? '$fee_value' : '$fee_value_almost_equal', {\n          fee: formatCurrency(realNetworkFee, TON_SYMBOL),\n        })}\n        </span>\n      );\n    }\n\n    const priceBlock = renderPrice();\n    const activeKey = (isFeeEqualZero ? 0 : 1) + (priceBlock ? 2 : 3);\n\n    return (\n      <Transition\n        name=\"fade\"\n        activeKey={activeKey}\n        className={styles.feeWrapper}\n      >\n        <div\n          className={buildClassName(\n            styles.feeContent,\n            !isCrosschain && styles.feeContentClickable,\n          )}\n          onClick={isCrosschain ? undefined : openSettingsModal}\n        >\n          {priceBlock}\n          {feeBlock}\n\n          {\n            isCrosschain\n              ? undefined\n              : <i className={buildClassName(styles.feeIcon, 'icon-params')} aria-hidden />\n          }\n        </div>\n      </Transition>\n    );\n  }\n\n  return (\n    <>\n      <form className={isStatic ? undefined : modalStyles.transitionContent} onSubmit={handleSubmit}>\n        <div className={styles.content}>\n          <div ref={inputInRef} className={styles.inputContainer}>\n            {renderBalance()}\n            <RichNumberInput\n              id=\"swap-sell\"\n              labelText={lang('You sell')}\n              className={styles.amountInput}\n              hasError={hasAmountInError}\n              value={amountIn?.toString()}\n              isLoading={isEstimating && inputSource === SwapInputSource.Out}\n              onChange={handleAmountInChange}\n              onPressEnter={handleSubmit}\n              decimals={tokenIn?.decimals}\n              labelClassName={styles.inputLabel}\n              inputClassName={styles.amountInputInner}\n              cornerClassName={buildClassName(styles.swapCornerTop, isStatic && styles.swapCornerStaticTop)}\n              isStatic={isStatic}\n            >\n              <SwapSelectToken token={tokenIn} />\n            </RichNumberInput>\n          </div>\n\n          <div className={buildClassName(styles.swapButtonWrapper, isStatic && styles.swapButtonWrapperStatic)}>\n            <AnimatedArrows onClick={handleSwitchTokens} />\n          </div>\n\n          <div ref={inputOutRef} className={styles.inputContainer}>\n            <RichNumberInput\n              id=\"swap-buy\"\n              labelText={lang('You buy')}\n              className={styles.amountInputBuy}\n              value={amountOut?.toString()}\n              isLoading={isEstimating && inputSource === SwapInputSource.In}\n              disabled={isReverseProhibited}\n              onChange={handleAmountOutChange}\n              onPressEnter={handleSubmit}\n              decimals={tokenOut?.decimals}\n              labelClassName={styles.inputLabel}\n              inputClassName={styles.amountInputInner}\n              cornerClassName={buildClassName(styles.swapCornerBottom, isStatic && styles.swapCornerStaticBottom)}\n              isStatic={isStatic}\n            >\n              <SwapSelectToken token={tokenOut} shouldFilter />\n            </RichNumberInput>\n          </div>\n        </div>\n\n        <div className={buildClassName(styles.footerBlock, isStatic && styles.footerBlockStatic)}>\n          {renderFee()}\n\n          {renderPriceImpactWarning()}\n          {renderChangellyInfo()}\n\n          <SwapSubmitButton\n            tokenIn={tokenIn}\n            tokenOut={tokenOut}\n            amountIn={amountIn}\n            amountOut={amountOut}\n            swapType={swapType}\n            isEstimating={isEstimating}\n            isEnoughToncoin={isEnoughToncoin}\n            dieselStatus={dieselStatus}\n            isSending={isLoading}\n            isPriceImpactError={isPriceImpactError}\n            canSubmit={canSubmit}\n            errorType={errorType}\n            limits={limits}\n          />\n        </div>\n      </form>\n      <SwapSettingsModal\n        isOpen={Boolean(isSettingsModalOpen)}\n        tokenOut={tokenOut}\n        fee={realNetworkFee}\n        onClose={closeSettingsModal}\n      />\n    </>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      return {\n        accountId: global.currentAccountId,\n        currentSwap: global.currentSwap,\n        tokens: selectSwapTokens(global),\n      };\n    },\n    (global, _, stickToFirst) => stickToFirst(global.currentAccountId),\n  )(SwapInitial),\n);\n\nfunction useTokenTransitionKey(tokenSlug: string) {\n  const transitionKeyRef = useRef(0);\n\n  useSyncEffect(() => {\n    transitionKeyRef.current++;\n  }, [tokenSlug]);\n\n  return transitionKeyRef.current;\n}\n\nfunction AnimatedArrows({ onClick }: { onClick?: NoneToVoidFunction }) {\n  const animationLevel = getGlobal().settings.animationLevel;\n  const shouldAnimate = (animationLevel === ANIMATION_LEVEL_MAX);\n  const [hasAnimation, startAnimation, stopAnimation] = useFlag(false);\n\n  const handleClick = useLastCallback(() => {\n    if (shouldAnimate) {\n      startAnimation();\n      window.setTimeout(() => {\n        stopAnimation();\n      }, 350);\n    }\n\n    onClick?.();\n  });\n\n  function renderArrow(isInverted?: boolean) {\n    return (\n      <div className={buildClassName(styles.arrowContainer, isInverted && styles.arrowContainerInverted)}>\n        <div className={styles.arrow}>\n          <i className=\"icon-arrow-up-swap\" aria-hidden />\n        </div>\n        <div className={buildClassName(styles.arrowOld, hasAnimation && styles.animateDisappear)}>\n          <i className=\"icon-arrow-up-swap\" aria-hidden />\n        </div>\n        <div className={buildClassName(styles.arrowNew, hasAnimation && styles.animateAppear)}>\n          <i className=\"icon-arrow-up-swap\" aria-hidden />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={styles.swapButton} onClick={handleClick}>\n      {renderArrow()}\n      {renderArrow(true)}\n    </div>\n  );\n}\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiActivity } from '../../api/types';\nimport type { GlobalState, UserSwapToken } from '../../global/types';\nimport { SwapState, SwapType } from '../../global/types';\n\nimport { IS_CAPACITOR } from '../../config';\nimport { selectCurrentAccountState, selectSwapTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { formatCurrencyExtended } from '../../util/formatNumber';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport getBlockchainNetworkIcon from '../../util/swap/getBlockchainNetworkIcon';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\n\nimport TokenSelector from '../common/TokenSelector';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\nimport SwapBlockchain from './SwapBlockchain';\nimport SwapComplete from './SwapComplete';\nimport SwapInitial from './SwapInitial';\nimport SwapPassword from './SwapPassword';\nimport SwapWaitTokens from './SwapWaitTokens';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface StateProps {\n  currentSwap: GlobalState['currentSwap'];\n  swapTokens?: UserSwapToken[];\n  activityById?: Record<string, ApiActivity>;\n}\n\nfunction SwapModal({\n  currentSwap: {\n    state,\n    tokenInSlug,\n    tokenOutSlug,\n    amountIn = '0',\n    amountOut = '0',\n    isLoading,\n    error,\n    activityId,\n    swapType,\n    toAddress,\n    payinAddress,\n    payinExtraId,\n    isSettingsModalOpen,\n  },\n  swapTokens,\n  activityById,\n}: StateProps) {\n  const {\n    startSwap,\n    cancelSwap,\n    setSwapScreen,\n    submitSwap,\n    showActivityInfo,\n    submitSwapCexFromToncoin,\n    submitSwapCexToToncoin,\n  } = getActions();\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n\n  const isOpen = state !== SwapState.None;\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n\n  const tokenIn = useMemo(\n    () => swapTokens?.find((token) => token.slug === tokenInSlug),\n    [tokenInSlug, swapTokens],\n  );\n\n  const tokenOut = useMemo(\n    () => swapTokens?.find((token) => token.slug === tokenOutSlug),\n    [swapTokens, tokenOutSlug],\n  );\n\n  const [renderedSwapType, setRenderedSwapType] = useState(swapType);\n  const [renderedTransactionAmountIn, setRenderedTransactionAmountIn] = useState(amountIn);\n  const [renderedTransactionAmountOut, setRenderedTransactionAmountOut] = useState(amountOut);\n  const [renderedTransactionTokenIn, setRenderedTransactionTokenIn] = useState(tokenIn);\n  const [renderedTransactionTokenOut, setRenderedTransactionTokenOut] = useState(tokenOut);\n  const [renderedActivity, setRenderedActivity] = useState<ApiActivity | undefined>();\n\n  useEffect(() => {\n    if (!isOpen || !activityById || !activityId || swapType !== SwapType.CrosschainToToncoin) {\n      setRenderedActivity(undefined);\n      return;\n    }\n\n    const activity = activityById[activityId];\n    setRenderedActivity(activity);\n\n    if (activity.kind === 'swap') {\n      const status = activity.cex?.status;\n      if (status === 'exchanging' || status === 'confirming') {\n        setSwapScreen({ state: SwapState.Complete });\n      }\n    }\n  }, [activityById, activityId, isOpen, swapType]);\n\n  const handleTransferSubmit = useLastCallback((password: string) => {\n    setRenderedTransactionAmountIn(amountIn);\n    setRenderedTransactionAmountOut(amountOut);\n    setRenderedTransactionTokenIn(tokenIn);\n    setRenderedTransactionTokenOut(tokenOut);\n    setRenderedSwapType(swapType);\n\n    if (swapType === SwapType.OnChain) {\n      submitSwap({ password });\n      return;\n    }\n\n    if (swapType === SwapType.CrosschainToToncoin) {\n      submitSwapCexToToncoin({ password });\n    } else {\n      submitSwapCexFromToncoin({ password });\n    }\n  });\n\n  const handleBackClick = useLastCallback(() => {\n    if (state === SwapState.Password) {\n      if (swapType === SwapType.CrosschainFromToncoin) {\n        setSwapScreen({ state: SwapState.Blockchain });\n      } else {\n        setSwapScreen({ state: isPortrait ? SwapState.Initial : SwapState.None });\n      }\n      return;\n    }\n\n    if (state === SwapState.SelectTokenTo || state === SwapState.SelectTokenFrom) {\n      setSwapScreen({ state: isPortrait ? SwapState.Initial : SwapState.None });\n    }\n\n    if (state === SwapState.Blockchain) {\n      setSwapScreen({ state: isPortrait ? SwapState.Initial : SwapState.None });\n    }\n  });\n\n  const handleTransactionInfoClick = useLastCallback(() => {\n    cancelSwap({ shouldReset: true });\n    showActivityInfo({ id: activityId! });\n  });\n\n  const handleModalClose = useLastCallback(() => {\n    cancelSwap({ shouldReset: isPortrait });\n    updateNextKey();\n  });\n\n  const handleModalCloseWithReset = useLastCallback(() => {\n    cancelSwap({ shouldReset: true });\n  });\n\n  const handleStartSwap = useLastCallback(() => {\n    startSwap({\n      amountIn: renderedTransactionAmountIn,\n      tokenInSlug: renderedTransactionTokenIn?.slug,\n      tokenOutSlug: renderedTransactionTokenOut?.slug,\n    });\n  });\n\n  function renderSwapShortInfo() {\n    if (!tokenIn || !tokenOut || !amountIn || !amountOut) return undefined;\n\n    const logoIn = tokenIn.image ?? ASSET_LOGO_PATHS[tokenIn.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const logoOut = tokenOut.image ?? ASSET_LOGO_PATHS[tokenOut.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n    const swapInfoClassName = buildClassName(\n      styles.swapShortInfo,\n      !IS_CAPACITOR && styles.swapShortInfoInsidePasswordForm,\n    );\n\n    return (\n      <div className={swapInfoClassName}>\n        <div className={styles.tokenIconWrapper}>\n          <img src={logoIn} alt={tokenIn.symbol} className={styles.swapShortInfoTokenIcon} />\n          {tokenIn.blockchain && (\n            <img\n              src={getBlockchainNetworkIcon(tokenIn.blockchain)}\n              className={styles.swapShortInfoBlockchainIcon}\n              alt={tokenIn.blockchain}\n            />\n          )}\n        </div>\n        <span className={styles.swapShortValue}>\n          {lang('%amount_from% to %amount_to%', {\n            amount_from: (\n              <span className={styles.swapShortAmount}>\n                {formatCurrencyExtended(amountIn, tokenIn.symbol ?? '', true)}\n              </span>),\n            amount_to: (\n              <span className={styles.swapShortAmount}>\n                {formatCurrencyExtended(amountOut, tokenOut.symbol ?? '', true)}\n              </span>),\n          })}\n        </span>\n        <div className={styles.tokenIconWrapper}>\n          <img src={logoOut} alt={tokenOut.symbol} className={styles.swapShortInfoTokenIcon} />\n          {tokenOut.blockchain && (\n            <img\n              src={getBlockchainNetworkIcon(tokenOut.blockchain)}\n              className={styles.swapShortInfoBlockchainIcon}\n              alt={tokenOut.blockchain}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case SwapState.Initial:\n        return (\n          <>\n            <ModalHeader\n              title={lang('SwapTitle')}\n              onClose={cancelSwap}\n            />\n            <SwapInitial isActive={isActive} />\n          </>\n        );\n      case SwapState.Blockchain:\n        return (\n          <SwapBlockchain\n            isActive={isActive}\n            toAddress={toAddress}\n            tokenIn={tokenIn}\n            tokenOut={tokenOut}\n            swapType={swapType}\n          />\n        );\n      case SwapState.WaitTokens:\n        return (\n          <SwapWaitTokens\n            isActive={isActive}\n            tokenIn={renderedTransactionTokenIn}\n            tokenOut={renderedTransactionTokenOut}\n            amountIn={renderedTransactionAmountIn}\n            amountOut={renderedTransactionAmountOut}\n            payinAddress={payinAddress}\n            payinExtraId={payinExtraId}\n            activity={renderedActivity}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n      case SwapState.Password:\n        return (\n          <SwapPassword\n            isActive={isActive}\n            isLoading={isLoading}\n            error={error}\n            onSubmit={handleTransferSubmit}\n            onBack={handleBackClick}\n          >\n            {renderSwapShortInfo()}\n          </SwapPassword>\n        );\n      case SwapState.Complete:\n        return (\n          <SwapComplete\n            isActive={isActive}\n            tokenIn={renderedTransactionTokenIn}\n            tokenOut={renderedTransactionTokenOut}\n            amountIn={renderedTransactionAmountIn}\n            amountOut={renderedTransactionAmountOut}\n            onInfoClick={handleTransactionInfoClick}\n            onStartSwap={handleStartSwap}\n            swapType={renderedSwapType}\n            toAddress={toAddress}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n      case SwapState.SelectTokenFrom:\n      case SwapState.SelectTokenTo:\n        return (\n          <TokenSelector\n            isActive={isActive}\n            shouldFilter={currentKey === SwapState.SelectTokenTo}\n            onBack={handleBackClick}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n    }\n  }\n\n  const forceFullNative = isSettingsModalOpen || (\n    [SwapState.Password, SwapState.SelectTokenFrom, SwapState.SelectTokenTo].includes(renderingKey)\n  );\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={cancelSwap}\n      noBackdropClose\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"swap\"\n      forceFullNative={forceFullNative}\n      hasCloseButton\n      onCloseAnimationEnd={handleModalClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n  const activityById = accountState?.activities?.byId;\n\n  return {\n    currentSwap: global.currentSwap,\n    swapTokens: selectSwapTokens(global),\n    activityById,\n  };\n})(SwapModal));\n","import React, { memo, type TeactNode } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { IS_CAPACITOR } from '../../config';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\n\ninterface OwnProps {\n  isActive: boolean;\n  isLoading?: boolean;\n  error?: string;\n  children?: TeactNode;\n  onSubmit: (password: string) => void;\n  onBack: NoneToVoidFunction;\n}\n\nfunction SwapPassword({\n  isActive,\n  isLoading,\n  error,\n  children,\n  onSubmit,\n  onBack,\n}: OwnProps) {\n  const { cancelSwap, clearSwapError } = getActions();\n\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack,\n  });\n\n  return (\n    <>\n      {!IS_CAPACITOR && <ModalHeader title={lang('Confirm Swap')} onClose={cancelSwap} />}\n      <PasswordForm\n        isActive={isActive}\n        isLoading={isLoading}\n        withCloseButton={IS_CAPACITOR}\n        error={error}\n        operationType=\"swap\"\n        submitLabel={lang('Send')}\n        cancelLabel={lang('Back')}\n        onSubmit={onSubmit}\n        onCancel={onBack}\n        onUpdate={clearSwapError}\n      >\n        {children}\n      </PasswordForm>\n    </>\n  );\n}\n\nexport default memo(SwapPassword);\n","import React, { memo, useState } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { UserSwapToken, UserToken } from '../../global/types';\n\nimport { TON_SYMBOL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { formatCurrency } from '../../util/formatNumber';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport Button from '../ui/Button';\nimport IconWithTooltip from '../ui/IconWithTooltip';\nimport Modal from '../ui/Modal';\nimport RichNumberInput from '../ui/RichNumberInput';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  tokenOut?: UserToken | UserSwapToken;\n  fee?: number;\n  onClose: () => void;\n}\n\ninterface StateProps {\n  slippage: number;\n  priceImpact?: number;\n  amountOutMin?: string;\n}\n\nconst SLIPPAGE_VALUES = [0.5, 1, 2, 5, 10];\nconst MAX_SLIPPAGE_VALUE = 50;\n\nexport const MAX_PRICE_IMPACT_VALUE = 5;\n\nfunction SwapSettingsModal({\n  isOpen,\n  onClose,\n  tokenOut,\n  slippage,\n  priceImpact = 0,\n  fee = 0,\n  amountOutMin = '0',\n}: OwnProps & StateProps) {\n  const { setSlippage } = getActions();\n  const lang = useLang();\n\n  const [isSlippageFocused, markSlippageFocused, unmarkSlippageFocused] = useFlag();\n  const [hasError, setHasError] = useState(false);\n\n  const [currentSlippage, setCurrentSlippage] = useState<number | undefined>(slippage);\n\n  const priceImpactError = priceImpact >= MAX_PRICE_IMPACT_VALUE;\n  const slippageError = currentSlippage === undefined || currentSlippage > MAX_SLIPPAGE_VALUE;\n\n  const handleSave = useLastCallback(() => {\n    setSlippage({ slippage: currentSlippage! });\n    onClose();\n  });\n\n  const resetModal = useLastCallback(() => {\n    setCurrentSlippage(slippage);\n  });\n\n  const handleInputChange = useLastCallback((stringValue?: string) => {\n    const value = stringValue ? Number(stringValue) : undefined;\n    setCurrentSlippage(value);\n  });\n\n  function renderSlippageValues() {\n    const slippageList = SLIPPAGE_VALUES.map((value, index) => {\n      return (\n        <>\n          <div\n            role=\"button\"\n            tabIndex={0}\n            onClick={() => setCurrentSlippage(value)}\n            className={styles.balanceLink}\n          >{value}%\n          </div>\n          {index + 1 !== SLIPPAGE_VALUES.length && <i className={styles.dot} aria-hidden />}\n        </>\n      );\n    });\n\n    return (\n      <div className={styles.advancedSlippageContainer}>\n        <span className={styles.advancedSlippage}>{slippageList}</span>\n      </div>\n    );\n  }\n\n  function renderSlippageError() {\n    const error = currentSlippage === undefined\n      ? lang('Slippage not specified')\n      : currentSlippage > MAX_SLIPPAGE_VALUE\n        ? lang('Slippage too high')\n        : '';\n\n    setHasError(!!error);\n\n    return (\n      <div className={styles.advancedSlippageError}>\n        <span>{lang(error)}</span>\n      </div>\n    );\n  }\n\n  function renderSlippageLabel() {\n    return (\n      <>\n        {lang('Slippage')}\n        <IconWithTooltip\n          message={(\n            <div className={styles.advancedTooltipMessage}>\n              <span>{lang('$swap_slippage_tooltip1')}</span>\n              <span>{lang('$swap_slippage_tooltip2')}</span>\n            </div>\n          )}\n          tooltipClassName={styles.advancedTooltipContainer}\n          iconClassName={buildClassName(\n            styles.advancedTooltip, slippageError && styles.advancedError,\n          )}\n        />\n      </>\n    );\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      isCompact\n      onCloseAnimationEnd={resetModal}\n    >\n      <div className={styles.advancedTitle}>\n        {lang('Swap Details')}\n      </div>\n      <div className={styles.advancedInput}>\n        {renderSlippageValues()}\n        <RichNumberInput\n          labelText={renderSlippageLabel()}\n          labelClassName={styles.slippageLabel}\n          value={currentSlippage?.toString()}\n          hasError={hasError}\n          decimals={2}\n          suffix={isSlippageFocused ? '' : '%'}\n          onChange={handleInputChange}\n          onFocus={markSlippageFocused}\n          onBlur={unmarkSlippageFocused}\n        />\n        {renderSlippageError()}\n      </div>\n      <div className={styles.advancedBlock}>\n        <div className={styles.advancedRow}>\n          <span className={styles.advancedDescription}>\n            {lang('Blockchain Fee')}\n          </span>\n          <span className={styles.advancedValue}>\n             {formatCurrency(fee, TON_SYMBOL, undefined, true)}\n          </span>\n        </div>\n        <div className={styles.advancedRow}>\n          <span className={styles.advancedDescription}>\n            {lang('Routing Fees')}\n            <IconWithTooltip\n              message={(\n                <div className={styles.advancedTooltipMessage}>\n                  <span>{lang('$swap_routing_fees_tooltip')}</span>\n                </div>\n              )}\n              tooltipClassName={styles.advancedTooltipContainer}\n              iconClassName={buildClassName(\n                styles.advancedTooltip, priceImpactError && styles.advancedError,\n              )}\n            />\n          </span>\n          <span className={styles.advancedValue}>\n            {lang('Included')}\n          </span>\n        </div>\n        <div className={styles.advancedRow}>\n          <span className={buildClassName(styles.advancedDescription, priceImpactError && styles.advancedError)}>\n            {lang('Price Impact')}\n            <IconWithTooltip\n              message={(\n                <div className={styles.advancedTooltipMessage}>\n                  <span>{lang('$swap_price_impact_tooltip1')}</span>\n                  <span>{lang('$swap_price_impact_tooltip2')}</span>\n                </div>\n              )}\n              tooltipClassName={styles.advancedTooltipContainer}\n              iconClassName={buildClassName(\n                styles.advancedTooltip, priceImpactError && styles.advancedError,\n              )}\n            />\n          </span>\n          <span className={buildClassName(\n            styles.advancedValue,\n            priceImpactError && styles.advancedError,\n          )}\n          >{priceImpact}%\n          </span>\n        </div>\n        <div className={styles.advancedRow}>\n          <span className={styles.advancedDescription}>\n            {lang('Minimum Received')}\n            <IconWithTooltip\n              message={(\n                <div className={styles.advancedTooltipMessage}>\n                  <span>{lang('$swap_minimum_received_tooltip1')}</span>\n                  <span>{lang('$swap_minimum_received_tooltip2')}</span>\n                </div>\n              )}\n              tooltipClassName={styles.advancedTooltipContainer}\n              iconClassName={styles.advancedTooltip}\n            />\n          </span>\n          {tokenOut && (\n            <span className={styles.advancedValue}>{\n              formatCurrency(Number(amountOutMin), tokenOut.symbol)\n            }\n            </span>\n          )}\n        </div>\n      </div>\n      <div className={modalStyles.buttons}>\n        <Button\n          className={modalStyles.button}\n          onClick={onClose}\n        >\n          {lang('Close')}\n        </Button>\n        <Button\n          isPrimary\n          isDisabled={hasError}\n          className={modalStyles.button}\n          onClick={handleSave}\n        >\n          {lang('Save')}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>((global): StateProps => {\n    const {\n      slippage, priceImpact, amountOutMin,\n    } = global.currentSwap;\n\n    return {\n      slippage,\n      priceImpact,\n      amountOutMin,\n    };\n  })(SwapSettingsModal),\n);\n","import React, { memo, useMemo, useState } from '../../lib/teact/teact';\n\nimport type { ApiActivity } from '../../api/types';\nimport type { UserSwapToken } from '../../global/types';\n\nimport { CHANGELLY_LIVE_CHAT_URL, CHANGELLY_SUPPORT_EMAIL, CHANGELLY_WAITING_DEADLINE } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { formatCurrencyExtended } from '../../util/formatNumber';\nimport getBlockchainNetworkName from '../../util/swap/getBlockchainNetworkName';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useQrCode from '../../hooks/useQrCode';\n\nimport Countdown from '../common/Countdown';\nimport SwapTokensInfo from '../common/SwapTokensInfo';\nimport Button from '../ui/Button';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Swap.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  tokenIn?: UserSwapToken;\n  tokenOut?: UserSwapToken;\n  amountIn?: string;\n  amountOut?: string;\n  payinAddress?: string;\n  payinExtraId?: string;\n  activity?: ApiActivity;\n  onClose: NoneToVoidFunction;\n}\n\nfunction SwapWaitTokens({\n  isActive,\n  tokenIn,\n  tokenOut,\n  amountIn,\n  amountOut,\n  payinAddress,\n  payinExtraId,\n  activity,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  const [isExpired, setIsExpired] = useState(false);\n\n  const timestamp = useMemo(() => Date.now(), []);\n\n  const { qrCodeRef, isInitialized } = useQrCode(payinAddress, isActive, styles.qrCodeHidden, true);\n\n  const shouldShowQrCode = !payinExtraId;\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  const handleTimeout = useLastCallback(() => {\n    setIsExpired(true);\n  });\n\n  function renderMemo() {\n    if (!payinExtraId) return undefined;\n\n    return (\n      <div className={styles.textFieldWrapperFullWidth}>\n        <span className={styles.textFieldLabel}>\n          {lang('Memo')}\n        </span>\n        <InteractiveTextField\n          address={payinExtraId}\n          copyNotification={lang('Memo was copied!')}\n          noSavedAddress\n          noExplorer\n          className={styles.changellyTextField}\n        />\n      </div>\n    );\n  }\n\n  function renderInfo() {\n    if (isExpired) {\n      const cexTransactionId = activity && 'cex' in activity ? activity.cex?.transactionId : undefined;\n\n      return (\n        <div className={styles.changellyInfoBlock}>\n          <span className={styles.changellyImportantRed}>\n            {lang('The time for sending coins is over.')}\n          </span>\n          <span className={styles.changellyDescription}>\n            {lang('$swap_changelly_support', {\n              livechat: (\n                <a\n                  href={CHANGELLY_LIVE_CHAT_URL}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className={styles.changellyDescriptionBold}\n                >\n                  {lang('Changelly Live Chat')}\n                </a>),\n              email: (\n                <span className={styles.changellyDescriptionBold}>\n                  {CHANGELLY_SUPPORT_EMAIL}\n                </span>),\n            })}\n          </span>\n          {cexTransactionId && (\n            <InteractiveTextField\n              text={cexTransactionId}\n              copyNotification={lang('Transaction ID was copied!')}\n              noSavedAddress\n              noExplorer\n              className={styles.changellyTextField}\n            />\n          )}\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.changellyInfoBlock}>\n        <span className={styles.changellyDescription}>{lang('$swap_changelly_to_ton_description1', {\n          value: (\n            <span className={styles.changellyDescriptionBold}>\n              {formatCurrencyExtended(Number(amountIn), tokenIn?.symbol ?? '', true)}\n            </span>\n          ),\n          blockchain: (\n            <span className={styles.changellyDescriptionBold}>\n              {getBlockchainNetworkName(tokenIn?.blockchain)}\n            </span>\n          ),\n          time: <Countdown\n            timestamp={timestamp}\n            deadline={CHANGELLY_WAITING_DEADLINE}\n            onCompleted={handleTimeout}\n          />,\n        })}\n        </span>\n        <InteractiveTextField\n          address={payinAddress}\n          copyNotification={lang('Address was copied!')}\n          noSavedAddress\n          noExplorer\n          className={styles.changellyTextField}\n        />\n        {renderMemo()}\n        {shouldShowQrCode && (\n          <div className={buildClassName(styles.qrCode, !isInitialized && styles.qrCodeHidden)} ref={qrCodeRef} />\n        )}\n        <span className={styles.changellyDescription}>\n          {lang('Please note that it may take up to a few hours for tokens to appear in your wallet.')}\n        </span>\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <ModalHeader\n        title={lang(isExpired ? 'Swap Expired' : 'Waiting for Payment')}\n        onClose={onClose}\n      />\n\n      <div className={buildClassName(styles.scrollContent, styles.selectBlockchainBlock, 'custom-scroll')}>\n        <SwapTokensInfo\n          tokenIn={tokenIn}\n          amountIn={amountIn}\n          tokenOut={tokenOut}\n          amountOut={amountOut}\n        />\n\n        <Transition\n          name=\"fade\"\n          activeKey={isExpired ? 1 : 0}\n        >\n          {renderInfo()}\n        </Transition>\n\n        <div className={modalStyles.buttons}>\n          <Button isPrimary onClick={onClose}>{lang('Close')}</Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(SwapWaitTokens);\n","import React, {\n  memo,\n  useLayoutEffect,\n  useRef,\n} from '../../../lib/teact/teact';\nimport { setExtraStyles } from '../../../lib/teact/teact-dom';\nimport { getActions } from '../../../global';\n\nimport { SwapState, type UserSwapToken } from '../../../global/types';\n\nimport { TON_BLOCKCHAIN } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport getBlockchainNetworkIcon from '../../../util/swap/getBlockchainNetworkIcon';\nimport { REM } from '../../../util/windowEnvironment';\nimport { ASSET_LOGO_PATHS } from '../../ui/helpers/assetLogos';\n\nimport useLastCallback from '../../../hooks/useLastCallback';\nimport useSyncEffect from '../../../hooks/useSyncEffect';\n\nimport Transition from '../../ui/Transition';\n\nimport styles from '../Swap.module.scss';\n\ninterface OwnProps {\n  token?: UserSwapToken;\n  shouldFilter?: boolean;\n}\n\nfunction SwapSelectToken({ token, shouldFilter }: OwnProps) {\n  const { setSwapScreen } = getActions();\n\n  const { transitionRef } = useSelectorWidth(token);\n\n  const handleOpenSelectTokenModal = useLastCallback(() => {\n    setSwapScreen({\n      state: shouldFilter ? SwapState.SelectTokenTo : SwapState.SelectTokenFrom,\n    });\n  });\n\n  const buttonTransitionKeyRef = useRef(0);\n  const buttonStateStr = `${token?.symbol}_${token?.blockchain}`;\n\n  useSyncEffect(() => {\n    buttonTransitionKeyRef.current++;\n  }, [buttonStateStr]);\n\n  function renderToken(tokenToRender: UserSwapToken | undefined) {\n    const image = ASSET_LOGO_PATHS[\n      tokenToRender?.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS\n    ] ?? tokenToRender?.image;\n    const blockchain = tokenToRender?.blockchain ?? TON_BLOCKCHAIN;\n\n    return (\n      <Transition\n        ref={transitionRef}\n        name=\"fade\"\n        activeKey={buttonTransitionKeyRef.current}\n        className={styles.tokenSelectorWrapper}\n        slideClassName={styles.tokenSelectorSlide}\n      >\n        <button\n          type=\"button\"\n          className={styles.tokenSelector}\n          onClick={handleOpenSelectTokenModal}\n        >\n          <div className={styles.tokenIconWrapper}>\n            <img src={image} alt=\"\" className={styles.tokenIcon} />\n            <img\n              src={getBlockchainNetworkIcon(blockchain)}\n              className={styles.tokenBlockchainIcon}\n              alt={blockchain}\n            />\n          </div>\n          <div className={styles.tokenContent}>\n            <span>{tokenToRender?.symbol}</span>\n            <i className={buildClassName('icon-chevron-right', styles.tokenSelectorIcon)} aria-hidden />\n          </div>\n        </button>\n      </Transition>\n    );\n  }\n\n  return renderToken(token);\n}\n\nexport default memo(SwapSelectToken);\n\nconst BUTTON_WIDTH = 70 / REM;\nconst CHARACTER_WIDTH = 10;\n\nfunction useSelectorWidth(token?: UserSwapToken) {\n  // eslint-disable-next-line no-null/no-null\n  const transitionRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (!transitionRef.current || !token) return;\n\n    const symbolWidth = (token.symbol.length * CHARACTER_WIDTH) / REM;\n    const minWidth = `${symbolWidth + BUTTON_WIDTH}rem`;\n\n    setExtraStyles(transitionRef.current, {\n      minWidth,\n    });\n  }, [token]);\n\n  return {\n    transitionRef,\n  };\n}\n","import type { TeactNode } from '../../../lib/teact/teact';\nimport React, { memo, useRef } from '../../../lib/teact/teact';\n\nimport type { DieselStatus, UserSwapToken } from '../../../global/types';\nimport { SwapErrorType, SwapType } from '../../../global/types';\n\nimport { ANIMATION_END_DELAY } from '../../../config';\nimport buildClassName from '../../../util/buildClassName';\nimport { formatCurrencySimple } from '../../../util/formatNumber';\n\nimport { useThrottledSignal } from '../../../hooks/useAsyncResolvers';\nimport useDerivedSignal from '../../../hooks/useDerivedSignal';\nimport useDerivedState from '../../../hooks/useDerivedState';\nimport useLang from '../../../hooks/useLang';\n\nimport Button from '../../ui/Button';\nimport Transition from '../../ui/Transition';\n\nimport styles from '../Swap.module.scss';\n\ninterface OwnProps {\n  tokenIn?: UserSwapToken;\n  tokenOut?: UserSwapToken;\n  amountIn?: string;\n  amountOut?: string;\n  swapType?: SwapType;\n  isEstimating?: boolean;\n  isSending?: boolean;\n  isEnoughToncoin?: boolean;\n  dieselStatus?: DieselStatus;\n  isPriceImpactError?: boolean;\n  canSubmit?: boolean;\n  errorType?: SwapErrorType;\n  limits?: {\n    fromMin?: string;\n    fromMax?: string;\n  };\n}\n\nconst BUTTON_ANIMATION_DURATION = 250 + ANIMATION_END_DELAY;\n\nfunction SwapSubmitButton({\n  tokenIn,\n  tokenOut,\n  amountIn,\n  amountOut,\n  swapType,\n  isEstimating,\n  isSending,\n  isEnoughToncoin,\n  dieselStatus,\n  isPriceImpactError,\n  canSubmit,\n  errorType,\n  limits,\n}: OwnProps) {\n  const lang = useLang();\n\n  const isErrorExist = errorType !== undefined;\n  const shouldSendingBeVisible = isSending && swapType === SwapType.CrosschainToToncoin;\n  const isDisabled = !canSubmit || shouldSendingBeVisible;\n  const isLoading = isEstimating || shouldSendingBeVisible;\n\n  const errorMsgByType = {\n    [SwapErrorType.UnexpectedError]: lang('Unexpected Error'),\n    [SwapErrorType.InvalidPair]: lang('Invalid Pair'),\n    [SwapErrorType.NotEnoughLiquidity]: lang('Insufficient liquidity'),\n    [SwapErrorType.ChangellyMinSwap]: lang('Minimum amount', {\n      value: formatCurrencySimple(limits?.fromMin ?? '0', tokenIn?.symbol ?? '', tokenIn?.decimals),\n    }),\n    [SwapErrorType.ChangellyMaxSwap]: lang('Maximum amount', {\n      value: formatCurrencySimple(limits?.fromMax ?? '0', tokenIn?.symbol ?? '', tokenIn?.decimals),\n    }),\n    [SwapErrorType.NotEnoughForFee]: lang('Not Enough %symbol%', {\n      symbol: tokenIn?.symbol,\n    }),\n    [SwapErrorType.TooSmallAmount]: lang('$swap_too_small_amount'),\n  };\n\n  const isTouched = Boolean(amountIn || amountOut);\n\n  let text: string | TeactNode[] = '$swap_from_to';\n\n  if (isTouched && isErrorExist) {\n    text = errorMsgByType[errorType];\n  } else if (isTouched && !isEnoughToncoin && swapType !== SwapType.CrosschainToToncoin) {\n    if (dieselStatus === 'not-available') {\n      text = lang('Not Enough %symbol%', { symbol: 'TON' });\n    } else if (dieselStatus === 'pending-previous') {\n      text = lang('Awaiting Previous Fee');\n    } else if (dieselStatus === 'not-authorized') {\n      text = lang('Authorize %token% Fee', { token: tokenIn?.symbol });\n    }\n  }\n\n  const textStr = Array.isArray(text) ? text.join('') : text;\n\n  let shouldShowError = !isEstimating && (\n    isPriceImpactError\n    || isErrorExist\n    || (!isEnoughToncoin && (dieselStatus === 'not-available' || dieselStatus === 'pending-previous'))\n  );\n\n  if (swapType === SwapType.CrosschainToToncoin) {\n    shouldShowError = !isEstimating && (isPriceImpactError || isErrorExist);\n  }\n\n  const isDestructive = isTouched && shouldShowError;\n\n  const transitionKeyRef = useRef(0);\n  const render = useDerivedSignal(() => {\n    const renderedText = textStr === '$swap_from_to'\n      ? lang('$swap_from_to', {\n        from: tokenIn?.symbol,\n        icon: <i className={buildClassName('icon-arrow-right', styles.swapArrowIcon)} aria-hidden />,\n        to: tokenOut?.symbol,\n      })\n      : textStr;\n\n    return (\n      <Transition\n        name=\"semiFade\"\n        className={styles.footerButtonWrapper}\n        activeKey={transitionKeyRef.current++}\n      >\n        <Button\n          className={styles.footerButton}\n          isDisabled={isDisabled}\n          isPrimary\n          isSubmit\n          isLoading={isLoading}\n          isDestructive={isDestructive}\n        >\n          {renderedText}\n        </Button>\n      </Transition>\n    );\n  }, [isDestructive, isDisabled, isLoading, lang, textStr, tokenIn?.symbol, tokenOut?.symbol]);\n  const renderThrottled = useThrottledSignal(render, BUTTON_ANIMATION_DURATION);\n  const rendered = useDerivedState(renderThrottled);\n\n  return rendered;\n}\n\nexport default memo(SwapSubmitButton);\n","import React, { memo, useMemo } from '../../lib/teact/teact';\n\nimport type { NftTransfer } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\n\nimport styles from './NftChips.module.scss';\n\ninterface OwnProps {\n  nfts: NftTransfer[];\n  isStatic?: boolean;\n}\n\nconst LIMIT = 10;\n\nfunction NftChips({ nfts, isStatic }: OwnProps) {\n  const lang = useLang();\n  const [isCollapsed, , expand] = useFlag(true);\n  const shouldRenderExpander = isCollapsed && nfts.length > LIMIT + 1;\n  const renderedNfts = useMemo(\n    () => (shouldRenderExpander ? nfts.slice(0, LIMIT) : nfts),\n    [shouldRenderExpander, nfts],\n  );\n\n  function renderNft(nft: NftTransfer) {\n    return (\n      <div key={nft.address} className={styles.nft}>\n        <img src={nft.thumbnail} alt={nft.name} className={styles.image} />\n        <span className={styles.name}>{nft.name || nft.address}</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={buildClassName(styles.root, isStatic && styles.static, 'custom-scroll')}>\n      {renderedNfts.map(renderNft)}\n      {shouldRenderExpander && (\n        <button type=\"button\" className={styles.expander} onClick={() => expand()}>\n          +{lang('%amount% NFTs', { amount: nfts.length - LIMIT })}\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default memo(NftChips);\n","import React, { memo, type TeactNode, useMemo } from '../../lib/teact/teact';\nimport { getActions, getGlobal } from '../../global';\n\nimport { MediaType, type NftTransfer } from '../../global/types';\n\nimport { ANIMATED_STICKER_TINY_SIZE_PX, TON_EXPLORER_NAME } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { openUrl } from '../../util/openUrl';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport { getTonExplorerNftUrl } from '../../util/url';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\n\nimport styles from './NftInfo.module.scss';\n\ninterface OwnProps {\n  nft?: NftTransfer;\n  isStatic?: boolean;\n  withTonExplorer?: boolean;\n}\n\nfunction NftInfo({\n  nft, isStatic, withTonExplorer,\n}: OwnProps) {\n  const { openMediaViewer } = getActions();\n  const lang = useLang();\n\n  const tonExplorerTitle = useMemo(() => {\n    return (lang('Open on %ton_explorer_name%', {\n      ton_explorer_name: TON_EXPLORER_NAME,\n    }) as TeactNode[]\n    ).join('');\n  }, [lang]);\n\n  const handleClickInfo = (event: React.MouseEvent) => {\n    event.stopPropagation();\n    const url = getTonExplorerNftUrl(nft!.address, getGlobal().settings.isTestnet)!;\n\n    openUrl(url);\n  };\n\n  const handleClick = useLastCallback(() => {\n    openMediaViewer({ mediaId: nft!.address, mediaType: MediaType.Nft });\n  });\n\n  if (!nft) {\n    return (\n      <div className={buildClassName(styles.root, isStatic && styles.rootStatic)}>\n        <AnimatedIconWithPreview\n          play\n          noLoop={false}\n          nonInteractive\n          size={ANIMATED_STICKER_TINY_SIZE_PX}\n          className={styles.thumbnail}\n          tgsUrl={ANIMATED_STICKERS_PATHS.wait}\n          previewUrl={ANIMATED_STICKERS_PATHS.waitPreview}\n        />\n\n        <div className={styles.info}>\n          <div className={styles.title}>NFT</div>\n          <div className={styles.description}>\n            {lang('Name and collection are not available. Please check back later.')}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  const name = nft.name || shortenAddress(nft.address);\n\n  function renderContent() {\n    return (\n      <>\n        <img src={nft!.thumbnail} alt={name} className={styles.thumbnail} />\n\n        <div className={styles.info}>\n          <div className={styles.title}>\n            {name}\n            {\n              withTonExplorer && (\n                <i\n                  className={buildClassName(styles.icon, 'icon-tonexplorer-small')}\n                  onClick={handleClickInfo}\n                  title={tonExplorerTitle}\n                  aria-label={tonExplorerTitle}\n                  role=\"button\"\n                  tabIndex={0}\n                />\n              )\n            }\n          </div>\n          <div className={styles.description}>{nft!.collectionName}</div>\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      aria-label={lang('NFT')}\n      className={buildClassName(styles.root, isStatic && styles.rootStatic)}\n      onClick={handleClick}\n    >\n      {renderContent()}\n    </div>\n  );\n}\n\nexport default memo(NftInfo);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport type { ApiNft } from '../../api/types';\n\nimport { TONCOIN_SLUG } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport TransferResult from '../common/TransferResult';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport ModalHeader from '../ui/ModalHeader';\nimport NftChips from './NftChips';\nimport NftInfo from './NftInfo';\n\nimport styles from '../common/TransferResult.module.scss';\nimport modalStyles from '../ui/Modal.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  amount?: bigint;\n  symbol: string;\n  balance?: bigint;\n  fee?: bigint;\n  operationAmount?: bigint;\n  txId?: string;\n  tokenSlug?: string;\n  toAddress?: string;\n  comment?: string;\n  decimals?: number;\n  nfts?: ApiNft[];\n  onInfoClick: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\nconst AMOUNT_PRECISION = 4;\n\nfunction TransferComplete({\n  isActive,\n  amount,\n  symbol,\n  balance,\n  fee,\n  operationAmount,\n  txId,\n  tokenSlug,\n  toAddress,\n  comment,\n  decimals,\n  nfts,\n  onInfoClick,\n  onClose,\n}: OwnProps) {\n  const { startTransfer } = getActions();\n\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n  const isNftTransfer = Boolean(nfts?.length);\n\n  useHistoryBack({\n    isActive,\n    onBack: onClose,\n  });\n\n  const handleTransactionRepeatClick = useLastCallback(() => {\n    startTransfer({\n      isPortrait,\n      tokenSlug: tokenSlug || TONCOIN_SLUG,\n      toAddress,\n      amount,\n      comment,\n    });\n  });\n\n  return (\n    <>\n      <ModalHeader title={lang(isNftTransfer ? 'NFT has been sent!' : 'Coins have been sent!')} onClose={onClose} />\n\n      <div className={modalStyles.transitionContent}>\n        {isNftTransfer ? (\n          <>\n            <AnimatedIconWithPreview\n              play={isActive}\n              noLoop={false}\n              nonInteractive\n              className={styles.sticker}\n              tgsUrl={ANIMATED_STICKERS_PATHS.thumbUp}\n              previewUrl={ANIMATED_STICKERS_PATHS.thumbUpPreview}\n            />\n            {nfts!.length === 1 ? <NftInfo nft={nfts![0]} /> : <NftChips nfts={nfts!} />}\n            {Boolean(txId) && (\n              <div className={buildClassName(styles.buttons, styles.buttonsAfterNft)}>\n                <Button className={styles.button} onClick={onInfoClick}>{lang('Details')}</Button>\n              </div>\n            )}\n          </>\n        ) : (\n          <TransferResult\n            playAnimation={isActive}\n            amount={amount ? -amount : undefined}\n            tokenSymbol={symbol}\n            precision={AMOUNT_PRECISION}\n            balance={balance}\n            fee={fee ?? 0n}\n            operationAmount={operationAmount ? -operationAmount : undefined}\n            firstButtonText={txId ? lang('Details') : undefined}\n            secondButtonText={lang('Repeat')}\n            onFirstButtonClick={onInfoClick}\n            onSecondButtonClick={handleTransactionRepeatClick}\n            decimals={decimals}\n          />\n        )}\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={onClose} isPrimary>{lang('Close')}</Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(TransferComplete);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { GlobalState } from '../../global/types';\n\nimport {\n  ANIMATED_STICKER_SMALL_SIZE_PX,\n  BURN_ADDRESS,\n  BURN_CHUNK_DURATION_APPROX_SEC,\n  NFT_BATCH_SIZE,\n  NOTCOIN_EXCHANGERS,\n  TON_SYMBOL,\n} from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrencySimple } from '../../util/formatNumber';\nimport { NFT_TRANSFER_TONCOIN_AMOUNT } from '../../api/blockchains/ton/constants';\nimport { ANIMATED_STICKERS_PATHS } from '../ui/helpers/animatedAssets';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AmountWithFeeTextField from '../ui/AmountWithFeeTextField';\nimport AnimatedIconWithPreview from '../ui/AnimatedIconWithPreview';\nimport Button from '../ui/Button';\nimport IconWithTooltip from '../ui/IconWithTooltip';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport ModalHeader from '../ui/ModalHeader';\nimport NftChips from './NftChips';\nimport NftInfo from './NftInfo';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Transfer.module.scss';\n\ninterface OwnProps {\n  isActive: boolean;\n  savedAddresses?: Record<string, string>;\n  symbol: string;\n  decimals?: number;\n  onBack: NoneToVoidFunction;\n  onClose: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  currentTransfer: GlobalState['currentTransfer'];\n}\n\nfunction TransferConfirm({\n  currentTransfer: {\n    amount,\n    toAddress,\n    resolvedAddress,\n    fee,\n    comment,\n    shouldEncrypt,\n    promiseId,\n    isLoading,\n    toAddressName,\n    isToNewAddress,\n    isScam,\n    binPayload,\n    nfts,\n    withDiesel,\n    dieselAmount,\n  },\n  symbol,\n  decimals,\n  isActive,\n  savedAddresses,\n  onBack,\n  onClose,\n}: OwnProps & StateProps) {\n  const { submitTransferConfirm } = getActions();\n\n  const lang = useLang();\n\n  const addressName = savedAddresses?.[toAddress!] || toAddressName;\n  const isNftTransfer = Boolean(nfts?.length);\n  const isBurning = resolvedAddress === BURN_ADDRESS;\n  const isNotcoinBurning = resolvedAddress === NOTCOIN_EXCHANGERS[0];\n\n  useHistoryBack({\n    isActive,\n    onBack,\n  });\n\n  const handleConfirm = useLastCallback(() => {\n    vibrate();\n    submitTransferConfirm();\n  });\n\n  function renderNfts() {\n    if (nfts!.length === 1) {\n      return <NftInfo nft={nfts![0]} />;\n    }\n\n    return <NftChips nfts={nfts!} />;\n  }\n\n  function renderFeeForNft() {\n    const totalFee = (NFT_TRANSFER_TONCOIN_AMOUNT + (fee ?? 0n)) * BigInt(Math.ceil(nfts!.length / NFT_BATCH_SIZE));\n\n    return (\n      <>\n        <div className={styles.label}>{lang('Fee')}</div>\n        <div className={styles.inputReadOnly}>\n           {formatCurrencySimple(totalFee, '')}\n          <span className={styles.currencySymbol}>{TON_SYMBOL}</span>\n        </div>\n      </>\n    );\n  }\n\n  function renderFeeWithDiesel() {\n    return (\n      <AmountWithFeeTextField\n        label={lang('Amount')}\n        amount={toDecimal(amount ?? 0n, decimals)}\n        symbol={symbol}\n        fee={dieselAmount ? toDecimal(dieselAmount, decimals) : undefined}\n        feeSymbol={symbol}\n      />\n    );\n  }\n\n  function renderComment() {\n    if (binPayload) {\n      return (\n        <>\n          <div className={styles.label}>{lang('Data to sign')}</div>\n          <InteractiveTextField\n            text={binPayload!}\n            copyNotification={lang('Data was copied!')}\n            className={styles.addressWidget}\n          />\n\n          <div className={styles.error}>\n            {renderText(lang('$signature_warning'))}\n          </div>\n        </>\n      );\n    }\n\n    if (!comment) {\n      return undefined;\n    }\n\n    return (\n      <>\n        <div className={styles.label}>{shouldEncrypt ? lang('Encrypted Message') : lang('Comment or Memo')}</div>\n        <div className={buildClassName(styles.inputReadOnly, styles.inputReadOnly_words, styles.commentInputWrapper)}>\n          {comment}\n        </div>\n      </>\n    );\n  }\n\n  const burningDurationMin = nfts?.length\n    ? (Math.ceil(nfts.length / NFT_BATCH_SIZE) * BURN_CHUNK_DURATION_APPROX_SEC) / 60\n    : undefined;\n\n  return (\n    <>\n      <ModalHeader title={lang('Is it all ok?')} onClose={onClose} />\n      <div className={modalStyles.transitionContent}>\n        {isNftTransfer ? renderNfts() : (\n          <AnimatedIconWithPreview\n            size={ANIMATED_STICKER_SMALL_SIZE_PX}\n            play={isActive}\n            noLoop={false}\n            nonInteractive\n            className={buildClassName(styles.sticker, styles.sticker_sizeSmall)}\n            tgsUrl={ANIMATED_STICKERS_PATHS.bill}\n            previewUrl={ANIMATED_STICKERS_PATHS.billPreview}\n          />\n        )}\n        <div className={styles.label}>\n          {lang('Receiving Address')}\n          {isToNewAddress && (\n            <IconWithTooltip\n              emoji=\"\"\n              message={lang('This address is new and never received transfers before.')}\n              tooltipClassName={styles.warningTooltipContainer}\n            />\n          )}\n        </div>\n        <InteractiveTextField\n          address={resolvedAddress!}\n          addressName={addressName}\n          isScam={isScam}\n          copyNotification={lang('Address was copied!')}\n          className={styles.addressWidget}\n        />\n\n        {\n          isNftTransfer ? renderFeeForNft()\n            : withDiesel ? renderFeeWithDiesel()\n              : (\n                <AmountWithFeeTextField\n                  label={lang('Amount')}\n                  amount={toDecimal(amount ?? 0n, decimals)}\n                  symbol={symbol}\n                  fee={fee ? toDecimal(fee) : undefined}\n                />\n              )\n        }\n\n        {renderComment()}\n\n        {nfts && (isBurning || (isNotcoinBurning && nfts?.length > 1)) && (\n          <div className={styles.burnWarning}>\n            {(\n              nfts?.length === 1 ? (\n                renderText(lang('Are you sure you want to burn this NFT? It will be lost forever.'))\n              ) : ([\n                renderText(lang('$multi_burn_nft_warning', { amount: nfts.length })),\n                ' ',\n                renderText(lang('$multi_send_nft_warning', { duration: burningDurationMin })),\n              ])\n            )}\n          </div>\n        )}\n\n        <div className={buildClassName(modalStyles.buttons, modalStyles.buttonsInsideContentWithScroll)}>\n          {promiseId ? (\n            <Button onClick={onClose} className={modalStyles.button}>{lang('Cancel')}</Button>\n          ) : (\n            <Button onClick={onBack} className={modalStyles.button}>{lang('Edit')}</Button>\n          )}\n          <Button\n            isPrimary\n            isLoading={isLoading}\n            isDestructive={isBurning || isScam}\n            className={modalStyles.button}\n            onClick={handleConfirm}\n          >\n            {lang((isBurning || isNotcoinBurning) ? 'Burn NFT' : 'Confirm')}\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  return {\n    currentTransfer: global.currentTransfer,\n  };\n})(TransferConfirm));\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiBaseCurrency, ApiNft } from '../../api/types';\nimport type { Account, DieselStatus, UserToken } from '../../global/types';\nimport type { DropdownItem } from '../ui/Dropdown';\nimport { TransferState } from '../../global/types';\n\nimport { IS_FIREFOX_EXTENSION, TON_SYMBOL, TONCOIN_SLUG } from '../../config';\nimport { Big } from '../../lib/big.js';\nimport renderText from '../../global/helpers/renderText';\nimport {\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectIsHardwareAccount,\n  selectNetworkAccounts,\n} from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\nimport { readClipboardContent } from '../../util/clipboard';\nimport { fromDecimal, toBig, toDecimal } from '../../util/decimals';\nimport dns from '../../util/dns';\nimport { formatCurrency, formatCurrencyExtended, getShortCurrencySymbol } from '../../util/formatNumber';\nimport { isTonAddressOrDomain } from '../../util/isTonAddressOrDomain';\nimport { throttle } from '../../util/schedulers';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport stopEvent from '../../util/stopEvent';\nimport { IS_ANDROID, IS_FIREFOX, IS_TOUCH_ENV } from '../../util/windowEnvironment';\nimport { NFT_TRANSFER_TONCOIN_AMOUNT } from '../../api/blockchains/ton/constants';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport useCurrentOrPrev from '../../hooks/useCurrentOrPrev';\nimport useFlag from '../../hooks/useFlag';\nimport useInterval from '../../hooks/useInterval';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useQrScannerSupport from '../../hooks/useQrScannerSupport';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport DeleteSavedAddressModal from '../main/modals/DeleteSavedAddressModal';\nimport Button from '../ui/Button';\nimport Dropdown from '../ui/Dropdown';\nimport Input from '../ui/Input';\nimport InteractiveTextField from '../ui/InteractiveTextField';\nimport Menu from '../ui/Menu';\nimport RichNumberInput from '../ui/RichNumberInput';\nimport Transition from '../ui/Transition';\nimport NftChips from './NftChips';\nimport NftInfo from './NftInfo';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Transfer.module.scss';\n\ninterface OwnProps {\n  isStatic?: boolean;\n  onCommentChange?: NoneToVoidFunction;\n}\n\ninterface StateProps {\n  toAddress?: string;\n  amount?: bigint;\n  comment?: string;\n  shouldEncrypt?: boolean;\n  isLoading?: boolean;\n  fee?: bigint;\n  tokenSlug?: string;\n  tokens?: UserToken[];\n  savedAddresses?: Record<string, string>;\n  currentAccountId?: string;\n  accounts?: Record<string, Account>;\n  isEncryptedCommentSupported: boolean;\n  isMemoRequired?: boolean;\n  baseCurrency?: ApiBaseCurrency;\n  nfts?: ApiNft[];\n  binPayload?: string;\n  dieselAmount?: bigint;\n  dieselStatus?: DieselStatus;\n  isDieselAuthorizationStarted?: boolean;\n}\n\nconst SAVED_ADDRESS_OPEN_DELAY = 300;\nconst COMMENT_MAX_SIZE_BYTES = 5000;\nconst SHORT_ADDRESS_SHIFT = 12;\nconst MIN_ADDRESS_LENGTH_TO_SHORTEN = SHORT_ADDRESS_SHIFT * 2;\nconst COMMENT_DROPDOWN_ITEMS = [\n  { value: 'raw', name: 'Comment or Memo' },\n  { value: 'encrypted', name: 'Encrypted Message' },\n];\nconst ACTIVE_STATES = new Set([TransferState.Initial, TransferState.None]);\nconst STAKED_TOKEN_SLUG = 'ton-eqcqc6ehrj';\nconst AUTHORIZE_DIESEL_INTERVAL_MS = 1000;\n\nconst INPUT_CLEAR_BUTTON_ID = 'input-clear-button';\n\nconst runThrottled = throttle((cb) => cb(), 1500, true);\n\nfunction TransferInitial({\n  isStatic,\n  tokenSlug = TONCOIN_SLUG,\n  toAddress = '',\n  amount,\n  comment = '',\n  shouldEncrypt,\n  tokens,\n  fee,\n  savedAddresses,\n  accounts,\n  currentAccountId,\n  isEncryptedCommentSupported,\n  isMemoRequired,\n  isLoading,\n  onCommentChange,\n  baseCurrency,\n  nfts,\n  binPayload,\n  dieselAmount,\n  dieselStatus,\n  isDieselAuthorizationStarted,\n}: OwnProps & StateProps) {\n  const {\n    submitTransferInitial,\n    showNotification,\n    fetchFee,\n    fetchNftFee,\n    changeTransferToken,\n    setTransferAmount,\n    setTransferToAddress,\n    setTransferComment,\n    setTransferShouldEncrypt,\n    cancelTransfer,\n    requestOpenQrScanner,\n    showDialog,\n    authorizeDiesel,\n    fetchDieselState,\n  } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const toAddressRef = useRef<HTMLInputElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const addressBookTimeoutRef = useRef<number>(null);\n\n  const lang = useLang();\n\n  // Note: As of 27-11-2023, Firefox does not support readText()\n  const [shouldRenderPasteButton, setShouldRenderPasteButton] = useState(!(IS_FIREFOX || IS_FIREFOX_EXTENSION));\n  const [isAddressFocused, markAddressFocused, unmarkAddressFocused] = useFlag();\n  const [isAddressBookOpen, openAddressBook, closeAddressBook] = useFlag();\n  const [savedAddressForDeletion, setSavedAddressForDeletion] = useState<string | undefined>();\n  const [hasToAddressError, setHasToAddressError] = useState<boolean>(false);\n  const [hasAmountError, setHasAmountError] = useState<boolean>(false);\n  const [isInsufficientBalance, setIsInsufficientBalance] = useState<boolean>(false);\n  const [isInsufficientFee, setIsInsufficientFee] = useState(false);\n  const isNftTransfer = Boolean(nfts?.length);\n  const toAddressShort = toAddress.length > MIN_ADDRESS_LENGTH_TO_SHORTEN\n    ? shortenAddress(toAddress, SHORT_ADDRESS_SHIFT) || ''\n    : toAddress;\n  const isAddressValid = isTonAddressOrDomain(toAddress);\n  const otherAccountIds = useMemo(() => {\n    return accounts ? Object.keys(accounts).filter((accountId) => accountId !== currentAccountId) : [];\n  }, [currentAccountId, accounts]);\n  const shouldUseAddressBook = useMemo(() => {\n    return otherAccountIds.length > 0 || Object.keys(savedAddresses || {}).length > 0;\n  }, [otherAccountIds.length, savedAddresses]);\n  const {\n    amount: balance,\n    decimals,\n    price,\n    symbol,\n  } = useMemo(() => tokens?.find((token) => token.slug === tokenSlug), [tokenSlug, tokens]) || {};\n\n  const isToncoin = tokenSlug === TONCOIN_SLUG;\n  const isTonFullBalance = isToncoin && balance === amount;\n  const tonToken = useMemo(() => tokens?.find((token) => token.slug === TONCOIN_SLUG), [tokens])!;\n  const shouldDisableClearButton = !toAddress && !amount && !(comment || binPayload) && !shouldEncrypt\n    && !(nfts?.length && isStatic);\n\n  const isQrScannerSupported = useQrScannerSupport();\n\n  const amountInCurrency = price && amount\n    ? toBig(amount, decimals).mul(price).round(decimals, Big.roundHalfUp).toString()\n    : undefined;\n  const renderingAmountInCurrency = useCurrentOrPrev(amountInCurrency, true);\n  const renderingFee = useCurrentOrPrev(fee, true);\n  const withPasteButton = shouldRenderPasteButton && toAddress === '';\n  const withAddressClearButton = !!toAddress.length;\n  const shortBaseSymbol = getShortCurrencySymbol(baseCurrency);\n\n  const additionalAmount = amount && tokenSlug === TONCOIN_SLUG ? amount : 0n;\n  const isEnoughToncoin = isTonFullBalance\n    ? (fee && fee < tonToken.amount)\n    : (fee && (fee + additionalAmount) <= tonToken.amount);\n\n  const isDieselAvailable = dieselStatus === 'available';\n  const isDieselNotAuthorized = dieselStatus === 'not-authorized';\n  const withDiesel = dieselStatus && dieselStatus !== 'not-available';\n  const isEnoughDiesel = withDiesel && amount && balance && dieselAmount\n    ? balance - amount > dieselAmount\n    : undefined;\n  const authorizeDieselInterval = isDieselNotAuthorized && isDieselAuthorizationStarted && tokenSlug && !isToncoin\n    ? AUTHORIZE_DIESEL_INTERVAL_MS\n    : undefined;\n\n  const { shouldRender: shouldRenderCurrency, transitionClassNames: currencyClassNames } = useShowTransition(\n    Boolean(amountInCurrency),\n  );\n\n  const updateDieselState = useLastCallback(() => {\n    fetchDieselState({ tokenSlug });\n  });\n\n  useInterval(updateDieselState, authorizeDieselInterval);\n\n  const dropDownItems = useMemo(() => {\n    if (!tokens) {\n      return [];\n    }\n\n    return tokens.reduce<DropdownItem[]>((acc, token) => {\n      if (token.amount > 0 || token.slug === tokenSlug) {\n        acc.push({\n          value: token.slug,\n          icon: token.image || ASSET_LOGO_PATHS[token.symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS],\n          name: token.symbol,\n        });\n      }\n\n      return acc;\n    }, []);\n  }, [tokenSlug, tokens]);\n\n  const validateAndSetAmount = useLastCallback(\n    (newAmount: bigint | undefined, noReset = false) => {\n      if (!noReset) {\n        setHasAmountError(false);\n        setIsInsufficientBalance(false);\n        setIsInsufficientFee(false);\n      }\n\n      if (newAmount === undefined) {\n        setTransferAmount({ amount: undefined });\n        return;\n      }\n\n      if (newAmount < 0) {\n        setHasAmountError(true);\n        return;\n      }\n\n      const tonBalance = tonToken.amount;\n      const tonAmount = isToncoin ? newAmount : 0n;\n\n      if (!balance || newAmount > balance) {\n        setHasAmountError(true);\n        setIsInsufficientBalance(true);\n      } else if (isToncoin && tonAmount === tonToken.amount) {\n        // Do nothing\n      } else if (fee && (fee >= tonBalance || (fee + tonAmount > tonBalance)) && !isDieselAvailable) {\n        setIsInsufficientFee(true);\n      }\n\n      setTransferAmount({ amount: newAmount });\n    },\n  );\n\n  useEffect(() => {\n    if (\n      isToncoin\n      && balance && amount && fee\n      && amount < balance\n      && fee < balance\n      && amount + fee >= balance\n    ) {\n      validateAndSetAmount(balance - fee);\n    } else {\n      validateAndSetAmount(amount);\n    }\n  }, [isToncoin, tokenSlug, amount, balance, fee, decimals, validateAndSetAmount, isDieselAvailable]);\n\n  useEffect(() => {\n    if (!toAddress || hasToAddressError || !(amount || nfts?.length) || !isAddressValid) {\n      return;\n    }\n\n    runThrottled(() => {\n      if (isNftTransfer) {\n        fetchNftFee({\n          toAddress,\n          comment,\n          nftAddresses: nfts?.map(({ address }) => address) || [],\n        });\n      } else {\n        fetchFee({\n          tokenSlug,\n          toAddress,\n          amount: amount!,\n          comment,\n          binPayload,\n        });\n      }\n    });\n  }, [\n    amount, binPayload, comment, hasToAddressError, isAddressValid, isNftTransfer, nfts, toAddress, tokenSlug,\n  ]);\n\n  const handleTokenChange = useLastCallback(\n    (slug: string) => {\n      changeTransferToken({ tokenSlug: slug });\n      if (slug === STAKED_TOKEN_SLUG) {\n        showDialog({\n          title: lang('Warning!'),\n          // eslint-disable-next-line max-len\n          message: lang('You are about to transfer an important service token, which is needed to withdraw your deposit from staking.'),\n        });\n      }\n    },\n  );\n\n  const validateToAddress = useLastCallback(() => {\n    setHasToAddressError(Boolean(toAddress) && !isAddressValid);\n  });\n\n  const handleAddressBookClose = useLastCallback(() => {\n    if (!shouldUseAddressBook || !isAddressBookOpen) return;\n\n    closeAddressBook();\n\n    if (addressBookTimeoutRef.current) {\n      window.clearTimeout(addressBookTimeoutRef.current);\n    }\n  });\n\n  const handleAddressFocus = useLastCallback(() => {\n    const el = toAddressRef.current!;\n\n    // `selectionStart` is only updated in the next frame after `focus` event\n    requestAnimationFrame(() => {\n      const caretPosition = el.selectionStart!;\n      markAddressFocused();\n\n      // Restore caret position after input field value has been focused and expanded\n      requestAnimationFrame(() => {\n        const newCaretPosition = caretPosition <= SHORT_ADDRESS_SHIFT + 3\n          ? caretPosition\n          : Math.max(0, el.value.length - (toAddressShort.length - caretPosition));\n\n        el.setSelectionRange(newCaretPosition, newCaretPosition);\n        if (newCaretPosition > SHORT_ADDRESS_SHIFT * 2) {\n          el.scrollLeft = el.scrollWidth - el.clientWidth;\n        }\n      });\n    });\n\n    if (shouldUseAddressBook) {\n      // Simultaneous opening of the virtual keyboard and display of Saved Addresses causes animation degradation\n      if (IS_ANDROID) {\n        addressBookTimeoutRef.current = window.setTimeout(openAddressBook, SAVED_ADDRESS_OPEN_DELAY);\n      } else {\n        openAddressBook();\n      }\n    }\n  });\n\n  const handleAddressBlur = useLastCallback((e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    unmarkAddressFocused();\n\n    if (e.relatedTarget?.id === INPUT_CLEAR_BUTTON_ID) {\n      handleAddressBookClose();\n\n      return;\n    }\n\n    if (dns.isDnsDomain(toAddress) && toAddress !== toAddress.toLowerCase()) {\n      setTransferToAddress({ toAddress: toAddress.toLowerCase().trim() });\n    } else if (toAddress !== toAddress.trim()) {\n      setTransferToAddress({ toAddress: toAddress.trim() });\n    }\n\n    requestAnimationFrame(() => {\n      validateToAddress();\n      handleAddressBookClose();\n    });\n  });\n\n  const handleAddressInput = useLastCallback((newToAddress: string) => {\n    setTransferToAddress({ toAddress: newToAddress });\n  });\n\n  const handleAddressClearClick = useLastCallback(() => {\n    setTransferToAddress({ toAddress: undefined });\n    setHasToAddressError(false);\n  });\n\n  const handleQrScanClick = useLastCallback(() => {\n    requestOpenQrScanner();\n    cancelTransfer();\n  });\n\n  const handleClear = useLastCallback(() => {\n    if (isStatic) {\n      cancelTransfer({ shouldReset: true });\n    } else {\n      handleAddressClearClick();\n      setTransferAmount({ amount: undefined });\n      setTransferComment({ comment: undefined });\n      setTransferShouldEncrypt({ shouldEncrypt: false });\n      setHasAmountError(false);\n      setIsInsufficientBalance(false);\n      setIsInsufficientFee(false);\n    }\n  });\n\n  const handlePasteClick = useLastCallback(async () => {\n    try {\n      const { type, text } = await readClipboardContent();\n\n      if (type === 'text/plain' && isTonAddressOrDomain(text.trim())) {\n        setTransferToAddress({ toAddress: text.trim() });\n        validateToAddress();\n      }\n    } catch (err: any) {\n      showNotification({ message: lang('Error reading clipboard') });\n      setShouldRenderPasteButton(false);\n    }\n  });\n\n  const handleAddressBookItemClick = useLastCallback(\n    (address: string) => {\n      setTransferToAddress({ toAddress: address });\n      closeAddressBook();\n    },\n  );\n\n  const handleDeleteSavedAddressClick = useLastCallback(\n    (address: string) => {\n      setSavedAddressForDeletion(address);\n      closeAddressBook();\n    },\n  );\n\n  const closeDeleteSavedAddressModal = useLastCallback(() => {\n    setSavedAddressForDeletion(undefined);\n  });\n\n  const handleAmountChange = useLastCallback((stringValue?: string) => {\n    const value = stringValue ? fromDecimal(stringValue, decimals) : undefined;\n    validateAndSetAmount(value);\n  });\n\n  const handleMaxAmountClick = useLastCallback((e: React.MouseEvent<HTMLElement>) => {\n    e.preventDefault();\n\n    if (!balance) {\n      return;\n    }\n\n    vibrate();\n\n    setTransferAmount({ amount: balance });\n  });\n\n  const handleCommentChange = useLastCallback((value) => {\n    setTransferComment({ comment: trimStringByMaxBytes(value, COMMENT_MAX_SIZE_BYTES) });\n    onCommentChange?.();\n  });\n\n  const isCommentRequired = Boolean(toAddress) && isMemoRequired;\n  const hasCommentError = isCommentRequired && !comment;\n  const requiredAmount = isNftTransfer ? NFT_TRANSFER_TONCOIN_AMOUNT : amount;\n\n  const canSubmit = Boolean(toAddress.length && requiredAmount && balance && requiredAmount > 0\n    && requiredAmount <= balance && !hasToAddressError && !hasAmountError\n    && (isEnoughToncoin || isEnoughDiesel || isDieselNotAuthorized) && !hasCommentError\n    && (!isNftTransfer || Boolean(nfts?.length)));\n\n  const handleSubmit = useLastCallback((e) => {\n    e.preventDefault();\n\n    if (withDiesel && dieselStatus === 'not-authorized') {\n      authorizeDiesel();\n      return;\n    }\n\n    if (!canSubmit) {\n      return;\n    }\n\n    vibrate();\n\n    submitTransferInitial({\n      tokenSlug,\n      amount: isNftTransfer ? NFT_TRANSFER_TONCOIN_AMOUNT : amount!,\n      toAddress,\n      comment,\n      shouldEncrypt,\n      nftAddresses: isNftTransfer ? nfts!.map(({ address }) => address) : undefined,\n      withDiesel,\n    });\n  });\n\n  const handleCommentOptionsChange = useLastCallback((option: string) => {\n    setTransferShouldEncrypt({ shouldEncrypt: option === 'encrypted' });\n  });\n\n  const renderedSavedAddresses = useMemo(() => {\n    if (!savedAddresses) {\n      return undefined;\n    }\n\n    return Object.keys(savedAddresses).map((address) => renderAddressItem({\n      key: `saved-${address}`,\n      address,\n      name: savedAddresses[address],\n      deleteLabel: lang('Delete'),\n      onClick: handleAddressBookItemClick,\n      onDeleteClick: handleDeleteSavedAddressClick,\n    }));\n  }, [savedAddresses, lang, handleAddressBookItemClick, handleDeleteSavedAddressClick]);\n\n  const renderedOtherAccounts = useMemo(() => {\n    if (otherAccountIds.length === 0) {\n      return undefined;\n    }\n\n    const addressesToBeIgnored = Object.keys(savedAddresses || {});\n\n    return otherAccountIds\n      .filter((id) => !addressesToBeIgnored.includes(accounts![id].address))\n      .map((id) => renderAddressItem({\n        key: id,\n        address: accounts![id].address,\n        name: accounts![id].title,\n        isHardware: accounts![id].isHardware,\n        onClick: handleAddressBookItemClick,\n      }));\n  }, [otherAccountIds, savedAddresses, accounts, handleAddressBookItemClick]);\n\n  function renderAddressBook() {\n    return (\n      <Menu\n        positionX=\"right\"\n        type=\"suggestion\"\n        noBackdrop\n        bubbleClassName={styles.savedAddressBubble}\n        isOpen={isAddressBookOpen && !toAddress?.length}\n        onClose={closeAddressBook}\n      >\n        {renderedSavedAddresses}\n        {renderedOtherAccounts}\n      </Menu>\n    );\n  }\n\n  function renderBottomRight() {\n    const withFee = fee && amount && amount > 0;\n\n    const activeKey = isInsufficientBalance ? 0\n      : isInsufficientFee ? 1\n        : withFee ? 2\n          : 3;\n\n    const insufficientBalanceText = <span className={styles.balanceError}>{lang('Insufficient balance')}</span>;\n    const insufficientFeeText = withFee ? (\n      <span className={styles.balanceError}>\n        {lang('$insufficient_fee', {\n          fee: formatCurrencyExtended(toDecimal(renderingFee!), TON_SYMBOL, true),\n        })}\n      </span>\n    ) : ' ';\n\n    const insufficientDieselText = withFee && dieselAmount && symbol ? (\n      <span className={styles.balanceError}>\n        {lang('$insufficient_fee', {\n          fee: formatCurrencyExtended(toDecimal(dieselAmount!, decimals), symbol, true),\n        })}\n      </span>\n    ) : ' ';\n\n    let feeText: string | TeactNode[] = ' ';\n\n    if (withDiesel && dieselAmount && symbol) {\n      feeText = lang('$fee_value', {\n        fee: (\n          <span className={styles.feeValue}>\n            {formatCurrencyExtended(toDecimal(dieselAmount!, decimals), symbol, true, decimals)}\n          </span>\n        ),\n      });\n    } else if (withFee) {\n      feeText = lang('$fee_value', {\n        fee: (\n          <span className={styles.feeValue}>\n            {formatCurrencyExtended(toDecimal(renderingFee!), TON_SYMBOL, true, tonToken.decimals)}\n          </span>\n        ),\n      });\n    }\n\n    const content = isInsufficientBalance ? insufficientBalanceText\n      : withDiesel && !isEnoughDiesel ? insufficientDieselText\n        : isInsufficientFee ? insufficientFeeText\n          : withFee ? feeText\n            : ' ';\n\n    return (\n      <Transition\n        className={buildClassName(styles.amountBottomRight, isStatic && styles.amountBottomRight_static)}\n        slideClassName={styles.amountBottomRight_slide}\n        name=\"fade\"\n        activeKey={activeKey}\n      >\n        {content}\n      </Transition>\n    );\n  }\n\n  function renderInputActions() {\n    return (\n      <Transition className={styles.inputButtonTransition} activeKey={toAddress.length ? 0 : 1} name=\"fade\">\n        {toAddress.length ? (\n          <Button\n            isSimple\n            id={INPUT_CLEAR_BUTTON_ID}\n            className={buildClassName(styles.inputButton, styles.inputButtonClear)}\n            onClick={handleAddressClearClick}\n            ariaLabel={lang('Clear')}\n          >\n            <i className=\"icon-close-filled\" aria-hidden />\n          </Button>\n        ) : (\n          <>\n            {isQrScannerSupported && (\n              <Button\n                isSimple\n                className={buildClassName(styles.inputButton, withPasteButton && styles.inputButtonShifted)}\n                onClick={handleQrScanClick}\n                ariaLabel={lang('Scan QR Code')}\n              >\n                <i className=\"icon-qr-scanner-alt\" aria-hidden />\n              </Button>\n            )}\n            {withPasteButton && (\n              <Button isSimple className={styles.inputButton} onClick={handlePasteClick} ariaLabel={lang('Paste')}>\n                <i className=\"icon-paste\" aria-hidden />\n              </Button>\n            )}\n          </>\n        )}\n      </Transition>\n    );\n  }\n\n  function renderBalance() {\n    if (!symbol || nfts?.length) {\n      return undefined;\n    }\n\n    return (\n      <div className={styles.balanceContainer}>\n        <span className={styles.balance}>\n          {lang('$max_balance', {\n            balance: (\n              <div\n                role=\"button\"\n                tabIndex={0}\n                onClick={handleMaxAmountClick}\n                className={styles.balanceLink}\n              >\n                {balance !== undefined ? formatCurrency(toDecimal(balance, decimals), symbol) : lang('Loading...')}\n              </div>\n            ),\n          })}\n        </span>\n      </div>\n    );\n  }\n\n  function renderTokens() {\n    return (\n      <Dropdown\n        items={dropDownItems}\n        selectedValue={tokenSlug}\n        className={styles.tokenDropdown}\n        onChange={handleTokenChange}\n      />\n    );\n  }\n\n  function renderCurrencyValue() {\n    return (\n      <span className={buildClassName(styles.amountInCurrency, currencyClassNames)}>\n        &thinsp;{formatCurrency(renderingAmountInCurrency || '0', shortBaseSymbol, undefined, true)}\n      </span>\n    );\n  }\n\n  function renderCommentLabel() {\n    return (\n      <Dropdown\n        items={isEncryptedCommentSupported ? COMMENT_DROPDOWN_ITEMS : [COMMENT_DROPDOWN_ITEMS[0]]}\n        selectedValue={COMMENT_DROPDOWN_ITEMS[shouldEncrypt ? 1 : 0].value}\n        theme=\"light\"\n        menuPositionHorizontal=\"left\"\n        shouldTranslateOptions\n        className={styles.commentLabel}\n        onChange={handleCommentOptionsChange}\n      />\n    );\n  }\n\n  const withButton = isQrScannerSupported || withPasteButton || withAddressClearButton;\n\n  function renderButtonText() {\n    if (!isEnoughToncoin && withDiesel && !isDieselAvailable) {\n      if (dieselStatus === 'pending-previous') {\n        return lang('Awaiting Previous Fee');\n      } else {\n        return lang('Authorize %token% Fee', { token: symbol! });\n      }\n    } else {\n      return lang('$send_token_symbol', isNftTransfer ? 'NFT' : symbol || 'TON');\n    }\n  }\n\n  return (\n    <>\n      <form className={isStatic ? undefined : modalStyles.transitionContent} onSubmit={handleSubmit}>\n        {nfts?.length === 1 && <NftInfo nft={nfts[0]} isStatic={isStatic} />}\n        {Boolean(nfts?.length) && nfts!.length > 1 && <NftChips nfts={nfts!} isStatic={isStatic} />}\n\n        <Input\n          ref={toAddressRef}\n          className={buildClassName(isStatic && styles.inputStatic, withButton && styles.inputWithIcon)}\n          isRequired\n          label={lang('Recipient Address')}\n          placeholder={lang('Wallet address or domain')}\n          value={isAddressFocused ? toAddress : toAddressShort}\n          error={hasToAddressError ? (lang('Incorrect address') as string) : undefined}\n          onInput={handleAddressInput}\n          onFocus={handleAddressFocus}\n          onBlur={handleAddressBlur}\n        >\n          {renderInputActions()}\n        </Input>\n\n        {shouldUseAddressBook && renderAddressBook()}\n\n        {renderBalance()}\n        {!isNftTransfer && (\n          <>\n            <RichNumberInput\n              key=\"amount\"\n              id=\"amount\"\n              hasError={hasAmountError}\n              value={amount === undefined ? undefined : toDecimal(amount, decimals)}\n              labelText={lang('Amount')}\n              onChange={handleAmountChange}\n              onPressEnter={handleSubmit}\n              decimals={decimals}\n              className={styles.amountInput}\n              inputClassName={isStatic ? styles.inputRichStatic : undefined}\n            >\n              {renderTokens()}\n            </RichNumberInput>\n\n            <div className={styles.amountBottomWrapper}>\n              <div className={styles.amountBottom}>\n                {shouldRenderCurrency && renderCurrencyValue()}\n                {renderBottomRight()}\n              </div>\n            </div>\n          </>\n        )}\n\n        {binPayload ? (\n          <>\n            <div className={styles.label}>{lang('Data to sign')}</div>\n            <InteractiveTextField\n              text={binPayload}\n              copyNotification={lang('Data was copied!')}\n              className={buildClassName(styles.addressWidget, isStatic && styles.inputStatic)}\n            />\n\n            <div className={styles.error}>\n              {renderText(lang('$signature_warning'))}\n            </div>\n          </>\n        ) : (\n          <Input\n            wrapperClassName={styles.commentInputWrapper}\n            className={isStatic ? styles.inputStatic : undefined}\n            label={renderCommentLabel()}\n            placeholder={isCommentRequired ? lang('Required') : lang('Optional')}\n            value={comment}\n            isControlled\n            isMultiline\n            onInput={handleCommentChange}\n            isRequired={isCommentRequired}\n          />\n        )}\n\n        <div className={styles.buttons}>\n          <Button\n            isDisabled={shouldDisableClearButton || isLoading}\n            className={styles.button}\n            onClick={handleClear}\n          >\n            {lang('Clear')}\n          </Button>\n          <Button\n            isPrimary\n            isSubmit\n            isDisabled={!canSubmit}\n            isLoading={isLoading}\n            className={styles.button}\n          >\n            {renderButtonText()}\n          </Button>\n        </div>\n      </form>\n      <DeleteSavedAddressModal\n        isOpen={Boolean(savedAddressForDeletion)}\n        address={savedAddressForDeletion}\n        onClose={closeDeleteSavedAddressModal}\n      />\n    </>\n  );\n}\n\nexport default memo(\n  withGlobal<OwnProps>(\n    (global): StateProps => {\n      const {\n        toAddress,\n        amount,\n        comment,\n        shouldEncrypt,\n        fee,\n        tokenSlug,\n        isLoading,\n        state,\n        nfts,\n        binPayload,\n        isMemoRequired,\n        dieselStatus,\n        dieselAmount,\n      } = global.currentTransfer;\n\n      const isLedger = selectIsHardwareAccount(global);\n      const accountState = selectCurrentAccountState(global);\n      const baseCurrency = global.settings.baseCurrency;\n\n      return {\n        toAddress,\n        amount,\n        comment,\n        shouldEncrypt,\n        fee,\n        nfts,\n        tokenSlug,\n        binPayload,\n        tokens: selectCurrentAccountTokens(global),\n        savedAddresses: accountState?.savedAddresses,\n        isEncryptedCommentSupported: !isLedger && !nfts?.length && !isMemoRequired,\n        isMemoRequired,\n        isLoading: isLoading && ACTIVE_STATES.has(state),\n        baseCurrency,\n        currentAccountId: global.currentAccountId,\n        accounts: selectNetworkAccounts(global),\n        dieselAmount,\n        dieselStatus,\n        isDieselAuthorizationStarted: accountState?.isDieselAuthorizationStarted,\n      };\n    },\n    (global, { isStatic }, stickToFirst) => {\n      if (!isStatic) {\n        return stickToFirst(global.currentAccountId);\n      }\n\n      const { nfts, tokenSlug = TONCOIN_SLUG } = global.currentTransfer;\n      const key = nfts?.length ? `${nfts[0].address}_${nfts.length}` : tokenSlug;\n\n      return stickToFirst(`${global.currentAccountId}_${key}`);\n    },\n  )(TransferInitial),\n);\n\nfunction trimStringByMaxBytes(str: string, maxBytes: number) {\n  const decoder = new TextDecoder('utf-8');\n  const encoded = new TextEncoder().encode(str);\n\n  return decoder.decode(encoded.slice(0, maxBytes)).replace(/\\uFFFD/g, '');\n}\n\nfunction renderAddressItem({\n  key,\n  address,\n  name,\n  isHardware,\n  deleteLabel,\n  onClick,\n  onDeleteClick,\n}: {\n  key: string;\n  address: string;\n  name?: string;\n  isHardware?: boolean;\n  deleteLabel?: string;\n  onClick: (address: string) => void;\n  onDeleteClick?: (address: string) => void;\n}) {\n  const isSavedAddress = !!onDeleteClick;\n  const handleDeleteClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    onDeleteClick!(address);\n  };\n\n  return (\n    <div\n      key={key}\n      tabIndex={-1}\n      role=\"button\"\n      onMouseDown={IS_TOUCH_ENV ? undefined : () => onClick(address)}\n      onClick={IS_TOUCH_ENV ? () => onClick(address) : undefined}\n      className={styles.savedAddressItem}\n    >\n      <span className={styles.savedAddressName}>\n        {name || shortenAddress(address)}\n        {isHardware && <i className={buildClassName(styles.iconLedger, 'icon-ledger')} aria-hidden />}\n      </span>\n      {isSavedAddress && (\n        <span className={styles.savedAddressDelete}>\n          <span tabIndex={-1} role=\"button\" className={styles.savedAddressDeleteInner} onMouseDown={handleDeleteClick}>\n            {deleteLabel}\n          </span>\n        </span>\n      )}\n      {name && <span className={styles.savedAddressAddress}>{shortenAddress(address)}</span>}\n      {isSavedAddress && (\n        <span\n          className={styles.savedAddressDeleteIcon}\n          role=\"button\"\n          tabIndex={-1}\n          onMouseDown={handleDeleteClick}\n          onClick={stopEvent}\n          aria-label={deleteLabel}\n        >\n          <i className=\"icon-trash\" aria-hidden />\n        </span>\n      )}\n    </div>\n  );\n}\n","import React, {\n  memo, useEffect, useMemo, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { GlobalState, HardwareConnectState, UserToken } from '../../global/types';\nimport { TransferState } from '../../global/types';\n\nimport { BURN_ADDRESS, IS_CAPACITOR, NFT_BATCH_SIZE } from '../../config';\nimport { selectCurrentAccountState, selectCurrentAccountTokens } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport { toDecimal } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport { ASSET_LOGO_PATHS } from '../ui/helpers/assetLogos';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\nimport usePrevious from '../../hooks/usePrevious';\nimport useWindowSize from '../../hooks/useWindowSize';\n\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport Transition from '../ui/Transition';\nimport TransferComplete from './TransferComplete';\nimport TransferConfirm from './TransferConfirm';\nimport TransferInitial from './TransferInitial';\nimport TransferMultiNftProcess from './TransferMultiNftProcess';\nimport TransferPassword from './TransferPassword';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Transfer.module.scss';\n\ninterface StateProps {\n  currentTransfer: GlobalState['currentTransfer'];\n  tokens?: UserToken[];\n  savedAddresses?: Record<string, string>;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isMediaViewerOpen?: boolean;\n}\n\nconst SCREEN_HEIGHT_FOR_FORCE_FULLSIZE_NBS = 762; // Computed empirically\n\nfunction TransferModal({\n  currentTransfer: {\n    state,\n    amount,\n    toAddress,\n    fee,\n    comment,\n    error,\n    isLoading,\n    txId,\n    tokenSlug,\n    nfts,\n    sentNftsCount,\n  }, tokens, savedAddresses, hardwareState, isLedgerConnected, isTonAppConnected, isMediaViewerOpen,\n}: StateProps) {\n  const {\n    submitTransferConfirm,\n    submitTransferPassword,\n    submitTransferHardware,\n    setTransferScreen,\n    cancelTransfer,\n    showActivityInfo,\n  } = getActions();\n\n  const lang = useLang();\n  const { isPortrait } = useDeviceScreen();\n  const isOpen = state !== TransferState.None;\n\n  const { screenHeight } = useWindowSize();\n  const selectedToken = useMemo(() => tokens?.find((token) => token.slug === tokenSlug), [tokenSlug, tokens]);\n  const decimals = selectedToken?.decimals;\n  const [renderedTokenBalance, setRenderedTokenBalance] = useState(selectedToken?.amount);\n  const renderedTransactionAmount = usePrevious(amount, true);\n  const symbol = selectedToken?.symbol || '';\n  const isNftTransfer = Boolean(nfts?.length);\n  const isBurning = toAddress === BURN_ADDRESS;\n\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, isOpen);\n\n  useEffect(() => (\n    state === TransferState.Confirm\n      ? captureKeyboardListeners({\n        onEnter: () => {\n          submitTransferConfirm();\n        },\n      })\n      : undefined\n  ), [state, submitTransferConfirm]);\n\n  const handleTransferSubmit = useLastCallback((password: string) => {\n    setRenderedTokenBalance(selectedToken?.amount);\n\n    submitTransferPassword({ password });\n  });\n\n  const handleBackClick = useLastCallback(() => {\n    if (state === TransferState.Confirm) {\n      setTransferScreen({ state: TransferState.Initial });\n    }\n    if (state === TransferState.Password) {\n      setTransferScreen({ state: TransferState.Confirm });\n    }\n  });\n\n  const handleTransactionInfoClick = useLastCallback(() => {\n    cancelTransfer({ shouldReset: true });\n    showActivityInfo({ id: txId! });\n  });\n\n  const handleModalClose = useLastCallback(() => {\n    cancelTransfer({ shouldReset: isPortrait });\n    updateNextKey();\n  });\n\n  const handleModalCloseWithReset = useLastCallback(() => {\n    cancelTransfer({ shouldReset: true });\n  });\n\n  const handleLedgerConnect = useLastCallback(() => {\n    submitTransferHardware();\n  });\n\n  function renderTransferShortInfo() {\n    const transferInfoClassName = buildClassName(\n      styles.transferShortInfo,\n      !IS_CAPACITOR && styles.transferShortInfoInsidePasswordForm,\n    );\n    const logoPath = isNftTransfer\n      ? nfts![0]?.thumbnail\n      : selectedToken?.image || ASSET_LOGO_PATHS[symbol.toLowerCase() as keyof typeof ASSET_LOGO_PATHS];\n\n    return (\n      <div className={transferInfoClassName}>\n        {logoPath && <img src={logoPath} alt={symbol} className={styles.tokenIcon} />}\n        <span className={styles.transferShortInfoText}>\n          {lang('%amount% to %address%', {\n            amount: (\n              <span className={styles.bold}>\n                {isNftTransfer\n                  ? (nfts!.length > 1 ? lang('%amount% NFTs', { amount: nfts!.length }) : nfts![0]?.name || 'NFT')\n                  : formatCurrency(toDecimal(amount!, decimals), symbol)}\n              </span>\n            ),\n            address: <span className={styles.bold}>{shortenAddress(toAddress!)}</span>,\n          })}\n        </span>\n      </div>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case TransferState.Initial:\n        return (\n          <>\n            <ModalHeader title={lang(isNftTransfer ? 'Send NFT' : 'Send')} onClose={handleModalCloseWithReset} />\n            <TransferInitial />\n          </>\n        );\n      case TransferState.Confirm:\n        return (\n          <TransferConfirm\n            isActive={isActive}\n            symbol={symbol}\n            decimals={selectedToken?.decimals}\n            savedAddresses={savedAddresses}\n            onBack={isPortrait ? handleBackClick : handleModalClose}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n      case TransferState.Password:\n        return (\n          <TransferPassword\n            isActive={isActive}\n            isLoading={isLoading}\n            isBurning={isBurning}\n            error={error}\n            onSubmit={handleTransferSubmit}\n            onCancel={handleModalCloseWithReset}\n          >\n            {renderTransferShortInfo()}\n          </TransferPassword>\n        );\n      case TransferState.ConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            onConnected={handleLedgerConnect}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n      case TransferState.ConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            text={lang('Please confirm transaction on your Ledger')}\n            error={error}\n            onClose={handleModalCloseWithReset}\n            onTryAgain={submitTransferHardware}\n          />\n        );\n      case TransferState.Complete:\n        return (nfts?.length || 0) <= NFT_BATCH_SIZE ? (\n          <TransferComplete\n            isActive={isActive}\n            nfts={nfts}\n            amount={renderedTransactionAmount}\n            symbol={symbol}\n            balance={renderedTokenBalance}\n            fee={fee}\n            operationAmount={amount}\n            txId={txId}\n            tokenSlug={tokenSlug}\n            toAddress={toAddress}\n            comment={comment}\n            onInfoClick={handleTransactionInfoClick}\n            onClose={handleModalCloseWithReset}\n            decimals={decimals}\n          />\n        ) : (\n          <TransferMultiNftProcess\n            nfts={nfts!}\n            sentNftsCount={sentNftsCount}\n            toAddress={toAddress}\n            onClose={handleModalCloseWithReset}\n          />\n        );\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen && !isMediaViewerOpen}\n      noBackdropClose\n      dialogClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"transfer\"\n      forceFullNative={screenHeight <= SCREEN_HEIGHT_FOR_FORCE_FULLSIZE_NBS || renderingKey === TransferState.Password}\n      onClose={handleModalCloseWithReset}\n      onCloseAnimationEnd={handleModalClose}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    currentTransfer: global.currentTransfer,\n    tokens: selectCurrentAccountTokens(global),\n    savedAddresses: accountState?.savedAddresses,\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n    isMediaViewerOpen: Boolean(global.mediaViewer.mediaId),\n  };\n})(TransferModal));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { ApiNft } from '../../api/types';\n\nimport {\n  BURN_ADDRESS, BURN_CHUNK_DURATION_APPROX_SEC, NFT_BATCH_SIZE, NOTCOIN_EXCHANGERS,\n} from '../../config';\n\nimport useLang from '../../hooks/useLang';\n\nimport Button from '../ui/Button';\nimport Loading from '../ui/Loading';\nimport ModalHeader from '../ui/ModalHeader';\nimport NftChips from './NftChips';\nimport NftInfo from './NftInfo';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './Transfer.module.scss';\n\ninterface OwnProps {\n  nfts: ApiNft[];\n  sentNftsCount?: number;\n  toAddress?: string;\n  onClose: NoneToVoidFunction;\n}\n\nfunction TransferMultiNftProcess({\n  nfts,\n  sentNftsCount = 0,\n  toAddress,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  const isInProgress = sentNftsCount < nfts.length;\n  const isBurning = toAddress === BURN_ADDRESS;\n  const isNotcoinBurning = toAddress === NOTCOIN_EXCHANGERS[0];\n\n  const title = isInProgress ? lang(\n    `${(isBurning || isNotcoinBurning) ? 'Burning' : 'Sending'}: %n% of %m% NFTs...`,\n    { n: sentNftsCount, m: nfts.length },\n  ) : lang('Sent');\n  const duration = (Math.ceil(nfts.length / NFT_BATCH_SIZE) * BURN_CHUNK_DURATION_APPROX_SEC) / 60;\n\n  return (\n    <>\n      <ModalHeader title={title} />\n\n      <div className={modalStyles.transitionContent}>\n        {isInProgress && (\n          <>\n            <Loading className={styles.spinner} />\n            <div className={styles.infoBox}>{lang('$multi_send_nft_warning', { duration })}</div>\n          </>\n        )}\n        {nfts!.length === 1 ? <NftInfo nft={nfts![0]} /> : <NftChips nfts={nfts!} />}\n        {!isInProgress && (\n          <div className={modalStyles.buttons}>\n            <Button onClick={onClose} isPrimary>{lang('Close')}</Button>\n          </div>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default memo(TransferMultiNftProcess);\n","import React, { memo, type TeactNode } from '../../lib/teact/teact';\nimport { getActions } from '../../global';\n\nimport { IS_CAPACITOR } from '../../config';\n\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\n\nimport ModalHeader from '../ui/ModalHeader';\nimport PasswordForm from '../ui/PasswordForm';\n\ninterface OwnProps {\n  isActive: boolean;\n  isLoading?: boolean;\n  isBurning?: boolean;\n  error?: string;\n  children?: TeactNode;\n  onSubmit: (password: string) => void;\n  onCancel: NoneToVoidFunction;\n}\n\nfunction TransferPassword({\n  isActive, isLoading, isBurning, error, children, onSubmit, onCancel,\n}: OwnProps) {\n  const {\n    cancelTransfer,\n    clearTransferError,\n  } = getActions();\n\n  const lang = useLang();\n\n  useHistoryBack({\n    isActive,\n    onBack: onCancel,\n  });\n\n  const title = isBurning ? 'Confirm Burning' : 'Confirm Sending';\n\n  return (\n    <>\n      {!IS_CAPACITOR && <ModalHeader title={lang(title)} onClose={cancelTransfer} />}\n      <PasswordForm\n        isActive={isActive}\n        isLoading={isLoading}\n        withCloseButton={Boolean(children)}\n        operationType=\"transfer\"\n        error={error}\n        submitLabel={lang('Send')}\n        cancelLabel={lang('Back')}\n        onSubmit={onSubmit}\n        onCancel={onCancel}\n        onUpdate={clearTransferError}\n      >\n        {children}\n      </PasswordForm>\n    </>\n  );\n}\n\nexport default memo(TransferPassword);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport { TON_SYMBOL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { formatCurrencyExtended } from '../../util/formatNumber';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './AmountWithFeeTextField.module.scss';\n\ninterface OwnProps {\n  amount: string;\n  label: string;\n  currency?: string;\n  symbol?: string;\n  fee?: string;\n  feeSymbol?: string;\n  className?: string;\n  labelClassName?: string;\n}\n\nfunction AmountWithFeeTextField({\n  amount,\n  label,\n  currency = '',\n  symbol,\n  fee,\n  feeSymbol = TON_SYMBOL,\n  className,\n  labelClassName,\n}: OwnProps) {\n  const lang = useLang();\n\n  return (\n    <>\n      <div className={buildClassName(styles.label, labelClassName)}>{label}</div>\n      <div className={buildClassName(styles.root, className)}>\n        {formatCurrencyExtended(amount, currency, true)}\n        {symbol && <span className={styles.suffix}>{symbol}</span>}\n        {Boolean(fee) && (\n          <>\n            <div className={styles.feeLabel}>{lang('Fee')}</div>\n            <span className={styles.feeConfirm}>\n              {formatCurrencyExtended(fee, feeSymbol)}\n            </span>\n          </>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default memo(AmountWithFeeTextField);\n","import type { FC } from '../../lib/teact/teact';\nimport React, { memo, useEffect, useMemo } from '../../lib/teact/teact';\nimport { getGlobal } from '../../global';\n\nimport { ANIMATION_LEVEL_MAX } from '../../config';\nimport { throttleWithTickEnd } from '../../util/schedulers';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useLang from '../../hooks/useLang';\nimport usePrevious from '../../hooks/usePrevious';\n\nimport styles from './AnimatedCounter.module.scss';\n\ntype OwnProps = {\n  text: string;\n  isDisabled?: boolean;\n};\n\nconst ANIMATION_TIME = 200;\nconst MAX_SIMULTANEOUS_ANIMATIONS = 10;\n\nlet scheduledAnimationsCounter = 0;\n\nconst resetCounterOnTickEnd = throttleWithTickEnd(() => {\n  scheduledAnimationsCounter = 0;\n});\n\nconst AnimatedCounter: FC<OwnProps> = ({\n  text,\n  isDisabled,\n}) => {\n  const animationLevel = getGlobal().settings.animationLevel;\n  const { isRtl } = useLang();\n\n  const prevText = usePrevious(text);\n  const forceUpdate = useForceUpdate();\n\n  const shouldAnimate = scheduleAnimation(\n    !isDisabled && animationLevel === ANIMATION_LEVEL_MAX && prevText !== undefined && prevText !== text,\n  );\n\n  const characters = useMemo(() => {\n    return shouldAnimate ? renderAnimatedCharacters(text, prevText) : text;\n  }, [shouldAnimate, prevText, text]);\n\n  useEffect(() => {\n    if (!shouldAnimate) return undefined;\n\n    const timeoutId = window.setTimeout(() => {\n      forceUpdate();\n    }, ANIMATION_TIME);\n\n    return () => {\n      window.clearTimeout(timeoutId);\n    };\n  }, [shouldAnimate, text]);\n\n  return (\n    <span className={!isDisabled && styles.root} dir={isRtl ? 'rtl' : undefined}>\n      {characters}\n    </span>\n  );\n};\n\nexport default memo(AnimatedCounter);\n\nfunction scheduleAnimation(condition: boolean) {\n  if (!condition || scheduledAnimationsCounter >= MAX_SIMULTANEOUS_ANIMATIONS) return false;\n\n  if (scheduledAnimationsCounter === 0) {\n    resetCounterOnTickEnd();\n  }\n\n  scheduledAnimationsCounter++;\n\n  return true;\n}\n\nfunction renderAnimatedCharacters(text: string, prevText?: string) {\n  const elements: React.ReactNode[] = [];\n  const textLength = text.length;\n  const prevTextLength = prevText?.length ?? 0;\n\n  for (let i = 0; i <= textLength; i++) {\n    const charIndex = textLength - i;\n    const prevTextCharIndex = prevTextLength - i;\n\n    if (prevText && prevTextCharIndex >= 0 && text[charIndex] !== prevText[prevTextCharIndex]) {\n      elements.unshift(\n        <div className={styles.characterContainer}>\n          <div className={styles.character}>{text[charIndex] ?? ''}</div>\n          <div className={styles.characterOld}>{prevText[prevTextCharIndex]}</div>\n          <div className={styles.characterNew}>{text[charIndex] ?? ''}</div>\n        </div>,\n      );\n    } else {\n      elements.unshift(<span>{text[charIndex] ?? ''}</span>);\n    }\n  }\n\n  return elements;\n}\n","import React, {\n  memo, useState,\n} from '../../lib/teact/teact';\n\nimport type { OwnProps as AnimatedStickerProps } from './AnimatedSticker';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useMediaTransition from '../../hooks/useMediaTransition';\n\nimport AnimatedSticker from './AnimatedSticker';\n\nexport type OwnProps =\n  Partial<AnimatedStickerProps>\n  & { noTransition?: boolean; nonInteractive?: boolean; size: number };\n\nfunction AnimatedIcon(props: OwnProps) {\n  const {\n    size,\n    play = true,\n    noLoop = true,\n    className,\n    noTransition,\n    nonInteractive,\n    onLoad,\n    onClick,\n    ...otherProps\n  } = props;\n  const [isAnimationLoaded, markAnimationLoaded] = useFlag(false);\n  const transitionClassNames = useMediaTransition(noTransition || isAnimationLoaded);\n\n  const handleLoad = useLastCallback(() => {\n    markAnimationLoaded();\n    onLoad?.();\n  });\n\n  const [playKey, setPlayKey] = useState(String(Math.random()));\n\n  const handleClick = useLastCallback(() => {\n    if (play === true) {\n      setPlayKey(String(Math.random()));\n    }\n\n    onClick?.();\n  });\n\n  return (\n    <AnimatedSticker\n      className={buildClassName(className, transitionClassNames)}\n      size={size}\n      play={play === true ? playKey : play}\n      noLoop={noLoop}\n      onClick={!nonInteractive ? handleClick : undefined}\n      onLoad={handleLoad}\n      /* eslint-disable-next-line react/jsx-props-no-spreading */\n      {...otherProps}\n    />\n  );\n}\n\nexport default memo(AnimatedIcon);\n","import React, { memo, useEffect } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport type { OwnProps as AnimatedIconProps } from './AnimatedIcon';\n\nimport { ANIMATION_LEVEL_MIN } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport buildStyle from '../../util/buildStyle';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useMediaTransition from '../../hooks/useMediaTransition';\n\nimport AnimatedIcon from './AnimatedIcon';\n\nimport styles from './AnimatedIconWithPreview.module.scss';\n\ntype OwnProps =\n  Partial<AnimatedIconProps>\n  & { previewUrl?: string; thumbDataUri?: string; noPreviewTransition?: boolean };\n\ninterface StateProps {\n  noAnimation?: boolean;\n}\n\nconst loadedPreviewUrls = new Set();\nconst DEFAULT_SIZE = 150;\n\nfunction AnimatedIconWithPreview(props: OwnProps & StateProps) {\n  const {\n    size = DEFAULT_SIZE, previewUrl, thumbDataUri, className, noAnimation, ...otherProps\n  } = props;\n\n  const [isPreviewLoaded, markPreviewLoaded] = useFlag(Boolean(thumbDataUri) || loadedPreviewUrls.has(previewUrl));\n  const transitionClassNames = useMediaTransition(isPreviewLoaded);\n  const [isAnimationReady, markAnimationReady, markAnimationNotReady] = useFlag(false);\n\n  useEffect(() => {\n    if (noAnimation) {\n      markAnimationNotReady();\n    }\n  }, [markAnimationNotReady, noAnimation]);\n\n  const handlePreviewLoad = useLastCallback(() => {\n    markPreviewLoaded();\n    loadedPreviewUrls.add(previewUrl);\n  });\n\n  return (\n    <div\n      className={buildClassName(className, styles.root, transitionClassNames)}\n      style={buildStyle(size !== undefined && `width: ${size}px; height: ${size}px;`)}\n    >\n      {thumbDataUri && !previewUrl && !isAnimationReady && (\n        // eslint-disable-next-line jsx-a11y/alt-text\n        <img src={thumbDataUri} className={styles.preview} />\n      )}\n      {previewUrl && !isAnimationReady && (\n        // eslint-disable-next-line jsx-a11y/alt-text\n        <img\n          src={previewUrl}\n          className={styles.preview}\n          onLoad={handlePreviewLoad}\n        />\n      )}\n      {/* eslint-disable-next-line react/jsx-props-no-spreading */}\n      {!noAnimation && <AnimatedIcon size={size} {...otherProps} onLoad={markAnimationReady} noTransition />}\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  return {\n    noAnimation: global.settings.animationLevel === ANIMATION_LEVEL_MIN,\n  };\n})(AnimatedIconWithPreview));\n","import type { RefObject } from 'react';\nimport type { FC } from '../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport type RLottieInstance from '../../lib/rlottie/RLottie';\n\nimport { requestMeasure } from '../../lib/fasterdom/fasterdom';\nimport { ensureRLottie, getRLottie } from '../../lib/rlottie/RLottie.async';\nimport buildClassName from '../../util/buildClassName';\nimport buildStyle from '../../util/buildStyle';\nimport generateUniqueId from '../../util/generateUniqueId';\nimport { IS_ELECTRON, IS_IOS } from '../../util/windowEnvironment';\n\nimport useBackgroundMode, { isBackgroundModeActive } from '../../hooks/useBackgroundMode';\nimport useEffectWithPrevDeps from '../../hooks/useEffectWithPrevDeps';\nimport useHeavyAnimationCheck, { isHeavyAnimating } from '../../hooks/useHeavyAnimationCheck';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport usePriorityPlaybackCheck, { isPriorityPlaybackActive } from '../../hooks/usePriorityPlaybackCheck';\nimport useSharedIntersectionObserver from '../../hooks/useSharedIntersectionObserver';\nimport { useStateRef } from '../../hooks/useStateRef';\nimport useThrottledCallback from '../../hooks/useThrottledCallback';\nimport useUniqueId from '../../hooks/useUniqueId';\n\nexport type OwnProps = {\n  ref?: RefObject<HTMLDivElement>;\n  renderId?: string;\n  className?: string;\n  style?: string;\n  tgsUrl?: string;\n  play?: boolean | string;\n  playSegment?: [number, number];\n  speed?: number;\n  noLoop?: boolean;\n  size: number;\n  quality?: number;\n  color?: string;\n  isLowPriority?: boolean;\n  forceOnHeavyAnimation?: boolean;\n  forceInBackground?: boolean;\n  sharedCanvas?: HTMLCanvasElement;\n  sharedCanvasCoords?: { x: number; y: number };\n  onClick?: NoneToVoidFunction;\n  onLoad?: NoneToVoidFunction;\n  onEnded?: NoneToVoidFunction;\n  onLoop?: NoneToVoidFunction;\n};\n\nconst THROTTLE_MS = 150;\n\nconst AnimatedSticker: FC<OwnProps> = ({\n  ref,\n  renderId,\n  className,\n  style,\n  tgsUrl,\n  play,\n  playSegment,\n  speed,\n  noLoop,\n  size,\n  quality,\n  isLowPriority,\n  color,\n  forceOnHeavyAnimation,\n  forceInBackground,\n  sharedCanvas,\n  sharedCanvasCoords,\n  onClick,\n  onLoad,\n  onEnded,\n  onLoop,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  let containerRef = useRef<HTMLDivElement>(null);\n  if (ref) {\n    containerRef = ref;\n  }\n\n  const viewId = useUniqueId();\n\n  const [animation, setAnimation] = useState<RLottieInstance>();\n  const animationRef = useRef<RLottieInstance>();\n  const isFirstRender = useRef(true);\n\n  const playKey = play || (play === false ? false : playSegment);\n  const playRef = useStateRef(play);\n  const playSegmentRef = useStateRef(playSegment);\n\n  const rgbColor = useRef<[number, number, number] | undefined>();\n\n  const isUnmountedRef = useRef(false);\n  useEffect(() => {\n    return () => {\n      isUnmountedRef.current = true;\n    };\n  }, []);\n\n  const init = useLastCallback(() => {\n    if (\n      animationRef.current\n      || isUnmountedRef.current\n      || !tgsUrl\n      || (sharedCanvas && (!sharedCanvasCoords || !sharedCanvas.offsetWidth || !sharedCanvas.offsetHeight))\n    ) {\n      return;\n    }\n\n    const container = containerRef.current || sharedCanvas;\n    if (!container) {\n      return;\n    }\n\n    const newAnimation = getRLottie().init(\n      tgsUrl,\n      container,\n      renderId || generateUniqueId(),\n      {\n        size,\n        noLoop,\n        quality,\n        isLowPriority,\n        coords: sharedCanvasCoords,\n      },\n      viewId,\n      rgbColor.current,\n      onLoad,\n      onEnded,\n      onLoop,\n    );\n\n    if (speed) {\n      newAnimation.setSpeed(speed);\n    }\n\n    setAnimation(newAnimation);\n    animationRef.current = newAnimation;\n  });\n\n  useEffect(() => {\n    if (getRLottie()) {\n      init();\n    } else {\n      ensureRLottie().then(init);\n    }\n  }, [init, tgsUrl, sharedCanvas, sharedCanvasCoords]);\n\n  const throttledInit = useThrottledCallback(init, [init], THROTTLE_MS);\n  useSharedIntersectionObserver(sharedCanvas, throttledInit);\n\n  useEffect(() => {\n    if (!animation) return;\n\n    animation.setColor(rgbColor.current);\n  }, [color, animation]);\n\n  useEffect(() => {\n    return () => {\n      animationRef.current?.removeView(viewId);\n    };\n  }, [viewId]);\n\n  const playAnimation = useLastCallback((shouldRestart = false) => {\n    if (\n      !animation\n      || !(playRef.current || playSegmentRef.current)\n      || isFrozen(forceOnHeavyAnimation, forceInBackground)\n    ) {\n      return;\n    }\n\n    if (playSegmentRef.current) {\n      animation.playSegment(playSegmentRef.current, shouldRestart, viewId);\n    } else {\n      animation.play(shouldRestart, viewId);\n    }\n  });\n\n  const playAnimationOnRaf = useLastCallback(() => {\n    requestMeasure(playAnimation);\n  });\n\n  const pauseAnimation = useLastCallback(() => {\n    if (animation?.isPlaying()) {\n      animation.pause(viewId);\n    }\n  });\n\n  useEffectWithPrevDeps(([prevNoLoop]) => {\n    if (prevNoLoop !== undefined && noLoop !== prevNoLoop) {\n      animation?.setNoLoop(noLoop);\n    }\n  }, [noLoop, animation]);\n\n  useEffectWithPrevDeps(([prevSharedCanvasCoords]) => {\n    if (prevSharedCanvasCoords !== undefined && sharedCanvasCoords !== prevSharedCanvasCoords) {\n      animation?.setSharedCanvasCoords(viewId, sharedCanvasCoords);\n    }\n  }, [sharedCanvasCoords, viewId, animation]);\n\n  useEffect(() => {\n    if (!animation) {\n      return;\n    }\n\n    if (playKey) {\n      if (!isFrozen(forceOnHeavyAnimation, forceInBackground)) {\n        playAnimation(noLoop);\n      }\n    } else {\n      pauseAnimation();\n    }\n  }, [animation, playKey, noLoop, playAnimation, pauseAnimation, forceOnHeavyAnimation, forceInBackground]);\n\n  useEffect(() => {\n    if (animation) {\n      if (isFirstRender.current) {\n        isFirstRender.current = false;\n      } else if (tgsUrl) {\n        animation.changeData(tgsUrl);\n        playAnimation();\n      }\n    }\n  }, [playAnimation, animation, tgsUrl]);\n\n  useHeavyAnimationCheck(pauseAnimation, playAnimation, forceOnHeavyAnimation || IS_IOS || !playKey);\n  usePriorityPlaybackCheck(pauseAnimation, playAnimation, !playKey);\n  // Pausing frame may not happen in background,\n  // so we need to make sure it happens right after focusing,\n  // then we can play again.\n  useBackgroundMode(pauseAnimation, playAnimationOnRaf, !playKey || forceInBackground);\n\n  if (sharedCanvas) {\n    return undefined;\n  }\n\n  return (\n    <div\n      ref={containerRef}\n      className={buildClassName('AnimatedSticker', className)}\n      style={buildStyle(\n        size !== undefined && `width: ${size}px; height: ${size}px;`,\n        onClick && !IS_ELECTRON && 'cursor: pointer',\n        style,\n      )}\n      onClick={onClick}\n    />\n  );\n};\n\nexport default memo(AnimatedSticker);\n\nfunction isFrozen(forceOnHeavyAnimation = false, forceInBackground = false) {\n  return (!forceOnHeavyAnimation && !IS_IOS && isHeavyAnimating())\n    || isPriorityPlaybackActive()\n    || (!forceInBackground && isBackgroundModeActive());\n}\n","import type { RefObject } from 'react';\nimport React, { memo, useState } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport LoadingDots from './LoadingDots';\n\nimport styles from './Button.module.scss';\n\ntype OwnProps = {\n  ref?: RefObject<HTMLButtonElement>;\n  children: React.ReactNode;\n  id?: string;\n  className?: string;\n  style?: string;\n  ariaLabel?: string;\n  forFormId?: string;\n  kind?: 'transparent';\n  isSubmit?: boolean;\n  isPrimary?: boolean;\n  isSimple?: boolean;\n  isText?: boolean;\n  isLoading?: boolean;\n  isDisabled?: boolean;\n  isRound?: boolean;\n  isSmall?: boolean;\n  isDestructive?: boolean;\n  onClick?: NoneToVoidFunction;\n  shouldStopPropagation?: boolean;\n};\n\n// Longest animation duration\nconst CLICKED_TIMEOUT = 400;\n\nfunction Button({\n  ref,\n  children,\n  id,\n  className,\n  style,\n  ariaLabel,\n  forFormId,\n  kind,\n  isSubmit,\n  isLoading,\n  isPrimary,\n  isSimple,\n  isText,\n  isDisabled,\n  isRound,\n  isSmall,\n  isDestructive,\n  onClick,\n  shouldStopPropagation,\n}: OwnProps) {\n  const [isClicked, setIsClicked] = useState(false);\n\n  const handleClick = useLastCallback((event: React.MouseEvent) => {\n    if (!isDisabled && onClick) {\n      if (shouldStopPropagation) {\n        event.stopPropagation();\n      }\n      onClick();\n    }\n\n    setIsClicked(true);\n    setTimeout(() => {\n      setIsClicked(false);\n    }, CLICKED_TIMEOUT);\n  });\n\n  const loadingClassName = buildClassName(\n    isLoading !== undefined && styles.loadingInit,\n    isLoading && styles.loadingStart,\n  );\n\n  return (\n    <button\n      id={id}\n      ref={ref}\n      type={isSubmit || forFormId ? 'submit' : 'button'}\n      className={buildClassName(\n        styles.button,\n        isSimple && styles.isSimple,\n        isSmall && styles.sizeSmall,\n        isPrimary && styles.primary,\n        (isDisabled || isLoading) && styles.disabled,\n        loadingClassName,\n        isRound && styles.round,\n        isText && styles.isText,\n        isDestructive && styles.destructive,\n        isClicked && styles.clicked,\n        className,\n        kind && styles[kind],\n      )}\n      style={style}\n      aria-label={ariaLabel}\n      onClick={handleClick}\n      disabled={isDisabled || isLoading}\n      form={forFormId}\n    >\n      {children}\n      <LoadingDots isActive={isLoading} className={styles.loadingDots} />\n    </button>\n  );\n}\n\nexport default memo(Button);\n","import type { ChangeEvent } from 'react';\nimport React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport styles from './Checkbox.module.scss';\n\ntype OwnProps = {\n  id?: string;\n  className?: string;\n  contentClassName?: string;\n  children?: React.ReactNode;\n  checked: boolean;\n  onChange: (isChecked: boolean) => void;\n};\n\nfunction Checkbox({\n  id,\n  className,\n  contentClassName,\n  children,\n  checked,\n  onChange,\n}: OwnProps) {\n  const handleChange = useLastCallback((e: ChangeEvent<HTMLInputElement>) => {\n    e.preventDefault();\n    onChange(e.currentTarget.checked);\n  });\n\n  return (\n    <label className={buildClassName(styles.wrapper, className)}>\n      <input\n        id={id}\n        type=\"checkbox\"\n        className={styles.input}\n        checked={checked}\n        tabIndex={0}\n        onChange={handleChange}\n      />\n      <div className={buildClassName(styles.content, contentClassName)}>\n        {children}\n      </div>\n    </label>\n  );\n}\n\nexport default memo(Checkbox);\n","import React, { memo, useRef } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { requestMeasure } from '../../lib/fasterdom/fasterdom';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useSyncEffect from '../../hooks/useSyncEffect';\nimport useWindowSize from '../../hooks/useWindowSize';\n\nimport styles from './ConfettiContainer.module.scss';\n\ntype StateProps = {\n  lastRequestedAt?: number;\n};\n\ninterface Confetti {\n  pos: {\n    x: number;\n    y: number;\n  };\n  velocity: {\n    x: number;\n    y: number;\n  };\n  size: number;\n  color: string;\n  flicker: number;\n  flickerFrequency: number;\n  rotation: number;\n  lastDrawnAt: number;\n  frameCount: number;\n}\n\nconst CONFETTI_FADEOUT_TIMEOUT = 10000;\nconst DEFAULT_CONFETTI_SIZE = 10;\nconst CONFETTI_COLORS = ['#E8BC2C', '#D0049E', '#02CBFE', '#5723FD', '#FE8C27', '#6CB859'];\n\nfunction ConfettiContainer({ lastRequestedAt }: StateProps) {\n  // eslint-disable-next-line no-null/no-null\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const confettiRef = useRef<Confetti[]>([]);\n  const isRafStartedRef = useRef(false);\n  const windowSize = useWindowSize();\n  const forceUpdate = useForceUpdate();\n  const { isPortrait } = useDeviceScreen();\n\n  const defaultConfettiAmount = isPortrait ? 50 : 100;\n\n  const invokeGenerateConfetti = useLastCallback((w: number, h: number) => {\n    generateConfetti(confettiRef, w, h, defaultConfettiAmount);\n  });\n\n  const updateCanvas = useLastCallback(() => {\n    if (!canvasRef.current || !isRafStartedRef.current) {\n      return;\n    }\n    const canvas = canvasRef.current;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) {\n      return;\n    }\n\n    const { width: canvasWidth, height: canvasHeight } = canvas;\n    ctx.clearRect(0, 0, canvasWidth, canvasHeight);\n\n    const confettiToRemove: Set<Confetti> = new Set([]);\n    confettiRef.current.forEach((c, i) => {\n      const {\n        pos,\n        velocity,\n        size,\n        color,\n        flicker,\n        flickerFrequency,\n        rotation,\n        lastDrawnAt,\n        frameCount,\n      } = c;\n      const diff = (Date.now() - lastDrawnAt) / 1000;\n\n      const newPos = {\n        x: pos.x + velocity.x * diff,\n        y: pos.y + velocity.y * diff,\n      };\n\n      const newVelocity = {\n        x: velocity.x * 0.98, // Air Resistance\n        y: velocity.y += diff * 1000, // Gravity\n      };\n\n      const newFlicker = size * Math.abs(Math.sin(frameCount * flickerFrequency));\n      const newRotation = 5 * frameCount * flickerFrequency * (Math.PI / 180);\n\n      const newFrameCount = frameCount + 1;\n      const newLastDrawnAt = Date.now();\n\n      const shouldRemove = newPos.y > canvasHeight + c.size;\n      if (shouldRemove) {\n        confettiToRemove.add(c);\n        return;\n      }\n\n      confettiRef.current[i] = {\n        ...c,\n        pos: newPos,\n        velocity: newVelocity,\n        flicker: newFlicker,\n        rotation: newRotation,\n        lastDrawnAt: newLastDrawnAt,\n        frameCount: newFrameCount,\n      };\n      ctx.fillStyle = color;\n      ctx.beginPath();\n      ctx.ellipse(\n        pos.x,\n        pos.y,\n        size,\n        flicker,\n        rotation,\n        0,\n        2 * Math.PI,\n      );\n      ctx.fill();\n    });\n\n    confettiRef.current = confettiRef.current.filter((c) => !confettiToRemove.has(c));\n    if (confettiRef.current.length) {\n      requestMeasure(updateCanvas);\n    } else {\n      isRafStartedRef.current = false;\n    }\n  });\n\n  useSyncEffect(([prevConfettiTime]) => {\n    let hideTimeout: number;\n    if (lastRequestedAt && prevConfettiTime !== lastRequestedAt) {\n      invokeGenerateConfetti(windowSize.width, windowSize.height);\n      hideTimeout = window.setTimeout(forceUpdate, CONFETTI_FADEOUT_TIMEOUT);\n\n      if (!isRafStartedRef.current) {\n        isRafStartedRef.current = true;\n        requestMeasure(updateCanvas);\n      }\n    }\n\n    return () => {\n      window.clearTimeout(hideTimeout);\n    };\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps -- Old timeout should be cleared only if new confetti is generated\n  }, [lastRequestedAt, forceUpdate, updateCanvas]);\n\n  if (!lastRequestedAt || Date.now() - lastRequestedAt > CONFETTI_FADEOUT_TIMEOUT) {\n    return undefined;\n  }\n  return (\n    <div id=\"Confetti\" className={styles.root}>\n      <canvas ref={canvasRef} width={windowSize.width} height={windowSize.height} />\n    </div>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  return {\n    lastRequestedAt: global.confettiRequestedAt,\n  };\n})(ConfettiContainer));\n\nfunction generateConfetti(confettiRef: { current: Confetti[] }, width : number, height: number, amount: number) {\n  for (let i = 0; i < amount; i++) {\n    const leftSide = i % 2;\n    const pos = {\n      x: width * (leftSide ? -0.1 : 1.1),\n      y: height * 0.75,\n    };\n    const randomX = Math.random() * width * 1.5;\n    const randomY = -height / 2 - Math.random() * height;\n    const velocity = {\n      x: leftSide ? randomX : randomX * -1,\n      y: randomY,\n    };\n\n    const randomColor = CONFETTI_COLORS[Math.floor(Math.random() * CONFETTI_COLORS.length)];\n    const size = DEFAULT_CONFETTI_SIZE;\n    confettiRef.current.push({\n      pos,\n      size,\n      color: randomColor,\n      velocity,\n      flicker: size,\n      flickerFrequency: Math.random() * 0.2,\n      rotation: 0,\n      lastDrawnAt: Date.now(),\n      frameCount: 0,\n    });\n  }\n}\n","import React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport { PIN_LENGTH } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { IS_ANDROID, IS_IOS } from '../../util/windowEnvironment';\n\nimport useFlag from '../../hooks/useFlag';\nimport useFocusAfterAnimation from '../../hooks/useFocusAfterAnimation';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport { usePasswordValidation } from '../../hooks/usePasswordValidation';\n\nimport Button from './Button';\nimport Input from './Input';\nimport Modal from './Modal';\n\nimport styles from '../auth/Auth.module.scss';\nimport modalStyles from './Modal.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  isLoading?: boolean;\n  formId: string;\n  onCancel: NoneToVoidFunction;\n  onSubmit: (password: string, isPasswordNumeric: boolean) => void;\n}\n\nfunction CreatePasswordForm({\n  isActive, isLoading, formId, onCancel, onSubmit,\n}: OwnProps) {\n  const lang = useLang();\n  const isMobile = IS_IOS || IS_ANDROID;\n\n  // eslint-disable-next-line no-null/no-null\n  const firstInputRef = useRef<HTMLInputElement>(null);\n\n  const [isJustSubmitted, setIsJustSubmitted] = useState<boolean>(false);\n  const [firstPassword, setFirstPassword] = useState<string>('');\n  const [secondPassword, setSecondPassword] = useState<string>('');\n  const [isPasswordFocused, markPasswordFocused, unmarkPasswordFocused] = useFlag(false);\n  const [isWeakPasswordModalOpen, openWeakPasswordModal, closeWeakPasswordModal] = useFlag(false);\n\n  const [hasError, setHasError] = useState<boolean>(false);\n  const [isPasswordsNotEqual, setIsPasswordsNotEqual] = useState<boolean>(false);\n  const [isSecondPasswordFocused, markSecondPasswordFocused, unmarkSecondPasswordFocused] = useFlag(false);\n  const canSubmit = isActive && firstPassword.length > 0 && secondPassword.length > 0 && !hasError;\n\n  const shouldRenderError = hasError && !isPasswordFocused;\n\n  const validation = usePasswordValidation({\n    firstPassword,\n    secondPassword,\n    isOnlyNumbers: isMobile,\n    requiredLength: isMobile ? PIN_LENGTH : undefined,\n  });\n\n  useFocusAfterAnimation(firstInputRef, !isActive);\n\n  useEffect(() => {\n    setIsPasswordsNotEqual(false);\n    if (firstPassword === '' || !isActive || isPasswordFocused) {\n      setHasError(false);\n      return;\n    }\n\n    const { noEqual, invalidLength } = validation;\n\n    if ((!isSecondPasswordFocused || isJustSubmitted) && noEqual && secondPassword !== '') {\n      setHasError(true);\n      setIsPasswordsNotEqual(true);\n    } else if (!noEqual || secondPassword === '' || (isSecondPasswordFocused && !isJustSubmitted)) {\n      setHasError(false);\n    }\n    if (isMobile && invalidLength && !isJustSubmitted) {\n      setHasError(true);\n    }\n  }, [\n    isActive, firstPassword, secondPassword, validation, isSecondPasswordFocused, isPasswordFocused, isJustSubmitted,\n    isMobile,\n  ]);\n\n  const handleFirstPasswordChange = useLastCallback((value: string) => {\n    setFirstPassword(value);\n    if (isJustSubmitted) {\n      setIsJustSubmitted(false);\n    }\n  });\n\n  const handleSecondPasswordChange = useLastCallback((value: string) => {\n    setSecondPassword(value);\n    if (isJustSubmitted) {\n      setIsJustSubmitted(false);\n    }\n  });\n\n  const handleSubmit = useLastCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!canSubmit) {\n      return;\n    }\n\n    if (firstPassword !== secondPassword) {\n      setIsJustSubmitted(true);\n      setHasError(true);\n      setIsPasswordsNotEqual(true);\n      return;\n    }\n\n    const isWeakPassword = Object.values(validation).find((rule) => rule);\n\n    if (!isMobile && isWeakPassword && !isWeakPasswordModalOpen) {\n      openWeakPasswordModal();\n      return;\n    }\n\n    if (isWeakPasswordModalOpen) {\n      closeWeakPasswordModal();\n    }\n    onSubmit(firstPassword, isMobile);\n  });\n\n  function renderErrors() {\n    if (isPasswordsNotEqual) {\n      return (\n        <div className={buildClassName(styles.errors, styles.error)}>\n          {lang('Passwords must be equal.')}\n        </div>\n      );\n    }\n\n    const {\n      invalidLength,\n      noUpperCase,\n      noLowerCase,\n      noNumber,\n      noSpecialChar,\n    } = validation;\n\n    if (isMobile) {\n      return (\n        <div className={styles.passwordRules}>\n          <span className={getValidationRuleClass(shouldRenderError, invalidLength || noNumber)}>\n            {lang('Password must contain %length% digits.', { length: PIN_LENGTH })}\n          </span>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.passwordRules}>\n        {lang('To protect your wallet as much as possible, use a password with')}\n        <span className={getValidationRuleClass(shouldRenderError, invalidLength)}>\n          {' '}{lang('$auth_password_rule_8chars')},\n        </span>\n        <span className={getValidationRuleClass(shouldRenderError, noLowerCase)}>\n          {' '}{lang('$auth_password_rule_one_small_char')},\n        </span>\n        <span className={getValidationRuleClass(shouldRenderError, noUpperCase)}>\n          {' '}{lang('$auth_password_rule_one_capital_char')},\n        </span>\n        <span className={getValidationRuleClass(shouldRenderError, noNumber)}>\n          {' '}{lang('$auth_password_rule_one_digit')},\n        </span>\n        <span className={getValidationRuleClass(shouldRenderError, noSpecialChar)}>\n          {' '}{lang('$auth_password_rule_one_special_char')}\n        </span>.\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <form id={formId} className={styles.form} onSubmit={handleSubmit}>\n        <div className={styles.formWidgets}>\n          <Input\n            ref={firstInputRef}\n            type=\"password\"\n            isRequired\n            id=\"first-password\"\n            inputMode={isMobile ? 'numeric' : undefined}\n            hasError={shouldRenderError}\n            placeholder={lang('Enter your password...')}\n            value={firstPassword}\n            autoComplete=\"new-password\"\n            onInput={handleFirstPasswordChange}\n            onFocus={markPasswordFocused}\n            onBlur={unmarkPasswordFocused}\n            className={styles.input}\n            maxLength={isMobile ? PIN_LENGTH : undefined}\n          />\n          <Input\n            type=\"password\"\n            isRequired\n            id=\"second-password\"\n            inputMode={isMobile ? 'numeric' : undefined}\n            placeholder={lang('...and repeat it')}\n            hasError={isPasswordsNotEqual}\n            value={secondPassword}\n            autoComplete=\"new-password\"\n            onInput={handleSecondPasswordChange}\n            onFocus={markSecondPasswordFocused}\n            onBlur={unmarkSecondPasswordFocused}\n            className={styles.input}\n            maxLength={isMobile ? PIN_LENGTH : undefined}\n          />\n        </div>\n\n        {renderErrors()}\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={onCancel} className={modalStyles.button}>\n            {lang('Cancel')}\n          </Button>\n          <Button\n            isSubmit\n            isPrimary\n            isDisabled={isPasswordsNotEqual || firstPassword === ''}\n            isLoading={isLoading}\n            className={modalStyles.button}\n          >\n            {lang('Continue')}\n          </Button>\n        </div>\n      </form>\n\n      <Modal\n        isOpen={isWeakPasswordModalOpen}\n        isCompact\n        onClose={closeWeakPasswordModal}\n        title={lang('Insecure Password')}\n      >\n        <p className={modalStyles.text}>\n          {lang('Your have entered an insecure password, which can be easily guessed by scammers.')}\n        </p>\n        <p className={modalStyles.text}>\n          {lang('Continue or change password to something more secure?')}\n        </p>\n        <div className={buildClassName(modalStyles.buttons, modalStyles.buttonsNoExtraSpace)}>\n          <Button isPrimary onClick={closeWeakPasswordModal} className={modalStyles.button}>{lang('Change')}</Button>\n          <Button forFormId={formId} isSubmit isDestructive className={modalStyles.button}>{lang('Continue')}</Button>\n        </div>\n      </Modal>\n    </>\n  );\n}\n\nexport default memo(CreatePasswordForm);\n\nfunction getValidationRuleClass(shouldRenderError: boolean, ruleHasError: boolean) {\n  return buildClassName(\n    styles.passwordRule,\n    !ruleHasError ? styles.valid : shouldRenderError ? styles.invalid : undefined,\n  );\n}\n","import type { RefObject } from 'react';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport React, {\n  memo, useEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport buildStyle from '../../util/buildStyle';\nimport { clamp } from '../../util/math';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../util/windowEnvironment';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport styles from './Draggable.module.scss';\n\ntype TPoint = {\n  x: number;\n  y: number;\n};\n\ntype Offset = {\n  top?: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n};\n\ntype DraggableState = {\n  isDragging: boolean;\n  scrollTop: number;\n  origin: TPoint;\n  translation: TPoint;\n  width?: number;\n  height?: number;\n};\n\ntype OwnProps = {\n  children: React.ReactNode;\n  onDrag: (translation: TPoint, id: number | string) => void;\n  onDragEnd: NoneToVoidFunction;\n  id: number | string;\n  style?: string;\n  knobStyle?: string;\n  isDisabled?: boolean;\n  offset?: Offset;\n  parentRef?: RefObject<HTMLDivElement>;\n  scrollRef?: RefObject<HTMLDivElement>;\n  className?: string;\n  onClick: (e: React.MouseEvent | React.TouchEvent) => void;\n};\n\nconst ZERO_POINT: TPoint = { x: 0, y: 0 };\n\nconst DEFAULT_OFFSET: Offset = {\n  top: 0,\n  bottom: 0,\n  left: 0,\n  right: 0,\n};\n\nconst EDGE_THRESHOLD = 150;\n\nfunction Draggable({\n  children,\n  id,\n  onDrag,\n  onDragEnd,\n  style: externalStyle,\n  knobStyle,\n  isDisabled,\n  offset = DEFAULT_OFFSET,\n  parentRef,\n  scrollRef,\n  className,\n  onClick,\n}: OwnProps) {\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const buttonRef = useRef<HTMLDivElement>(null);\n\n  const scrollIntervalId = useRef<number>();\n\n  const [state, setState] = useState<DraggableState>({\n    isDragging: false,\n    scrollTop: 0,\n    origin: ZERO_POINT,\n    translation: ZERO_POINT,\n  });\n\n  const lastMousePosition = useRef<TPoint>({ x: 0, y: 0 });\n\n  const updateDraggablePosition = () => {\n    if (!state.isDragging || !ref.current || !parentRef?.current || !scrollRef?.current) return;\n\n    const translation = calculateConstrainedTranslation(\n      state,\n      lastMousePosition.current,\n      scrollRef.current.scrollTop,\n      ref.current,\n      parentRef.current,\n      offset,\n    );\n\n    setState((current) => ({\n      ...current,\n      translation,\n    }));\n\n    onDrag(translation, id);\n  };\n\n  const stopContinuousScroll = () => {\n    if (scrollIntervalId.current !== undefined) {\n      cancelAnimationFrame(scrollIntervalId.current);\n      scrollIntervalId.current = undefined;\n    }\n  };\n\n  const startContinuousScroll = (scrollContainer: HTMLElement, speed: number) => {\n    const animateScroll = () => {\n      scrollContainer.scrollBy(0, speed);\n      updateDraggablePosition();\n      scrollIntervalId.current = requestAnimationFrame(animateScroll);\n    };\n\n    stopContinuousScroll();\n    animateScroll();\n  };\n\n  const setInitialState = (e: React.MouseEvent | TouchEvent) => {\n    const origin = getClientCoordinate(e);\n    const scrollTop = scrollRef?.current?.scrollTop ?? 0;\n\n    setState({\n      ...state,\n      isDragging: true,\n      origin,\n      scrollTop,\n      width: ref.current?.offsetWidth,\n      height: ref.current?.offsetHeight,\n    });\n  };\n\n  const handleMouseDown = (e: React.MouseEvent) => {\n    setInitialState(e);\n  };\n\n  const handleTouchStart = useLastCallback((e: TouchEvent) => {\n    e.stopPropagation();\n    e.preventDefault();\n    setInitialState(e);\n\n    if (IS_DELEGATED_BOTTOM_SHEET) {\n      void BottomSheet.clearScrollPatch();\n    }\n  });\n\n  const handleMouseMove = useLastCallback((e: MouseEvent | TouchEvent) => {\n    if (!ref.current || !parentRef?.current || !scrollRef?.current) return;\n\n    const { x, y } = getClientCoordinate(e);\n    lastMousePosition.current = { x, y };\n\n    const translation = calculateConstrainedTranslation(\n      state,\n      lastMousePosition.current,\n      scrollRef.current.scrollTop,\n      ref.current,\n      parentRef.current,\n      offset,\n    );\n\n    const scrollRect = scrollRef.current.getBoundingClientRect();\n    const distanceFromTop = y - scrollRect.top;\n    const distanceFromBottom = scrollRect.bottom - y;\n\n    if (distanceFromTop < EDGE_THRESHOLD) {\n      startContinuousScroll(\n        scrollRef.current,\n        -scaledEase((EDGE_THRESHOLD - distanceFromTop) / EDGE_THRESHOLD),\n      );\n    } else if (distanceFromBottom < EDGE_THRESHOLD) {\n      startContinuousScroll(\n        scrollRef.current,\n        scaledEase((EDGE_THRESHOLD - distanceFromBottom) / EDGE_THRESHOLD),\n      );\n    } else {\n      stopContinuousScroll();\n    }\n\n    setState((current) => ({\n      ...current,\n      translation,\n    }));\n\n    onDrag(translation, id);\n  });\n\n  const handleMouseUp = useLastCallback(() => {\n    setState((current) => ({\n      ...current,\n      isDragging: false,\n      width: undefined,\n      height: undefined,\n    }));\n\n    if (IS_DELEGATED_BOTTOM_SHEET) {\n      void BottomSheet.applyScrollPatch();\n    }\n\n    onDragEnd();\n  });\n\n  const handleClick = useLastCallback((e: React.MouseEvent | React.TouchEvent) => {\n    if (state.isDragging) {\n      return;\n    }\n\n    onClick(e);\n  });\n\n  useEffect(() => {\n    const dragButtonRef = buttonRef.current;\n\n    if (dragButtonRef) {\n      dragButtonRef.addEventListener('touchstart', handleTouchStart, { passive: false });\n    }\n\n    if (state.isDragging) {\n      window.addEventListener('touchmove', handleMouseMove);\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('touchend', handleMouseUp);\n      window.addEventListener('touchcancel', handleMouseUp);\n      window.addEventListener('mouseup', handleMouseUp);\n    } else {\n      stopContinuousScroll();\n      window.removeEventListener('touchmove', handleMouseMove);\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('touchend', handleMouseUp);\n      window.removeEventListener('touchcancel', handleMouseUp);\n      window.removeEventListener('mouseup', handleMouseUp);\n\n      setState((current) => ({\n        ...current,\n        translation: ZERO_POINT,\n      }));\n    }\n\n    return () => {\n      if (state.isDragging) {\n        stopContinuousScroll();\n        window.removeEventListener('touchmove', handleMouseMove);\n        window.removeEventListener('mousemove', handleMouseMove);\n        window.removeEventListener('touchend', handleMouseUp);\n        window.removeEventListener('touchcancel', handleMouseUp);\n        window.removeEventListener('mouseup', handleMouseUp);\n\n        if (dragButtonRef) {\n          dragButtonRef.removeEventListener('touchstart', handleTouchStart);\n        }\n      }\n    };\n  }, [handleMouseMove, handleMouseUp, handleTouchStart, state.isDragging, buttonRef, isDisabled]);\n\n  const fullClassName = buildClassName(styles.container, className, state.isDragging && styles.isDragging);\n\n  const cssStyles = useMemo(() => {\n    return buildStyle(\n      state.isDragging && `transform: translate(${state.translation.x}px, ${state.translation.y}px)`,\n      state.width ? `width: ${state.width}px` : undefined,\n      state.height ? `height: ${state.height}px` : undefined,\n      externalStyle,\n    );\n  }, [externalStyle, state.height, state.isDragging, state.translation.x, state.translation.y, state.width]);\n\n  return (\n    <div style={cssStyles} className={fullClassName} ref={ref} onClick={handleClick}>\n      {!isDisabled && (\n        <div\n          ref={buttonRef}\n          aria-label={lang('i18n_dragToSort')}\n          tabIndex={0}\n          role=\"button\"\n          className={buildClassName(styles.knob, 'div-button', 'draggable-knob')}\n          onMouseDown={handleMouseDown}\n          style={knobStyle}\n        >\n          <i className=\"icon icon-sort\" aria-hidden />\n        </div>\n      )}\n      {children}\n    </div>\n  );\n}\n\nexport default memo(Draggable);\n\nfunction getClientCoordinate(e: MouseEvent | TouchEvent | React.MouseEvent | React.TouchEvent) {\n  let x;\n  let y;\n\n  if ('touches' in e) {\n    x = e.touches[0].clientX;\n    y = e.touches[0].clientY;\n  } else {\n    x = e.clientX;\n    y = e.clientY;\n  }\n\n  return { x, y };\n}\n\nfunction scaledEase(n: number) {\n  return 5 * (n ** 3) + 1;\n}\n\nfunction calculateConstrainedTranslation(\n  state: DraggableState,\n  lastMousePosition: TPoint,\n  lastScrollTop: number,\n  draggableElement: HTMLDivElement,\n  parentElement: HTMLDivElement,\n  offset: Offset,\n) {\n  const translation = {\n    x: lastMousePosition.x - state.origin.x,\n    y: lastMousePosition.y - state.origin.y + lastScrollTop - state.scrollTop,\n  };\n\n  const {\n    top = 0, right = 0, bottom = 0, left = 0,\n  } = offset;\n\n  const parentRect = parentElement.getBoundingClientRect();\n  const draggableRect = draggableElement.getBoundingClientRect();\n\n  const minX = -draggableElement.offsetLeft + left;\n  const maxX = parentRect.width - draggableRect.width - draggableElement.offsetLeft + right;\n  const minY = -draggableElement.offsetTop + top;\n  const maxY = parentRect.height - draggableRect.height - draggableElement.offsetTop + bottom;\n\n  return {\n    x: clamp(translation.x, minX, maxX),\n    y: clamp(translation.y, minY, maxY),\n  };\n}\n","import React, { memo, useMemo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\n\nimport DropdownMenu from './DropdownMenu';\nimport Loading from './Loading';\n\nimport styles from './Dropdown.module.scss';\n\nexport interface DropdownItem {\n  value: string;\n  name: string;\n  description?: string;\n  icon?: string;\n  fontIcon?: string;\n  isDisabled?: boolean;\n  isDangerous?: boolean;\n  withSeparator?: boolean;\n}\n\ninterface OwnProps {\n  label?: string;\n  selectedValue: string;\n  items: DropdownItem[];\n  className?: string;\n  theme?: 'light';\n  arrow?: 'caret' | 'chevron';\n  menuPosition?: 'top' | 'bottom';\n  menuPositionHorizontal?: 'right' | 'left';\n  disabled?: boolean;\n  shouldTranslateOptions?: boolean;\n  onChange?: (value: string) => void;\n  isLoading?: boolean;\n}\n\nconst DEFAULT_ARROW = 'caret';\nconst DEFAULT_MENU_POSITION_HORIZONTAL = 'right';\n\nfunction Dropdown({\n  label,\n  items,\n  selectedValue,\n  className,\n  theme,\n  arrow = DEFAULT_ARROW,\n  menuPosition,\n  menuPositionHorizontal = DEFAULT_MENU_POSITION_HORIZONTAL,\n  disabled,\n  shouldTranslateOptions,\n  onChange,\n  isLoading = false,\n}: OwnProps): TeactJsx {\n  const lang = useLang();\n  const [isMenuOpen, openMenu, closeMenu] = useFlag();\n\n  const selectedItem = useMemo(() => {\n    return items.find((item) => item.value === selectedValue);\n  }, [items, selectedValue]);\n\n  if (!items.length) {\n    return undefined;\n  }\n\n  const buttonArrowIcon = buildClassName(\n    styles.buttonIcon,\n    arrow === 'chevron' ? 'icon-chevron-down' : 'icon-caret-down',\n  );\n\n  const withMenu = items.length > 1;\n  const isFullyInteractive = Boolean(label);\n  const fullClassName = buildClassName(\n    className,\n    theme && styles[theme],\n    withMenu && styles.interactive,\n    isFullyInteractive && styles.wide,\n    isFullyInteractive && disabled && styles.disabled,\n  );\n  const buttonFullClassName = buildClassName(\n    styles.button,\n    withMenu && styles.interactive,\n    !isFullyInteractive && disabled && styles.disabled,\n  );\n\n  return (\n    <div\n      className={fullClassName}\n      onClick={isFullyInteractive && !disabled && withMenu ? openMenu : undefined}\n    >\n      {label && <span className={styles.label}>{label}</span>}\n\n      {isLoading ? (\n        <Loading className={styles.spinner} />\n      ) : (\n        <button\n          type=\"button\"\n          className={buttonFullClassName}\n          onClick={!isFullyInteractive && withMenu ? openMenu : undefined}\n          disabled={disabled}\n        >\n          {selectedItem?.icon && <img src={selectedItem.icon} alt=\"\" className={styles.itemIcon} />}\n          {selectedItem?.fontIcon && (\n            <i\n              className={buildClassName(`icon-${selectedItem.fontIcon}`, styles.fontIcon)}\n              aria-hidden\n            />\n          )}\n          <span className={buildClassName(styles.itemName, 'itemName')}>\n            {shouldTranslateOptions ? lang(selectedItem!.name) : selectedItem!.name}\n          </span>\n          {withMenu && <i className={buttonArrowIcon} aria-hidden />}\n        </button>\n      )}\n\n      {withMenu && (\n        <DropdownMenu\n          isOpen={isMenuOpen && !isLoading}\n          menuPositionHorizontal={menuPositionHorizontal}\n          menuPosition={menuPosition}\n          items={items}\n          shouldTranslateOptions={shouldTranslateOptions}\n          selectedValue={selectedValue}\n          onSelect={onChange}\n          onClose={closeMenu}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default memo(Dropdown);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport type { DropdownItem } from './Dropdown';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport Menu from './Menu';\n\nimport styles from './Dropdown.module.scss';\n\ninterface OwnProps {\n  isOpen: boolean;\n  selectedValue?: string;\n  items: DropdownItem[];\n  withPortal?: boolean;\n  menuPosition?: 'top' | 'bottom';\n  menuPositionHorizontal?: 'right' | 'left';\n  transformOriginX?: number;\n  transformOriginY?: number;\n  menuStyle?: string;\n  shouldTranslateOptions?: boolean;\n  className?: string;\n  bubbleClassName?: string;\n  buttonClassName?: string;\n  shouldCleanup?: boolean;\n  onSelect?: (value: string) => void;\n  onClose: NoneToVoidFunction;\n}\n\nfunction DropdownMenu({\n  isOpen,\n  selectedValue,\n  items,\n  withPortal,\n  menuPosition,\n  menuPositionHorizontal,\n  menuStyle,\n  transformOriginX,\n  transformOriginY,\n  shouldTranslateOptions,\n  className,\n  bubbleClassName,\n  buttonClassName,\n  shouldCleanup,\n  onSelect,\n  onClose,\n}: OwnProps) {\n  const lang = useLang();\n\n  const handleItemClick = (e: React.MouseEvent, value: string) => {\n    e.stopPropagation();\n    onSelect?.(value);\n    onClose();\n  };\n\n  return (\n    <Menu\n      isOpen={isOpen}\n      type=\"dropdown\"\n      style={menuStyle}\n      withPortal={withPortal}\n      positionX={menuPositionHorizontal}\n      positionY={menuPosition}\n      transformOriginX={transformOriginX}\n      transformOriginY={transformOriginY}\n      className={className}\n      bubbleClassName={bubbleClassName}\n      shouldCleanup={shouldCleanup}\n      onClose={onClose}\n    >\n      {items.map((item, index) => {\n        const fullButtonClassName = buildClassName(\n          styles.item,\n          item.icon && styles.item_with_icon,\n          item.isDisabled && styles.disabled,\n          item.isDangerous && styles.dangerous,\n          item.withSeparator && index > 0 && styles.separator,\n          selectedValue === item.value && styles.item_selected,\n          buttonClassName,\n          'capture-scroll',\n        );\n        return (\n          <button\n            key={item.value}\n            type=\"button\"\n            className={fullButtonClassName}\n            disabled={item.isDisabled}\n            onClick={(e) => handleItemClick(e, item.value)}\n          >\n            {item.icon && <img src={item.icon} alt=\"\" className={buildClassName('icon', styles.itemIcon)} />}\n            {item.fontIcon && (\n              <i className={buildClassName(`icon icon-${item.fontIcon}`, styles.fontIcon)} aria-hidden />\n            )}\n            <span className={buildClassName(styles.itemName, 'menuItemName')}>\n              {shouldTranslateOptions ? lang(item.name) : item.name}\n              {item.description && (\n                <span className={styles.itemDescription}>\n                  {shouldTranslateOptions ? lang(item.description) : item.description}\n                </span>\n              )}\n            </span>\n          </button>\n        );\n      })}\n    </Menu>\n  );\n}\n\nexport default memo(DropdownMenu);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useMediaTransition from '../../hooks/useMediaTransition';\n\nimport styles from './Emoji.module.scss';\n\nexport type EmojiIcon = '' | '' | '';\n\ninterface OwnProps {\n  from: EmojiIcon;\n}\n\nconst PATH_BY_EMOJI = {\n  '': '1f977',\n  '': '1f984',\n  '': '26a0',\n};\n\nconst loadedImages = new Set();\n\nfunction Emoji({ from }: OwnProps) {\n  const key = from in PATH_BY_EMOJI ? PATH_BY_EMOJI[from as keyof typeof PATH_BY_EMOJI] : from;\n  const src = `./emoji/${key}.png`;\n  const [isLoaded, markLoaded] = useFlag(loadedImages.has(src));\n  const transitionClassNames = useMediaTransition(isLoaded);\n\n  const handleLoad = useLastCallback(() => {\n    markLoaded();\n    loadedImages.add(src);\n  });\n\n  return (\n    <img\n      src={src}\n      alt={from}\n      className={buildClassName(styles.root, styles[`key-${key}`], transitionClassNames)}\n      onLoad={handleLoad}\n    />\n  );\n}\n\nexport default memo(Emoji);\n","import type { FC } from '../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useRef,\n} from '../../lib/teact/teact';\n\nimport type { EmojiIcon } from './Emoji';\n\nimport buildClassName from '../../util/buildClassName';\nimport stopEvent from '../../util/stopEvent';\nimport { IS_TOUCH_ENV, REM } from '../../util/windowEnvironment';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport useUniqueId from '../../hooks/useUniqueId';\n\nimport Emoji from './Emoji';\nimport Portal from './Portal';\n\nimport styles from './IconWithTooltip.module.scss';\n\ntype OwnProps = {\n  message: React.ReactNode;\n  emoji?: EmojiIcon;\n  iconClassName?: string;\n  tooltipClassName?: string;\n};\n\nconst ARROW_WIDTH = 0.6875 * REM;\nconst GAP = 2 * REM;\n\nconst IconWithTooltip: FC<OwnProps> = ({\n  message,\n  emoji,\n  iconClassName,\n  tooltipClassName,\n}) => {\n  const [isOpen, open, close] = useFlag();\n  const { transitionClassNames, shouldRender } = useShowTransition(isOpen);\n\n  // eslint-disable-next-line no-null/no-null\n  const iconRef = useRef<HTMLDivElement | null>(null);\n  // eslint-disable-next-line no-null/no-null\n  const tooltipRef = useRef<HTMLDivElement | null>(null);\n\n  const tooltipStyle = useRef<string | undefined>();\n  const arrowStyle = useRef<string | undefined>();\n\n  const randomTooltipKey = useUniqueId();\n\n  const handleClickOutside = useLastCallback((event: Event) => {\n    if (!(event.target as HTMLElement).closest(`[data-tooltip-key=\"${randomTooltipKey}\"]`)) {\n      close();\n    }\n  });\n\n  useEffect(() => {\n    if (!isOpen) return undefined;\n    document.addEventListener('touchstart', handleClickOutside);\n\n    return () => {\n      document.removeEventListener('touchstart', handleClickOutside);\n    };\n  }, [isOpen, close, handleClickOutside]);\n\n  useEffect(() => {\n    if (!iconRef.current || !tooltipRef.current) return;\n\n    const { top, left, width } = iconRef.current.getBoundingClientRect();\n    const {\n      width: tooltipWidth,\n      height: tooltipHeight,\n    } = tooltipRef.current.getBoundingClientRect();\n\n    const tooltipCenter = (window.innerWidth - tooltipWidth) / 2;\n    const arrowPosition = left - tooltipCenter + width / 2 - ARROW_WIDTH / 2;\n    const horizontalOffset = arrowPosition < GAP ? GAP - arrowPosition : 0;\n\n    const tooltipVerticalStyle = `top: ${top - tooltipHeight - ARROW_WIDTH}px;`;\n    const tooltipHorizontalStyle = `left: ${tooltipCenter - horizontalOffset}px;`;\n    const arrowHorizontalStyle = `left: ${arrowPosition + horizontalOffset}px;`;\n    const arrowVerticalStyle = `top: ${tooltipHeight - ARROW_WIDTH / 2 - 1}px;`;\n\n    tooltipStyle.current = `${tooltipVerticalStyle} ${tooltipHorizontalStyle}`;\n    arrowStyle.current = `${arrowVerticalStyle} ${arrowHorizontalStyle}`;\n  }, [shouldRender]);\n\n  function renderIcon() {\n    if (emoji) {\n      return (\n        <div\n          ref={iconRef}\n          className={buildClassName(styles.icon, iconClassName)}\n          onClick={IS_TOUCH_ENV ? stopEvent : undefined}\n          onMouseEnter={open}\n          onMouseLeave={close}\n        >\n          <Emoji from={emoji} />\n        </div>\n      );\n    }\n\n    return (\n      <i\n        ref={iconRef}\n        className={buildClassName(styles.icon, 'icon-question', iconClassName)}\n        onClick={IS_TOUCH_ENV ? stopEvent : undefined}\n        onMouseEnter={open}\n        onMouseLeave={close}\n      />\n    );\n  }\n\n  return (\n    <div className={styles.wrapper} data-tooltip-key={randomTooltipKey}>\n      {shouldRender && (\n        <Portal>\n          <div\n            className={buildClassName(styles.container, transitionClassNames)}\n            onClick={stopEvent}\n            style={tooltipStyle.current}\n          >\n            <div\n              ref={tooltipRef}\n              className={buildClassName(styles.tooltip, tooltipClassName)}\n            >\n              {message}\n            </div>\n            <div className={styles.arrow} style={arrowStyle.current} />\n          </div>\n        </Portal>\n      )}\n      {renderIcon()}\n    </div>\n  );\n};\n\nexport default memo(IconWithTooltip);\n","import React, { memo, useRef } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport { preloadedImageUrls } from '../../util/preloadImage';\n\nimport useFlag from '../../hooks/useFlag';\nimport { useIntersectionObserver, useOnIntersect } from '../../hooks/useIntersectionObserver';\nimport useMediaTransition from '../../hooks/useMediaTransition';\n\ninterface OwnProps {\n  url: string;\n  alt?: string;\n  loading?: 'lazy' | 'eager';\n  className?: string;\n  imageClassName?: string;\n  onIntersect?: VoidFunction;\n}\n\nconst INTERSECTION_THROTTLE = 200;\n\nfunction ImageComponent({\n  url,\n  alt,\n  loading,\n  className,\n  imageClassName,\n  onIntersect,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const ref = useRef<HTMLImageElement>(null);\n  const [isLoaded, markIsLoaded] = useFlag(preloadedImageUrls.has(url));\n\n  const { observe } = useIntersectionObserver({\n    rootRef: containerRef,\n    throttleMs: INTERSECTION_THROTTLE,\n    isDisabled: !onIntersect,\n  });\n\n  useOnIntersect(ref, observe, (entry) => {\n    if (onIntersect && entry.isIntersecting) {\n      onIntersect();\n    }\n  });\n\n  const handleLoad = () => {\n    markIsLoaded();\n    preloadedImageUrls.add(url);\n  };\n\n  const transitionClassNames = useMediaTransition(isLoaded);\n\n  return (\n    <div className={buildClassName(transitionClassNames, className)}>\n      <img\n        ref={ref}\n        src={url}\n        alt={alt}\n        loading={loading}\n        className={imageClassName}\n        referrerPolicy=\"same-origin\"\n        onLoad={!isLoaded ? handleLoad : undefined}\n      />\n    </div>\n  );\n}\n\nexport default memo(ImageComponent);\n","import { BottomSheet } from 'native-bottom-sheet';\nimport React, { memo, useEffect } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { CustomInAppBrowserObject } from '../explore/hooks/useWebViewBridge';\n\nimport buildClassName from '../../util/buildClassName';\nimport { INAPP_BROWSER_OPTIONS } from '../../util/capacitor';\nimport { compact } from '../../util/iteratees';\nimport { logDebugError } from '../../util/logs';\nimport { getHostnameFromUrl } from '../../util/url';\nimport { IS_DELEGATING_BOTTOM_SHEET, IS_IOS, IS_IOS_APP } from '../../util/windowEnvironment';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport { useDappBridge } from '../explore/hooks/useDappBridge';\n\nimport styles from './InAppBrowser.module.scss';\n\ninterface StateProps {\n  title?: string;\n  subtitle?: string;\n  url?: string;\n  theme: string;\n}\n\nlet inAppBrowser: Cordova['InAppBrowser'] | undefined;\nlet hideCompletionResolves: (() => void)[] | undefined;\n\nfunction InAppBrowser({\n  title, subtitle, url, theme,\n}: StateProps) {\n  const { closeBrowser } = getActions();\n\n  const { hasOpenClass, hasShownClass } = useShowTransition(Boolean(url));\n\n  const lang = useLang();\n\n  const {\n    inAppBrowserRef,\n    bridgeInjectionCode,\n    onMessage,\n    disconnect,\n  } = useDappBridge({\n    endpoint: url,\n  });\n\n  const handleError = useLastCallback((err: any) => {\n    logDebugError('inAppBrowser error', err);\n  });\n\n  const handleHideCompletion = useLastCallback(() => {\n    for (const resolve of hideCompletionResolves || []) { resolve(); }\n    hideCompletionResolves = undefined;\n  });\n\n  const handleBrowserClose = useLastCallback(async () => {\n    if (IS_DELEGATING_BOTTOM_SHEET) {\n      await BottomSheet.enable();\n    }\n\n    disconnect();\n    inAppBrowser.removeEventListener('loaderror', handleError);\n    inAppBrowser.removeEventListener('message', onMessage);\n    inAppBrowser.removeEventListener('hidecompletion', handleHideCompletion);\n    inAppBrowser = undefined;\n    // eslint-disable-next-line no-null/no-null\n    inAppBrowserRef.current = null;\n    closeBrowser();\n  });\n\n  const openBrowser = useLastCallback(async () => {\n    if (IS_DELEGATING_BOTTOM_SHEET) {\n      await BottomSheet.disable();\n    }\n\n    const browserTitle = !title && url ? getHostnameFromUrl(url) : title;\n    const browserSubtitle = subtitle === browserTitle ? undefined : subtitle;\n\n    const ADDITIONAL_INAPP_BROWSER_OPTIONS = `,${compact([\n      IS_IOS || browserTitle ? `title=${browserTitle || ''}` : undefined,\n      IS_IOS || browserSubtitle ? `subtitle=${browserSubtitle || ''}` : undefined,\n      url ? `shareurl=${encodeURIComponent(url)}` : undefined,\n      `theme=${theme}`,\n      `closebuttoncaption=${IS_IOS ? lang('Close') : 'x'}`,\n      `backbuttoncaption=${lang('Back')}`,\n      `reloadcaption=${lang('Reload Page')}`,\n      `openinbrowsercaption=${lang(IS_IOS ? 'Open in Safari' : 'Open in Browser')}`,\n      `copyurlcaption=${lang('CopyURL')}`,\n      `sharecaption=${lang('Share')}`,\n      `theme=${theme}`,\n    ]).join(',')}`;\n    inAppBrowser = cordova.InAppBrowser.open(url,\n      '_blank',\n      INAPP_BROWSER_OPTIONS + ADDITIONAL_INAPP_BROWSER_OPTIONS,\n      bridgeInjectionCode);\n    const originalHide = inAppBrowser.hide;\n    inAppBrowser!.hide = () => {\n      return new Promise<void>((resolve) => {\n        originalHide?.();\n        // On iOS, the animation takes some time. We have to ensure it's completed.\n        if (IS_IOS_APP) {\n          if (!hideCompletionResolves) hideCompletionResolves = [];\n          hideCompletionResolves?.push(resolve);\n        } else {\n          resolve();\n        }\n      });\n    };\n    inAppBrowserRef.current = inAppBrowser;\n    inAppBrowser.addEventListener('loaderror', handleError);\n    inAppBrowser.addEventListener('message', onMessage);\n    inAppBrowser.addEventListener('exit', handleBrowserClose);\n    inAppBrowser.addEventListener('hidecompletion', handleHideCompletion);\n    inAppBrowser.show();\n  });\n\n  useEffect(() => {\n    if (!url) return;\n\n    void openBrowser();\n  }, [url, title, subtitle]);\n\n  return (\n    <div className={buildClassName(hasShownClass && styles.browserShown, hasOpenClass && styles.browserOpen)} />\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const { currentBrowserOptions, settings } = global;\n\n  return {\n    url: currentBrowserOptions?.url,\n    title: currentBrowserOptions?.title,\n    subtitle: currentBrowserOptions?.subtitle,\n    theme: settings.theme,\n  };\n})(InAppBrowser));\n\nexport function getInAppBrowser(): CustomInAppBrowserObject | undefined {\n  return inAppBrowser;\n}\n","import type { RefObject, UIEvent } from 'react';\nimport type { FC } from '../../lib/teact/teact';\nimport React, {\n  useEffect, useLayoutEffect, useMemo, useRef,\n} from '../../lib/teact/teact';\n\nimport { LoadMoreDirection } from '../../global/types';\n\nimport { requestForcedReflow } from '../../lib/fasterdom/fasterdom';\nimport buildStyle from '../../util/buildStyle';\nimport resetScroll from '../../util/resetScroll';\nimport { debounce } from '../../util/schedulers';\nimport { IS_ANDROID } from '../../util/windowEnvironment';\n\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useLayoutEffectWithPrevDeps from '../../hooks/useLayoutEffectWithPrevDeps';\n\ntype OwnProps = {\n  ref?: RefObject<HTMLDivElement>;\n  style?: string;\n  className?: string;\n  items?: any[];\n  itemSelector?: string;\n  preloadBackwards?: number;\n  sensitiveArea?: number;\n  withAbsolutePositioning?: boolean;\n  maxHeight?: number;\n  noScrollRestore?: boolean;\n  noScrollRestoreOnTop?: boolean;\n  noFastList?: boolean;\n  cacheBuster?: any;\n  beforeChildren?: React.ReactNode;\n  scrollContainerClosest?: string;\n  children: React.ReactNode;\n  onLoadMore?: ({ direction }: { direction: LoadMoreDirection }) => void;\n  onScroll?: (e: UIEvent<HTMLDivElement>) => void;\n  onWheel?: (e: React.WheelEvent<HTMLDivElement>) => void;\n  onClick?: (e: React.MouseEvent<HTMLDivElement>) => void;\n  onKeyDown?: (e: React.KeyboardEvent<any>) => void;\n  onDragOver?: (e: React.DragEvent<HTMLDivElement>) => void;\n  onDragLeave?: (e: React.DragEvent<HTMLDivElement>) => void;\n};\n\nconst DEFAULT_LIST_SELECTOR = '.ListItem';\nconst DEFAULT_PRELOAD_BACKWARDS = 20;\nconst DEFAULT_SENSITIVE_AREA = 800;\n\nconst InfiniteScroll: FC<OwnProps> = ({\n  ref,\n  style,\n  className,\n  items,\n  itemSelector = DEFAULT_LIST_SELECTOR,\n  preloadBackwards = DEFAULT_PRELOAD_BACKWARDS,\n  sensitiveArea = DEFAULT_SENSITIVE_AREA,\n  withAbsolutePositioning,\n  maxHeight,\n  // Used to turn off restoring scroll position (e.g. for frequently re-ordered chat or user lists)\n  noScrollRestore = false,\n  noScrollRestoreOnTop = false,\n  noFastList,\n  // Used to re-query `listItemElements` if rendering is delayed by transition\n  cacheBuster,\n  beforeChildren,\n  scrollContainerClosest,\n  children,\n  onLoadMore,\n  onScroll,\n  onWheel,\n  onClick,\n  onKeyDown,\n  onDragOver,\n  onDragLeave,\n}: OwnProps) => {\n  // eslint-disable-next-line no-null/no-null\n  let containerRef = useRef<HTMLDivElement>(null);\n  if (ref) {\n    containerRef = ref;\n  }\n\n  const stateRef = useRef<{\n    listItemElements?: NodeListOf<HTMLDivElement>;\n    isScrollTopJustUpdated?: boolean;\n    currentAnchor?: HTMLDivElement | undefined;\n    currentAnchorTop?: number;\n  }>({});\n\n  const [loadMoreBackwards, loadMoreForwards] = useMemo(() => {\n    if (!onLoadMore) {\n      return [];\n    }\n\n    return [\n      debounce(() => {\n        onLoadMore({ direction: LoadMoreDirection.Backwards });\n      }, 1000, true, false),\n      debounce(() => {\n        onLoadMore({ direction: LoadMoreDirection.Forwards });\n      }, 1000, true, false),\n    ];\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, [onLoadMore, items]);\n\n  // Initial preload\n  useEffect(() => {\n    if (!loadMoreBackwards) {\n      return;\n    }\n\n    if (preloadBackwards > 0 && (!items || items.length < preloadBackwards)) {\n      loadMoreBackwards();\n      return;\n    }\n\n    const scrollContainer = scrollContainerClosest\n      ? containerRef.current!.closest<HTMLDivElement>(scrollContainerClosest)!\n      : containerRef.current!;\n\n    const { scrollHeight, clientHeight } = scrollContainer;\n    if (clientHeight && scrollHeight <= clientHeight) {\n      loadMoreBackwards();\n    }\n  }, [items, loadMoreBackwards, preloadBackwards, scrollContainerClosest]);\n\n  // Restore `scrollTop` after adding items\n  useLayoutEffectWithPrevDeps(([prevItems]) => {\n    const scrollContainer = scrollContainerClosest\n      ? containerRef.current!.closest<HTMLDivElement>(scrollContainerClosest)!\n      : containerRef.current!;\n    const state = stateRef.current;\n\n    const listItemElements = scrollContainer.querySelectorAll<HTMLDivElement>(itemSelector);\n    state.listItemElements = listItemElements;\n\n    if (!prevItems?.length) return;\n\n    requestForcedReflow(() => {\n      let newScrollTop: number;\n\n      if (state.currentAnchor && Array.from(listItemElements).includes(state.currentAnchor)) {\n        const { scrollTop } = scrollContainer;\n        const newAnchorTop = state.currentAnchor!.getBoundingClientRect().top;\n        newScrollTop = scrollTop + (newAnchorTop - state.currentAnchorTop!);\n      } else {\n        const nextAnchor = listItemElements[0];\n        if (nextAnchor) {\n          state.currentAnchor = nextAnchor;\n          state.currentAnchorTop = nextAnchor.getBoundingClientRect().top;\n        }\n      }\n\n      if (withAbsolutePositioning || noScrollRestore) {\n        return undefined;\n      }\n\n      const { scrollTop } = scrollContainer;\n      if (noScrollRestoreOnTop && scrollTop === 0) {\n        return undefined;\n      }\n\n      return () => {\n        resetScroll(scrollContainer, newScrollTop);\n\n        state.isScrollTopJustUpdated = true;\n      };\n    });\n  }, [\n    items, itemSelector, noScrollRestore, noScrollRestoreOnTop, cacheBuster, withAbsolutePositioning,\n    scrollContainerClosest,\n  ]);\n\n  const handleScroll = useLastCallback((e: UIEvent<HTMLDivElement>) => {\n    if (loadMoreForwards && loadMoreBackwards) {\n      const {\n        isScrollTopJustUpdated, currentAnchor, currentAnchorTop,\n      } = stateRef.current;\n      const listItemElements = stateRef.current.listItemElements!;\n\n      if (isScrollTopJustUpdated) {\n        stateRef.current.isScrollTopJustUpdated = false;\n        return;\n      }\n\n      const listLength = listItemElements.length;\n      const scrollContainer = scrollContainerClosest\n        ? containerRef.current!.closest<HTMLDivElement>(scrollContainerClosest)!\n        : containerRef.current!;\n      const { scrollTop, scrollHeight, offsetHeight } = scrollContainer;\n      const top = listLength ? listItemElements[0].offsetTop : 0;\n      const isNearTop = scrollTop <= top + sensitiveArea;\n      const bottom = listLength\n        ? listItemElements[listLength - 1].offsetTop + listItemElements[listLength - 1].offsetHeight\n        : scrollHeight;\n      const isNearBottom = bottom - (scrollTop + offsetHeight) <= sensitiveArea;\n      let isUpdated = false;\n\n      if (isNearTop) {\n        const nextAnchor = listItemElements[0];\n        if (nextAnchor) {\n          const nextAnchorTop = nextAnchor.getBoundingClientRect().top;\n          const newAnchorTop = currentAnchor?.offsetParent && currentAnchor !== nextAnchor\n            ? currentAnchor.getBoundingClientRect().top\n            : nextAnchorTop;\n          const isMovingUp = (\n            currentAnchor && currentAnchorTop !== undefined && newAnchorTop > currentAnchorTop\n          );\n\n          if (isMovingUp) {\n            stateRef.current.currentAnchor = nextAnchor;\n            stateRef.current.currentAnchorTop = nextAnchorTop;\n            isUpdated = true;\n            loadMoreForwards();\n          }\n        }\n      }\n\n      if (isNearBottom) {\n        const nextAnchor = listItemElements[listLength - 1];\n        if (nextAnchor) {\n          const nextAnchorTop = nextAnchor.getBoundingClientRect().top;\n          const newAnchorTop = currentAnchor?.offsetParent && currentAnchor !== nextAnchor\n            ? currentAnchor.getBoundingClientRect().top\n            : nextAnchorTop;\n          const isMovingDown = (\n            currentAnchor && currentAnchorTop !== undefined && newAnchorTop < currentAnchorTop\n          );\n\n          if (isMovingDown) {\n            stateRef.current.currentAnchor = nextAnchor;\n            stateRef.current.currentAnchorTop = nextAnchorTop;\n            isUpdated = true;\n            loadMoreBackwards();\n          }\n        }\n      }\n\n      if (!isUpdated) {\n        if (currentAnchor?.offsetParent) {\n          stateRef.current.currentAnchorTop = currentAnchor.getBoundingClientRect().top;\n        } else {\n          const nextAnchor = listItemElements[0];\n\n          if (nextAnchor) {\n            stateRef.current.currentAnchor = nextAnchor;\n            stateRef.current.currentAnchorTop = nextAnchor.getBoundingClientRect().top;\n          }\n        }\n      }\n    }\n\n    if (onScroll) {\n      onScroll(e);\n    }\n  });\n\n  useLayoutEffect(() => {\n    if (!scrollContainerClosest) return undefined;\n\n    const closestScrollContainer = containerRef.current!.closest<HTMLDivElement>(scrollContainerClosest);\n    if (!closestScrollContainer) return undefined;\n\n    const handleNativeScroll = (e: Event) => handleScroll(e as unknown as UIEvent<HTMLDivElement>);\n\n    closestScrollContainer.addEventListener('scroll', handleNativeScroll);\n\n    return () => {\n      closestScrollContainer.removeEventListener('scroll', handleNativeScroll);\n    };\n  }, [handleScroll, scrollContainerClosest]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={className}\n      onScroll={handleScroll}\n      onWheel={onWheel}\n      teactFastList={!noFastList && !withAbsolutePositioning}\n      onKeyDown={onKeyDown}\n      onDragOver={onDragOver}\n      onDragLeave={onDragLeave}\n      onClick={onClick}\n      style={style}\n    >\n      {beforeChildren}\n      {withAbsolutePositioning && items?.length ? (\n        <div\n          teactFastList={!noFastList}\n          style={buildStyle('position: relative', IS_ANDROID && `height: ${maxHeight}px`)}\n        >\n          {children}\n        </div>\n      ) : children}\n    </div>\n  );\n};\n\nexport default InfiniteScroll;\n","import type {\n  ChangeEvent, FormEvent, KeyboardEvent, RefObject,\n} from 'react';\nimport type { TeactNode } from '../../lib/teact/teact';\nimport React, { memo, useState } from '../../lib/teact/teact';\n\nimport { requestMutation } from '../../lib/fasterdom/fasterdom';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './Input.module.scss';\n\ntype OwnProps = {\n  ref?: RefObject<HTMLInputElement | HTMLTextAreaElement>;\n  id?: string;\n  type?: 'text' | 'password';\n  label?: TeactNode;\n  placeholder?: string;\n  value?: string | number;\n  inputMode?: 'numeric' | 'text' | 'search';\n  maxLength?: number;\n  isRequired?: boolean;\n  isControlled?: boolean;\n  isMultiline?: boolean;\n  hasError?: boolean;\n  error?: string;\n  className?: string;\n  wrapperClassName?: string;\n  autoComplete?: string;\n  inputArg?: any;\n  children?: TeactNode;\n  onInput: (value: string, inputArg?: any) => void;\n  onKeyDown?: (e: KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  onFocus?: (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n  onBlur?: (e: React.FocusEvent<HTMLInputElement | HTMLTextAreaElement>) => void;\n};\n\nfunction Input({\n  ref,\n  id,\n  label,\n  placeholder,\n  inputMode,\n  isRequired,\n  isControlled,\n  isMultiline,\n  hasError,\n  type = 'text',\n  error,\n  value = '',\n  maxLength,\n  inputArg,\n  className,\n  wrapperClassName,\n  autoComplete,\n  children,\n  onInput,\n  onKeyDown,\n  onFocus,\n  onBlur,\n}: OwnProps) {\n  const lang = useLang();\n  const [isPasswordVisible, setIsPasswordVisible] = useState<boolean>(false);\n\n  const handleInput = (e: FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    onInput(e.currentTarget.value, inputArg);\n  };\n\n  const handleTogglePasswordVisibility = () => {\n    setIsPasswordVisible(!isPasswordVisible);\n  };\n\n  const handleChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\n    const { currentTarget } = e;\n    const { scrollHeight } = currentTarget;\n\n    requestMutation(() => {\n      currentTarget.style.height = '0';\n      currentTarget.style.height = `${scrollHeight}px`;\n    });\n  };\n\n  const finalType = type === 'text' || isPasswordVisible ? 'text' : 'password';\n  const inputFullClass = buildClassName(\n    styles.input,\n    className,\n    type === 'password' && styles.input_password,\n    (hasError || error) && styles.error,\n  );\n  const labelFullClass = buildClassName(\n    styles.label,\n    (hasError || error) && styles.error,\n    (hasError || error) && type === 'password' && styles.label_forPassword,\n  );\n\n  return (\n    <div className={buildClassName(styles.wrapper, wrapperClassName)}>\n      {error && !!label && (\n        <label className={buildClassName(styles.label, styles.label_error, styles.error)} htmlFor={id}>{error}</label>\n      )}\n      {!!label && (\n        <label className={labelFullClass} htmlFor={id}>\n          {label}\n        </label>\n      )}\n      {isMultiline ? (\n        <textarea\n          ref={ref as RefObject<HTMLTextAreaElement>}\n          id={id}\n          className={inputFullClass}\n          value={value}\n          maxLength={maxLength}\n          autoComplete={autoComplete}\n          onInput={handleInput}\n          onChange={handleChange}\n          onKeyDown={onKeyDown}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          tabIndex={0}\n          required={isRequired}\n          placeholder={placeholder}\n          teactExperimentControlled={isControlled}\n        />\n      ) : (\n        <input\n          ref={ref as RefObject<HTMLInputElement>}\n          id={id}\n          className={inputFullClass}\n          type={finalType}\n          value={value}\n          inputMode={inputMode}\n          maxLength={maxLength}\n          autoComplete={autoComplete}\n          onInput={handleInput}\n          onKeyDown={onKeyDown}\n          onFocus={onFocus}\n          onBlur={onBlur}\n          tabIndex={0}\n          required={isRequired}\n          placeholder={placeholder}\n          teactExperimentControlled={isControlled}\n        />\n      )}\n      {type === 'password' && (\n        <button\n          className={buildClassName(styles.visibilityToggle, label && styles.visibilityToggle_push)}\n          type=\"button\"\n          onClick={handleTogglePasswordVisibility}\n          aria-label={lang('Change password visibility')}\n          tabIndex={-1}\n        >\n          <i className={isPasswordVisible ? 'icon-eye' : 'icon-eye-closed'} aria-hidden />\n        </button>\n      )}\n      {error && !label && (\n        <label className={buildClassName(styles.label, styles.label_errorBottom, styles.error)} htmlFor={id}>\n          {error}\n        </label>\n      )}\n      {children}\n    </div>\n  );\n}\n\nexport default memo(Input);\n","import React, {\n  memo, type TeactNode, useEffect, useMemo, useRef, useState,\n} from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { TON_EXPLORER_NAME } from '../../config';\nimport { selectCurrentAccountState } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport { copyTextToClipboard } from '../../util/clipboard';\nimport { handleOpenUrl } from '../../util/openUrl';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport { getTonExplorerAddressUrl } from '../../util/url';\n\nimport useFlag from '../../hooks/useFlag';\nimport useFocusAfterAnimation from '../../hooks/useFocusAfterAnimation';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport DeleteSavedAddressModal from '../main/modals/DeleteSavedAddressModal';\nimport Button from './Button';\nimport Input from './Input';\nimport Modal from './Modal';\nimport Transition from './Transition';\n\nimport styles from './InteractiveTextField.module.scss';\nimport modalStyles from './Modal.module.scss';\n\nimport scamImg from '../../assets/scam.svg';\n\ninterface OwnProps {\n  address?: string;\n  addressName?: string;\n  isScam?: boolean;\n  text?: string;\n  spoiler?: string;\n  spoilerRevealText?: string;\n  spoilerCallback?: NoneToVoidFunction;\n  copyNotification?: string;\n  className?: string;\n  textClassName?: string;\n  noSavedAddress?: boolean;\n  noExplorer?: boolean;\n}\n\ninterface StateProps {\n  isAddressAlreadySaved?: boolean;\n  isTestnet?: boolean;\n}\n\nconst SAVED_ADDRESS_NAME_MAX_LENGTH = 255;\n\nfunction InteractiveTextField({\n  address,\n  addressName,\n  isScam,\n  text,\n  spoiler,\n  spoilerRevealText,\n  spoilerCallback,\n  copyNotification,\n  noSavedAddress,\n  noExplorer,\n  className,\n  textClassName,\n  isAddressAlreadySaved,\n  isTestnet,\n}: OwnProps & StateProps) {\n  const { showNotification, addSavedAddress } = getActions();\n\n  // eslint-disable-next-line no-null/no-null\n  const addressNameRef = useRef<HTMLInputElement>(null);\n  const lang = useLang();\n  const [isSaveAddressModalOpen, openSaveAddressModal, closeSaveAddressModal] = useFlag();\n  const [isDeleteSavedAddressModalOpen, openDeletedSavedAddressModal, closeDeleteSavedAddressModal] = useFlag();\n  const [savedAddressName, setSavedAddressName] = useState<string | undefined>(addressName);\n  const [isConcealedWithSpoiler, , revealSpoiler] = useFlag(Boolean(spoiler));\n\n  const addressUrl = getTonExplorerAddressUrl(address, isTestnet);\n  const tonExplorerTitle = useMemo(() => {\n    return (lang('View Address on %ton_explorer_name%', {\n      ton_explorer_name: TON_EXPLORER_NAME,\n    }) as TeactNode[]\n    ).join('');\n  }, [lang]);\n\n  useEffect(() => {\n    if (isSaveAddressModalOpen) {\n      setSavedAddressName('');\n    }\n  }, [isSaveAddressModalOpen]);\n\n  const handleSaveAddressSubmit = useLastCallback(() => {\n    if (!savedAddressName || !address) {\n      return;\n    }\n\n    addSavedAddress({ address, name: savedAddressName });\n    showNotification({ message: lang('Address was saved!'), icon: 'icon-star' });\n    closeSaveAddressModal();\n  });\n\n  useEffect(() => (\n    isSaveAddressModalOpen\n      ? captureKeyboardListeners({\n        onEnter: handleSaveAddressSubmit,\n      })\n      : undefined\n  ), [handleSaveAddressSubmit, isSaveAddressModalOpen]);\n\n  useFocusAfterAnimation(addressNameRef, !isSaveAddressModalOpen);\n\n  const handleCopy = useLastCallback(() => {\n    if (!copyNotification) return;\n    showNotification({ message: copyNotification, icon: 'icon-copy' });\n    void copyTextToClipboard(address || text || '');\n  });\n\n  const handleRevealSpoiler = useLastCallback(() => {\n    revealSpoiler();\n    spoilerCallback?.();\n  });\n\n  function renderContentOrSpoiler() {\n    const content = addressName || address || text;\n\n    if (!spoiler) {\n      return renderContent(content);\n    }\n\n    const isConcealed = isConcealedWithSpoiler || !content;\n    return (\n      <Transition activeKey={isConcealed ? 1 : 0} name=\"fade\" className={styles.commentContainer}>\n        {isConcealed ? (\n          <span className={buildClassName(styles.button, styles.button_spoiler, textClassName)}>\n            <i>{spoiler}</i>\n            <span\n              onClick={handleRevealSpoiler}\n              tabIndex={0}\n              role=\"button\"\n              className={styles.revealSpoiler}\n            >\n              {spoilerRevealText}\n            </span>\n          </span>\n        ) : renderContent(content)}\n      </Transition>\n    );\n  }\n\n  function renderContent(content?: string) {\n    return (\n      <span\n        className={buildClassName(styles.button, isScam && styles.scam, textClassName)}\n        title={lang('Copy')}\n        onClick={handleCopy}\n        tabIndex={0}\n        role=\"button\"\n      >\n        {isScam && <img src={scamImg} alt={lang('Scam')} className={styles.scamImage} />}\n        {content}\n        {Boolean(addressName) && (\n          <span className={buildClassName(styles.shortAddress, isScam && styles.scam)}>{shortenAddress(address!)}</span>\n        )}\n        {Boolean(copyNotification) && (\n          <i className={buildClassName(styles.icon, 'icon-copy')} aria-hidden />\n        )}\n      </span>\n    );\n  }\n\n  function renderSaveAddressModal() {\n    return (\n      <Modal\n        title={lang('Save Address')}\n        isCompact\n        isOpen={isSaveAddressModalOpen}\n        onClose={closeSaveAddressModal}\n      >\n        <p>{lang('You can save this address for quick access while sending.')}</p>\n        <Input\n          ref={addressNameRef}\n          placeholder={lang('Name')}\n          onInput={setSavedAddressName}\n          value={savedAddressName}\n          maxLength={SAVED_ADDRESS_NAME_MAX_LENGTH}\n          className={styles.nameInput}\n        />\n\n        <div className={modalStyles.buttons}>\n          <Button onClick={closeSaveAddressModal} className={modalStyles.button}>{lang('Cancel')}</Button>\n          <Button\n            onClick={handleSaveAddressSubmit}\n            isPrimary\n            isDisabled={!savedAddressName}\n            className={modalStyles.button}\n          >\n            {lang('Save')}\n          </Button>\n        </div>\n      </Modal>\n    );\n  }\n\n  return (\n    <>\n      <div className={buildClassName(styles.wrapper, className)}>\n        {renderContentOrSpoiler()}\n\n        {!isScam && !noSavedAddress && address && (\n          <span\n            className={styles.button}\n            title={lang(isAddressAlreadySaved ? 'Remove From Saved Addresses' : 'Add To Saved Addresses')}\n            onClick={isAddressAlreadySaved ? openDeletedSavedAddressModal : openSaveAddressModal}\n            tabIndex={0}\n            role=\"button\"\n          >\n            <i\n              className={buildClassName(\n                styles.icon,\n                styles.iconStar,\n                isAddressAlreadySaved ? 'icon-star-filled' : 'icon-star',\n              )}\n              aria-hidden\n            />\n          </span>\n        )}\n\n        {!noExplorer && address && (\n          <a\n            href={addressUrl}\n            className={styles.button}\n            title={tonExplorerTitle}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            onClick={handleOpenUrl}\n          >\n            <i className={buildClassName(styles.icon, 'icon-tonexplorer-small')} aria-hidden />\n          </a>\n        )}\n      </div>\n      {address && (\n        <>\n          {renderSaveAddressModal()}\n          <DeleteSavedAddressModal\n            isOpen={isDeleteSavedAddressModalOpen}\n            address={address}\n            onClose={closeDeleteSavedAddressModal}\n          />\n        </>\n      )}\n    </>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>(\n  (global, { address }): StateProps => {\n    const accountState = selectCurrentAccountState(global);\n    const isAddressAlreadySaved = Boolean(address && accountState?.savedAddresses?.[address]);\n\n    return {\n      isAddressAlreadySaved,\n      isTestnet: global.settings.isTestnet,\n    };\n  },\n)(InteractiveTextField));\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './Loading.module.scss';\n\ntype OwnProps = {\n  color?: 'blue' | 'white';\n  backgroundColor?: 'light' | 'dark';\n  className?: string;\n};\n\nfunction Loading({ color = 'blue', backgroundColor, className }: OwnProps) {\n  const lang = useLang();\n\n  const fullClassName = buildClassName(\n    styles.spinner,\n    styles[color],\n    className,\n    backgroundColor && styles.withBackground,\n    backgroundColor && styles[backgroundColor],\n  );\n\n  return (\n    <div className={fullClassName} aria-label={lang('Loading...')}>\n      <div className={styles.inner} />\n    </div>\n  );\n}\n\nexport default memo(Loading);\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport styles from './LoadingDots.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  className?: string;\n  isDoubled?: boolean;\n}\n\nfunction LoadingDots({ isActive, className, isDoubled }: OwnProps) {\n  const { shouldRender, transitionClassNames } = useShowTransition(isActive);\n\n  if (!shouldRender) {\n    // eslint-disable-next-line no-null/no-null\n    return null;\n  }\n\n  return (\n    <div className={buildClassName(styles.root, isDoubled && styles.doubled, className, transitionClassNames)}>\n      <span className={styles.dot} />\n      <span className={styles.dot} />\n      <span className={styles.dot} />\n    </div>\n  );\n}\n\nexport default memo(LoadingDots);\n","import React, { memo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport { TransferState } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport Loading from './Loading';\nimport Portal from './Portal';\n\nimport styles from './LoadingOverlay.module.scss';\n\ntype StateProps = {\n  isOpen?: boolean;\n};\n\nfunction LoadingOverlay({ isOpen }: StateProps) {\n  const { closeLoadingOverlay } = getActions();\n\n  const { shouldRender, transitionClassNames } = useShowTransition(isOpen);\n\n  if (!shouldRender) return undefined;\n\n  return (\n    <Portal>\n      <div className={buildClassName(styles.root, transitionClassNames)} onClick={() => closeLoadingOverlay()}>\n        <Loading color=\"white\" />\n      </div>\n    </Portal>\n  );\n}\n\nexport default memo(withGlobal(\n  (global) => {\n    const isDpppModalOpen = (\n      global.dappConnectRequest?.state !== undefined || global.currentDappTransfer.state !== TransferState.None\n    );\n\n    return {\n      isOpen: global.isLoadingOverlayOpen && !isDpppModalOpen,\n    };\n  },\n)(LoadingOverlay));\n","import type { FC } from '../../lib/teact/teact';\nimport React, { useEffect, useRef } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport captureEscKeyListener from '../../util/captureEscKeyListener';\nimport stopEvent from '../../util/stopEvent';\n\nimport useEffectWithPrevDeps from '../../hooks/useEffectWithPrevDeps';\nimport { dispatchHeavyAnimationEvent } from '../../hooks/useHeavyAnimationCheck';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport useVirtualBackdrop from '../../hooks/useVirtualBackdrop';\n\nimport Portal from './Portal';\n\nimport styles from './Menu.module.scss';\n\ntype OwnProps = {\n  children: React.ReactNode;\n  isOpen: boolean;\n  id?: string;\n  className?: string;\n  bubbleClassName?: string;\n  style?: string;\n  type?: 'menu' | 'suggestion' | 'dropdown';\n  positionX?: 'left' | 'right';\n  positionY?: 'top' | 'bottom';\n  transformOriginX?: number;\n  transformOriginY?: number;\n  autoClose?: boolean;\n  shouldSkipTransition?: boolean;\n  noBackdrop?: boolean;\n  withPortal?: boolean;\n  noCloseOnBackdrop?: boolean;\n  shouldCleanup?: boolean;\n  onCloseAnimationEnd?: () => void;\n  onClose?: () => void;\n  onMouseEnter?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n  onMouseLeave?: (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => void;\n};\n\nconst ANIMATION_DURATION = 200;\n\nconst Menu: FC<OwnProps> = ({\n  children,\n  isOpen,\n  id,\n  className,\n  bubbleClassName,\n  style,\n  positionX = 'left',\n  positionY = 'top',\n  transformOriginX,\n  transformOriginY,\n  type = 'menu',\n  autoClose = false,\n  shouldSkipTransition,\n  noBackdrop = false,\n  withPortal,\n  noCloseOnBackdrop = false,\n  shouldCleanup,\n  onCloseAnimationEnd,\n  onClose,\n  onMouseEnter,\n  onMouseLeave,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const menuRef = useRef<HTMLDivElement>(null);\n\n  useHistoryBack({\n    isActive: Boolean(isOpen && onClose),\n    onBack: onClose!,\n    shouldBeReplaced: true,\n  });\n\n  const {\n    shouldRender,\n    transitionClassNames,\n  } = useShowTransition(\n    isOpen,\n    onCloseAnimationEnd,\n    shouldSkipTransition,\n    undefined,\n    shouldSkipTransition,\n  );\n\n  useEffect(\n    () => (isOpen && onClose ? captureEscKeyListener(onClose) : undefined),\n    [isOpen, onClose],\n  );\n\n  useEffectWithPrevDeps(([prevIsOpen]) => {\n    if (isOpen || (!isOpen && prevIsOpen === true)) {\n      dispatchHeavyAnimationEvent(ANIMATION_DURATION);\n    }\n  }, [isOpen]);\n\n  useVirtualBackdrop(isOpen && !noBackdrop, menuRef, noCloseOnBackdrop ? undefined : onClose);\n\n  const fullBubbleClassName = buildClassName(\n    styles.bubble,\n    bubbleClassName,\n    'menu-bubble',\n    styles[positionY],\n    styles[positionX],\n    styles[type],\n    transitionClassNames,\n  );\n\n  const transformOriginYStyle = transformOriginY !== undefined ? `${transformOriginY}px` : undefined;\n  const transformOriginXStyle = transformOriginX !== undefined ? `${transformOriginX}px` : undefined;\n\n  if (shouldCleanup && !shouldRender) {\n    return undefined;\n  }\n\n  const menu = (\n    <div\n      id={id}\n      className={buildClassName(styles.wrapper, className, withPortal && styles.inPortal)}\n      style={style}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={isOpen ? onMouseLeave : undefined}\n    >\n      {isOpen && !noBackdrop && (\n        // This only prevents click events triggering on underlying elements\n        <div className={styles.backdrop} onClick={stopEvent} />\n      )}\n      <div\n        ref={menuRef}\n        className={fullBubbleClassName}\n        style={`transform-origin: ${transformOriginXStyle || positionX} ${transformOriginYStyle || positionY}`}\n        onClick={autoClose ? onClose : undefined}\n      >\n        {children}\n      </div>\n    </div>\n  );\n\n  if (withPortal) {\n    return <Portal>{menu}</Portal>;\n  }\n\n  return menu;\n};\n\nexport default Menu;\n","import type { FC } from '../../lib/teact/teact';\nimport React from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport styles from './MenuItem.module.scss';\n\ntype OnClickHandler = (e: React.SyntheticEvent<HTMLDivElement | HTMLAnchorElement>, arg?: any) => void;\n\ninterface OwnProps {\n  className?: string;\n  href?: string;\n  children: React.ReactNode;\n  onClick?: OnClickHandler;\n  clickArg?: string;\n  isDestructive?: boolean;\n  isSeparator?: boolean;\n}\n\nconst MenuItem: FC<OwnProps> = (props) => {\n  const {\n    className,\n    href,\n    children,\n    onClick,\n    clickArg,\n    isDestructive,\n    isSeparator,\n  } = props;\n\n  const handleClick = useLastCallback((e: React.MouseEvent<HTMLDivElement>) => {\n    if (!onClick) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    onClick(e, clickArg);\n  });\n\n  const handleKeyDown = useLastCallback((e: React.KeyboardEvent<HTMLDivElement>) => {\n    if (e.code !== 'Enter' && e.code !== 'Space') {\n      return;\n    }\n\n    if (!onClick) {\n      e.stopPropagation();\n      e.preventDefault();\n\n      return;\n    }\n\n    onClick(e);\n  });\n\n  const fullClassName = buildClassName(\n    styles.menuItem,\n    className,\n    isDestructive && styles.destructive,\n    isSeparator && styles.menuItem_separator,\n  );\n\n  if (href) {\n    return (\n      <a href={href} target=\"_blank\" rel=\"noopener noreferrer\" className={fullClassName}>\n        {children}\n      </a>\n    );\n  }\n\n  return (\n    <div\n      role=\"button\"\n      tabIndex={0}\n      className={fullClassName}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default MenuItem;\n","import type { RefObject } from 'react';\nimport type { BottomSheetKeys } from 'native-bottom-sheet';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  useEffect, useLayoutEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport { ANIMATION_END_DELAY, IS_EXTENSION } from '../../config';\nimport buildClassName from '../../util/buildClassName';\nimport { captureEvents, SwipeDirection } from '../../util/captureEvents';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport { getIsSwipeToCloseDisabled } from '../../util/modalSwipeManager';\nimport trapFocus from '../../util/trapFocus';\nimport { IS_ANDROID, IS_DELEGATED_BOTTOM_SHEET, IS_TOUCH_ENV } from '../../util/windowEnvironment';\nimport windowSize from '../../util/windowSize';\n\nimport freezeWhenClosed from '../../hooks/freezeWhenClosed';\nimport { useDelegatedBottomSheet } from '../../hooks/useDelegatedBottomSheet';\nimport { useDelegatingBottomSheet } from '../../hooks/useDelegatingBottomSheet';\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport { dispatchHeavyAnimationEvent } from '../../hooks/useHeavyAnimationCheck';\nimport useHideBrowser from '../../hooks/useHideBrowser';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useLang from '../../hooks/useLang';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport Button from './Button';\nimport { getInAppBrowser } from './InAppBrowser';\nimport Portal from './Portal';\n\nimport styles from './Modal.module.scss';\n\ntype OwnProps = {\n  title?: string | TeactNode;\n  className?: string;\n  dialogClassName?: string;\n  contentClassName?: string;\n  isOpen?: boolean;\n  isCompact?: boolean;\n  nativeBottomSheetKey?: BottomSheetKeys;\n  forceFullNative?: boolean; // Always open in \"full\" size\n  noResetFullNativeOnBlur?: boolean; // Don't reset \"full\" size on blur\n  forceBottomSheet?: boolean;\n  noBackdrop?: boolean;\n  noBackdropClose?: boolean;\n  header?: any;\n  hasCloseButton?: boolean;\n  children: React.ReactNode;\n  onClose: () => void;\n  onCloseAnimationEnd?: () => void;\n  onEnter?: () => void;\n  dialogRef?: RefObject<HTMLDivElement>;\n};\n\nexport const CLOSE_DURATION = 350;\nexport const CLOSE_DURATION_PORTRAIT = IS_ANDROID ? 200 : 500;\nconst SCROLL_CONTENT_CHECK_THRESHOLD_MS = 500;\n\nfunction Modal({\n  dialogRef,\n  title,\n  className,\n  dialogClassName,\n  contentClassName,\n  isOpen,\n  isCompact,\n  nativeBottomSheetKey,\n  forceFullNative,\n  forceBottomSheet,\n  noResetFullNativeOnBlur,\n  noBackdrop,\n  noBackdropClose,\n  header,\n  hasCloseButton,\n  children,\n  onClose,\n  onCloseAnimationEnd,\n  onEnter,\n}: OwnProps): TeactJsx {\n  const lang = useLang();\n  // eslint-disable-next-line no-null/no-null\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  // eslint-disable-next-line no-null/no-null\n  const localDialogRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const swipeDownDateRef = useRef<number>(null);\n  dialogRef ||= localDialogRef;\n\n  const { isPortrait } = useDeviceScreen();\n\n  onCloseAnimationEnd = useHideBrowser(isOpen, isCompact, onCloseAnimationEnd);\n\n  const animationDuration = isPortrait ? CLOSE_DURATION_PORTRAIT : CLOSE_DURATION;\n  const { shouldRender, transitionClassNames } = useShowTransition(\n    isOpen,\n    onCloseAnimationEnd,\n    undefined,\n    false,\n    undefined,\n    animationDuration + ANIMATION_END_DELAY,\n  );\n\n  const isSlideUp = !isCompact && isPortrait;\n\n  useHistoryBack({\n    isActive: isOpen,\n    onBack: onClose,\n  });\n\n  useEffect(() => {\n    if (!IS_DELEGATED_BOTTOM_SHEET || !isCompact) return;\n\n    // Expand NBS to full size for a compact modal inside NBS\n    BottomSheet.toggleSelfFullSize({ isFullSize: !!isOpen });\n  }, [isCompact, isOpen]);\n\n  useEffect(\n    () => (isOpen ? captureKeyboardListeners({\n      onEnter,\n      onEsc: (e: KeyboardEvent) => {\n        if (IS_EXTENSION) {\n          e.preventDefault();\n        }\n\n        onClose();\n      },\n    }) : undefined),\n    [isOpen, onClose, onEnter],\n  );\n  useEffect(() => (isOpen && modalRef.current ? trapFocus(modalRef.current) : undefined), [isOpen]);\n\n  useLayoutEffect(() => (\n    isOpen ? dispatchHeavyAnimationEvent(animationDuration + ANIMATION_END_DELAY) : undefined\n  ), [animationDuration, isOpen]);\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV || !isOpen || !isPortrait || !isSlideUp || IS_DELEGATED_BOTTOM_SHEET) {\n      return undefined;\n    }\n\n    return captureEvents(modalRef.current!, {\n      excludedClosestSelector: '.capture-scroll',\n      onSwipe: (e: Event, direction: SwipeDirection) => {\n        if (direction === SwipeDirection.Down && getCanCloseModal(swipeDownDateRef, e.target as HTMLElement)) {\n          onClose();\n          return true;\n        }\n\n        return false;\n      },\n    });\n  }, [isOpen, isPortrait, isSlideUp, onClose]);\n\n  // Make sure to hide browser before presenting modals\n  const [isBrowserHidden, setIsBrowserHidden] = useState(false);\n  useEffect(() => {\n    if (!isOpen) {\n      setIsBrowserHidden(false); // Reset to re-hide it next time\n      return;\n    }\n    const browser = getInAppBrowser();\n    browser?.hide().then(() => {\n      setIsBrowserHidden(true);\n    });\n  }, [isOpen]);\n\n  const isDelegatingToNative = useDelegatingBottomSheet(nativeBottomSheetKey,\n    isPortrait,\n    isOpen && (!getInAppBrowser() || isBrowserHidden),\n    onClose);\n\n  useDelegatedBottomSheet(\n    nativeBottomSheetKey,\n    isOpen && (!getInAppBrowser() || isBrowserHidden),\n    onClose,\n    dialogRef,\n    forceFullNative,\n    noResetFullNativeOnBlur,\n  );\n\n  if (!shouldRender) {\n    return undefined;\n  }\n\n  function renderHeader() {\n    if (header) {\n      return header;\n    }\n\n    if (!title) {\n      return undefined;\n    }\n\n    return (\n      <div\n        className={buildClassName(styles.header, styles.header_wideContent, !hasCloseButton && styles.header_noClose)}\n      >\n        <div className={buildClassName(styles.title, styles.singleTitle)}>{title}</div>\n        {hasCloseButton && (\n          <Button isRound className={styles.closeButton} ariaLabel={lang('Close')} onClick={onClose}>\n            <i className={buildClassName(styles.closeIcon, 'icon-close')} aria-hidden />\n          </Button>\n        )}\n      </div>\n    );\n  }\n\n  const fullClassName = buildClassName(\n    styles.modal,\n    className,\n    transitionClassNames,\n    isSlideUp && styles.slideUpAnimation,\n    isCompact && styles.compact,\n    isCompact && 'is-compact-modal',\n    forceBottomSheet && styles.forceBottomSheet,\n    isDelegatingToNative && styles.delegatingToNative,\n  );\n\n  const backdropFullClass = buildClassName(styles.backdrop, noBackdrop && styles.noBackdrop);\n\n  const contentFullClassName = buildClassName(\n    styles.content,\n    isCompact && styles.contentCompact,\n    'custom-scroll',\n    contentClassName,\n  );\n\n  return (\n    <Portal>\n      <div ref={modalRef} className={fullClassName} tabIndex={-1} role=\"dialog\">\n        <div className={styles.container}>\n          <div className={backdropFullClass} onClick={!noBackdropClose ? onClose : undefined} />\n          <div\n            className={buildClassName(styles.dialog, dialogClassName)}\n            ref={dialogRef}\n          >\n            {renderHeader()}\n            <div className={contentFullClassName}>{children}</div>\n          </div>\n        </div>\n      </div>\n    </Portal>\n  );\n}\n\nexport default freezeWhenClosed(Modal);\n\nfunction getCanCloseModal(lastScrollRef: { current: number | null }, el?: HTMLElement) {\n  if (windowSize.getIsKeyboardVisible() || getIsSwipeToCloseDisabled()) {\n    return false;\n  }\n\n  const now = Date.now();\n  if (lastScrollRef.current && now - lastScrollRef.current < SCROLL_CONTENT_CHECK_THRESHOLD_MS) {\n    return false;\n  }\n\n  lastScrollRef.current = now;\n  const scrollEl = el?.closest('.custom-scroll');\n\n  return !scrollEl || scrollEl.scrollTop === 0;\n}\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport Button from './Button';\n\nimport modalStyles from './Modal.module.scss';\n\ntype OwnProps = {\n  title: string | TeactNode;\n  className?: string;\n  withNotch?: boolean;\n  closeClassName?: string;\n  onClose?: NoneToVoidFunction;\n  onBackButtonClick?: () => void;\n};\n\nfunction ModalHeader({\n  title, className, withNotch, closeClassName, onClose, onBackButtonClick,\n}: OwnProps) {\n  const lang = useLang();\n\n  return (\n    <div\n      className={buildClassName(\n        modalStyles.header,\n        'with-notch-on-scroll',\n        withNotch && 'is-scrolled',\n        !onBackButtonClick && modalStyles.header_wideContent,\n        className,\n      )}\n    >\n      {onBackButtonClick && (\n        <Button isSimple isText onClick={onBackButtonClick} className={modalStyles.header_back}>\n          <i className={buildClassName(modalStyles.header_backIcon, 'icon-chevron-left')} aria-hidden />\n          <span>{lang('Back')}</span>\n        </Button>\n      )}\n      <div className={buildClassName(modalStyles.title, modalStyles.singleTitle)}>{title}</div>\n      {onClose && (\n        <Button\n          isRound\n          className={buildClassName(modalStyles.closeButton, closeClassName)}\n          ariaLabel={lang('Close')}\n          onClick={onClose}\n        >\n          <i className={buildClassName(modalStyles.closeIcon, 'icon-close')} aria-hidden />\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default memo(ModalHeader);\n","import type { FC } from '../../lib/teact/teact';\nimport React, {\n  useEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport captureEscKeyListener from '../../util/captureEscKeyListener';\nimport { IS_ELECTRON } from '../../util/windowEnvironment';\n\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport Portal from './Portal';\n\nimport styles from './Notification.module.scss';\n\ntype OwnProps = {\n  containerId?: string;\n  message: string;\n  icon?: string;\n  onDismiss: () => void;\n};\n\nconst DURATION_MS = 5000;\nconst ANIMATION_DURATION = 250;\n\nconst Notification: FC<OwnProps> = ({\n  icon, message, containerId, onDismiss,\n}) => {\n  const [isOpen, setIsOpen] = useState(true);\n  // eslint-disable-next-line no-null/no-null\n  const timerRef = useRef<number | undefined>(null);\n\n  const { transitionClassNames } = useShowTransition(isOpen);\n\n  const closeAndDismiss = useLastCallback(() => {\n    setIsOpen(false);\n    setTimeout(onDismiss, ANIMATION_DURATION);\n  });\n\n  useEffect(() => (isOpen ? captureEscKeyListener(closeAndDismiss) : undefined), [isOpen, closeAndDismiss]);\n\n  useEffect(() => {\n    timerRef.current = window.setTimeout(closeAndDismiss, DURATION_MS);\n\n    return () => {\n      if (timerRef.current) {\n        clearTimeout(timerRef.current);\n        timerRef.current = undefined;\n      }\n    };\n  }, [closeAndDismiss]);\n\n  const handleMouseEnter = useLastCallback(() => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = undefined;\n    }\n  });\n\n  const handleMouseLeave = useLastCallback(() => {\n    timerRef.current = window.setTimeout(closeAndDismiss, DURATION_MS);\n  });\n\n  return (\n    <Portal\n      className={buildClassName(styles.container, IS_ELECTRON && styles.container_electron)}\n      containerId={containerId}\n    >\n      <div\n        className={buildClassName(styles.notification, transitionClassNames)}\n        onClick={closeAndDismiss}\n        onMouseEnter={handleMouseEnter}\n        onMouseLeave={handleMouseLeave}\n      >\n        <div className={styles.content}>\n          {icon && <i className={buildClassName(styles.icon, icon)} aria-hidden />}\n          {message}\n        </div>\n      </div>\n    </Portal>\n  );\n};\n\nexport default Notification;\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport type { AuthConfig } from '../../util/authApi/types';\n\nimport { IS_CAPACITOR, PIN_LENGTH } from '../../config';\nimport authApi from '../../util/authApi';\nimport buildClassName from '../../util/buildClassName';\nimport { getIsFaceIdAvailable, getIsTouchIdAvailable } from '../../util/capacitor';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport { pause } from '../../util/schedulers';\nimport { IS_DELEGATING_BOTTOM_SHEET } from '../../util/windowEnvironment';\nimport { ANIMATED_STICKERS_PATHS } from './helpers/animatedAssets';\n\nimport { useDeviceScreen } from '../../hooks/useDeviceScreen';\nimport useFocusAfterAnimation from '../../hooks/useFocusAfterAnimation';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport AnimatedIconWithPreview from './AnimatedIconWithPreview';\nimport Button from './Button';\nimport Input from './Input';\nimport PinPad from './PinPad';\n\nimport modalStyles from './Modal.module.scss';\nimport styles from './PasswordForm.module.scss';\n\ntype OperationType = 'transfer' | 'sending' | 'staking' | 'unstaking' | 'swap' | 'unfreeze' | 'passcode';\n\ninterface OwnProps {\n  isActive: boolean;\n  isLoading?: boolean;\n  operationType?: OperationType;\n  cancelLabel?: string;\n  submitLabel: string;\n  stickerSize?: number;\n  placeholder?: string;\n  error?: string;\n  help?: string;\n  containerClassName?: string;\n  withCloseButton?: boolean;\n  children?: TeactNode;\n  onCancel: NoneToVoidFunction;\n  onUpdate: NoneToVoidFunction;\n  onSubmit: (password: string) => void;\n}\n\ninterface StateProps {\n  isPasswordNumeric?: boolean;\n  isBiometricAuthEnabled: boolean;\n  isNativeBiometricAuthEnabled: boolean;\n  authConfig?: AuthConfig;\n}\n\nconst STICKER_SIZE = 180;\nconst APPEAR_ANIMATION_DURATION_MS = 300;\n\nfunction PasswordForm({\n  isActive,\n  isLoading,\n  operationType,\n  isPasswordNumeric,\n  isBiometricAuthEnabled,\n  isNativeBiometricAuthEnabled,\n  authConfig,\n  cancelLabel,\n  submitLabel,\n  stickerSize = STICKER_SIZE,\n  placeholder = 'Enter your password',\n  error,\n  help,\n  containerClassName,\n  children,\n  withCloseButton,\n  onUpdate,\n  onCancel,\n  onSubmit,\n}: OwnProps & StateProps) {\n  const lang = useLang();\n\n  // eslint-disable-next-line no-null/no-null\n  const passwordRef = useRef<HTMLInputElement>(null);\n  const [password, setPassword] = useState<string>('');\n  const [localError, setLocalError] = useState<string>('');\n  const { isSmallHeight, isPortrait } = useDeviceScreen();\n  const isSubmitDisabled = !password.length;\n\n  useEffect(() => {\n    if (isActive) {\n      setLocalError('');\n      setPassword('');\n    }\n  }, [isActive]);\n\n  const handleBiometrics = useLastCallback(async () => {\n    try {\n      const biometricPassword = await authApi.getPassword(authConfig!);\n      if (!biometricPassword) {\n        setLocalError(\n          operationType === 'transfer'\n            ? 'Declined. Please try to confirm transaction using biometrics again.'\n            : 'Declined. Please try to confirm operation using biometrics again.',\n        );\n      } else {\n        onSubmit(biometricPassword);\n      }\n    } catch (err: any) {\n      setLocalError(err.message || lang('Something went wrong.'));\n    }\n  });\n\n  useEffect(() => {\n    if (IS_DELEGATING_BOTTOM_SHEET || !isActive || !isBiometricAuthEnabled) {\n      return;\n    }\n\n    (async () => {\n      await pause(APPEAR_ANIMATION_DURATION_MS);\n      void handleBiometrics();\n    })();\n  }, [handleBiometrics, isActive, isBiometricAuthEnabled]);\n\n  useFocusAfterAnimation(passwordRef, !isActive || isBiometricAuthEnabled);\n\n  const handleClearError = useLastCallback(() => {\n    setLocalError('');\n    onUpdate();\n  });\n\n  const handleInput = useLastCallback((value: string) => {\n    setPassword(value);\n    if (error) {\n      onUpdate();\n    }\n  });\n\n  const handleSubmit = useLastCallback(() => {\n    onSubmit(password);\n  });\n\n  useEffect(() => {\n    return isSubmitDisabled\n      ? undefined\n      : captureKeyboardListeners({\n        onEnter: handleSubmit,\n      });\n  }, [handleSubmit, isSubmitDisabled]);\n\n  function getPinPadTitle() {\n    switch (operationType) {\n      case 'unfreeze':\n        return 'Confirm Unfreezing';\n      case 'passcode':\n        return 'Confirm Passcode';\n      case 'transfer':\n      case 'sending':\n        return 'Confirm Sending';\n      case 'staking':\n        return 'Confirm Staking';\n      case 'unstaking':\n        return 'Confirm Unstaking';\n      case 'swap':\n        return 'Confirm Swap';\n      default:\n        return 'Confirm Action';\n    }\n  }\n\n  if (IS_CAPACITOR) {\n    const hasError = Boolean(localError || error);\n    const title = getPinPadTitle();\n    const actionName = lang(\n      !isNativeBiometricAuthEnabled\n        ? 'Enter code'\n        : (getIsFaceIdAvailable()\n          ? 'Enter code or use Face ID'\n          : (getIsTouchIdAvailable()\n            ? 'Enter code or use Touch ID'\n            : 'Enter code or use biometrics')\n        ),\n    );\n\n    return (\n      <>\n        {withCloseButton && (\n          <Button\n            isRound\n            className={buildClassName(modalStyles.closeButton, styles.closeButton)}\n            ariaLabel={lang('Close')}\n            onClick={onCancel}\n          >\n            <i className={buildClassName(modalStyles.closeIcon, 'icon-close')} aria-hidden />\n          </Button>\n        )}\n        <div className={styles.pinPadHeader}>\n          {isPortrait && (\n            <AnimatedIconWithPreview\n              play={isActive}\n              tgsUrl={ANIMATED_STICKERS_PATHS.guard}\n              previewUrl={ANIMATED_STICKERS_PATHS.guardPreview}\n              noLoop={false}\n              nonInteractive\n            />\n          )}\n          {!isSmallHeight && <div className={styles.title}>{lang(title)}</div>}\n          {children}\n        </div>\n\n        <PinPad\n          isActive={isActive}\n          title={lang(hasError ? (localError || error!) : (isSmallHeight ? title : actionName))}\n          type={hasError ? 'error' : undefined}\n          length={PIN_LENGTH}\n          value={password}\n          onBiometricsClick={isNativeBiometricAuthEnabled ? handleBiometrics : undefined}\n          onChange={setPassword}\n          onClearError={handleClearError}\n          onSubmit={onSubmit}\n        />\n      </>\n    );\n  }\n\n  function renderBiometricPrompt() {\n    const renderingError = localError || error;\n    if (renderingError) {\n      return (\n        <div className={styles.error}>{lang(renderingError)}</div>\n      );\n    }\n\n    return (\n      <div className={styles.verify}>\n        {lang(operationType === 'transfer'\n          ? 'Please confirm transaction using biometrics.' : 'Please confirm operation using biometrics.')}\n      </div>\n    );\n  }\n\n  function renderPasswordForm() {\n    return (\n      <>\n        <Input\n          ref={passwordRef}\n          type=\"password\"\n          isRequired\n          id=\"first-password\"\n          inputMode={isPasswordNumeric ? 'numeric' : undefined}\n          error={error ? lang(error) : localError}\n          placeholder={lang(placeholder)}\n          value={password}\n          onInput={handleInput}\n          maxLength={isPasswordNumeric ? PIN_LENGTH : undefined}\n        />\n        {localError && (\n          <div className={styles.errorMessage}>{lang(localError)}</div>\n        )}\n        {help && !error && (\n          <div className={styles.label}>{help}</div>\n        )}\n      </>\n    );\n  }\n\n  return (\n    <div className={buildClassName(modalStyles.transitionContent, containerClassName)}>\n      <AnimatedIconWithPreview\n        tgsUrl={ANIMATED_STICKERS_PATHS.holdTon}\n        previewUrl={ANIMATED_STICKERS_PATHS.holdTonPreview}\n        play={isActive}\n        size={stickerSize}\n        nonInteractive\n        noLoop={false}\n        className={styles.sticker}\n      />\n\n      {children}\n\n      {isBiometricAuthEnabled ? renderBiometricPrompt() : renderPasswordForm()}\n\n      <div className={modalStyles.footerButtons}>\n        {onCancel && (\n          <Button\n            onClick={isBiometricAuthEnabled && isLoading ? undefined : onCancel}\n            isLoading={isLoading && isBiometricAuthEnabled}\n            isDisabled={isLoading && !isBiometricAuthEnabled}\n            className={modalStyles.buttonHalfWidth}\n          >\n            {cancelLabel || lang('Cancel')}\n          </Button>\n        )}\n        {isBiometricAuthEnabled && Boolean(localError) && (\n          <Button\n            isPrimary\n            isLoading={isLoading}\n            isDisabled={isLoading}\n            onClick={!isLoading ? handleBiometrics : undefined}\n            className={modalStyles.buttonHalfWidth}\n          >\n            {lang('Try Again')}\n          </Button>\n        )}\n        {!isBiometricAuthEnabled && (\n          <Button\n            isPrimary\n            isLoading={isLoading}\n            isDisabled={isSubmitDisabled}\n            onClick={!isLoading ? handleSubmit : undefined}\n            className={modalStyles.buttonHalfWidth}\n          >\n            {submitLabel || lang('Send')}\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>((global): StateProps => {\n  const { isPasswordNumeric, authConfig } = global.settings;\n  const isBiometricAuthEnabled = !!authConfig && authConfig.kind !== 'password';\n  const isNativeBiometricAuthEnabled = !!authConfig && authConfig.kind === 'native-biometrics';\n\n  return {\n    isPasswordNumeric,\n    isBiometricAuthEnabled,\n    isNativeBiometricAuthEnabled,\n    authConfig,\n  };\n})(PasswordForm));\n","import { BottomSheet } from 'native-bottom-sheet';\nimport React, { memo, useEffect } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { GlobalState } from '../../global/types';\n\nimport buildClassName from '../../util/buildClassName';\nimport { getIsFaceIdAvailable, vibrateOnError } from '../../util/capacitor';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../util/windowEnvironment';\n\nimport useEffectWithPrevDeps from '../../hooks/useEffectWithPrevDeps';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport usePrevious from '../../hooks/usePrevious';\n\nimport PinPadButton from './PinPadButton';\n\nimport styles from './PinPad.module.scss';\n\ninterface OwnProps {\n  isActive?: boolean;\n  title: string;\n  type?: 'error' | 'success';\n  value: string;\n  length?: number;\n  className?: string;\n  onBiometricsClick?: NoneToVoidFunction;\n  onChange: (value: string) => void;\n  onClearError?: NoneToVoidFunction;\n  onSubmit: (pin: string) => void;\n}\n\ntype StateProps = Pick<GlobalState['settings'], 'authConfig'> & {\n  isPinAccepted?: boolean;\n};\n\nconst DEFAULT_PIN_LENGTH = 4;\nconst RESET_STATE_DELAY_MS = 1500;\n\nfunction PinPad({\n  isActive,\n  title,\n  type,\n  value,\n  length = DEFAULT_PIN_LENGTH,\n  onBiometricsClick,\n  isPinAccepted,\n  className,\n  onChange,\n  onClearError,\n  onSubmit,\n}: OwnProps & StateProps) {\n  const { clearIsPinAccepted } = getActions();\n\n  const isFaceId = getIsFaceIdAvailable();\n  const canRenderBackspace = value.length > 0;\n  const isSuccess = type === 'success' || isPinAccepted;\n  const prevIsPinAccepted = usePrevious(isPinAccepted);\n  const arePinButtonsDisabled = isSuccess\n    || (value.length === length && type !== 'error'); // Allow pincode entry in case of an error\n\n  const titleClassName = buildClassName(\n    styles.title,\n    type === 'error' && styles.error,\n    isSuccess && styles.success,\n  );\n\n  useEffect(() => {\n    if (prevIsPinAccepted && !isPinAccepted && length === value.length) {\n      onChange('');\n    }\n  }, [isPinAccepted, length, onChange, prevIsPinAccepted, value.length]);\n\n  useEffect(() => {\n    return () => {\n      clearIsPinAccepted();\n    };\n  }, []);\n\n  // Fix for iOS, enable fast pinpad button presses\n  useEffectWithPrevDeps(([prevIsActive]) => {\n    if (!IS_DELEGATED_BOTTOM_SHEET) return;\n    if (isActive) {\n      void BottomSheet.clearScrollPatch();\n    } else if (prevIsActive) {\n      void BottomSheet.applyScrollPatch();\n    }\n  }, [isActive]);\n\n  useEffect(() => {\n    if (type !== 'error') return undefined;\n\n    const timeoutId = window.setTimeout(() => {\n      if (value.length === length) {\n        onChange('');\n      }\n      onClearError?.();\n    }, RESET_STATE_DELAY_MS);\n    void vibrateOnError();\n\n    return () => {\n      window.clearTimeout(timeoutId);\n    };\n  }, [length, onChange, onClearError, type, value.length]);\n\n  const handleClick = useLastCallback((char: string) => {\n    if (value.length === length || value.length === 0) {\n      onClearError?.();\n    }\n\n    if (value.length === length) {\n      onChange(char);\n\n      return;\n    }\n\n    const newValue = `${value}${char}`;\n    onChange(newValue);\n\n    if (newValue.length === length) {\n      onSubmit(newValue);\n    }\n  });\n\n  const handleBackspaceClick = useLastCallback(() => {\n    onClearError?.();\n    if (!value.length) return;\n\n    onChange(value.slice(0, -1));\n  });\n\n  function renderDots() {\n    const dotsClassName = buildClassName(\n      styles.dots,\n      type === 'error' && styles.dotsError,\n      isSuccess && styles.dotsLoading,\n    );\n\n    return (\n      <div className={dotsClassName} aria-hidden>\n        {Array.from({ length }, (_, i) => (\n          <div\n            key={i}\n            className={buildClassName(\n              styles.dot,\n              i < value.length && styles.dotFilled,\n              type === 'error' && styles.error,\n              isSuccess && styles.success,\n            )}\n          />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className={buildClassName(styles.root, className)}>\n      <div className={titleClassName}>{title}</div>\n      {renderDots()}\n\n      <div className={styles.grid}>\n        <PinPadButton value=\"1\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"2\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"3\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"4\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"5\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"6\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"7\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"8\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton value=\"9\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        {!onBiometricsClick ? <span /> : (\n          <PinPadButton onClick={onBiometricsClick} isDisabled={isSuccess}>\n            <i className={buildClassName('icon', isFaceId ? 'icon-face-id' : 'icon-touch-id')} aria-hidden />\n          </PinPadButton>\n        )}\n        <PinPadButton value=\"0\" onClick={handleClick} isDisabled={arePinButtonsDisabled} />\n        <PinPadButton\n          className={!canRenderBackspace && styles.buttonHidden}\n          isDisabled={!canRenderBackspace || isSuccess}\n          onClick={handleBackspaceClick}\n        >\n          <i className=\"icon icon-backspace\" aria-hidden />\n        </PinPadButton>\n      </div>\n    </div>\n  );\n}\n\nexport default memo(withGlobal<OwnProps>(\n  (global) => {\n    const { isPinAccepted } = global;\n\n    return {\n      isPinAccepted,\n    };\n  },\n)(PinPad));\n","import React, { memo, useState } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\nimport { vibrate } from '../../util/capacitor';\n\nimport styles from './PinPad.module.scss';\n\ninterface OwnProps {\n  value?: any;\n  children?: React.ReactNode;\n  className?: string;\n  isDisabled?: boolean;\n  onClick?: (value?: any) => void;\n}\n\nconst CLICKED_TIMEOUT_MS = 200;\n\nfunction PinPadButton({\n  value, children, className, isDisabled, onClick,\n}: OwnProps) {\n  const [isClicked, setIsClicked] = useState(false);\n\n  const handleClick = () => {\n    void vibrate();\n    onClick?.(value);\n    setIsClicked(true);\n    setTimeout(() => {\n      setIsClicked(false);\n    }, CLICKED_TIMEOUT_MS);\n  };\n  return (\n    <div\n      onMouseDown={!isDisabled ? handleClick : undefined}\n      className={buildClassName(styles.button, isClicked && styles.buttonActive, className)}\n      role=\"button\"\n      tabIndex={0}\n    >\n      {value || children}\n    </div>\n  );\n}\n\nexport default memo(PinPadButton);\n","import type { VirtualElement } from '../../lib/teact/teact';\nimport { useLayoutEffect, useRef } from '../../lib/teact/teact';\nimport TeactDOM from '../../lib/teact/teact-dom';\n\ntype OwnProps = {\n  containerId?: string;\n  className?: string;\n  style?: string;\n  children: VirtualElement;\n};\n\nfunction Portal({\n  containerId, className, style, children,\n}: OwnProps): TeactJsx {\n  const elementRef = useRef<HTMLDivElement>();\n  if (!elementRef.current) {\n    elementRef.current = document.createElement('div');\n  }\n\n  useLayoutEffect(() => {\n    const container = document.querySelector<HTMLDivElement>(containerId || '#portals');\n    if (!container) {\n      return undefined;\n    }\n\n    const element = elementRef.current!;\n\n    if (className) {\n      element.className = className;\n    }\n\n    if (style) {\n      element.style.cssText = style;\n    }\n\n    container.appendChild(element);\n\n    return () => {\n      TeactDOM.render(undefined, element);\n      container.removeChild(element);\n    };\n  }, [className, style, containerId]);\n\n  return TeactDOM.render(children, elementRef.current);\n}\n\nexport default Portal;\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport styles from './Radio.module.scss';\n\ninterface OwnProps {\n  id?: string;\n  name: string;\n  value: string;\n  className?: string;\n  isChecked?: boolean;\n  onChange?: (event: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nfunction Radio({\n  id, name, value, isChecked, className, onChange,\n}: OwnProps) {\n  return (\n    <div className={buildClassName(styles.root, className, isChecked && styles.checked)}>\n      <input\n        id={id}\n        type=\"radio\"\n        name={name}\n        className=\"visually-hidden\"\n        value={value}\n        checked={isChecked}\n        onChange={onChange}\n        teactExperimentControlled\n      />\n    </div>\n  );\n}\n\nexport default memo(Radio);\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  memo, useLayoutEffect, useRef,\n} from '../../lib/teact/teact';\n\nimport { FRACTION_DIGITS } from '../../config';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport { buildContentHtml, getInputRegex } from './RichNumberInput';\n\nimport styles from './Input.module.scss';\n\ntype OwnProps = {\n  id?: string;\n  labelText?: string;\n  value?: string;\n  error?: string;\n  suffix?: string;\n  zeroValue?: string;\n  decimals?: number;\n  className?: string;\n  inputClassName?: string;\n  labelClassName?: string;\n  valueClassName?: string;\n  children?: TeactNode;\n};\n\nfunction RichNumberInput({\n  id,\n  labelText,\n  value,\n  error,\n  suffix,\n  zeroValue,\n  decimals = FRACTION_DIGITS,\n  className,\n  inputClassName,\n  labelClassName,\n  valueClassName,\n  children,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const contentRef = useRef<HTMLInputElement | null>(null);\n  const prevValueRef = useRef<string>('');\n\n  const renderValue = useLastCallback((inputValue = '', noFallbackToPrev = false) => {\n    const contentEl = contentRef.current!;\n\n    const valueRegex = getInputRegex(decimals);\n    const values = inputValue.toString().match(valueRegex);\n\n    // eslint-disable-next-line no-null/no-null\n    if (values === null || values.length < 4 || values[0] === '') {\n      if (noFallbackToPrev || inputValue === '') {\n        prevValueRef.current = '';\n        contentEl.innerText = '';\n      } else {\n        renderValue(prevValueRef.current, true);\n      }\n\n      return;\n    }\n\n    prevValueRef.current = inputValue;\n\n    contentEl.innerHTML = buildContentHtml({\n      values, suffix, decimals, withRadix: true,\n    });\n  });\n\n  useLayoutEffect(() => {\n    if (value) {\n      renderValue(value);\n    } else if (zeroValue) {\n      contentRef.current!.innerHTML = zeroValue;\n    }\n  }, [decimals, renderValue, value, zeroValue]);\n\n  const inputWrapperFullClass = buildClassName(\n    styles.input__wrapper,\n    inputClassName,\n  );\n  const inputFullClass = buildClassName(\n    styles.input,\n    styles.input_rich,\n    styles.disabled,\n    error && styles.error,\n    valueClassName,\n  );\n  const labelTextClassName = buildClassName(\n    styles.label,\n    labelClassName,\n  );\n\n  return (\n    <div className={buildClassName(styles.wrapper, className)}>\n      {error && (\n        <label className={buildClassName(styles.label, styles.label_error, styles.error)} htmlFor={id}>{error}</label>\n      )}\n      {labelText && (\n        <label\n          className={labelTextClassName}\n          htmlFor={id}\n          id={`${id}Label`}\n        >\n          {labelText}\n        </label>\n      )}\n      <div className={inputWrapperFullClass}>\n        <div\n          ref={contentRef}\n          id={id}\n          className={inputFullClass}\n        />\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default memo(RichNumberInput);\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React, {\n  memo, useLayoutEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport { DEFAULT_DECIMAL_PLACES, FRACTION_DIGITS, WHOLE_PART_DELIMITER } from '../../config';\nimport { forceMeasure, requestMutation } from '../../lib/fasterdom/fasterdom';\nimport buildClassName from '../../util/buildClassName';\nimport { saveCaretPosition } from '../../util/saveCaretPosition';\n\nimport useFlag from '../../hooks/useFlag';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport styles from './Input.module.scss';\n\ntype OwnProps = {\n  id?: string;\n  labelText?: React.ReactNode;\n  value?: string;\n  hasError?: boolean;\n  isLoading?: boolean;\n  suffix?: string;\n  className?: string;\n  inputClassName?: string;\n  labelClassName?: string;\n  valueClassName?: string;\n  cornerClassName?: string;\n  children?: TeactNode;\n  onChange?: (value?: string) => void;\n  onBlur?: NoneToVoidFunction;\n  onFocus?: NoneToVoidFunction;\n  onPressEnter?: (e: React.KeyboardEvent<HTMLDivElement>) => void;\n  decimals?: number;\n  disabled?: boolean;\n  isStatic?: boolean;\n};\n\nconst MIN_LENGTH_FOR_SHRINK = 5;\nconst MIN_SIZE_SCALE = 0.25; // 12px\nconst measureEl = document.createElement('div');\n\nfunction RichNumberInput({\n  id,\n  labelText,\n  hasError,\n  isLoading = false,\n  suffix,\n  value,\n  children,\n  className,\n  inputClassName,\n  labelClassName,\n  valueClassName,\n  cornerClassName,\n  onChange,\n  onBlur,\n  onFocus,\n  onPressEnter,\n  decimals = FRACTION_DIGITS,\n  disabled = false,\n  isStatic = false,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement | null>(null);\n  const lang = useLang();\n  const [hasFocus, markHasFocus, unmarkHasFocus] = useFlag(false);\n  const [isContentEditable, setContentEditable] = useState(!disabled);\n  const isFontShrinkedRef = useRef(false);\n\n  const updateFontScale = useLastCallback((content: string) => {\n    const input = inputRef.current!;\n\n    forceMeasure(() => {\n      const { clientWidth: width } = input;\n      measureEl.className = buildClassName(input.className, 'measure-hidden');\n      measureEl.style.width = `${width}px`;\n      measureEl.innerHTML = content;\n      document.body.appendChild(measureEl);\n      let delta = 1;\n\n      while (delta > MIN_SIZE_SCALE) {\n        measureEl.style.setProperty('--base-font-size', delta.toString());\n        if (measureEl.scrollWidth <= width) {\n          break;\n        }\n        delta -= 0.05;\n      }\n\n      isFontShrinkedRef.current = delta < 1;\n      document.body.removeChild(measureEl);\n      measureEl.className = '';\n      input.style.setProperty('--base-font-size', delta.toString());\n    });\n  });\n\n  const handleLoadingHtml = useLastCallback((input: HTMLInputElement, parts?: RegExpMatchArray) => {\n    const newHtml = parts ? buildContentHtml({ values: parts, suffix, decimals }) : '';\n    input.innerHTML = newHtml;\n    setContentEditable(false);\n\n    return newHtml;\n  });\n\n  const handleNumberHtml = useLastCallback((input: HTMLInputElement, parts?: RegExpMatchArray) => {\n    const newHtml = parts ? buildContentHtml({ values: parts, suffix, decimals }) : '';\n    const restoreCaretPosition = document.activeElement === inputRef.current\n      ? saveCaretPosition(input, decimals)\n      : undefined;\n\n    input.innerHTML = newHtml;\n    setContentEditable(!disabled);\n    restoreCaretPosition?.();\n\n    return newHtml;\n  });\n\n  const updateHtml = useLastCallback((parts?: RegExpMatchArray) => {\n    const input = inputRef.current!;\n    const content = isLoading ? handleLoadingHtml(input, parts) : handleNumberHtml(input, parts);\n    const textContent = parts?.[0] || '';\n\n    if (textContent.length > MIN_LENGTH_FOR_SHRINK || isFontShrinkedRef.current) {\n      updateFontScale(content);\n    }\n    if (content.length) {\n      input.classList.remove(styles.isEmpty);\n    } else {\n      input.classList.add(styles.isEmpty);\n    }\n  });\n\n  useLayoutEffect(() => {\n    if (value === undefined) {\n      updateHtml();\n    } else {\n      updateHtml(getParts(value));\n    }\n  }, [updateHtml, value]);\n\n  function handleChange(e: React.FormEvent<HTMLDivElement>) {\n    const inputValue = e.currentTarget.innerText.trim();\n    const newValue = clearValue(inputValue, decimals);\n    const parts = getParts(newValue, decimals);\n    const isEmpty = inputValue === '';\n\n    requestMutation(() => {\n      if (!parts && !isEmpty && value) {\n        updateHtml(getParts(value, decimals));\n      } else {\n        updateHtml(parts);\n      }\n\n      if ((newValue || isEmpty) && newValue !== value) {\n        onChange?.(newValue);\n      }\n    });\n  }\n\n  const handleFocus = useLastCallback(() => {\n    if (disabled) return;\n\n    markHasFocus();\n    onFocus?.();\n  });\n\n  const handleBlur = useLastCallback(() => {\n    if (disabled) return;\n\n    unmarkHasFocus();\n    onBlur?.();\n  });\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    if (e.key === 'Enter' && onPressEnter) {\n      onPressEnter(e);\n    }\n  };\n\n  const inputWrapperFullClass = buildClassName(\n    styles.input__wrapper,\n    isStatic && styles.inputWrapperStatic,\n    hasError && styles.error,\n    hasFocus && styles.input__wrapper_hasFocus,\n    inputClassName,\n  );\n  const inputFullClass = buildClassName(\n    styles.input,\n    styles.input_rich,\n    !value && styles.isEmpty,\n    valueClassName,\n    isLoading && styles.isLoading,\n  );\n  const labelTextClassName = buildClassName(\n    styles.label,\n    hasError && styles.error,\n    labelClassName,\n  );\n  const cornerFullClass = buildClassName(\n    cornerClassName,\n    hasFocus && styles.swapCorner,\n    hasError && styles.swapCorner_error,\n  );\n\n  return (\n    <div className={buildClassName(styles.wrapper, className)}>\n      {Boolean(labelText) && (\n        <label\n          className={labelTextClassName}\n          htmlFor={id}\n          id={`${id}Label`}\n        >\n          {labelText}\n        </label>\n      )}\n      <div className={inputWrapperFullClass}>\n        {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n        <div\n          ref={inputRef}\n          contentEditable={isContentEditable}\n          id={id}\n          role=\"textbox\"\n          aria-required\n          aria-placeholder={lang('Amount value')}\n          aria-labelledby={labelText ? `${id}Label` : undefined}\n          tabIndex={0}\n          inputMode=\"decimal\"\n          className={inputFullClass}\n          onKeyDown={handleKeyDown}\n          onChange={handleChange}\n          onFocus={handleFocus}\n          onBlur={handleBlur}\n        />\n        {children}\n      </div>\n      {cornerClassName && <div className={cornerFullClass} />}\n    </div>\n  );\n}\n\nfunction getParts(value: string, decimals = DEFAULT_DECIMAL_PLACES) {\n  const regex = getInputRegex(decimals);\n  return value.match(regex) || undefined;\n}\n\nexport function getInputRegex(decimals: number) {\n  if (!decimals) return /^(\\d+)$/;\n  return new RegExp(`^(\\\\d+)([.,])?(\\\\d{1,${decimals}})?`);\n}\n\nfunction clearValue(value: string, decimals: number) {\n  return value\n    .replace(',', '.') // Replace comma to point\n    .replace(/[^\\d.]/, '') // Remove incorrect symbols\n    .match(getInputRegex(decimals))?.[0] // Trim extra decimal places\n    .replace(/^0+(?=([1-9]|0\\.))/, '') // Trim extra zeros at beginning\n    .replace(/^0+$/, '0') // Trim extra zeros (if only zeros are entered)\n    ?? '';\n}\n\nexport function buildContentHtml({\n  values,\n  suffix,\n  decimals = FRACTION_DIGITS,\n  withRadix = false,\n}: {\n  values: RegExpMatchArray;\n  suffix?: string;\n  decimals?: number;\n  withRadix?: boolean;\n}) {\n  let [, wholePart] = values;\n  const [, , dotPart, fractionPart] = values;\n\n  const fractionStr = (fractionPart || dotPart) ? `.${(fractionPart || '').substring(0, decimals)}` : '';\n  const suffixStr = suffix ? `&thinsp;${suffix}` : '';\n\n  if (withRadix) {\n    wholePart = wholePart.replace(/\\d(?=(\\d{3})+($|\\.))/g, `$&${WHOLE_PART_DELIMITER}`);\n  }\n\n  return `${wholePart}<span class=\"${styles.fractional}\">${fractionStr}${suffixStr}</span>`;\n}\n\nexport default memo(RichNumberInput);\n","import type { FC } from '../../lib/teact/teact';\nimport React, { useRef } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport usePrevious from '../../hooks/usePrevious';\nimport useShowTransition from '../../hooks/useShowTransition';\n\ntype OwnProps = {\n  isOpen: boolean;\n  isCustom?: boolean;\n  isHidden?: boolean;\n  id?: string;\n  className?: string;\n  onClick?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;\n  noCloseTransition?: boolean;\n  shouldAnimateFirstRender?: boolean;\n  style?: string;\n  children: React.ReactNode;\n  ref?: React.LegacyRef<HTMLDivElement>;\n};\n\nconst ShowTransition: FC<OwnProps> = ({\n  isOpen,\n  isHidden,\n  isCustom,\n  id,\n  className,\n  onClick,\n  children,\n  noCloseTransition,\n  shouldAnimateFirstRender,\n  style,\n  ref,\n}) => {\n  const prevIsOpen = usePrevious(isOpen);\n  const prevChildren = usePrevious(children);\n  const fromChildrenRef = useRef<React.ReactNode>();\n  const isFirstRender = prevIsOpen === undefined;\n  const {\n    shouldRender,\n    transitionClassNames,\n  } = useShowTransition(\n    isOpen && !isHidden,\n    undefined,\n    isFirstRender && !shouldAnimateFirstRender,\n    isCustom ? false : undefined,\n    noCloseTransition,\n  );\n\n  if (prevIsOpen && !isOpen) {\n    fromChildrenRef.current = prevChildren;\n  }\n\n  return (\n    (shouldRender || isHidden) && (\n      <div\n        id={id}\n        ref={ref}\n        className={buildClassName(className, transitionClassNames)}\n        onClick={onClick}\n        style={style}\n      >\n        {isOpen ? children : fromChildrenRef.current!}\n      </div>\n    )\n  );\n};\n\nexport default ShowTransition;\n","import React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\n\nimport styles from './SuggestionList.module.scss';\n\ntype OwnProps = {\n  position?: 'top' | 'bottom';\n  suggestions: string[];\n  activeIndex?: number;\n  isInModal?: boolean;\n  onSelect: (suggest: string) => void;\n};\n\nfunction SuggestionList({\n  position = 'bottom',\n  suggestions,\n  activeIndex,\n  isInModal,\n  onSelect,\n}: OwnProps) {\n  const lang = useLang();\n\n  const handleClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n\n    const suggest = (e.target as HTMLLIElement).innerText.trim();\n    onSelect(suggest);\n  };\n\n  return suggestions.length ? (\n    <ul className={buildClassName(styles.suggestions, styles[position], isInModal && styles.embedded)}>\n      {suggestions.map((suggestion, index) => {\n        return (\n          <li\n            key={suggestion}\n            role=\"button\"\n            tabIndex={0}\n            className={buildClassName(styles.suggestion, index === activeIndex && styles.active)}\n            onMouseDown={handleClick}\n          >\n            {suggestion}\n          </li>\n        );\n      })}\n    </ul>\n  ) : (\n    <div className={styles.suggestions}>\n      <li className={styles.suggestion}>{lang('No suggestions, you\\'re on your own!')}</li>\n    </div>\n  );\n}\n\nexport default memo(SuggestionList);\n","import type { ChangeEvent } from 'react';\nimport React, { memo } from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport styles from './Switcher.module.scss';\n\ntype OwnProps = {\n  id?: string;\n  name?: string;\n  value?: string;\n  label?: string;\n  checked?: boolean;\n  className?: string;\n  onChange?: (e: ChangeEvent<HTMLInputElement>) => void;\n  onCheck?: (isChecked: boolean) => void;\n  shouldStopPropagation?: boolean;\n};\n\nfunction Switcher({\n  id,\n  name,\n  value,\n  label,\n  checked = false,\n  className,\n  onChange,\n  onCheck,\n  shouldStopPropagation,\n}: OwnProps) {\n  function handleChange(e: ChangeEvent<HTMLInputElement>) {\n    if (onChange) {\n      onChange(e);\n    }\n\n    if (onCheck) {\n      onCheck(e.currentTarget.checked);\n    }\n  }\n\n  return (\n    <label\n      className={buildClassName(styles.container, className)}\n      title={label}\n      onClick={shouldStopPropagation ? (e) => e.stopPropagation() : undefined}\n      tabIndex={0}\n      role=\"button\"\n    >\n      <input\n        type=\"checkbox\"\n        id={id}\n        name={name}\n        value={value}\n        checked={checked}\n        className={styles.input}\n        onChange={handleChange}\n        teactExperimentControlled={shouldStopPropagation || (!onChange && !onCheck)}\n      />\n      <span className={styles.widget} />\n    </label>\n  );\n}\n\nexport default memo(Switcher);\n","import React, {\n  useEffect, useLayoutEffect, useRef, useState,\n} from '../../lib/teact/teact';\nimport { addExtraClass, removeExtraClass, setExtraStyles } from '../../lib/teact/teact-dom';\n\nimport type { IAnchorPosition } from '../../global/types';\nimport type { DropdownItem } from './Dropdown';\n\nimport { requestForcedReflow, requestMutation } from '../../lib/fasterdom/fasterdom';\nimport buildClassName from '../../util/buildClassName';\nimport forceReflow from '../../util/forceReflow';\n\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useMenuPosition from '../../hooks/useMenuPosition';\n\nimport DropdownMenu from './DropdownMenu';\n\nimport styles from './Tab.module.scss';\n\ntype OwnProps = {\n  className?: string;\n  title: string;\n  isActive?: boolean;\n  previousActiveTab?: number;\n  menuItems?: DropdownItem[];\n  onClick: (arg: number) => void;\n  clickArg: number;\n  onMenuItemClick?: (value: string) => void;\n};\n\nfunction Tab({\n  className,\n  title,\n  isActive,\n  previousActiveTab,\n  menuItems,\n  onClick,\n  clickArg,\n  onMenuItemClick,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const tabRef = useRef<HTMLDivElement>(null);\n  // eslint-disable-next-line no-null/no-null\n  const contentRef = useRef<HTMLDivElement>(null);\n  const [menuPosition, setMenuPosition] = useState<IAnchorPosition | undefined>();\n  const hasMenu = Boolean(menuItems?.length);\n  const isMenuOpen = Boolean(menuPosition);\n\n  const getTriggerElement = useLastCallback(() => contentRef.current);\n  const getRootElement = useLastCallback(() => document.body);\n  const getMenuElement = useLastCallback(() => document.querySelector('#portals .menu-bubble'));\n  const getLayout = useLastCallback(() => ({ withPortal: true }));\n  const closeMenu = useLastCallback(() => setMenuPosition(undefined));\n\n  const {\n    positionY, transformOriginX, transformOriginY, style: menuStyle,\n  } = useMenuPosition(\n    menuPosition,\n    getTriggerElement,\n    getRootElement,\n    getMenuElement,\n    getLayout,\n  );\n\n  const handleClick = useLastCallback(() => {\n    if (isActive && !hasMenu) return;\n\n    if (!isActive) {\n      onClick(clickArg);\n      return;\n    }\n\n    if (isMenuOpen) {\n      closeMenu();\n    } else {\n      const { right: x, y, height } = contentRef.current!.getBoundingClientRect();\n      setMenuPosition({ x, y: y + height });\n    }\n  });\n\n  useLayoutEffect(() => {\n    // Set initial active state\n    if (isActive && previousActiveTab === undefined && tabRef.current) {\n      addExtraClass(tabRef.current, styles.Tab_active);\n    }\n  }, [isActive, previousActiveTab]);\n\n  useEffect(() => {\n    if (!isActive || previousActiveTab === undefined) {\n      return;\n    }\n\n    const tabEl = tabRef.current!;\n    const prevTabEl = tabEl.parentElement!.children[previousActiveTab] as HTMLElement;\n    if (!prevTabEl) {\n      // The number of tabs in the parent component has decreased. It is necessary to add the active tab class name.\n      if (isActive && !tabEl.classList.contains(styles.Tab_active)) {\n        requestMutation(() => {\n          addExtraClass(tabEl, styles.Tab_active);\n        });\n      }\n      return;\n    }\n\n    const platformEl = tabEl.querySelector<HTMLElement>(`.${styles.platform}`)!;\n    const prevPlatformEl = prevTabEl.querySelector<HTMLElement>(`.${styles.platform}`)!;\n\n    // We move and resize the platform, so it repeats the position and size of the previous one\n    const shiftLeft = prevPlatformEl.parentElement!.offsetLeft - platformEl.parentElement!.offsetLeft;\n    const scaleFactor = prevPlatformEl.clientWidth / platformEl.clientWidth;\n\n    requestMutation(() => {\n      removeExtraClass(prevPlatformEl, styles.platform_animate);\n      removeExtraClass(platformEl, styles.platform_animate);\n      setExtraStyles(platformEl, {\n        transform:\n        `translate3d(${shiftLeft}px, 0, 0) scale3d(${scaleFactor}, 1, 1)`,\n      });\n\n      requestForcedReflow(() => {\n        forceReflow(platformEl);\n\n        return () => {\n          addExtraClass(platformEl, styles.platform_animate);\n          setExtraStyles(platformEl, { transform: 'none' });\n\n          removeExtraClass(prevTabEl, styles.Tab_active);\n          addExtraClass(tabEl, styles.Tab_active);\n        };\n      });\n    });\n  }, [isActive, previousActiveTab]);\n\n  return (\n    <div\n      className={buildClassName(styles.Tab, className, hasMenu && styles.interactive)}\n      onClick={handleClick}\n      ref={tabRef}\n    >\n      <span className={styles.content} ref={contentRef}>\n        {title}\n        {hasMenu && isActive && <i className=\"icon-caret-down\" aria-hidden />}\n        <i className={styles.platform} aria-hidden />\n      </span>\n      {hasMenu && (\n        <DropdownMenu\n          isOpen={isMenuOpen}\n          items={menuItems!}\n          withPortal\n          buttonClassName={styles.menuItem}\n          menuPositionHorizontal=\"right\"\n          menuPosition={positionY}\n          menuStyle={menuStyle}\n          transformOriginX={transformOriginX}\n          transformOriginY={transformOriginY}\n          onSelect={onMenuItemClick}\n          onClose={closeMenu}\n        />\n      )}\n    </div>\n  );\n}\n\nexport default Tab;\n","import React, { memo, useEffect, useRef } from '../../lib/teact/teact';\n\nimport type { DropdownItem } from './Dropdown';\n\nimport animateHorizontalScroll from '../../util/animateHorizontalScroll';\nimport buildClassName from '../../util/buildClassName';\nimport { IS_ANDROID, IS_IOS } from '../../util/windowEnvironment';\n\nimport useHorizontalScroll from '../../hooks/useHorizontalScroll';\nimport usePrevious from '../../hooks/usePrevious';\n\nimport Tab from './Tab';\n\nimport styles from './TabList.module.scss';\n\nexport type TabWithProperties = {\n  id: number;\n  title: string;\n  className?: string;\n  menuItems?: DropdownItem[];\n  onMenuItemClick?: (value: string) => void;\n};\n\ntype OwnProps = {\n  tabs: readonly TabWithProperties[];\n  activeTab: number;\n  big?: boolean;\n  className?: string;\n  onSwitchTab: (index: number) => void;\n};\n\nconst TAB_SCROLL_THRESHOLD_PX = 16;\n// Should match duration from `--slide-transition` CSS variable\nconst SCROLL_DURATION = IS_IOS ? 450 : IS_ANDROID ? 400 : 300;\n\nfunction TabList({\n  tabs, activeTab, big, className, onSwitchTab,\n}: OwnProps) {\n  // eslint-disable-next-line no-null/no-null\n  const containerRef = useRef<HTMLDivElement>(null);\n  const previousActiveTab = usePrevious(activeTab);\n\n  useHorizontalScroll(containerRef, undefined, true);\n\n  // Scroll container to place active tab in the center\n  useEffect(() => {\n    const container = containerRef.current!;\n    const { scrollWidth, offsetWidth, scrollLeft } = container;\n    if (scrollWidth <= offsetWidth) {\n      return;\n    }\n\n    const activeTabElement = container.childNodes[activeTab] as HTMLElement | null;\n    if (!activeTabElement) {\n      return;\n    }\n\n    const { offsetLeft: activeTabOffsetLeft, offsetWidth: activeTabOffsetWidth } = activeTabElement;\n    const newLeft = activeTabOffsetLeft - (offsetWidth / 2) + (activeTabOffsetWidth / 2);\n\n    // Prevent scrolling by only a couple of pixels, which doesn't look smooth\n    if (Math.abs(newLeft - scrollLeft) < TAB_SCROLL_THRESHOLD_PX) {\n      return;\n    }\n\n    animateHorizontalScroll(container, newLeft, SCROLL_DURATION);\n  }, [activeTab]);\n\n  return (\n    <div\n      className={buildClassName(styles.container, 'no-scrollbar', big && styles.big, className)}\n      ref={containerRef}\n    >\n      {tabs.map((tab, i) => (\n        <Tab\n          key={tab.title}\n          title={tab.title}\n          isActive={i === activeTab}\n          previousActiveTab={previousActiveTab}\n          className={tab?.className}\n          menuItems={tab?.menuItems}\n          onMenuItemClick={tab?.onMenuItemClick}\n          onClick={onSwitchTab}\n          clickArg={tab.id}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default memo(TabList);\n","import type { RefObject } from 'react';\nimport React, { useEffect, useLayoutEffect, useRef } from '../../lib/teact/teact';\nimport {\n  addExtraClass, removeExtraClass, setExtraStyles, toggleExtraClass,\n} from '../../lib/teact/teact-dom';\nimport { getGlobal } from '../../global';\n\nimport { ANIMATION_LEVEL_MIN } from '../../config';\nimport { requestForcedReflow, requestMutation } from '../../lib/fasterdom/fasterdom';\nimport buildClassName from '../../util/buildClassName';\nimport { waitForAnimationEnd, waitForTransitionEnd } from '../../util/cssAnimationEndListeners';\nimport forceReflow from '../../util/forceReflow';\nimport { allowSwipeControlForTransition } from '../../util/swipeController';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport { dispatchHeavyAnimationEvent } from '../../hooks/useHeavyAnimationCheck';\nimport usePrevious from '../../hooks/usePrevious';\n\nimport './Transition.scss';\n\ntype AnimationName = (\n  'none' | 'slide' | 'slideRtl' | 'slideFade' | 'zoomFade' | 'slideLayers'\n  | 'fade' | 'pushSlide' | 'reveal' | 'slideOptimized' | 'slideOptimizedRtl' | 'semiFade'\n  | 'slideVertical' | 'slideVerticalFade' | 'slideFadeAndroid'\n  );\nexport type ChildrenFn = (isActive: boolean, isFrom: boolean, currentKey: number, activeKey: number) => React.ReactNode;\nexport type TransitionProps = {\n  ref?: RefObject<HTMLDivElement>;\n  activeKey: number;\n  prevKey?: number;\n  nextKey?: number;\n  name: AnimationName;\n  direction?: 'auto' | 'inverse' | 1 | -1;\n  renderCount?: number;\n  shouldRestoreHeight?: boolean;\n  shouldCleanup?: boolean;\n  cleanupExceptionKey?: number;\n  // Used by async components which are usually remounted during first animation\n  shouldWrap?: boolean;\n  wrapExceptionKey?: number;\n  id?: string;\n  className?: string;\n  slideClassName?: string;\n  withSwipeControl?: boolean;\n  onStart?: NoneToVoidFunction;\n  onStop?: NoneToVoidFunction;\n  children: React.ReactNode | ChildrenFn;\n};\n\nconst FALLBACK_ANIMATION_END = 1000;\nconst CLASSES = {\n  slide: 'Transition_slide',\n  active: 'Transition_slide-active',\n  from: 'Transition_slide-from',\n  to: 'Transition_slide-to',\n  inactive: 'Transition_slide-inactive',\n};\n\nexport const ACTIVE_SLIDE_CLASS_NAME = CLASSES.active;\nexport const TO_SLIDE_CLASS_NAME = CLASSES.to;\n\nfunction Transition({\n  ref,\n  activeKey,\n  nextKey,\n  prevKey,\n  name,\n  direction = 'auto',\n  renderCount,\n  shouldRestoreHeight,\n  shouldCleanup,\n  cleanupExceptionKey,\n  shouldWrap,\n  wrapExceptionKey,\n  id,\n  className,\n  slideClassName,\n  withSwipeControl,\n  onStart,\n  onStop,\n  children,\n}: TransitionProps) {\n  const currentKeyRef = useRef<number>();\n  // No need for a container to update on change\n  const { animationLevel } = getGlobal().settings;\n  const shouldDisableAnimation = animationLevel === ANIMATION_LEVEL_MIN;\n\n  // eslint-disable-next-line no-null/no-null\n  let containerRef = useRef<HTMLDivElement>(null);\n  if (ref) {\n    containerRef = ref;\n  }\n\n  const rendersRef = useRef<Record<number, React.ReactNode | ChildrenFn>>({});\n  const prevActiveKey = usePrevious<any>(activeKey);\n  const forceUpdate = useForceUpdate();\n  const isAnimatingRef = useRef(false);\n  const isSwipeJustCancelledRef = useRef(false);\n\n  const hasActiveKeyChanged = prevActiveKey !== undefined && activeKey !== prevActiveKey;\n\n  if (!renderCount && hasActiveKeyChanged) {\n    rendersRef.current = { [prevActiveKey]: rendersRef.current[prevActiveKey] };\n  }\n\n  rendersRef.current[activeKey] = children;\n  if (prevKey) {\n    rendersRef.current[prevKey] = children;\n  }\n  if (nextKey) {\n    rendersRef.current[nextKey] = children;\n  }\n\n  const isBackwards = (\n    direction === -1\n    || (direction === 'auto' && prevActiveKey > activeKey)\n    || (direction === 'inverse' && prevActiveKey < activeKey)\n  );\n\n  useLayoutEffect(() => {\n    function cleanup() {\n      if (!shouldCleanup) {\n        return;\n      }\n\n      const preservedRender = cleanupExceptionKey !== undefined ? rendersRef.current[cleanupExceptionKey] : undefined;\n\n      rendersRef.current = preservedRender ? { [cleanupExceptionKey!]: preservedRender } : {};\n\n      forceUpdate();\n    }\n\n    const isSlideOptimized = name === 'slideOptimized' || name === 'slideOptimizedRtl';\n    const container = containerRef.current!;\n    const keys = Object.keys(rendersRef.current).map(Number);\n    const prevActiveIndex = renderCount ? prevActiveKey : keys.indexOf(prevActiveKey);\n    const activeIndex = renderCount ? activeKey : keys.indexOf(activeKey);\n\n    const childNodes = Array.from(container.childNodes);\n    if (!childNodes.length) {\n      return;\n    }\n\n    const childElements = Array.from(container.children) as HTMLElement[];\n    childElements.forEach((el) => {\n      addExtraClass(el, CLASSES.slide);\n\n      if (slideClassName) {\n        addExtraClass(el, slideClassName);\n      }\n    });\n\n    if (!hasActiveKeyChanged) {\n      if (isAnimatingRef.current) {\n        return;\n      }\n\n      childElements.forEach((childElement) => {\n        if (childElement === childNodes[activeIndex]) {\n          addExtraClass(childElement, CLASSES.active);\n\n          if (isSlideOptimized) {\n            setExtraStyles(childElement, {\n              transition: 'none',\n              transform: 'translate3d(0, 0, 0)',\n            });\n          }\n        } else if (!isSlideOptimized) {\n          addExtraClass(childElement, CLASSES.inactive);\n        }\n      });\n\n      return;\n    }\n\n    currentKeyRef.current = activeKey;\n\n    if (isSlideOptimized) {\n      if (!childNodes[activeIndex]) {\n        return;\n      }\n\n      performSlideOptimized(\n        shouldDisableAnimation,\n        name,\n        isBackwards,\n        cleanup,\n        activeKey,\n        currentKeyRef,\n        isAnimatingRef,\n        container,\n        childNodes[activeIndex],\n        childNodes[prevActiveIndex],\n        shouldRestoreHeight,\n        onStart,\n        onStop,\n      );\n\n      return;\n    }\n\n    if (name === 'none' || shouldDisableAnimation || isSwipeJustCancelledRef.current) {\n      if (isSwipeJustCancelledRef.current) {\n        isSwipeJustCancelledRef.current = false;\n      }\n\n      childNodes.forEach((node, i) => {\n        if (node instanceof HTMLElement) {\n          removeExtraClass(node, CLASSES.from);\n          removeExtraClass(node, CLASSES.to);\n          toggleExtraClass(node, CLASSES.active, i === activeIndex);\n          toggleExtraClass(node, CLASSES.inactive, i !== activeIndex);\n        }\n      });\n\n      cleanup();\n\n      return;\n    }\n\n    childNodes.forEach((node, i) => {\n      if (node instanceof HTMLElement) {\n        removeExtraClass(node, CLASSES.active);\n        toggleExtraClass(node, CLASSES.from, i === prevActiveIndex);\n        toggleExtraClass(node, CLASSES.to, i === activeIndex);\n        toggleExtraClass(node, CLASSES.inactive, i !== prevActiveIndex && i !== activeIndex);\n      }\n    });\n\n    isAnimatingRef.current = true;\n    const dispatchHeavyAnimationStop = dispatchHeavyAnimationEvent();\n    onStart?.();\n\n    toggleExtraClass(container, `Transition-${name}`, !isBackwards);\n    toggleExtraClass(container, `Transition-${name}Backwards`, isBackwards);\n\n    function onAnimationEnd() {\n      const activeElement = container.querySelector<HTMLDivElement>(`.${CLASSES.active}`);\n      const { clientHeight } = activeElement || {};\n\n      requestMutation(() => {\n        if (activeKey !== currentKeyRef.current) {\n          return;\n        }\n\n        removeExtraClass(container, `Transition-${name}`);\n        removeExtraClass(container, `Transition-${name}Backwards`);\n\n        childNodes.forEach((node, i) => {\n          if (node instanceof HTMLElement) {\n            removeExtraClass(node, CLASSES.from);\n            removeExtraClass(node, CLASSES.to);\n            toggleExtraClass(node, CLASSES.active, i === activeIndex);\n            toggleExtraClass(node, CLASSES.inactive, i !== activeIndex);\n          }\n        });\n\n        if (shouldRestoreHeight) {\n          if (activeElement) {\n            setExtraStyles(activeElement, { height: 'auto' });\n            setExtraStyles(container, { height: `${clientHeight}px` });\n          }\n        }\n\n        onStop?.();\n        dispatchHeavyAnimationStop();\n        isAnimatingRef.current = false;\n\n        cleanup();\n      });\n    }\n\n    const watchedNode = (name === 'reveal' || name === 'slideFadeAndroid') && isBackwards\n      ? childNodes[prevActiveIndex]\n      : childNodes[activeIndex];\n\n    if (watchedNode) {\n      if (withSwipeControl && childNodes[prevActiveIndex]) {\n        const giveUpAnimationEnd = waitForAnimationEnd(watchedNode, onAnimationEnd);\n\n        allowSwipeControlForTransition(\n          childNodes[prevActiveIndex] as HTMLElement,\n          childNodes[activeIndex] as HTMLElement,\n          () => {\n            giveUpAnimationEnd();\n            isSwipeJustCancelledRef.current = true;\n            onStop?.();\n            dispatchHeavyAnimationStop();\n            isAnimatingRef.current = false;\n          },\n        );\n      } else {\n        waitForAnimationEnd(watchedNode, onAnimationEnd, undefined, FALLBACK_ANIMATION_END);\n      }\n    } else {\n      onAnimationEnd();\n    }\n  }, [\n    activeKey,\n    nextKey,\n    prevActiveKey,\n    hasActiveKeyChanged,\n    isBackwards,\n    name,\n    onStart,\n    onStop,\n    renderCount,\n    shouldRestoreHeight,\n    shouldCleanup,\n    slideClassName,\n    cleanupExceptionKey,\n    shouldDisableAnimation,\n    forceUpdate,\n    withSwipeControl,\n  ]);\n\n  useEffect(() => {\n    if (!shouldRestoreHeight) {\n      return;\n    }\n\n    const container = containerRef.current!;\n    const activeElement = container.querySelector<HTMLDivElement>(`.${CLASSES.active}`)\n      || container.querySelector<HTMLDivElement>(`.${CLASSES.from}`);\n    if (!activeElement) {\n      return;\n    }\n\n    const { clientHeight } = activeElement || {};\n    if (!clientHeight) {\n      return;\n    }\n\n    requestMutation(() => {\n      setExtraStyles(activeElement, { height: 'auto' });\n      setExtraStyles(container, {\n        height: `${clientHeight}px`,\n        flexBasis: `${clientHeight}px`,\n      });\n    });\n  }, [shouldRestoreHeight, children]);\n\n  const asFastList = !renderCount;\n  const renders = rendersRef.current;\n  const renderKeys = Object.keys(renderCount ? new Array(renderCount).fill(undefined) : renders).map(Number);\n  const contents = renderKeys.map((key) => {\n    const render = renders[key];\n    if (!render) {\n      return undefined;\n    }\n\n    const rendered = typeof render === 'function'\n      ? render(key === activeKey, key === prevActiveKey, key, activeKey)\n      : render;\n\n    return (shouldWrap && key !== wrapExceptionKey) || asFastList\n      ? <div key={key} teactOrderKey={key}>{rendered}</div>\n      : rendered;\n  });\n\n  return (\n    <div\n      ref={containerRef}\n      id={id}\n      className={buildClassName('Transition', className)}\n      teactFastList={asFastList}\n    >\n      {contents}\n    </div>\n  );\n}\n\nexport default Transition;\n\nfunction performSlideOptimized(\n  shouldDisableAnimation: boolean,\n  name: 'slideOptimized' | 'slideOptimizedRtl',\n  isBackwards: boolean,\n  cleanup: NoneToVoidFunction,\n  activeKey: number,\n  currentKeyRef: { current: number | undefined },\n  isAnimatingRef: { current: boolean | undefined },\n  container: HTMLElement,\n  toSlide: ChildNode,\n  fromSlide?: ChildNode,\n  shouldRestoreHeight?: boolean,\n  onStart?: NoneToVoidFunction,\n  onStop?: NoneToVoidFunction,\n) {\n  if (shouldDisableAnimation) {\n    toggleExtraClass(container, `Transition-${name}`, !isBackwards);\n    toggleExtraClass(container, `Transition-${name}Backwards`, isBackwards);\n\n    if (fromSlide instanceof HTMLElement) {\n      removeExtraClass(fromSlide, CLASSES.active);\n      setExtraStyles(fromSlide, {\n        transition: 'none',\n        transform: '',\n      });\n    }\n\n    if (toSlide instanceof HTMLElement) {\n      addExtraClass(toSlide, CLASSES.active);\n      setExtraStyles(toSlide, {\n        transition: 'none',\n        transform: 'translate3d(0, 0, 0)',\n      });\n    }\n\n    cleanup();\n\n    return;\n  }\n\n  if (name === 'slideOptimizedRtl') {\n    isBackwards = !isBackwards;\n  }\n\n  isAnimatingRef.current = true;\n  const dispatchHeavyAnimationStop = dispatchHeavyAnimationEvent();\n  onStart?.();\n\n  toggleExtraClass(container, `Transition-${name}`, !isBackwards);\n  toggleExtraClass(container, `Transition-${name}Backwards`, isBackwards);\n\n  if (fromSlide instanceof HTMLElement) {\n    setExtraStyles(fromSlide, {\n      transition: 'none',\n      transform: 'translate3d(0, 0, 0)',\n    });\n  }\n\n  if (toSlide instanceof HTMLElement) {\n    setExtraStyles(toSlide, {\n      transition: 'none',\n      transform: `translate3d(${isBackwards ? '-' : ''}100%, 0, 0)`,\n    });\n  }\n\n  requestForcedReflow(() => {\n    if (toSlide instanceof HTMLElement) {\n      forceReflow(toSlide);\n    }\n\n    return () => {\n      if (fromSlide instanceof HTMLElement) {\n        removeExtraClass(fromSlide, CLASSES.active);\n        setExtraStyles(fromSlide, {\n          transition: '',\n          transform: `translate3d(${isBackwards ? '' : '-'}100%, 0, 0)`,\n        });\n      }\n\n      if (toSlide instanceof HTMLElement) {\n        addExtraClass(toSlide, CLASSES.active);\n        setExtraStyles(toSlide, {\n          transition: '',\n          transform: 'translate3d(0, 0, 0)',\n        });\n      }\n    };\n  });\n\n  waitForTransitionEnd(toSlide, () => {\n    const clientHeight = toSlide instanceof HTMLElement ? toSlide.clientHeight : undefined;\n\n    requestMutation(() => {\n      if (activeKey !== currentKeyRef.current) {\n        return;\n      }\n\n      if (fromSlide instanceof HTMLElement) {\n        setExtraStyles(fromSlide, {\n          transition: 'none',\n          transform: '',\n        });\n      }\n\n      if (shouldRestoreHeight && clientHeight && toSlide instanceof HTMLElement) {\n        setExtraStyles(toSlide, { height: 'auto' });\n        setExtraStyles(container, { height: `${clientHeight}px` });\n      }\n\n      onStop?.();\n      dispatchHeavyAnimationStop();\n      isAnimatingRef.current = false;\n\n      cleanup();\n    });\n  });\n}\n","import React, { memo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../global';\n\nimport { APP_NAME, APP_REPO_URL } from '../../config';\nimport buildClassName from '../../util/buildClassName';\n\nimport useLang from '../../hooks/useLang';\nimport useShowTransition from '../../hooks/useShowTransition';\n\nimport styles from './UpdateAvailable.module.scss';\n\ninterface StateProps {\n  isAppUpdateAvailable?: boolean;\n  newAppVersion?: string;\n}\n\nfunction UpdateAvailable({ isAppUpdateAvailable, newAppVersion }: StateProps) {\n  const lang = useLang();\n\n  const { shouldRender, transitionClassNames } = useShowTransition(isAppUpdateAvailable);\n\n  const handleClick = () => {\n    // eslint-disable-next-line max-len\n    const url = `${APP_REPO_URL}/releases/download/v${encodeURIComponent(newAppVersion || '')}/${encodeURIComponent(APP_NAME)}.apk`;\n    window.open(url, '_blank', 'noopener');\n  };\n\n  if (!shouldRender) {\n    return undefined;\n  }\n\n  return (\n    <button type=\"button\" className={buildClassName(styles.wrapper, transitionClassNames)} onClick={handleClick}>\n      <i className={buildClassName('icon icon-download-filled', styles.icon)} aria-hidden />\n      {lang('Update MyTonWallet')}\n    </button>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => ({\n  isAppUpdateAvailable: global.isAppUpdateAvailable,\n  newAppVersion: global.latestAppVersion,\n}))(UpdateAvailable));\n","import bill from '../../../assets/lottie/duck_bill.tgs';\nimport forge from '../../../assets/lottie/duck_forges.tgs';\nimport guard from '../../../assets/lottie/duck_guard.tgs';\nimport happy from '../../../assets/lottie/duck_happy.tgs';\nimport hello from '../../../assets/lottie/duck_hello.tgs';\nimport noData from '../../../assets/lottie/duck_no-data.tgs';\nimport run from '../../../assets/lottie/duck_run.tgs';\nimport snitch from '../../../assets/lottie/duck_snitch.tgs';\nimport thumbUp from '../../../assets/lottie/duck_thumb.tgs';\nimport holdTon from '../../../assets/lottie/duck_ton.tgs';\nimport wait from '../../../assets/lottie/duck_wait.tgs';\nimport yeee from '../../../assets/lottie/duck_yeee.tgs';\nimport billPreview from '../../../assets/lottiePreview/duck_bill.png';\nimport forgePreview from '../../../assets/lottiePreview/duck_forges.png';\nimport guardPreview from '../../../assets/lottiePreview/duck_guard.png';\nimport happyPreview from '../../../assets/lottiePreview/duck_happy.png';\nimport helloPreview from '../../../assets/lottiePreview/duck_hello.png';\nimport noDataPreview from '../../../assets/lottiePreview/duck_no-data.png';\nimport runPreview from '../../../assets/lottiePreview/duck_run.png';\nimport snitchPreview from '../../../assets/lottiePreview/duck_snitch.png';\nimport thumbUpPreview from '../../../assets/lottiePreview/duck_thumb.png';\nimport holdTonPreview from '../../../assets/lottiePreview/duck_ton.png';\nimport waitPreview from '../../../assets/lottiePreview/duck_wait.png';\nimport yeeePreview from '../../../assets/lottiePreview/duck_yeee.png';\n\nexport const ANIMATED_STICKERS_PATHS = {\n  hello,\n  snitch,\n  bill,\n  thumbUp,\n  holdTon,\n  happy,\n  noData,\n  forge,\n  wait,\n  run,\n  yeee,\n  guard,\n  helloPreview,\n  snitchPreview,\n  billPreview,\n  thumbUpPreview,\n  holdTonPreview,\n  happyPreview,\n  noDataPreview,\n  forgePreview,\n  waitPreview,\n  runPreview,\n  yeeePreview,\n  guardPreview,\n};\n","import btc from '../../../assets/coins/coin_btc.png';\nimport ton from '../../../assets/coins/coin_ton.png';\n\nexport const ASSET_LOGO_PATHS = {\n  ton,\n  btc,\n};\n","import React, { memo, useEffect, useMemo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiToken, ApiVestingInfo } from '../../api/types';\n\nimport { selectCurrentAccountState, selectMycoin } from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { formatFullDay, formatTime } from '../../util/dateFormat';\nimport { formatCurrency } from '../../util/formatNumber';\nimport { calcVestingAmountByStatus } from '../main/helpers/calcVestingAmountByStatus';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport useInterval from '../../hooks/useInterval';\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\n\nimport { STAKING_DECIMAL } from '../staking/StakingInitial';\nimport Button from '../ui/Button';\nimport Modal from '../ui/Modal';\nimport ModalHeader from '../ui/ModalHeader';\nimport RichNumberField from '../ui/RichNumberField';\n\nimport styles from './VestingModal.module.scss';\n\ninterface StateProps {\n  isOpen?: boolean;\n  isUnfreezeRequested?: boolean;\n  vesting?: ApiVestingInfo[];\n  mycoin?: ApiToken;\n}\n\nconst UPDATE_UNSTAKE_DATE_INTERVAL_MS = 30000; // 30 sec\nconst MY_TOKEN_SYMBOL = 'MY';\n\nfunction VestingModal({\n  isOpen,\n  isUnfreezeRequested,\n  vesting,\n  mycoin,\n}: StateProps) {\n  const { fetchStakingHistory, closeVestingModal, startClaimingVesting } = getActions();\n\n  const lang = useLang();\n  const forceUpdate = useForceUpdate();\n  const currentlyFrozenAmount = useMemo(() => {\n    if (!vesting) return '0';\n\n    return calcVestingAmountByStatus(vesting, ['frozen', 'ready']);\n  }, [vesting]);\n\n  const currentlyReadyToUnfreezeAmount = useMemo(() => {\n    if (!vesting) return '0';\n\n    return calcVestingAmountByStatus(vesting, ['ready']);\n  }, [vesting]);\n\n  const isDisabledUnfreeze = currentlyReadyToUnfreezeAmount === '0';\n\n  useInterval(forceUpdate, isUnfreezeRequested ? UPDATE_UNSTAKE_DATE_INTERVAL_MS : undefined);\n\n  useEffect(() => {\n    if (isOpen) {\n      fetchStakingHistory();\n    }\n  }, [fetchStakingHistory, isOpen]);\n\n  const handleStartClaimingVesting = useLastCallback(() => {\n    startClaimingVesting();\n  });\n\n  if (!mycoin) {\n    return undefined;\n  }\n\n  function renderUnfrozenDescription() {\n    return (\n      <div className={styles.unfreezeTime}>\n        <i className={buildClassName(styles.unfreezeTimeIcon, 'icon-clock')} aria-hidden />\n        <div>\n          {lang('You will receive your unfrozen coins in a few minutes.')}\n        </div>\n      </div>\n    );\n  }\n\n  function renderVestingInfo(info: ApiVestingInfo) {\n    return (\n      <div key={info.id} className={styles.block}>\n        <div className={styles.vestingInfo}>\n          <div className={styles.blockTitle}>{info.title}</div>\n          <div className={styles.blockSubtitle}>\n            {lang('%volume% in %amount% parts', {\n              volume: <b>{formatCurrency(info.initialAmount, mycoin!.symbol, mycoin!.decimals)}</b>,\n              amount: info.parts.length.toString(),\n            })}\n          </div>\n        </div>\n        {info.parts.map((part) => {\n          const icon = part.status === 'frozen'\n            ? 'icon-snow'\n            : (part.status === 'missed' ? 'icon-missed' : part.status === 'unfrozen' ? 'icon-check' : 'icon-fire');\n          const title = part.status === 'frozen'\n            ? 'Frozen'\n            : (part.status === 'missed' ? 'Missed' : part.status === 'unfrozen' ? 'Unfrozen' : 'Ready to Unfreeze');\n          const isInteractive = !isUnfreezeRequested && part.status === 'ready';\n          const endsAt = part.status === 'frozen'\n            ? part.time\n            : part.status === 'ready'\n              ? part.timeEnd\n              : undefined;\n\n          return (\n            <div\n              key={part.id}\n              role={isInteractive ? 'button' : undefined}\n              className={buildClassName(styles.part, part.status, isInteractive && styles.partInteractive)}\n              onClick={isInteractive ? handleStartClaimingVesting : undefined}\n            >\n              <i\n                className={buildClassName(styles.partIcon, icon, part.status)}\n                aria-hidden\n              />\n              <div className={styles.partName}>\n                {lang(title)}\n                {Boolean(endsAt) && (\n                  <div className={styles.date}>\n                    {lang('until %date%', {\n                      date: (\n                        <>\n                          <span className={styles.bold}>{formatFullDay(lang.code!, endsAt)}</span>,\n                          {' '}{formatTime(endsAt)}\n                        </>),\n                    })}\n                  </div>\n                )}\n              </div>\n              <div className={buildClassName(styles.partValue, part.status)}>\n                {formatCurrency(part.amount, mycoin!.symbol, mycoin!.decimals)}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n\n  function renderVestingSchedule() {\n    return (\n      <div className={styles.actions}>\n        <div className={styles.actionsTitle}>{lang('Vesting Schedule')}</div>\n        <div className={buildClassName(styles.actionsList, 'custom-scroll')}>\n          {vesting?.map(renderVestingInfo)}\n        </div>\n      </div>\n    );\n  }\n\n  function renderContent() {\n    return (\n      <>\n        <div className={styles.amountWrapper}>\n          <ModalHeader\n            title={lang('Vesting')}\n            className={styles.modalHeader}\n            closeClassName={styles.close}\n            onClose={closeVestingModal}\n          />\n          <RichNumberField\n            labelText={lang('Vesting Balance')}\n            zeroValue=\"...\"\n            value={currentlyFrozenAmount || '0'}\n            decimals={STAKING_DECIMAL}\n            suffix={MY_TOKEN_SYMBOL}\n            className={styles.inputWrapper}\n            labelClassName={styles.inputLabel}\n            valueClassName={styles.inputValue}\n          />\n          {isUnfreezeRequested\n            ? renderUnfrozenDescription()\n            : (\n              <>\n                <RichNumberField\n                  labelText={lang('Ready to Unfreeze')}\n                  zeroValue=\"...\"\n                  value={currentlyReadyToUnfreezeAmount}\n                  decimals={STAKING_DECIMAL}\n                  suffix={MY_TOKEN_SYMBOL}\n                  className={styles.inputWrapper}\n                  inputClassName={styles.unfreezeInput}\n                  labelClassName={styles.inputLabel}\n                  valueClassName={styles.unfreezeResult}\n                />\n                <div className={styles.buttons}>\n                  <Button\n                    className={styles.button}\n                    isPrimary\n                    isDisabled={isDisabledUnfreeze}\n                    onClick={!isDisabledUnfreeze ? handleStartClaimingVesting : undefined}\n                  >\n                    {lang('Unfreeze')}\n                  </Button>\n                </div>\n              </>\n            )}\n        </div>\n        {renderVestingSchedule()}\n      </>\n    );\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      contentClassName={styles.modalDialog}\n      nativeBottomSheetKey=\"vesting-info\"\n      forceFullNative\n      onClose={closeVestingModal}\n    >\n      {renderContent()}\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const accountState = selectCurrentAccountState(global);\n  const { info: vesting, unfreezeRequestedIds } = accountState?.vesting || {};\n\n  return {\n    isOpen: global.isVestingModalOpen,\n    vesting,\n    isUnfreezeRequested: Boolean(unfreezeRequestedIds?.length),\n    mycoin: selectMycoin(global),\n  };\n})(VestingModal));\n","import React, { memo, useMemo } from '../../lib/teact/teact';\nimport { getActions, withGlobal } from '../../global';\n\nimport type { ApiToken, ApiVestingInfo } from '../../api/types';\nimport type { HardwareConnectState, UserToken } from '../../global/types';\nimport { VestingUnfreezeState } from '../../global/types';\n\nimport {\n  CLAIM_AMOUNT,\n  IS_CAPACITOR,\n  TON_SYMBOL,\n  TONCOIN_SLUG,\n} from '../../config';\nimport renderText from '../../global/helpers/renderText';\nimport {\n  selectAccount,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens, selectIsHardwareAccount,\n  selectMycoin,\n} from '../../global/selectors';\nimport buildClassName from '../../util/buildClassName';\nimport { toBig } from '../../util/decimals';\nimport { formatCurrency } from '../../util/formatNumber';\nimport resolveModalTransitionName from '../../util/resolveModalTransitionName';\nimport { shortenAddress } from '../../util/shortenAddress';\nimport { calcVestingAmountByStatus } from '../main/helpers/calcVestingAmountByStatus';\n\nimport useLang from '../../hooks/useLang';\nimport useLastCallback from '../../hooks/useLastCallback';\nimport useModalTransitionKeys from '../../hooks/useModalTransitionKeys';\n\nimport LedgerConfirmOperation from '../ledger/LedgerConfirmOperation';\nimport LedgerConnect from '../ledger/LedgerConnect';\nimport Modal from '../ui/Modal';\nimport PasswordForm from '../ui/PasswordForm';\nimport Transition from '../ui/Transition';\n\nimport modalStyles from '../ui/Modal.module.scss';\nimport styles from './VestingModal.module.scss';\n\ninterface StateProps {\n  isOpen?: boolean;\n  tokens?: UserToken[];\n  vesting?: ApiVestingInfo[];\n  isLoading?: boolean;\n  address?: string;\n  error?: string;\n  state?: VestingUnfreezeState;\n  mycoin?: ApiToken;\n  hardwareState?: HardwareConnectState;\n  isLedgerConnected?: boolean;\n  isTonAppConnected?: boolean;\n  isHardwareAccount?: boolean;\n}\nfunction VestingPasswordModal({\n  isOpen,\n  vesting,\n  tokens,\n  isLoading,\n  address,\n  error,\n  mycoin,\n  state = VestingUnfreezeState.Password,\n  hardwareState,\n  isLedgerConnected,\n  isTonAppConnected,\n  isHardwareAccount,\n}: StateProps) {\n  const {\n    submitClaimingVesting,\n    submitClaimingVestingHardware,\n    cancelClaimingVesting,\n    clearVestingError,\n  } = getActions();\n\n  const lang = useLang();\n  const {\n    amount: balance,\n  } = useMemo(() => tokens?.find(({ slug }) => slug === TONCOIN_SLUG), [tokens]) || {};\n  const claimAmount = toBig(CLAIM_AMOUNT);\n  const hasAmountError = !balance || balance < CLAIM_AMOUNT;\n  const { renderingKey, nextKey, updateNextKey } = useModalTransitionKeys(state, Boolean(isOpen));\n  const withModalHeader = !isHardwareAccount && !IS_CAPACITOR;\n\n  const currentlyReadyToUnfreezeAmount = useMemo(() => {\n    if (!vesting) return '0';\n\n    return calcVestingAmountByStatus(vesting, ['ready']);\n  }, [vesting]);\n\n  const handleSubmit = useLastCallback((password: string) => {\n    if (hasAmountError) return;\n    submitClaimingVesting({ password });\n  });\n\n  const handleHardwareSubmit = useLastCallback(() => {\n    if (hasAmountError) return;\n    submitClaimingVestingHardware();\n  });\n\n  if (!mycoin) {\n    return undefined;\n  }\n\n  function renderInfo() {\n    return (\n      <>\n        <div className={buildClassName(styles.operationInfo, !IS_CAPACITOR && styles.operationInfoWithGap)}>\n          <img src={mycoin!.image} alt=\"\" className={styles.tokenIcon} />\n          <span className={styles.operationInfoText}>\n            {lang('%amount% to %address%', {\n              amount: (\n                <span className={styles.bold}>\n                  {formatCurrency(currentlyReadyToUnfreezeAmount, mycoin!.symbol, mycoin!.decimals)}\n                </span>\n              ),\n              address: <span className={styles.bold}>{shortenAddress(address!)}</span>,\n            })}\n          </span>\n        </div>\n        <div className={buildClassName(styles.operationInfoFee, !IS_CAPACITOR && styles.operationInfoFeeWithGap)}>\n          {renderText(lang('$fee_value_bold', { fee: formatCurrency(claimAmount, TON_SYMBOL) }))}\n        </div>\n      </>\n    );\n  }\n\n  // eslint-disable-next-line consistent-return\n  function renderContent(isActive: boolean, isFrom: boolean, currentKey: number) {\n    switch (currentKey) {\n      case VestingUnfreezeState.ConnectHardware:\n        return (\n          <LedgerConnect\n            isActive={isActive}\n            state={hardwareState}\n            isLedgerConnected={isLedgerConnected}\n            isTonAppConnected={isTonAppConnected}\n            onConnected={handleHardwareSubmit}\n            onClose={cancelClaimingVesting}\n          />\n        );\n\n      case VestingUnfreezeState.ConfirmHardware:\n        return (\n          <LedgerConfirmOperation\n            text={lang('Please confirm transaction on your Ledger')}\n            error={error}\n            onClose={cancelClaimingVesting}\n            onTryAgain={handleHardwareSubmit}\n          />\n        );\n\n      case VestingUnfreezeState.Password:\n        return (\n          <PasswordForm\n            isActive={Boolean(isOpen)}\n            isLoading={isLoading}\n            withCloseButton\n            operationType=\"unfreeze\"\n            error={hasAmountError ? lang('Insufficient Balance for Fee') : error}\n            submitLabel={lang('Confirm')}\n            onSubmit={handleSubmit}\n            onCancel={cancelClaimingVesting}\n            onUpdate={clearVestingError}\n          >\n            {renderInfo()}\n          </PasswordForm>\n        );\n    }\n  }\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      title={withModalHeader ? lang('Confirm Unfreezing') : undefined}\n      hasCloseButton={withModalHeader}\n      forceFullNative\n      nativeBottomSheetKey=\"vesting-confirm\"\n      contentClassName={styles.passwordModalDialog}\n      onClose={cancelClaimingVesting}\n    >\n      <Transition\n        name={resolveModalTransitionName()}\n        className={buildClassName(modalStyles.transition, 'custom-scroll')}\n        slideClassName={modalStyles.transitionSlide}\n        activeKey={renderingKey}\n        nextKey={nextKey}\n        onStop={updateNextKey}\n      >\n        {renderContent}\n      </Transition>\n    </Modal>\n  );\n}\n\nexport default memo(withGlobal((global): StateProps => {\n  const { address } = selectAccount(global, global.currentAccountId!) || {};\n  const accountState = selectCurrentAccountState(global);\n  const isHardwareAccount = selectIsHardwareAccount(global);\n\n  const {\n    isConfirmRequested: isOpen,\n    info: vesting,\n    isLoading,\n    error,\n    unfreezeState,\n  } = accountState?.vesting || {};\n  const tokens = selectCurrentAccountTokens(global);\n\n  const {\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n  } = global.hardware;\n\n  return {\n    isOpen,\n    vesting,\n    tokens,\n    isLoading,\n    error,\n    address,\n    state: unfreezeState,\n    mycoin: selectMycoin(global),\n    hardwareState,\n    isLedgerConnected,\n    isTonAppConnected,\n    isHardwareAccount,\n  };\n})(VestingPasswordModal));\n","import type { ApiBaseCurrency, ApiSwapAsset, ApiWalletVersion } from './api/types';\nimport type { LangItem, TokenPeriod } from './global/types';\n\nexport const APP_ENV = process.env.APP_ENV;\n\nexport const APP_NAME = process.env.APP_NAME || 'MyTonWallet';\nexport const APP_VERSION = process.env.APP_VERSION!;\nexport const APP_ENV_MARKER = APP_ENV === 'staging' ? 'Beta' : APP_ENV === 'development' ? 'Dev' : undefined;\n\nexport const DEBUG = APP_ENV !== 'production' && APP_ENV !== 'perf' && APP_ENV !== 'test';\nexport const DEBUG_MORE = false;\n\nexport const IS_PRODUCTION = APP_ENV === 'production';\nexport const IS_TEST = APP_ENV === 'test';\nexport const IS_PERF = APP_ENV === 'perf';\nexport const IS_EXTENSION = process.env.IS_EXTENSION === '1';\nexport const IS_FIREFOX_EXTENSION = process.env.IS_FIREFOX_EXTENSION === '1';\nexport const IS_PACKAGED_ELECTRON = process.env.IS_PACKAGED_ELECTRON === '1';\nexport const IS_CAPACITOR = process.env.IS_CAPACITOR === '1';\nexport const IS_ANDROID_DIRECT = process.env.IS_ANDROID_DIRECT === '1';\n\nexport const ELECTRON_HOST_URL = 'https://dumb-host';\nexport const INACTIVE_MARKER = '[Inactive]';\nexport const PRODUCTION_URL = 'https://mytonwallet.app';\nexport const BETA_URL = 'https://beta.mytonwallet.app';\nexport const APP_REPO_URL = 'https://github.com/mytonwalletorg/mytonwallet';\nexport const BASE_URL = process.env.BASE_URL;\n\nexport const BOT_USERNAME = process.env.BOT_USERNAME || 'MyTonWalletBot';\n\nexport const SWAP_FEE_ADDRESS = process.env.SWAP_FEE_ADDRESS || 'UQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0GOp';\n\nexport const STRICTERDOM_ENABLED = DEBUG && !IS_PACKAGED_ELECTRON;\n\nexport const DEBUG_ALERT_MSG = 'Shoot!\\nSomething went wrong, please see the error details in Dev Tools Console.';\n\nexport const PIN_LENGTH = 4;\nexport const NATIVE_BIOMETRICS_USERNAME = 'MyTonWallet';\nexport const NATIVE_BIOMETRICS_SERVER = 'https://mytonwallet.app';\n\nexport const MNEMONIC_COUNT = 24;\nexport const PRIVATE_KEY_HEX_LENGTH = 64;\nexport const MNEMONIC_CHECK_COUNT = 3;\n\nexport const MOBILE_SCREEN_MAX_WIDTH = 700; // px\n\nexport const ANIMATION_END_DELAY = 50;\n\nexport const ANIMATED_STICKER_TINY_SIZE_PX = 70;\nexport const ANIMATED_STICKER_SMALL_SIZE_PX = 110;\nexport const ANIMATED_STICKER_MIDDLE_SIZE_PX = 120;\nexport const ANIMATED_STICKER_DEFAULT_PX = 150;\nexport const ANIMATED_STICKER_BIG_SIZE_PX = 156;\nexport const ANIMATED_STICKER_HUGE_SIZE_PX = 192;\n\nexport const TON_SYMBOL = 'TON';\n\nexport const DEFAULT_LANDSCAPE_ACTION_TAB_ID = 0;\n\nexport const DEFAULT_DECIMAL_PLACES = 9;\nexport const WHOLE_PART_DELIMITER = ''; // https://www.compart.com/en/unicode/U+202F\n\nexport const DEFAULT_SLIPPAGE_VALUE = 5;\n\nexport const GLOBAL_STATE_CACHE_DISABLED = false;\nexport const GLOBAL_STATE_CACHE_KEY = 'mytonwallet-global-state';\n\nexport const ANIMATION_LEVEL_MIN = 0;\nexport const ANIMATION_LEVEL_MED = 1;\nexport const ANIMATION_LEVEL_MAX = 2;\nexport const ANIMATION_LEVEL_DEFAULT = ANIMATION_LEVEL_MAX;\nexport const THEME_DEFAULT = 'system';\n\nexport const MAIN_ACCOUNT_ID = '0-ton-mainnet';\n\nexport const TONHTTPAPI_MAINNET_URL = process.env.TONHTTPAPI_MAINNET_URL\n  || 'https://tonhttpapi.mytonwallet.org/api/v2/jsonRPC';\nexport const TONHTTPAPI_MAINNET_API_KEY = process.env.TONHTTPAPI_MAINNET_API_KEY;\nexport const ELECTRON_TONHTTPAPI_MAINNET_API_KEY = process.env.ELECTRON_TONHTTPAPI_MAINNET_API_KEY;\nexport const TONHTTPAPI_V3_MAINNET_API_URL = process.env.TONHTTPAPI_V3_MAINNET_API_KEY\n  || 'https://tonhttpapi-v3.mytonwallet.org/api/v3';\nexport const TONAPIIO_MAINNET_URL = process.env.TONAPIIO_MAINNET_URL || 'https://tonapiio.mytonwallet.org';\n\nexport const TONHTTPAPI_TESTNET_URL = process.env.TONHTTPAPI_TESTNET_URL\n  || 'https://tonhttpapi-testnet.mytonwallet.org/api/v2/jsonRPC';\nexport const TONHTTPAPI_TESTNET_API_KEY = process.env.TONHTTPAPI_TESTNET_API_KEY;\nexport const ELECTRON_TONHTTPAPI_TESTNET_API_KEY = process.env.ELECTRON_TONHTTPAPI_TESTNET_API_KEY;\nexport const TONHTTPAPI_V3_TESTNET_API_URL = process.env.TONHTTPAPI_V3_TESTNET_API_KEY\n  || 'https://tonhttpapi-v3-testnet.mytonwallet.org/api/v3';\nexport const TONAPIIO_TESTNET_URL = process.env.TONAPIIO_TESTNET_URL || 'https://tonapiio-testnet.mytonwallet.org';\n\nexport const BRILLIANT_API_BASE_URL = process.env.BRILLIANT_API_BASE_URL || 'https://api.mytonwallet.org';\n\nexport const FRACTION_DIGITS = 9;\nexport const SHORT_FRACTION_DIGITS = 2;\n\nexport const SUPPORT_USERNAME = 'MyTonWalletSupport';\nexport const MY_TON_WALLET_PROMO_URL = 'https://mytonwallet.io';\nexport const TELEGRAM_WEB_URL = 'https://web.telegram.org/a/';\nexport const TON_EXPLORER_BASE_MAINNET_URL = 'https://tonviewer.com/';\nexport const TON_EXPLORER_BASE_TESTNET_URL = 'https://testnet.tonviewer.com/';\nexport const TON_EXPLORER_NAME = 'Tonviewer';\nexport const TOKEN_EXPLORER_MAINNET_URL = 'https://tonviewer.com/{address}?section=jetton';\nexport const TOKEN_EXPLORER_TESTNET_URL = 'https://testnet.tonviewer.com/{address}?section=jetton';\nexport const TOKEN_EXPLORER_NAME = 'TonViewer';\nexport const GETGEMS_BASE_MAINNET_URL = 'https://getgems.io/';\nexport const GETGEMS_BASE_TESTNET_URL = 'https://testnet.getgems.io/';\nexport const EMPTY_HASH_VALUE = 'NOHASH';\n\nexport const CHANGELLY_SUPPORT_EMAIL = 'support@changelly.com';\nexport const CHANGELLY_LIVE_CHAT_URL = 'https://changelly.com/';\nexport const CHANGELLY_SECURITY_EMAIL = 'security@changelly.com';\nexport const CHANGELLY_TERMS_OF_USE = 'https://changelly.com/terms-of-use';\nexport const CHANGELLY_PRIVACY_POLICY = 'https://changelly.com/privacy-policy';\nexport const CHANGELLY_AML_KYC = 'https://changelly.com/aml-kyc';\nexport const CHANGELLY_WAITING_DEADLINE = 3 * 60 * 60 * 1000; // 3 hour\n\nexport const TONCOIN_SLUG = 'toncoin';\nexport const DEFAULT_SWAP_SECOND_TOKEN_SLUG = 'ton-eqcxe6mutq'; // USD\nexport const DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG = 'usdtrx';\n\nexport const PROXY_HOSTS = process.env.PROXY_HOSTS;\n\nexport const TINY_TRANSFER_MAX_COST = 0.01;\n\nexport const LANG_CACHE_NAME = 'mtw-lang-125';\n\nexport const LANG_LIST: LangItem[] = [{\n  langCode: 'en',\n  name: 'English',\n  nativeName: 'English',\n  rtl: false,\n}, {\n  langCode: 'es',\n  name: 'Spanish',\n  nativeName: 'Espaol',\n  rtl: false,\n}, {\n  langCode: 'ru',\n  name: 'Russian',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'zh-Hans',\n  name: 'Chinese (Simplified)',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'zh-Hant',\n  name: 'Chinese (Traditional)',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'tr',\n  name: 'Turkish',\n  nativeName: 'Trke',\n  rtl: false,\n}, {\n  langCode: 'de',\n  name: 'German',\n  nativeName: 'Deutsch',\n  rtl: false,\n}, {\n  langCode: 'th',\n  name: 'Thai',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'uk',\n  name: 'Ukrainian',\n  nativeName: '',\n  rtl: false,\n}, {\n  langCode: 'pl',\n  name: 'Polish',\n  nativeName: 'Polski',\n  rtl: false,\n}];\n\nexport const STAKING_CYCLE_DURATION_MS = 131072000; // 36.4 hours\nexport const VALIDATION_PERIOD_MS = 65536000; // 18.2 h.\nexport const ONE_TON = 1000000000n;\nexport const MIN_BALANCE_FOR_UNSTAKE = 1020000000n; // 1.02 TON\nexport const STAKING_FORWARD_AMOUNT = ONE_TON;\nexport const DEFAULT_FEE = 15000000n; // 0.015 TON\n\nexport const STAKING_POOLS = process.env.STAKING_POOLS ? process.env.STAKING_POOLS.split(' ') : [];\nexport const LIQUID_POOL = process.env.LIQUID_POOL || 'EQD2_4d91M4TVbEBVyBF8J1UwpMJc361LKVCz6bBlffMW05o';\nexport const LIQUID_JETTON = process.env.LIQUID_JETTON || 'EQCqC6EhRJ_tpWngKxL6dV0k6DSnRUrs9GSVkLbfdCqsj6TE';\nexport const STAKING_MIN_AMOUNT = ONE_TON;\nexport const NOMINATORS_STAKING_MIN_AMOUNT = ONE_TON * 10001n;\n\nexport const TONCONNECT_PROTOCOL_VERSION = 2;\nexport const TONCONNECT_WALLET_JSBRIDGE_KEY = 'mytonwallet';\n\nexport const NFT_FRAGMENT_COLLECTIONS = new Set([\n  '0:0e41dc1dc3c9067ed24248580e12b3359818d83dee0304fabcf80845eafafdb2', // Anonymous Telegram Numbers\n  '0:80d78a35f955a14b679faa887ff4cd5bfc0f43b4a4eea2a7e6927f3701b273c2', // Telegram Usernames\n]);\n\nexport const TON_DNS_COLLECTION = 'EQC3dNlesgVD8YbAazcauIrXBPfiVhMMr5YYk2in0Mtsz0Bz';\nexport const MYCOIN_TOKEN = 'EQCFVNlRb-NHHDQfv3Q9xvDXBLJlay855_xREsq5ZDX6KN-w';\nexport const MYCOIN_SLUG = 'ton-eqcfvnlrbn';\nexport const MYCOIN_TOKEN_TESTNET = 'kQAWlxpEbwhCDFX9gp824ee2xVBhAh5VRSGWfbNFDddAbQoQ';\nexport const MYCOIN_SLUG_TESTNET = 'ton-kqawlxpebw';\n\nexport const TOKEN_INFO = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    slug: TONCOIN_SLUG,\n    cmcSlug: TONCOIN_SLUG,\n    quote: {\n      slug: TONCOIN_SLUG,\n      price: 1.95,\n      priceUsd: 1.95,\n      percentChange24h: 0,\n    },\n    decimals: DEFAULT_DECIMAL_PLACES,\n  },\n};\n\nexport const TON_BLOCKCHAIN = 'ton';\n\nexport const INIT_SWAP_ASSETS: Record<string, ApiSwapAsset> = {\n  toncoin: {\n    name: 'Toncoin',\n    symbol: TON_SYMBOL,\n    blockchain: TON_BLOCKCHAIN,\n    slug: TONCOIN_SLUG,\n    decimals: DEFAULT_DECIMAL_PLACES,\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n  'ton-eqcxe6mutq': {\n    name: 'Tether USD',\n    symbol: 'USD',\n    blockchain: TON_BLOCKCHAIN,\n    slug: 'ton-eqcxe6mutq',\n    decimals: 9,\n    // eslint-disable-next-line max-len\n    image: 'https://cache.tonapi.io/imgproxy/T3PB4s7oprNVaJkwqbGg54nexKE0zzKhcrPv8jcWYzU/rs:fill:200:200:1/g:no/aHR0cHM6Ly90ZXRoZXIudG8vaW1hZ2VzL2xvZ29DaXJjbGUucG5n.webp',\n    contract: 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs',\n    price: 0,\n    priceUsd: 0,\n    isPopular: true,\n  },\n};\n\nexport const MULTITAB_DATA_CHANNEL_NAME = 'mtw-multitab';\nexport const ACTIVE_TAB_STORAGE_KEY = 'mtw-active-tab';\n\nexport const INDEXED_DB_NAME = 'keyval-store';\nexport const INDEXED_DB_STORE_NAME = 'keyval';\n\nexport const WINDOW_PROVIDER_CHANNEL = 'windowProvider';\n\nexport const MIN_ASSETS_TAB_VIEW = 5;\n\nexport const DEFAULT_PRICE_CURRENCY = 'USD';\nexport const SHORT_CURRENCY_SYMBOL_MAP = {\n  USD: '$',\n  EUR: '',\n  RUB: '',\n  CNY: '',\n};\nexport const CURRENCY_LIST: { value: ApiBaseCurrency; name: string }[] = [\n  {\n    value: 'USD',\n    name: 'US Dollar',\n  }, {\n    value: 'EUR',\n    name: 'Euro',\n  }, {\n    value: 'RUB',\n    name: 'Ruble',\n  }, {\n    value: 'CNY',\n    name: 'Yuan',\n  }, {\n    value: 'BTC',\n    name: 'Bitcoin',\n  }, {\n    value: TON_SYMBOL,\n    name: 'Toncoin',\n  },\n];\n\nexport const BURN_ADDRESS = 'UQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJKZ';\n\nexport const DEFAULT_WALLET_VERSION: ApiWalletVersion = 'W5';\nexport const POPULAR_WALLET_VERSIONS: ApiWalletVersion[] = ['v3R1', 'v3R2', 'v4R2', 'W5'];\n\nexport const DEFAULT_TIMEOUT = 10000;\nexport const DEFAULT_RETRIES = 3;\nexport const DEFAULT_ERROR_PAUSE = 500;\n\nexport const HISTORY_PERIODS: TokenPeriod[] = ['1D', '7D', '1M', '3M', '1Y', 'ALL'];\n\nexport const BROWSER_HISTORY_LIMIT = 10;\n\nexport const NFT_BATCH_SIZE = 4;\nexport const NOTCOIN_VOUCHERS_ADDRESS = 'EQDmkj65Ab_m0aZaW8IpKw4kYqIgITw_HRstYEkVQ6NIYCyW';\nexport const BURN_CHUNK_DURATION_APPROX_SEC = 30;\nexport const NOTCOIN_FORWARD_TON_AMOUNT = 30000000n; // 0.03 TON\nexport const NOTCOIN_EXCHANGERS = [\n  'EQAPZauWVPUcm2hUJT9n36pxznEhl46rEn1bzBXN0RY_yiy2',\n  'EQASgm0Qv3h2H2mF0W06ikPqYq2ctT3dyXMJH_svbEKKB3iZ',\n  'EQArlmP-RhVIG2yAFGZyPZfM3m0YccxmpvoRi6sgRzWnAA0s',\n  'EQA6pL-spYqZp1Ck6o3rpY45Cl-bvLMW_j3qdVejOkUWpLnm',\n  'EQBJ_ehYjumQKbXfWUue1KHKXdTm1GuYJB0Fj2ST_DwORvpd',\n  'EQBRmYSjxh9xlZpUqEmGjF5UjukI9v_Cm2kCTu4CoBn3XkOD',\n  'EQBkiqncd7AFT5_23H-RoA2Vynk-Nzq_dLoeMVRthAU9RF0p',\n  'EQB_OzTHXbztABe0QHgr4PtAV8T64LR6aDunXgaAoihOdxwO',\n  'EQCL-x5kLg6tKVNGryItTuj6tG3FH5mhUEu0xRqQc-kbEmbe',\n  'EQCZh2yJ46RaQH3AYmjEA8SMMXi77Oein4-3lvqkHseIAhD-',\n  'EQChKo5IK3iNqUHUGDB9gtzjCjMTPtmsFqekuCA2MdreVEyu',\n  'EQC6DNCBv076TIliRMfOt20RpbS7rNKDfSky3WrFEapFt8AH',\n  'EQDE_XFZOYae_rl3ZMsgBCtRSmYhl8B4y2BZEP7oiGBDhlgy',\n  'EQDddqpGA2ePXQF47A2DSL3GF6ZzIVmimfM2d16cdymy2noT',\n  'EQDv0hNNAamhYltCh3pTJrq3oRB9RW2ZhEYkTP6fhj5BtZNu',\n  'EQD2mP7zgO7-imUJhqYry3i07aJ_SR53DaokMupfAAobt0Xw',\n] as const;\n\nexport const CLAIM_ADDRESS = 'EQB3zOTvPi1PmwdcTpqSfFKZnhi1GNKEVJM-LdoAirdLtash';\nexport const CLAIM_AMOUNT = 30000000n; // 0.03 TON\nexport const CLAIM_COMMENT = 'claim';\n\n// eslint-disable-next-line max-len\nexport const RE_LINK_TEMPLATE = /((ftp|https?):\\/\\/)?(?<host>(www\\\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z][-a-zA-Z0-9]{1,62})\\b([-a-zA-Z0-9()@:%_+.,~#?&/=]*)/g;\n// eslint-disable-next-line max-len\nexport const RE_TG_BOT_MENTION = /telegram[:\\s-]*((@[a-z0-9_]+)|(https:\\/\\/)?(t\\.me|telegram\\.me|telegram\\.dog)\\/[a-z0-9_]+)/mig;\n\nexport const DIESEL_ADDRESS = process.env.DIESEL_ADDRESS || 'EQDUkQbpTVIgt7v66-JTFR-3-eXRFz_4V66F-Ufn6vOg0D5s';\nexport const DIESEL_TOKENS = new Set([\n  'ton-eqcxe6mutq', // USDT\n  'ton-eqavlwfdxg', // Notcoin\n  'ton-eqcvxjy4eg', // DOGS\n]);\n","export enum ElectronEvent {\n  DEEPLINK = 'deeplink',\n  UPDATE_ERROR = 'update-error',\n  UPDATE_DOWNLOADED = 'update-downloaded',\n}\n\nexport enum ElectronAction {\n  CLOSE = 'close',\n  MINIMIZE = 'minimize',\n  MAXIMIZE = 'maximize',\n  UNMAXIMIZE = 'unmaximize',\n  GET_IS_MAXIMIZED = 'get-is-maximized',\n\n  INSTALL_UPDATE = 'install-update',\n  HANDLE_DOUBLE_CLICK = 'handle-double-click',\n\n  TOGGLE_DEEPLINK_HANDLER = 'toggle-deeplink-handler',\n\n  GET_IS_TOUCH_ID_SUPPORTED = 'get-is-touch-id-supported',\n  ENCRYPT_PASSWORD = 'encrypt-password',\n  DECRYPT_PASSWORD = 'decrypt-password',\n\n  SET_IS_TRAY_ICON_ENABLED = 'set-is-tray-icon-enabled',\n  GET_IS_TRAY_ICON_ENABLED = 'get-is-tray-icon-enabled',\n  SET_IS_AUTO_UPDATE_ENABLED = 'set-is-auto-update-enabled',\n  GET_IS_AUTO_UPDATE_ENABLED = 'get-is-auto-update-enabled',\n\n  RESTORE_STORAGE = 'restore-storage',\n}\n\nexport interface ElectronApi {\n  close: VoidFunction;\n  minimize: VoidFunction;\n  maximize: VoidFunction;\n  unmaximize: VoidFunction;\n  getIsMaximized: () => Promise<boolean>;\n\n  installUpdate: () => Promise<void>;\n  handleDoubleClick: () => Promise<void>;\n\n  toggleDeeplinkHandler: (isEnabled: boolean) => Promise<void>;\n\n  getIsTouchIdSupported: () => Promise<boolean>;\n  encryptPassword: (password: string) => Promise<string>;\n  decryptPassword: (encrypted: string) => Promise<string | undefined>;\n\n  setIsTrayIconEnabled: (value: boolean) => Promise<void>;\n  getIsTrayIconEnabled: () => Promise<boolean>;\n  setIsAutoUpdateEnabled: (value: boolean) => Promise<void>;\n  getIsAutoUpdateEnabled: () => Promise<boolean>;\n\n  restoreStorage: () => Promise<void>;\n\n  on: (eventName: ElectronEvent, callback: any) => VoidFunction;\n}\n\ndeclare global {\n  interface Window {\n    electron?: ElectronApi;\n  }\n}\n","import { NativeBiometric } from '@capgo/capacitor-native-biometric';\n\nimport { ApiCommonError } from '../../../api/types';\nimport {\n  AppState, AuthState, BiometricsState, HardwareConnectState,\n} from '../../types';\n\nimport {\n  APP_NAME, IS_CAPACITOR, MNEMONIC_CHECK_COUNT, MNEMONIC_COUNT,\n} from '../../../config';\nimport { parseAccountId } from '../../../util/account';\nimport authApi from '../../../util/authApi';\nimport webAuthn from '../../../util/authApi/webAuthn';\nimport { getIsNativeBiometricAuthSupported, vibrateOnError, vibrateOnSuccess } from '../../../util/capacitor';\nimport { copyTextToClipboard } from '../../../util/clipboard';\nimport isMnemonicPrivateKey from '../../../util/isMnemonicPrivateKey';\nimport { cloneDeep, compact } from '../../../util/iteratees';\nimport { getTranslation } from '../../../util/langProvider';\nimport { callActionInMain } from '../../../util/multitab';\nimport { pause } from '../../../util/schedulers';\nimport { IS_BIOMETRIC_AUTH_SUPPORTED, IS_DELEGATED_BOTTOM_SHEET, IS_ELECTRON } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../..';\nimport { INITIAL_STATE } from '../../initialState';\nimport {\n  clearCurrentSwap,\n  clearCurrentTransfer,\n  clearIsPinAccepted,\n  createAccount,\n  setIsPinAccepted,\n  updateAuth,\n  updateBiometrics,\n  updateCurrentAccountId,\n  updateCurrentAccountState,\n  updateHardware,\n  updateSettings,\n} from '../../reducers';\nimport {\n  selectAccountIdByAddress,\n  selectAccounts,\n  selectAllHardwareAccounts,\n  selectCurrentNetwork,\n  selectFirstNonHardwareAccount,\n  selectIsOneAccount,\n  selectLedgerAccountIndexToImport,\n  selectNetworkAccountsMemoized,\n  selectNewestTxIds,\n} from '../../selectors';\n\nconst CREATING_DURATION = 3300;\nconst NATIVE_BIOMETRICS_PAUSE_MS = 750;\n\naddActionHandler('resetAuth', (global) => {\n  if (global.currentAccountId) {\n    global = { ...global, appState: AppState.Main };\n\n    // Restore the network when refreshing the page during the switching networks\n    global = updateSettings(global, {\n      isTestnet: parseAccountId(global.currentAccountId!).network === 'testnet',\n    });\n  }\n\n  global = { ...global, auth: cloneDeep(INITIAL_STATE.auth) };\n\n  setGlobal(global);\n});\n\naddActionHandler('startCreatingWallet', async (global, actions) => {\n  const accounts = selectAccounts(global) ?? {};\n  const isFirstAccount = !Object.values(accounts).length;\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const nextAuthState = firstNonHardwareAccount\n    ? AuthState.createBackup\n    : (isFirstAccount\n      ? AuthState.createWallet\n      // The app only has hardware wallets accounts, which means we need to create a password or biometrics\n      : IS_CAPACITOR\n        ? AuthState.createPin\n        : (IS_BIOMETRIC_AUTH_SUPPORTED ? AuthState.createBiometrics : AuthState.createPassword)\n    );\n\n  global = updateAuth(global, { isLoading: true });\n  setGlobal(global);\n\n  const network = selectCurrentNetwork(global);\n  const checkResult = await callApi('checkApiAvailability', {\n    blockchainKey: 'ton',\n    network,\n  });\n  global = getGlobal();\n  global = updateAuth(global, { isLoading: undefined });\n  setGlobal(global);\n\n  if (!checkResult) {\n    actions.showError({ error: ApiCommonError.ServerError });\n    return;\n  }\n\n  global = getGlobal();\n\n  if (Boolean(firstNonHardwareAccount) && !global.auth.password) {\n    setGlobal(updateAuth(global, {\n      state: AuthState.checkPassword,\n      error: undefined,\n    }));\n    return;\n  }\n\n  const promiseCalls = [\n    callApi('generateMnemonic'),\n    ...(!firstNonHardwareAccount ? [pause(CREATING_DURATION)] : []),\n  ] as [Promise<Promise<string[]> | undefined>, Promise<void> | undefined];\n\n  setGlobal(\n    updateAuth(global, {\n      state: nextAuthState,\n      method: 'createAccount',\n      error: undefined,\n    }),\n  );\n\n  const [mnemonic] = await Promise.all(promiseCalls);\n\n  global = updateAuth(getGlobal(), {\n    mnemonic,\n    mnemonicCheckIndexes: selectMnemonicForCheck(),\n  });\n\n  if (firstNonHardwareAccount) {\n    setGlobal(global);\n    actions.afterCreatePassword({ password: global.auth.password! });\n\n    return;\n  }\n\n  setGlobal(updateAuth(global, {\n    state: IS_CAPACITOR\n      ? AuthState.createPin\n      : (IS_BIOMETRIC_AUTH_SUPPORTED ? AuthState.createBiometrics : AuthState.createPassword),\n  }));\n\n  if (isFirstAccount) {\n    actions.requestConfetti();\n    if (IS_CAPACITOR) {\n      void vibrateOnSuccess();\n    }\n  }\n});\n\naddActionHandler('startCreatingBiometrics', (global) => {\n  global = updateAuth(global, {\n    state: global.auth.method !== 'createAccount'\n      ? AuthState.importWalletConfirmBiometrics\n      : AuthState.confirmBiometrics,\n    biometricsStep: 1,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('cancelCreateBiometrics', (global) => {\n  global = updateAuth(global, {\n    state: AuthState.createBiometrics,\n    biometricsStep: undefined,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('createPin', (global, actions, { pin, isImporting }) => {\n  global = updateAuth(global, {\n    state: isImporting ? AuthState.importWalletConfirmPin : AuthState.confirmPin,\n    password: pin,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('confirmPin', (global, actions, { isImporting }) => {\n  if (getIsNativeBiometricAuthSupported()) {\n    global = updateAuth(global, {\n      state: isImporting ? AuthState.importWalletCreateNativeBiometrics : AuthState.createNativeBiometrics,\n    });\n    setGlobal(global);\n  } else {\n    actions.skipCreateNativeBiometrics();\n  }\n});\n\naddActionHandler('cancelConfirmPin', (global, actions, { isImporting }) => {\n  global = updateAuth(global, {\n    state: isImporting ? AuthState.importWalletCreatePin : AuthState.createPin,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('cancelDisclaimer', (global) => {\n  setGlobal(updateAuth(global, {\n    state: IS_CAPACITOR\n      ? AuthState.createPin\n      : (IS_BIOMETRIC_AUTH_SUPPORTED ? AuthState.createBiometrics : AuthState.createPassword),\n  }));\n});\n\naddActionHandler('afterCreatePassword', (global, actions, { password, isPasswordNumeric }) => {\n  setGlobal(updateAuth(global, { isLoading: true }));\n\n  const { method } = getGlobal().auth;\n\n  const isImporting = method !== 'createAccount';\n  const isHardware = method === 'importHardwareWallet';\n\n  if (isHardware) {\n    actions.createHardwareAccounts();\n    return;\n  }\n\n  actions.createAccount({ password, isImporting, isPasswordNumeric });\n});\n\naddActionHandler('afterCreateBiometrics', async (global, actions) => {\n  const withCredential = !IS_ELECTRON;\n  global = updateAuth(global, {\n    isLoading: true,\n    error: undefined,\n    biometricsStep: withCredential ? 1 : undefined,\n  });\n  setGlobal(global);\n\n  try {\n    const credential = withCredential\n      ? await webAuthn.createCredential()\n      : undefined;\n    global = getGlobal();\n    global = updateAuth(global, { biometricsStep: withCredential ? 2 : undefined });\n    setGlobal(global);\n    const result = await authApi.setupBiometrics({ credential });\n\n    global = getGlobal();\n    global = updateAuth(global, {\n      isLoading: false,\n      biometricsStep: undefined,\n    });\n\n    if (!result) {\n      global = updateAuth(global, { error: 'Biometric setup failed.' });\n      setGlobal(global);\n\n      return;\n    }\n\n    global = updateSettings(global, { authConfig: result.config });\n    setGlobal(global);\n\n    actions.afterCreatePassword({ password: result.password });\n  } catch (err: any) {\n    const error = err?.message.includes('privacy-considerations-client')\n      ? 'Biometric setup failed.'\n      : (err?.message || 'Biometric setup failed.');\n    global = getGlobal();\n    global = updateAuth(global, {\n      isLoading: false,\n      error,\n      biometricsStep: undefined,\n    });\n    setGlobal(global);\n  }\n});\n\naddActionHandler('skipCreateBiometrics', (global) => {\n  global = updateAuth(global, { state: AuthState.createPassword });\n  setGlobal(global);\n});\n\naddActionHandler('afterCreateNativeBiometrics', async (global, actions) => {\n  global = updateAuth(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  try {\n    const { password } = global.auth;\n    const result = await authApi.setupNativeBiometrics(password!);\n\n    global = getGlobal();\n    global = updateAuth(global, { isLoading: false });\n    global = updateSettings(global, { authConfig: result.config });\n    setGlobal(global);\n\n    actions.afterCreatePassword({ password: password!, isPasswordNumeric: true });\n  } catch (err: any) {\n    const error = err?.message.includes('privacy-considerations-client')\n      ? 'Biometric setup failed.'\n      : (err?.message || 'Biometric setup failed.');\n    global = getGlobal();\n    global = updateAuth(global, {\n      isLoading: false,\n      error,\n    });\n    setGlobal(global);\n  }\n});\n\naddActionHandler('skipCreateNativeBiometrics', (global, actions) => {\n  const { password } = global.auth;\n\n  global = updateAuth(global, { isLoading: false, error: undefined });\n  global = updateSettings(global, {\n    authConfig: { kind: 'password' },\n    isPasswordNumeric: true,\n  });\n  setGlobal(global);\n\n  actions.afterCreatePassword({ password: password!, isPasswordNumeric: true });\n});\n\naddActionHandler('createAccount', async (global, actions, {\n  password, isImporting, isPasswordNumeric, version,\n}) => {\n  setGlobal(updateAuth(global, { isLoading: true }));\n\n  const network = selectCurrentNetwork(getGlobal());\n\n  const result = await callApi(\n    isImporting ? 'importMnemonic' : 'createWallet',\n    network,\n    global.auth.mnemonic!,\n    password,\n    version,\n  );\n\n  global = getGlobal();\n\n  if (!result || 'error' in result) {\n    setGlobal(updateAuth(global, { isLoading: undefined }));\n    actions.showError({ error: result?.error });\n    return;\n  }\n\n  const { accountId, address } = result;\n  if (!isImporting) {\n    global = { ...global, appState: AppState.Auth, isAddAccountModalOpen: undefined };\n  }\n  global = updateAuth(global, {\n    address,\n    accountId,\n    isLoading: undefined,\n    password: undefined,\n    ...(isPasswordNumeric && { isPasswordNumeric: true }),\n  });\n  global = clearIsPinAccepted(global);\n\n  if (isImporting) {\n    const hasAccounts = Object.keys(selectAccounts(global) || {}).length > 0;\n    if (hasAccounts) {\n      setGlobal(global);\n      actions.afterConfirmDisclaimer();\n\n      return;\n    } else {\n      global = updateAuth(global, { state: AuthState.disclaimer });\n    }\n  } else {\n    const accounts = selectAccounts(global) ?? {};\n    const isFirstAccount = !Object.values(accounts).length;\n    global = updateAuth(global, {\n      state: isFirstAccount ? AuthState.disclaimerAndBackup : AuthState.createBackup,\n    });\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('createHardwareAccounts', async (global, actions) => {\n  const isFirstAccount = !global.currentAccountId;\n  setGlobal(updateAuth(global, { isLoading: true }));\n\n  const { hardwareSelectedIndices = [] } = getGlobal().hardware;\n  const network = selectCurrentNetwork(getGlobal());\n\n  const ledgerApi = await import('../../../util/ledger');\n  const wallets = await Promise.all(\n    hardwareSelectedIndices.map(\n      (wallet) => ledgerApi.importLedgerWallet(network, wallet),\n    ),\n  );\n\n  const updatedGlobal = wallets.reduce((currentGlobal, wallet) => {\n    if (!wallet) {\n      return currentGlobal;\n    }\n    const { accountId, address, walletInfo } = wallet;\n\n    currentGlobal = updateCurrentAccountId(currentGlobal, accountId);\n    currentGlobal = createAccount(currentGlobal, accountId, address, {\n      isHardware: true,\n      ...(walletInfo && {\n        ledger: {\n          driver: walletInfo.driver,\n          index: walletInfo.index,\n        },\n      }),\n    });\n\n    return currentGlobal;\n  }, getGlobal());\n\n  global = updateAuth(updatedGlobal, { isLoading: false });\n  global = {\n    ...global,\n    shouldForceAccountEdit: true,\n  };\n\n  setGlobal(global);\n\n  if (getGlobal().areSettingsOpen) {\n    actions.closeSettings();\n  }\n\n  if (isFirstAccount) {\n    actions.afterSignIn();\n    actions.resetApiSettings();\n    actions.requestConfetti();\n\n    if (IS_CAPACITOR) {\n      void vibrateOnSuccess();\n    }\n  }\n});\n\naddActionHandler('afterCheckMnemonic', (global, actions) => {\n  global = updateCurrentAccountId(global, global.auth.accountId!);\n  global = updateCurrentAccountState(global, {});\n  global = createAccount(global, global.auth.accountId!, global.auth.address!);\n  setGlobal(global);\n\n  actions.afterSignIn();\n  if (selectIsOneAccount(global)) {\n    actions.resetApiSettings();\n  }\n});\n\naddActionHandler('restartCheckMnemonicIndexes', (global) => {\n  setGlobal(\n    updateAuth(global, {\n      mnemonicCheckIndexes: selectMnemonicForCheck(),\n    }),\n  );\n});\n\naddActionHandler('skipCheckMnemonic', (global, actions) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('skipCheckMnemonic');\n    return;\n  }\n\n  global = updateCurrentAccountId(global, global.auth.accountId!);\n  global = updateCurrentAccountState(global, {\n    isBackupRequired: true,\n  });\n  global = createAccount(global, global.auth.accountId!, global.auth.address!);\n  setGlobal(global);\n\n  actions.afterSignIn();\n  if (selectIsOneAccount(global)) {\n    actions.resetApiSettings();\n  }\n});\n\naddActionHandler('startImportingWallet', (global) => {\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const state = firstNonHardwareAccount && !global.auth.password\n    ? AuthState.importWalletCheckPassword\n    : AuthState.importWallet;\n\n  setGlobal(\n    updateAuth(global, {\n      state,\n      error: undefined,\n      method: 'importMnemonic',\n    }),\n  );\n});\n\naddActionHandler('openAbout', (global) => {\n  setGlobal(updateAuth(global, { state: AuthState.about, error: undefined }));\n});\n\naddActionHandler('closeAbout', (global) => {\n  setGlobal(updateAuth(global, { state: AuthState.none, error: undefined }));\n});\n\naddActionHandler('afterImportMnemonic', async (global, actions, { mnemonic }) => {\n  mnemonic = compact(mnemonic);\n\n  if (!isMnemonicPrivateKey(mnemonic)) {\n    if (!await callApi('validateMnemonic', mnemonic)) {\n      setGlobal(updateAuth(getGlobal(), {\n        error: 'Your mnemonic words are invalid.',\n      }));\n\n      return;\n    }\n  }\n\n  global = getGlobal();\n\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const hasAccounts = Object.keys(selectAccounts(global) || {}).length > 0;\n  const state = IS_CAPACITOR\n    ? AuthState.importWalletCreatePin\n    : (IS_BIOMETRIC_AUTH_SUPPORTED\n      ? AuthState.importWalletCreateBiometrics\n      : AuthState.importWalletCreatePassword);\n\n  global = updateAuth(global, {\n    mnemonic,\n    error: undefined,\n    ...(!firstNonHardwareAccount && { state }),\n  });\n  setGlobal(global);\n\n  if (!firstNonHardwareAccount) {\n    if (!hasAccounts) {\n      actions.requestConfetti();\n    }\n\n    if (IS_CAPACITOR) {\n      void vibrateOnSuccess();\n    }\n  } else {\n    actions.confirmDisclaimer();\n  }\n});\n\naddActionHandler('confirmDisclaimer', (global, actions) => {\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n\n  if (firstNonHardwareAccount) {\n    setGlobal(global);\n    actions.afterCreatePassword({ password: global.auth.password! });\n\n    return;\n  }\n\n  actions.afterConfirmDisclaimer();\n});\n\naddActionHandler('afterConfirmDisclaimer', (global, actions) => {\n  const { accountId, address } = global.auth;\n\n  global = updateCurrentAccountId(global, accountId!);\n  global = updateAuth(global, { state: AuthState.ready });\n  global = createAccount(global, accountId!, address!);\n  setGlobal(global);\n\n  actions.afterSignIn();\n  if (selectIsOneAccount(global)) {\n    actions.resetApiSettings();\n  }\n});\n\naddActionHandler('cleanAuthError', (global) => {\n  setGlobal(updateAuth(global, { error: undefined }));\n});\n\nexport function selectMnemonicForCheck() {\n  return Array(MNEMONIC_COUNT)\n    .fill(0)\n    .map((_, i) => ({ i, rnd: Math.random() }))\n    .sort((a, b) => a.rnd - b.rnd)\n    .map((i) => i.i)\n    .slice(0, MNEMONIC_CHECK_COUNT)\n    .sort((a, b) => a - b);\n}\n\naddActionHandler('startChangingNetwork', (global, actions, { network }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('startChangingNetwork', { network });\n  }\n\n  const accountIds = Object.keys(selectNetworkAccountsMemoized(network, global.accounts!.byId)!);\n\n  if (accountIds.length) {\n    const accountId = accountIds[0];\n    actions.switchAccount({ accountId, newNetwork: network });\n  } else {\n    setGlobal({\n      ...global,\n      areSettingsOpen: false,\n      appState: AppState.Auth,\n    });\n    actions.changeNetwork({ network });\n  }\n});\n\naddActionHandler('switchAccount', async (global, actions, payload) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('switchAccount', payload);\n  }\n\n  const { accountId, newNetwork } = payload;\n  const newestTxIds = selectNewestTxIds(global, accountId);\n  await callApi('activateAccount', accountId, newestTxIds);\n\n  global = getGlobal();\n  global = updateCurrentAccountId(global, accountId);\n  global = clearCurrentTransfer(global);\n  global = clearCurrentSwap(global);\n  setGlobal(global);\n\n  if (newNetwork) {\n    actions.changeNetwork({ network: newNetwork });\n  }\n});\n\naddActionHandler('connectHardwareWallet', async (global, actions) => {\n  global = updateHardware(global, {\n    hardwareState: HardwareConnectState.Connecting,\n    hardwareWallets: undefined,\n    hardwareSelectedIndices: undefined,\n    isLedgerConnected: undefined,\n    isTonAppConnected: undefined,\n  });\n  setGlobal(global);\n\n  const ledgerApi = await import('../../../util/ledger');\n\n  const isLedgerConnected = await ledgerApi.connectLedger();\n  global = getGlobal();\n\n  if (!isLedgerConnected) {\n    global = updateHardware(global, {\n      isLedgerConnected: false,\n      hardwareState: HardwareConnectState.Failed,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  global = updateHardware(global, {\n    isLedgerConnected: true,\n  });\n  setGlobal(global);\n\n  const isTonAppConnected = await ledgerApi.waitLedgerTonApp();\n  global = getGlobal();\n\n  if (!isTonAppConnected) {\n    global = updateHardware(global, {\n      isTonAppConnected: false,\n      hardwareState: HardwareConnectState.Failed,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  global = updateHardware(global, {\n    isTonAppConnected: true,\n  });\n  setGlobal(global);\n\n  try {\n    global = getGlobal();\n    const { isRemoteTab } = global.hardware;\n    const network = selectCurrentNetwork(global);\n    const lastIndex = selectLedgerAccountIndexToImport(global);\n    const currentHardwareAccounts = selectAllHardwareAccounts(global) ?? [];\n    const currentHardwareAddresses = currentHardwareAccounts.map((account) => account.address);\n    const hardwareWallets = isRemoteTab ? [] : await ledgerApi.getNextLedgerWallets(\n      network,\n      lastIndex,\n      currentHardwareAddresses,\n    );\n\n    global = getGlobal();\n\n    if ('error' in hardwareWallets) {\n      actions.showError({ error: hardwareWallets.error });\n      throw Error(hardwareWallets.error);\n    }\n\n    const nextHardwareState = isRemoteTab || hardwareWallets.length === 1\n      ? HardwareConnectState.ConnectedWithSingleWallet\n      : HardwareConnectState.ConnectedWithSeveralWallets;\n\n    global = updateHardware(global, {\n      hardwareWallets,\n      hardwareState: nextHardwareState,\n    });\n    setGlobal(global);\n  } catch (err) {\n    global = getGlobal();\n    global = updateHardware(global, {\n      hardwareState: HardwareConnectState.Failed,\n    });\n    setGlobal(global);\n  }\n});\n\naddActionHandler('loadMoreHardwareWallets', async (global, actions, { lastIndex }) => {\n  const network = selectCurrentNetwork(global);\n  const oldHardwareWallets = global.hardware.hardwareWallets ?? [];\n  const ledgerApi = await import('../../../util/ledger');\n  const hardwareWallets = await ledgerApi.getNextLedgerWallets(network, lastIndex);\n\n  global = getGlobal();\n\n  if ('error' in hardwareWallets) {\n    actions.showError({ error: hardwareWallets.error });\n    throw Error(hardwareWallets.error);\n  }\n\n  global = updateHardware(global, {\n    hardwareWallets: oldHardwareWallets.concat(hardwareWallets),\n  });\n  setGlobal(global);\n});\n\naddActionHandler('afterSelectHardwareWallets', (global, actions, { hardwareSelectedIndices }) => {\n  global = updateAuth(global, {\n    method: 'importHardwareWallet',\n    error: undefined,\n  });\n\n  global = updateHardware(global, {\n    hardwareSelectedIndices,\n  });\n\n  setGlobal(global);\n  actions.afterCreatePassword({ password: '' });\n});\n\naddActionHandler('resetHardwareWalletConnect', (global) => {\n  global = updateHardware(global, {\n    hardwareState: HardwareConnectState.Connect,\n    isLedgerConnected: undefined,\n    isTonAppConnected: undefined,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('enableBiometrics', async (global, actions, { password }) => {\n  if (!(await callApi('verifyPassword', password))) {\n    global = getGlobal();\n    global = updateBiometrics(global, { error: 'Wrong password, please try again.' });\n    setGlobal(global);\n\n    return;\n  }\n\n  global = getGlobal();\n  global = updateBiometrics(global, {\n    error: undefined,\n    state: BiometricsState.TurnOnRegistration,\n  });\n  setGlobal(global);\n\n  try {\n    const credential = IS_ELECTRON\n      ? undefined\n      : await webAuthn.createCredential();\n\n    global = getGlobal();\n    global = updateBiometrics(global, { state: BiometricsState.TurnOnVerification });\n    setGlobal(global);\n\n    const result = await authApi.setupBiometrics({ credential });\n\n    global = getGlobal();\n    if (!result) {\n      global = updateBiometrics(global, {\n        error: 'Biometric setup failed.',\n        state: BiometricsState.TurnOnPasswordConfirmation,\n      });\n      setGlobal(global);\n\n      return;\n    }\n    global = updateBiometrics(global, { state: BiometricsState.TurnOnComplete });\n    setGlobal(global);\n\n    await callApi('changePassword', password, result.password);\n\n    global = getGlobal();\n    global = updateSettings(global, { authConfig: result.config });\n\n    setGlobal(global);\n  } catch (err: any) {\n    const error = err?.message.includes('privacy-considerations-client')\n      ? 'Biometric setup failed.'\n      : (err?.message || 'Biometric setup failed.');\n    global = getGlobal();\n    global = updateBiometrics(global, {\n      error,\n      state: BiometricsState.TurnOnPasswordConfirmation,\n    });\n    setGlobal(global);\n  }\n});\n\naddActionHandler('disableBiometrics', async (global, actions, { password, isPasswordNumeric }) => {\n  const { password: oldPassword } = global.biometrics;\n\n  if (!password || !oldPassword) {\n    global = updateBiometrics(global, { error: 'Biometric confirmation failed.' });\n    setGlobal(global);\n\n    return;\n  }\n\n  try {\n    await callApi('changePassword', oldPassword, password);\n  } catch (err: any) {\n    global = getGlobal();\n    global = updateBiometrics(global, { error: err?.message || 'Failed to disable biometrics.' });\n    setGlobal(global);\n\n    return;\n  }\n\n  global = getGlobal();\n  global = updateBiometrics(global, {\n    state: BiometricsState.TurnOffComplete,\n    error: undefined,\n  });\n  global = updateSettings(global, {\n    authConfig: { kind: 'password' },\n    isPasswordNumeric,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('closeBiometricSettings', (global) => {\n  global = { ...global, biometrics: cloneDeep(INITIAL_STATE.biometrics) };\n\n  setGlobal(global);\n});\n\naddActionHandler('openBiometricsTurnOn', (global) => {\n  global = updateBiometrics(global, { state: BiometricsState.TurnOnPasswordConfirmation });\n\n  setGlobal(global);\n});\n\naddActionHandler('openBiometricsTurnOffWarning', (global) => {\n  global = updateBiometrics(global, { state: BiometricsState.TurnOffWarning });\n\n  setGlobal(global);\n});\n\naddActionHandler('openBiometricsTurnOff', async (global) => {\n  global = updateBiometrics(global, { state: BiometricsState.TurnOffBiometricConfirmation });\n  setGlobal(global);\n\n  const password = await authApi.getPassword(global.settings.authConfig!);\n  global = getGlobal();\n\n  if (!password) {\n    global = updateBiometrics(global, { error: 'Biometric confirmation failed.' });\n  } else {\n    global = updateBiometrics(global, {\n      state: BiometricsState.TurnOffCreatePassword,\n      password,\n    });\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('disableNativeBiometrics', (global) => {\n  global = updateSettings(global, {\n    authConfig: { kind: 'password' },\n    isPasswordNumeric: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('enableNativeBiometrics', async (global, actions, { password }) => {\n  if (!(await callApi('verifyPassword', password))) {\n    global = getGlobal();\n    global = {\n      ...global,\n      nativeBiometricsError: 'Incorrect code, please try again.',\n    };\n    global = clearIsPinAccepted(global);\n    setGlobal(global);\n\n    return;\n  }\n\n  global = getGlobal();\n\n  global = setIsPinAccepted(global);\n  global = {\n    ...global,\n    nativeBiometricsError: undefined,\n  };\n  setGlobal(global);\n\n  try {\n    const isVerified = await NativeBiometric.verifyIdentity({\n      title: APP_NAME,\n      subtitle: '',\n    })\n      .then(() => true)\n      .catch(() => false);\n\n    if (!isVerified) {\n      global = getGlobal();\n      global = {\n        ...global,\n        nativeBiometricsError: 'Failed to enable biometrics.',\n      };\n      global = clearIsPinAccepted(global);\n      setGlobal(global);\n      void vibrateOnError();\n\n      return;\n    }\n\n    const result = await authApi.setupNativeBiometrics(password);\n    await pause(NATIVE_BIOMETRICS_PAUSE_MS);\n\n    global = getGlobal();\n    global = updateSettings(global, {\n      authConfig: result.config,\n    });\n    global = {\n      ...global,\n      nativeBiometricsError: undefined,\n    };\n    setGlobal(global);\n\n    void vibrateOnSuccess();\n  } catch (err: any) {\n    global = getGlobal();\n    global = {\n      ...global,\n      nativeBiometricsError: err?.message || 'Failed to enable biometrics.',\n    };\n    global = clearIsPinAccepted(global);\n    setGlobal(global);\n\n    void vibrateOnError();\n  }\n});\n\naddActionHandler('clearNativeBiometricsError', (global) => {\n  return {\n    ...global,\n    nativeBiometricsError: undefined,\n  };\n});\n\naddActionHandler('openAuthBackupWalletModal', (global) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('openAuthBackupWalletModal');\n    return;\n  }\n\n  global = updateAuth(global, { isBackupModalOpen: true });\n  setGlobal(global);\n});\n\naddActionHandler('closeAuthBackupWalletModal', (global, actions, props) => {\n  const { isBackupCreated } = props || {};\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('closeAuthBackupWalletModal', props);\n  }\n\n  global = updateAuth(global, {\n    isBackupModalOpen: undefined,\n  });\n  setGlobal(global);\n\n  if (!IS_DELEGATED_BOTTOM_SHEET && isBackupCreated) {\n    actions.afterCheckMnemonic();\n  }\n});\n\naddActionHandler('copyStorageData', async (global, actions) => {\n  const accountConfigJson = await callApi('fetchAccountConfigForDebugPurposesOnly');\n\n  if (accountConfigJson) {\n    const storageData = JSON.stringify({\n      ...JSON.parse(accountConfigJson),\n      global: reduceGlobalForDebug(),\n    });\n\n    await copyTextToClipboard(storageData);\n\n    actions.showNotification({ message: getTranslation('Copied') });\n  } else {\n    actions.showError({ error: ApiCommonError.Unexpected });\n  }\n});\n\naddActionHandler('importAccountByVersion', async (global, actions, { version }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('importAccountByVersion', { version });\n    return;\n  }\n\n  const accountId = global.currentAccountId!;\n\n  const wallet = await callApi('importNewWalletVersion', accountId, version);\n  global = getGlobal();\n\n  const existAccountId = selectAccountIdByAddress(global, wallet!.address);\n\n  if (existAccountId) {\n    actions.switchAccount({ accountId: existAccountId });\n    return;\n  }\n\n  const { title: currentWalletTitle } = (global.accounts?.byId ?? {})[accountId];\n\n  global = updateCurrentAccountId(global, wallet!.accountId);\n  global = createAccount(global, wallet!.accountId, wallet!.address, { title: currentWalletTitle }, version);\n  setGlobal(global);\n});\n\nfunction reduceGlobalForDebug() {\n  const reduced = cloneDeep(getGlobal());\n\n  reduced.tokenInfo = {} as any;\n  reduced.swapTokenInfo = {} as any;\n  Object.entries(reduced.byAccountId).forEach(([, state]) => {\n    state.activities = {} as any;\n  });\n\n  return reduced;\n}\n","import { DappConnectState, TransferState } from '../../types';\n\nimport { ANIMATION_END_DELAY, IS_CAPACITOR } from '../../../config';\nimport { areDeepEqual } from '../../../util/areDeepEqual';\nimport { vibrateOnSuccess } from '../../../util/capacitor';\nimport { callActionInMain } from '../../../util/multitab';\nimport { pause, waitFor } from '../../../util/schedulers';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport {\n  ApiHardwareBlindSigningNotEnabled, ApiUnsupportedVersionError, ApiUserRejectsError,\n} from '../../../api/errors';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearConnectedDapps,\n  clearCurrentDappTransfer,\n  clearDappConnectRequest,\n  clearIsPinAccepted,\n  removeConnectedDapp,\n  setIsPinAccepted,\n  updateConnectedDapps,\n  updateCurrentAccountId,\n  updateCurrentDappTransfer,\n  updateDappConnectRequest,\n} from '../../reducers';\nimport { selectIsHardwareAccount, selectNewestTxIds } from '../../selectors';\n\nimport { getIsPortrait } from '../../../hooks/useDeviceScreen';\n\nimport { CLOSE_DURATION, CLOSE_DURATION_PORTRAIT } from '../../../components/ui/Modal';\n\nconst GET_DAPPS_PAUSE = 250;\n\naddActionHandler('submitDappConnectRequestConfirm', async (global, actions, { password, accountId }) => {\n  const {\n    promiseId, permissions,\n  } = global.dappConnectRequest!;\n\n  if (permissions?.isPasswordRequired && (!password || !(await callApi('verifyPassword', password)))) {\n    global = getGlobal();\n    global = updateDappConnectRequest(global, { error: 'Wrong password, please try again.' });\n    setGlobal(global);\n\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    global = getGlobal();\n    global = setIsPinAccepted(global);\n    setGlobal(global);\n  }\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('submitDappConnectRequestConfirm', { password, accountId });\n\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n\n  actions.switchAccount({ accountId });\n  await callApi('confirmDappRequestConnect', promiseId!, {\n    accountId,\n    password,\n  });\n\n  global = getGlobal();\n  global = clearDappConnectRequest(global);\n  setGlobal(global);\n\n  await pause(GET_DAPPS_PAUSE);\n  actions.getDapps();\n});\n\naddActionHandler(\n  'submitDappConnectRequestConfirmHardware',\n  async (global, actions, { accountId: connectAccountId }) => {\n    const {\n      promiseId, proof,\n    } = global.dappConnectRequest!;\n\n    global = getGlobal();\n    global = updateDappConnectRequest(global, {\n      error: undefined,\n      state: DappConnectState.ConfirmHardware,\n    });\n    setGlobal(global);\n\n    const ledgerApi = await import('../../../util/ledger');\n\n    try {\n      const signature = await ledgerApi.signLedgerProof(connectAccountId!, proof!);\n      actions.switchAccount({ accountId: connectAccountId });\n      await callApi('confirmDappRequestConnect', promiseId!, {\n        accountId: connectAccountId,\n        signature,\n      });\n    } catch (err) {\n      setGlobal(updateDappConnectRequest(getGlobal(), {\n        error: 'Canceled by the user',\n      }));\n      return;\n    }\n\n    global = getGlobal();\n    global = clearDappConnectRequest(global);\n    setGlobal(global);\n\n    await pause(GET_DAPPS_PAUSE);\n    actions.getDapps();\n  },\n);\n\naddActionHandler('cancelDappConnectRequestConfirm', (global) => {\n  const { promiseId } = global.dappConnectRequest || {};\n  if (!promiseId) {\n    return;\n  }\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('cancelDappConnectRequestConfirm');\n  } else {\n    void callApi('cancelDappRequest', promiseId, 'Canceled by the user');\n  }\n\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n  global = clearDappConnectRequest(global);\n  setGlobal(global);\n});\n\naddActionHandler('setDappConnectRequestState', (global, actions, { state }) => {\n  setGlobal(updateDappConnectRequest(global, { state }));\n});\n\naddActionHandler('cancelDappTransfer', (global) => {\n  const { promiseId } = global.currentDappTransfer;\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('cancelDappTransfer');\n  } else if (promiseId) {\n    void callApi('cancelDappRequest', promiseId, 'Canceled by the user');\n  }\n\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n  global = clearCurrentDappTransfer(global);\n  setGlobal(global);\n});\n\naddActionHandler('closeDappTransfer', (global) => {\n  global = updateCurrentDappTransfer(global, { state: TransferState.None });\n  setGlobal(global);\n});\n\naddActionHandler('submitDappTransferPassword', async (global, actions, { password }) => {\n  const { promiseId } = global.currentDappTransfer;\n\n  if (!promiseId) {\n    return;\n  }\n\n  if (!(await callApi('verifyPassword', password))) {\n    global = getGlobal();\n    global = updateCurrentDappTransfer(global, {\n      error: 'Wrong password, please try again.',\n    });\n    setGlobal(global);\n\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    global = getGlobal();\n    global = setIsPinAccepted(global);\n    setGlobal(global);\n  }\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('submitDappTransferPassword', { password });\n\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentDappTransfer(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  void callApi('confirmDappRequest', promiseId, password);\n\n  global = getGlobal();\n  global = clearCurrentDappTransfer(global);\n  setGlobal(global);\n});\n\naddActionHandler('submitDappTransferHardware', async (global, actions) => {\n  const { promiseId, transactions, vestingAddress } = global.currentDappTransfer;\n\n  if (!promiseId) {\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentDappTransfer(global, {\n    isLoading: true,\n    error: undefined,\n    state: TransferState.ConfirmHardware,\n  });\n  setGlobal(global);\n\n  const accountId = global.currentAccountId!;\n  const ledgerApi = await import('../../../util/ledger');\n\n  try {\n    const signedMessages = await ledgerApi.signLedgerTransactions(accountId, transactions!, {\n      isTonConnect: true,\n      vestingAddress,\n    });\n    void callApi('confirmDappRequest', promiseId, signedMessages);\n  } catch (err) {\n    if (err instanceof ApiHardwareBlindSigningNotEnabled) {\n      setGlobal(updateCurrentDappTransfer(getGlobal(), {\n        isLoading: false,\n        error: '$hardware_blind_sign_not_enabled',\n      }));\n      return;\n    } else if (err instanceof ApiUnsupportedVersionError) {\n      actions.showError({\n        error: '$ledger_unsupported_ton_connect',\n      });\n      void callApi('cancelDappRequest', promiseId, err.message);\n    } else if (err instanceof ApiUserRejectsError) {\n      setGlobal(updateCurrentDappTransfer(getGlobal(), {\n        isLoading: false,\n        error: 'Canceled by the user',\n      }));\n      return;\n    } else {\n      void callApi('cancelDappRequest', promiseId, 'Unknown error.');\n    }\n  }\n\n  global = getGlobal();\n  global = clearCurrentDappTransfer(global);\n  setGlobal(global);\n});\n\naddActionHandler('getDapps', async (global) => {\n  const { currentAccountId } = global;\n\n  const result = await callApi('getDapps', currentAccountId!);\n\n  if (!result) {\n    return;\n  }\n\n  global = getGlobal();\n  global = updateConnectedDapps(global, { dapps: result });\n  setGlobal(global);\n});\n\naddActionHandler('deleteAllDapps', (global) => {\n  const { currentAccountId } = global;\n\n  void callApi('deleteAllDapps', currentAccountId!);\n\n  global = getGlobal();\n  global = clearConnectedDapps(global);\n  setGlobal(global);\n});\n\naddActionHandler('deleteDapp', (global, actions, { origin }) => {\n  const { currentAccountId } = global;\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('deleteDapp', { origin });\n  } else {\n    void callApi('deleteDapp', currentAccountId!, origin);\n  }\n\n  global = getGlobal();\n  global = removeConnectedDapp(global, origin);\n  setGlobal(global);\n});\n\naddActionHandler('apiUpdateDappConnect', async (global, actions, {\n  accountId, dapp, permissions, promiseId, proof,\n}) => {\n  // We only need to apply changes in NBS when Dapp Connect Modal is already open\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    if (!(await waitFor(() => Boolean(getGlobal().dappConnectRequest), 300, 5))) {\n      return;\n    }\n\n    global = getGlobal();\n  }\n\n  global = updateDappConnectRequest(global, {\n    state: DappConnectState.Info,\n    promiseId,\n    accountId,\n    dapp,\n    permissions: {\n      isAddressRequired: permissions.address,\n      isPasswordRequired: permissions.proof,\n    },\n    proof,\n  });\n  setGlobal(global);\n\n  actions.addSiteToBrowserHistory({ url: dapp.url });\n});\n\naddActionHandler('apiUpdateDappSendTransaction', async (global, actions, {\n  promiseId,\n  transactions,\n  fee,\n  accountId,\n  dapp,\n  vestingAddress,\n}) => {\n  const { currentAccountId, currentDappTransfer: { promiseId: currentPromiseId } } = global;\n  if (currentAccountId !== accountId) {\n    const newestTxIds = selectNewestTxIds(global, accountId);\n    await callApi('activateAccount', accountId, newestTxIds);\n    global = getGlobal();\n    setGlobal(updateCurrentAccountId(global, accountId));\n  }\n\n  if (currentPromiseId && !IS_DELEGATED_BOTTOM_SHEET) {\n    actions.closeDappTransfer();\n    const closeDuration = getIsPortrait() ? CLOSE_DURATION_PORTRAIT : CLOSE_DURATION;\n    await pause(closeDuration + ANIMATION_END_DELAY);\n  }\n\n  // We only need to apply changes in NBS when Dapp Transaction Modal is already open\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    if (!(await waitFor(() => getGlobal().currentDappTransfer.state !== TransferState.None, 300, 5))) {\n      return;\n    }\n\n    global = getGlobal();\n  }\n\n  const state = selectIsHardwareAccount(global) && transactions.length > 1\n    ? TransferState.WarningHardware\n    : TransferState.Initial;\n\n  global = getGlobal();\n  global = clearCurrentDappTransfer(global);\n  global = updateCurrentDappTransfer(global, {\n    state,\n    promiseId,\n    transactions,\n    fee,\n    dapp,\n    vestingAddress,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('apiUpdateDappLoading', async (global, actions, { connectionType, isSse, accountId }) => {\n  // We only need to apply changes in NBS when Dapp Connect Modal is already open\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    if (!(await waitFor(() => {\n      global = getGlobal();\n      return (connectionType === 'connect' && !!global.dappConnectRequest)\n      || (connectionType === 'sendTransaction' && global.currentDappTransfer.state !== TransferState.None);\n    }, 300, 5))) {\n      return;\n    }\n\n    global = getGlobal();\n  }\n\n  if (!IS_DELEGATED_BOTTOM_SHEET && accountId && accountId !== global.currentAccountId) {\n    actions.switchAccount({ accountId });\n  }\n\n  if (connectionType === 'connect') {\n    global = updateDappConnectRequest(global, {\n      state: DappConnectState.Info,\n      isSse,\n    });\n  } else if (connectionType === 'sendTransaction') {\n    global = updateCurrentDappTransfer(global, {\n      state: TransferState.Initial,\n      isSse,\n    });\n  }\n  setGlobal(global);\n});\n\naddActionHandler('apiUpdateDappCloseLoading', async (global) => {\n  // We only need to apply changes in NBS when Dapp Modal is already open\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    if (!(await waitFor(() => {\n      global = getGlobal();\n      return (Boolean(global.dappConnectRequest) || global.currentDappTransfer.state !== TransferState.None);\n    }, 300, 5))) {\n      return;\n    }\n\n    global = getGlobal();\n  }\n\n  // But clear the state if a skeleton is displayed in the Modal\n  if (global.dappConnectRequest?.state === DappConnectState.Info) {\n    global = clearDappConnectRequest(global);\n  } else if (global.currentDappTransfer.state === TransferState.Initial) {\n    global = clearCurrentDappTransfer(global);\n  }\n  setGlobal(global);\n});\n\naddActionHandler('loadExploreSites', async (global) => {\n  const sites = await callApi('loadExploreSites');\n  global = getGlobal();\n  if (areDeepEqual(sites, global.exploreSites)) {\n    return;\n  }\n\n  global = {\n    ...global,\n    exploreSites: sites,\n  };\n  setGlobal(global);\n});\n","import { DEFAULT_PRICE_CURRENCY, IS_EXTENSION } from '../../../config';\nimport {\n  IS_ANDROID_APP, IS_DELEGATED_BOTTOM_SHEET, IS_ELECTRON, IS_IOS_APP,\n} from '../../../util/windowEnvironment';\nimport { callApi, initApi } from '../../../api';\nimport { addActionHandler, getGlobal } from '../../index';\nimport { selectNewestTxIds } from '../../selectors';\n\naddActionHandler('initApi', async (global, actions) => {\n  initApi(actions.apiUpdate, {\n    isElectron: IS_ELECTRON,\n    isNativeBottomSheet: IS_DELEGATED_BOTTOM_SHEET,\n    isIosApp: IS_IOS_APP,\n    isAndroidApp: IS_ANDROID_APP,\n  });\n\n  await callApi('waitDataPreload');\n\n  const { currentAccountId } = getGlobal();\n\n  if (!currentAccountId) {\n    return;\n  }\n\n  void callApi(\n    'activateAccount',\n    currentAccountId,\n    selectNewestTxIds(global, currentAccountId),\n  );\n});\n\naddActionHandler('resetApiSettings', (global, actions, params) => {\n  const isDefaultEnabled = !params?.areAllDisabled;\n\n  if (IS_EXTENSION) {\n    actions.toggleTonMagic({ isEnabled: false });\n    actions.toggleTonProxy({ isEnabled: false });\n  }\n  if (IS_EXTENSION || IS_ELECTRON) {\n    actions.toggleDeeplinkHook({ isEnabled: isDefaultEnabled });\n  }\n  actions.changeBaseCurrency({ currency: DEFAULT_PRICE_CURRENCY });\n});\n","import {\n  BURN_ADDRESS, NOTCOIN_EXCHANGERS, NOTCOIN_VOUCHERS_ADDRESS, TONCOIN_SLUG,\n} from '../../../config';\nimport { findDifference } from '../../../util/iteratees';\nimport { IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { NFT_TRANSFER_TONCOIN_AMOUNT } from '../../../api/blockchains/ton/constants';\nimport { addActionHandler } from '../../index';\nimport { updateCurrentAccountState } from '../../reducers';\nimport { selectCurrentAccountState } from '../../selectors';\n\nimport { getIsPortrait } from '../../../hooks/useDeviceScreen';\n\nconst NBS_INIT_TIMEOUT = IS_DELEGATING_BOTTOM_SHEET ? 100 : 0;\n\naddActionHandler('burnNfts', (global, actions, { nfts }) => {\n  actions.startTransfer({\n    isPortrait: getIsPortrait(),\n    nfts,\n  });\n\n  const isNotcoinVouchers = nfts.some((n) => n.collectionAddress === NOTCOIN_VOUCHERS_ADDRESS);\n\n  setTimeout(() => {\n    actions.submitTransferInitial({\n      tokenSlug: TONCOIN_SLUG,\n      amount: NFT_TRANSFER_TONCOIN_AMOUNT,\n      toAddress: isNotcoinVouchers ? NOTCOIN_EXCHANGERS[0] : BURN_ADDRESS,\n      nftAddresses: nfts.map(({ address }) => address),\n    });\n  }, NBS_INIT_TIMEOUT);\n});\n\naddActionHandler('addNftsToBlacklist', (global, actions, { addresses: nftAddresses }) => {\n  // Force hide NFT - remove it from whitelist and add to blacklist\n  let { blacklistedNftAddresses = [], whitelistedNftAddresses = [] } = selectCurrentAccountState(global) || {};\n  blacklistedNftAddresses = findDifference(blacklistedNftAddresses, nftAddresses);\n  whitelistedNftAddresses = findDifference(whitelistedNftAddresses, nftAddresses);\n\n  return updateCurrentAccountState(global, {\n    blacklistedNftAddresses: [...blacklistedNftAddresses, ...nftAddresses],\n    whitelistedNftAddresses,\n  });\n});\n\naddActionHandler('addNftsToWhitelist', (global, actions, { addresses: nftAddresses }) => {\n  // Force show NFT - remove it from blacklist and add to whitelist\n  let { blacklistedNftAddresses = [], whitelistedNftAddresses = [] } = selectCurrentAccountState(global) || {};\n  blacklistedNftAddresses = findDifference(blacklistedNftAddresses, nftAddresses);\n  whitelistedNftAddresses = findDifference(whitelistedNftAddresses, nftAddresses);\n\n  return updateCurrentAccountState(global, {\n    blacklistedNftAddresses,\n    whitelistedNftAddresses: [...whitelistedNftAddresses, ...nftAddresses],\n  });\n});\n\naddActionHandler('removeNftSpecialStatus', (global, actions, { address: nftAddress }) => {\n  // Stop forcing to show/hide NFT if it was in whitelist/blacklist\n  let { blacklistedNftAddresses = [], whitelistedNftAddresses = [] } = selectCurrentAccountState(global) || {};\n\n  blacklistedNftAddresses = blacklistedNftAddresses.filter((address) => address !== nftAddress);\n  whitelistedNftAddresses = whitelistedNftAddresses.filter((address) => address !== nftAddress);\n\n  return updateCurrentAccountState(global, {\n    blacklistedNftAddresses,\n    whitelistedNftAddresses,\n  });\n});\n\naddActionHandler('openUnhideNftModal', (global, actions, { address, name }) => {\n  return updateCurrentAccountState(global, {\n    isUnhideNftModalOpen: true,\n    selectedNftToUnhide: { address, name },\n  });\n});\n\naddActionHandler('closeUnhideNftModal', (global) => {\n  return updateCurrentAccountState(global, {\n    isUnhideNftModalOpen: undefined,\n    selectedNftToUnhide: undefined,\n  });\n});\n\naddActionHandler('openHideNftModal', (global, actions, { addresses, isCollection }) => {\n  return updateCurrentAccountState(global, {\n    selectedNftsToHide: { addresses, isCollection },\n  });\n});\n\naddActionHandler('closeHideNftModal', (global) => {\n  return updateCurrentAccountState(global, {\n    selectedNftsToHide: undefined,\n  });\n});\n","import type { ApiTransactionError } from '../../../api/types';\nimport { StakingState } from '../../types';\n\nimport {\n  IS_CAPACITOR, MIN_BALANCE_FOR_UNSTAKE, TONCOIN_SLUG,\n} from '../../../config';\nimport { vibrateOnSuccess } from '../../../util/capacitor';\nimport { callActionInMain } from '../../../util/multitab';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearIsPinAccepted,\n  clearStaking,\n  setIsPinAccepted,\n  updateAccountState,\n  updateStaking,\n} from '../../reducers';\nimport { selectAccount, selectAccountState } from '../../selectors';\n\naddActionHandler('startStaking', (global, actions, payload) => {\n  const isOpen = global.staking.state !== StakingState.None;\n  if (IS_DELEGATED_BOTTOM_SHEET && !isOpen) {\n    callActionInMain('startStaking', payload);\n    return;\n  }\n\n  const { isUnstaking } = payload || {};\n\n  const accountState = selectAccountState(global, global.currentAccountId!);\n  const balance = accountState?.balances?.bySlug[TONCOIN_SLUG] ?? 0n;\n  const isNotEnoughBalance = balance < MIN_BALANCE_FOR_UNSTAKE;\n\n  const state = isUnstaking\n    ? isNotEnoughBalance\n      ? StakingState.NotEnoughBalance\n      : StakingState.UnstakeInitial\n    : StakingState.StakeInitial;\n\n  setGlobal(updateStaking(global, {\n    state,\n    error: undefined,\n  }));\n});\n\naddActionHandler('fetchStakingFee', async (global, actions, payload) => {\n  const { amount } = payload;\n  const { currentAccountId } = global;\n\n  if (!currentAccountId) {\n    return;\n  }\n\n  const result = await callApi(\n    'checkStakeDraft',\n    currentAccountId,\n    amount!,\n  );\n  if (!result || 'error' in result) {\n    return;\n  }\n\n  global = getGlobal();\n  global = updateStaking(global, {\n    fee: result.fee,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('submitStakingInitial', async (global, actions, payload) => {\n  const { isUnstaking, amount } = payload ?? {};\n  const { currentAccountId } = global;\n\n  if (!currentAccountId) {\n    return;\n  }\n\n  setGlobal(updateStaking(global, { isLoading: true, error: undefined }));\n\n  if (isUnstaking) {\n    const result = await callApi('checkUnstakeDraft', currentAccountId, amount!);\n    global = getGlobal();\n    global = updateStaking(global, { isLoading: false });\n\n    if (result) {\n      if ('error' in result) {\n        global = updateStaking(global, { error: result.error });\n      } else {\n        const account = selectAccount(global, currentAccountId)!;\n        if (account.isHardware) {\n          actions.resetHardwareWalletConnect();\n          global = updateStaking(getGlobal(), { state: StakingState.UnstakeConnectHardware });\n        } else {\n          global = updateStaking(global, { state: StakingState.UnstakePassword });\n        }\n\n        global = updateStaking(global, {\n          fee: result.fee,\n          amount,\n          error: undefined,\n          type: result.type,\n          tokenAmount: result.tokenAmount,\n        });\n      }\n    }\n  } else {\n    const result = await callApi(\n      'checkStakeDraft',\n      currentAccountId,\n      amount!,\n    );\n    global = getGlobal();\n    global = updateStaking(global, { isLoading: false });\n\n    if (result) {\n      if ('error' in result) {\n        global = updateStaking(global, { error: result.error });\n      } else {\n        const account = selectAccount(global, currentAccountId)!;\n        if (account.isHardware) {\n          actions.resetHardwareWalletConnect();\n          global = updateStaking(getGlobal(), { state: StakingState.StakeConnectHardware });\n        } else {\n          global = updateStaking(global, { state: StakingState.StakePassword });\n        }\n\n        global = updateStaking(global, {\n          fee: result.fee,\n          amount,\n          error: undefined,\n          type: result.type,\n        });\n      }\n    }\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('submitStakingPassword', async (global, actions, payload) => {\n  const { password, isUnstaking } = payload;\n  const {\n    fee,\n    type,\n    amount,\n    tokenAmount,\n  } = global.staking;\n  const { currentAccountId } = global;\n\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateStaking(getGlobal(), { error: 'Wrong password, please try again.' }));\n\n    return;\n  }\n\n  global = getGlobal();\n\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n\n  global = updateStaking(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  global = getGlobal();\n\n  if (isUnstaking) {\n    const { instantAvailable } = global.stakingInfo.liquid ?? {};\n    const stakingBalance = selectAccountState(global, currentAccountId!)!.staking!.balance;\n\n    const unstakeAmount = type === 'nominators' ? stakingBalance : tokenAmount!;\n    const result = await callApi(\n      'submitUnstake',\n      global.currentAccountId!,\n      password,\n      type!,\n      unstakeAmount,\n      fee,\n    );\n\n    const isLongUnstakeRequested = Boolean(\n      type === 'nominators' || (type === 'liquid' && instantAvailable && instantAvailable < stakingBalance),\n    );\n\n    global = getGlobal();\n    global = updateAccountState(global, currentAccountId!, { isLongUnstakeRequested });\n    global = updateStaking(global, { isLoading: false });\n    setGlobal(global);\n\n    if (!result) {\n      actions.showDialog({\n        message: 'Unstaking was unsuccessful. Try again later.',\n      });\n      global = getGlobal();\n\n      if (IS_CAPACITOR) {\n        global = clearIsPinAccepted(global);\n      }\n    } else {\n      global = getGlobal();\n      global = updateStaking(global, { state: StakingState.UnstakeComplete });\n    }\n  } else {\n    const result = await callApi(\n      'submitStake',\n      global.currentAccountId!,\n      password,\n      amount!,\n      type!,\n      fee,\n    );\n\n    global = getGlobal();\n    global = updateStaking(global, { isLoading: false });\n    setGlobal(global);\n\n    if (!result) {\n      actions.showDialog({\n        message: 'Staking was unsuccessful. Try again later.',\n      });\n\n      global = getGlobal();\n      if (IS_CAPACITOR) {\n        global = clearIsPinAccepted(global);\n      }\n    } else {\n      global = getGlobal();\n      global = updateStaking(global, { state: StakingState.StakeComplete });\n    }\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('submitStakingHardware', async (global, actions, payload) => {\n  const { isUnstaking } = payload || {};\n  const {\n    fee,\n    amount,\n    type,\n    tokenAmount,\n  } = global.staking;\n  const { currentAccountId } = global;\n\n  global = updateStaking(global, {\n    isLoading: true,\n    error: undefined,\n    state: StakingState.StakeConfirmHardware,\n  });\n  setGlobal(global);\n\n  const ledgerApi = await import('../../../util/ledger');\n  global = getGlobal();\n\n  let result: string | { error: ApiTransactionError } | undefined;\n  const accountId = global.currentAccountId!;\n\n  if (isUnstaking) {\n    const { instantAvailable } = global.stakingInfo.liquid ?? {};\n    const stakingBalance = selectAccountState(global, currentAccountId!)!.staking!.balance;\n    const unstakeAmount = type === 'nominators' ? stakingBalance : tokenAmount!;\n\n    result = await ledgerApi.submitLedgerUnstake(accountId, type!, unstakeAmount);\n\n    const isLongUnstakeRequested = Boolean(\n      type === 'nominators' || (type === 'liquid' && instantAvailable && instantAvailable < stakingBalance),\n    );\n\n    global = getGlobal();\n    global = updateAccountState(global, currentAccountId!, { isLongUnstakeRequested });\n    setGlobal(global);\n  } else {\n    result = await ledgerApi.submitLedgerStake(\n      accountId,\n      amount!,\n      type!,\n      fee,\n    );\n  }\n\n  global = getGlobal();\n  global = updateStaking(global, { isLoading: false });\n  setGlobal(global);\n\n  if (!result) {\n    actions.showDialog({\n      message: isUnstaking\n        ? 'Unstaking was unsuccessful. Try again later.'\n        : 'Staking was unsuccessful. Try again later.',\n    });\n  } else if (typeof result !== 'string' && 'error' in result) {\n    actions.showError({ error: result.error });\n  } else {\n    global = getGlobal();\n    global = updateStaking(global, {\n      state: isUnstaking ? StakingState.UnstakeComplete : StakingState.StakeComplete,\n    });\n    setGlobal(global);\n  }\n});\n\naddActionHandler('clearStakingError', (global) => {\n  setGlobal(updateStaking(global, { error: undefined }));\n});\n\naddActionHandler('cancelStaking', (global) => {\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n\n  global = clearStaking(global);\n  setGlobal(global);\n});\n\naddActionHandler('setStakingScreen', (global, actions, payload) => {\n  const { state } = payload;\n\n  setGlobal(updateStaking(global, { state }));\n});\n\naddActionHandler('fetchStakingHistory', async (global, actions, payload) => {\n  const { limit, offset } = payload ?? {};\n  const stakingHistory = await callApi('getStakingHistory', global.currentAccountId!, limit, offset);\n\n  if (!stakingHistory) {\n    return;\n  }\n\n  global = getGlobal();\n  global = updateAccountState(global, global.currentAccountId!, { stakingHistory }, true);\n  setGlobal(global);\n});\n\naddActionHandler('openStakingInfo', (global) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('openStakingInfo');\n    return;\n  }\n\n  global = { ...global, isStakingInfoModalOpen: true };\n  setGlobal(global);\n});\n\naddActionHandler('closeStakingInfo', (global) => {\n  global = { ...global, isStakingInfoModalOpen: undefined };\n  setGlobal(global);\n});\n","import type {\n  AssetPairs,\n  GlobalState,\n} from '../../types';\nimport {\n  ApiCommonError,\n  type ApiSwapBuildRequest,\n  type ApiSwapHistoryItem,\n  type ApiSwapPairAsset,\n} from '../../../api/types';\nimport {\n  ActiveTab,\n  SwapErrorType,\n  SwapFeeSource,\n  SwapInputSource,\n  SwapState,\n  SwapType,\n} from '../../types';\n\nimport {\n  DEFAULT_FEE, DEFAULT_SWAP_SECOND_TOKEN_SLUG, IS_CAPACITOR, TONCOIN_SLUG,\n} from '../../../config';\nimport { Big } from '../../../lib/big.js';\nimport { vibrateOnError, vibrateOnSuccess } from '../../../util/capacitor';\nimport {\n  fromDecimal, getIsPositiveDecimal, roundDecimal, toDecimal,\n} from '../../../util/decimals';\nimport generateUniqueId from '../../../util/generateUniqueId';\nimport { buildCollectionByKey, pick } from '../../../util/iteratees';\nimport { callActionInMain, callActionInNative } from '../../../util/multitab';\nimport { pause } from '../../../util/schedulers';\nimport { buildSwapId } from '../../../util/swap/buildSwapId';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../..';\nimport {\n  clearCurrentSwap,\n  clearIsPinAccepted,\n  setIsPinAccepted,\n  updateAccountState,\n  updateCurrentSwap,\n} from '../../reducers';\nimport {\n  selectAccount, selectAccountState, selectCurrentAccount, selectCurrentToncoinBalance,\n} from '../../selectors';\n\nimport { getIsPortrait } from '../../../hooks/useDeviceScreen';\n\nconst PAIRS_CACHE: Record<string, { data: ApiSwapPairAsset[]; timestamp: number }> = {};\n\nconst CACHE_DURATION = 15 * 60 * 1000; // 15 minutes\nconst WAIT_FOR_CHANGELLY = 5 * 1000;\nconst CLOSING_BOTTOM_SHEET_DURATION = 100; // Like in `useDelegatingBottomSheet`\nlet isEstimateSwapBeingExecuted = false;\nlet isEstimateCexSwapBeingExecuted = false;\n\nconst SERVER_ERRORS_MAP = {\n  'Insufficient liquidity': SwapErrorType.NotEnoughLiquidity,\n  'Tokens must be different': SwapErrorType.InvalidPair,\n  'Asset not found': SwapErrorType.InvalidPair,\n  'Too small amount': SwapErrorType.TooSmallAmount,\n};\n\nfunction buildSwapBuildRequest(global: GlobalState): ApiSwapBuildRequest {\n  const {\n    dexLabel,\n    amountIn,\n    amountOut,\n    amountOutMin,\n    tokenInSlug,\n    tokenOutSlug,\n    slippage,\n    networkFee,\n    swapFee,\n  } = global.currentSwap;\n\n  const tokenIn = global.swapTokenInfo!.bySlug[tokenInSlug!];\n  const tokenOut = global.swapTokenInfo!.bySlug[tokenOutSlug!];\n  const from = tokenIn.slug === TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract!;\n  const to = tokenOut.slug === TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract!;\n  const fromAmount = amountIn!;\n  const toAmount = amountOut!;\n  const account = selectAccount(global, global.currentAccountId!);\n  const shouldTryDiesel = networkFee\n    ? selectCurrentToncoinBalance(global) < (fromDecimal(networkFee) + DEFAULT_FEE)\n    && global.currentSwap.dieselStatus === 'available'\n    : undefined;\n\n  return {\n    from,\n    to,\n    fromAmount,\n    toAmount,\n    toMinAmount: amountOutMin!,\n    slippage,\n    fromAddress: account?.address!,\n    dexLabel: dexLabel!,\n    networkFee: networkFee!,\n    swapFee: swapFee!,\n    shouldTryDiesel,\n  };\n}\n\naddActionHandler('startSwap', async (global, actions, payload) => {\n  const isOpen = global.currentSwap.state !== SwapState.None;\n  if (IS_DELEGATING_BOTTOM_SHEET && isOpen) {\n    callActionInNative('cancelSwap');\n    await pause(CLOSING_BOTTOM_SHEET_DURATION);\n    global = getGlobal();\n  }\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('startSwap', payload);\n    return;\n  }\n\n  const {\n    state, tokenInSlug, tokenOutSlug, amountIn, toAddress,\n  } = payload ?? {};\n  const isPortrait = getIsPortrait();\n\n  if (tokenInSlug || tokenOutSlug || amountIn || toAddress) {\n    const tokenIn = global.swapTokenInfo?.bySlug[tokenInSlug!];\n    const tokenOut = global.swapTokenInfo?.bySlug[tokenOutSlug!];\n\n    const isCrosschain = tokenIn?.blockchain !== 'ton' || tokenOut?.blockchain !== 'ton';\n    const isToTon = tokenOut?.blockchain === 'ton';\n\n    const swapType = isCrosschain\n      ? (isToTon ? SwapType.CrosschainToToncoin : SwapType.CrosschainFromToncoin)\n      : SwapType.OnChain;\n\n    global = updateCurrentSwap(global, {\n      ...payload,\n      isEstimating: true,\n      shouldEstimate: true,\n      inputSource: SwapInputSource.In,\n      swapType,\n    });\n  }\n\n  const requiredState = state || (isPortrait ? SwapState.Initial : SwapState.None);\n\n  global = updateCurrentSwap(global, {\n    state: requiredState,\n    swapId: generateUniqueId(),\n  });\n  setGlobal(global);\n\n  if (!isPortrait) {\n    actions.setLandscapeActionsActiveTabIndex({ index: ActiveTab.Swap });\n  }\n});\n\naddActionHandler('setDefaultSwapParams', (global, actions, payload) => {\n  const { tokenInSlug: requiredTokenInSlug, tokenOutSlug: requiredTokenOutSlug } = payload ?? {};\n\n  global = updateCurrentSwap(global, {\n    tokenInSlug: requiredTokenInSlug ?? TONCOIN_SLUG,\n    tokenOutSlug: requiredTokenOutSlug ?? DEFAULT_SWAP_SECOND_TOKEN_SLUG,\n    priceImpact: 0,\n    transactionFee: '0',\n    swapFee: '0',\n    networkFee: 0,\n    amountOutMin: '0',\n    inputSource: SwapInputSource.In,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('cancelSwap', (global, actions, { shouldReset } = {}) => {\n  if (shouldReset) {\n    const {\n      tokenInSlug, tokenOutSlug, pairs, swapType,\n    } = global.currentSwap;\n\n    global = clearCurrentSwap(global);\n    global = updateCurrentSwap(global, {\n      tokenInSlug,\n      tokenOutSlug,\n      priceImpact: 0,\n      transactionFee: '0',\n      swapFee: '0',\n      networkFee: 0,\n      realNetworkFee: 0,\n      amountOutMin: '0',\n      inputSource: SwapInputSource.In,\n      swapType,\n      pairs,\n    });\n\n    setGlobal(global);\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n  global = updateCurrentSwap(global, {\n    state: SwapState.None,\n    swapId: undefined,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('submitSwap', async (global, actions, { password }) => {\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateCurrentSwap(\n      getGlobal(),\n      { error: 'Wrong password, please try again.' },\n    ));\n\n    return;\n  }\n\n  global = getGlobal();\n  const currentSwapId = global.currentSwap.swapId;\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n  global = updateCurrentSwap(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  const swapBuildRequest = buildSwapBuildRequest(global);\n  const buildResult = await callApi(\n    'swapBuildTransfer', global.currentAccountId!, password, swapBuildRequest,\n  );\n\n  if (!buildResult || 'error' in buildResult) {\n    actions.showError({ error: buildResult?.error });\n    global = getGlobal();\n    if (IS_CAPACITOR) {\n      global = clearIsPinAccepted(global);\n      void vibrateOnError();\n    }\n    global = updateCurrentSwap(global, {\n      isLoading: false,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  const swapHistoryItem: ApiSwapHistoryItem = {\n    id: buildResult.id,\n    timestamp: Date.now(),\n    status: 'pending',\n    from: swapBuildRequest.from,\n    fromAmount: swapBuildRequest.fromAmount,\n    to: swapBuildRequest.to,\n    toAmount: swapBuildRequest.toAmount,\n    networkFee: global.currentSwap.networkFee!,\n    swapFee: global.currentSwap.swapFee!,\n    txIds: [],\n  };\n\n  const result = await callApi(\n    'swapSubmit',\n    global.currentAccountId!,\n    password,\n    buildResult.transfers,\n    swapHistoryItem,\n    swapBuildRequest.shouldTryDiesel,\n  );\n\n  global = getGlobal();\n\n  if (!result || 'error' in result) {\n    global = updateCurrentSwap(global, {\n      isLoading: false,\n    });\n    if (IS_CAPACITOR) {\n      global = clearIsPinAccepted(global);\n      void vibrateOnError();\n    }\n    setGlobal(global);\n    actions.showError({ error: result?.error });\n    return;\n  }\n\n  if (currentSwapId !== global.currentSwap.swapId) {\n    setGlobal(global);\n    return;\n  }\n\n  global = updateCurrentSwap(global, {\n    tokenInSlug: undefined,\n    tokenOutSlug: undefined,\n    amountIn: undefined,\n    amountOut: undefined,\n    isLoading: false,\n    state: SwapState.Complete,\n    activityId: buildSwapId(buildResult.id),\n  });\n  setGlobal(global);\n  if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n});\n\naddActionHandler('submitSwapCexFromToncoin', async (global, actions, { password }) => {\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateCurrentSwap(\n      getGlobal(),\n      { error: 'Wrong password, please try again.' },\n    ));\n\n    return;\n  }\n\n  global = getGlobal();\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n  global = updateCurrentSwap(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  const swapBuildRequest = buildSwapBuildRequest(global);\n  const swapItem = await callApi(\n    'swapCexCreateTransaction',\n    global.currentAccountId!,\n    password,\n    {\n      ...pick(swapBuildRequest, ['from', 'fromAmount', 'fromAddress', 'to', 'swapFee', 'networkFee']),\n      toAddress: global.currentSwap.toAddress!,\n    },\n  );\n\n  if (!swapItem) {\n    global = updateCurrentSwap(global, {\n      isLoading: false,\n    });\n    if (IS_CAPACITOR) {\n      global = clearIsPinAccepted(global);\n      void vibrateOnError();\n    }\n    setGlobal(global);\n    actions.showError({ error: ApiCommonError.Unexpected });\n    return;\n  }\n\n  global = getGlobal();\n\n  const asset = global.swapTokenInfo.bySlug[global.currentSwap.tokenInSlug!];\n\n  const transferOptions = {\n    password,\n    accountId: global.currentAccountId!,\n    slug: global.currentSwap.tokenInSlug!,\n    fee: fromDecimal(swapItem.swap.swapFee, asset.decimals), // TODO\n    ...swapItem.transfer!,\n  };\n\n  await pause(WAIT_FOR_CHANGELLY);\n\n  const result = await callApi('submitTransfer', transferOptions, false);\n\n  global = getGlobal();\n\n  if (!result || 'error' in result) {\n    global = updateCurrentSwap(global, {\n      isLoading: false,\n    });\n    if (IS_CAPACITOR) {\n      global = clearIsPinAccepted(global);\n      void vibrateOnError();\n    }\n    setGlobal(global);\n    actions.showError({ error: result?.error });\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentSwap(global, {\n    tokenInSlug: undefined,\n    tokenOutSlug: undefined,\n    amountIn: undefined,\n    amountOut: undefined,\n    isLoading: false,\n    state: SwapState.Complete,\n    activityId: swapItem.activity.id,\n  });\n  setGlobal(global);\n  if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n});\n\naddActionHandler('submitSwapCexToToncoin', async (global, actions, { password }) => {\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateCurrentSwap(\n      getGlobal(),\n      { error: 'Wrong password, please try again.' },\n    ));\n\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentSwap(global, {\n    isLoading: true,\n    error: undefined,\n  });\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n    global = getGlobal();\n  }\n\n  const swapBuildRequest = buildSwapBuildRequest(global);\n  const swapItem = await callApi(\n    'swapCexCreateTransaction',\n    global.currentAccountId!,\n    password,\n    {\n      ...pick(swapBuildRequest, ['from', 'fromAmount', 'fromAddress', 'to', 'swapFee', 'networkFee']),\n      toAddress: swapBuildRequest.fromAddress,\n    },\n  );\n\n  global = getGlobal();\n\n  if (!swapItem) {\n    global = updateCurrentSwap(global, {\n      isLoading: false,\n    });\n    if (IS_CAPACITOR) {\n      global = clearIsPinAccepted(global);\n      void vibrateOnError();\n    }\n    setGlobal(global);\n    actions.showError({ error: ApiCommonError.Unexpected });\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentSwap(global, {\n    isLoading: false,\n    state: SwapState.WaitTokens,\n    payinAddress: swapItem.swap.cex!.payinAddress,\n    payinExtraId: swapItem.swap.cex!.payinExtraId,\n    activityId: swapItem.activity.id,\n  });\n  setGlobal(global);\n  if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n});\n\naddActionHandler('switchSwapTokens', (global) => {\n  const {\n    tokenInSlug, tokenOutSlug, amountIn, amountOut, swapType,\n  } = global.currentSwap;\n\n  const newSwapType = swapType === SwapType.OnChain\n    ? SwapType.OnChain\n    : swapType === SwapType.CrosschainFromToncoin\n      ? SwapType.CrosschainToToncoin\n      : SwapType.CrosschainFromToncoin;\n\n  global = updateCurrentSwap(global, {\n    amountIn: amountOut,\n    amountOut: amountIn,\n    tokenInSlug: tokenOutSlug,\n    tokenOutSlug: tokenInSlug,\n    inputSource: SwapInputSource.In,\n    swapType: newSwapType,\n    isEstimating: true,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapTokenIn', (global, actions, { tokenSlug }) => {\n  const { amountIn, amountOut } = global.currentSwap;\n  const isFilled = Boolean(amountIn || amountOut);\n  const newTokenIn = global.swapTokenInfo!.bySlug[tokenSlug!];\n  const amount = amountIn ? roundDecimal(amountIn, newTokenIn.decimals) : amountIn;\n\n  global = updateCurrentSwap(global, {\n    amountIn: amount === '0' ? undefined : amount,\n    tokenInSlug: tokenSlug,\n    isEstimating: isFilled,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapTokenOut', (global, actions, { tokenSlug }) => {\n  const { amountIn, amountOut } = global.currentSwap;\n  const isFilled = Boolean(amountIn || amountOut);\n  const newTokenOut = global.swapTokenInfo!.bySlug[tokenSlug!];\n  const amount = amountOut ? roundDecimal(amountOut, newTokenOut.decimals) : amountOut;\n\n  global = updateCurrentSwap(global, {\n    amountOut: amount === '0' ? undefined : amount,\n    tokenOutSlug: tokenSlug,\n    isEstimating: isFilled,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapAmountIn', (global, actions, { amount }) => {\n  const isEstimating = Boolean(amount && getIsPositiveDecimal(amount));\n\n  global = updateCurrentSwap(global, {\n    amountIn: amount,\n    inputSource: SwapInputSource.In,\n    isEstimating,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapAmountOut', (global, actions, { amount }) => {\n  const isEstimating = Boolean(amount && getIsPositiveDecimal(amount));\n\n  global = updateCurrentSwap(global, {\n    amountOut: amount,\n    inputSource: SwapInputSource.Out,\n    isEstimating,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSlippage', (global, actions, { slippage }) => {\n  global = updateCurrentSwap(global, {\n    slippage,\n    isEstimating: true,\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('estimateSwap', async (global, actions, { shouldBlock, isEnoughToncoin }) => {\n  if (isEstimateSwapBeingExecuted) return;\n\n  isEstimateSwapBeingExecuted = true;\n  const resetParams = {\n    amountOutMin: '0',\n    transactionFee: '0',\n    swapFee: '0',\n    networkFee: 0,\n    realNetworkFee: 0,\n    priceImpact: 0,\n    errorType: undefined,\n    isEstimating: false,\n  };\n\n  global = updateCurrentSwap(global, {\n    shouldEstimate: false,\n  });\n\n  // Check for empty string\n  if ((global.currentSwap.amountIn === undefined && global.currentSwap.inputSource === SwapInputSource.In)\n      || (global.currentSwap.amountOut === undefined && global.currentSwap.inputSource === SwapInputSource.Out)) {\n    global = updateCurrentSwap(global, {\n      amountIn: undefined,\n      amountOut: undefined,\n      ...resetParams,\n    });\n    setGlobal(global);\n    isEstimateSwapBeingExecuted = false;\n    return;\n  }\n\n  const pairsBySlug = global.currentSwap.pairs?.bySlug ?? {};\n  const canSwap = global.currentSwap.tokenOutSlug! in pairsBySlug;\n\n  // Check for invalid pair\n  if (!canSwap) {\n    const amount = global.currentSwap.inputSource === SwapInputSource.In\n      ? { amountOut: undefined }\n      : { amountIn: undefined };\n\n    global = updateCurrentSwap(global, {\n      ...amount,\n      ...resetParams,\n      errorType: SwapErrorType.InvalidPair,\n    });\n    setGlobal(global);\n    isEstimateSwapBeingExecuted = false;\n    return;\n  }\n\n  global = updateCurrentSwap(global, {\n    isEstimating: shouldBlock,\n  });\n  setGlobal(global);\n\n  const tokenIn = global.swapTokenInfo!.bySlug[global.currentSwap.tokenInSlug!];\n  const tokenOut = global.swapTokenInfo!.bySlug[global.currentSwap.tokenOutSlug!];\n\n  const from = tokenIn.slug === TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract!;\n  const to = tokenOut.slug === TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract!;\n  const fromAmount = global.currentSwap.amountIn ?? '0';\n  const toAmount = global.currentSwap.amountOut ?? '0';\n  const fromAddress = selectCurrentAccount(global)!.address;\n\n  const estimateAmount = global.currentSwap.inputSource === SwapInputSource.In ? { fromAmount } : { toAmount };\n\n  const shouldTryDiesel = isEnoughToncoin === false;\n\n  const estimate = await callApi('swapEstimate', {\n    ...estimateAmount,\n    from,\n    to,\n    slippage: global.currentSwap.slippage,\n    fromAddress,\n    shouldTryDiesel,\n  });\n\n  isEstimateSwapBeingExecuted = false;\n  global = getGlobal();\n\n  if (!estimate || 'error' in estimate) {\n    const errorType = estimate?.error && estimate?.error in SERVER_ERRORS_MAP\n      ? SERVER_ERRORS_MAP[estimate.error as keyof typeof SERVER_ERRORS_MAP]\n      : SwapErrorType.UnexpectedError;\n\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n      errorType,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  // Check for outdated response\n  if (\n    (global.currentSwap.inputSource === SwapInputSource.In\n        && global.currentSwap.amountIn !== estimate.fromAmount)\n    || (global.currentSwap.inputSource === SwapInputSource.Out\n        && global.currentSwap.amountOut !== estimate.toAmount)\n  ) {\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  const errorType = estimate.toAmount === '0' && shouldTryDiesel\n    ? SwapErrorType.NotEnoughForFee\n    : undefined;\n\n  global = updateCurrentSwap(global, {\n    ...(\n      global.currentSwap.inputSource === SwapInputSource.In\n        ? { amountOut: estimate.toAmount }\n        : { amountIn: estimate.fromAmount }\n    ),\n    amountOutMin: estimate.toMinAmount,\n    swapFee: estimate.swapFee,\n    priceImpact: estimate.impact,\n    dexLabel: estimate.dexLabel,\n    feeSource: SwapFeeSource.In,\n    isEstimating: false,\n    errorType,\n    dieselStatus: estimate.dieselStatus,\n    networkFee: estimate.networkFee,\n    realNetworkFee: estimate.realNetworkFee,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('estimateSwapCex', async (global, actions, { shouldBlock }) => {\n  if (isEstimateCexSwapBeingExecuted) return;\n\n  isEstimateCexSwapBeingExecuted = true;\n  const amount = global.currentSwap.inputSource === SwapInputSource.In\n    ? { amountOut: undefined }\n    : { amountIn: undefined };\n\n  const resetParams = {\n    ...amount,\n    amountOutMin: '0',\n    transactionFee: '0',\n    swapFee: '0',\n    networkFee: 0,\n    realNetworkFee: 0,\n    priceImpact: 0,\n    errorType: undefined,\n    isEstimating: false,\n  };\n\n  global = updateCurrentSwap(global, {\n    shouldEstimate: false,\n    transactionFee: '0',\n    swapFee: '0',\n    networkFee: 0,\n    priceImpact: 0,\n  });\n\n  // Check for empty string\n  if ((global.currentSwap.amountIn === undefined && global.currentSwap.inputSource === SwapInputSource.In)\n      || (global.currentSwap.amountOut === undefined && global.currentSwap.inputSource === SwapInputSource.Out)) {\n    global = updateCurrentSwap(global, {\n      amountIn: undefined,\n      amountOut: undefined,\n      ...resetParams,\n    });\n    setGlobal(global);\n    isEstimateCexSwapBeingExecuted = false;\n    return;\n  }\n\n  const pairsBySlug = global.currentSwap.pairs?.bySlug ?? {};\n  const canSwap = global.currentSwap.tokenOutSlug! in pairsBySlug;\n\n  // Check for invalid pair\n  if (!canSwap) {\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n      errorType: SwapErrorType.InvalidPair,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  global = updateCurrentSwap(global, {\n    isEstimating: shouldBlock,\n  });\n  setGlobal(global);\n\n  const tokenIn = global.swapTokenInfo!.bySlug[global.currentSwap.tokenInSlug!];\n  const tokenOut = global.swapTokenInfo!.bySlug[global.currentSwap.tokenOutSlug!];\n\n  const from = tokenIn.slug === TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract!;\n  const to = tokenOut.slug === TONCOIN_SLUG ? tokenOut.symbol : tokenOut.contract!;\n  const fromAmount = global.currentSwap.amountIn ?? '0';\n\n  const estimate = await callApi('swapCexEstimate', {\n    fromAmount,\n    from,\n    to,\n  });\n\n  global = getGlobal();\n  isEstimateCexSwapBeingExecuted = false;\n\n  if (!estimate || 'errors' in estimate) {\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n      errorType: window.navigator.onLine ? SwapErrorType.InvalidPair : SwapErrorType.UnexpectedError,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  if ('errors' in estimate) {\n    global = updateCurrentSwap(global, { ...resetParams, errorType: SwapErrorType.UnexpectedError });\n    setGlobal(global);\n    return;\n  }\n\n  if ('error' in estimate) {\n    const { error } = estimate as { error: string };\n    if (error.includes('requests limit')) return;\n\n    if (error.includes('Invalid amount')) {\n      const [, mode, matchedAmount] = error.match(/(Maximum|Minimal) amount is ([\\d.]+) .*/) || [];\n      if (mode && matchedAmount) {\n        const isLessThanMin = mode === 'Minimal';\n        global = updateCurrentSwap(global, {\n          ...resetParams,\n          limits: isLessThanMin ? { fromMin: matchedAmount } : { fromMax: matchedAmount },\n          errorType: isLessThanMin ? SwapErrorType.ChangellyMinSwap : SwapErrorType.ChangellyMaxSwap,\n        });\n        setGlobal(global);\n        return;\n      }\n    }\n\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n      errorType: SwapErrorType.UnexpectedError,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  const isLessThanMin = Big(fromAmount).lt(estimate.fromMin);\n  const isBiggerThanMax = Big(fromAmount).gt(estimate.fromMax);\n\n  if (isLessThanMin || isBiggerThanMax) {\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n      limits: {\n        fromMin: estimate.fromMin,\n        fromMax: estimate.fromMax,\n      },\n      errorType: isLessThanMin ? SwapErrorType.ChangellyMinSwap : SwapErrorType.ChangellyMaxSwap,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  // Check for outdated response\n  if (\n    (global.currentSwap.inputSource === SwapInputSource.In\n          && global.currentSwap.amountIn !== estimate.fromAmount)\n      || (global.currentSwap.inputSource === SwapInputSource.Out\n          && global.currentSwap.amountOut !== estimate.toAmount)\n  ) {\n    global = updateCurrentSwap(global, {\n      ...resetParams,\n    });\n    setGlobal(global);\n    return;\n  }\n\n  let networkFee = 0;\n\n  if (global.currentSwap.swapType === SwapType.CrosschainFromToncoin) {\n    const account = global.accounts?.byId[global.currentAccountId!];\n\n    const txDraft = await callApi('checkTransactionDraft', {\n      accountId: global.currentAccountId!,\n      toAddress: account?.address!,\n      amount: fromDecimal(global.currentSwap.amountIn ?? 0, tokenIn.decimals),\n    });\n    networkFee = Number(toDecimal(txDraft?.fee ?? 0n));\n  }\n\n  global = getGlobal();\n\n  global = updateCurrentSwap(global, {\n    amountOut: estimate.toAmount === '0' ? undefined : estimate.toAmount,\n    limits: {\n      fromMin: estimate.fromMin,\n      fromMax: estimate.fromMax,\n    },\n    swapFee: estimate.swapFee,\n    networkFee,\n    realNetworkFee: networkFee,\n    amountOutMin: estimate.toAmount,\n    isEstimating: false,\n    errorType: undefined,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapScreen', (global, actions, { state }) => {\n  if (state === SwapState.Initial) {\n    global = updateCurrentSwap(global, { swapId: generateUniqueId() });\n  }\n  global = updateCurrentSwap(global, { state });\n  setGlobal(global);\n});\n\naddActionHandler('clearSwapError', (global) => {\n  global = updateCurrentSwap(global, { error: undefined });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapType', (global, actions, { type }) => {\n  global = updateCurrentSwap(global, { swapType: type });\n  setGlobal(global);\n});\n\naddActionHandler('loadSwapPairs', async (global, actions, { tokenSlug, shouldForceUpdate }) => {\n  const tokenIn = global.swapTokenInfo?.bySlug[tokenSlug];\n  if (!tokenIn) {\n    return;\n  }\n\n  const symbolOrMinter = tokenIn.slug === TONCOIN_SLUG ? tokenIn.symbol : tokenIn.contract!;\n\n  const cache = PAIRS_CACHE[tokenSlug];\n  const isCacheValid = cache && (Date.now() - cache.timestamp <= CACHE_DURATION);\n  if (isCacheValid && !shouldForceUpdate) {\n    return;\n  }\n\n  const pairs = await callApi('swapGetPairs', symbolOrMinter);\n  global = getGlobal();\n\n  if (!pairs) {\n    global = updateCurrentSwap(global, {\n      pairs: {\n        bySlug: {\n          ...global.currentSwap.pairs?.bySlug,\n          [tokenSlug]: {},\n        },\n      },\n    });\n    setGlobal(global);\n    return;\n  }\n\n  const bySlug = pairs.reduce((acc, pair) => {\n    acc[pair.slug] = pair.isReverseProhibited ? {\n      isReverseProhibited: pair.isReverseProhibited,\n    } : {};\n    return acc;\n  }, {} as AssetPairs);\n\n  PAIRS_CACHE[tokenSlug] = { data: pairs, timestamp: Date.now() };\n\n  global = updateCurrentSwap(global, {\n    pairs: {\n      bySlug: {\n        ...global.currentSwap.pairs?.bySlug,\n        [tokenSlug]: bySlug,\n      },\n    },\n    shouldEstimate: true,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setSwapCexAddress', (global, actions, { toAddress }) => {\n  global = updateCurrentSwap(global, { toAddress });\n  setGlobal(global);\n});\n\naddActionHandler('updatePendingSwaps', async (global) => {\n  const accountId = global.currentAccountId;\n  if (!accountId) return;\n\n  let { activities } = selectAccountState(global, accountId) ?? {};\n  if (!activities) return;\n\n  const ids = Object.values(activities.byId)\n    .filter((activity) => activity.kind === 'swap' && activity.status === 'pending')\n    .map(({ id }) => id);\n  if (!ids.length) return;\n\n  const swaps = await callApi('fetchSwaps', accountId, ids);\n  if (!swaps?.length) return;\n\n  global = getGlobal();\n  if (global.currentAccountId !== accountId) return;\n\n  ({ activities } = selectAccountState(global, accountId) ?? {});\n\n  global = updateAccountState(global, accountId, {\n    activities: {\n      ...activities,\n      byId: {\n        ...activities?.byId,\n        ...buildCollectionByKey(swaps, 'id'),\n      },\n    },\n  });\n\n  setGlobal(global);\n});\n","import { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport { updateTokenPriceHistory } from '../../reducers/tokens';\n\naddActionHandler('loadPriceHistory', async (global, actions, payload) => {\n  const { slug, period, currency = global.settings.baseCurrency } = payload ?? {};\n\n  const history = await callApi('fetchPriceHistory', slug, period, currency);\n\n  if (!history) {\n    return;\n  }\n\n  global = getGlobal();\n  global = updateTokenPriceHistory(global, slug, { [period]: history });\n  setGlobal(global);\n});\n","import type { ApiSubmitTransferOptions } from '../../../api/types';\nimport { ApiCommonError } from '../../../api/types';\nimport { VestingUnfreezeState } from '../../types';\n\nimport {\n  CLAIM_ADDRESS,\n  CLAIM_AMOUNT,\n  CLAIM_COMMENT,\n  IS_CAPACITOR,\n  MYCOIN_TOKEN,\n  MYCOIN_TOKEN_TESTNET,\n  TONCOIN_SLUG,\n} from '../../../config';\nimport { vibrateOnError, vibrateOnSuccess } from '../../../util/capacitor';\nimport { callActionInMain } from '../../../util/multitab';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearIsPinAccepted,\n  setIsPinAccepted,\n  updateVesting,\n} from '../../reducers';\nimport { selectTokenAddress, selectVestingPartsReadyToUnfreeze } from '../../selectors';\n\naddActionHandler('submitClaimingVesting', async (global, actions, { password }) => {\n  const accountId = global.currentAccountId!;\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateVesting(getGlobal(), accountId, { error: 'Wrong password, please try again.' }));\n\n    return;\n  }\n  global = getGlobal();\n\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n\n  global = updateVesting(global, accountId, {\n    isLoading: true,\n    error: undefined,\n  });\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('submitClaimingVesting', { password });\n    return;\n  }\n\n  global = getGlobal();\n  const unfreezeRequestedIds = selectVestingPartsReadyToUnfreeze(global, accountId);\n\n  const options: ApiSubmitTransferOptions = {\n    accountId: global.currentAccountId!,\n    password,\n    toAddress: CLAIM_ADDRESS,\n    amount: CLAIM_AMOUNT,\n    comment: CLAIM_COMMENT,\n  };\n  const result = await callApi('submitTransfer', options);\n\n  global = getGlobal();\n  global = updateVesting(global, accountId, { isLoading: false });\n  setGlobal(global);\n\n  if (!result || 'error' in result) {\n    if (IS_CAPACITOR) {\n      global = getGlobal();\n      global = clearIsPinAccepted(global);\n      setGlobal(global);\n      void vibrateOnError();\n    }\n    actions.showError({ error: result?.error });\n    return;\n  } else if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n\n  global = getGlobal();\n  global = updateVesting(global, accountId, {\n    isConfirmRequested: undefined,\n    unfreezeRequestedIds,\n  });\n  setGlobal(global);\n\n  actions.openVestingModal();\n});\n\naddActionHandler('submitClaimingVestingHardware', async (global, actions) => {\n  global = updateVesting(global, global.currentAccountId!, {\n    isLoading: true,\n    error: undefined,\n    unfreezeState: VestingUnfreezeState.ConfirmHardware,\n  });\n  setGlobal(global);\n\n  const ledgerApi = await import('../../../util/ledger');\n  global = getGlobal();\n\n  const accountId = global.currentAccountId!;\n  const tokenAddress = selectTokenAddress(global, TONCOIN_SLUG);\n  const unfreezeRequestedIds = selectVestingPartsReadyToUnfreeze(global, accountId);\n  const options: ApiSubmitTransferOptions = {\n    accountId,\n    password: '',\n    toAddress: CLAIM_ADDRESS,\n    amount: CLAIM_AMOUNT,\n    comment: CLAIM_COMMENT,\n    tokenAddress,\n  };\n\n  const result = await ledgerApi.submitLedgerTransfer(options, TONCOIN_SLUG);\n\n  global = getGlobal();\n  global = updateVesting(global, accountId, { isLoading: false });\n  setGlobal(global);\n\n  if (!result) {\n    actions.showError({ error: ApiCommonError.Unexpected });\n  } else {\n    global = getGlobal();\n    global = updateVesting(global, accountId, {\n      isConfirmRequested: undefined,\n      unfreezeRequestedIds,\n    });\n    setGlobal(global);\n    actions.openVestingModal();\n  }\n});\n\naddActionHandler('loadMycoin', (global, actions) => {\n  const { isTestnet } = global.settings;\n\n  actions.importToken({ address: isTestnet ? MYCOIN_TOKEN_TESTNET : MYCOIN_TOKEN });\n});\n","import type {\n  ApiCheckTransactionDraftResult,\n  ApiSubmitMultiTransferResult,\n  ApiSubmitTransferResult,\n} from '../../../api/blockchains/ton/types';\nimport type {\n  ApiActivity,\n  ApiBaseToken,\n  ApiDappTransfer,\n  ApiSubmitTransferOptions,\n  ApiSwapAsset,\n  ApiToken,\n  ApiTransactionError,\n} from '../../../api/types';\nimport type { UserSwapToken, UserToken } from '../../types';\nimport { ApiTransactionDraftError } from '../../../api/types';\nimport { ActiveTab, TransferState } from '../../types';\n\nimport { IS_CAPACITOR, NFT_BATCH_SIZE, TONCOIN_SLUG } from '../../../config';\nimport { vibrateOnError, vibrateOnSuccess } from '../../../util/capacitor';\nimport { compareActivities } from '../../../util/compareActivities';\nimport { fromDecimal, toDecimal } from '../../../util/decimals';\nimport {\n  buildCollectionByKey, findLast, mapValues, pick, unique,\n} from '../../../util/iteratees';\nimport { callActionInMain, callActionInNative } from '../../../util/multitab';\nimport { onTickEnd, pause } from '../../../util/schedulers';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { ApiHardwareBlindSigningNotEnabled, ApiUserRejectsError } from '../../../api/errors';\nimport { getIsSwapId, getIsTinyOrScamTransaction, getIsTxIdLocal } from '../../helpers';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearCurrentTransfer,\n  clearIsPinAccepted,\n  setIsPinAccepted,\n  updateAccountState,\n  updateActivitiesIsHistoryEndReached,\n  updateActivitiesIsLoading,\n  updateBalances,\n  updateCurrentAccountState,\n  updateCurrentSignature,\n  updateCurrentTransfer,\n  updateCurrentTransferByCheckResult,\n  updateCurrentTransferFee,\n  updateSendingLoading,\n  updateSettings,\n} from '../../reducers';\nimport { updateTokenInfo } from '../../reducers/tokens';\nimport {\n  selectAccount,\n  selectAccountSettings,\n  selectAccountState,\n  selectCurrentAccountState,\n  selectLastTxIds,\n  selectTokenAddress,\n} from '../../selectors';\n\nconst IMPORT_TOKEN_PAUSE = 250;\n\naddActionHandler('startTransfer', (global, actions, payload) => {\n  const isOpen = global.currentTransfer.state !== TransferState.None;\n  if (IS_DELEGATED_BOTTOM_SHEET && !isOpen) {\n    callActionInMain('startTransfer', payload);\n    return;\n  }\n\n  const { isPortrait, ...rest } = payload ?? {};\n\n  setGlobal(updateCurrentTransfer(global, {\n    state: isPortrait ? TransferState.Initial : TransferState.None,\n    error: undefined,\n    ...rest,\n  }));\n\n  if (!isPortrait) {\n    actions.setLandscapeActionsActiveTabIndex({ index: ActiveTab.Transfer });\n  }\n});\n\naddActionHandler('changeTransferToken', (global, actions, { tokenSlug }) => {\n  const { amount, tokenSlug: currentTokenSlug } = global.currentTransfer;\n  const currentToken = currentTokenSlug ? global.tokenInfo.bySlug[currentTokenSlug] : undefined;\n  const newToken = global.tokenInfo.bySlug[tokenSlug];\n\n  if (amount && currentToken?.decimals !== newToken?.decimals) {\n    global = updateCurrentTransfer(global, {\n      amount: fromDecimal(toDecimal(amount, currentToken?.decimals), newToken?.decimals),\n    });\n  }\n\n  setGlobal(updateCurrentTransfer(global, {\n    tokenSlug,\n    dieselStatus: undefined,\n    dieselAmount: undefined,\n    fee: undefined,\n  }));\n});\n\naddActionHandler('setTransferScreen', (global, actions, payload) => {\n  const { state } = payload;\n\n  setGlobal(updateCurrentTransfer(global, { state }));\n});\n\naddActionHandler('setTransferAmount', (global, actions, { amount }) => {\n  setGlobal(\n    updateCurrentTransfer(global, {\n      amount,\n    }),\n  );\n});\n\naddActionHandler('setTransferToAddress', (global, actions, { toAddress }) => {\n  setGlobal(\n    updateCurrentTransfer(global, {\n      toAddress,\n    }),\n  );\n});\n\naddActionHandler('setTransferComment', (global, actions, { comment }) => {\n  setGlobal(\n    updateCurrentTransfer(global, {\n      comment,\n    }),\n  );\n});\n\naddActionHandler('setTransferShouldEncrypt', (global, actions, { shouldEncrypt }) => {\n  setGlobal(\n    updateCurrentTransfer(global, {\n      shouldEncrypt,\n    }),\n  );\n});\n\naddActionHandler('submitTransferInitial', async (global, actions, payload) => {\n  if (IS_DELEGATING_BOTTOM_SHEET) {\n    callActionInNative('submitTransferInitial', payload);\n    return;\n  }\n\n  const {\n    tokenSlug, toAddress, amount, comment, shouldEncrypt, nftAddresses, withDiesel,\n  } = payload;\n\n  setGlobal(updateSendingLoading(global, true));\n\n  let result: ApiCheckTransactionDraftResult | undefined;\n\n  if (nftAddresses?.length) {\n    result = await callApi('checkNftTransferDraft', {\n      accountId: global.currentAccountId!,\n      nftAddresses,\n      toAddress,\n      comment,\n    });\n  } else {\n    const tokenAddress = selectTokenAddress(global, tokenSlug);\n\n    result = await callApi('checkTransactionDraft', {\n      accountId: global.currentAccountId!,\n      tokenAddress,\n      toAddress,\n      amount,\n      data: comment,\n      shouldEncrypt,\n    });\n  }\n\n  global = getGlobal();\n  global = updateSendingLoading(global, false);\n\n  if (!result || 'error' in result) {\n    if (result) {\n      global = updateCurrentTransferByCheckResult(global, result);\n    }\n\n    if (result?.fee) {\n      global = updateCurrentTransferFee(global, result.fee, amount, tokenSlug === TONCOIN_SLUG);\n    }\n\n    setGlobal(global);\n\n    if (result?.error === ApiTransactionDraftError.InsufficientBalance && !nftAddresses?.length) {\n      actions.showDialog({ message: 'The network fee has slightly changed, try sending again.' });\n    } else {\n      actions.showError({ error: result?.error });\n    }\n\n    return;\n  }\n\n  global = updateCurrentTransferFee(global, result.fee, amount, tokenSlug === TONCOIN_SLUG);\n\n  setGlobal(updateCurrentTransfer(global, {\n    state: TransferState.Confirm,\n    error: undefined,\n    toAddress,\n    resolvedAddress: result.resolvedAddress,\n    amount,\n    comment,\n    shouldEncrypt,\n    toAddressName: result.addressName,\n    tokenSlug,\n    isToNewAddress: result.isToAddressNew,\n    isScam: result.isScam,\n    isMemoRequired: result.isMemoRequired,\n    withDiesel,\n  }));\n});\n\naddActionHandler('fetchFee', async (global, actions, payload) => {\n  const {\n    tokenSlug, toAddress, amount, comment, shouldEncrypt, binPayload,\n  } = payload;\n\n  const tokenAddress = selectTokenAddress(global, tokenSlug);\n  const result = await callApi('checkTransactionDraft', {\n    accountId: global.currentAccountId!,\n    toAddress,\n    amount,\n    data: binPayload ?? comment,\n    tokenAddress,\n    shouldEncrypt,\n    isBase64Data: Boolean(binPayload),\n  });\n\n  if (result?.fee) {\n    global = getGlobal();\n    global = updateCurrentTransferFee(global, result.fee, amount, !tokenAddress);\n    setGlobal(global);\n  }\n\n  if (result) {\n    global = getGlobal();\n    global = updateCurrentTransferByCheckResult(global, result);\n  }\n\n  setGlobal(global);\n\n  if (result?.error) {\n    actions.showError({ error: result.error });\n  }\n});\n\naddActionHandler('fetchNftFee', async (global, actions, payload) => {\n  const { toAddress, nftAddresses, comment } = payload;\n\n  global = updateCurrentTransfer(global, { error: undefined });\n  setGlobal(global);\n\n  const result = await callApi('checkNftTransferDraft', {\n    accountId: global.currentAccountId!,\n    nftAddresses,\n    toAddress,\n    comment,\n  });\n\n  if (result?.fee) {\n    global = getGlobal();\n    global = updateCurrentTransfer(global, { fee: result.fee });\n    setGlobal(global);\n  }\n\n  if (result?.error) {\n    actions.showError({\n      error: result?.error === ApiTransactionDraftError.InsufficientBalance\n        ? 'Insufficient TON for fee.'\n        : result.error,\n    });\n  }\n});\n\naddActionHandler('submitTransferConfirm', (global, actions) => {\n  const accountId = global.currentAccountId!;\n  const account = selectAccount(global, accountId)!;\n\n  if (account.isHardware) {\n    actions.resetHardwareWalletConnect();\n    global = updateCurrentTransfer(getGlobal(), { state: TransferState.ConnectHardware });\n  } else {\n    global = updateCurrentTransfer(global, { state: TransferState.Password });\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('submitTransferPassword', async (global, actions, { password }) => {\n  const {\n    resolvedAddress,\n    comment,\n    amount,\n    promiseId,\n    tokenSlug,\n    fee,\n    shouldEncrypt,\n    binPayload,\n    nfts,\n    withDiesel,\n    dieselAmount,\n  } = global.currentTransfer;\n\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateCurrentTransfer(getGlobal(), { error: 'Wrong password, please try again.' }));\n\n    return;\n  }\n\n  global = getGlobal();\n  global = updateCurrentTransfer(getGlobal(), {\n    isLoading: true,\n    error: undefined,\n  });\n  if (IS_CAPACITOR) {\n    global = setIsPinAccepted(global);\n  }\n  setGlobal(global);\n\n  if (IS_CAPACITOR) {\n    await vibrateOnSuccess(true);\n  }\n\n  if (promiseId) {\n    if (IS_CAPACITOR) {\n      global = getGlobal();\n      global = setIsPinAccepted(global);\n      setGlobal(global);\n    }\n\n    void callApi('confirmDappRequest', promiseId, password);\n    return;\n  }\n\n  let result: ApiSubmitTransferResult | ApiSubmitMultiTransferResult | undefined;\n\n  if (nfts?.length) {\n    const chunks = [];\n    for (let i = 0; i < nfts.length; i += NFT_BATCH_SIZE) {\n      chunks.push(nfts.slice(i, i + NFT_BATCH_SIZE));\n    }\n\n    for (const chunk of chunks) {\n      const addresses = chunk.map(({ address }) => address);\n      const batchResult = await callApi(\n        'submitNftTransfers',\n        global.currentAccountId!,\n        password,\n        addresses,\n        resolvedAddress!,\n        comment,\n        chunk,\n        fee,\n      );\n\n      global = getGlobal();\n      global = updateCurrentTransfer(global, {\n        sentNftsCount: (global.currentTransfer.sentNftsCount || 0) + chunk.length,\n      });\n      setGlobal(global);\n      // TODO - process all responses from the API\n      result = batchResult;\n    }\n  } else {\n    const tokenAddress = selectTokenAddress(global, tokenSlug!);\n\n    const options: ApiSubmitTransferOptions = {\n      accountId: global.currentAccountId!,\n      password,\n      toAddress: resolvedAddress!,\n      amount: amount!,\n      comment: binPayload ?? comment,\n      tokenAddress,\n      fee,\n      shouldEncrypt,\n      isBase64Data: Boolean(binPayload),\n      withDiesel,\n      dieselAmount,\n    };\n    result = await callApi('submitTransfer', options);\n  }\n\n  global = getGlobal();\n  global = updateCurrentTransfer(global, {\n    isLoading: false,\n  });\n  setGlobal(global);\n\n  if (!result || 'error' in result) {\n    if (IS_CAPACITOR) {\n      global = getGlobal();\n      global = clearIsPinAccepted(global);\n      setGlobal(global);\n      void vibrateOnError();\n    }\n    actions.showError({ error: result?.error });\n  } else if (IS_CAPACITOR) {\n    void vibrateOnSuccess();\n  }\n});\n\naddActionHandler('submitTransferHardware', async (global, actions) => {\n  const {\n    toAddress,\n    resolvedAddress,\n    comment,\n    amount,\n    promiseId,\n    tokenSlug,\n    fee,\n    rawPayload,\n    parsedPayload,\n    stateInit,\n    nfts,\n  } = global.currentTransfer;\n\n  const accountId = global.currentAccountId!;\n\n  setGlobal(updateCurrentTransfer(getGlobal(), {\n    isLoading: true,\n    error: undefined,\n    state: TransferState.ConfirmHardware,\n  }));\n\n  const ledgerApi = await import('../../../util/ledger');\n\n  if (promiseId) {\n    const message: ApiDappTransfer = {\n      toAddress: toAddress!,\n      amount: amount!,\n      rawPayload,\n      payload: parsedPayload,\n      stateInit,\n    };\n\n    try {\n      const signedMessage = await ledgerApi.signLedgerTransactions(accountId, [message]);\n      void callApi('confirmDappRequest', promiseId, signedMessage);\n    } catch (err) {\n      if (err instanceof ApiUserRejectsError) {\n        setGlobal(updateCurrentTransfer(getGlobal(), {\n          isLoading: false,\n          error: 'Canceled by the user',\n        }));\n      } else {\n        void callApi('cancelDappRequest', promiseId, 'Unknown error.');\n      }\n    }\n    return;\n  }\n\n  let result: string | { error: ApiTransactionError } | undefined;\n  let error: string | undefined;\n\n  if (nfts?.length) {\n    for (const nft of nfts) {\n      const currentResult = await ledgerApi.submitLedgerNftTransfer({\n        accountId: global.currentAccountId!,\n        nftAddress: nft.address,\n        password: '',\n        toAddress: resolvedAddress!,\n        comment,\n        nft,\n        fee,\n      });\n\n      global = getGlobal();\n      global = updateCurrentTransfer(global, {\n        sentNftsCount: (global.currentTransfer.sentNftsCount || 0) + 1,\n      });\n      setGlobal(global);\n      result = currentResult;\n    }\n  } else {\n    const tokenAddress = selectTokenAddress(global, tokenSlug!);\n    const options = {\n      accountId: global.currentAccountId!,\n      password: '',\n      toAddress: resolvedAddress!,\n      amount: amount!,\n      comment,\n      tokenAddress,\n      fee,\n    };\n\n    try {\n      result = await ledgerApi.submitLedgerTransfer(options, tokenSlug!);\n    } catch (err: any) {\n      if (err instanceof ApiHardwareBlindSigningNotEnabled) {\n        error = '$hardware_blind_sign_not_enabled';\n      }\n    }\n  }\n\n  if (!error && result === undefined) {\n    error = 'Declined';\n  } else if (typeof result === 'object' && 'error' in result) {\n    actions.showError({\n      error: result.error,\n    });\n  }\n\n  setGlobal(updateCurrentTransfer(getGlobal(), {\n    isLoading: false,\n    error,\n  }));\n});\n\naddActionHandler('clearTransferError', (global) => {\n  setGlobal(updateCurrentTransfer(global, { error: undefined }));\n});\n\naddActionHandler('cancelTransfer', (global, actions, { shouldReset } = {}) => {\n  const { promiseId, tokenSlug } = global.currentTransfer;\n\n  if (shouldReset) {\n    if (promiseId) {\n      void callApi('cancelDappRequest', promiseId, 'Canceled by the user');\n    }\n\n    global = clearCurrentTransfer(global);\n    global = updateCurrentTransfer(global, { tokenSlug });\n\n    setGlobal(global);\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n  global = updateCurrentTransfer(global, { state: TransferState.None });\n  setGlobal(global);\n});\n\naddActionHandler('fetchTokenTransactions', async (global, actions, { limit, slug, shouldLoadWithBudget }) => {\n  global = updateActivitiesIsLoading(global, true);\n  setGlobal(global);\n\n  const accountId = global.currentAccountId!;\n\n  let { idsBySlug } = selectAccountState(global, accountId)?.activities || {};\n  let shouldFetchMore = true;\n  let fetchedActivities: ApiActivity[] = [];\n  let tokenIds = (idsBySlug && idsBySlug[slug]) || [];\n  let offsetId = findLast(tokenIds, (id) => !getIsTxIdLocal(id) && !getIsSwapId(id));\n\n  while (shouldFetchMore) {\n    const result = await callApi('fetchTokenActivitySlice', accountId, slug, offsetId, limit);\n\n    global = getGlobal();\n\n    if (!result || 'error' in result) {\n      break;\n    }\n\n    if (!result.length) {\n      global = updateActivitiesIsHistoryEndReached(global, true, slug);\n      break;\n    }\n\n    const filteredResult = global.settings.areTinyTransfersHidden\n      ? result.filter((tx) => tx.kind === 'transaction' && !getIsTinyOrScamTransaction(tx))\n      : result;\n\n    fetchedActivities = fetchedActivities.concat(result);\n    shouldFetchMore = filteredResult.length < limit && fetchedActivities.length < limit;\n\n    tokenIds = unique(tokenIds.concat(filteredResult.map((tx) => tx.id)));\n    offsetId = findLast(tokenIds, (id) => !getIsTxIdLocal(id) && !getIsSwapId(id));\n  }\n\n  fetchedActivities.sort(compareActivities);\n\n  global = updateActivitiesIsLoading(global, false);\n\n  const newById = buildCollectionByKey(fetchedActivities, 'id');\n  const newOrderedIds = Object.keys(newById);\n  const currentActivities = selectAccountState(global, accountId)?.activities;\n  const byId = { ...(currentActivities?.byId || {}), ...newById };\n\n  idsBySlug = currentActivities?.idsBySlug || {};\n  tokenIds = unique((idsBySlug[slug] || []).concat(newOrderedIds));\n\n  tokenIds.sort((a, b) => compareActivities(byId[a], byId[b]));\n\n  global = updateAccountState(global, accountId, {\n    activities: {\n      ...currentActivities,\n      byId,\n      idsBySlug: { ...idsBySlug, [slug]: tokenIds },\n    },\n  });\n\n  setGlobal(global);\n\n  if (shouldLoadWithBudget) {\n    onTickEnd(() => {\n      actions.fetchTokenTransactions({ limit, slug });\n    });\n  }\n});\n\naddActionHandler('fetchAllTransactions', async (global, actions, { limit, shouldLoadWithBudget }) => {\n  global = updateActivitiesIsLoading(global, true);\n  setGlobal(global);\n\n  const accountId = global.currentAccountId!;\n\n  let lastTxIds = selectLastTxIds(global, accountId);\n  let shouldFetchMore = true;\n  let fetchedActivities: ApiActivity[] = [];\n\n  while (shouldFetchMore) {\n    const result = await callApi('fetchAllActivitySlice', accountId, lastTxIds, limit);\n\n    global = getGlobal();\n\n    if (!result || 'error' in result) {\n      break;\n    }\n\n    if (!result.length) {\n      global = updateActivitiesIsHistoryEndReached(global, true);\n      break;\n    }\n\n    const filteredResult = global.settings.areTinyTransfersHidden\n      ? result.filter((tx) => tx.kind === 'transaction' && !getIsTinyOrScamTransaction(tx))\n      : result;\n\n    fetchedActivities = fetchedActivities.concat(result);\n    shouldFetchMore = filteredResult.length < limit && fetchedActivities.length < limit;\n\n    lastTxIds = selectLastTxIds(global, accountId);\n  }\n\n  global = updateActivitiesIsLoading(global, false);\n\n  const newById = buildCollectionByKey(fetchedActivities, 'id');\n  const currentActivities = selectAccountState(global, accountId)?.activities;\n  const byId = { ...(currentActivities?.byId || {}), ...newById };\n  let idsBySlug = { ...currentActivities?.idsBySlug };\n\n  fetchedActivities.sort(compareActivities);\n\n  idsBySlug = fetchedActivities.reduce((acc, activity) => {\n    if (activity.kind === 'swap') {\n      const { id, from, to } = activity;\n      acc[from] = (acc[from] || []).concat([id]);\n      acc[to] = (acc[to] || []).concat([id]);\n    } else {\n      const { id, slug } = activity;\n      acc[slug] = (acc[slug] || []).concat([id]);\n    }\n    return acc;\n  }, idsBySlug);\n\n  idsBySlug = mapValues(idsBySlug, (txIds) => unique(txIds));\n  idsBySlug[TONCOIN_SLUG]?.sort((a, b) => compareActivities(byId[a], byId[b]));\n\n  global = updateAccountState(global, accountId, {\n    activities: {\n      ...currentActivities,\n      byId,\n      idsBySlug,\n    },\n  });\n\n  setGlobal(global);\n\n  if (shouldLoadWithBudget) {\n    onTickEnd(() => {\n      actions.fetchAllTransactions({ limit });\n    });\n  }\n});\n\naddActionHandler('resetIsHistoryEndReached', (global, actions, payload) => {\n  global = updateActivitiesIsHistoryEndReached(global, false, payload?.slug);\n  setGlobal(global);\n});\n\naddActionHandler('setIsBackupRequired', (global, actions, { isMnemonicChecked }) => {\n  const { isBackupRequired } = selectCurrentAccountState(global) ?? {};\n\n  setGlobal(updateCurrentAccountState(global, {\n    isBackupRequired: isMnemonicChecked ? undefined : isBackupRequired,\n  }));\n});\n\naddActionHandler('submitSignature', async (global, actions, payload) => {\n  const { password } = payload;\n  const { promiseId } = global.currentSignature!;\n\n  if (!(await callApi('verifyPassword', password))) {\n    setGlobal(updateCurrentSignature(getGlobal(), { error: 'Wrong password, please try again.' }));\n\n    return;\n  }\n\n  await callApi('confirmDappRequest', promiseId, password!);\n\n  setGlobal(updateCurrentSignature(getGlobal(), { isSigned: true }));\n});\n\naddActionHandler('clearSignatureError', (global) => {\n  setGlobal(updateCurrentSignature(global, { error: undefined }));\n});\n\naddActionHandler('cancelSignature', (global) => {\n  const { promiseId } = global.currentSignature || {};\n\n  if (promiseId) {\n    void callApi('cancelDappRequest', promiseId, 'Canceled by the user');\n  }\n\n  setGlobal({\n    ...global,\n    currentSignature: undefined,\n  });\n});\n\naddActionHandler('addToken', (global, actions, { token }) => {\n  const accountId = global.currentAccountId!;\n  const { balances } = selectAccountState(global, accountId) || {};\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const { orderedSlugs = [], exceptionSlugs = [], deletedSlugs } = accountSettings;\n\n  if (balances?.bySlug[token.slug]) {\n    return;\n  }\n\n  const existingToken = global.tokenInfo?.bySlug?.[token.slug];\n  const apiToken: ApiToken = existingToken ?? {\n    name: token.name,\n    symbol: token.symbol,\n    slug: token.slug,\n    decimals: token.decimals,\n    image: token.image,\n    keywords: token.keywords,\n    quote: {\n      slug: token.slug,\n      price: token.price ?? 0,\n      priceUsd: token.priceUsd ?? 0,\n      percentChange24h: token.change24h ?? 0,\n    },\n  };\n\n  const exceptionSlugsCopy = unique([...exceptionSlugs, token.slug]);\n  const deletedSlugsCopy = deletedSlugs?.filter((slug) => slug !== token.slug);\n\n  global = updateAccountState(global, accountId, {\n    balances: {\n      ...balances,\n      bySlug: {\n        ...balances?.bySlug,\n        [apiToken.slug]: 0n,\n      },\n    },\n  });\n\n  global = updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        orderedSlugs: [\n          ...orderedSlugs ?? [],\n          apiToken.slug,\n        ],\n        exceptionSlugs: exceptionSlugsCopy,\n        deletedSlugs: deletedSlugsCopy,\n      },\n    },\n  });\n  global = updateTokenInfo(global, { [apiToken.slug]: apiToken });\n  setGlobal(global);\n});\n\naddActionHandler('importToken', async (global, actions, { address, isSwap }) => {\n  const { currentAccountId } = global;\n  global = updateSettings(global, {\n    importToken: {\n      isLoading: true,\n      token: undefined,\n    },\n  });\n  setGlobal(global);\n\n  const slug = (await callApi('buildTokenSlug', address))!;\n  global = getGlobal();\n\n  let token: ApiToken | ApiBaseToken | undefined = global.tokenInfo.bySlug?.[slug!];\n\n  if (!token) {\n    token = await callApi('fetchToken', global.currentAccountId!, address);\n    await pause(IMPORT_TOKEN_PAUSE);\n\n    global = getGlobal();\n    if (!token) {\n      global = updateSettings(global, {\n        importToken: {\n          isLoading: false,\n          token: undefined,\n        },\n      });\n      setGlobal(global);\n      return;\n    } else {\n      const apiToken: ApiToken = {\n        ...token,\n        quote: {\n          slug: token.slug,\n          price: 0,\n          priceUsd: 0,\n          percentChange24h: 0,\n        },\n      };\n      global = updateTokenInfo(global, { [apiToken.slug]: apiToken });\n      setGlobal(global);\n    }\n  }\n\n  const balances = selectAccountState(global, currentAccountId!)?.balances?.bySlug ?? {};\n  const shouldUpdateBalance = !(token.slug in balances);\n\n  const userToken: UserToken | UserSwapToken = {\n    ...pick(token, [\n      'symbol',\n      'slug',\n      'name',\n      'image',\n      'decimals',\n      'keywords',\n    ]),\n    amount: 0n,\n    totalValue: '0',\n    price: 0,\n    priceUsd: 0,\n    change24h: 0,\n    ...(isSwap && {\n      blockchain: 'ton',\n      contract: token.minterAddress,\n    }),\n  };\n\n  global = getGlobal();\n  global = updateSettings(global, {\n    importToken: {\n      isLoading: false,\n      token: userToken,\n    },\n  });\n  if (shouldUpdateBalance) {\n    global = updateBalances(global, global.currentAccountId!, { [token.slug]: 0n });\n  }\n  setGlobal(global);\n});\n\naddActionHandler('resetImportToken', (global) => {\n  global = updateSettings(global, {\n    importToken: {\n      isLoading: false,\n      token: undefined,\n    },\n  });\n  setGlobal(global);\n});\n\naddActionHandler('verifyHardwareAddress', async (global, actions) => {\n  const accountId = global.currentAccountId!;\n\n  const ledgerApi = await import('../../../util/ledger');\n\n  if (!(await ledgerApi.reconnectLedger())) {\n    actions.showError({ error: '$ledger_not_ready' });\n    return;\n  }\n\n  try {\n    actions.showDialog({ title: 'Ledger', message: '$ledger_verify_address_on_device' });\n    await ledgerApi.verifyAddress(accountId);\n  } catch (err) {\n    actions.showError({ error: err as string });\n  }\n});\n\naddActionHandler('setActiveContentTab', (global, actions, { tab }) => {\n  return updateCurrentAccountState(global, {\n    activeContentTab: tab,\n  });\n});\n\naddActionHandler('addSwapToken', (global, actions, { token }) => {\n  const isAlreadyExist = token.slug in global.swapTokenInfo.bySlug;\n\n  if (isAlreadyExist) {\n    return;\n  }\n\n  const apiSwapAsset: ApiSwapAsset = {\n    name: token.name,\n    symbol: token.symbol,\n    blockchain: token.blockchain,\n    slug: token.slug,\n    decimals: token.decimals,\n    image: token.image,\n    contract: token.contract,\n    keywords: token.keywords,\n    isPopular: false,\n    price: 0,\n    priceUsd: 0,\n  };\n\n  setGlobal({\n    ...global,\n    swapTokenInfo: {\n      ...global.swapTokenInfo,\n      bySlug: {\n        ...global.swapTokenInfo.bySlug,\n        [apiSwapAsset.slug]: apiSwapAsset,\n      },\n    },\n  });\n});\n\naddActionHandler('fetchDieselState', async (global, actions, { tokenSlug }) => {\n  const tokenAddress = selectTokenAddress(global, tokenSlug);\n  if (!tokenAddress) return;\n\n  const result = await callApi('fetchDieselState', global.currentAccountId!, tokenAddress);\n  if (!result || !result.status) return;\n\n  global = getGlobal();\n  const accountState = selectAccountState(global, global.currentAccountId!);\n  global = updateCurrentTransfer(global, {\n    dieselStatus: result.status,\n    dieselAmount: result.amount,\n  });\n  if (accountState?.isDieselAuthorizationStarted && result.status !== 'not-authorized') {\n    global = updateAccountState(global, global.currentAccountId!, { isDieselAuthorizationStarted: undefined });\n  }\n  setGlobal(global);\n});\n","import type { ApiTransactionActivity } from '../../../api/types';\nimport { TransferState } from '../../types';\n\nimport { IS_CAPACITOR, TONCOIN_SLUG } from '../../../config';\nimport { groupBy } from '../../../util/iteratees';\nimport { callActionInMain, callActionInNative } from '../../../util/multitab';\nimport { playIncomingTransactionSound } from '../../../util/notificationSound';\nimport { getIsTinyOrScamTransaction } from '../../helpers';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { addActionHandler, setGlobal } from '../../index';\nimport {\n  addLocalTransaction,\n  addNewActivities,\n  assignRemoteTxId,\n  clearIsPinAccepted,\n  removeLocalTransaction,\n  updateAccountState,\n  updateActivitiesIsLoadingByAccount,\n  updateActivity,\n  updateCurrentTransfer,\n} from '../../reducers';\nimport { selectAccountState, selectLocalTransactions } from '../../selectors';\n\nconst TX_AGE_TO_PLAY_SOUND = 60000; // 1 min\n\naddActionHandler('apiUpdate', (global, actions, update) => {\n  switch (update.type) {\n    case 'newLocalTransaction': {\n      const {\n        accountId,\n        transaction,\n        transaction: { amount, txId },\n      } = update;\n\n      global = updateActivity(global, accountId, transaction);\n      global = addLocalTransaction(global, accountId, transaction);\n\n      if (-amount === global.currentTransfer.amount) {\n        global = updateCurrentTransfer(global, {\n          txId,\n          state: TransferState.Complete,\n          isLoading: false,\n        });\n        if (IS_CAPACITOR) {\n          global = clearIsPinAccepted(global);\n        }\n\n        if (transaction.slug && transaction.slug !== TONCOIN_SLUG) {\n          actions.fetchDieselState({ tokenSlug: transaction.slug });\n        }\n      }\n\n      setGlobal(global);\n\n      break;\n    }\n\n    case 'newActivities': {\n      if (IS_DELEGATING_BOTTOM_SHEET && !update.noForward) {\n        // Local transaction in NBS was not updated after nft/transfer sending was completed\n        callActionInNative('apiUpdate', { ...update, noForward: true });\n      }\n      if (IS_DELEGATED_BOTTOM_SHEET && !update.noForward) {\n        // A local swap transaction is not created if the NBS is closed before the exchange is completed\n        callActionInMain('apiUpdate', { ...update, noForward: true });\n      }\n      const { accountId, activities } = update;\n\n      global = updateActivitiesIsLoadingByAccount(global, accountId, false);\n\n      const localTransactions = selectLocalTransactions(global, accountId) ?? [];\n      const withLocalIndex = activities.map((activity) => {\n        if (activity.kind !== 'transaction') {\n          return { activity, localIndex: -1, groupName: 'newActivities' };\n        }\n\n        const localIndex = localTransactions.findIndex(({\n          amount, isIncoming, slug, normalizedAddress, inMsgHash,\n        }) => {\n          if (slug === TONCOIN_SLUG) {\n            return inMsgHash === activity.inMsgHash && normalizedAddress === activity.normalizedAddress;\n          } else {\n            return amount === activity.amount && !isIncoming && slug === activity.slug\n              && normalizedAddress === activity.normalizedAddress;\n          }\n        });\n\n        return { activity, localIndex, groupName: localIndex >= 0 ? 'localUpdates' : 'newActivities' };\n      });\n\n      const groups = groupBy(withLocalIndex, 'groupName');\n\n      groups.localUpdates?.forEach(({ activity, localIndex }) => {\n        const [localTransaction] = localTransactions.splice(localIndex, 1);\n\n        const { txId, amount, shouldHide } = activity as ApiTransactionActivity;\n        const localTxId = localTransaction.txId;\n        global = assignRemoteTxId(global, accountId, localTxId, txId, amount, shouldHide);\n\n        if (global.currentTransfer.txId === localTxId) {\n          global = updateCurrentTransfer(global, { txId });\n        }\n\n        const { currentActivityId } = selectAccountState(global, accountId) || {};\n        if (currentActivityId === localTxId) {\n          global = updateAccountState(global, accountId, { currentActivityId: txId });\n        }\n\n        global = removeLocalTransaction(global, accountId, localTxId);\n      });\n\n      if (groups.newActivities) {\n        const newActivities = groups.newActivities.map(({ activity }) => activity);\n\n        global = addNewActivities(global, accountId, newActivities);\n\n        const shouldPlaySound = newActivities.some((activity) => {\n          return activity.kind === 'transaction'\n            && activity.isIncoming\n            && global.settings.canPlaySounds\n            && (Date.now() - activity.timestamp < TX_AGE_TO_PLAY_SOUND)\n            && !(\n              global.settings.areTinyTransfersHidden\n              && getIsTinyOrScamTransaction(activity, global.tokenInfo?.bySlug[activity.slug!])\n            );\n        });\n\n        if (shouldPlaySound) {\n          playIncomingTransactionSound();\n        }\n      }\n\n      setGlobal(global);\n      break;\n    }\n  }\n});\n","import { TransferState } from '../../types';\n\nimport { TONCOIN_SLUG } from '../../../config';\nimport { processDeeplink } from '../../../util/deeplink';\nimport { callActionInNative } from '../../../util/multitab';\nimport { IS_DELEGATING_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { addActionHandler, setGlobal } from '../../index';\nimport {\n  clearCurrentDappTransfer,\n  clearCurrentSignature,\n  clearCurrentTransfer,\n  clearDappConnectRequest,\n  updateAccountState,\n  updateCurrentSignature,\n  updateCurrentTransfer,\n} from '../../reducers';\nimport { selectAccountState } from '../../selectors';\n\naddActionHandler('apiUpdate', (global, actions, update) => {\n  switch (update.type) {\n    case 'createTransaction': {\n      const {\n        promiseId,\n        amount,\n        toAddress,\n        fee,\n        comment,\n        rawPayload,\n        parsedPayload,\n        stateInit,\n      } = update;\n\n      global = clearCurrentTransfer(global);\n      global = updateCurrentTransfer(global, {\n        state: TransferState.Confirm,\n        toAddress,\n        amount,\n        fee,\n        comment,\n        promiseId,\n        tokenSlug: TONCOIN_SLUG,\n        rawPayload,\n        parsedPayload,\n        stateInit,\n      });\n      setGlobal(global);\n\n      break;\n    }\n\n    case 'createSignature': {\n      const { promiseId, dataHex } = update;\n\n      global = clearCurrentSignature(global);\n      global = updateCurrentSignature(global, {\n        promiseId,\n        dataHex,\n      });\n      setGlobal(global);\n\n      break;\n    }\n\n    case 'showError': {\n      const { error } = update;\n      actions.showError({ error });\n\n      break;\n    }\n\n    case 'dappConnect': {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        callActionInNative('apiUpdateDappConnect', update);\n      }\n\n      actions.apiUpdateDappConnect(update);\n\n      break;\n    }\n\n    case 'dappConnectComplete': {\n      global = clearDappConnectRequest(global);\n      setGlobal(global);\n\n      break;\n    }\n\n    case 'updateActiveDapp': {\n      const { accountId, origin } = update;\n\n      global = updateAccountState(global, accountId, {\n        activeDappOrigin: origin,\n      });\n      setGlobal(global);\n      break;\n    }\n\n    case 'dappDisconnect': {\n      const { accountId, origin } = update;\n      const accountState = selectAccountState(global, accountId);\n\n      if (accountState?.activeDappOrigin === origin) {\n        global = updateAccountState(global, accountId, {\n          activeDappOrigin: undefined,\n        });\n        global = clearCurrentDappTransfer(global);\n        setGlobal(global);\n      }\n      break;\n    }\n\n    case 'dappLoading': {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        callActionInNative('apiUpdateDappLoading', update);\n      }\n\n      actions.apiUpdateDappLoading(update);\n\n      break;\n    }\n\n    case 'dappCloseLoading': {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        callActionInNative('apiUpdateDappCloseLoading');\n      }\n\n      actions.apiUpdateDappCloseLoading();\n\n      break;\n    }\n\n    case 'dappSendTransactions': {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        callActionInNative('apiUpdateDappSendTransaction', update);\n      }\n\n      actions.apiUpdateDappSendTransaction(update);\n\n      break;\n    }\n\n    case 'updateDapps': {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        callActionInNative('getDapps');\n      }\n\n      actions.getDapps();\n      break;\n    }\n\n    case 'prepareTransaction': {\n      const {\n        amount,\n        toAddress,\n        comment,\n        binPayload,\n      } = update;\n\n      global = clearCurrentTransfer(global);\n      global = updateCurrentTransfer(global, {\n        state: TransferState.Initial,\n        toAddress,\n        amount: amount ?? 0n,\n        comment,\n        tokenSlug: TONCOIN_SLUG,\n        binPayload,\n      });\n\n      setGlobal(global);\n      break;\n    }\n\n    case 'processDeeplink': {\n      const { url } = update;\n\n      processDeeplink(url);\n      break;\n    }\n  }\n});\n","import { StakingState } from '../../types';\n\nimport { areDeepEqual } from '../../../util/areDeepEqual';\nimport { buildCollectionByKey, pick } from '../../../util/iteratees';\nimport { openUrl } from '../../../util/openUrl';\nimport { IS_IOS_APP } from '../../../util/windowEnvironment';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  addNft,\n  removeNft,\n  updateAccount,\n  updateAccountStakingState,\n  updateAccountState,\n  updateBalances,\n  updateNft,\n  updateRestrictions,\n  updateSettings,\n  updateStaking,\n  updateStakingInfo,\n  updateSwapTokens,\n  updateTokens,\n  updateVesting,\n  updateVestingInfo,\n} from '../../reducers';\nimport { selectAccountState, selectVestingPartsReadyToUnfreeze } from '../../selectors';\n\naddActionHandler('apiUpdate', (global, actions, update) => {\n  switch (update.type) {\n    case 'updateBalances': {\n      global = updateBalances(global, update.accountId, update.balancesToUpdate);\n      setGlobal(global);\n\n      actions.updateDeletionListForActiveTokens({ accountId: update.accountId });\n      break;\n    }\n\n    case 'updateStaking': {\n      const {\n        accountId,\n        stakingCommonData,\n        stakingState,\n        backendStakingState,\n      } = update;\n\n      const oldBalance = selectAccountState(global, accountId)?.staking?.balance ?? 0n;\n      let balance = 0n;\n\n      if (stakingState.type === 'nominators') {\n        balance = stakingState.amount;\n        global = updateAccountStakingState(global, accountId, {\n          type: stakingState.type,\n          balance,\n          isUnstakeRequested: stakingState.isUnstakeRequested,\n          unstakeRequestedAmount: undefined,\n          apy: backendStakingState.nominatorsPool.apy,\n          start: backendStakingState.nominatorsPool.start,\n          end: backendStakingState.nominatorsPool.end,\n          totalProfit: backendStakingState.totalProfit,\n        }, true);\n      } else {\n        const isPrevRoundUnlocked = Date.now() > stakingCommonData.prevRound.unlock;\n\n        balance = stakingState.amount;\n        global = updateAccountStakingState(global, accountId, {\n          type: stakingState.type,\n          balance,\n          isUnstakeRequested: !!stakingState.unstakeRequestAmount,\n          unstakeRequestedAmount: stakingState.unstakeRequestAmount,\n          start: isPrevRoundUnlocked ? stakingCommonData.round.start : stakingCommonData.prevRound.start,\n          end: isPrevRoundUnlocked ? stakingCommonData.round.unlock : stakingCommonData.prevRound.unlock,\n          apy: stakingState.apy,\n          totalProfit: backendStakingState.totalProfit,\n        }, true);\n\n        global = updateStakingInfo(global, {\n          liquid: {\n            instantAvailable: stakingState.instantAvailable,\n          },\n        });\n      }\n\n      let shouldOpenStakingInfo = false;\n      if (balance !== oldBalance && global.staking.state !== StakingState.None) {\n        if (balance === 0n) {\n          global = updateStaking(global, { state: StakingState.StakeInitial });\n        } else if (oldBalance === 0n) {\n          shouldOpenStakingInfo = true;\n        }\n      }\n\n      setGlobal(global);\n\n      if (shouldOpenStakingInfo) {\n        actions.cancelStaking();\n        actions.openStakingInfo();\n      }\n      break;\n    }\n\n    case 'updateTokens': {\n      const { tokens, baseCurrency } = update;\n      global = updateTokens(global, tokens, true);\n      global = updateSettings(global, {\n        baseCurrency,\n      });\n      setGlobal(global);\n\n      actions.updateDeletionListForActiveTokens();\n      break;\n    }\n\n    case 'updateSwapTokens': {\n      global = updateSwapTokens(global, update.tokens);\n      setGlobal(global);\n\n      break;\n    }\n\n    case 'updateNfts': {\n      const { accountId } = update;\n      const nfts = buildCollectionByKey(update.nfts, 'address');\n      global = getGlobal();\n      const currentNfts = selectAccountState(global, accountId)?.nfts;\n      global = updateAccountState(global, accountId, {\n        nfts: {\n          ...currentNfts,\n          byAddress: nfts,\n          orderedAddresses: Object.keys(nfts),\n        },\n      });\n      setGlobal(global);\n      break;\n    }\n\n    case 'nftSent': {\n      const { accountId, nftAddress } = update;\n      global = removeNft(global, accountId, nftAddress);\n      setGlobal(global);\n      break;\n    }\n\n    case 'nftReceived': {\n      const { accountId, nft } = update;\n      global = addNft(global, accountId, nft);\n      setGlobal(global);\n      break;\n    }\n\n    case 'nftPutUpForSale': {\n      const { accountId, nftAddress } = update;\n      global = updateNft(global, accountId, nftAddress, {\n        isOnSale: true,\n      });\n      setGlobal(global);\n      break;\n    }\n\n    case 'updateAccount': {\n      const { accountId, partial } = update;\n      global = updateAccount(global, accountId, pick(partial, ['address']));\n      setGlobal(global);\n      break;\n    }\n\n    case 'updateConfig': {\n      const {\n        isLimited: isLimitedRegion,\n        isCopyStorageEnabled,\n        supportAccountsCount,\n        countryCode,\n      } = update;\n\n      global = updateRestrictions(global, {\n        isLimitedRegion,\n        isSwapDisabled: IS_IOS_APP && isLimitedRegion,\n        isOnRampDisabled: IS_IOS_APP && isLimitedRegion,\n        isCopyStorageEnabled,\n        supportAccountsCount,\n        countryCode,\n      });\n      setGlobal(global);\n      break;\n    }\n\n    case 'updateWalletVersions': {\n      const { accountId, versions, currentVersion } = update;\n      global = {\n        ...global,\n        walletVersions: {\n          ...global.walletVersions,\n          currentVersion,\n          byId: {\n            ...global.walletVersions?.byId,\n            [accountId]: versions,\n          },\n        },\n      };\n      setGlobal(global);\n      break;\n    }\n\n    case 'openUrl': {\n      openUrl(update.url, update.isExternal, update.title, update.subtitle);\n      break;\n    }\n\n    case 'requestReconnectApi': {\n      actions.initApi();\n      break;\n    }\n\n    case 'incorrectTime': {\n      if (!global.isIncorrectTimeNotificationReceived) {\n        actions.showIncorrectTimeError();\n      }\n      break;\n    }\n\n    case 'updateVesting': {\n      const { accountId, vestingInfo } = update;\n      const unfreezeRequestedIds = selectVestingPartsReadyToUnfreeze(global, accountId);\n      global = updateVestingInfo(global, accountId, vestingInfo);\n      const newUnfreezeRequestedIds = selectVestingPartsReadyToUnfreeze(global, accountId);\n      if (!areDeepEqual(unfreezeRequestedIds, newUnfreezeRequestedIds)) {\n        global = updateVesting(global, accountId, { unfreezeRequestedIds: undefined });\n      }\n      setGlobal(global);\n      break;\n    }\n\n    case 'updatingStatus': {\n      const { kind, isUpdating } = update;\n      const key = kind === 'balance' ? 'balanceUpdateStartedAt' : 'activitiesUpdateStartedAt';\n      if (isUpdating && global[key]) break;\n\n      setGlobal({\n        ...global,\n        [key]: isUpdating ? Date.now() : undefined,\n      });\n      break;\n    }\n  }\n});\n","import './api/initial';\nimport './api/auth';\nimport './api/wallet';\nimport './api/staking';\nimport './api/dapps';\nimport './api/swap';\nimport './api/tokens';\nimport './api/nfts';\nimport './api/vesting';\nimport './apiUpdates/initial';\nimport './apiUpdates/activities';\nimport './apiUpdates/dapp';\nimport './ui/initial';\nimport './ui/misc';\nimport './ui/dapps';\nimport './ui/settings';\nimport './ui/swap';\nimport './ui/nfts';\nimport './ui/vesting';\n","import { TransferState } from '../../types';\n\nimport { BROWSER_HISTORY_LIMIT } from '../../../config';\nimport { unique } from '../../../util/iteratees';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearDappConnectRequestError, updateCurrentAccountState, updateCurrentDappTransfer,\n} from '../../reducers';\nimport { selectAccount, selectCurrentAccountState } from '../../selectors';\n\naddActionHandler('clearDappConnectRequestError', (global) => {\n  global = clearDappConnectRequestError(global);\n  setGlobal(global);\n});\n\naddActionHandler('showDappTransfer', (global, actions, payload) => {\n  const { transactionIdx } = payload;\n\n  global = updateCurrentDappTransfer(global, {\n    state: TransferState.Confirm,\n    viewTransactionOnIdx: transactionIdx,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('setDappTransferScreen', (global, actions, payload) => {\n  const { state } = payload;\n\n  global = updateCurrentDappTransfer(global, { state });\n  setGlobal(global);\n});\n\naddActionHandler('submitDappTransferConfirm', (global, actions) => {\n  const accountId = global.currentAccountId!;\n  const account = selectAccount(global, accountId)!;\n\n  if (account.isHardware) {\n    actions.resetHardwareWalletConnect();\n    global = updateCurrentDappTransfer(getGlobal(), { state: TransferState.ConnectHardware });\n  } else {\n    global = updateCurrentDappTransfer(global, { state: TransferState.Password });\n  }\n\n  setGlobal(global);\n});\n\naddActionHandler('clearDappTransferError', (global) => {\n  global = updateCurrentDappTransfer(global, {\n    error: undefined,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('openBrowser', (global, actions, { url, title, subtitle }) => {\n  global = { ...global, currentBrowserOptions: { url, title, subtitle } };\n  setGlobal(global);\n});\n\naddActionHandler('closeBrowser', (global) => {\n  global = { ...global, currentBrowserOptions: undefined };\n  setGlobal(global);\n});\n\naddActionHandler('addSiteToBrowserHistory', (global, actions, { url }) => {\n  const accountState = selectCurrentAccountState(global);\n\n  const newHistory = unique([\n    url,\n    ...accountState?.browserHistory || [],\n  ]).slice(0, BROWSER_HISTORY_LIMIT);\n\n  global = updateCurrentAccountState(global, {\n    browserHistory: newHistory,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('removeSiteFromBrowserHistory', (global, actions, { url }) => {\n  const accountState = selectCurrentAccountState(global);\n\n  const newHistory = accountState?.browserHistory?.filter((currentUrl) => currentUrl !== url);\n\n  global = updateCurrentAccountState(global, {\n    browserHistory: newHistory?.length ? newHistory : undefined,\n  });\n  setGlobal(global);\n});\n","import type { Account, AccountState, NotificationType } from '../../types';\nimport { ApiCommonError, ApiTransactionDraftError, ApiTransactionError } from '../../../api/types';\nimport { AppState } from '../../types';\n\nimport { IS_CAPACITOR, IS_EXTENSION } from '../../../config';\nimport { requestMutation } from '../../../lib/fasterdom/fasterdom';\nimport { parseAccountId } from '../../../util/account';\nimport authApi from '../../../util/authApi';\nimport { processDeeplinkAfterSignIn } from '../../../util/deeplink';\nimport { omit } from '../../../util/iteratees';\nimport { clearPreviousLangpacks, setLanguage } from '../../../util/langProvider';\nimport { callActionInMain } from '../../../util/multitab';\nimport { initializeSounds } from '../../../util/notificationSound';\nimport switchAnimationLevel from '../../../util/switchAnimationLevel';\nimport switchTheme, { setStatusBarStyle } from '../../../util/switchTheme';\nimport {\n  IS_ANDROID,\n  IS_DELEGATED_BOTTOM_SHEET,\n  IS_ELECTRON,\n  IS_IOS,\n  IS_LINUX,\n  IS_MAC_OS,\n  IS_OPERA,\n  IS_SAFARI,\n  IS_WINDOWS,\n  setScrollbarWidthProperty,\n} from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport { updateCurrentAccountId, updateCurrentAccountState } from '../../reducers';\nimport {\n  selectCurrentNetwork,\n  selectNetworkAccounts,\n  selectNetworkAccountsMemoized,\n  selectNewestTxIds,\n} from '../../selectors';\n\nconst ANIMATION_DELAY_MS = 320;\n\naddActionHandler('init', (_, actions) => {\n  requestMutation(() => {\n    const { documentElement } = document;\n\n    if (IS_IOS) {\n      documentElement.classList.add('is-ios');\n    } else if (IS_ANDROID) {\n      documentElement.classList.add('is-android');\n    } else if (IS_MAC_OS) {\n      documentElement.classList.add('is-macos');\n    } else if (IS_WINDOWS) {\n      documentElement.classList.add('is-windows');\n    } else if (IS_LINUX) {\n      documentElement.classList.add('is-linux');\n    }\n    if (IS_SAFARI) {\n      documentElement.classList.add('is-safari');\n    }\n    if (IS_OPERA) {\n      documentElement.classList.add('is-opera');\n    }\n    if (IS_EXTENSION) {\n      documentElement.classList.add('is-extension');\n    }\n    if (IS_ELECTRON) {\n      documentElement.classList.add('is-electron');\n    }\n    if (IS_DELEGATED_BOTTOM_SHEET) {\n      documentElement.classList.add('is-native-bottom-sheet');\n    }\n\n    setScrollbarWidthProperty();\n\n    actions.afterInit();\n  });\n});\n\naddActionHandler('afterInit', (global) => {\n  const { theme, animationLevel, langCode } = global.settings;\n\n  switchTheme(theme);\n  switchAnimationLevel(animationLevel);\n  setStatusBarStyle();\n  void setLanguage(langCode);\n  clearPreviousLangpacks();\n\n  if (!IS_CAPACITOR) {\n    document.addEventListener('click', initializeSounds, { once: true });\n  }\n});\n\naddActionHandler('afterSignIn', (global, actions) => {\n  setGlobal({ ...global, appState: AppState.Main });\n\n  setTimeout(() => {\n    actions.resetAuth();\n    processDeeplinkAfterSignIn();\n  }, ANIMATION_DELAY_MS);\n});\n\naddActionHandler('afterSignOut', (global, actions, payload) => {\n  if (payload?.isFromAllAccounts) {\n    if (IS_CAPACITOR && global.settings.authConfig?.kind === 'native-biometrics') {\n      authApi.removeNativeBiometrics();\n    }\n\n    actions.resetApiSettings({ areAllDisabled: true });\n  }\n});\n\naddActionHandler('showDialog', (global, actions, payload) => {\n  const { message, title } = payload;\n\n  const newDialogs = [...global.dialogs];\n  const existingMessageIndex = newDialogs.findIndex((dialog) => dialog.message === message);\n  if (existingMessageIndex !== -1) {\n    newDialogs.splice(existingMessageIndex, 1);\n  }\n\n  newDialogs.push({ message, title });\n\n  return {\n    ...global,\n    dialogs: newDialogs,\n  };\n});\n\naddActionHandler('dismissDialog', (global) => {\n  const newDialogs = [...global.dialogs];\n\n  newDialogs.pop();\n\n  return {\n    ...global,\n    dialogs: newDialogs,\n  };\n});\n\naddActionHandler('selectToken', (global, actions, { slug } = {}) => {\n  return updateCurrentAccountState(global, { currentTokenSlug: slug });\n});\n\naddActionHandler('showError', (global, actions, { error } = {}) => {\n  switch (error) {\n    case ApiTransactionDraftError.InvalidAmount:\n      actions.showDialog({ message: 'Invalid amount' });\n      break;\n\n    case ApiTransactionDraftError.InvalidToAddress:\n      actions.showDialog({ message: 'Invalid address' });\n      break;\n\n    case ApiTransactionDraftError.InsufficientBalance:\n      actions.showDialog({ message: 'Insufficient balance' });\n      break;\n\n    case ApiTransactionDraftError.DomainNotResolved:\n      actions.showDialog({ message: 'Domain is not connected to a wallet' });\n      break;\n\n    case ApiTransactionDraftError.WalletNotInitialized:\n      actions.showDialog({\n        message: 'Encryption is not possible. The recipient is not a wallet or has no outgoing transactions.',\n      });\n      break;\n\n    case ApiTransactionDraftError.InvalidAddressFormat:\n      actions.showDialog({\n        message: 'Invalid address format. Only URL Safe Base64 format is allowed.',\n      });\n      break;\n\n    case ApiTransactionError.PartialTransactionFailure:\n      actions.showDialog({ message: 'Not all transactions were sent successfully' });\n      break;\n\n    case ApiTransactionError.IncorrectDeviceTime:\n      actions.showDialog({ message: 'The time on your device is incorrect, sync it and try again' });\n      break;\n\n    case ApiTransactionError.UnsuccesfulTransfer:\n      actions.showDialog({ message: 'Transfer was unsuccessful. Try again later.' });\n      break;\n\n    case ApiTransactionDraftError.InactiveContract:\n      actions.showDialog({\n        message: '$transfer_inactive_contract_error',\n      });\n      break;\n\n    case ApiTransactionError.NotSupportedHardwareOperation:\n      actions.showDialog({\n        message: '$ledger_not_supported_operation',\n      });\n      break;\n\n    case ApiCommonError.ServerError:\n      actions.showDialog({\n        message: window.navigator.onLine\n          ? 'An error on the server side. Please try again.'\n          : 'No internet connection. Please check your connection and try again.',\n      });\n      break;\n\n    case ApiCommonError.DebugError:\n      actions.showDialog({ message: 'Unexpected error. Please let the support know.' });\n      break;\n\n    case ApiCommonError.Unexpected:\n    case undefined:\n      actions.showDialog({ message: 'Unexpected' });\n      break;\n\n    default:\n      actions.showDialog({ message: error });\n      break;\n  }\n});\n\naddActionHandler('showNotification', (global, actions, payload) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('showNotification', payload);\n    return undefined;\n  }\n\n  const { message, icon } = payload;\n\n  const newNotifications: NotificationType[] = [...global.notifications];\n  const existingNotificationIndex = newNotifications.findIndex((n) => n.message === message);\n  if (existingNotificationIndex !== -1) {\n    newNotifications.splice(existingNotificationIndex, 1);\n  }\n\n  newNotifications.push({ message, icon });\n\n  return {\n    ...global,\n    notifications: newNotifications,\n  };\n});\n\naddActionHandler('dismissNotification', (global) => {\n  const newNotifications = [...global.notifications];\n\n  newNotifications.pop();\n\n  return {\n    ...global,\n    notifications: newNotifications,\n  };\n});\n\naddActionHandler('toggleTonProxy', (global, actions, { isEnabled }) => {\n  void callApi('doProxy', isEnabled);\n\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isTonProxyEnabled: isEnabled,\n    },\n  };\n});\n\naddActionHandler('toggleTonMagic', (global, actions, { isEnabled }) => {\n  void callApi('doMagic', isEnabled);\n\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isTonMagicEnabled: isEnabled,\n    },\n  };\n});\n\naddActionHandler('toggleDeeplinkHook', (global, actions, { isEnabled }) => {\n  if (IS_ELECTRON) {\n    window.electron?.toggleDeeplinkHandler(isEnabled);\n  } else {\n    void callApi('doDeeplinkHook', isEnabled);\n  }\n\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isDeeplinkHookEnabled: isEnabled,\n    },\n  };\n});\n\naddActionHandler('signOut', async (global, actions, payload) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('signOut', payload);\n  }\n\n  const { isFromAllAccounts } = payload || {};\n\n  const network = selectCurrentNetwork(global);\n  const accountIds = Object.keys(selectNetworkAccounts(global)!);\n\n  const otherNetwork = network === 'mainnet' ? 'testnet' : 'mainnet';\n  const otherNetworkAccountIds = Object.keys(selectNetworkAccountsMemoized(otherNetwork, global.accounts?.byId)!);\n\n  if (isFromAllAccounts || accountIds.length === 1) {\n    if (otherNetworkAccountIds.length) {\n      await callApi('removeNetworkAccounts', network);\n\n      global = getGlobal();\n\n      const nextAccountId = otherNetworkAccountIds[0];\n      const accountsById = Object.entries(global.accounts!.byId).reduce((byId, [accountId, account]) => {\n        if (parseAccountId(accountId).network !== network) {\n          byId[accountId] = account;\n        }\n        return byId;\n      }, {} as Record<string, Account>);\n      const byAccountId = Object.entries(global.byAccountId).reduce((byId, [accountId, state]) => {\n        if (parseAccountId(accountId).network !== network) {\n          byId[accountId] = state;\n        }\n        return byId;\n      }, {} as Record<string, AccountState>);\n\n      global = updateCurrentAccountId(global, nextAccountId);\n\n      global = {\n        ...global,\n        accounts: {\n          ...global.accounts!,\n          byId: accountsById,\n        },\n        byAccountId,\n      };\n\n      setGlobal(global);\n\n      actions.switchAccount({ accountId: nextAccountId, newNetwork: otherNetwork });\n      actions.closeSettings();\n      actions.afterSignOut();\n    } else {\n      await callApi('resetAccounts');\n\n      actions.afterSignOut({ isFromAllAccounts: true });\n      actions.init();\n    }\n  } else {\n    const prevAccountId = global.currentAccountId!;\n    const nextAccountId = accountIds.find((id) => id !== prevAccountId)!;\n    const nextNewestTxIds = selectNewestTxIds(global, nextAccountId);\n\n    await callApi('removeAccount', prevAccountId, nextAccountId, nextNewestTxIds);\n\n    global = getGlobal();\n\n    const accountsById = omit(global.accounts!.byId, [prevAccountId]);\n    const byAccountId = omit(global.byAccountId, [prevAccountId]);\n\n    global = updateCurrentAccountId(global, nextAccountId);\n\n    global = {\n      ...global,\n      accounts: {\n        ...global.accounts!,\n        byId: accountsById,\n      },\n      byAccountId,\n    };\n\n    setGlobal(global);\n\n    actions.afterSignOut();\n  }\n});\n","import { BarcodeScanner } from '@capacitor-mlkit/barcode-scanning';\n\nimport type { GlobalState } from '../../types';\nimport {\n  AppState, AuthState, HardwareConnectState, SettingsState, SwapState, TransferState,\n} from '../../types';\n\nimport {\n  ANIMATION_LEVEL_MIN,\n  APP_VERSION,\n  BETA_URL,\n  BOT_USERNAME,\n  DEBUG,\n  IS_CAPACITOR,\n  IS_EXTENSION,\n  IS_PRODUCTION,\n  PRODUCTION_URL,\n} from '../../../config';\nimport { vibrateOnSuccess } from '../../../util/capacitor';\nimport { isTonDeeplink, parseTonDeeplink, processDeeplink } from '../../../util/deeplink';\nimport getIsAppUpdateNeeded from '../../../util/getIsAppUpdateNeeded';\nimport { isTonAddressOrDomain } from '../../../util/isTonAddressOrDomain';\nimport { omitUndefined, pick, unique } from '../../../util/iteratees';\nimport { getTranslation } from '../../../util/langProvider';\nimport { onLedgerTabClose, openLedgerTab } from '../../../util/ledger/tab';\nimport { callActionInMain } from '../../../util/multitab';\nimport { openUrl } from '../../../util/openUrl';\nimport { pause } from '../../../util/schedulers';\nimport {\n  IS_ANDROID_APP,\n  IS_BIOMETRIC_AUTH_SUPPORTED,\n  IS_DELEGATED_BOTTOM_SHEET,\n} from '../../../util/windowEnvironment';\nimport { callApi } from '../../../api';\nimport { addActionHandler, getGlobal, setGlobal } from '../../index';\nimport {\n  clearCurrentSwap,\n  clearCurrentTransfer,\n  clearIsPinAccepted,\n  renameAccount,\n  setIsPinAccepted,\n  updateAccounts,\n  updateAccountState,\n  updateAuth,\n  updateCurrentAccountState,\n  updateCurrentSwap,\n  updateCurrentTransfer,\n  updateHardware,\n  updateSettings,\n} from '../../reducers';\nimport {\n  selectAccountSettings,\n  selectAccountState,\n  selectCurrentAccount,\n  selectCurrentAccountState,\n  selectCurrentAccountTokens,\n  selectFirstNonHardwareAccount,\n} from '../../selectors';\n\nconst OPEN_LEDGER_TAB_DELAY = 500;\nconst APP_VERSION_URL = IS_ANDROID_APP ? `${IS_PRODUCTION ? PRODUCTION_URL : BETA_URL}/version.txt` : 'version.txt';\n\naddActionHandler('showActivityInfo', (global, actions, { id }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('showActivityInfo', { id });\n    return undefined;\n  }\n\n  return updateCurrentAccountState(global, { currentActivityId: id });\n});\n\naddActionHandler('closeActivityInfo', (global, actions, { id }) => {\n  if (selectCurrentAccountState(global)?.currentActivityId !== id) {\n    return undefined;\n  }\n\n  return updateCurrentAccountState(global, { currentActivityId: undefined });\n});\n\naddActionHandler('addSavedAddress', (global, actions, { address, name }) => {\n  const { savedAddresses } = selectCurrentAccountState(global) || {};\n\n  return updateCurrentAccountState(global, {\n    savedAddresses: {\n      ...savedAddresses,\n      [address]: name,\n    },\n  });\n});\n\naddActionHandler('removeFromSavedAddress', (global, actions, { address }) => {\n  const { [address]: omit, ...savedAddresses } = selectCurrentAccountState(global)?.savedAddresses || {};\n\n  return updateCurrentAccountState(global, { savedAddresses });\n});\n\naddActionHandler('toggleTinyTransfersHidden', (global, actions, { isEnabled } = {}) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      areTinyTransfersHidden: isEnabled,\n    },\n  };\n});\n\naddActionHandler('setCurrentTokenPeriod', (global, actions, { period }) => {\n  return updateCurrentAccountState(global, {\n    currentTokenPeriod: period,\n  });\n});\n\naddActionHandler('addAccount', async (global, actions, { method, password, isAuthFlow }) => {\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const isMnemonicImport = method === 'importMnemonic';\n\n  if (firstNonHardwareAccount) {\n    if (!(await callApi('verifyPassword', password))) {\n      global = getGlobal();\n      if (isAuthFlow) {\n        global = updateAuth(global, {\n          isLoading: undefined,\n          error: 'Wrong password, please try again.',\n        });\n      } else {\n        global = updateAccounts(getGlobal(), {\n          isLoading: undefined,\n          error: 'Wrong password, please try again.',\n        });\n      }\n      setGlobal(global);\n      return;\n    }\n\n    if (IS_CAPACITOR) {\n      global = setIsPinAccepted(getGlobal());\n      setGlobal(global);\n\n      await vibrateOnSuccess(true);\n    }\n  }\n\n  global = getGlobal();\n  if (isMnemonicImport || !firstNonHardwareAccount) {\n    global = { ...global, isAddAccountModalOpen: undefined };\n  } else {\n    global = updateAccounts(global, { isLoading: true });\n  }\n  setGlobal(global);\n\n  if (!IS_DELEGATED_BOTTOM_SHEET) {\n    actions.addAccount2({ method, password });\n  } else {\n    callActionInMain('addAccount2', { method, password });\n  }\n});\n\naddActionHandler('addAccount2', (global, actions, { method, password }) => {\n  const isMnemonicImport = method === 'importMnemonic';\n  const firstNonHardwareAccount = selectFirstNonHardwareAccount(global);\n  const authState = firstNonHardwareAccount\n    ? isMnemonicImport\n      ? AuthState.importWallet\n      : undefined\n    : (IS_CAPACITOR\n      ? AuthState.createPin\n      : (IS_BIOMETRIC_AUTH_SUPPORTED ? AuthState.createBiometrics : AuthState.createPassword)\n    );\n\n  if (isMnemonicImport || !firstNonHardwareAccount) {\n    global = { ...global, appState: AppState.Auth };\n  }\n  global = updateAuth(global, { password, state: authState });\n  global = clearCurrentTransfer(global);\n  global = clearCurrentSwap(global);\n\n  setGlobal(global);\n\n  if (isMnemonicImport) {\n    actions.startImportingWallet();\n  } else {\n    actions.startCreatingWallet();\n  }\n});\n\naddActionHandler('renameAccount', (global, actions, { accountId, title }) => {\n  global = { ...global, shouldForceAccountEdit: false };\n  return renameAccount(global, accountId, title);\n});\n\naddActionHandler('clearAccountError', (global) => {\n  return updateAccounts(global, { error: undefined });\n});\n\naddActionHandler('openAddAccountModal', (global) => {\n  return { ...global, isAddAccountModalOpen: true };\n});\n\naddActionHandler('closeAddAccountModal', (global) => {\n  if (IS_CAPACITOR) {\n    global = clearIsPinAccepted(global);\n  }\n\n  return { ...global, isAddAccountModalOpen: undefined };\n});\n\naddActionHandler('setTheme', (global, actions, { theme }) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      theme,\n    },\n  };\n});\n\naddActionHandler('setAnimationLevel', (global, actions, { level }) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      animationLevel: level,\n    },\n  };\n});\n\naddActionHandler('changeNetwork', (global, actions, { network }) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isTestnet: network === 'testnet',\n    },\n  };\n});\n\naddActionHandler('openSettings', (global) => {\n  global = updateSettings(global, { state: SettingsState.Initial });\n  setGlobal({ ...global, areSettingsOpen: true });\n});\n\naddActionHandler('openSettingsWithState', (global, actions, { state }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET && !global.areSettingsOpen) {\n    callActionInMain('openSettingsWithState', { state });\n    return;\n  }\n\n  global = updateSettings(global, { state });\n  setGlobal({ ...global, areSettingsOpen: true });\n});\n\naddActionHandler('setSettingsState', (global, actions, { state }) => {\n  global = updateSettings(global, { state });\n  setGlobal(global);\n});\n\naddActionHandler('closeSettings', (global) => {\n  if (!global.currentAccountId) {\n    return global;\n  }\n\n  return { ...global, areSettingsOpen: false };\n});\n\naddActionHandler('openBackupWalletModal', (global) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('openBackupWalletModal');\n    return undefined;\n  }\n\n  return { ...global, isBackupWalletModalOpen: true };\n});\n\naddActionHandler('closeBackupWalletModal', (global) => {\n  return { ...global, isBackupWalletModalOpen: undefined };\n});\n\naddActionHandler('initializeHardwareWalletConnection', async (global, actions) => {\n  const startConnection = () => {\n    global = updateHardware(getGlobal(), {\n      hardwareState: HardwareConnectState.Connecting,\n    });\n    setGlobal(global);\n\n    actions.connectHardwareWallet();\n  };\n\n  const ledgerApi = await import('../../../util/ledger');\n\n  if (await ledgerApi.connectLedger()) {\n    startConnection();\n    return;\n  }\n\n  if (IS_EXTENSION) {\n    global = updateHardware(getGlobal(), {\n      hardwareState: HardwareConnectState.WaitingForBrowser,\n    });\n    setGlobal(global);\n\n    await pause(OPEN_LEDGER_TAB_DELAY);\n    const id = await openLedgerTab();\n    const popup = await chrome.windows.getCurrent();\n\n    onLedgerTabClose(id, async () => {\n      await chrome.windows.update(popup.id!, { focused: true });\n\n      if (!await ledgerApi.connectLedger()) {\n        actions.closeHardwareWalletModal();\n        return;\n      }\n\n      startConnection();\n    });\n  }\n});\n\naddActionHandler('openHardwareWalletModal', async (global) => {\n  const ledgerApi = await import('../../../util/ledger');\n  let newHardwareState;\n\n  const isConnected = await ledgerApi.connectLedger();\n\n  if (!isConnected && IS_EXTENSION) {\n    newHardwareState = HardwareConnectState.WaitingForBrowser;\n  } else {\n    newHardwareState = HardwareConnectState.Connect;\n  }\n\n  global = updateHardware(getGlobal(), {\n    hardwareState: newHardwareState,\n  });\n  setGlobal({ ...global, isHardwareModalOpen: true });\n});\n\naddActionHandler('closeHardwareWalletModal', (global) => {\n  setGlobal({ ...global, isHardwareModalOpen: false });\n});\n\naddActionHandler('toggleInvestorView', (global, actions, { isEnabled } = {}) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isInvestorViewEnabled: isEnabled,\n    },\n  };\n});\n\naddActionHandler('changeLanguage', (global, actions, { langCode }) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      langCode,\n    },\n  };\n});\n\naddActionHandler('toggleCanPlaySounds', (global, actions, { isEnabled } = {}) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      canPlaySounds: isEnabled,\n    },\n  };\n});\n\naddActionHandler('setLandscapeActionsActiveTabIndex', (global, actions, { index }) => {\n  return updateCurrentAccountState(global, {\n    landscapeActionsActiveTabIndex: index,\n  });\n});\n\naddActionHandler('closeSecurityWarning', (global) => {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      isSecurityWarningHidden: true,\n    },\n  };\n});\n\naddActionHandler('toggleTokensWithNoCost', (global, actions, { isEnabled }) => {\n  const accountId = global.currentAccountId!;\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n\n  setGlobal(updateSettings(global, {\n    areTokensWithNoCostHidden: isEnabled,\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        exceptionSlugs: [],\n      },\n    },\n  }));\n});\n\naddActionHandler('toggleSortByValue', (global, actions, { isEnabled }) => {\n  setGlobal(updateSettings(global, {\n    isSortByValueEnabled: isEnabled,\n  }));\n});\n\naddActionHandler('initTokensOrder', (global) => {\n  const accountId = global.currentAccountId!;\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const accountTokens = selectCurrentAccountTokens(global) ?? [];\n  const { orderedSlugs = [] } = accountSettings;\n  const newSlugs = accountTokens.map(({ slug }) => slug);\n\n  const updatedSlugs = unique([...orderedSlugs, ...newSlugs]);\n\n  setGlobal(updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        orderedSlugs: updatedSlugs,\n      },\n    },\n  }));\n});\n\naddActionHandler('updateDeletionListForActiveTokens', (global, actions, payload) => {\n  const { accountId = global.currentAccountId } = payload ?? {};\n  if (!accountId) {\n    return;\n  }\n\n  const { balances } = selectAccountState(global, accountId) ?? {};\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const accountTokens = selectCurrentAccountTokens(global) ?? [];\n  const deletedSlugs = accountSettings.deletedSlugs ?? [];\n\n  const updatedDeletedSlugs = deletedSlugs.filter(\n    (slug) => !accountTokens.some((token) => token.slug === slug && token.amount > 0),\n  );\n\n  const balancesBySlug = balances?.bySlug ?? {};\n  const updatedBalancesBySlug = Object.fromEntries(\n    Object.entries(balancesBySlug).filter(([slug]) => !updatedDeletedSlugs.includes(slug)),\n  );\n\n  global = updateAccountState(global, accountId, {\n    balances: {\n      ...balances,\n      bySlug: updatedBalancesBySlug,\n    },\n  });\n\n  global = updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        deletedSlugs: updatedDeletedSlugs,\n      },\n    },\n  });\n\n  setGlobal(global);\n\n  actions.initTokensOrder();\n});\n\naddActionHandler('sortTokens', (global, actions, { orderedSlugs }) => {\n  const accountId = global.currentAccountId!;\n  const accountSettings = selectAccountSettings(global, accountId);\n\n  setGlobal(updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        orderedSlugs,\n      },\n    },\n  }));\n});\n\naddActionHandler('toggleExceptionToken', (global, actions, { slug }) => {\n  const accountId = global.currentAccountId!;\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const { exceptionSlugs = [] } = accountSettings;\n\n  const exceptionSlugsCopy = exceptionSlugs.slice();\n  const slugIndexInAvailable = exceptionSlugsCopy.indexOf(slug);\n\n  if (slugIndexInAvailable !== -1) {\n    exceptionSlugsCopy.splice(slugIndexInAvailable, 1);\n  } else {\n    exceptionSlugsCopy.push(slug);\n  }\n\n  setGlobal(updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        exceptionSlugs: exceptionSlugsCopy,\n      },\n    },\n  }));\n});\n\naddActionHandler('deleteToken', (global, actions, { slug }) => {\n  const accountId = global.currentAccountId!;\n  const { balances } = selectAccountState(global, accountId) ?? {};\n\n  if (balances?.bySlug[slug] === undefined) {\n    return;\n  }\n\n  const { [slug]: deleted, ...bySlugCopy } = { ...balances?.bySlug };\n\n  global = updateAccountState(global, accountId, {\n    balances: {\n      ...balances,\n      bySlug: {\n        ...bySlugCopy,\n      },\n    },\n  });\n\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const orderedSlugs = accountSettings.orderedSlugs?.filter((s) => s !== slug);\n  const exceptionSlugs = accountSettings.exceptionSlugs?.filter((s) => s !== slug);\n  const deletedSlugs = [...accountSettings.deletedSlugs ?? [], slug];\n\n  global = updateSettings(global, {\n    byAccountId: {\n      ...global.settings.byAccountId,\n      [accountId]: {\n        ...accountSettings,\n        orderedSlugs,\n        exceptionSlugs,\n        deletedSlugs,\n      },\n    },\n  });\n\n  setGlobal(global);\n});\n\naddActionHandler('checkAppVersion', (global) => {\n  fetch(`${APP_VERSION_URL}?${Date.now()}`)\n    .then((response) => response.text())\n    .then((version) => {\n      version = version.trim();\n\n      if (getIsAppUpdateNeeded(version, APP_VERSION)) {\n        global = getGlobal();\n        global = {\n          ...global,\n          isAppUpdateAvailable: true,\n          latestAppVersion: version.trim(),\n        };\n        setGlobal(global);\n      }\n    })\n    .catch((err) => {\n      if (DEBUG) {\n        // eslint-disable-next-line no-console\n        console.error('[checkAppVersion failed] ', err);\n      }\n    });\n});\n\naddActionHandler('requestConfetti', (global) => {\n  if (global.settings.animationLevel === ANIMATION_LEVEL_MIN) return global;\n\n  return {\n    ...global,\n    confettiRequestedAt: Date.now(),\n  };\n});\n\naddActionHandler('requestOpenQrScanner', async (global, actions) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('requestOpenQrScanner');\n    return;\n  }\n\n  let currentQrScan: GlobalState['currentQrScan'];\n  if (global.currentTransfer.state === TransferState.Initial) {\n    currentQrScan = { currentTransfer: global.currentTransfer };\n  } else if (global.currentSwap.state === SwapState.Blockchain) {\n    currentQrScan = { currentSwap: global.currentSwap };\n  }\n\n  const { camera } = await BarcodeScanner.requestPermissions();\n  const isGranted = camera === 'granted' || camera === 'limited';\n  if (!isGranted) {\n    actions.showNotification({\n      message: getTranslation('Permission denied. Please grant camera permission to use the QR code scanner.'),\n    });\n    return;\n  }\n\n  global = getGlobal();\n  global = {\n    ...global,\n    isQrScannerOpen: true,\n    currentQrScan,\n  };\n\n  setGlobal(global);\n});\n\naddActionHandler('closeQrScanner', (global) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('closeQrScanner');\n    return undefined;\n  }\n\n  return {\n    ...global,\n    isQrScannerOpen: undefined,\n    currentQrScan: undefined,\n  };\n});\n\naddActionHandler('handleQrCode', (global, actions, { data }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('handleQrCode', { data });\n    return undefined;\n  }\n\n  const { currentTransfer, currentSwap } = global.currentQrScan || {};\n\n  if (currentTransfer) {\n    if (isTonAddressOrDomain(data)) {\n      return updateCurrentTransfer(global, {\n        ...currentTransfer,\n        toAddress: data,\n      });\n    }\n\n    const linkParams = isTonDeeplink(data) ? parseTonDeeplink(data) : undefined;\n    if (linkParams) {\n      return updateCurrentTransfer(global, {\n        ...currentTransfer,\n        // For NFT transfer we only extract address from a ton:// link\n        ...(currentTransfer.nfts?.length ? pick(linkParams, ['toAddress']) : omitUndefined(linkParams)),\n      });\n    }\n  }\n\n  if (currentSwap) {\n    return updateCurrentSwap(global, {\n      ...currentSwap,\n      toAddress: data,\n    });\n  }\n\n  processDeeplink(data);\n\n  return undefined;\n});\n\naddActionHandler('changeBaseCurrency', async (global, actions, { currency }) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('changeBaseCurrency', { currency });\n  }\n\n  await callApi('setBaseCurrency', currency);\n  await callApi('tryUpdatePrices');\n\n  await Promise.all([\n    callApi('tryUpdateTokens'),\n    callApi('tryLoadSwapTokens'),\n  ]);\n});\n\naddActionHandler('setIsPinAccepted', (global) => {\n  return setIsPinAccepted(global);\n});\n\naddActionHandler('clearIsPinAccepted', (global) => {\n  return clearIsPinAccepted(global);\n});\n\naddActionHandler('openOnRampWidgetModal', (global) => {\n  setGlobal({ ...global, isOnRampWidgetModalOpen: true });\n});\n\naddActionHandler('closeOnRampWidgetModal', (global) => {\n  setGlobal({ ...global, isOnRampWidgetModalOpen: undefined });\n});\n\naddActionHandler('openMediaViewer', (global, actions, {\n  mediaId, mediaType, txId, hiddenNfts, noGhostAnimation,\n}) => {\n  return {\n    ...global,\n    mediaViewer: {\n      mediaId,\n      mediaType,\n      txId,\n      hiddenNfts,\n      noGhostAnimation,\n    },\n  };\n});\n\naddActionHandler('closeMediaViewer', (global) => {\n  return {\n    ...global,\n    mediaViewer: {\n      mediaId: undefined,\n      mediaType: undefined,\n    },\n  };\n});\n\naddActionHandler('openReceiveModal', (global) => {\n  setGlobal({ ...global, isReceiveModalOpen: true });\n});\n\naddActionHandler('closeReceiveModal', (global) => {\n  setGlobal({ ...global, isReceiveModalOpen: undefined });\n});\n\naddActionHandler('showIncorrectTimeError', (global, actions) => {\n  actions.showDialog({\n    message: getTranslation('Time synchronization issue. Please ensure your device\\'s time settings are correct.'),\n  });\n\n  return { ...global, isIncorrectTimeNotificationReceived: true };\n});\n\naddActionHandler('initLedgerPage', (global) => {\n  global = updateHardware(global, {\n    isRemoteTab: true,\n  });\n  setGlobal({ ...global, appState: AppState.Ledger });\n});\n\naddActionHandler('openLoadingOverlay', (global) => {\n  setGlobal({ ...global, isLoadingOverlayOpen: true });\n});\n\naddActionHandler('closeLoadingOverlay', (global) => {\n  setGlobal({ ...global, isLoadingOverlayOpen: undefined });\n});\n\naddActionHandler('clearAccountLoading', (global) => {\n  setGlobal(updateAccounts(global, { isLoading: undefined }));\n});\n\naddActionHandler('authorizeDiesel', (global) => {\n  const address = selectCurrentAccount(global)!.address;\n  setGlobal(updateCurrentAccountState(global, { isDieselAuthorizationStarted: true }));\n  openUrl(`https://t.me/${BOT_USERNAME}?start=auth-${address}`, true);\n});\n","import { addActionHandler, setGlobal } from '../../index';\nimport {\n  addToSelectedAddresses,\n  removeFromSelectedAddresses,\n  updateAccountState,\n  updateCurrentAccountState,\n} from '../../reducers';\nimport { selectAccountState, selectCurrentAccountState } from '../../selectors';\n\naddActionHandler('openNftCollection', (global, actions, { address }) => {\n  const accountId = global.currentAccountId!;\n  const accountState = selectAccountState(global, accountId);\n  global = updateAccountState(global, accountId, {\n    nfts: {\n      ...accountState!.nfts!,\n      currentCollectionAddress: address,\n    },\n  });\n  return global;\n});\n\naddActionHandler('closeNftCollection', (global) => {\n  const accountState = selectCurrentAccountState(global);\n  global = updateCurrentAccountState(global, {\n    nfts: {\n      ...accountState!.nfts!,\n      currentCollectionAddress: undefined,\n    },\n    selectedNftsToHide: undefined,\n  });\n  return global;\n});\n\naddActionHandler('selectNfts', (global, actions, { addresses }) => {\n  const accountId = global.currentAccountId!;\n  global = addToSelectedAddresses(global, accountId, addresses);\n  setGlobal(global);\n});\n\naddActionHandler('clearNftSelection', (global, actions, { address }) => {\n  const accountId = global.currentAccountId!;\n  global = removeFromSelectedAddresses(global, accountId, address);\n  setGlobal(global);\n});\n\naddActionHandler('clearNftsSelection', (global) => {\n  const accountId = global.currentAccountId!;\n  const accountState = selectAccountState(global, accountId);\n  global = updateAccountState(global, accountId, {\n    nfts: {\n      ...accountState!.nfts!,\n      selectedAddresses: [],\n    },\n  });\n  setGlobal(global);\n});\n","import { addCallback } from '../../../lib/teact/teactn';\n\nimport type { GlobalState } from '../../types';\n\nimport { setLanguage } from '../../../util/langProvider';\nimport switchTheme from '../../../util/switchTheme';\n\nlet prevGlobal: GlobalState | undefined;\n\naddCallback((global: GlobalState) => {\n  if (!prevGlobal) {\n    prevGlobal = global;\n    return;\n  }\n\n  const { settings: prevSettings } = prevGlobal;\n  const { settings } = global;\n\n  if (settings.theme !== prevSettings.theme) {\n    switchTheme(settings.theme);\n  }\n\n  if (settings.langCode !== prevSettings.langCode) {\n    void setLanguage(settings.langCode);\n  }\n\n  prevGlobal = global;\n});\n","import { addActionHandler } from '../../index';\n\naddActionHandler('toggleSwapSettingsModal', (global, actions, { isOpen }) => {\n  return {\n    ...global,\n    currentSwap: {\n      ...global.currentSwap,\n      isSettingsModalOpen: isOpen,\n    },\n  };\n});\n","import { VestingUnfreezeState } from '../../types';\n\nimport { callActionInMain } from '../../../util/multitab';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../../../util/windowEnvironment';\nimport { addActionHandler, setGlobal } from '../../index';\nimport { updateVesting } from '../../reducers';\nimport { selectAccount } from '../../selectors';\n\naddActionHandler('openVestingModal', (global) => {\n  setGlobal({ ...global, isVestingModalOpen: true });\n});\n\naddActionHandler('closeVestingModal', (global) => {\n  setGlobal({ ...global, isVestingModalOpen: undefined });\n});\n\naddActionHandler('startClaimingVesting', (global) => {\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    callActionInMain('startClaimingVesting');\n    return;\n  }\n\n  const accountId = global.currentAccountId!;\n  const { isHardware } = selectAccount(global, accountId)!;\n  global = { ...global, isVestingModalOpen: undefined };\n  global = updateVesting(global, accountId, {\n    isConfirmRequested: true,\n    unfreezeState: isHardware ? VestingUnfreezeState.ConnectHardware : VestingUnfreezeState.Password,\n  });\n  setGlobal(global);\n});\n\naddActionHandler('cancelClaimingVesting', (global) => {\n  const accountId = global.currentAccountId!;\n  global = updateVesting(global, accountId, { isConfirmRequested: undefined });\n  setGlobal(global);\n});\n\naddActionHandler('clearVestingError', (global) => {\n  const accountId = global.currentAccountId!;\n  global = updateVesting(global, accountId, { error: undefined });\n  setGlobal(global);\n});\n","import { addCallback, removeCallback } from '../lib/teact/teactn';\n\nimport type {\n  AccountState, GlobalState, TokenPeriod, UserToken,\n} from './types';\n\nimport {\n  DEBUG,\n  DEFAULT_DECIMAL_PLACES,\n  GLOBAL_STATE_CACHE_DISABLED,\n  GLOBAL_STATE_CACHE_KEY,\n  IS_CAPACITOR,\n  MAIN_ACCOUNT_ID,\n  TONCOIN_SLUG,\n} from '../config';\nimport { buildAccountId, parseAccountId } from '../util/account';\nimport { bigintReviver } from '../util/bigint';\nimport {\n  cloneDeep, mapValues, pick, pickTruthy,\n} from '../util/iteratees';\nimport { onBeforeUnload, onIdle, throttle } from '../util/schedulers';\nimport { IS_ELECTRON } from '../util/windowEnvironment';\nimport { getIsTxIdLocal } from './helpers';\nimport { addActionHandler, getGlobal } from './index';\nimport { INITIAL_STATE, STATE_VERSION } from './initialState';\nimport { selectAccountTokens } from './selectors';\n\nimport { isHeavyAnimating } from '../hooks/useHeavyAnimationCheck';\n\nconst UPDATE_THROTTLE = IS_CAPACITOR ? 500 : 5000;\nconst ACTIVITIES_LIMIT = 20;\nconst ACTIVITY_TOKENS_LIMIT = 30;\n\nconst updateCacheThrottled = throttle(() => onIdle(() => updateCache()), UPDATE_THROTTLE, false);\nconst updateCacheForced = () => updateCache(true);\n\nlet isCaching = false;\nlet unsubscribeFromBeforeUnload: NoneToVoidFunction | undefined;\nlet preloadedData: Partial<GlobalState> | undefined;\n\nexport function initCache() {\n  if (GLOBAL_STATE_CACHE_DISABLED) {\n    return;\n  }\n\n  addActionHandler('afterSignIn', setupCaching);\n\n  addActionHandler('afterSignOut', (global, actions, payload) => {\n    const { isFromAllAccounts } = payload || {};\n    if (!isFromAllAccounts) return;\n\n    preloadedData = pick(global, ['swapTokenInfo', 'tokenInfo', 'restrictions']);\n\n    clearCaching();\n\n    localStorage.removeItem(GLOBAL_STATE_CACHE_KEY);\n  });\n\n  addActionHandler('cancelCaching', clearCaching);\n}\n\nfunction setupCaching() {\n  if (isCaching) return;\n\n  isCaching = true;\n\n  addCallback(updateCacheThrottled);\n  unsubscribeFromBeforeUnload = onBeforeUnload(updateCacheForced, true);\n  window.addEventListener('blur', updateCacheForced);\n\n  updateCacheForced();\n}\n\nfunction clearCaching() {\n  if (!isCaching) return;\n\n  window.removeEventListener('blur', updateCacheForced);\n  unsubscribeFromBeforeUnload?.();\n  removeCallback(updateCacheThrottled);\n\n  isCaching = false;\n}\n\nexport function loadCache(initialState: GlobalState): GlobalState {\n  if (GLOBAL_STATE_CACHE_DISABLED) {\n    return initialState;\n  }\n\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.time('global-state-cache-read');\n  }\n\n  const json = localStorage.getItem(GLOBAL_STATE_CACHE_KEY);\n  let cached = json ? JSON.parse(json, bigintReviver) as GlobalState : undefined;\n\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.timeEnd('global-state-cache-read');\n  }\n\n  if (cached) {\n    try {\n      migrateCache(cached, initialState);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(err);\n\n      cached = undefined;\n    }\n  }\n\n  return {\n    ...initialState,\n    ...preloadedData,\n    ...cached,\n  };\n}\n\nfunction migrateCache(cached: GlobalState, initialState: GlobalState) {\n  // Pre-fill settings with defaults\n  cached.settings = {\n    ...initialState.settings,\n    ...cached.settings,\n  };\n\n  if (cached.stateVersion === STATE_VERSION) {\n    return;\n  }\n\n  // Migration to multi-accounts\n  if (!cached.byAccountId) {\n    cached.accounts = {\n      byId: {\n        [MAIN_ACCOUNT_ID]: {\n          address: (cached as any).addresses.byAccountId[MAIN_ACCOUNT_ID],\n          title: 'Main Account',\n        },\n      },\n    };\n\n    delete (cached as any).addresses;\n\n    cached.byAccountId = {};\n    cached.byAccountId[MAIN_ACCOUNT_ID] = {\n      isBackupRequired: Boolean((cached as any).isBackupRequired),\n      currentTokenSlug: (cached as any).currentTokenSlug as string,\n      currentTokenPeriod: (cached as any).currentTokenPeriod as TokenPeriod,\n    };\n\n    if ('balances' in cached) {\n      cached.byAccountId[MAIN_ACCOUNT_ID].balances = (cached as any).balances.byAccountId[MAIN_ACCOUNT_ID];\n      delete (cached as any).balances;\n    }\n\n    if ('transactions' in cached) {\n      (cached.byAccountId[MAIN_ACCOUNT_ID] as any).transactions = (cached as any).transactions;\n      delete (cached as any).transactions;\n    }\n\n    if ('nfts' in cached) {\n      cached.byAccountId[MAIN_ACCOUNT_ID].nfts = (cached as any).nfts;\n      delete (cached as any).nfts;\n    }\n\n    if ('savedAddresses' in cached) {\n      cached.byAccountId[MAIN_ACCOUNT_ID].savedAddresses = (cached as any).savedAddresses;\n      delete (cached as any).savedAddresses;\n    }\n\n    if ('backupWallet' in cached) {\n      delete (cached as any).backupWallet;\n    }\n  }\n\n  if (\n    (!cached.currentAccountId || !cached.byAccountId[cached.currentAccountId]) && Object.keys(cached.byAccountId).length\n  ) {\n    cached.currentAccountId = Object.keys(cached.byAccountId)[0];\n  }\n\n  // Initializing the v1\n  if (!cached.stateVersion && cached.accounts && Object.keys(cached.accounts).length > 0) {\n    cached.stateVersion = 1;\n  }\n\n  if (cached.stateVersion === 1) {\n    cached.stateVersion = 2;\n\n    if (cached.tokenInfo?.bySlug) {\n      cached.tokenInfo.bySlug = {\n        toncoin: {\n          ...cached.tokenInfo.bySlug.toncoin,\n          decimals: DEFAULT_DECIMAL_PLACES,\n        },\n      };\n    }\n\n    if (cached.byAccountId) {\n      Object.values(cached.byAccountId).forEach((accountState) => {\n        if (accountState.balances?.bySlug) {\n          accountState.balances.bySlug = pick(accountState.balances!.bySlug, ['toncoin']);\n        }\n        if ((accountState as any).transactions) {\n          delete (accountState as any).transactions;\n        }\n      });\n    }\n  }\n\n  if (cached.stateVersion === 2) {\n    cached.stateVersion = 3;\n\n    // Normalization of MAIN_ACCOUNT_ID '0' => '0-ton-mainnet'\n    const oldId = '0';\n    const newId = MAIN_ACCOUNT_ID;\n    if (cached.accounts && oldId in cached.accounts.byId) {\n      if (cached.currentAccountId === oldId) {\n        cached.currentAccountId = newId;\n      }\n      cached.accounts.byId[newId] = cached.accounts.byId[oldId];\n      delete cached.accounts.byId[oldId];\n      cached.byAccountId[newId] = cached.byAccountId[oldId];\n      delete cached.byAccountId[oldId];\n    }\n\n    // Add testnet accounts\n    if (cached.accounts) {\n      for (const accountId of Object.keys(cached.accounts.byId)) {\n        const testnetAccountId = buildAccountId({\n          ...parseAccountId(accountId),\n          network: 'testnet',\n        });\n        cached.accounts.byId[testnetAccountId] = cloneDeep(cached.accounts.byId[accountId]);\n        cached.byAccountId[testnetAccountId] = {};\n      }\n    }\n  }\n\n  if (cached.stateVersion === 3) {\n    cached.stateVersion = 4;\n\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete (cached.byAccountId[accountId] as any).transactions;\n      }\n    }\n  }\n\n  if (cached.stateVersion === 4) {\n    cached.stateVersion = 5;\n\n    cached.staking = {\n      ...initialState.staking,\n    };\n  }\n\n  if (cached.stateVersion === 5) {\n    cached.stateVersion = 6;\n\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete (cached.byAccountId[accountId] as any).transactions;\n      }\n    }\n  }\n\n  if (cached.stateVersion === 6) {\n    cached.stateVersion = 7;\n\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete (cached.byAccountId[accountId] as any).transactions;\n      }\n    }\n  }\n\n  if (cached.stateVersion === 7) {\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete (cached.byAccountId[accountId] as any).backupWallet;\n      }\n    }\n\n    cached.stateVersion = 8;\n  }\n\n  if (cached.stateVersion === 8) {\n    if (cached.settings && IS_ELECTRON) {\n      cached.settings.isDeeplinkHookEnabled = true;\n    }\n\n    cached.stateVersion = 9;\n  }\n\n  function clearActivities() {\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete (cached.byAccountId[accountId] as any).activities;\n      }\n    }\n  }\n\n  if (cached.stateVersion === 9) {\n    clearActivities();\n    cached.stateVersion = 10;\n  }\n\n  if (cached.stateVersion === 10) {\n    if ((cached.settings as any).areTokensWithNoBalanceHidden === undefined) {\n      (cached.settings as any).areTokensWithNoBalanceHidden = true;\n    }\n    cached.stateVersion = 11;\n  }\n\n  if (cached.stateVersion === 11) {\n    clearActivities();\n    cached.stateVersion = 12;\n  }\n\n  if (cached.stateVersion === 12) {\n    if (cached.byAccountId) {\n      for (const accountId of Object.keys(cached.byAccountId)) {\n        delete cached.byAccountId[accountId].activities;\n\n        const { balances } = cached.byAccountId[accountId];\n        if (balances) {\n          // eslint-disable-next-line @typescript-eslint/no-loop-func\n          balances.bySlug = Object.entries(balances.bySlug).reduce((acc, [slug, balance]) => {\n            acc[slug] = BigInt(balance);\n            return acc;\n          }, {} as Record<string, bigint>);\n        }\n      }\n    }\n    cached.stateVersion = 13;\n  }\n\n  if (cached.stateVersion === 13) {\n    const { areTokensWithNoPriceHidden, areTokensWithNoBalanceHidden } = cached.settings as any as {\n      areTokensWithNoPriceHidden?: boolean;\n      areTokensWithNoBalanceHidden?: boolean;\n    };\n\n    cached.settings.areTokensWithNoCostHidden = Boolean(areTokensWithNoPriceHidden || areTokensWithNoBalanceHidden);\n    cached.stateVersion = 14;\n  }\n\n  if (cached.stateVersion === 14) {\n    clearActivities();\n    cached.stateVersion = 15;\n  }\n\n  if (cached.stateVersion === 15) {\n    clearActivities();\n    cached.stateVersion = 16;\n  }\n\n  if (cached.stateVersion === 16) {\n    clearActivities();\n    cached.stateVersion = 17;\n  }\n\n  if (cached.stateVersion === 17) {\n    clearActivities();\n    cached.stateVersion = 18;\n  }\n\n  if (cached.stateVersion === 18 || cached.stateVersion === 19) {\n    for (const accountId of Object.keys(cached.byAccountId)) {\n      cached.byAccountId[accountId].currentTokenPeriod = '1D';\n    }\n    cached.stateVersion = 20;\n  }\n\n  if (cached.stateVersion === 20) {\n    clearActivities();\n    cached.stateVersion = 21;\n  }\n\n  if (cached.stateVersion === 21) {\n    clearActivities();\n    cached.stateVersion = 22;\n  }\n\n  if (cached.stateVersion === 22) {\n    clearActivities();\n    cached.stateVersion = 23;\n  }\n\n  if (cached.stateVersion === 23) {\n    if (!('isSortByValueEnabled' in cached.settings)) {\n      cached.settings.isSortByValueEnabled = initialState.settings.isSortByValueEnabled;\n    }\n    cached.stateVersion = 24;\n  }\n  // When adding migration here, increase `STATE_VERSION`\n}\n\nfunction updateCache(force?: boolean) {\n  if (GLOBAL_STATE_CACHE_DISABLED || !isCaching || (!force && isHeavyAnimating())) {\n    return;\n  }\n\n  const global = getGlobal();\n  const reducedGlobal: GlobalState = {\n    ...INITIAL_STATE,\n    ...pick(global, [\n      'tokenInfo',\n      'settings',\n      'currentAccountId',\n      'stateVersion',\n      'restrictions',\n    ]),\n    accounts: {\n      byId: global.accounts?.byId || {},\n    },\n    byAccountId: reduceByAccountId(global),\n  };\n\n  const json = JSON.stringify(reducedGlobal);\n  localStorage.setItem(GLOBAL_STATE_CACHE_KEY, json);\n}\n\nfunction reduceByAccountId(global: GlobalState) {\n  return Object.entries(global.byAccountId).reduce((acc, [accountId, state]) => {\n    acc[accountId] = pick(state, [\n      'balances',\n      'isBackupRequired',\n      'currentTokenSlug',\n      'currentTokenPeriod',\n      'savedAddresses',\n      'staking',\n      'stakingHistory',\n      'activeContentTab',\n      'landscapeActionsActiveTabIndex',\n      'browserHistory',\n      'blacklistedNftAddresses',\n      'whitelistedNftAddresses',\n    ]);\n\n    const accountTokens = selectAccountTokens(global, accountId);\n    acc[accountId].activities = reduceAccountActivities(state.activities, accountTokens);\n\n    return acc;\n  }, {} as GlobalState['byAccountId']);\n}\n\nfunction reduceAccountActivities(activities?: AccountState['activities'], tokens?: UserToken[]) {\n  const { idsBySlug, newestTransactionsBySlug, byId } = activities || {};\n  if (!tokens || !idsBySlug || !byId) return undefined;\n\n  const reducedSlugs = tokens.slice(0, ACTIVITY_TOKENS_LIMIT).map(({ slug }) => slug);\n  if (!reducedSlugs.includes(TONCOIN_SLUG)) {\n    reducedSlugs.push(TONCOIN_SLUG);\n  }\n\n  const reducedIdsBySlug = mapValues(pickTruthy(idsBySlug, reducedSlugs), (ids) => {\n    const result: string[] = [];\n\n    let visibleIdCount = 0;\n\n    ids\n      .filter((id) => !getIsTxIdLocal(id) && Boolean(byId[id]))\n      .forEach((id) => {\n        if (visibleIdCount === ACTIVITIES_LIMIT) return;\n\n        if (!byId[id].shouldHide) {\n          visibleIdCount += 1;\n        }\n\n        result.push(id);\n      });\n\n    return result;\n  });\n\n  const reducedNewestTransactionsBySlug = newestTransactionsBySlug\n    ? pick(newestTransactionsBySlug, reducedSlugs)\n    : undefined;\n\n  const reducedIds = Object.values(reducedIdsBySlug).flat();\n  const reducedById = pick(byId, reducedIds);\n\n  return {\n    byId: reducedById,\n    idsBySlug: reducedIdsBySlug,\n    newestTransactionsBySlug: reducedNewestTransactionsBySlug,\n  };\n}\n","import type { ApiToken, ApiTransaction } from '../../api/types';\n\nimport { TINY_TRANSFER_MAX_COST } from '../../config';\nimport { toBig } from '../../util/decimals';\n\nexport function getIsTinyOrScamTransaction(transaction: ApiTransaction, token?: ApiToken) {\n  if (transaction.metadata?.isScam) return true;\n  if (!token || transaction.type === 'nftTransferred' || transaction.type === 'nftReceived') return false;\n\n  const decimals = token.decimals;\n  const cost = toBig(transaction.amount, decimals).abs().mul(token.quote.priceUsd ?? 0);\n  return cost.lt(TINY_TRANSFER_MAX_COST);\n}\n\nexport function getIsTxIdLocal(txId: string) {\n  return txId.includes('|');\n}\n\nexport function getIsSwapId(id: string) {\n  return id.startsWith('swap:');\n}\n","import type { TeactNode } from '../../lib/teact/teact';\nimport React from '../../lib/teact/teact';\n\nimport { compact } from '../../util/iteratees';\n\nexport type TextFilter = ('simple_markdown' | 'br');\n\nconst SIMPLE_MARKDOWN_REGEX = /(\\*\\*|__).+?\\1/g;\n\nexport default function renderText(\n  part: TeactNode,\n  filters: Array<TextFilter> = ['simple_markdown', 'br'],\n): TeactNode[] {\n  if (typeof part !== 'string') {\n    return [part];\n  }\n\n  return compact(filters.reduce((text, filter) => {\n    switch (filter) {\n      case 'simple_markdown':\n        return replaceSimpleMarkdown(text);\n\n      case 'br':\n        return addLineBreaks(text);\n    }\n\n    return text;\n  }, [part] as TeactNode[]));\n}\n\nfunction replaceSimpleMarkdown(textParts: TeactNode[]): TeactNode[] {\n  return textParts.reduce<TeactNode[]>((result, part) => {\n    if (typeof part !== 'string') {\n      result.push(part);\n      return result;\n    }\n\n    const parts = part.split(SIMPLE_MARKDOWN_REGEX);\n    const entities: string[] = part.match(SIMPLE_MARKDOWN_REGEX) || [];\n    result.push(parts[0]);\n\n    return entities.reduce((entityResult: TeactNode[], entity, i) => {\n      entityResult.push(\n        entity.startsWith('**')\n          ? <b>{entity.replace(/\\*\\*/g, '')}</b>\n          : <i>{entity.replace(/__/g, '')}</i>,\n      );\n\n      const index = i * 2 + 2;\n      if (parts[index]) {\n        entityResult.push(parts[index]);\n      }\n\n      return entityResult;\n    }, result);\n  }, []);\n}\n\nfunction addLineBreaks(textParts: TeactNode[]): TeactNode[] {\n  return textParts.reduce((result: TeactNode[], part) => {\n    if (typeof part !== 'string') {\n      result.push(part);\n      return result;\n    }\n\n    const splittenParts = part\n      .split(/\\r\\n|\\r|\\n/g)\n      .reduce((parts: TeactNode[], line: string, i, source) => {\n        // This adds non-breaking space if line was indented with spaces, to preserve the indentation\n        const trimmedLine = line.trimStart();\n        const indentLength = line.length - trimmedLine.length;\n        parts.push(String.fromCharCode(160).repeat(indentLength) + trimmedLine);\n\n        if (i !== source.length - 1) {\n          parts.push(<br />);\n        }\n\n        return parts;\n      }, []);\n\n    return [...result, ...splittenParts];\n  }, []);\n}\n","import { typify } from '../lib/teact/teactn';\n\nimport type { ActionPayloads, GlobalState } from './types';\n\nconst typed = typify<GlobalState, ActionPayloads>();\n\nexport const getGlobal = typed.getGlobal;\nexport const setGlobal = typed.setGlobal;\nexport const getActions = typed.getActions;\nexport const addActionHandler = typed.addActionHandler;\nexport const withGlobal = typed.withGlobal;\n","import { cloneDeep } from '../util/iteratees';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_LEDGER_EXTENSION_TAB } from '../util/windowEnvironment';\nimport { initCache, loadCache } from './cache';\nimport { addActionHandler } from './index';\nimport { INITIAL_STATE } from './initialState';\nimport { selectHasSession } from './selectors';\n\nif (!IS_DELEGATED_BOTTOM_SHEET) {\n  initCache();\n}\n\naddActionHandler('init', (_, actions) => {\n  const initial = cloneDeep(INITIAL_STATE);\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    return initial;\n  }\n\n  if (IS_LEDGER_EXTENSION_TAB) {\n    actions.initLedgerPage();\n    return initial;\n  }\n\n  const global = loadCache(initial);\n\n  if (selectHasSession(global)) {\n    actions.afterSignIn();\n  }\n\n  return global;\n});\n","import type { GlobalState } from './types';\nimport {\n  AppState,\n  AuthState,\n  BiometricsState,\n  SettingsState,\n  StakingState,\n  SwapState,\n  TransferState,\n} from './types';\n\nimport {\n  ANIMATION_LEVEL_DEFAULT,\n  DEFAULT_SLIPPAGE_VALUE,\n  INIT_SWAP_ASSETS,\n  THEME_DEFAULT,\n  TOKEN_INFO,\n} from '../config';\nimport { IS_IOS_APP, USER_AGENT_LANG_CODE } from '../util/windowEnvironment';\n\nexport const STATE_VERSION = 24;\n\nexport const INITIAL_STATE: GlobalState = {\n  appState: AppState.Auth,\n\n  auth: {\n    state: AuthState.none,\n  },\n\n  biometrics: {\n    state: BiometricsState.None,\n  },\n\n  hardware: {},\n\n  currentTransfer: {\n    state: TransferState.None,\n  },\n\n  currentSwap: {\n    state: SwapState.None,\n    slippage: DEFAULT_SLIPPAGE_VALUE,\n  },\n\n  currentDappTransfer: {\n    state: TransferState.None,\n  },\n\n  staking: {\n    state: StakingState.None,\n  },\n\n  stakingInfo: {},\n\n  tokenInfo: {\n    bySlug: TOKEN_INFO,\n  },\n\n  swapTokenInfo: {\n    bySlug: INIT_SWAP_ASSETS,\n  },\n\n  tokenPriceHistory: {\n    bySlug: {},\n  },\n\n  settings: {\n    state: SettingsState.Initial,\n    theme: THEME_DEFAULT,\n    animationLevel: ANIMATION_LEVEL_DEFAULT,\n    areTinyTransfersHidden: true,\n    canPlaySounds: true,\n    langCode: USER_AGENT_LANG_CODE,\n    dapps: [],\n    byAccountId: {},\n    areTokensWithNoCostHidden: true,\n    isSortByValueEnabled: true,\n  },\n\n  byAccountId: {},\n\n  dialogs: [],\n  notifications: [],\n\n  stateVersion: STATE_VERSION,\n  restrictions: {\n    isLimitedRegion: false,\n    isSwapDisabled: IS_IOS_APP,\n    isOnRampDisabled: IS_IOS_APP,\n  },\n\n  mediaViewer: {},\n};\n","import type { ApiActivity, ApiTransactionActivity } from '../../api/types';\nimport type { GlobalState } from '../types';\n\nimport {\n  buildCollectionByKey, groupBy, mapValues, unique,\n} from '../../util/iteratees';\nimport { getIsTxIdLocal } from '../helpers';\nimport { selectAccountState } from '../selectors';\nimport { updateAccountState } from './misc';\n\nexport function updateActivity(global: GlobalState, accountId: string, activity: ApiActivity): GlobalState {\n  const { activities } = selectAccountState(global, accountId) || {};\n  const idsBySlug = activities?.idsBySlug || {};\n\n  const { id, timestamp, kind } = activity;\n\n  if (kind === 'swap') {\n    const { from, to } = activity;\n\n    let fromTokenIds = idsBySlug[from] || [];\n    let toTokenIds = idsBySlug[to] || [];\n\n    if (!fromTokenIds.includes(id)) {\n      fromTokenIds = [id].concat(fromTokenIds);\n    }\n    if (!toTokenIds.includes(id)) {\n      toTokenIds = [id].concat(toTokenIds);\n    }\n\n    return updateAccountState(global, accountId, {\n      activities: {\n        ...activities,\n        byId: { ...activities?.byId, [id]: activity },\n        idsBySlug: { ...idsBySlug, [from]: fromTokenIds, [to]: toTokenIds },\n      },\n    });\n  }\n\n  const { slug } = activity;\n  const isLocal = getIsTxIdLocal(id);\n  let newestTransactionsBySlug = activities?.newestTransactionsBySlug || {};\n\n  if (!isLocal) {\n    const newestTx = newestTransactionsBySlug[slug];\n    if (!newestTx || newestTx.timestamp < timestamp || (newestTx.timestamp === timestamp && newestTx.txId < id)) {\n      newestTransactionsBySlug = { ...newestTransactionsBySlug, [slug]: activity };\n    }\n  }\n\n  let tokenTxIds = idsBySlug[slug] || [];\n\n  if (!tokenTxIds.includes(id)) {\n    tokenTxIds = [id].concat(tokenTxIds);\n  }\n\n  return updateAccountState(global, accountId, {\n    activities: {\n      ...activities,\n      byId: { ...activities?.byId, [id]: activity },\n      idsBySlug: { ...idsBySlug, [slug]: tokenTxIds },\n      newestTransactionsBySlug,\n    },\n  });\n}\n\nexport function addNewActivities(global: GlobalState, accountId: string, newActivities: ApiActivity[]) {\n  let { activities } = selectAccountState(global, accountId) || {};\n\n  const newById = buildCollectionByKey(newActivities, 'id');\n\n  const newIdsBySlug = buildActivityIdsBySlug(newActivities);\n  const replacedIdsBySlug = mapValues(newIdsBySlug, (newIds, slug) => {\n    const currentActivityIds = activities?.idsBySlug?.[slug];\n\n    return currentActivityIds ? unique(newIds.concat(currentActivityIds)) : newIds;\n  });\n\n  const newTxs = newActivities.filter(({ kind }) => kind === 'transaction') as ApiTransactionActivity[];\n  const newTxsBySlug = groupBy(newTxs, 'slug');\n  const newNewestTxsBySlug = mapValues(newTxsBySlug, (txs) => txs[0]);\n\n  activities = {\n    ...activities,\n    byId: { ...activities?.byId, ...newById },\n    idsBySlug: { ...activities?.idsBySlug, ...replacedIdsBySlug },\n    newestTransactionsBySlug: { ...activities?.newestTransactionsBySlug, ...newNewestTxsBySlug },\n  };\n\n  return updateAccountState(global, accountId, { activities });\n}\n\nfunction buildActivityIdsBySlug(activities: ApiActivity[]) {\n  return activities.reduce<Record<string, string[]>>((acc, activity) => {\n    const { id } = activity;\n\n    if ('slug' in activity) {\n      if (!acc[activity.slug]) {\n        acc[activity.slug] = [id];\n      } else {\n        acc[activity.slug].push(id);\n      }\n    }\n\n    if ('from' in activity) {\n      if (!acc[activity.from]) {\n        acc[activity.from] = [id];\n      } else {\n        acc[activity.from].push(id);\n      }\n    }\n\n    if ('to' in activity) {\n      if (!acc[activity.to]) {\n        acc[activity.to] = [id];\n      } else {\n        acc[activity.to].push(id);\n      }\n    }\n\n    return acc;\n  }, {});\n}\n\nexport function assignRemoteTxId(\n  global: GlobalState,\n  accountId: string,\n  txId: string,\n  newTxId: string,\n  newAmount: bigint,\n  shouldHide?: boolean,\n) {\n  const { activities } = selectAccountState(global, accountId) || {};\n  const { byId, idsBySlug } = activities || { byId: {}, idsBySlug: {} };\n  const replacedActivity: ApiActivity | undefined = byId[txId];\n\n  if (!replacedActivity || replacedActivity.kind !== 'transaction') return global;\n\n  const slug = replacedActivity.slug;\n  const updatedIdsBySlug = { ...idsBySlug };\n\n  if (slug in updatedIdsBySlug) {\n    const indexOfTxId = updatedIdsBySlug[slug].indexOf(txId);\n    if (indexOfTxId === -1) return global;\n\n    updatedIdsBySlug[slug] = [\n      ...updatedIdsBySlug[slug].slice(0, indexOfTxId),\n      newTxId,\n      ...updatedIdsBySlug[slug].slice(indexOfTxId + 1),\n    ];\n  }\n\n  const updatedByTxId = {\n    ...byId,\n    [newTxId]: {\n      ...replacedActivity,\n      id: newTxId,\n      txId: newTxId,\n      amount: newAmount,\n      shouldHide,\n    },\n  };\n\n  delete updatedByTxId[txId];\n\n  return updateAccountState(global, accountId, {\n    activities: {\n      ...activities,\n      byId: updatedByTxId,\n      idsBySlug: updatedIdsBySlug,\n    },\n  });\n}\n\nexport function addLocalTransaction(global: GlobalState, accountId: string, transaction: ApiTransactionActivity) {\n  const { activities } = selectAccountState(global, accountId) || {};\n  const localTransactions = (activities?.localTransactions ?? []).concat(transaction);\n\n  return updateAccountState(global, accountId, {\n    activities: {\n      ...activities,\n      byId: activities?.byId ?? {},\n      localTransactions,\n    },\n  });\n}\n\nexport function removeLocalTransaction(global: GlobalState, accountId: string, txId: string) {\n  const { activities } = selectAccountState(global, accountId) || {};\n  const localTransactions = (activities?.localTransactions ?? []).filter(({ id }) => id !== txId);\n\n  return updateAccountState(global, accountId, {\n    activities: {\n      ...activities,\n      byId: activities?.byId ?? {},\n      localTransactions,\n    },\n  });\n}\n","import type { GlobalState } from '../types';\nimport { TransferState } from '../types';\n\nexport function updateDappConnectRequest(global: GlobalState, update: Partial<GlobalState['dappConnectRequest']>) {\n  return {\n    ...global,\n    dappConnectRequest: {\n      ...global.dappConnectRequest,\n      ...update,\n    },\n  } as GlobalState;\n}\n\nexport function clearDappConnectRequestError(global: GlobalState) {\n  return {\n    ...global,\n    dappConnectRequest: {\n      ...global.dappConnectRequest,\n      error: undefined,\n    },\n  } as GlobalState;\n}\n\nexport function clearDappConnectRequest(global: GlobalState) {\n  return {\n    ...global,\n    dappConnectRequest: undefined,\n  } as GlobalState;\n}\n\nexport function updateCurrentDappTransfer(global: GlobalState, update: Partial<GlobalState['currentDappTransfer']>) {\n  return {\n    ...global,\n    currentDappTransfer: {\n      ...global.currentDappTransfer,\n      ...update,\n    },\n  };\n}\n\nexport function clearCurrentDappTransfer(global: GlobalState) {\n  return {\n    ...global,\n    currentDappTransfer: {\n      state: TransferState.None,\n    },\n  };\n}\n\nexport function updateConnectedDapps(global: GlobalState, update: Partial<GlobalState['settings']>) {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      dapps: update.dapps ?? [],\n    },\n  } as GlobalState;\n}\n\nexport function clearConnectedDapps(global: GlobalState) {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      dapps: [],\n    },\n  } as GlobalState;\n}\n\nexport function removeConnectedDapp(global: GlobalState, origin: string) {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      dapps: global.settings.dapps.filter((dapp) => dapp.origin !== origin),\n    },\n  } as GlobalState;\n}\n","export * from './wallet';\nexport * from './staking';\nexport * from './misc';\nexport * from './dapp';\nexport * from './activities';\nexport * from './nfts';\nexport * from './swap';\nexport * from './vesting';\n","import type { ApiBalanceBySlug, ApiSwapAsset, ApiToken } from '../../api/types';\nimport type { Account, AccountState, GlobalState } from '../types';\n\nimport { POPULAR_WALLET_VERSIONS, TONCOIN_SLUG } from '../../config';\nimport isPartialDeepEqual from '../../util/isPartialDeepEqual';\nimport {\n  selectAccount,\n  selectAccountState,\n  selectCurrentNetwork,\n  selectNetworkAccounts,\n} from '../selectors';\n\nexport function updateAuth(global: GlobalState, authUpdate: Partial<GlobalState['auth']>) {\n  return {\n    ...global,\n    auth: {\n      ...global.auth,\n      ...authUpdate,\n    },\n  } as GlobalState;\n}\n\nexport function updateAccounts(\n  global: GlobalState,\n  state: Partial<GlobalState['accounts']>,\n) {\n  return {\n    ...global,\n    accounts: {\n      ...(global.accounts || { byId: {} }),\n      ...state,\n    },\n  };\n}\n\nexport function setIsPinAccepted(global: GlobalState): GlobalState {\n  return {\n    ...global,\n    isPinAccepted: true,\n  };\n}\n\nexport function clearIsPinAccepted(global: GlobalState): GlobalState {\n  return {\n    ...global,\n    isPinAccepted: undefined,\n  };\n}\n\nexport function createAccount(\n  global: GlobalState,\n  accountId: string,\n  address: string,\n  partial?: Partial<Account>,\n  titlePostfix?: string,\n) {\n  let shouldForceAccountEdit = true;\n\n  if (!partial?.title) {\n    const network = selectCurrentNetwork(global);\n    const accounts = selectNetworkAccounts(global) || {};\n    const accountAmount = Object.keys(accounts).length;\n    const isMainnet = network === 'mainnet';\n    const titlePrefix = isMainnet ? 'Wallet' : 'Testnet Wallet';\n    const postfix = titlePostfix ? ` ${titlePostfix}` : '';\n    let title = `${titlePrefix} ${accountAmount + 1}${postfix}`;\n\n    if (accountAmount === 0) {\n      title = isMainnet ? 'MyTonWallet' : 'Testnet MyTonWallet';\n      shouldForceAccountEdit = false;\n    }\n\n    partial = { ...partial, title };\n  } else if (titlePostfix) {\n    const title = partial.title?.replace(new RegExp(`\\\\b(${POPULAR_WALLET_VERSIONS.join('|')})\\\\b`, 'g'), '');\n    partial = { ...partial, title: `${title.trim()} ${titlePostfix}` };\n  }\n\n  global = { ...global, shouldForceAccountEdit };\n\n  return updateAccount(global, accountId, { ...partial, address });\n}\n\nexport function updateAccount(\n  global: GlobalState,\n  accountId: string,\n  partial: Partial<Account>,\n) {\n  return {\n    ...global,\n    accounts: {\n      ...global.accounts,\n      byId: {\n        ...global.accounts?.byId,\n        [accountId]: {\n          ...selectAccount(global, accountId),\n          ...partial,\n        } as Account,\n      },\n    },\n  };\n}\n\nexport function renameAccount(global: GlobalState, accountId: string, title: string) {\n  return updateAccount(global, accountId, { title });\n}\n\nexport function updateBalances(\n  global: GlobalState,\n  accountId: string,\n  balancesToUpdate: ApiBalanceBySlug,\n): GlobalState {\n  if (Object.keys(balancesToUpdate).length === 0) {\n    return global;\n  }\n\n  const { balances } = selectAccountState(global, accountId) || {};\n\n  const updatedBalancesBySlug = { ...(balances?.bySlug || {}) };\n\n  for (const [slug, balance] of Object.entries(balancesToUpdate)) {\n    updatedBalancesBySlug[slug] = balance;\n  }\n\n  return updateAccountState(global, accountId, {\n    balances: {\n      ...balances,\n      bySlug: updatedBalancesBySlug,\n    },\n  });\n}\n\nexport function updateSendingLoading(global: GlobalState, isLoading: boolean): GlobalState {\n  return {\n    ...global,\n    currentTransfer: {\n      ...global.currentTransfer,\n      isLoading,\n    },\n  };\n}\n\nexport function updateTokens(\n  global: GlobalState,\n  partial: Record<string, ApiToken>,\n  withDeepCompare = false,\n): GlobalState {\n  const currentTokens = global.tokenInfo?.bySlug;\n\n  // If the backend does not work, then we won't delete the old prices\n  if (!partial[TONCOIN_SLUG].quote.price) {\n    partial = Object.values(partial).reduce((result, token) => {\n      result[token.slug] = {\n        ...token,\n        quote: currentTokens?.[token.slug]?.quote ?? token.quote,\n      };\n      return result;\n    }, {} as Record<string, ApiToken>);\n  }\n\n  if (withDeepCompare && currentTokens && isPartialDeepEqual(currentTokens, partial)) {\n    return global;\n  }\n\n  return {\n    ...global,\n    tokenInfo: {\n      ...global.tokenInfo,\n      bySlug: {\n        ...currentTokens,\n        ...partial,\n      },\n    },\n  };\n}\n\nexport function updateSwapTokens(\n  global: GlobalState,\n  partial: Record<string, ApiSwapAsset>,\n): GlobalState {\n  const currentTokens = global.swapTokenInfo?.bySlug;\n\n  return {\n    ...global,\n    swapTokenInfo: {\n      ...global.swapTokenInfo,\n      bySlug: {\n        ...currentTokens,\n        ...partial,\n      },\n    },\n  };\n}\n\nexport function updateCurrentAccountState(global: GlobalState, partial: Partial<AccountState>): GlobalState {\n  return updateAccountState(global, global.currentAccountId!, partial);\n}\n\nexport function updateAccountState(\n  global: GlobalState, accountId: string, partial: Partial<AccountState>, withDeepCompare = false,\n): GlobalState {\n  const accountState = selectAccountState(global, accountId);\n\n  if (withDeepCompare && accountState && isPartialDeepEqual(accountState, partial)) {\n    return global;\n  }\n\n  return {\n    ...global,\n    byAccountId: {\n      ...global.byAccountId,\n      [accountId]: {\n        ...accountState,\n        ...partial,\n      },\n    },\n  };\n}\n\nexport function updateHardware(global: GlobalState, hardwareUpdate: Partial<GlobalState['hardware']>) {\n  return {\n    ...global,\n    hardware: {\n      ...global.hardware,\n      ...hardwareUpdate,\n    },\n  } as GlobalState;\n}\n\nexport function updateSettings(global: GlobalState, settingsUpdate: Partial<GlobalState['settings']>) {\n  return {\n    ...global,\n    settings: {\n      ...global.settings,\n      ...settingsUpdate,\n    },\n  } as GlobalState;\n}\n\nexport function updateBiometrics(global: GlobalState, biometricsUpdate: Partial<GlobalState['biometrics']>) {\n  return {\n    ...global,\n    biometrics: {\n      ...global.biometrics,\n      ...biometricsUpdate,\n    },\n  };\n}\n\nexport function updateRestrictions(global: GlobalState, partial: Partial<GlobalState['restrictions']>) {\n  return {\n    ...global,\n    restrictions: {\n      ...global.restrictions,\n      ...partial,\n    },\n  };\n}\n\nexport function updateCurrentAccountId(global: GlobalState, accountId: string): GlobalState {\n  if (!accountId) {\n    throw Error('Empty accountId!');\n  }\n\n  return {\n    ...global,\n    currentAccountId: accountId,\n  };\n}\n","import type { ApiNft } from '../../api/types';\nimport type { GlobalState } from '../types';\n\nimport { selectAccountState } from '../selectors';\nimport { updateAccountState } from './misc';\n\nexport function addNft(global: GlobalState, accountId: string, nft: ApiNft) {\n  const nftAddress = nft.address;\n  const nfts = selectAccountState(global, accountId)!.nfts;\n  const orderedAddresses = (nfts?.orderedAddresses ?? []).filter((address) => address !== nftAddress);\n\n  return updateAccountState(global, accountId, {\n    nfts: {\n      ...nfts,\n      byAddress: { ...nfts?.byAddress, [nftAddress]: nft },\n      orderedAddresses: [nftAddress, ...orderedAddresses],\n    },\n  });\n}\n\nexport function removeNft(global: GlobalState, accountId: string, nftAddress: string) {\n  const nfts = selectAccountState(global, accountId)!.nfts;\n  const orderedAddresses = (nfts?.orderedAddresses ?? []).filter((address) => address !== nftAddress);\n  const selectedAddresses = (nfts?.selectedAddresses ?? []).filter((address) => address !== nftAddress);\n  const { [nftAddress]: removedNft, ...byAddress } = nfts?.byAddress ?? {};\n\n  return updateAccountState(global, accountId, {\n    nfts: {\n      ...nfts,\n      byAddress,\n      orderedAddresses,\n      selectedAddresses,\n    },\n  });\n}\n\nexport function updateNft(global: GlobalState, accountId: string, nftAddress: string, partial: Partial<ApiNft>) {\n  const nfts = selectAccountState(global, accountId)!.nfts;\n  const nft = nfts?.byAddress[nftAddress];\n  if (!nfts || !nft) return global;\n\n  return updateAccountState(global, accountId, {\n    nfts: {\n      ...nfts,\n      byAddress: {\n        ...nfts.byAddress,\n        [nftAddress]: { ...nft, ...partial },\n      },\n    },\n  });\n}\n\nexport function addToSelectedAddresses(global: GlobalState, accountId: string, nftAddresses: string[]) {\n  const nfts = selectAccountState(global, accountId)!.nfts;\n  const selectedAddresses = [...(nfts?.selectedAddresses ?? []), ...nftAddresses];\n\n  return updateAccountState(global, accountId, {\n    nfts: {\n      ...nfts!,\n      selectedAddresses,\n    },\n  });\n}\n\nexport function removeFromSelectedAddresses(global: GlobalState, accountId: string, nftAddress: string) {\n  const nfts = selectAccountState(global, accountId)!.nfts;\n  const selectedAddresses = (nfts?.selectedAddresses ?? []).filter((address) => address !== nftAddress);\n\n  return updateAccountState(global, accountId, {\n    nfts: {\n      ...nfts!,\n      selectedAddresses: selectedAddresses.length ? selectedAddresses : undefined,\n    },\n  });\n}\n","import type { AccountState, GlobalState } from '../types';\nimport { StakingState } from '../types';\n\nimport isPartialDeepEqual from '../../util/isPartialDeepEqual';\nimport { selectAccountState } from '../selectors';\nimport { updateAccountState } from './misc';\n\nexport function updateStaking(global: GlobalState, update: Partial<GlobalState['staking']>): GlobalState {\n  return {\n    ...global,\n    staking: {\n      ...global.staking,\n      ...update,\n    },\n  };\n}\n\nexport function clearStaking(global: GlobalState) {\n  return {\n    ...global,\n    staking: {\n      state: StakingState.None,\n    },\n  };\n}\n\nexport function updateAccountStakingState(\n  global: GlobalState,\n  accountId: string,\n  state: NonNullable<AccountState['staking']>,\n  withDeepCompare = false,\n): GlobalState {\n  const currentState = selectAccountState(global, accountId)?.staking;\n\n  if (withDeepCompare && currentState && isPartialDeepEqual(currentState, state)) {\n    return global;\n  }\n\n  return updateAccountState(global, accountId, {\n    staking: {\n      ...currentState,\n      ...state,\n    },\n  });\n}\n\nexport function updateAccountStakingStatePartial(\n  global: GlobalState,\n  accountId: string,\n  partial: Partial<AccountState['staking']>,\n): GlobalState {\n  const currentState = selectAccountState(global, accountId)?.staking;\n\n  if (!currentState) {\n    return global;\n  }\n\n  return updateAccountState(global, accountId, {\n    staking: {\n      ...currentState,\n      ...partial,\n    },\n  });\n}\n\nexport function updateStakingInfo(global: GlobalState, stakingInfo: GlobalState['stakingInfo']) {\n  return {\n    ...global,\n    stakingInfo,\n  };\n}\n","import type { GlobalState } from '../types';\nimport { SwapState } from '../types';\n\nimport { DEFAULT_SLIPPAGE_VALUE } from '../../config';\n\nexport function updateCurrentSwap(global: GlobalState, update: Partial<GlobalState['currentSwap']>) {\n  return {\n    ...global,\n    currentSwap: {\n      ...global.currentSwap,\n      ...update,\n    },\n  };\n}\n\nexport function clearCurrentSwap(global: GlobalState) {\n  return {\n    ...global,\n    currentSwap: {\n      state: SwapState.None,\n      slippage: DEFAULT_SLIPPAGE_VALUE,\n    },\n  };\n}\n","import type { ApiToken } from '../../api/types';\nimport type { GlobalState, PriceHistoryPeriods } from '../types';\n\nexport function updateTokenPriceHistory(global: GlobalState, slug: string, partial: PriceHistoryPeriods): GlobalState {\n  const { bySlug } = global.tokenPriceHistory;\n\n  return {\n    ...global,\n    tokenPriceHistory: {\n      bySlug: {\n        ...bySlug,\n        [slug]: {\n          ...bySlug[slug],\n          ...partial,\n        },\n      },\n    },\n  };\n}\n\nexport function updateTokenInfo(global: GlobalState, partial: Record<string, ApiToken>): GlobalState {\n  return {\n    ...global,\n    tokenInfo: {\n      ...global.tokenInfo,\n      bySlug: {\n        ...global.tokenInfo.bySlug,\n        ...partial,\n      },\n    },\n  };\n}\n","import type { ApiVestingInfo } from '../../api/types';\nimport type { AccountState, GlobalState } from '../types';\n\nimport { selectAccountState } from '../selectors';\nimport { updateAccountState } from './misc';\n\nexport function updateVestingInfo(global: GlobalState, accountId: string, update: ApiVestingInfo[]): GlobalState {\n  return updateVesting(global, accountId, {\n    info: update,\n  });\n}\n\nexport function updateVesting(\n  global: GlobalState,\n  accountId: string,\n  update: Partial<AccountState['vesting']>,\n): GlobalState {\n  return updateAccountState(global, accountId, {\n    vesting: {\n      ...selectAccountState(global, accountId)?.vesting || { info: [] },\n      ...update,\n    },\n  });\n}\n","import type { ApiCheckTransactionDraftResult } from '../../api/blockchains/ton/types';\nimport type { GlobalState } from '../types';\nimport { TransferState } from '../types';\n\nimport { TONCOIN_SLUG } from '../../config';\nimport { omitUndefined, pick } from '../../util/iteratees';\nimport { TOKEN_TRANSFER_TONCOIN_AMOUNT } from '../../api/blockchains/ton/constants';\nimport { selectAccountState, selectCurrentAccountState } from '../selectors';\nimport { updateAccountState, updateCurrentAccountState } from './misc';\n\nexport function updateCurrentTransferByCheckResult(global: GlobalState, result: ApiCheckTransactionDraftResult) {\n  const partial = omitUndefined({\n    toAddressName: result.addressName,\n    ...pick(result, ['isScam', 'isMemoRequired', 'dieselAmount', 'dieselStatus']),\n  });\n\n  if (Object.keys(partial).length) {\n    global = updateCurrentTransfer(global, partial);\n  }\n\n  return global;\n}\n\nexport function updateCurrentTransfer(global: GlobalState, update: Partial<GlobalState['currentTransfer']>) {\n  return {\n    ...global,\n    currentTransfer: {\n      ...global.currentTransfer,\n      ...update,\n    },\n  };\n}\n\nexport function clearCurrentTransfer(global: GlobalState) {\n  return {\n    ...global,\n    currentTransfer: {\n      state: TransferState.None,\n    },\n  };\n}\n\nexport function updateCurrentSignature(global: GlobalState, update: Partial<GlobalState['currentSignature']>) {\n  return {\n    ...global,\n    currentSignature: {\n      ...global.currentSignature,\n      ...update,\n    },\n  } as GlobalState;\n}\n\nexport function clearCurrentSignature(global: GlobalState) {\n  return {\n    ...global,\n    currentSignature: undefined,\n  };\n}\n\nexport function updateActivitiesIsLoading(global: GlobalState, isLoading: boolean) {\n  const { activities } = selectCurrentAccountState(global) || {};\n\n  return updateCurrentAccountState(global, {\n    activities: {\n      ...activities || { byId: {} },\n      isLoading,\n    },\n  });\n}\n\nexport function updateActivitiesIsHistoryEndReached(global: GlobalState, isReached: boolean, slug?: string) {\n  const { activities } = selectCurrentAccountState(global) || {};\n\n  if (slug) {\n    const bySlug = activities?.isHistoryEndReachedBySlug ?? {};\n\n    return updateCurrentAccountState(global, {\n      activities: {\n        ...activities || { byId: {} },\n        isHistoryEndReachedBySlug: {\n          ...bySlug,\n          [slug]: isReached,\n        },\n      },\n    });\n  }\n\n  return updateCurrentAccountState(global, {\n    activities: {\n      ...activities || { byId: {} },\n      isMainHistoryEndReached: isReached,\n    },\n  });\n}\n\nexport function updateActivitiesIsLoadingByAccount(global: GlobalState, accountId: string, isLoading: boolean) {\n  const { activities } = selectAccountState(global, accountId) || {};\n\n  return updateAccountState(global, accountId, {\n    activities: {\n      ...activities || { byId: {} },\n      isLoading,\n    },\n  });\n}\n\nexport function updateCurrentTransferFee(\n  global: GlobalState,\n  fee: Partial<GlobalState['currentTransfer']['fee']>,\n  amount: bigint,\n  isToncoin: boolean,\n) {\n  const accountState = selectAccountState(global, global.currentAccountId!);\n  const balance = accountState?.balances?.bySlug[TONCOIN_SLUG] ?? 0n;\n  const baseFee = fee ?? 0n;\n  const compositeFee = baseFee + (isToncoin ? 0n : TOKEN_TRANSFER_TONCOIN_AMOUNT);\n  const updatedBalance = balance - (isToncoin ? amount : 0n);\n\n  return updateCurrentTransfer(global, { fee: updatedBalance < compositeFee ? compositeFee : baseFee });\n}\n","import type {\n  ApiBalanceBySlug, ApiNetwork, ApiSwapAsset, ApiTxIdBySlug,\n} from '../../api/types';\nimport type {\n  Account,\n  AccountSettings,\n  AccountState,\n  GlobalState,\n  StakingStatus,\n  UserSwapToken,\n  UserToken,\n} from '../types';\n\nimport { MYCOIN_SLUG, MYCOIN_SLUG_TESTNET, TONCOIN_SLUG } from '../../config';\nimport { parseAccountId } from '../../util/account';\nimport { toBig } from '../../util/decimals';\nimport { findLast, mapValues } from '../../util/iteratees';\nimport memoized from '../../util/memoized';\nimport { round } from '../../util/round';\nimport { getIsSwapId, getIsTxIdLocal } from '../helpers';\n\nconst HIDDEN_TOKENS_COST = 0.01;\n\nexport function selectHasSession(global: GlobalState) {\n  return Boolean(global.currentAccountId);\n}\n\nconst selectAccountTokensMemoized = memoized((\n  balancesBySlug: ApiBalanceBySlug,\n  tokenInfo: GlobalState['tokenInfo'],\n  accountSettings: AccountSettings,\n  isSortByValueEnabled: boolean = false,\n  areTokensWithNoCostHidden: boolean = false,\n) => {\n  return Object\n    .entries(balancesBySlug)\n    .filter(([slug]) => (slug in tokenInfo.bySlug))\n    .map(([slug, balance]) => {\n      const {\n        symbol, name, image, decimals, cmcSlug, color, quote: {\n          price, percentChange24h, priceUsd,\n        },\n      } = tokenInfo.bySlug[slug];\n\n      const balanceBig = toBig(balance, decimals);\n      const totalValue = balanceBig.mul(price).round(decimals).toString();\n      const hasCost = balanceBig.mul(priceUsd ?? 0).gte(HIDDEN_TOKENS_COST);\n      const isExcepted = accountSettings.exceptionSlugs?.includes(slug);\n      const isMycoinWithBalance = slug === MYCOIN_SLUG && balance;\n      const isDisabled = !(\n        slug === TONCOIN_SLUG\n        || (areTokensWithNoCostHidden && hasCost && !isExcepted)\n        || (areTokensWithNoCostHidden && !hasCost && !isMycoinWithBalance && isExcepted)\n        || (areTokensWithNoCostHidden && !hasCost && isMycoinWithBalance && !isExcepted)\n        || (!areTokensWithNoCostHidden && !isExcepted)\n      );\n\n      return {\n        symbol,\n        slug,\n        amount: balance,\n        name,\n        image,\n        price,\n        priceUsd,\n        decimals,\n        change24h: round(percentChange24h / 100, 4),\n        isDisabled,\n        cmcSlug,\n        totalValue,\n        color,\n      } as UserToken;\n    })\n    .sort((tokenA, tokenB) => {\n      if (isSortByValueEnabled) {\n        return Number(tokenB.totalValue) - Number(tokenA.totalValue);\n      }\n\n      if (!accountSettings.orderedSlugs) {\n        return 1;\n      }\n\n      const indexA = accountSettings.orderedSlugs.indexOf(tokenA.slug);\n      const indexB = accountSettings.orderedSlugs.indexOf(tokenB.slug);\n      return indexA - indexB;\n    });\n});\n\nexport function selectCurrentAccountTokens(global: GlobalState) {\n  return selectAccountTokens(global, global.currentAccountId!);\n}\n\nexport function selectCurrentToncoinBalance(global: GlobalState) {\n  return selectCurrentAccountState(global)?.balances?.bySlug[TONCOIN_SLUG] ?? 0n;\n}\n\nexport function selectAccountTokens(global: GlobalState, accountId: string) {\n  const balancesBySlug = selectAccountState(global, accountId)?.balances?.bySlug;\n  if (!balancesBySlug || !global.tokenInfo) {\n    return undefined;\n  }\n\n  const accountSettings = selectAccountSettings(global, accountId) ?? {};\n  const { areTokensWithNoCostHidden, isSortByValueEnabled } = global.settings;\n\n  return selectAccountTokensMemoized(\n    balancesBySlug,\n    global.tokenInfo,\n    accountSettings,\n    isSortByValueEnabled,\n    areTokensWithNoCostHidden,\n  );\n}\n\nfunction createTokenList(\n  swapTokenInfo: GlobalState['swapTokenInfo'],\n  balancesBySlug: ApiBalanceBySlug,\n  sortFn: (tokenA: ApiSwapAsset, tokenB: ApiSwapAsset) => number,\n  filterFn?: (token: ApiSwapAsset) => boolean,\n): UserSwapToken[] {\n  return Object.entries(swapTokenInfo.bySlug)\n    .filter(([, token]) => !filterFn || filterFn(token))\n    .map(([slug, {\n      symbol, name, image,\n      decimals, keywords, blockchain,\n      contract, isPopular, color, price = 0, priceUsd = 0,\n    }]) => {\n      const amount = balancesBySlug[slug] ?? 0n;\n      const totalValue = toBig(amount, decimals).mul(price).toString();\n\n      return {\n        symbol,\n        slug,\n        amount,\n        price,\n        priceUsd,\n        name,\n        image,\n        decimals,\n        isDisabled: false,\n        canSwap: true,\n        isPopular,\n        keywords,\n        blockchain,\n        contract,\n        totalValue,\n        color,\n      } satisfies UserSwapToken;\n    })\n    .sort(sortFn);\n}\n\nconst selectPopularTokensMemoized = memoized(\n  (balancesBySlug: ApiBalanceBySlug, swapTokenInfo: GlobalState['swapTokenInfo']) => {\n    const popularTokenOrder = [\n      'TON',\n      'USD',\n      'USDT',\n      'BTC',\n      'ETH',\n      'jUSDT',\n      'jWBTC',\n    ];\n    const orderMap = new Map(popularTokenOrder.map((item, index) => [item, index]));\n\n    const filterFn = (token: ApiSwapAsset) => token.isPopular;\n    const sortFn = (tokenA: ApiSwapAsset, tokenB: ApiSwapAsset) => {\n      const orderIndexA = orderMap.has(tokenA.symbol) ? orderMap.get(tokenA.symbol)! : popularTokenOrder.length;\n      const orderIndexB = orderMap.has(tokenB.symbol) ? orderMap.get(tokenB.symbol)! : popularTokenOrder.length;\n\n      return orderIndexA - orderIndexB;\n    };\n    return createTokenList(swapTokenInfo, balancesBySlug, sortFn, filterFn);\n  },\n);\n\nconst selectSwapTokensMemoized = memoized(\n  (balancesBySlug: ApiBalanceBySlug, swapTokenInfo: GlobalState['swapTokenInfo']) => {\n    const sortFn = (tokenA: ApiSwapAsset, tokenB: ApiSwapAsset) => (\n      tokenA.name.trim().toLowerCase().localeCompare(tokenB.name.trim().toLowerCase())\n    );\n    return createTokenList(swapTokenInfo, balancesBySlug, sortFn);\n  },\n);\n\nconst selectAccountTokensForSwapMemoized = memoized((\n  balancesBySlug: ApiBalanceBySlug,\n  tokenInfo: GlobalState['tokenInfo'],\n  swapTokenInfo: GlobalState['swapTokenInfo'],\n  accountSettings: AccountSettings,\n  isSortByValueEnabled = false,\n  areTokensWithNoCostHidden = false,\n) => {\n  return selectAccountTokensMemoized(\n    balancesBySlug,\n    tokenInfo,\n    accountSettings,\n    isSortByValueEnabled,\n    areTokensWithNoCostHidden,\n  ).filter((token) => token.slug in swapTokenInfo.bySlug && !token.isDisabled);\n});\n\nexport function selectAvailableUserForSwapTokens(global: GlobalState) {\n  const balancesBySlug = selectCurrentAccountState(global)?.balances?.bySlug;\n  if (!balancesBySlug || !global.tokenInfo || !global.swapTokenInfo) {\n    return undefined;\n  }\n\n  const accountSettings = selectAccountSettings(global, global.currentAccountId!) ?? {};\n  const { areTokensWithNoCostHidden, isSortByValueEnabled } = global.settings;\n\n  return selectAccountTokensForSwapMemoized(\n    balancesBySlug,\n    global.tokenInfo,\n    global.swapTokenInfo,\n    accountSettings,\n    isSortByValueEnabled,\n    areTokensWithNoCostHidden,\n  );\n}\n\nexport function selectPopularTokens(global: GlobalState) {\n  const balancesBySlug = selectCurrentAccountState(global)?.balances?.bySlug;\n  if (!balancesBySlug || !global.swapTokenInfo) {\n    return undefined;\n  }\n\n  return selectPopularTokensMemoized(balancesBySlug, global.swapTokenInfo);\n}\n\nexport function selectSwapTokens(global: GlobalState) {\n  const balancesBySlug = selectCurrentAccountState(global)?.balances?.bySlug;\n  if (!balancesBySlug || !global.swapTokenInfo) {\n    return undefined;\n  }\n\n  return selectSwapTokensMemoized(\n    balancesBySlug,\n    global.swapTokenInfo,\n  );\n}\n\nexport function selectIsNewWallet(global: GlobalState) {\n  const tokens = selectCurrentAccountTokens(global);\n\n  return tokens?.length === 0 || (tokens?.length === 1 && tokens[0].amount === 0n);\n}\n\nexport function selectAccounts(global: GlobalState) {\n  return global.accounts?.byId;\n}\n\nexport const selectNetworkAccountsMemoized = memoized((network: ApiNetwork, accountsById?: Record<string, Account>) => {\n  if (!accountsById) {\n    return undefined;\n  }\n\n  return Object.fromEntries(\n    Object.entries(accountsById).filter(([accountId]) => parseAccountId(accountId).network === network),\n  );\n});\n\nexport function selectNetworkAccounts(global: GlobalState) {\n  return selectNetworkAccountsMemoized(selectCurrentNetwork(global), global.accounts?.byId);\n}\n\nexport function selectCurrentNetwork(global: GlobalState) {\n  return global.settings.isTestnet ? 'testnet' : 'mainnet';\n}\n\nexport function selectCurrentAccount(global: GlobalState) {\n  return selectAccount(global, global.currentAccountId!);\n}\n\nexport function selectAccount(global: GlobalState, accountId: string) {\n  return selectAccounts(global)?.[accountId];\n}\n\nexport function selectCurrentAccountState(global: GlobalState) {\n  return selectAccountState(global, global.currentAccountId!);\n}\n\nexport function selectAccountState(global: GlobalState, accountId: string): AccountState | undefined {\n  return global.byAccountId[accountId];\n}\n\nexport function selectFirstNonHardwareAccount(global: GlobalState) {\n  const accounts = selectAccounts(global);\n\n  if (!accounts) {\n    return undefined;\n  }\n\n  return Object.values(accounts).find((account) => !account.isHardware);\n}\n\nexport function selectNewestTxIds(global: GlobalState, accountId: string): ApiTxIdBySlug {\n  return mapValues(\n    selectAccountState(global, accountId)?.activities?.newestTransactionsBySlug || {},\n    ({ txId }) => txId,\n  );\n}\n\nexport function selectLastTxIds(global: GlobalState, accountId: string): ApiTxIdBySlug {\n  const idsBySlug = selectAccountState(global, accountId)?.activities?.idsBySlug || {};\n\n  return Object.entries(idsBySlug).reduce((result, [slug, ids]) => {\n    const txId = findLast(ids, (id) => !getIsTxIdLocal(id) && !getIsSwapId(id));\n    if (txId) result[slug] = txId;\n    return result;\n  }, {} as ApiTxIdBySlug);\n}\n\nexport function selectAccountSettings(global: GlobalState, accountId: string): AccountSettings | undefined {\n  return global.settings.byAccountId[accountId];\n}\n\nexport function selectIsHardwareAccount(global: GlobalState) {\n  const state = selectAccount(global, global.currentAccountId!);\n\n  return state?.isHardware;\n}\n\nexport function selectAllHardwareAccounts(global: GlobalState) {\n  const accounts = selectAccounts(global);\n\n  if (!accounts) {\n    return undefined;\n  }\n\n  return Object.values(accounts).filter((account) => account.isHardware);\n}\n\nexport function selectIsOneAccount(global: GlobalState) {\n  return Object.keys(selectAccounts(global) || {}).length === 1;\n}\n\nexport const selectEnabledTokensCountMemoized = memoized((tokens?: UserToken[]) => {\n  return (tokens ?? []).filter(({ isDisabled }) => !isDisabled).length;\n});\n\nexport function selectLedgerAccountIndexToImport(global: GlobalState) {\n  const hardwareAccounts = selectAllHardwareAccounts(global) ?? [];\n  const hardwareAccountIndexes = hardwareAccounts?.map((account) => account.ledger!.index)\n    .sort((a, b) => a - b);\n\n  if (hardwareAccountIndexes.length === 0 || hardwareAccountIndexes[0] !== 0) {\n    return -1;\n  }\n\n  if (hardwareAccountIndexes.length === 1) {\n    return 0;\n  }\n\n  for (let i = 1; i < hardwareAccountIndexes.length; i++) {\n    if (hardwareAccountIndexes[i] - hardwareAccountIndexes[i - 1] !== 1) {\n      return i - 1;\n    }\n  }\n\n  return hardwareAccountIndexes.length - 1;\n}\n\nexport function selectLocalTransactions(global: GlobalState, accountId: string) {\n  const accountState = global.byAccountId?.[accountId];\n\n  return accountState?.activities?.localTransactions;\n}\n\nexport function selectIsPasswordPresent(global: GlobalState) {\n  return !!selectFirstNonHardwareAccount(global);\n}\n\nexport function selectAccountIdByAddress(global: GlobalState, address: string): string | undefined {\n  const accounts = selectAccounts(global);\n\n  if (!accounts) return undefined;\n\n  const requiredAccount = Object.entries(accounts)\n    .find(([accountId, account]) => (account.address === address ? accountId : undefined));\n\n  return requiredAccount?.[0];\n}\n\nexport function selectTokenAddress(global: GlobalState, slug: string) {\n  if (slug === TONCOIN_SLUG) return undefined;\n  return Object.values(global.tokenInfo.bySlug)\n    .find((token) => slug === token.slug)!\n    .minterAddress!;\n}\n\nexport function selectCurrentAccountStakingStatus(global: GlobalState): StakingStatus | undefined {\n  const accountState = selectCurrentAccountState(global);\n\n  return accountState?.staking?.balance\n    ? accountState.staking.isUnstakeRequested\n      ? 'unstakeRequested'\n      : 'active'\n    : undefined;\n}\n\n// Slow, not to be used in `withGlobal`\nexport function selectVestingPartsReadyToUnfreeze(global: GlobalState, accountId: string) {\n  const vesting = selectAccountState(global, accountId)?.vesting?.info || [];\n\n  return vesting.reduce((acc, currentVesting) => {\n    currentVesting.parts.forEach((part) => {\n      if (part.status === 'ready') {\n        acc.push({\n          id: currentVesting.id,\n          partId: part.id,\n        });\n      }\n    });\n\n    return acc;\n  }, [] as { id: number; partId: number }[]);\n}\n\nexport function selectMycoin(global: GlobalState) {\n  const { isTestnet } = global.settings;\n\n  return global.tokenInfo.bySlug[isTestnet ? MYCOIN_SLUG_TESTNET : MYCOIN_SLUG];\n}\n","import type { ApiTonConnectProof } from '../api/tonConnect/types';\nimport type {\n  ApiActivity,\n  ApiAnyDisplayError,\n  ApiBalanceBySlug,\n  ApiBaseCurrency,\n  ApiCountryCode,\n  ApiDapp,\n  ApiDappPermissions,\n  ApiDappTransfer,\n  ApiHistoryList,\n  ApiLedgerDriver,\n  ApiNetwork,\n  ApiNft,\n  ApiParsedPayload,\n  ApiPriceHistoryPeriod,\n  ApiSite,\n  ApiStakingHistory,\n  ApiStakingType,\n  ApiSwapAsset,\n  ApiToken,\n  ApiTransaction,\n  ApiTransactionActivity,\n  ApiUpdate,\n  ApiUpdateDappConnect,\n  ApiUpdateDappLoading,\n  ApiUpdateDappSendTransactions,\n  ApiVestingInfo,\n  ApiWalletInfo,\n  ApiWalletVersion,\n} from '../api/types';\nimport type { AuthConfig } from '../util/authApi/types';\nimport type { LedgerWalletInfo } from '../util/ledger/types';\n\nexport type IAnchorPosition = {\n  x: number;\n  y: number;\n};\n\nexport type AnimationLevel = 0 | 1 | 2;\nexport type Theme = 'light' | 'dark' | 'system';\nexport type NotificationType = {\n  icon?: string;\n  message: string;\n};\nexport type DialogType = {\n  title?: string;\n  message: string;\n};\n\nexport type LangCode = 'en' | 'es' | 'ru' | 'zh-Hant' | 'zh-Hans' | 'tr' | 'de' | 'th' | 'uk' | 'pl';\n\nexport interface LangItem {\n  langCode: LangCode;\n  name: string;\n  nativeName: string;\n  rtl: boolean;\n}\n\nexport interface LangString {\n  value?: string;\n}\n\nexport type LangPack = Record<string, string | LangString>;\n\nexport type StakingStatus = 'active' | 'unstakeRequested';\n\nexport type AuthMethod = 'createAccount' | 'importMnemonic' | 'importHardwareWallet';\n\nexport enum AppState {\n  Auth,\n  Main,\n  Settings,\n  Ledger,\n  Inactive,\n}\n\nexport enum AuthState {\n  none,\n  createWallet,\n  checkPassword,\n  createPin,\n  confirmPin,\n  createBiometrics,\n  confirmBiometrics,\n  createNativeBiometrics,\n  createPassword,\n  createBackup,\n  disclaimerAndBackup,\n  importWalletCheckPassword,\n  importWallet,\n  importWalletCreatePin,\n  importWalletConfirmPin,\n  importWalletCreateNativeBiometrics,\n  importWalletCreateBiometrics,\n  importWalletConfirmBiometrics,\n  importWalletCreatePassword,\n  disclaimer,\n  ready,\n  about,\n}\n\nexport enum BiometricsState {\n  None,\n  TurnOnPasswordConfirmation,\n  TurnOnRegistration,\n  TurnOnVerification,\n  TurnOnComplete,\n  TurnOffWarning,\n  TurnOffBiometricConfirmation,\n  TurnOffCreatePassword,\n  TurnOffComplete,\n}\n\nexport enum TransferState {\n  None,\n  WarningHardware,\n  Initial,\n  Confirm,\n  Password,\n  ConnectHardware,\n  ConfirmHardware,\n  Complete,\n}\n\nexport enum SwapState {\n  None,\n  Initial,\n  Blockchain,\n  Password,\n  WaitTokens,\n  ConnectHardware,\n  ConfirmHardware,\n  Complete,\n  SelectTokenFrom,\n  SelectTokenTo,\n}\n\nexport enum SwapFeeSource {\n  In,\n  Out,\n}\n\nexport enum SwapInputSource {\n  In,\n  Out,\n}\n\nexport enum SwapErrorType {\n  UnexpectedError,\n  InvalidPair,\n  NotEnoughLiquidity,\n\n  ChangellyMinSwap,\n  ChangellyMaxSwap,\n  NotEnoughForFee,\n  TooSmallAmount,\n}\n\nexport enum SwapType {\n  OnChain,\n  CrosschainFromToncoin,\n  CrosschainToToncoin,\n}\n\nexport enum DappConnectState {\n  Info,\n  Password,\n  ConnectHardware,\n  ConfirmHardware,\n}\n\nexport enum HardwareConnectState {\n  Connect,\n  Connecting,\n  Failed,\n  ConnectedWithSeveralWallets,\n  ConnectedWithSingleWallet,\n  WaitingForBrowser,\n}\n\nexport enum StakingState {\n  None,\n\n  StakeInitial,\n  StakePassword,\n  StakeConnectHardware,\n  StakeConfirmHardware,\n  StakeComplete,\n\n  UnstakeInitial,\n  UnstakePassword,\n  UnstakeConnectHardware,\n  UnstakeConfirmHardware,\n  UnstakeComplete,\n\n  NotEnoughBalance,\n}\n\nexport enum VestingUnfreezeState {\n  Password,\n  ConnectHardware,\n  ConfirmHardware,\n}\n\nexport enum SettingsState {\n  Initial,\n  Appearance,\n  Assets,\n  Dapps,\n  Language,\n  About,\n  Disclaimer,\n  NativeBiometricsTurnOn,\n  SelectTokenList,\n  WalletVersion,\n  HiddenNfts,\n}\n\nexport enum ActiveTab {\n  Receive,\n  Transfer,\n  Swap,\n  Stake,\n}\n\nexport enum ContentTab {\n  Assets,\n  Activity,\n  Explore,\n  Nft,\n  NotcoinVouchers,\n}\n\nexport enum MediaType {\n  Nft,\n}\n\nexport type UserToken = {\n  amount: bigint;\n  name: string;\n  symbol: string;\n  image?: string;\n  slug: string;\n  price: number;\n  priceUsd: number;\n  decimals: number;\n  change24h: number;\n  isDisabled?: boolean;\n  canSwap?: boolean;\n  keywords?: string[];\n  cmcSlug?: string;\n  totalValue: string;\n  color?: string;\n};\n\nexport type UserSwapToken = {\n  blockchain: string;\n  isPopular: boolean;\n  contract?: string;\n} & Omit<UserToken, 'change24h'>;\n\nexport type TokenPeriod = '1D' | '7D' | '1M' | '3M' | '1Y' | 'ALL';\n\nexport type PriceHistoryPeriods = Partial<Record<ApiPriceHistoryPeriod, ApiHistoryList>>;\n\nexport type DieselStatus = 'not-available' | 'not-authorized' | 'pending-previous' | 'available';\n\nexport interface Account {\n  title?: string;\n  address: string;\n  isHardware?: boolean;\n  ledger?: {\n    index: number;\n    driver: ApiLedgerDriver;\n  };\n}\n\nexport interface AssetPairs {\n  [slug: string]: {\n    isReverseProhibited?: boolean;\n  };\n}\n\nexport interface AccountState {\n  balances?: {\n    bySlug: ApiBalanceBySlug;\n  };\n  activities?: {\n    isLoading?: boolean;\n    byId: Record<string, ApiActivity>;\n    idsBySlug?: Record<string, string[]>;\n    newestTransactionsBySlug?: Record<string, ApiTransaction>;\n    isMainHistoryEndReached?: boolean;\n    isHistoryEndReachedBySlug?: Record<string, boolean>;\n    localTransactions?: ApiTransactionActivity[];\n  };\n  nfts?: {\n    byAddress: Record<string, ApiNft>;\n    orderedAddresses?: string[];\n    currentCollectionAddress?: string;\n    selectedAddresses?: string[];\n  };\n  blacklistedNftAddresses?: string[];\n  whitelistedNftAddresses?: string[];\n  selectedNftsToHide?: {\n    addresses: string[];\n    isCollection: boolean;\n  };\n  isUnhideNftModalOpen?: boolean;\n  selectedNftToUnhide?: {\n    address: ApiNft['address'];\n    name: ApiNft['name'];\n  };\n  isBackupRequired?: boolean;\n  activeDappOrigin?: string;\n  currentTokenSlug?: string;\n  currentActivityId?: string;\n  currentTokenPeriod?: TokenPeriod;\n  savedAddresses?: Record<string, string>;\n  activeContentTab?: ContentTab;\n  landscapeActionsActiveTabIndex?: ActiveTab;\n\n  // Staking\n  staking?: {\n    type: ApiStakingType;\n    balance: bigint;\n    apy: number;\n    isUnstakeRequested: boolean;\n    start: number;\n    end: number;\n    totalProfit: bigint;\n    // liquid\n    unstakeRequestedAmount?: bigint;\n    tokenBalance?: bigint;\n    isInstantUnstakeRequested?: boolean;\n  };\n\n  vesting?: {\n    info: ApiVestingInfo[];\n    isLoading?: boolean;\n    isConfirmRequested?: boolean;\n    error?: string;\n    unfreezeRequestedIds?: { id: number; partId: number }[];\n    unfreezeState?: VestingUnfreezeState;\n  };\n\n  stakingHistory?: ApiStakingHistory;\n  browserHistory?: string[];\n\n  isDieselAuthorizationStarted?: boolean;\n  isLongUnstakeRequested?: boolean;\n}\n\nexport interface AccountSettings {\n  orderedSlugs?: string[];\n  exceptionSlugs?: string[];\n  deletedSlugs?: string[];\n}\n\nexport interface NftTransfer {\n  name?: string;\n  address: string;\n  thumbnail: string;\n  collectionName?: string;\n}\n\nexport type GlobalState = {\n  DEBUG_capturedId?: number;\n\n  appState: AppState;\n\n  auth: {\n    state: AuthState;\n    biometricsStep?: 1 | 2;\n    method?: AuthMethod;\n    isLoading?: boolean;\n    mnemonic?: string[];\n    mnemonicCheckIndexes?: number[];\n    accountId?: string;\n    address?: string;\n    error?: string;\n    password?: string;\n    isBackupModalOpen?: boolean;\n  };\n\n  biometrics: {\n    state: BiometricsState;\n    error?: string;\n    password?: string;\n  };\n\n  nativeBiometricsError?: string;\n\n  hardware: {\n    hardwareState?: HardwareConnectState;\n    hardwareWallets?: LedgerWalletInfo[];\n    hardwareSelectedIndices?: number[];\n    isRemoteTab?: boolean;\n    isLedgerConnected?: boolean;\n    isTonAppConnected?: boolean;\n  };\n\n  currentTransfer: {\n    state: TransferState;\n    isLoading?: boolean;\n    tokenSlug?: string;\n    toAddress?: string;\n    toAddressName?: string;\n    resolvedAddress?: string;\n    error?: string;\n    amount?: bigint;\n    fee?: bigint;\n    comment?: string;\n    binPayload?: string;\n    promiseId?: string;\n    txId?: string;\n    rawPayload?: string;\n    parsedPayload?: ApiParsedPayload;\n    stateInit?: string;\n    shouldEncrypt?: boolean;\n    isToNewAddress?: boolean;\n    isScam?: boolean;\n    nfts?: ApiNft[];\n    sentNftsCount?: number;\n    isMemoRequired?: boolean;\n    dieselStatus?: DieselStatus;\n    dieselAmount?: bigint;\n    withDiesel?: boolean;\n  };\n\n  currentSwap: {\n    state: SwapState;\n    swapId?: string;\n    slippage: number;\n    tokenInSlug?: string;\n    tokenOutSlug?: string;\n    amountIn?: string;\n    amountOut?: string;\n    amountOutMin?: string;\n    transactionFee?: string;\n    networkFee?: number;\n    realNetworkFee?: number;\n    swapFee?: string;\n    priceImpact?: number;\n    dexLabel?: string;\n    activityId?: string;\n    error?: string;\n    errorType?: SwapErrorType;\n    isLoading?: boolean;\n    shouldEstimate?: boolean;\n    isEstimating?: boolean;\n    inputSource?: SwapInputSource;\n    swapType?: SwapType;\n    feeSource?: SwapFeeSource;\n    toAddress?: string;\n    payinAddress?: string;\n    payinExtraId?: string;\n    pairs?: {\n      bySlug: Record<string, AssetPairs>;\n    };\n    limits?: {\n      fromMin?: string;\n      fromMax?: string;\n    };\n    isSettingsModalOpen?: boolean;\n    dieselStatus?: DieselStatus;\n  };\n\n  currentSignature?: {\n    promiseId: string;\n    dataHex: string;\n    error?: string;\n    isSigned?: boolean;\n  };\n\n  exploreSites?: ApiSite[];\n\n  currentDappTransfer: {\n    state: TransferState;\n    isSse?: boolean;\n    promiseId?: string;\n    isLoading?: boolean;\n    transactions?: ApiDappTransfer[];\n    vestingAddress?: string;\n    viewTransactionOnIdx?: number;\n    fee?: bigint;\n    dapp?: ApiDapp;\n    error?: string;\n  };\n\n  dappConnectRequest?: {\n    state: DappConnectState;\n    isSse?: boolean;\n    promiseId?: string;\n    accountId?: string;\n    dapp: ApiDapp;\n    permissions?: ApiDappPermissions;\n    proof?: ApiTonConnectProof;\n    error?: string;\n  };\n\n  staking: {\n    state: StakingState;\n    isLoading?: boolean;\n    isUnstaking?: boolean;\n    amount?: bigint;\n    tokenAmount?: bigint;\n    fee?: bigint;\n    error?: string;\n    type?: ApiStakingType;\n  };\n\n  stakingInfo: {\n    liquid?: {\n      instantAvailable: bigint;\n    };\n  };\n\n  accounts?: {\n    byId: Record<string, Account>;\n    isLoading?: boolean;\n    error?: string;\n  };\n\n  tokenInfo: {\n    bySlug: Record<string, ApiToken>;\n  };\n\n  swapTokenInfo: {\n    bySlug: Record<string, ApiSwapAsset>;\n  };\n\n  tokenPriceHistory: {\n    bySlug: Record<string, PriceHistoryPeriods>;\n  };\n\n  byAccountId: Record<string, AccountState>;\n\n  walletVersions?: {\n    currentVersion: ApiWalletVersion;\n    byId: Record<string, ApiWalletInfo[]>;\n  };\n\n  settings: {\n    state: SettingsState;\n    theme: Theme;\n    animationLevel: AnimationLevel;\n    langCode: LangCode;\n    dapps: ApiDapp[];\n    byAccountId: Record<string, AccountSettings>;\n    areTinyTransfersHidden?: boolean;\n    canPlaySounds?: boolean;\n    isInvestorViewEnabled?: boolean;\n    isTonProxyEnabled?: boolean;\n    isTonMagicEnabled?: boolean;\n    isDeeplinkHookEnabled?: boolean;\n    isPasswordNumeric?: boolean; // Backwards compatibility for non-numeric passwords from older versions\n    isTestnet?: boolean;\n    isSecurityWarningHidden?: boolean;\n    areTokensWithNoCostHidden: boolean;\n    isSortByValueEnabled?: boolean;\n    importToken?: {\n      isLoading?: boolean;\n      token?: UserToken | UserSwapToken;\n    };\n    authConfig?: AuthConfig;\n    baseCurrency?: ApiBaseCurrency;\n  };\n\n  dialogs: DialogType[];\n  notifications: NotificationType[];\n  currentAccountId?: string;\n  isAddAccountModalOpen?: boolean;\n  isBackupWalletModalOpen?: boolean;\n  isHardwareModalOpen?: boolean;\n  isStakingInfoModalOpen?: boolean;\n  isQrScannerOpen?: boolean;\n  areSettingsOpen?: boolean;\n  isAppUpdateAvailable?: boolean;\n  confettiRequestedAt?: number;\n  isPinAccepted?: boolean;\n  isOnRampWidgetModalOpen?: boolean;\n  isReceiveModalOpen?: boolean;\n  isVestingModalOpen?: boolean;\n  shouldForceAccountEdit?: boolean;\n  isIncorrectTimeNotificationReceived?: boolean;\n  currentBrowserOptions?: {\n    url: string;\n    title?: string;\n    subtitle?: string;\n  };\n\n  currentQrScan?: {\n    currentTransfer?: GlobalState['currentTransfer'];\n    currentSwap?: GlobalState['currentSwap'];\n  };\n\n  latestAppVersion?: string;\n  stateVersion: number;\n  restrictions: {\n    isLimitedRegion: boolean;\n    isSwapDisabled: boolean;\n    isOnRampDisabled: boolean;\n    isCopyStorageEnabled?: boolean;\n    supportAccountsCount?: number;\n    countryCode?: ApiCountryCode;\n  };\n\n  mediaViewer: {\n    mediaId?: string;\n    mediaType?: MediaType;\n    txId?: string;\n    hiddenNfts?: 'user' | 'scam';\n    noGhostAnimation?: boolean;\n  };\n\n  isLoadingOverlayOpen?: boolean;\n  activitiesUpdateStartedAt?: number;\n  balanceUpdateStartedAt?: number;\n};\n\nexport interface ActionPayloads {\n  // Initial\n  init: undefined;\n  initApi: undefined;\n  afterInit: undefined;\n  apiUpdate: ApiUpdate;\n  resetAuth: undefined;\n  startCreatingWallet: undefined;\n  afterCheckMnemonic: undefined;\n  skipCheckMnemonic: undefined;\n  restartCheckMnemonicIndexes: undefined;\n  cancelDisclaimer: undefined;\n  afterCreatePassword: { password: string; isPasswordNumeric?: boolean };\n  startCreatingBiometrics: undefined;\n  afterCreateBiometrics: undefined;\n  skipCreateBiometrics: undefined;\n  cancelCreateBiometrics: undefined;\n  afterCreateNativeBiometrics: undefined;\n  skipCreateNativeBiometrics: undefined;\n  createPin: { pin: string; isImporting: boolean };\n  confirmPin: { isImporting: boolean };\n  cancelConfirmPin: { isImporting: boolean };\n  startImportingWallet: undefined;\n  afterImportMnemonic: { mnemonic: string[] };\n  startImportingHardwareWallet: { driver: ApiLedgerDriver };\n  confirmDisclaimer: undefined;\n  afterConfirmDisclaimer: undefined;\n  cleanAuthError: undefined;\n  openAbout: undefined;\n  closeAbout: undefined;\n  openAuthBackupWalletModal: undefined;\n  closeAuthBackupWalletModal: { isBackupCreated?: boolean } | undefined;\n  initializeHardwareWalletConnection: undefined;\n  connectHardwareWallet: undefined;\n  createHardwareAccounts: undefined;\n  loadMoreHardwareWallets: { lastIndex: number };\n  createAccount: { password: string; isImporting: boolean; isPasswordNumeric?: boolean; version?: ApiWalletVersion };\n  afterSelectHardwareWallets: { hardwareSelectedIndices: number[] };\n  resetApiSettings: { areAllDisabled?: boolean } | undefined;\n  checkAppVersion: undefined;\n  importAccountByVersion: { version: ApiWalletVersion };\n\n  selectToken: { slug?: string } | undefined;\n  openBackupWalletModal: undefined;\n  closeBackupWalletModal: undefined;\n  setIsBackupRequired: { isMnemonicChecked: boolean };\n  openHardwareWalletModal: undefined;\n  closeHardwareWalletModal: undefined;\n  resetHardwareWalletConnect: undefined;\n  setTransferScreen: { state: TransferState };\n  setTransferAmount: { amount?: bigint };\n  setTransferToAddress: { toAddress?: string };\n  setTransferComment: { comment?: string };\n  setTransferShouldEncrypt: { shouldEncrypt?: boolean };\n  startTransfer: {\n    isPortrait?: boolean;\n    tokenSlug?: string;\n    amount?: bigint;\n    toAddress?: string;\n    comment?: string;\n    nfts?: ApiNft[];\n    binPayload?: string;\n  } | undefined;\n  changeTransferToken: { tokenSlug: string };\n  fetchFee: {\n    tokenSlug: string;\n    amount: bigint;\n    toAddress: string;\n    comment?: string;\n    shouldEncrypt?: boolean;\n    binPayload?: string;\n  };\n  fetchNftFee: {\n    toAddress: string;\n    nftAddresses: string[];\n    comment?: string;\n  };\n  submitTransferInitial: {\n    tokenSlug: string;\n    amount: bigint;\n    toAddress: string;\n    comment?: string;\n    shouldEncrypt?: boolean;\n    nftAddresses?: string[];\n    withDiesel?: boolean;\n  };\n  submitTransferConfirm: undefined;\n  submitTransferPassword: { password: string };\n  submitTransferHardware: undefined;\n  clearTransferError: undefined;\n  cancelTransfer: { shouldReset?: boolean } | undefined;\n  showDialog: { title?: string; message: string };\n  dismissDialog: undefined;\n  showError: { error?: ApiAnyDisplayError | string };\n  showNotification: { message: string; icon?: string };\n  dismissNotification: undefined;\n  initLedgerPage: undefined;\n  afterSignIn: { isFirstLogin: boolean } | undefined;\n  signOut: { isFromAllAccounts?: boolean } | undefined;\n  cancelCaching: undefined;\n  afterSignOut: { isFromAllAccounts?: boolean } | undefined;\n  addAccount: { method: AuthMethod; password: string; isAuthFlow?: boolean };\n  addAccount2: { method: AuthMethod; password: string };\n  switchAccount: { accountId: string; newNetwork?: ApiNetwork };\n  renameAccount: { accountId: string; title: string };\n  clearAccountError: undefined;\n  clearAccountLoading: undefined;\n  validatePassword: { password: string };\n  verifyHardwareAddress: undefined;\n  authorizeDiesel: undefined;\n  fetchDieselState: { tokenSlug: string };\n\n  fetchTokenTransactions: { limit: number; slug: string; shouldLoadWithBudget?: boolean };\n  fetchAllTransactions: { limit: number; shouldLoadWithBudget?: boolean };\n  resetIsHistoryEndReached: { slug: string } | undefined;\n  fetchNfts: undefined;\n  showActivityInfo: { id: string };\n  closeActivityInfo: { id: string };\n  openNftCollection: { address: string };\n  closeNftCollection: undefined;\n  selectNfts: { addresses: string[] };\n  clearNftSelection: { address: string };\n  clearNftsSelection: undefined;\n  burnNfts: { nfts: ApiNft[] };\n  addNftsToBlacklist: { addresses: ApiNft['address'][] };\n  addNftsToWhitelist: { addresses: ApiNft['address'][] };\n  removeNftSpecialStatus: { address: ApiNft['address'] };\n  openUnhideNftModal: {\n    address: ApiNft['address'];\n    name: ApiNft['name'];\n  };\n  closeUnhideNftModal: undefined;\n  openHideNftModal: {\n    addresses: ApiNft['address'][];\n    isCollection: boolean;\n  };\n  closeHideNftModal: undefined;\n\n  submitSignature: { password: string };\n  clearSignatureError: undefined;\n  cancelSignature: undefined;\n\n  addSavedAddress: { address: string; name: string };\n  removeFromSavedAddress: { address: string };\n\n  setCurrentTokenPeriod: { period: TokenPeriod };\n  openAddAccountModal: undefined;\n  closeAddAccountModal: undefined;\n\n  setLandscapeActionsActiveTabIndex: { index: ActiveTab };\n  setActiveContentTab: { tab: ContentTab };\n\n  requestConfetti: undefined;\n  setIsPinAccepted: undefined;\n  clearIsPinAccepted: undefined;\n\n  requestOpenQrScanner: undefined;\n  closeQrScanner: undefined;\n  handleQrCode: { data: string };\n\n  // Staking\n  startStaking: { isUnstaking?: boolean } | undefined;\n  setStakingScreen: { state: StakingState };\n  submitStakingInitial: { amount?: bigint; isUnstaking?: boolean } | undefined;\n  submitStakingPassword: { password: string; isUnstaking?: boolean };\n  submitStakingHardware: { isUnstaking?: boolean } | undefined;\n  clearStakingError: undefined;\n  cancelStaking: undefined;\n  fetchStakingHistory: { limit?: number; offset?: number } | undefined;\n  fetchStakingFee: { amount: bigint };\n  openStakingInfo: undefined;\n  closeStakingInfo: undefined;\n\n  // Settings\n  openSettings: undefined;\n  openSettingsWithState: { state: SettingsState };\n  setSettingsState: { state?: SettingsState };\n  closeSettings: undefined;\n  setTheme: { theme: Theme };\n  setAnimationLevel: { level: AnimationLevel };\n  toggleTinyTransfersHidden: { isEnabled?: boolean } | undefined;\n  toggleInvestorView: { isEnabled?: boolean } | undefined;\n  toggleCanPlaySounds: { isEnabled?: boolean } | undefined;\n  toggleTonProxy: { isEnabled: boolean };\n  toggleTonMagic: { isEnabled: boolean };\n  toggleDeeplinkHook: { isEnabled: boolean };\n  startChangingNetwork: { network: ApiNetwork };\n  changeNetwork: { network: ApiNetwork };\n  changeLanguage: { langCode: LangCode };\n  closeSecurityWarning: undefined;\n  toggleTokensWithNoCost: { isEnabled: boolean };\n  toggleSortByValue: { isEnabled: boolean };\n  initTokensOrder: undefined;\n  updateDeletionListForActiveTokens: { accountId: string } | undefined;\n  sortTokens: { orderedSlugs: string[] };\n  toggleExceptionToken: { slug: string };\n  addToken: { token: UserToken };\n  deleteToken: { slug: string };\n  importToken: { address: string; isSwap?: boolean };\n  resetImportToken: undefined;\n  closeBiometricSettings: undefined;\n  openBiometricsTurnOn: undefined;\n  openBiometricsTurnOffWarning: undefined;\n  openBiometricsTurnOff: undefined;\n  enableBiometrics: { password: string };\n  disableBiometrics: { password: string; isPasswordNumeric?: boolean };\n  enableNativeBiometrics: { password: string };\n  disableNativeBiometrics: undefined;\n  changeBaseCurrency: { currency: ApiBaseCurrency };\n  clearNativeBiometricsError: undefined;\n  copyStorageData: undefined;\n\n  // TON Connect\n  submitDappConnectRequestConfirm: { accountId: string; password?: string };\n  submitDappConnectRequestConfirmHardware: { accountId: string };\n  clearDappConnectRequestError: undefined;\n  cancelDappConnectRequestConfirm: undefined;\n  setDappConnectRequestState: { state: DappConnectState };\n  showDappTransfer: { transactionIdx: number };\n  setDappTransferScreen: { state: TransferState };\n  clearDappTransferError: undefined;\n  submitDappTransferConfirm: undefined;\n  submitDappTransferPassword: { password: string };\n  submitDappTransferHardware: undefined;\n  cancelDappTransfer: undefined;\n  closeDappTransfer: undefined;\n\n  getDapps: undefined;\n  deleteAllDapps: undefined;\n  deleteDapp: { origin: string };\n  loadExploreSites: undefined;\n\n  addSiteToBrowserHistory: { url: string };\n  removeSiteFromBrowserHistory: { url: string };\n  openBrowser: { url: string; title?: string; subtitle?: string };\n  closeBrowser: undefined;\n\n  apiUpdateDappConnect: ApiUpdateDappConnect;\n  apiUpdateDappSendTransaction: ApiUpdateDappSendTransactions;\n  apiUpdateDappLoading: ApiUpdateDappLoading;\n  apiUpdateDappCloseLoading: undefined;\n\n  // Swap\n  submitSwap: { password: string };\n  startSwap: {\n    state?: SwapState;\n    tokenInSlug?: string;\n    tokenOutSlug?: string;\n    amountIn?: string;\n    toAddress?: string;\n  } | undefined;\n  cancelSwap: { shouldReset?: boolean } | undefined;\n  setDefaultSwapParams: { tokenInSlug?: string; tokenOutSlug?: string } | undefined;\n  switchSwapTokens: undefined;\n  setSwapTokenIn: { tokenSlug: string };\n  setSwapTokenOut: { tokenSlug: string };\n  setSwapAmountIn: { amount?: string };\n  setSwapAmountOut: { amount?: string };\n  setSlippage: { slippage: number };\n  loadSwapPairs: { tokenSlug: string; shouldForceUpdate?: boolean };\n  estimateSwap: { shouldBlock: boolean; isEnoughToncoin?: boolean };\n  setSwapScreen: { state: SwapState };\n  clearSwapError: undefined;\n  estimateSwapCex: { shouldBlock: boolean };\n  submitSwapCexFromToncoin: { password: string };\n  submitSwapCexToToncoin: { password: string };\n  setSwapType: { type: SwapType };\n  setSwapCexAddress: { toAddress: string };\n  addSwapToken: { token: UserSwapToken };\n  toggleSwapSettingsModal: { isOpen: boolean };\n  updatePendingSwaps: undefined;\n\n  openOnRampWidgetModal: undefined;\n  closeOnRampWidgetModal: undefined;\n\n  // MediaViewer\n  openMediaViewer: {\n    mediaId: string;\n    mediaType: MediaType;\n    txId?: string;\n    hiddenNfts?: 'user' | 'scam';\n    noGhostAnimation?: boolean;\n  };\n  closeMediaViewer: undefined;\n\n  openReceiveModal: undefined;\n  closeReceiveModal: undefined;\n\n  loadPriceHistory: { slug: string; period: ApiPriceHistoryPeriod; currency?: ApiBaseCurrency };\n\n  showIncorrectTimeError: undefined;\n\n  openLoadingOverlay: undefined;\n  closeLoadingOverlay: undefined;\n\n  loadMycoin: undefined;\n  openVestingModal: undefined;\n  closeVestingModal: undefined;\n  startClaimingVesting: undefined;\n  submitClaimingVesting: { password: string };\n  submitClaimingVestingHardware: undefined;\n  clearVestingError: undefined;\n  cancelClaimingVesting: undefined;\n}\n\nexport enum LoadMoreDirection {\n  Forwards,\n  Backwards,\n}\n","import { type FC, type Props, useRef } from '../lib/teact/teact';\n\nexport default function freezeWhenClosed<T extends FC>(Component: T) {\n  function ComponentWrapper(props: Props) {\n    const newProps = useRef(props);\n\n    if (props.isOpen) {\n      newProps.current = props;\n    } else {\n      newProps.current = {\n        ...newProps.current,\n        isOpen: false,\n      };\n    }\n\n    return Component(newProps.current);\n  }\n\n  return ComponentWrapper as T;\n}\n","import type { Scheduler } from '../util/schedulers';\nimport type { Signal } from '../util/signals';\n\nimport useDebouncedCallback from './useDebouncedCallback';\nimport useDerivedSignal from './useDerivedSignal';\nimport useThrottledCallback from './useThrottledCallback';\n\nexport function useThrottledResolver<T>(\n  resolver: () => T,\n  deps: any[],\n  msOrSchedulerFn: number | Scheduler,\n  noFirst = false,\n) {\n  return useThrottledCallback((setValue: (newValue: T) => void) => {\n    setValue(resolver());\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, deps, msOrSchedulerFn, noFirst);\n}\n\nexport function useThrottledSignal<T extends any>(\n  getValue: Signal<T>,\n  ms: number,\n  noFirst = false,\n): Signal<T> {\n  const throttledResolver = useThrottledResolver(() => getValue(), [getValue], ms, noFirst);\n\n  return useDerivedSignal(\n    throttledResolver, [throttledResolver, getValue], true,\n  );\n}\n\nexport function useDebouncedResolver<T>(\n  resolver: () => T,\n  deps: any[],\n  ms: number,\n  noFirst = false,\n  noLast = false,\n) {\n  return useDebouncedCallback((setValue: (newValue: T) => void) => {\n    setValue(resolver());\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, deps, ms, noFirst, noLast);\n}\n\nexport function useDebouncedSignal<T extends any>(\n  getValue: Signal<T>,\n  ms: number,\n  noFirst = false,\n  noLast = false,\n): Signal<T> {\n  const debouncedResolver = useDebouncedResolver(() => getValue(), [getValue], ms, noFirst, noLast);\n\n  return useDerivedSignal(\n    debouncedResolver, [debouncedResolver, getValue], true,\n  );\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport { createCallbackManager } from '../util/callbacks';\nimport useLastCallback from './useLastCallback';\n\nconst blurCallbacks = createCallbackManager();\nconst focusCallbacks = createCallbackManager();\n\nlet isFocused = document.hasFocus();\n\nwindow.addEventListener('blur', () => {\n  if (!isFocused) {\n    return;\n  }\n\n  isFocused = false;\n  blurCallbacks.runCallbacks();\n});\n\nwindow.addEventListener('focus', () => {\n  isFocused = true;\n  focusCallbacks.runCallbacks();\n});\n\nexport default function useBackgroundMode(\n  onBlur?: AnyToVoidFunction,\n  onFocus?: AnyToVoidFunction,\n  isDisabled = false,\n) {\n  const lastOnBlur = useLastCallback(onBlur);\n  const lastOnFocus = useLastCallback(onFocus);\n\n  useEffect(() => {\n    if (isDisabled) {\n      return undefined;\n    }\n\n    if (!isFocused) {\n      lastOnBlur();\n    }\n\n    blurCallbacks.addCallback(lastOnBlur);\n    focusCallbacks.addCallback(lastOnFocus);\n\n    return () => {\n      focusCallbacks.removeCallback(lastOnFocus);\n      blurCallbacks.removeCallback(lastOnBlur);\n    };\n  }, [isDisabled, lastOnBlur, lastOnFocus]);\n}\n\nexport function isBackgroundModeActive() {\n  return !isFocused;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport type { Theme } from '../global/types';\n\ninterface Props {\n  isActive: boolean;\n  currentTheme: Theme;\n  lightColor: string;\n  darkColor: string;\n}\n\nexport default function useBrowserUiColor({\n  isActive,\n  currentTheme,\n  lightColor,\n  darkColor,\n}: Props) {\n  useEffect(() => {\n    const metaElementLight = getThemeColorMetaElement(true);\n    const metaElementDark = getThemeColorMetaElement();\n    const lightContent = currentTheme === 'dark' ? darkColor : lightColor;\n    const darkContent = currentTheme === 'light' ? lightColor : darkColor;\n\n    if (isActive) {\n      metaElementLight.setAttribute('content', lightContent);\n      metaElementDark.setAttribute('content', darkContent);\n    }\n\n    return () => {\n      metaElementLight.remove();\n      metaElementDark.remove();\n    };\n  }, [lightColor, isActive, darkColor, currentTheme]);\n}\n\nfunction getThemeColorMetaElement(isLight?: boolean) {\n  let metaThemeColor = document.querySelector(\n    `meta[name=\"theme-color\"][media=\"(prefers-color-scheme: ${isLight ? 'light' : 'dark'})\"]`,\n  );\n\n  if (!metaThemeColor) {\n    metaThemeColor = document.createElement('meta');\n    metaThemeColor.setAttribute('name', 'theme-color');\n    metaThemeColor.setAttribute('media', `(prefers-color-scheme: ${isLight ? 'light' : 'dark'})`);\n    document.getElementsByTagName('head')[0].appendChild(metaThemeColor);\n  }\n\n  return metaThemeColor;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nconst MAX_MESSAGE_LENGTH = 4096;\n\nconst useClipboardPaste = (isActive: boolean, onPaste: (value: string) => void) => {\n  useEffect(() => {\n    if (!isActive) {\n      return undefined;\n    }\n\n    function handlePaste(e: ClipboardEvent) {\n      if (!e.clipboardData) {\n        return;\n      }\n\n      const pastedText = e.clipboardData.getData('text').substring(0, MAX_MESSAGE_LENGTH);\n\n      if (!pastedText) {\n        return;\n      }\n\n      e.preventDefault();\n\n      onPaste(pastedText);\n    }\n\n    document.addEventListener('paste', handlePaste, false);\n\n    return () => {\n      document.removeEventListener('paste', handlePaste, false);\n    };\n  }, [isActive, onPaste]);\n};\n\nexport default useClipboardPaste;\n","import usePrevious from './usePrevious';\n\nexport default function useCurrentOrPrev<T extends any>(\n  current: T, shouldSkipUndefined = false, shouldForceCurrent = false,\n): T | undefined {\n  const prev = usePrevious(current, shouldSkipUndefined);\n\n  // eslint-disable-next-line no-null/no-null\n  return shouldForceCurrent || (current !== null && current !== undefined) ? current : prev;\n}\n","import { useCallback, useMemo } from '../lib/teact/teact';\n\nimport { debounce } from '../util/schedulers';\n\nexport default function useDebouncedCallback<T extends AnyToVoidFunction>(\n  fn: T,\n  deps: any[],\n  ms: number,\n  noFirst = false,\n  noLast = false,\n) {\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  const fnMemo = useCallback(fn, deps);\n\n  return useMemo(() => {\n    return debounce(fnMemo, ms, !noFirst, !noLast);\n  }, [fnMemo, ms, noFirst, noLast]);\n}\n","import type { HTMLInputTypeAttribute } from 'react';\nimport type { SafeAreaInsets } from 'capacitor-plugin-safe-area';\nimport { SafeArea } from 'capacitor-plugin-safe-area';\nimport type { BottomSheetKeys } from 'native-bottom-sheet';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport { useEffect, useLayoutEffect, useState } from '../lib/teact/teact';\nimport { forceOnHeavyAnimationOnce } from '../lib/teact/teactn';\nimport { setGlobal } from '../global';\n\nimport type { GlobalState } from '../global/types';\n\nimport { bigintReviver } from '../util/bigint';\nimport cssColorToHex from '../util/cssColorToHex';\nimport { setStatusBarStyle } from '../util/switchTheme';\nimport { IS_DELEGATED_BOTTOM_SHEET } from '../util/windowEnvironment';\nimport { useDeviceScreen } from './useDeviceScreen';\nimport useEffectWithPrevDeps from './useEffectWithPrevDeps';\n\nconst BLUR_TIMEOUT = 50;\nconst COMPACT_MODAL_CSS_SELECTOR = '.is-compact-modal';\n\nconst controlledByMain = new Map<BottomSheetKeys, NoneToVoidFunction>();\n\nconst textInputTypes: Set<HTMLInputTypeAttribute> = new Set([\n  'color', 'date', 'datetime-local', 'email', 'month', 'number',\n  'password', 'search', 'tel', 'text', 'time', 'url', 'week',\n]);\n\nlet safeAreaCache: SafeAreaInsets['insets'] | undefined;\nconst safeArePromise = SafeArea.getSafeAreaInsets().then(({ insets }) => {\n  safeAreaCache = insets;\n  return safeAreaCache;\n});\n\nlet currentKey: BottomSheetKeys | undefined;\n\nif (IS_DELEGATED_BOTTOM_SHEET) {\n  BottomSheet.addListener('delegate', ({ key, globalJson }: { key: BottomSheetKeys; globalJson: string }) => {\n    currentKey = key;\n    controlledByMain.get(key)?.();\n\n    setGlobal(\n      JSON.parse(globalJson, bigintReviver) as GlobalState,\n      { forceOutdated: true, forceSyncOnIOs: true },\n    );\n  });\n\n  BottomSheet.addListener('move', () => {\n    window.dispatchEvent(new Event('viewportmove'));\n  });\n}\n\nexport function useDelegatedBottomSheet(\n  key: BottomSheetKeys | undefined,\n  isOpen: boolean | undefined,\n  onClose: AnyToVoidFunction,\n  dialogRef: React.RefObject<HTMLDivElement>,\n  forceFullNative = false,\n  noResetHeightOnBlur = false,\n) {\n  useEffectWithPrevDeps(([prevIsOpen]) => {\n    if (!IS_DELEGATED_BOTTOM_SHEET || !key || key !== currentKey) return;\n\n    if (isOpen) {\n      const dialogEl = dialogRef.current!;\n\n      BottomSheet.openSelf({\n        key,\n        height: String(dialogEl.offsetHeight),\n        backgroundColor: cssColorToHex(getComputedStyle(dialogEl).backgroundColor),\n      }).then(() => {\n        forceOnHeavyAnimationOnce();\n        onClose();\n      });\n    } else if (prevIsOpen) {\n      BottomSheet.closeSelf({ key });\n      setStatusBarStyle();\n    }\n  }, [isOpen, dialogRef, key, onClose]);\n\n  const isDelegatedAndOpen = IS_DELEGATED_BOTTOM_SHEET && key && isOpen;\n\n  const { screenHeight } = useDeviceScreen();\n  const [safeArea, setSafeArea] = useState(safeAreaCache);\n  safeArePromise.then(setSafeArea);\n  // We use Safe Area plugin instead of CSS `env()` function as it does not depend on modal position\n  const maxHeight = screenHeight - (safeArea?.top || 0);\n\n  useLayoutEffect(() => {\n    if (!isDelegatedAndOpen) return;\n\n    dialogRef.current!.style[forceFullNative ? 'maxHeight' : 'height'] = '';\n    dialogRef.current!.style[forceFullNative ? 'height' : 'maxHeight'] = `${maxHeight}px`;\n  }, [dialogRef, forceFullNative, isDelegatedAndOpen, maxHeight]);\n\n  useEffectWithPrevDeps(([prevForceFullNative]) => {\n    if (!isDelegatedAndOpen) return;\n\n    // Skip initial opening\n    if (forceFullNative !== undefined && prevForceFullNative === undefined) return;\n\n    BottomSheet.toggleSelfFullSize({ isFullSize: forceFullNative });\n  }, [forceFullNative, isDelegatedAndOpen]);\n\n  useLayoutEffect(() => {\n    if (!isDelegatedAndOpen) return undefined;\n\n    const dialogEl = dialogRef.current!;\n    let blurTimeout: number | undefined;\n\n    function onFocus(e: FocusEvent) {\n      if (!isInput(e.target)) {\n        return;\n      }\n\n      if (blurTimeout) {\n        clearTimeout(blurTimeout);\n        blurTimeout = undefined;\n        return;\n      }\n\n      preventScrollOnFocus(dialogEl);\n\n      BottomSheet.toggleSelfFullSize({ isFullSize: true });\n    }\n\n    function onBlur(e: FocusEvent) {\n      if (!isInput(e.target) || noResetHeightOnBlur || forceFullNative || isInCompactModal(e.target)) {\n        return;\n      }\n\n      blurTimeout = window.setTimeout(() => {\n        blurTimeout = undefined;\n        BottomSheet.toggleSelfFullSize({ isFullSize: false });\n      }, BLUR_TIMEOUT);\n    }\n\n    document.addEventListener('focusin', onFocus);\n    document.addEventListener('focusout', onBlur);\n\n    return () => {\n      document.removeEventListener('focusout', onBlur);\n      document.removeEventListener('focusin', onFocus);\n    };\n  }, [dialogRef, forceFullNative, isDelegatedAndOpen, noResetHeightOnBlur]);\n}\n\nexport function useOpenFromMainBottomSheet(\n  key: BottomSheetKeys,\n  open: NoneToVoidFunction,\n) {\n  useEffect(() => {\n    if (!IS_DELEGATED_BOTTOM_SHEET) return undefined;\n\n    controlledByMain.set(key, open);\n\n    if (currentKey === key) {\n      open();\n    }\n\n    return () => {\n      if (controlledByMain.get(key) === open) {\n        controlledByMain.delete(key);\n      }\n    };\n  }, [key, open]);\n}\n\nexport function openInMain(key: BottomSheetKeys) {\n  BottomSheet.openInMain({ key });\n}\n\nfunction isInput(el?: EventTarget | null) {\n  if (!el || !(el instanceof HTMLElement)) return false;\n\n  return (el.tagName === 'INPUT' && textInputTypes.has((el as HTMLInputElement).type))\n    || el.tagName === 'TEXTAREA'\n    || (el.tagName === 'DIV' && el.isContentEditable);\n}\n\nfunction isInCompactModal(el?: EventTarget | null) {\n  if (!el || !(el instanceof HTMLElement)) return false;\n\n  return el.matches(COMPACT_MODAL_CSS_SELECTOR) || !!el.closest('.is-compact-modal');\n}\n\nfunction preventScrollOnFocus(el: HTMLDivElement) {\n  el.style.opacity = '0';\n  setTimeout(() => {\n    el.style.opacity = '1';\n  });\n\n  document.documentElement.scrollTop = 0;\n}\n","import type { BottomSheetKeys } from 'native-bottom-sheet';\nimport { BottomSheet } from 'native-bottom-sheet';\nimport { useEffect } from '../lib/teact/teact';\nimport { forceOnHeavyAnimationOnce } from '../lib/teact/teactn';\nimport { getGlobal } from '../global';\n\nimport { pause } from '../util/schedulers';\nimport { IS_DELEGATING_BOTTOM_SHEET } from '../util/windowEnvironment';\nimport useEffectWithPrevDeps from './useEffectWithPrevDeps';\n\nconst RACE_TIMEOUT = 1000;\nconst CLOSING_DURATION = 100;\n\nconst controlledByNative = new Map<BottomSheetKeys, NoneToVoidFunction>();\n\nif (IS_DELEGATING_BOTTOM_SHEET) {\n  BottomSheet.prepare();\n\n  BottomSheet.addListener(\n    'openInMain',\n    ({ key }: { key: BottomSheetKeys }) => {\n      controlledByNative.get(key)?.();\n    },\n  );\n}\n\nlet lastOpenCall = Promise.resolve();\nlet closeCurrent: NoneToVoidFunction | undefined;\n\nexport function useDelegatingBottomSheet(\n  key: BottomSheetKeys | undefined,\n  isPortrait: boolean | undefined,\n  isOpen: boolean | undefined,\n  onClose: AnyToVoidFunction,\n) {\n  const isDelegating = IS_DELEGATING_BOTTOM_SHEET && key;\n  const shouldOpen = isOpen && isPortrait;\n\n  useEffectWithPrevDeps(([prevShouldOpen]) => {\n    if (!isDelegating) return;\n\n    if (shouldOpen) {\n      closeCurrent?.();\n\n      const closeNext = () => {\n        forceOnHeavyAnimationOnce();\n        onClose();\n      };\n\n      closeCurrent = closeNext;\n\n      // Wait until previous call resolves to get an up-to-date global\n      lastOpenCall = Promise.race([\n        lastOpenCall,\n        pause(RACE_TIMEOUT), // Sometimes the last open call is stuck for some unknown reason\n      ])\n        .then(() => {\n          return BottomSheet.delegate({\n            key,\n            globalJson: JSON.stringify(getGlobal()),\n          });\n        })\n        .then(() => {\n          if (closeCurrent === closeNext) {\n            closeCurrent();\n            closeCurrent = undefined;\n          }\n        })\n        .then(() => pause(CLOSING_DURATION));\n    } else if (prevShouldOpen) {\n      BottomSheet.release({ key });\n    }\n  }, [shouldOpen, isDelegating, key, onClose]);\n\n  return isDelegating && isPortrait;\n}\n\nexport function useOpenFromNativeBottomSheet(\n  key: BottomSheetKeys,\n  open: NoneToVoidFunction,\n) {\n  useEffect(() => {\n    if (!IS_DELEGATING_BOTTOM_SHEET) return undefined;\n\n    controlledByNative.set(key, open);\n\n    return () => {\n      if (controlledByNative.get(key) === open) {\n        controlledByNative.delete(key);\n      }\n    };\n  }, [key, open]);\n}\n","import type { Signal } from '../util/signals';\n\nimport useSignal from './useSignal';\nimport { useSignalEffect } from './useSignalEffect';\nimport { useStateRef } from './useStateRef';\nimport useSyncEffect from './useSyncEffect';\n\ntype SyncResolver<T> = () => T;\ntype AsyncResolver<T> = (setter: (newValue: T) => void) => void;\ntype Resolver<T> =\n  SyncResolver<T>\n  | AsyncResolver<T>;\n\nfunction useDerivedSignal<T>(resolver: SyncResolver<T>, dependencies: readonly any[]): Signal<T>;\nfunction useDerivedSignal<T>(resolver: AsyncResolver<T>, dependencies: readonly any[], isAsync: true): Signal<T>;\nfunction useDerivedSignal<T>(dependency: T): Signal<T>;\n\nfunction useDerivedSignal<T>(resolverOrDependency: Resolver<T> | T, dependencies?: readonly any[], isAsync = false) {\n  const resolver = dependencies ? resolverOrDependency as Resolver<T> : () => (resolverOrDependency as T);\n  dependencies ??= [resolverOrDependency];\n\n  const [getValue, setValue] = useSignal<T>();\n  const resolverRef = useStateRef(resolver);\n\n  function runCurrentResolver() {\n    const currentResolver = resolverRef.current;\n    if (isAsync) {\n      (currentResolver as AsyncResolver<T>)(setValue);\n    } else {\n      setValue((currentResolver as SyncResolver<T>)());\n    }\n  }\n\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  useSyncEffect(runCurrentResolver, dependencies);\n\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  useSignalEffect(runCurrentResolver, dependencies);\n\n  return getValue as Signal<T>;\n}\n\nexport default useDerivedSignal;\n","import { useRef } from '../lib/teact/teact';\n\nimport type { Signal } from '../util/signals';\n\nimport useForceUpdate from './useForceUpdate';\nimport { useSignalEffect } from './useSignalEffect';\nimport { useStateRef } from './useStateRef';\nimport useSyncEffect from './useSyncEffect';\n\ntype SyncResolver<T> = () => T;\ntype AsyncResolver<T> = (setter: (newValue: T) => void) => void;\ntype Resolver<T> =\n  SyncResolver<T>\n  | AsyncResolver<T>;\n\nfunction useDerivedState<T>(resolver: SyncResolver<T>, dependencies: readonly any[]): T;\nfunction useDerivedState<T>(resolver: AsyncResolver<T>, dependencies: readonly any[], isAsync: true): T;\nfunction useDerivedState<T>(signal: Signal<T>): T;\n\nfunction useDerivedState<T>(resolverOrSignal: Resolver<T> | T, dependencies?: readonly any[], isAsync = false) {\n  const resolver = dependencies ? resolverOrSignal as Resolver<T> : () => ((resolverOrSignal as Signal<T>)());\n  dependencies ??= [resolverOrSignal];\n\n  const valueRef = useRef<T>();\n  const forceUpdate = useForceUpdate();\n  const resolverRef = useStateRef(resolver);\n\n  function runCurrentResolver(isSync = false) {\n    const currentResolver = resolverRef.current;\n    if (isAsync) {\n      (currentResolver as AsyncResolver<T>)((newValue) => {\n        if (valueRef.current !== newValue) {\n          valueRef.current = newValue;\n          forceUpdate();\n        }\n      });\n    } else {\n      const newValue = (currentResolver as SyncResolver<T>)();\n      if (valueRef.current !== newValue) {\n        valueRef.current = newValue;\n\n        if (!isSync) {\n          forceUpdate();\n        }\n      }\n    }\n  }\n\n  useSyncEffect(() => {\n    runCurrentResolver(true);\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, dependencies);\n\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  useSignalEffect(runCurrentResolver, dependencies);\n\n  return valueRef.current as T;\n}\n\nexport default useDerivedState;\n","import { MOBILE_SCREEN_MAX_WIDTH } from '../config';\nimport { useMediaQuery } from './useMediaQuery';\n\nlet isPortrait: boolean | undefined;\n\nexport function useDeviceScreen() {\n  isPortrait = useMediaQuery(`(max-width: ${MOBILE_SCREEN_MAX_WIDTH - 0.02}px)`);\n  const isSmallHeight = useMediaQuery('(max-height: 43.5rem)');\n\n  return {\n    isPortrait,\n    isSmallHeight,\n    isLandscape: !isPortrait,\n    screenHeight: window.screen.height,\n  };\n}\n\nexport function getIsPortrait() {\n  return isPortrait;\n}\n\nexport function getIsLandscape() {\n  return !isPortrait;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nfunction useEffectOnce(effect: React.EffectCallback) {\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  useEffect(effect, []);\n}\n\nexport default useEffectOnce;\n","import { useEffect, useRef } from '../lib/teact/teact';\n\nconst useEffectWithPrevDeps = <const T extends readonly any[]>(\n  cb: (args: T | readonly []) => void, dependencies: T, debugKey?: string,\n) => {\n  const prevDepsRef = useRef<T>();\n\n  return useEffect(() => {\n    const prevDeps = prevDepsRef.current;\n    prevDepsRef.current = dependencies;\n\n    return cb(prevDeps || []);\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, dependencies, debugKey);\n};\n\nexport default useEffectWithPrevDeps;\n","import type { RefObject } from 'react';\nimport { useEffect, useRef } from '../lib/teact/teact';\n\nimport { IS_ELECTRON, IS_MAC_OS } from '../util/windowEnvironment';\n\nconst DRAG_DISTANCE_THRESHOLD = 5;\n\nconst useElectronDrag = (ref: RefObject<HTMLDivElement>) => {\n  const isDragging = useRef(false);\n\n  const x = useRef(window.screenX);\n  const y = useRef(window.screenY);\n  const distance = useRef(0);\n\n  useEffect(() => {\n    const element: HTMLDivElement | null = ref.current;\n    if (!element || !(IS_ELECTRON && IS_MAC_OS)) return undefined;\n\n    const handleClick = (event: MouseEvent) => {\n      distance.current = 0;\n\n      if (isDragging.current) {\n        event.preventDefault();\n        event.stopPropagation();\n        isDragging.current = false;\n      }\n    };\n\n    const handleMousedown = (event: MouseEvent) => {\n      if (isDragging.current) {\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    };\n\n    const handleDrag = (event: MouseEvent) => {\n      if (event.buttons === 1) {\n        distance.current += Math.sqrt((x.current - window.screenX) ** 2 + (y.current - window.screenY) ** 2);\n\n        x.current = window.screenX;\n        y.current = window.screenY;\n\n        if (!isDragging.current && distance.current > DRAG_DISTANCE_THRESHOLD) {\n          isDragging.current = true;\n        }\n      }\n    };\n\n    const handleDoubleClick = (event: MouseEvent) => {\n      if (event.currentTarget === event.target) {\n        window.electron?.handleDoubleClick();\n      }\n    };\n\n    element.addEventListener('click', handleClick);\n    element.addEventListener('mousedown', handleMousedown);\n    element.addEventListener('mousemove', handleDrag);\n    element.addEventListener('dblclick', handleDoubleClick);\n\n    return () => {\n      element.removeEventListener('click', handleClick);\n      element.removeEventListener('mouseup', handleMousedown);\n      element.removeEventListener('mousemove', handleDrag);\n      element.removeEventListener('dblclick', handleDoubleClick);\n    };\n  }, [ref]);\n};\n\nexport default useElectronDrag;\n","import { useCallback, useState } from '../lib/teact/teact';\n\nconst useFlag = (initial = false, debugKey?: string): [boolean, NoneToVoidFunction, NoneToVoidFunction] => {\n  const [value, setValue] = useState(initial, debugKey);\n\n  const setTrue = useCallback(() => {\n    setValue(true);\n  }, []);\n\n  const setFalse = useCallback(() => {\n    setValue(false);\n  }, []);\n\n  return [value, setTrue, setFalse];\n};\n\nexport default useFlag;\n","import type { RefObject } from 'react';\nimport { useEffect } from '../lib/teact/teact';\n\nimport { IS_TOUCH_ENV } from '../util/windowEnvironment';\n\nconst DEFAULT_DURATION = 400;\n\nexport default function useFocusAfterAnimation(\n  ref: RefObject<HTMLInputElement>, isDisabled = false, animationDuration = DEFAULT_DURATION,\n) {\n  useEffect(() => {\n    if (IS_TOUCH_ENV || isDisabled) {\n      return;\n    }\n\n    setTimeout(() => {\n      ref.current?.focus();\n    }, animationDuration);\n  }, [ref, animationDuration, isDisabled]);\n}\n","import { useCallback, useState } from '../lib/teact/teact';\n\nconst useForceUpdate = () => {\n  const [, setTrigger] = useState<boolean>(false);\n\n  return useCallback(() => {\n    setTrigger((trigger) => !trigger);\n  }, []);\n};\n\nexport default useForceUpdate;\n","import { useEffect } from '../lib/teact/teact';\n\nimport { createCallbackManager } from '../util/callbacks';\nimport useLastCallback from './useLastCallback';\n\n// Make sure to end even if end callback was not called (which was some hardly-reproducible bug)\nconst AUTO_END_TIMEOUT = 1000;\n\nconst startCallbacks = createCallbackManager();\nconst endCallbacks = createCallbackManager();\n\nlet timeout: number | undefined;\nlet isAnimating = false;\n\nconst useHeavyAnimationCheck = (\n  onStart?: AnyToVoidFunction,\n  onEnd?: AnyToVoidFunction,\n  isDisabled = false,\n) => {\n  const lastOnStart = useLastCallback(onStart);\n  const lastOnEnd = useLastCallback(onEnd);\n\n  useEffect(() => {\n    if (isDisabled) {\n      return undefined;\n    }\n\n    if (isAnimating) {\n      lastOnStart();\n    }\n\n    startCallbacks.addCallback(lastOnStart);\n    endCallbacks.addCallback(lastOnEnd);\n\n    return () => {\n      endCallbacks.removeCallback(lastOnEnd);\n      startCallbacks.removeCallback(lastOnStart);\n    };\n  }, [isDisabled, lastOnEnd, lastOnStart]);\n};\n\nexport function isHeavyAnimating() {\n  return isAnimating;\n}\n\nexport function dispatchHeavyAnimationEvent(duration = AUTO_END_TIMEOUT) {\n  if (!isAnimating) {\n    isAnimating = true;\n    startCallbacks.runCallbacks();\n  }\n\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = undefined;\n  }\n\n  // Race condition may happen if another `dispatchHeavyAnimationEvent` is called before `onEnd`\n  function onEnd() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    isAnimating = false;\n    endCallbacks.runCallbacks();\n  }\n\n  timeout = window.setTimeout(onEnd, duration);\n\n  return onEnd;\n}\n\nexport default useHeavyAnimationCheck;\n","import { BottomSheet } from 'native-bottom-sheet';\n\nimport { IS_CAPACITOR } from '../config';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET } from '../util/windowEnvironment';\nimport useLastCallback from './useLastCallback';\nimport useSyncEffect from './useSyncEffect';\n\nimport { getInAppBrowser } from '../components/ui/InAppBrowser';\n\nlet isBrowserHidden = false;\n\nexport default function useHideBrowser(isOpen?: boolean, isCompact?: boolean, onCloseAnimationEnd?: () => void) {\n  useSyncEffect(() => {\n    if (!IS_CAPACITOR || IS_DELEGATED_BOTTOM_SHEET || isCompact) return;\n\n    const browser = getInAppBrowser();\n    if (!browser) return;\n\n    if (isOpen && browser && !isBrowserHidden) {\n      isBrowserHidden = true;\n\n      browser.hide().then(async () => {\n        if (IS_DELEGATING_BOTTOM_SHEET) {\n          await BottomSheet.enable();\n        }\n      });\n    }\n  }, [isCompact, isOpen]);\n\n  return useLastCallback(async () => {\n    if (!isCompact && isBrowserHidden) {\n      if (IS_DELEGATING_BOTTOM_SHEET) {\n        await BottomSheet.disable();\n      }\n\n      const browser = getInAppBrowser()!;\n      browser.show();\n\n      isBrowserHidden = false;\n    }\n\n    onCloseAnimationEnd?.();\n  });\n}\n","import { useCallback, useRef } from '../lib/teact/teact';\n\nimport { IS_TEST } from '../config';\nimport { requestMeasure } from '../lib/fasterdom/fasterdom';\nimport { IS_IOS, IS_LEDGER_EXTENSION_TAB } from '../util/windowEnvironment';\nimport useEffectOnce from './useEffectOnce';\nimport useLastCallback from './useLastCallback';\nimport useSyncEffect from './useSyncEffect';\n\nconst PATH_BASE = `${window.location.pathname}${window.location.search}`;\n\ntype HistoryRecord = {\n  index: number;\n  // Should this record be replaced by the next record (for example Menu)\n  shouldBeReplaced?: boolean;\n  // Mark this record as replaced by the next record. Only used to check if needed to perform effectBack\n  markReplaced?: VoidFunction;\n  onBack?: VoidFunction;\n  // Set if the element is closed in the UI, but not in the real history\n  isClosed?: boolean;\n};\n\ntype HistoryOperationGo = {\n  type: 'go';\n  delta: number;\n};\n\ntype HistoryOperationState = {\n  type: 'pushState' | 'replaceState';\n  data: any;\n};\n\ntype HistoryOperation = HistoryOperationGo | HistoryOperationState;\n\n// Needed to dismiss any 'trashed' history records from the previous page reloads.\nconst historyUniqueSessionId = Number(new Date());\n// Reflects real history state, but also contains information on which records should be replaced by the next record and\n// which records are deferred to close on the next operation\nlet historyState: HistoryRecord[];\n// Reflects current real history index\nlet historyCursor: number;\n// If we alter real history programmatically, the popstate event will be fired, which we don't need\nlet isAlteringHistory = false;\n// Unfortunately Safari doesn't really like when there's 2+ consequent history operations in one frame, so we need\n// to delay them to the next raf\nlet deferredHistoryOperations: HistoryOperation[] = [];\nlet deferredPopstateOperations: HistoryOperationState[] = [];\n\n// Do not remove: used for history unit tests\nif (IS_TEST) {\n  (window as any).TEST_getHistoryState = () => historyState;\n  (window as any).TEST_getHistoryCursor = () => historyCursor;\n}\n\nfunction applyDeferredHistoryOperations() {\n  const goOperations = deferredHistoryOperations.filter((op) => op.type === 'go') as HistoryOperationGo[];\n  const stateOperations = deferredHistoryOperations.filter((op) => op.type !== 'go') as HistoryOperationState[];\n  const goCount = goOperations.reduce((acc, op) => acc + op.delta, 0);\n\n  deferredHistoryOperations = [];\n\n  if (goCount) {\n    window.history.go(goCount);\n\n    // If we have some `state` operations after the `go` operations, we need to wait until the popstate event\n    // so the order of operations is correctly preserved\n    if (stateOperations.length) {\n      deferredPopstateOperations.push(...stateOperations);\n      return;\n    }\n  }\n\n  processStateOperations(stateOperations);\n}\n\nfunction processStateOperations(stateOperations: HistoryOperationState[]) {\n  stateOperations.forEach((op) => window.history[op.type](op.data, ''));\n}\n\nfunction deferHistoryOperation(historyOperation: HistoryOperation) {\n  if (!deferredHistoryOperations.length) {\n    requestMeasure(applyDeferredHistoryOperations);\n  }\n\n  deferredHistoryOperations.push(historyOperation);\n}\n\n// Resets history to the `root` state\nfunction resetHistory() {\n  historyCursor = 0;\n  historyState = [{\n    index: 0,\n    onBack: () => window.history.back(),\n  }];\n\n  if (!IS_LEDGER_EXTENSION_TAB) {\n    window.history.replaceState({ index: 0, historyUniqueSessionId }, '', PATH_BASE);\n  }\n}\n\nresetHistory();\n\nfunction cleanupClosed(alreadyClosedCount = 1) {\n  let countClosed = alreadyClosedCount;\n  for (let i = historyCursor - 1; i > 0; i--) {\n    if (!historyState[i].isClosed) break;\n    countClosed++;\n  }\n  if (countClosed) {\n    isAlteringHistory = true;\n    deferHistoryOperation({\n      type: 'go',\n      delta: -countClosed,\n    });\n  }\n  return countClosed;\n}\n\nfunction cleanupTrashedState() {\n  for (let i = historyState.length - 1; i > 0; i--) {\n    if (historyState[i].isClosed) {\n      continue;\n    }\n    historyState[i].onBack?.();\n  }\n\n  resetHistory();\n}\n\nwindow.addEventListener('popstate', ({ state }: PopStateEvent) => {\n  if (isAlteringHistory) {\n    isAlteringHistory = false;\n    if (deferredPopstateOperations.length) {\n      processStateOperations(deferredPopstateOperations);\n      deferredPopstateOperations = [];\n    }\n    return;\n  }\n\n  if (!state) {\n    cleanupTrashedState();\n    return;\n  }\n\n  const { index, historyUniqueSessionId: previousUniqueSessionId } = state;\n  if (previousUniqueSessionId !== historyUniqueSessionId) {\n    cleanupTrashedState();\n    return;\n  }\n\n  // New real history state matches the old virtual one. Not possible in theory, but in practice we have Safari\n  if (index === historyCursor) {\n    return;\n  }\n\n  if (index < historyCursor) {\n    // Navigating back\n    let alreadyClosedCount = 0;\n    for (let i = historyCursor; i > index - alreadyClosedCount; i--) {\n      if (historyState[i].isClosed) {\n        alreadyClosedCount++;\n        continue;\n      }\n      historyState[i].onBack?.();\n    }\n\n    const countClosed = cleanupClosed(alreadyClosedCount);\n    historyCursor += index - historyCursor - countClosed;\n\n    // Can happen when we have deferred a real back for some element (for example Menu), closed via UI,\n    // pressed back button and caused a pushState.\n    if (historyCursor < 0) {\n      historyCursor = 0;\n    }\n  } else if (index > historyCursor) {\n    // Forward navigation is not yet supported\n    isAlteringHistory = true;\n    deferHistoryOperation({\n      type: 'go',\n      delta: -(index - historyCursor),\n    });\n  }\n});\n\nexport default function useHistoryBack({\n  isActive,\n  shouldBeReplaced,\n  onBack,\n}: {\n  isActive?: boolean;\n  shouldBeReplaced?: boolean;\n  onBack: VoidFunction;\n}) {\n  const lastOnBack = useLastCallback(onBack);\n\n  // Active index of the record\n  const indexRef = useRef<number>();\n  const wasReplaced = useRef(false);\n\n  const isFirstRender = useRef(true);\n\n  const pushState = useCallback((forceReplace = false) => {\n    // Check if the old state should be replaced\n    const shouldReplace = forceReplace || historyState[historyCursor].shouldBeReplaced;\n    indexRef.current = shouldReplace ? historyCursor : ++historyCursor;\n\n    historyCursor = indexRef.current;\n\n    // Mark the previous record as replaced so effectBack doesn't perform back operation on the new record\n    const previousRecord = historyState[indexRef.current];\n    if (previousRecord && !previousRecord.isClosed) {\n      previousRecord.markReplaced?.();\n    }\n\n    historyState[indexRef.current] = {\n      index: indexRef.current,\n      onBack: lastOnBack,\n      shouldBeReplaced,\n      markReplaced: () => {\n        wasReplaced.current = true;\n      },\n    };\n\n    deferHistoryOperation({\n      type: shouldReplace ? 'replaceState' : 'pushState',\n      data: {\n        index: indexRef.current,\n        historyUniqueSessionId,\n      },\n    });\n  }, [lastOnBack, shouldBeReplaced]);\n\n  const processBack = useCallback(() => {\n    // Only process back on open records\n    if (indexRef.current && historyState[indexRef.current] && !wasReplaced.current) {\n      historyState[indexRef.current].isClosed = true;\n      wasReplaced.current = true;\n      if (indexRef.current === historyCursor && !shouldBeReplaced) {\n        historyCursor -= cleanupClosed();\n      }\n    }\n  }, [shouldBeReplaced]);\n\n  // Process back navigation when element is unmounted\n  useEffectOnce(() => {\n    if (IS_IOS) return undefined;\n\n    isFirstRender.current = false;\n    return () => {\n      if (!isActive || wasReplaced.current) return;\n      processBack();\n    };\n  });\n\n  useSyncEffect(([prevIsActive]) => {\n    if (IS_IOS) return;\n    if (prevIsActive === isActive) return;\n    if (isFirstRender.current && !isActive) return;\n\n    if (isActive) {\n      pushState();\n    } else {\n      processBack();\n    }\n  }, [isActive, processBack, pushState]);\n}\n","import { useEffect } from '../lib/teact/teact';\n\nconst useHorizontalScroll = (\n  containerRef: React.RefObject<HTMLDivElement>,\n  isDisabled?: boolean,\n  shouldPreventDefault = false,\n) => {\n  useEffect(() => {\n    if (isDisabled) {\n      return undefined;\n    }\n\n    const container = containerRef.current!;\n\n    function handleScroll(e: WheelEvent) {\n      // Ignore horizontal scroll and let it work natively (e.g. on touchpad)\n      if (!e.deltaX) {\n        container!.scrollLeft += e.deltaY / 4;\n        if (shouldPreventDefault) e.preventDefault();\n      }\n    }\n\n    container.addEventListener('wheel', handleScroll, { passive: !shouldPreventDefault });\n\n    return () => {\n      container.removeEventListener('wheel', handleScroll);\n    };\n  }, [containerRef, isDisabled, shouldPreventDefault]);\n};\n\nexport default useHorizontalScroll;\n","import { useRef } from '../lib/teact/teact';\n\nimport { LoadMoreDirection } from '../global/types';\n\nimport { areSortedArraysEqual } from '../util/iteratees';\nimport useForceUpdate from './useForceUpdate';\nimport useLastCallback from './useLastCallback';\nimport usePrevious from './usePrevious';\nimport usePrevious2 from './usePrevious2';\nimport useSyncEffect from './useSyncEffect';\n\ntype GetMore = (args: { direction: LoadMoreDirection }) => void;\ntype ResetScroll = () => void;\ntype LoadMoreBackwards = (args: { offsetId?: string | number }) => void;\n\nconst DEFAULT_LIST_SLICE = 30;\n\nconst useInfiniteScroll = <ListId extends string | number>(\n  loadMoreBackwards?: LoadMoreBackwards,\n  listIds?: ListId[],\n  isDisabled = false,\n  listSlice = DEFAULT_LIST_SLICE,\n  slug?: string,\n  isActive?: boolean,\n  withResetOnInactive = false,\n): [ListId[]?, GetMore?, ResetScroll?] => {\n  const requestParamsRef = useRef<{\n    direction?: LoadMoreDirection;\n    offsetId?: ListId;\n  }>();\n\n  const currentStateRef = useRef<{ viewportIds: ListId[]; isOnTop: boolean } | undefined>();\n  if (!currentStateRef.current && listIds && !isDisabled) {\n    const {\n      newViewportIds,\n      newIsOnTop,\n    } = getViewportSlice(listIds, LoadMoreDirection.Forwards, listSlice, listIds[0]);\n    currentStateRef.current = { viewportIds: newViewportIds, isOnTop: newIsOnTop };\n  }\n\n  const forceUpdate = useForceUpdate();\n\n  if (isDisabled) {\n    requestParamsRef.current = {};\n  }\n\n  const prevSlug = usePrevious2(slug);\n\n  const resetScroll: ResetScroll = useLastCallback(() => {\n    if (!listIds?.length) return;\n\n    const {\n      newViewportIds,\n      newIsOnTop,\n    } = getViewportSlice(listIds, LoadMoreDirection.Forwards, listSlice, listIds[0]);\n\n    currentStateRef.current = { viewportIds: newViewportIds, isOnTop: newIsOnTop };\n    requestParamsRef.current = {};\n  });\n\n  useSyncEffect(() => {\n    if (slug !== prevSlug || (withResetOnInactive && !isActive)) {\n      resetScroll();\n    }\n  }, [isActive, prevSlug, slug, withResetOnInactive]);\n\n  const prevListIds = usePrevious(listIds);\n  const prevIsDisabled = usePrevious(isDisabled);\n  if (listIds && !isDisabled && (listIds !== prevListIds || isDisabled !== prevIsDisabled)) {\n    const { viewportIds, isOnTop } = currentStateRef.current || {};\n    const currentMiddleId = viewportIds && !isOnTop ? viewportIds[Math.round(viewportIds.length / 2)] : undefined;\n    const defaultOffsetId = currentMiddleId && listIds.includes(currentMiddleId) ? currentMiddleId : listIds[0];\n    const { offsetId = defaultOffsetId, direction = LoadMoreDirection.Forwards } = requestParamsRef.current || {};\n    const { newViewportIds, newIsOnTop } = getViewportSlice(listIds, direction, listSlice, offsetId);\n\n    requestParamsRef.current = {};\n\n    if (!viewportIds || !areSortedArraysEqual(viewportIds, newViewportIds)) {\n      currentStateRef.current = { viewportIds: newViewportIds, isOnTop: newIsOnTop };\n    }\n  } else if (!listIds) {\n    currentStateRef.current = undefined;\n  }\n\n  const getMore: GetMore = useLastCallback(({\n    direction,\n  }: { direction: LoadMoreDirection; noScroll?: boolean }) => {\n    if (!isActive) return;\n\n    const { viewportIds } = currentStateRef.current || {};\n\n    const offsetId = viewportIds\n      ? direction === LoadMoreDirection.Backwards ? viewportIds[viewportIds.length - 1] : viewportIds[0]\n      : undefined;\n\n    requestParamsRef.current = { direction, offsetId };\n\n    if (!listIds) {\n      if (loadMoreBackwards) {\n        loadMoreBackwards({ offsetId });\n      }\n\n      return;\n    }\n\n    const {\n      newViewportIds, areSomeLocal, areAllLocal, newIsOnTop,\n    } = getViewportSlice(listIds, direction, listSlice, offsetId);\n\n    if (areSomeLocal && !(viewportIds && areSortedArraysEqual(viewportIds, newViewportIds))) {\n      currentStateRef.current = { viewportIds: newViewportIds, isOnTop: newIsOnTop };\n      forceUpdate();\n    }\n\n    if (!areAllLocal && loadMoreBackwards) {\n      loadMoreBackwards({ offsetId });\n    }\n  });\n\n  return isDisabled ? [listIds] : [currentStateRef.current?.viewportIds, getMore, resetScroll];\n};\n\nfunction getViewportSlice<ListId extends string | number>(\n  sourceIds: ListId[],\n  direction: LoadMoreDirection,\n  listSlice: number,\n  offsetId?: ListId,\n) {\n  const { length } = sourceIds;\n  const index = offsetId ? sourceIds.indexOf(offsetId) : 0;\n  const isForwards = direction === LoadMoreDirection.Forwards;\n  const indexForDirection = isForwards ? index : (index + 1) || length;\n  const from = Math.max(0, indexForDirection - listSlice);\n  const to = indexForDirection + listSlice - 1;\n  const newViewportIds = sourceIds.slice(Math.max(0, from), to + 1);\n\n  let areSomeLocal;\n  let areAllLocal;\n  switch (direction) {\n    case LoadMoreDirection.Forwards:\n      areSomeLocal = indexForDirection >= 0;\n      areAllLocal = from >= 0;\n      break;\n    case LoadMoreDirection.Backwards:\n      areSomeLocal = indexForDirection < length;\n      areAllLocal = to <= length - 1;\n      break;\n  }\n\n  return {\n    newViewportIds,\n    areSomeLocal,\n    areAllLocal,\n    newIsOnTop: newViewportIds[0] === sourceIds[0],\n  };\n}\n\nexport default useInfiniteScroll;\n","import type { RefObject } from 'react';\nimport { useEffect, useRef, useState } from '../lib/teact/teact';\n\nimport type { Scheduler } from '../util/schedulers';\n\nimport {\n  debounce, throttle, throttleWith,\n} from '../util/schedulers';\nimport useHeavyAnimationCheck from './useHeavyAnimationCheck';\nimport useLastCallback from './useLastCallback';\n\ntype TargetCallback = (entry: IntersectionObserverEntry) => void;\ntype RootCallback = (entries: IntersectionObserverEntry[]) => void;\ntype ObserveCleanup = NoneToVoidFunction;\nexport type ObserveFn = (target: HTMLElement, targetCallback?: TargetCallback) => ObserveCleanup;\n\ninterface IntersectionController {\n  observer: IntersectionObserver;\n  callbacks: Map<HTMLElement, TargetCallback>;\n}\n\ninterface Response {\n  observe: ObserveFn;\n  freeze: NoneToVoidFunction;\n  unfreeze: NoneToVoidFunction;\n}\n\nexport function useIntersectionObserver({\n  rootRef,\n  throttleMs,\n  throttleScheduler,\n  debounceMs,\n  shouldSkipFirst,\n  margin,\n  threshold,\n  isDisabled,\n}: {\n  rootRef: RefObject<HTMLDivElement>;\n  throttleMs?: number;\n  throttleScheduler?: Scheduler;\n  debounceMs?: number;\n  shouldSkipFirst?: boolean;\n  margin?: number;\n  threshold?: number | number[];\n  isDisabled?: boolean;\n}, rootCallback?: RootCallback): Response {\n  const controllerRef = useRef<IntersectionController>();\n  const rootCallbackRef = useRef<RootCallback>();\n  const freezeFlagsRef = useRef(0);\n  const onUnfreezeRef = useRef<NoneToVoidFunction>();\n\n  rootCallbackRef.current = rootCallback;\n\n  const freeze = useLastCallback(() => {\n    freezeFlagsRef.current++;\n  });\n\n  const unfreeze = useLastCallback(() => {\n    if (!freezeFlagsRef.current) {\n      return;\n    }\n\n    freezeFlagsRef.current--;\n\n    if (!freezeFlagsRef.current && onUnfreezeRef.current) {\n      onUnfreezeRef.current();\n      onUnfreezeRef.current = undefined;\n    }\n  });\n\n  useHeavyAnimationCheck(freeze, unfreeze);\n\n  useEffect(() => {\n    if (isDisabled) {\n      return undefined;\n    }\n\n    return () => {\n      if (controllerRef.current) {\n        controllerRef.current.observer.disconnect();\n        controllerRef.current.callbacks.clear();\n        controllerRef.current = undefined;\n      }\n    };\n  }, [isDisabled]);\n\n  function initController() {\n    const callbacks = new Map();\n    const entriesAccumulator = new Map<Element, IntersectionObserverEntry>();\n\n    let observerCallback: typeof observerCallbackSync;\n    if (typeof throttleScheduler === 'function') {\n      observerCallback = throttleWith(throttleScheduler, observerCallbackSync);\n    } else if (throttleMs) {\n      observerCallback = throttle(observerCallbackSync, throttleMs, !shouldSkipFirst);\n    } else if (debounceMs) {\n      observerCallback = debounce(observerCallbackSync, debounceMs, !shouldSkipFirst);\n    } else {\n      observerCallback = observerCallbackSync;\n    }\n\n    function observerCallbackSync() {\n      if (freezeFlagsRef.current) {\n        onUnfreezeRef.current = observerCallback;\n        return;\n      }\n\n      const entries = Array.from(entriesAccumulator.values());\n\n      entries.forEach((entry: IntersectionObserverEntry) => {\n        const callback = callbacks.get(entry.target);\n        if (callback) {\n          callback!(entry, entries);\n        }\n      });\n\n      if (rootCallbackRef.current) {\n        rootCallbackRef.current(entries);\n      }\n\n      entriesAccumulator.clear();\n    }\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          entriesAccumulator.set(entry.target, entry);\n        });\n\n        if (freezeFlagsRef.current) {\n          onUnfreezeRef.current = observerCallback;\n        } else {\n          observerCallback();\n        }\n      },\n      {\n        root: rootRef.current,\n        rootMargin: margin ? `${margin}px` : undefined,\n        threshold,\n      },\n    );\n\n    controllerRef.current = { observer, callbacks };\n  }\n\n  const observe = useLastCallback((target, targetCallback) => {\n    if (!controllerRef.current) {\n      initController();\n    }\n\n    const controller = controllerRef.current!;\n    controller.observer.observe(target);\n\n    if (targetCallback) {\n      controller.callbacks.set(target, targetCallback);\n    }\n\n    return () => {\n      if (targetCallback) {\n        controller.callbacks.delete(target);\n      }\n\n      controller.observer.unobserve(target);\n    };\n  });\n\n  return { observe, freeze, unfreeze };\n}\n\nexport function useOnIntersect(\n  targetRef: RefObject<HTMLDivElement>, observe?: ObserveFn, callback?: TargetCallback,\n) {\n  const lastCallback = useLastCallback(callback);\n\n  useEffect(() => {\n    return observe ? observe(targetRef.current!, lastCallback) : undefined;\n  }, [lastCallback, observe, targetRef]);\n}\n\nexport function useIsIntersecting(\n  targetRef: RefObject<HTMLDivElement>, observe?: ObserveFn, callback?: TargetCallback,\n) {\n  const [isIntersecting, setIsIntersecting] = useState(!observe);\n\n  useOnIntersect(targetRef, observe, (entry) => {\n    setIsIntersecting(entry.isIntersecting);\n\n    if (callback) {\n      callback(entry);\n    }\n  });\n\n  return isIntersecting;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport useLastCallback from './useLastCallback';\n\nfunction useInterval(callback: NoneToVoidFunction, delay?: number, noFirst = false) {\n  const lastCallback = useLastCallback(callback);\n\n  useEffect(() => {\n    if (delay === undefined) {\n      return undefined;\n    }\n\n    const id = setInterval(lastCallback, delay);\n    if (!noFirst) lastCallback();\n\n    return () => clearInterval(id);\n  }, [delay, lastCallback, noFirst]);\n}\n\nexport default useInterval;\n","import * as langProvider from '../util/langProvider';\nimport useEffectOnce from './useEffectOnce';\nimport useForceUpdate from './useForceUpdate';\n\nexport type LangFn = langProvider.LangFn;\n\nconst useLang = (): LangFn => {\n  const forceUpdate = useForceUpdate();\n\n  useEffectOnce(() => {\n    return langProvider.addCallback(forceUpdate);\n  });\n\n  return langProvider.getTranslation;\n};\n\nexport default useLang;\n","import { useCallback } from '../lib/teact/teact';\n\nimport { useStateRef } from './useStateRef';\n\nexport default function useLastCallback<T extends AnyFunction>(callback?: T) {\n  const ref = useStateRef(callback);\n\n  // No need for ref dependency\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  return useCallback((...args: Parameters<T>) => ref.current?.(...args), []) as T;\n}\n","import { useLayoutEffect, useRef } from '../lib/teact/teact';\n\nconst useLayoutEffectWithPrevDeps = <const T extends readonly any[]>(\n  cb: (args: T | readonly []) => void, dependencies: T, debugKey?: string,\n) => {\n  const prevDepsRef = useRef<T>();\n\n  return useLayoutEffect(() => {\n    const prevDeps = prevDepsRef.current;\n    prevDepsRef.current = dependencies;\n\n    return cb(prevDeps || []);\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, dependencies, debugKey);\n};\n\nexport default useLayoutEffectWithPrevDeps;\n","/**\n * Pulled from @react-hookz/web library source with some edits to match the code-style and use Teact\n * See https://github.com/react-hookz/web/blob/master/src/useMediaQuery/useMediaQuery.ts\n */\n\nimport type { Dispatch } from 'react';\nimport { useEffect, useState } from '../lib/teact/teact';\n\ntype QueryStateSetter = (matches: boolean) => void;\n\n// eslint-disable-next-line max-len, no-spaced-func\nconst queriesMap = new Map<string, { mql: MediaQueryList; dispatchers: Set<Dispatch<boolean>>; listener: () => void }>();\n\nconst createQueryEntry = (query: string) => {\n  const mql = matchMedia(query);\n  const dispatchers = new Set<QueryStateSetter>();\n  const listener = () => {\n    dispatchers.forEach((d) => d(mql.matches));\n  };\n\n  if (mql.addEventListener) mql.addEventListener('change', listener, { passive: true });\n  else mql.addListener(listener);\n\n  return {\n    mql,\n    dispatchers,\n    listener,\n  };\n};\n\nconst querySubscribe = (query: string, setState: QueryStateSetter) => {\n  let entry = queriesMap.get(query);\n\n  if (!entry) {\n    entry = createQueryEntry(query);\n    queriesMap.set(query, entry);\n  }\n\n  entry.dispatchers.add(setState);\n  setState(entry.mql.matches);\n};\n\nconst queryUnsubscribe = (query: string, setState: QueryStateSetter): void => {\n  const entry = queriesMap.get(query);\n\n  if (!entry) {\n    return;\n  }\n\n  const { mql, dispatchers, listener } = entry;\n  dispatchers.delete(setState);\n\n  if (!dispatchers.size) {\n    queriesMap.delete(query);\n\n    if (mql.removeEventListener) mql.removeEventListener('change', listener);\n    else mql.removeListener(listener);\n  }\n};\n\ninterface UseMediaQueryOptions {\n  initializeWithValue?: boolean;\n}\n\n/**\n * Tracks the state of CSS media query.\n *\n * @param query CSS media query to track.\n * @param options Hook options:\n * `initializeWithValue` (default: `true`) - Determine media query match state on first render. Setting\n * this to false will make the hook yield `undefined` on first render.\n */\nexport function useMediaQuery(query: string, options?: UseMediaQueryOptions): boolean | undefined {\n  function getInitialState() {\n    if (options?.initializeWithValue ?? true) {\n      let entry = queriesMap.get(query);\n      if (!entry) {\n        entry = createQueryEntry(query);\n        queriesMap.set(query, entry);\n      }\n      return entry.mql.matches;\n    }\n\n    return undefined;\n  }\n\n  const [state, setState] = useState<boolean | undefined>(getInitialState());\n\n  useEffect(() => {\n    querySubscribe(query, setState);\n\n    return () => queryUnsubscribe(query, setState);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  return state;\n}\n","import useShowTransition from './useShowTransition';\n\nexport default function useMediaTransition(mediaData?: any) {\n  const isMediaReady = Boolean(mediaData);\n  const { transitionClassNames } = useShowTransition(isMediaReady, undefined, isMediaReady, 'slow');\n\n  return transitionClassNames;\n}\n","import { useEffect, useState } from '../lib/teact/teact';\n\nimport type { IAnchorPosition } from '../global/types';\n\ninterface Layout {\n  withPortal?: boolean;\n}\n\nconst MENU_POSITION_VISUAL_COMFORT_SPACE_PX = 16;\nconst MENU_POSITION_BOTTOM_MARGIN = 12;\nconst EMPTY_RECT = {\n  width: 0, left: 0, height: 0, top: 0,\n};\n\nexport default function useMenuPosition(\n  anchor: IAnchorPosition | undefined,\n  getTriggerElement: () => HTMLElement | null,\n  getRootElement: () => HTMLElement | null,\n  getMenuElement: () => HTMLElement | null,\n  getLayout?: () => Layout,\n) {\n  const [positionX, setPositionX] = useState<'right' | 'left'>('right');\n  const [positionY, setPositionY] = useState<'top' | 'bottom'>('bottom');\n  const [transformOriginX, setTransformOriginX] = useState<number>();\n  const [transformOriginY, setTransformOriginY] = useState<number>();\n  const [withScroll, setWithScroll] = useState(false);\n  const [style, setStyle] = useState('');\n  const [menuStyle, setMenuStyle] = useState('opacity: 0;');\n\n  useEffect(() => {\n    const triggerEl = getTriggerElement();\n    if (!anchor || !triggerEl) {\n      return;\n    }\n\n    let { x, y } = anchor;\n    const anchorX = x;\n    const anchorY = y;\n\n    const menuEl = getMenuElement();\n    const rootEl = getRootElement();\n\n    const {\n      withPortal = false,\n    } = getLayout?.() || {};\n\n    const marginTop = menuEl ? parseInt(getComputedStyle(menuEl).marginTop, 10) : undefined;\n    const { offsetWidth: menuElWidth, offsetHeight: menuElHeight } = menuEl || { offsetWidth: 0, offsetHeight: 0 };\n    const menuRect = menuEl ? {\n      width: menuElWidth,\n      height: menuElHeight + marginTop!,\n    } : EMPTY_RECT;\n\n    const rootRect = rootEl ? rootEl.getBoundingClientRect() : EMPTY_RECT;\n\n    let horizontalPosition: 'left' | 'right';\n    let verticalPosition: 'top' | 'bottom';\n    if (x - menuRect.width - rootRect.left > 0) {\n      horizontalPosition = 'right';\n      x -= 3;\n    } else {\n      horizontalPosition = 'left';\n      x = 16;\n    }\n    setPositionX(horizontalPosition);\n\n    if (y + menuRect.height < rootRect.height + rootRect.top) {\n      verticalPosition = 'top';\n    } else {\n      verticalPosition = 'bottom';\n\n      if (y - menuRect.height < rootRect.top) {\n        y = rootRect.top + rootRect.height;\n      }\n    }\n\n    setPositionY(verticalPosition);\n\n    const triggerRect = triggerEl.getBoundingClientRect();\n\n    const addedYForPortalPositioning = (withPortal ? triggerRect.top : 0);\n    const addedXForPortalPositioning = (withPortal ? triggerRect.left : 0);\n\n    const leftWithPossibleNegative = Math.min(\n      x - triggerRect.left,\n      rootRect.width - menuRect.width - MENU_POSITION_VISUAL_COMFORT_SPACE_PX,\n    );\n    const left = (horizontalPosition === 'left'\n      ? (withPortal\n        ? Math.max(MENU_POSITION_VISUAL_COMFORT_SPACE_PX, leftWithPossibleNegative)\n        : leftWithPossibleNegative)\n      : (x - triggerRect.left)) + addedXForPortalPositioning;\n    const top = y - triggerRect.top + addedYForPortalPositioning;\n\n    const menuMaxHeight = rootRect.height - MENU_POSITION_BOTTOM_MARGIN - (marginTop || 0);\n\n    setWithScroll(menuMaxHeight < menuRect.height);\n    setMenuStyle(`max-height: ${menuMaxHeight}px;`);\n    setStyle(`left: ${left}px; top: ${top}px`);\n    const offsetX = (anchorX + addedXForPortalPositioning - triggerRect.left) - left;\n    const offsetY = (anchorY + addedYForPortalPositioning - triggerRect.top) - top - (marginTop || 0);\n    setTransformOriginX(horizontalPosition === 'left' ? offsetX : menuRect.width + offsetX);\n    setTransformOriginY(verticalPosition === 'bottom' ? menuRect.height + offsetY : offsetY);\n  }, [\n    anchor, getMenuElement, getRootElement, getTriggerElement, getLayout,\n  ]);\n\n  return {\n    positionX,\n    positionY,\n    transformOriginX,\n    transformOriginY,\n    style,\n    menuStyle,\n    withScroll,\n  };\n}\n","import { useEffect, useState } from '../lib/teact/teact';\n\nimport type { TransferState } from '../global/types';\n\nimport useCurrentOrPrev from './useCurrentOrPrev';\nimport useLastCallback from './useLastCallback';\n\nconst ANIMATION_DURATION = 300;\n\nexport default function useModalTransitionKeys(activeKey: number, isOpen: boolean) {\n  // Use previous key during closing animation\n  const renderingKey = useCurrentOrPrev(isOpen ? activeKey : undefined, true) ?? -1;\n  const [nextKey, setNextKey] = useState<TransferState>();\n\n  const updateNextKey = useLastCallback(() => {\n    setNextKey(isOpen ? renderingKey + 1 : undefined);\n  });\n\n  // Set next key after modal is fully open\n  useEffect(() => {\n    if (isOpen) {\n      setTimeout(updateNextKey, ANIMATION_DURATION);\n    }\n  }, [isOpen, updateNextKey]);\n\n  return { renderingKey, nextKey, updateNextKey };\n}\n","import { useEffect, useState } from '../lib/teact/teact';\n\nconst SPECIAL_CHARS_REGEX = /[`!@#$%^&*()_+\\-=\\]{};':\"\\\\|,.<>?~]/;\n\ninterface OwnProps {\n  firstPassword?: string;\n  secondPassword?: string;\n  requiredMinLength?: number;\n  requiredLength?: number;\n  isOnlyNumbers?: boolean;\n}\n\nexport const usePasswordValidation = ({\n  firstPassword = '',\n  secondPassword = '',\n  requiredMinLength = 8,\n  requiredLength,\n  isOnlyNumbers,\n}: OwnProps) => {\n  const [invalidLength, setInvalidLength] = useState(false);\n  const [noNumber, setNoNumber] = useState(false);\n  const [noUpperCase, setNoUpperCase] = useState(false);\n  const [noLowerCase, setNoLowerCase] = useState(false);\n  const [noSpecialChar, setNoSpecialChar] = useState(false);\n  const [noEqual, setNoEqual] = useState(false);\n\n  useEffect(() => {\n    const isInvalidLength = Boolean(\n      (!requiredLength && firstPassword.length < requiredMinLength)\n      || (requiredLength && firstPassword.length !== requiredLength),\n    );\n    setInvalidLength(isInvalidLength);\n    setNoUpperCase(!isOnlyNumbers && firstPassword.toLowerCase() === firstPassword);\n    setNoLowerCase(!isOnlyNumbers && firstPassword.toUpperCase() === firstPassword);\n    setNoNumber(!/\\d/.test(firstPassword));\n    setNoEqual(Boolean(firstPassword && firstPassword !== secondPassword));\n    setNoSpecialChar(!isOnlyNumbers && !SPECIAL_CHARS_REGEX.test(firstPassword));\n  }, [firstPassword, secondPassword, requiredMinLength, isOnlyNumbers, requiredLength]);\n\n  return {\n    invalidLength, noNumber, noUpperCase, noLowerCase, noEqual, noSpecialChar,\n  };\n};\n","import { useRef } from '../lib/teact/teact';\n\nimport useForceUpdate from './useForceUpdate';\nimport usePrevious from './usePrevious';\nimport useSyncEffect from './useSyncEffect';\n\nexport default function usePrevDuringAnimation<T>(current: T, duration?: number) {\n  const prev = usePrevious(current, true);\n  const timeoutRef = useRef<number>();\n  const forceUpdate = useForceUpdate();\n  // eslint-disable-next-line no-null/no-null\n  const isCurrentPresent = current !== undefined && current !== null;\n  // eslint-disable-next-line no-null/no-null\n  const isPrevPresent = prev !== undefined && prev !== null;\n\n  if (isCurrentPresent && timeoutRef.current) {\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = undefined;\n  }\n\n  useSyncEffect(() => {\n    // When `current` becomes empty\n    if (duration && !isCurrentPresent && isPrevPresent && !timeoutRef.current) {\n      timeoutRef.current = window.setTimeout(() => {\n        timeoutRef.current = undefined;\n        forceUpdate();\n      }, duration);\n    }\n  }, [duration, forceUpdate, isCurrentPresent, isPrevPresent]);\n\n  return !timeoutRef.current || !duration || isCurrentPresent ? current : prev;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport stopEvent from '../util/stopEvent';\nimport { IS_IOS, IS_PWA, IS_TOUCH_ENV } from '../util/windowEnvironment';\n\nconst metaViewport = document.querySelector('meta[name=\"viewport\"]');\nconst defaultViewportContent = metaViewport?.getAttribute('content') || '';\nconst allowedZoomViewportContent = 'width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover';\n\nexport default function usePreventPinchZoomGesture(isDisabled = false) {\n  useEffect(() => {\n    if (!IS_TOUCH_ENV) {\n      return undefined;\n    }\n\n    if (isDisabled) {\n      // Clean viewport content from values that disable the ability to zoom a webpage\n      // https://web.dev/meta-viewport/\n      metaViewport?.setAttribute('content', allowedZoomViewportContent);\n      return undefined;\n    }\n\n    metaViewport?.setAttribute('content', defaultViewportContent);\n\n    // Since iOS 10 `user-scaleable=no` is disabled in Safari for iOS,\n    // this is only applicable for the browser and does not apply to the PWA mode.\n    // https://newbedev.com/how-do-you-disable-viewport-zooming-on-mobile-safari\n    if (IS_IOS && !IS_PWA) {\n      document.addEventListener('gesturestart', stopEvent);\n    }\n\n    return () => {\n      metaViewport?.setAttribute('content', allowedZoomViewportContent);\n      if (IS_IOS && !IS_PWA) {\n        document.removeEventListener('gesturestart', stopEvent);\n      }\n    };\n  }, [isDisabled]);\n}\n","import { useRef } from '../lib/teact/teact';\n\n// Deprecated. Use `usePrevious2` instead\nfunction usePrevious<T extends any>(next: T): T | undefined;\nfunction usePrevious<T extends any>(next: T, shouldSkipUndefined: true): Exclude<T, undefined> | undefined;\nfunction usePrevious<T extends any>(next: T, shouldSkipUndefined?: boolean): Exclude<T, undefined> | undefined;\nfunction usePrevious<T extends any>(next: T, shouldSkipUndefined?: boolean) {\n  const ref = useRef<T>();\n  const { current } = ref;\n  if (!shouldSkipUndefined || next !== undefined) {\n    ref.current = next;\n  }\n\n  return current;\n}\n\nexport default usePrevious;\n","import { useRef } from '../lib/teact/teact';\n\n// This is not render-dependent and will never allow previous to match current\nexport default function usePrevious2<T extends any>(current: T) {\n  const prevRef = useRef<T>();\n  const lastRef = useRef<T>();\n\n  if (lastRef.current !== current) {\n    prevRef.current = lastRef.current;\n  }\n\n  lastRef.current = current;\n\n  return prevRef.current;\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport { createCallbackManager } from '../util/callbacks';\nimport useLastCallback from './useLastCallback';\n\nconst startCallbacks = createCallbackManager();\nconst endCallbacks = createCallbackManager();\n\nlet timeout: number | undefined;\nlet isActive = false;\n\nconst usePriorityPlaybackCheck = (\n  onStart?: AnyToVoidFunction,\n  onEnd?: AnyToVoidFunction,\n  isDisabled = false,\n) => {\n  const lastOnStart = useLastCallback(onStart);\n  const lastOnEnd = useLastCallback(onEnd);\n\n  useEffect(() => {\n    if (isDisabled) {\n      return undefined;\n    }\n\n    if (isActive) {\n      lastOnStart();\n    }\n\n    startCallbacks.addCallback(lastOnStart);\n    endCallbacks.addCallback(lastOnEnd);\n\n    return () => {\n      endCallbacks.removeCallback(lastOnEnd);\n      startCallbacks.removeCallback(lastOnStart);\n    };\n  }, [isDisabled, lastOnStart, lastOnEnd]);\n};\n\nexport function isPriorityPlaybackActive() {\n  return isActive;\n}\n\nexport function dispatchPriorityPlaybackEvent() {\n  if (!isActive) {\n    isActive = true;\n    startCallbacks.runCallbacks();\n  }\n\n  if (timeout) {\n    clearTimeout(timeout);\n    timeout = undefined;\n  }\n\n  // Race condition may happen if another `dispatchPriorityPlaybackEvent` is called before `onEnd`\n  function onEnd() {\n    if (timeout) {\n      clearTimeout(timeout);\n      timeout = undefined;\n    }\n\n    isActive = false;\n    endCallbacks.runCallbacks();\n  }\n\n  return onEnd;\n}\n\nexport default usePriorityPlaybackCheck;\n","import type QRCodeStyling from 'qr-code-styling';\nimport {\n  useEffect, useLayoutEffect, useRef, useState,\n} from '../lib/teact/teact';\nimport { removeExtraClass } from '../lib/teact/teact-dom';\n\nimport formatTransferUrl from '../util/ton/formatTransferUrl';\n\nconst QR_SIZE = 600;\n\ninterface UseQRCodeHook {\n  qrCodeRef: React.RefObject<HTMLDivElement>;\n  isInitialized: boolean;\n}\n\nlet qrCode: QRCodeStyling;\n\nexport default function useQrCode(\n  address?: string,\n  isOpen?: boolean,\n  hiddenClassName?: string,\n  hideLogo?: boolean,\n  withFormatTransferUrl?: boolean,\n): UseQRCodeHook {\n  const [isInitialized, setIsInitialized] = useState(!!qrCode);\n\n  // eslint-disable-next-line no-null/no-null\n  const qrCodeRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isInitialized) return;\n\n    import('qr-code-styling')\n      .then(({ default: QrCodeStyling }) => {\n        qrCode = new QrCodeStyling({\n          width: QR_SIZE,\n          height: QR_SIZE,\n          image: './logo.svg',\n          margin: 0,\n          type: 'canvas',\n          dotsOptions: { type: 'rounded' },\n          cornersSquareOptions: { type: 'extra-rounded' },\n          imageOptions: { imageSize: 0.4, margin: 8, crossOrigin: 'anonymous' },\n          qrOptions: { errorCorrectionLevel: 'M' },\n          data: formatTransferUrl(''),\n        });\n\n        setIsInitialized(true);\n      });\n  }, [isInitialized]);\n\n  useLayoutEffect(() => {\n    if (!isOpen || !isInitialized) return;\n\n    if (qrCodeRef.current && hiddenClassName) removeExtraClass(qrCodeRef.current, hiddenClassName);\n\n    if (qrCodeRef.current) {\n      qrCode?.append(qrCodeRef.current);\n      // eslint-disable-next-line no-underscore-dangle\n      qrCode._options.image = hideLogo ? undefined : './logo.svg';\n    }\n  }, [isOpen, isInitialized, hiddenClassName, hideLogo]);\n\n  useEffect(() => {\n    if (!address || !isOpen || !qrCode || !isInitialized) return;\n\n    qrCode.update({ data: withFormatTransferUrl ? formatTransferUrl(address) : address });\n  }, [address, isOpen, isInitialized, withFormatTransferUrl]);\n\n  return { qrCodeRef, isInitialized };\n}\n","import { BarcodeScanner } from '@capacitor-mlkit/barcode-scanning';\n\nimport { IS_CAPACITOR } from '../config';\nimport useEffectOnce from './useEffectOnce';\nimport useForceUpdate from './useForceUpdate';\n\nlet isQrScannerSupported = false;\n\nexport default function useQrScannerSupport() {\n  const forceUpdate = useForceUpdate();\n\n  useEffectOnce(() => {\n    if (!IS_CAPACITOR || isQrScannerSupported) return;\n\n    BarcodeScanner\n      .isSupported()\n      .then((result) => {\n        isQrScannerSupported = result.supported;\n        forceUpdate();\n      });\n  });\n\n  return isQrScannerSupported;\n}\n","import { useState } from '../lib/teact/teact';\n\nimport useLastCallback from './useLastCallback';\n\nconst THRESHOLD = 1;\n\nexport default function useScrolledState(threshold = THRESHOLD) {\n  const [isAtBeginning, setIsAtBeginning] = useState(true);\n  const [isAtEnd, setIsAtEnd] = useState(true);\n\n  const handleScroll = useLastCallback((e: React.UIEvent<HTMLElement>) => {\n    const { scrollHeight, scrollTop, clientHeight } = e.target as HTMLElement;\n\n    setIsAtBeginning(scrollTop < threshold);\n    setIsAtEnd(scrollHeight - scrollTop - clientHeight < threshold);\n  });\n\n  return {\n    isAtBeginning,\n    isAtEnd,\n    isScrolled: !isAtBeginning,\n    handleScroll,\n  };\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport type { CallbackManager } from '../util/callbacks';\n\nimport { createCallbackManager } from '../util/callbacks';\nimport { useStateRef } from './useStateRef';\n\nconst elementObserverMap = new Map<HTMLElement, [IntersectionObserver, CallbackManager]>();\n\nexport default function useSharedIntersectionObserver(\n  refOrElement: React.RefObject<HTMLElement> | HTMLElement | undefined,\n  onIntersectionChange: (entry: IntersectionObserverEntry) => void,\n  isDisabled = false,\n) {\n  const onIntersectionChangeRef = useStateRef(onIntersectionChange);\n\n  useEffect(() => {\n    const el = refOrElement && 'current' in refOrElement ? refOrElement.current : refOrElement;\n    if (!el || isDisabled) {\n      return undefined;\n    }\n\n    const callback: IntersectionObserverCallback = ([entry]) => {\n      // Ignore updates when element is not properly mounted (`display: none`)\n      if (!(entry.target as HTMLElement).offsetWidth || !(entry.target as HTMLElement).offsetHeight) {\n        return;\n      }\n\n      onIntersectionChangeRef.current(entry);\n    };\n\n    let [observer, callbackManager] = elementObserverMap.get(el) || [undefined, undefined];\n    if (!observer) {\n      callbackManager = createCallbackManager();\n      observer = new IntersectionObserver(callbackManager.runCallbacks);\n      elementObserverMap.set(el, [observer, callbackManager]);\n      observer.observe(el);\n    }\n    callbackManager!.addCallback(callback);\n\n    return () => {\n      callbackManager!.removeCallback(callback);\n      if (!callbackManager!.hasCallbacks()) {\n        observer!.unobserve(el);\n        observer!.disconnect();\n        elementObserverMap.delete(el);\n      }\n    };\n  }, [isDisabled, onIntersectionChangeRef, refOrElement]);\n}\n","import { useRef, useState } from '../lib/teact/teact';\n\nimport buildClassName from '../util/buildClassName';\n\nconst CLOSE_DURATION = 350;\n\nconst useShowTransition = (\n  isOpen = false,\n  onCloseTransitionEnd?: () => void,\n  noFirstOpenTransition = false,\n  className: string | false = 'fast',\n  noCloseTransition = false,\n  closeDuration = CLOSE_DURATION,\n  noOpenTransition = false,\n) => {\n  const [isClosed, setIsClosed] = useState(!isOpen);\n  const closeTimeoutRef = useRef<number>();\n  // SS class should be added in a separate tick to turn on CSS transition.\n  const [hasOpenClassName, setHasOpenClassName] = useState(isOpen && noFirstOpenTransition);\n\n  if (isOpen) {\n    setIsClosed(false);\n    setHasOpenClassName(true);\n\n    if (closeTimeoutRef.current) {\n      window.clearTimeout(closeTimeoutRef.current);\n      closeTimeoutRef.current = undefined;\n    }\n  } else {\n    setHasOpenClassName(false);\n\n    if (!isClosed && !closeTimeoutRef.current) {\n      const exec = () => {\n        setIsClosed(true);\n\n        if (onCloseTransitionEnd) {\n          onCloseTransitionEnd();\n        }\n\n        closeTimeoutRef.current = undefined;\n      };\n\n      if (noCloseTransition) {\n        exec();\n      } else {\n        closeTimeoutRef.current = window.setTimeout(exec, closeDuration);\n      }\n    }\n  }\n\n  // `noCloseTransition`, when set to true, should remove the open class immediately\n  const shouldHaveOpenClassName = (hasOpenClassName && !(noCloseTransition && !isOpen)) || (noOpenTransition && isOpen);\n  const isClosing = Boolean(closeTimeoutRef.current);\n  const shouldRender = isOpen || isClosing;\n  const transitionClassNames = buildClassName(\n    className && 'opacity-transition',\n    className,\n    shouldHaveOpenClassName && 'open',\n    !shouldHaveOpenClassName && 'not-open',\n    shouldRender && 'shown',\n    !shouldRender && 'not-shown',\n    isClosing && 'closing',\n  );\n\n  return {\n    shouldRender,\n    transitionClassNames,\n    hasShownClass: shouldRender,\n    hasOpenClass: shouldHaveOpenClassName,\n  };\n};\n\nexport default useShowTransition;\n","import { useRef } from '../lib/teact/teact';\n\nimport { createSignal } from '../util/signals';\n\nexport default function useSignal<T>(initial?: T) {\n  const signalRef = useRef<ReturnType<typeof createSignal<T>>>();\n  signalRef.current ??= createSignal<T>(initial);\n  return signalRef.current;\n}\n","import { useRef } from '../lib/teact/teact';\n\nimport { cleanupEffect, isSignal } from '../util/signals';\nimport useEffectOnce from './useEffectOnce';\n\nexport function useSignalEffect(effect: NoneToVoidFunction, dependencies: readonly any[]) {\n  // The is extracted from `useEffectOnce` to run before all effects\n  const isFirstRun = useRef(true);\n  if (isFirstRun.current) {\n    isFirstRun.current = false;\n\n    dependencies?.forEach((dependency) => {\n      if (isSignal(dependency)) {\n        dependency.subscribe(effect);\n      }\n    });\n  }\n\n  useEffectOnce(() => {\n    return () => {\n      cleanupEffect(effect);\n    };\n  });\n}\n","import { useRef } from '../lib/teact/teact';\n\nimport type { Signal } from '../util/signals';\n\nimport useEffectOnce from './useEffectOnce';\n\n// Allows to use signal value as \"silent\" dependency in hooks (not causing updates)\nexport function useSignalRef<T>(getValue: Signal<T>) {\n  const ref = useRef<T>(getValue());\n\n  useEffectOnce(() => {\n    return getValue.subscribe(() => {\n      ref.current = getValue();\n    });\n  });\n\n  return ref;\n}\n","import { useRef } from '../lib/teact/teact';\n\n// Allows to use state value as \"silent\" dependency in hooks (not causing updates).\n// Also useful for state values that update frequently (such as controlled input value).\nexport function useStateRef<T>(value: T) {\n  const ref = useRef<T>(value);\n  ref.current = value;\n  return ref;\n}\n","import { useRef } from '../lib/teact/teact';\n\nimport useEffectOnce from './useEffectOnce';\nimport usePrevious from './usePrevious';\n\nexport default function useSyncEffect<const T extends readonly any[]>(\n  effect: (args: T | readonly []) => NoneToVoidFunction | void,\n  dependencies: T,\n) {\n  const prevDeps = usePrevious<T>(dependencies);\n  const cleanupRef = useRef<NoneToVoidFunction>();\n\n  if (!prevDeps || dependencies.some((d, i) => d !== prevDeps[i])) {\n    cleanupRef.current?.();\n    cleanupRef.current = effect(prevDeps || []) ?? undefined;\n  }\n\n  useEffectOnce(() => {\n    return () => {\n      cleanupRef.current?.();\n    };\n  });\n}\n","import { useCallback, useMemo } from '../lib/teact/teact';\n\nimport type { Scheduler } from '../util/schedulers';\n\nimport { throttle, throttleWith } from '../util/schedulers';\n\nexport default function useThrottledCallback<T extends AnyToVoidFunction>(\n  fn: T,\n  deps: any[],\n  msOrSchedulerFn: number | Scheduler,\n  noFirst = false,\n) {\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  const fnMemo = useCallback(fn, deps);\n\n  return useMemo(() => {\n    if (typeof msOrSchedulerFn === 'number') {\n      return throttle(fnMemo, msOrSchedulerFn, !noFirst);\n    } else {\n      return throttleWith(msOrSchedulerFn, fnMemo);\n    }\n  }, [fnMemo, msOrSchedulerFn, noFirst]);\n}\n","import { useEffect } from '../lib/teact/teact';\n\nimport useLastCallback from './useLastCallback';\n\nfunction useTimeout(callback: () => void, delay?: number, dependencies: readonly any[] = []) {\n  const savedCallback = useLastCallback(callback);\n\n  useEffect(() => {\n    if (typeof delay !== 'number') {\n      return undefined;\n    }\n\n    const id = setTimeout(() => savedCallback(), delay);\n    return () => clearTimeout(id);\n    // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  }, [delay, savedCallback, ...dependencies]);\n}\n\nexport default useTimeout;\n","import { useRef } from '../lib/teact/teact';\n\nimport generateUniqueId from '../util/generateUniqueId';\n\nexport default function useUniqueId() {\n  const idRef = useRef<string>();\n\n  if (!idRef.current) {\n    idRef.current = generateUniqueId();\n  }\n\n  return idRef.current;\n}\n","import { useState } from '../lib/teact/teact';\n\nimport useInterval from './useInterval';\n\nconst ONE_SECOND = 1000;\nconst SHOW_INDICATOR_DELAY_MS = 2 * ONE_SECOND;\n\nexport default function useUpdateIndicator(updateStartedAt?: number) {\n  const [isUpdating, setIsUpdating] = useState(false);\n\n  useInterval(() => {\n    if (!updateStartedAt) {\n      setIsUpdating(false);\n      return;\n    }\n\n    const timeElapsedSinceLastUpdateStarted = Date.now() - updateStartedAt;\n\n    setIsUpdating(timeElapsedSinceLastUpdateStarted > SHOW_INDICATOR_DELAY_MS);\n  }, ONE_SECOND, false);\n\n  return isUpdating;\n}\n","import { useEffect, useMemo } from '../lib/teact/teact';\nimport { getActions } from '../global';\n\nimport type { ApiVestingInfo } from '../api/types';\nimport type { UserToken } from '../global/types';\n\nimport { calcVestingAmountByStatus } from '../components/main/helpers/calcVestingAmountByStatus';\nimport useLastCallback from './useLastCallback';\nimport useShowTransition from './useShowTransition';\n\nexport default function useVesting({ vesting, userMycoin }: { vesting?: ApiVestingInfo[]; userMycoin?: UserToken }) {\n  const { loadMycoin, openVestingModal } = getActions();\n\n  const hasVesting = Boolean(vesting?.length);\n  const isMycoinLoaded = Boolean(userMycoin);\n\n  useEffect(() => {\n    if (isMycoinLoaded || !hasVesting) return;\n\n    loadMycoin();\n  }, [hasVesting, isMycoinLoaded]);\n\n  const amount = useMemo(() => {\n    if (!hasVesting) return undefined;\n\n    return calcVestingAmountByStatus(vesting!, ['frozen', 'ready']);\n  }, [hasVesting, vesting]);\n\n  const unfreezeEndDate = useMemo(() => {\n    if (!hasVesting) return undefined;\n\n    for (const { parts } of vesting!) {\n      for (const part of parts) {\n        if (part.status === 'ready') {\n          return new Date(part.timeEnd).getTime();\n        }\n      }\n    }\n\n    return undefined;\n  }, [hasVesting, vesting]);\n\n  const {\n    shouldRender,\n    transitionClassNames,\n  } = useShowTransition(Boolean(hasVesting && isMycoinLoaded && userMycoin));\n\n  const onVestingTokenClick = useLastCallback(() => {\n    openVestingModal();\n  });\n\n  return {\n    shouldRender,\n    transitionClassNames,\n    amount,\n    vestingStatus: unfreezeEndDate ? 'readyToUnfreeze' as const : 'frozen' as const,\n    unfreezeEndDate,\n    onVestingTokenClick,\n  };\n}\n","import type { RefObject } from 'react';\nimport { useEffect } from '../lib/teact/teact';\n\nimport styles from '../components/ui/Menu.module.scss';\n\n// This effect implements closing menus by clicking outside of them\n// without adding extra elements to the DOM\nexport default function useVirtualBackdrop(\n  isOpen: boolean,\n  menuRef: RefObject<HTMLElement>,\n  onClose?: () => void | undefined,\n) {\n  useEffect(() => {\n    const handleEvent = (e: Event) => {\n      const menu = menuRef.current;\n      const target = e.target as HTMLElement | null;\n      if (!menu || !target) {\n        return;\n      }\n\n      if (\n        !menu.contains(e.target as Node | null)\n        || target.classList.contains(styles.backdrop)\n      ) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (onClose) {\n          onClose();\n        }\n      }\n    };\n\n    if (isOpen && onClose) {\n      document.addEventListener('mousedown', handleEvent);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleEvent);\n    };\n  }, [isOpen, menuRef, onClose]);\n}\n","import { useEffect, useMemo, useState } from '../lib/teact/teact';\n\nimport { throttle } from '../util/schedulers';\nimport windowSize from '../util/windowSize';\nimport useDebouncedCallback from './useDebouncedCallback';\n\nconst THROTTLE = 250;\n\nexport default function useWindowSize() {\n  const {\n    width: initialWidth,\n    height: initialHeight,\n    screenHeight: initialScreenHeight,\n  } = windowSize.get();\n  const [width, setWidth] = useState(initialWidth);\n  const [height, setHeight] = useState(initialHeight);\n  const [screenHeight, setScreenHeight] = useState(initialScreenHeight);\n  const [isResizing, setIsResizing] = useState(false);\n  const setIsResizingDebounced = useDebouncedCallback(setIsResizing, [setIsResizing], THROTTLE, true);\n\n  useEffect(() => {\n    const throttledSetIsResizing = throttle(() => {\n      setIsResizing(true);\n    }, THROTTLE, true);\n\n    const throttledSetSize = throttle(() => {\n      const { width: newWidth, height: newHeight, screenHeight: newScreenHeight } = windowSize.get();\n      setWidth(newWidth);\n      setHeight(newHeight);\n      setScreenHeight(newScreenHeight);\n      setIsResizingDebounced(false);\n    }, THROTTLE, false);\n\n    const handleResize = () => {\n      throttledSetIsResizing();\n      throttledSetSize();\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, [setIsResizingDebounced]);\n\n  return useMemo(() => ({\n    width, height, screenHeight, isResizing,\n  }), [height, isResizing, screenHeight, width]);\n}\n","/*\n *  big.js v6.2.1\n *  A small, fast, easy-to-use library for arbitrary-precision decimal arithmetic.\n *  Copyright (c) 2022 Michael Mclaughlin\n *  https://github.com/MikeMcl/big.js/LICENCE.md\n */\n\n\n/************************************** EDITABLE DEFAULTS *****************************************/\n\n\n  // The default values below must be integers within the stated ranges.\n\n  /*\n   * The maximum number of decimal places (DP) of the results of operations involving division:\n   * div and sqrt, and pow with negative exponents.\n   */\nvar DP = 20,          // 0 to MAX_DP\n\n  /*\n   * The rounding mode (RM) used when rounding to the above decimal places.\n   *\n   *  0  Towards zero (i.e. truncate, no rounding).       (ROUND_DOWN)\n   *  1  To nearest neighbour. If equidistant, round up.  (ROUND_HALF_UP)\n   *  2  To nearest neighbour. If equidistant, to even.   (ROUND_HALF_EVEN)\n   *  3  Away from zero.                                  (ROUND_UP)\n   */\n  RM = 1,             // 0, 1, 2 or 3\n\n  // The maximum value of DP and Big.DP.\n  MAX_DP = 1E6,       // 0 to 1000000\n\n  // The maximum magnitude of the exponent argument to the pow method.\n  MAX_POWER = 1E6,    // 1 to 1000000\n\n  /*\n   * The negative exponent (NE) at and beneath which toString returns exponential notation.\n   * (JavaScript numbers: -7)\n   * -1000000 is the minimum recommended exponent value of a Big.\n   */\n  NE = -7,            // 0 to -1000000\n\n  /*\n   * The positive exponent (PE) at and above which toString returns exponential notation.\n   * (JavaScript numbers: 21)\n   * 1000000 is the maximum recommended exponent value of a Big, but this limit is not enforced.\n   */\n  PE = 21,            // 0 to 1000000\n\n  /*\n   * When true, an error will be thrown if a primitive number is passed to the Big constructor,\n   * or if valueOf is called, or if toNumber is called on a Big which cannot be converted to a\n   * primitive number without a loss of precision.\n   */\n  STRICT = false,     // true or false\n\n\n/**************************************************************************************************/\n\n\n  // Error messages.\n  NAME = '[big.js] ',\n  INVALID = NAME + 'Invalid ',\n  INVALID_DP = INVALID + 'decimal places',\n  INVALID_RM = INVALID + 'rounding mode',\n  DIV_BY_ZERO = NAME + 'Division by zero',\n\n  // The shared prototype object.\n  P = {},\n  UNDEFINED = void 0,\n  NUMERIC = /^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;\n\n\n/*\n * Create and return a Big constructor.\n */\nfunction _Big_() {\n\n  /*\n   * The Big constructor and exported function.\n   * Create and return a new instance of a Big number object.\n   *\n   * n {number|string|Big} A numeric value.\n   */\n  function Big(n) {\n    var x = this;\n\n    // Enable constructor usage without new.\n    if (!(x instanceof Big)) return n === UNDEFINED ? _Big_() : new Big(n);\n\n    // Duplicate.\n    if (n instanceof Big) {\n      x.s = n.s;\n      x.e = n.e;\n      x.c = n.c.slice();\n    } else {\n      if (typeof n !== 'string') {\n        if (Big.strict === true && typeof n !== 'bigint') {\n          throw TypeError(INVALID + 'value');\n        }\n\n        // Minus zero?\n        n = n === 0 && 1 / n < 0 ? '-0' : String(n);\n      }\n\n      parse(x, n);\n    }\n\n    // Retain a reference to this Big constructor.\n    // Shadow Big.prototype.constructor which points to Object.\n    x.constructor = Big;\n  }\n\n  Big.prototype = P;\n  Big.DP = DP;\n  Big.RM = RM;\n  Big.NE = NE;\n  Big.PE = PE;\n  Big.strict = STRICT;\n  Big.roundDown = 0;\n  Big.roundHalfUp = 1;\n  Big.roundHalfEven = 2;\n  Big.roundUp = 3;\n\n  return Big;\n}\n\n\n/*\n * Parse the number or string value passed to a Big constructor.\n *\n * x {Big} A Big number instance.\n * n {number|string} A numeric value.\n */\nfunction parse(x, n) {\n  var e, i, nl;\n\n  if (!NUMERIC.test(n)) {\n    throw Error(INVALID + 'number');\n  }\n\n  // Determine sign.\n  x.s = n.charAt(0) == '-' ? (n = n.slice(1), -1) : 1;\n\n  // Decimal point?\n  if ((e = n.indexOf('.')) > -1) n = n.replace('.', '');\n\n  // Exponential form?\n  if ((i = n.search(/e/i)) > 0) {\n\n    // Determine exponent.\n    if (e < 0) e = i;\n    e += +n.slice(i + 1);\n    n = n.substring(0, i);\n  } else if (e < 0) {\n\n    // Integer.\n    e = n.length;\n  }\n\n  nl = n.length;\n\n  // Determine leading zeros.\n  for (i = 0; i < nl && n.charAt(i) == '0';) ++i;\n\n  if (i == nl) {\n\n    // Zero.\n    x.c = [x.e = 0];\n  } else {\n\n    // Determine trailing zeros.\n    for (; nl > 0 && n.charAt(--nl) == '0';);\n    x.e = e - i - 1;\n    x.c = [];\n\n    // Convert string to array of digits without leading/trailing zeros.\n    for (e = 0; i <= nl;) x.c[e++] = +n.charAt(i++);\n  }\n\n  return x;\n}\n\n\n/*\n * Round Big x to a maximum of sd significant digits using rounding mode rm.\n *\n * x {Big} The Big to round.\n * sd {number} Significant digits: integer, 0 to MAX_DP inclusive.\n * rm {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n * [more] {boolean} Whether the result of division was truncated.\n */\nfunction round(x, sd, rm, more) {\n  var xc = x.c;\n\n  if (rm === UNDEFINED) rm = x.constructor.RM;\n  if (rm !== 0 && rm !== 1 && rm !== 2 && rm !== 3) {\n    throw Error(INVALID_RM);\n  }\n\n  if (sd < 1) {\n    more =\n      rm === 3 && (more || !!xc[0]) || sd === 0 && (\n      rm === 1 && xc[0] >= 5 ||\n      rm === 2 && (xc[0] > 5 || xc[0] === 5 && (more || xc[1] !== UNDEFINED))\n    );\n\n    xc.length = 1;\n\n    if (more) {\n\n      // 1, 0.1, 0.01, 0.001, 0.0001 etc.\n      x.e = x.e - sd + 1;\n      xc[0] = 1;\n    } else {\n\n      // Zero.\n      xc[0] = x.e = 0;\n    }\n  } else if (sd < xc.length) {\n\n    // xc[sd] is the digit after the digit that may be rounded up.\n    more =\n      rm === 1 && xc[sd] >= 5 ||\n      rm === 2 && (xc[sd] > 5 || xc[sd] === 5 &&\n        (more || xc[sd + 1] !== UNDEFINED || xc[sd - 1] & 1)) ||\n      rm === 3 && (more || !!xc[0]);\n\n    // Remove any digits after the required precision.\n    xc.length = sd;\n\n    // Round up?\n    if (more) {\n\n      // Rounding up may mean the previous digit has to be rounded up.\n      for (; ++xc[--sd] > 9;) {\n        xc[sd] = 0;\n        if (sd === 0) {\n          ++x.e;\n          xc.unshift(1);\n          break;\n        }\n      }\n    }\n\n    // Remove trailing zeros.\n    for (sd = xc.length; !xc[--sd];) xc.pop();\n  }\n\n  return x;\n}\n\n\n/*\n * Return a string representing the value of Big x in normal or exponential notation.\n * Handles P.toExponential, P.toFixed, P.toJSON, P.toPrecision, P.toString and P.valueOf.\n */\nfunction stringify(x, doExponential, isNonzero) {\n  var e = x.e,\n    s = x.c.join(''),\n    n = s.length;\n\n  // Exponential notation?\n  if (doExponential) {\n    s = s.charAt(0) + (n > 1 ? '.' + s.slice(1) : '') + (e < 0 ? 'e' : 'e+') + e;\n\n  // Normal notation.\n  } else if (e < 0) {\n    for (; ++e;) s = '0' + s;\n    s = '0.' + s;\n  } else if (e > 0) {\n    if (++e > n) {\n      for (e -= n; e--;) s += '0';\n    } else if (e < n) {\n      s = s.slice(0, e) + '.' + s.slice(e);\n    }\n  } else if (n > 1) {\n    s = s.charAt(0) + '.' + s.slice(1);\n  }\n\n  return x.s < 0 && isNonzero ? '-' + s : s;\n}\n\n\n// Prototype/instance methods\n\n\n/*\n * Return a new Big whose value is the absolute value of this Big.\n */\nP.abs = function () {\n  var x = new this.constructor(this);\n  x.s = 1;\n  return x;\n};\n\n\n/*\n * Return 1 if the value of this Big is greater than the value of Big y,\n *       -1 if the value of this Big is less than the value of Big y, or\n *        0 if they have the same value.\n */\nP.cmp = function (y) {\n  var isneg,\n    x = this,\n    xc = x.c,\n    yc = (y = new x.constructor(y)).c,\n    i = x.s,\n    j = y.s,\n    k = x.e,\n    l = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) return !xc[0] ? !yc[0] ? 0 : -j : i;\n\n  // Signs differ?\n  if (i != j) return i;\n\n  isneg = i < 0;\n\n  // Compare exponents.\n  if (k != l) return k > l ^ isneg ? 1 : -1;\n\n  j = (k = xc.length) < (l = yc.length) ? k : l;\n\n  // Compare digit by digit.\n  for (i = -1; ++i < j;) {\n    if (xc[i] != yc[i]) return xc[i] > yc[i] ^ isneg ? 1 : -1;\n  }\n\n  // Compare lengths.\n  return k == l ? 0 : k > l ^ isneg ? 1 : -1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big divided by the value of Big y, rounded,\n * if necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.div = function (y) {\n  var x = this,\n    Big = x.constructor,\n    a = x.c,                  // dividend\n    b = (y = new Big(y)).c,   // divisor\n    k = x.s == y.s ? 1 : -1,\n    dp = Big.DP;\n\n  if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n\n  // Divisor is zero?\n  if (!b[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  // Dividend is 0? Return +-0.\n  if (!a[0]) {\n    y.s = k;\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  var bl, bt, n, cmp, ri,\n    bz = b.slice(),\n    ai = bl = b.length,\n    al = a.length,\n    r = a.slice(0, bl),   // remainder\n    rl = r.length,\n    q = y,                // quotient\n    qc = q.c = [],\n    qi = 0,\n    p = dp + (q.e = x.e - y.e) + 1;    // precision of the result\n\n  q.s = k;\n  k = p < 0 ? 0 : p;\n\n  // Create version of divisor with leading zero.\n  bz.unshift(0);\n\n  // Add zeros to make remainder as long as divisor.\n  for (; rl++ < bl;) r.push(0);\n\n  do {\n\n    // n is how many times the divisor goes into current remainder.\n    for (n = 0; n < 10; n++) {\n\n      // Compare divisor and remainder.\n      if (bl != (rl = r.length)) {\n        cmp = bl > rl ? 1 : -1;\n      } else {\n        for (ri = -1, cmp = 0; ++ri < bl;) {\n          if (b[ri] != r[ri]) {\n            cmp = b[ri] > r[ri] ? 1 : -1;\n            break;\n          }\n        }\n      }\n\n      // If divisor < remainder, subtract divisor from remainder.\n      if (cmp < 0) {\n\n        // Remainder can't be more than 1 digit longer than divisor.\n        // Equalise lengths using divisor with extra leading zero?\n        for (bt = rl == bl ? b : bz; rl;) {\n          if (r[--rl] < bt[rl]) {\n            ri = rl;\n            for (; ri && !r[--ri];) r[ri] = 9;\n            --r[ri];\n            r[rl] += 10;\n          }\n          r[rl] -= bt[rl];\n        }\n\n        for (; !r[0];) r.shift();\n      } else {\n        break;\n      }\n    }\n\n    // Add the digit n to the result array.\n    qc[qi++] = cmp ? n : ++n;\n\n    // Update the remainder.\n    if (r[0] && cmp) r[rl] = a[ai] || 0;\n    else r = [a[ai]];\n\n  } while ((ai++ < al || r[0] !== UNDEFINED) && k--);\n\n  // Leading zero? Do not remove if result is simply zero (qi == 1).\n  if (!qc[0] && qi != 1) {\n\n    // There can't be more than one zero.\n    qc.shift();\n    q.e--;\n    p--;\n  }\n\n  // Round?\n  if (qi > p) round(q, p, Big.RM, r[0] !== UNDEFINED);\n\n  return q;\n};\n\n\n/*\n * Return true if the value of this Big is equal to the value of Big y, otherwise return false.\n */\nP.eq = function (y) {\n  return this.cmp(y) === 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than the value of Big y, otherwise return\n * false.\n */\nP.gt = function (y) {\n  return this.cmp(y) > 0;\n};\n\n\n/*\n * Return true if the value of this Big is greater than or equal to the value of Big y, otherwise\n * return false.\n */\nP.gte = function (y) {\n  return this.cmp(y) > -1;\n};\n\n\n/*\n * Return true if the value of this Big is less than the value of Big y, otherwise return false.\n */\nP.lt = function (y) {\n  return this.cmp(y) < 0;\n};\n\n\n/*\n * Return true if the value of this Big is less than or equal to the value of Big y, otherwise\n * return false.\n */\nP.lte = function (y) {\n  return this.cmp(y) < 1;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big minus the value of Big y.\n */\nP.minus = P.sub = function (y) {\n  var i, j, t, xlty,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  // Signs differ?\n  if (a != b) {\n    y.s = -b;\n    return x.plus(y);\n  }\n\n  var xc = x.c.slice(),\n    xe = x.e,\n    yc = y.c,\n    ye = y.e;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (yc[0]) {\n      y.s = -b;\n    } else if (xc[0]) {\n      y = new Big(x);\n    } else {\n      y.s = 1;\n    }\n    return y;\n  }\n\n  // Determine which is the bigger number. Prepend zeros to equalise exponents.\n  if (a = xe - ye) {\n\n    if (xlty = a < 0) {\n      a = -a;\n      t = xc;\n    } else {\n      ye = xe;\n      t = yc;\n    }\n\n    t.reverse();\n    for (b = a; b--;) t.push(0);\n    t.reverse();\n  } else {\n\n    // Exponents equal. Check digit by digit.\n    j = ((xlty = xc.length < yc.length) ? xc : yc).length;\n\n    for (a = b = 0; b < j; b++) {\n      if (xc[b] != yc[b]) {\n        xlty = xc[b] < yc[b];\n        break;\n      }\n    }\n  }\n\n  // x < y? Point xc to the array of the bigger number.\n  if (xlty) {\n    t = xc;\n    xc = yc;\n    yc = t;\n    y.s = -y.s;\n  }\n\n  /*\n   * Append zeros to xc if shorter. No need to add zeros to yc if shorter as subtraction only\n   * needs to start at yc.length.\n   */\n  if ((b = (j = yc.length) - (i = xc.length)) > 0) for (; b--;) xc[i++] = 0;\n\n  // Subtract yc from xc.\n  for (b = i; j > a;) {\n    if (xc[--j] < yc[j]) {\n      for (i = j; i && !xc[--i];) xc[i] = 9;\n      --xc[i];\n      xc[j] += 10;\n    }\n\n    xc[j] -= yc[j];\n  }\n\n  // Remove trailing zeros.\n  for (; xc[--b] === 0;) xc.pop();\n\n  // Remove leading zeros and adjust exponent accordingly.\n  for (; xc[0] === 0;) {\n    xc.shift();\n    --ye;\n  }\n\n  if (!xc[0]) {\n\n    // n - n = +0\n    y.s = 1;\n\n    // Result must be zero.\n    xc = [ye = 0];\n  }\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big modulo the value of Big y.\n */\nP.mod = function (y) {\n  var ygtx,\n    x = this,\n    Big = x.constructor,\n    a = x.s,\n    b = (y = new Big(y)).s;\n\n  if (!y.c[0]) {\n    throw Error(DIV_BY_ZERO);\n  }\n\n  x.s = y.s = 1;\n  ygtx = y.cmp(x) == 1;\n  x.s = a;\n  y.s = b;\n\n  if (ygtx) return new Big(x);\n\n  a = Big.DP;\n  b = Big.RM;\n  Big.DP = Big.RM = 0;\n  x = x.div(y);\n  Big.DP = a;\n  Big.RM = b;\n\n  return this.minus(x.times(y));\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big negated.\n */\nP.neg = function () {\n  var x = new this.constructor(this);\n  x.s = -x.s;\n  return x;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big plus the value of Big y.\n */\nP.plus = P.add = function (y) {\n  var e, k, t,\n    x = this,\n    Big = x.constructor;\n\n  y = new Big(y);\n\n  // Signs differ?\n  if (x.s != y.s) {\n    y.s = -y.s;\n    return x.minus(y);\n  }\n\n  var xe = x.e,\n    xc = x.c,\n    ye = y.e,\n    yc = y.c;\n\n  // Either zero?\n  if (!xc[0] || !yc[0]) {\n    if (!yc[0]) {\n      if (xc[0]) {\n        y = new Big(x);\n      } else {\n        y.s = x.s;\n      }\n    }\n    return y;\n  }\n\n  xc = xc.slice();\n\n  // Prepend zeros to equalise exponents.\n  // Note: reverse faster than unshifts.\n  if (e = xe - ye) {\n    if (e > 0) {\n      ye = xe;\n      t = yc;\n    } else {\n      e = -e;\n      t = xc;\n    }\n\n    t.reverse();\n    for (; e--;) t.push(0);\n    t.reverse();\n  }\n\n  // Point xc to the longer array.\n  if (xc.length - yc.length < 0) {\n    t = yc;\n    yc = xc;\n    xc = t;\n  }\n\n  e = yc.length;\n\n  // Only start adding at yc.length - 1 as the further digits of xc can be left as they are.\n  for (k = 0; e; xc[e] %= 10) k = (xc[--e] = xc[e] + yc[e] + k) / 10 | 0;\n\n  // No need to check for zero, as +x + +y != 0 && -x + -y != 0\n\n  if (k) {\n    xc.unshift(k);\n    ++ye;\n  }\n\n  // Remove trailing zeros.\n  for (e = xc.length; xc[--e] === 0;) xc.pop();\n\n  y.c = xc;\n  y.e = ye;\n\n  return y;\n};\n\n\n/*\n * Return a Big whose value is the value of this Big raised to the power n.\n * If n is negative, round to a maximum of Big.DP decimal places using rounding\n * mode Big.RM.\n *\n * n {number} Integer, -MAX_POWER to MAX_POWER inclusive.\n */\nP.pow = function (n) {\n  var x = this,\n    one = new x.constructor('1'),\n    y = one,\n    isneg = n < 0;\n\n  if (n !== ~~n || n < -MAX_POWER || n > MAX_POWER) {\n    throw Error(INVALID + 'exponent');\n  }\n\n  if (isneg) n = -n;\n\n  for (;;) {\n    if (n & 1) y = y.times(x);\n    n >>= 1;\n    if (!n) break;\n    x = x.times(x);\n  }\n\n  return isneg ? one.div(y) : y;\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum precision of sd\n * significant digits using rounding mode rm, or Big.RM if rm is not specified.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.prec = function (sd, rm) {\n  if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n    throw Error(INVALID + 'precision');\n  }\n  return round(new this.constructor(this), sd, rm);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big rounded to a maximum of dp decimal places\n * using rounding mode rm, or Big.RM if rm is not specified.\n * If dp is negative, round to an integer which is a multiple of 10**-dp.\n * If dp is not specified, round to 0 decimal places.\n *\n * dp? {number} Integer, -MAX_DP to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.round = function (dp, rm) {\n  if (dp === UNDEFINED) dp = 0;\n  else if (dp !== ~~dp || dp < -MAX_DP || dp > MAX_DP) {\n    throw Error(INVALID_DP);\n  }\n  return round(new this.constructor(this), dp + this.e + 1, rm);\n};\n\n\n/*\n * Return a new Big whose value is the square root of the value of this Big, rounded, if\n * necessary, to a maximum of Big.DP decimal places using rounding mode Big.RM.\n */\nP.sqrt = function () {\n  var r, c, t,\n    x = this,\n    Big = x.constructor,\n    s = x.s,\n    e = x.e,\n    half = new Big('0.5');\n\n  // Zero?\n  if (!x.c[0]) return new Big(x);\n\n  // Negative?\n  if (s < 0) {\n    throw Error(NAME + 'No square root');\n  }\n\n  // Estimate.\n  s = Math.sqrt(x + '');\n\n  // Math.sqrt underflow/overflow?\n  // Re-estimate: pass x coefficient to Math.sqrt as integer, then adjust the result exponent.\n  if (s === 0 || s === 1 / 0) {\n    c = x.c.join('');\n    if (!(c.length + e & 1)) c += '0';\n    s = Math.sqrt(c);\n    e = ((e + 1) / 2 | 0) - (e < 0 || e & 1);\n    r = new Big((s == 1 / 0 ? '5e' : (s = s.toExponential()).slice(0, s.indexOf('e') + 1)) + e);\n  } else {\n    r = new Big(s + '');\n  }\n\n  e = r.e + (Big.DP += 4);\n\n  // Newton-Raphson iteration.\n  do {\n    t = r;\n    r = half.times(t.plus(x.div(t)));\n  } while (t.c.slice(0, e).join('') !== r.c.slice(0, e).join(''));\n\n  return round(r, (Big.DP -= 4) + r.e + 1, Big.RM);\n};\n\n\n/*\n * Return a new Big whose value is the value of this Big times the value of Big y.\n */\nP.times = P.mul = function (y) {\n  var c,\n    x = this,\n    Big = x.constructor,\n    xc = x.c,\n    yc = (y = new Big(y)).c,\n    a = xc.length,\n    b = yc.length,\n    i = x.e,\n    j = y.e;\n\n  // Determine sign of result.\n  y.s = x.s == y.s ? 1 : -1;\n\n  // Return signed 0 if either 0.\n  if (!xc[0] || !yc[0]) {\n    y.c = [y.e = 0];\n    return y;\n  }\n\n  // Initialise exponent of result as x.e + y.e.\n  y.e = i + j;\n\n  // If array xc has fewer digits than yc, swap xc and yc, and lengths.\n  if (a < b) {\n    c = xc;\n    xc = yc;\n    yc = c;\n    j = a;\n    a = b;\n    b = j;\n  }\n\n  // Initialise coefficient array of result with zeros.\n  for (c = new Array(j = a + b); j--;) c[j] = 0;\n\n  // Multiply.\n\n  // i is initially xc.length.\n  for (i = b; i--;) {\n    b = 0;\n\n    // a is yc.length.\n    for (j = a + i; j > i;) {\n\n      // Current sum of products at this digit position, plus carry.\n      b = c[j] + yc[i] * xc[j - i - 1] + b;\n      c[j--] = b % 10;\n\n      // carry\n      b = b / 10 | 0;\n    }\n\n    c[j] = b;\n  }\n\n  // Increment result exponent if there is a final carry, otherwise remove leading zero.\n  if (b) ++y.e;\n  else c.shift();\n\n  // Remove trailing zeros.\n  for (i = c.length; !c[--i];) c.pop();\n  y.c = c;\n\n  return y;\n};\n\n\n/*\n * Return a string representing the value of this Big in exponential notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toExponential = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), ++dp, rm);\n    for (; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, true, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big in normal notation rounded to dp fixed\n * decimal places using rounding mode rm, or Big.RM if rm is not specified.\n *\n * dp? {number} Decimal places: integer, 0 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n *\n * (-0).toFixed(0) is '0', but (-0.1).toFixed(0) is '-0'.\n * (-0).toFixed(1) is '0.0', but (-0.01).toFixed(1) is '-0.0'.\n */\nP.toFixed = function (dp, rm) {\n  var x = this,\n    n = x.c[0];\n\n  if (dp !== UNDEFINED) {\n    if (dp !== ~~dp || dp < 0 || dp > MAX_DP) {\n      throw Error(INVALID_DP);\n    }\n    x = round(new x.constructor(x), dp + x.e + 1, rm);\n\n    // x.e may have changed if the value is rounded up.\n    for (dp = dp + x.e + 1; x.c.length < dp;) x.c.push(0);\n  }\n\n  return stringify(x, false, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Omit the sign for negative zero.\n */\nP[Symbol.for('nodejs.util.inspect.custom')] = P.toJSON = P.toString = function () {\n  var x = this,\n    Big = x.constructor;\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, !!x.c[0]);\n};\n\n\n/*\n * Return the value of this Big as a primitve number.\n */\nP.toNumber = function () {\n  var n = Number(stringify(this, true, true));\n  if (this.constructor.strict === true && !this.eq(n.toString())) {\n    throw Error(NAME + 'Imprecise conversion');\n  }\n  return n;\n};\n\n\n/*\n * Return a string representing the value of this Big rounded to sd significant digits using\n * rounding mode rm, or Big.RM if rm is not specified.\n * Use exponential notation if sd is less than the number of digits necessary to represent\n * the integer part of the value in normal notation.\n *\n * sd {number} Significant digits: integer, 1 to MAX_DP inclusive.\n * rm? {number} Rounding mode: 0 (down), 1 (half-up), 2 (half-even) or 3 (up).\n */\nP.toPrecision = function (sd, rm) {\n  var x = this,\n    Big = x.constructor,\n    n = x.c[0];\n\n  if (sd !== UNDEFINED) {\n    if (sd !== ~~sd || sd < 1 || sd > MAX_DP) {\n      throw Error(INVALID + 'precision');\n    }\n    x = round(new Big(x), sd, rm);\n    for (; x.c.length < sd;) x.c.push(0);\n  }\n\n  return stringify(x, sd <= x.e || x.e <= Big.NE || x.e >= Big.PE, !!n);\n};\n\n\n/*\n * Return a string representing the value of this Big.\n * Return exponential notation if this Big has a positive exponent equal to or greater than\n * Big.PE, or a negative exponent equal to or less than Big.NE.\n * Include the sign for negative zero.\n */\nP.valueOf = function () {\n  var x = this,\n    Big = x.constructor;\n  if (Big.strict === true) {\n    throw Error(NAME + 'valueOf disallowed');\n  }\n  return stringify(x, x.e <= Big.NE || x.e >= Big.PE, true);\n};\n\n\n// Export\n\n\nexport var Big = _Big_();\n\n/// <reference types=\"https://raw.githubusercontent.com/DefinitelyTyped/DefinitelyTyped/master/types/big.js/index.d.ts\" />\nexport default Big;\n","import safeExec from '../../util/safeExec';\nimport { fastRaf, throttleWith } from '../../util/schedulers';\nimport { setPhase } from './stricterdom';\n\nlet pendingMeasureTasks: NoneToVoidFunction[] = [];\nlet pendingMutationTasks: NoneToVoidFunction[] = [];\nlet pendingForceReflowTasks: (() => NoneToVoidFunction | void)[] = [];\n\nconst runUpdatePassOnRaf = throttleWithRafFallback(() => {\n  const currentMeasureTasks = pendingMeasureTasks;\n  pendingMeasureTasks = [];\n  currentMeasureTasks.forEach((task) => {\n    safeExec(task);\n  });\n\n  // We use promises to provide correct order for Mutation Observer callback microtasks\n  Promise.resolve()\n    .then(() => {\n      setPhase('mutate');\n\n      const currentMutationTasks = pendingMutationTasks;\n      pendingMutationTasks = [];\n\n      currentMutationTasks.forEach((task) => {\n        safeExec(task);\n      });\n    })\n    .then(() => {\n      setPhase('measure');\n\n      const pendingForceReflowMutationTasks: NoneToVoidFunction[] = [];\n      // Will include tasks created during the loop\n      for (const task of pendingForceReflowTasks) {\n        safeExec(() => {\n          const mutationTask = task();\n          if (mutationTask) {\n            pendingForceReflowMutationTasks.push(mutationTask);\n          }\n        });\n      }\n      pendingForceReflowTasks = [];\n\n      return pendingForceReflowMutationTasks;\n    })\n    .then((pendingForceReflowMutationTasks) => {\n      setPhase('mutate');\n\n      // Will include tasks created during the loop\n      for (const task of pendingForceReflowMutationTasks) {\n        safeExec(task);\n      }\n    })\n    .then(() => {\n      setPhase('measure');\n    });\n});\n\nexport function requestMeasure(cb: NoneToVoidFunction) {\n  pendingMeasureTasks.push(cb);\n  runUpdatePassOnRaf();\n}\n\nexport function requestMutation(cb: NoneToVoidFunction) {\n  pendingMutationTasks.push(cb);\n  runUpdatePassOnRaf();\n}\n\nexport function requestNextMutation(cb: () => (NoneToVoidFunction | void)) {\n  requestMeasure(() => {\n    requestMutation(cb);\n  });\n}\n\nexport function requestForcedReflow(cb: () => (NoneToVoidFunction | void)) {\n  pendingForceReflowTasks.push(cb);\n  runUpdatePassOnRaf();\n}\n\nfunction throttleWithRafFallback<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith((throttledFn: NoneToVoidFunction) => {\n    fastRaf(throttledFn, true);\n  }, fn);\n}\n\nexport * from './stricterdom';\n","// https://gist.github.com/paulirish/5d52fb081b3570c81e3a\n\nexport default {\n  Element: {\n    props: [\n      'clientLeft', 'clientTop', 'clientWidth', 'clientHeight',\n      'scrollWidth', 'scrollHeight', 'scrollLeft', 'scrollTop',\n    ] as const,\n    methods: [\n      'getClientRects', 'getBoundingClientRect',\n      'scrollBy', 'scrollTo', 'scrollIntoView', 'scrollIntoViewIfNeeded',\n    ] as const,\n  },\n  HTMLElement: {\n    props: [\n      'offsetLeft', 'offsetTop', 'offsetWidth', 'offsetHeight', 'offsetParent',\n      'innerText',\n    ] as const,\n    methods: ['focus'] as const,\n  },\n  window: {\n    props: [\n      'scrollX', 'scrollY',\n      'innerHeight', 'innerWidth',\n    ] as const,\n    methods: ['getComputedStyle'] as const,\n  },\n  VisualViewport: {\n    props: [\n      'height', 'width', 'offsetTop', 'offsetLeft',\n    ] as const,\n  },\n  Document: {\n    props: ['scrollingElement'] as const,\n    methods: ['elementFromPoint'] as const,\n  },\n  HTMLInputElement: {\n    methods: ['select'] as const,\n  },\n  MouseEvent: {\n    props: ['layerX', 'layerY', 'offsetX', 'offsetY'] as const,\n  },\n  Range: {\n    methods: ['getClientRects', 'getBoundingClientRect'] as const,\n  },\n};\n","import LAYOUT_CAUSES from './layoutCauses';\n\ntype Entities = keyof typeof LAYOUT_CAUSES;\ntype Phase =\n  'measure'\n  | 'mutate';\ntype ErrorHandler = (error: Error) => any;\n\n// eslint-disable-next-line no-console\nconst DEFAULT_ERROR_HANDLER = console.error;\n\nlet onError: ErrorHandler = DEFAULT_ERROR_HANDLER;\n\nconst nativeMethods = new Map<string, AnyFunction>();\n\nlet phase: Phase = 'measure';\nlet isStrict = false;\nlet observer: MutationObserver | undefined;\n\nexport function setPhase(newPhase: Phase) {\n  phase = newPhase;\n}\n\nexport function getPhase() {\n  return phase;\n}\n\nexport function enableStrict() {\n  if (isStrict) return;\n\n  isStrict = true;\n  setupLayoutDetectors();\n  setupMutationObserver();\n}\n\nexport function disableStrict() {\n  if (!isStrict) return;\n\n  clearMutationObserver();\n  clearLayoutDetectors();\n  isStrict = false;\n}\n\nexport function forceMeasure(cb: () => any) {\n  if (phase !== 'mutate') {\n    throw new Error('The current phase is \\'measure\\'');\n  }\n\n  phase = 'measure';\n  const result = cb();\n  phase = 'mutate';\n\n  return result;\n}\n\nconst forcedMutationAllowedFor = new Set<Node>();\n\nexport function forceMutation(cb: () => any, nodes: Node | Node[]) {\n  if (phase !== 'measure') {\n    throw new Error('The current phase is \\'mutate\\'');\n  }\n\n  if (isStrict) {\n    if (Array.isArray(nodes)) {\n      nodes.forEach((node) => {\n        forcedMutationAllowedFor.add(node);\n      });\n    } else {\n      forcedMutationAllowedFor.add(nodes);\n    }\n  }\n\n  return cb();\n}\n\nexport function setHandler(handler?: ErrorHandler) {\n  onError = handler || DEFAULT_ERROR_HANDLER;\n}\n\nfunction setupLayoutDetectors() {\n  Object.entries(LAYOUT_CAUSES).forEach(([name, causes]) => {\n    const entity = window[name as Entities];\n    if (!entity) return;\n    const prototype = typeof entity === 'object' ? entity : entity.prototype;\n\n    if ('props' in causes) {\n      causes.props.forEach((prop) => {\n        const nativeGetter = Object.getOwnPropertyDescriptor(prototype, prop)?.get;\n        if (!nativeGetter) {\n          return;\n        }\n\n        nativeMethods.set(`${name}#${prop}`, nativeGetter);\n\n        Object.defineProperty(prototype, prop, {\n          get() {\n            onMeasure(prop);\n\n            return nativeGetter.call(this);\n          },\n        });\n      });\n    }\n\n    if ('methods' in causes) {\n      causes.methods.forEach((method) => {\n        const nativeMethod = (prototype as any)[method]!;\n        nativeMethods.set(`${name}#${method}`, nativeMethod);\n\n        // eslint-disable-next-line func-names\n        (prototype as any)[method] = function (...args: any[]) {\n          onMeasure(method);\n\n          return nativeMethod.apply(this, args);\n        };\n      });\n    }\n  });\n}\n\nfunction clearLayoutDetectors() {\n  Object.entries(LAYOUT_CAUSES).forEach(([name, causes]) => {\n    const entity = window[name as Entities];\n    if (!entity) return;\n    const prototype = typeof entity === 'object' ? entity : entity.prototype;\n\n    if ('props' in causes) {\n      causes.props.forEach((prop) => {\n        const nativeGetter = nativeMethods.get(`${name}#${prop}`);\n        if (!nativeGetter) {\n          return;\n        }\n\n        Object.defineProperty(prototype, prop, { get: nativeGetter });\n      });\n    }\n\n    if ('methods' in causes) {\n      causes.methods.forEach((method) => {\n        (prototype as any)[method] = nativeMethods.get(`${name}#${method}`)!;\n      });\n    }\n  });\n\n  nativeMethods.clear();\n}\n\nfunction setupMutationObserver() {\n  observer = new MutationObserver((mutations) => {\n    if (phase !== 'mutate') {\n      mutations.forEach(({ target, type, attributeName }) => {\n        if (!document.contains(target)) {\n          return;\n        }\n\n        if (forcedMutationAllowedFor.has(target)) {\n          return;\n        }\n\n        if (type === 'childList' && target instanceof HTMLElement && target.contentEditable) {\n          return;\n        }\n\n        if (attributeName?.startsWith('data-')) {\n          return;\n        }\n\n        // eslint-disable-next-line no-console\n        onError(new Error(`Unexpected mutation detected: \\`${type === 'attributes' ? attributeName : type}\\``));\n      });\n    }\n\n    forcedMutationAllowedFor.clear();\n  });\n\n  observer.observe(document.body, {\n    childList: true,\n    attributes: true,\n    subtree: true,\n    characterData: false,\n  });\n}\n\nfunction clearMutationObserver() {\n  observer?.disconnect();\n  observer = undefined;\n}\n\nfunction onMeasure(propName: string) {\n  if (phase !== 'measure') {\n    onError(new Error(`Unexpected measurement detected: \\`${propName}\\``));\n  }\n}\n","type RLottieClass = typeof import('./RLottie').default;\n\nlet promise: Promise<RLottieClass>;\nlet RLottie: RLottieClass;\n\n// Time for the main interface to completely load\nconst LOTTIE_LOAD_DELAY = 3000;\n\nexport async function ensureRLottie() {\n  if (!promise) {\n    promise = import('./RLottie').then((module) => module.default);\n    RLottie = await promise;\n  }\n\n  return promise;\n}\n\nexport function getRLottie() {\n  return RLottie;\n}\n\nsetTimeout(ensureRLottie, LOTTIE_LOAD_DELAY);\n","import { DEBUG } from '../../config';\n\ntype Handler = (e: Event) => void;\ntype DelegationRegistry = Map<Element, Handler>;\n\nconst NON_BUBBLEABLE_EVENTS = new Set(['scroll', 'mouseenter', 'mouseleave', 'load']);\n\nconst documentEventCounters: Record<string, number> = {};\nconst delegationRegistryByEventType: Record<string, DelegationRegistry> = {};\nconst delegatedEventTypesByElement = new Map<Element, Set<string>>();\n\nexport function addEventListener(element: Element, propName: string, handler: Handler, asCapture = false) {\n  const eventType = resolveEventType(propName, element);\n  if (canUseEventDelegation(eventType, element, asCapture)) {\n    addDelegatedListener(eventType, element, handler);\n  } else {\n    element.addEventListener(eventType, handler, asCapture);\n  }\n}\n\nexport function removeEventListener(element: Element, propName: string, handler: Handler, asCapture = false) {\n  const eventType = resolveEventType(propName, element);\n  if (canUseEventDelegation(eventType, element, asCapture)) {\n    removeDelegatedListener(eventType, element);\n  } else {\n    element.removeEventListener(eventType, handler, asCapture);\n  }\n}\n\nfunction resolveEventType(propName: string, element: Element) {\n  const eventType = propName\n    .replace(/^on/, '')\n    .replace(/Capture$/, '').toLowerCase();\n\n  if (eventType === 'change' && element.tagName !== 'SELECT') {\n    // React behavior repeated here.\n    // https://stackoverflow.com/questions/38256332/in-react-whats-the-difference-between-onchange-and-oninput\n    return 'input';\n  }\n\n  if (eventType === 'doubleclick') {\n    return 'dblclick';\n  }\n\n  // Replace focus/blur by their \"bubbleable\" versions\n  if (eventType === 'focus') {\n    return 'focusin';\n  }\n\n  if (eventType === 'blur') {\n    return 'focusout';\n  }\n\n  return eventType;\n}\n\nfunction canUseEventDelegation(realEventType: string, element: Element, asCapture: boolean) {\n  return (\n    !asCapture\n    && !NON_BUBBLEABLE_EVENTS.has(realEventType)\n    && element.tagName !== 'VIDEO'\n    && element.tagName !== 'IFRAME'\n  );\n}\n\nfunction addDelegatedListener(eventType: string, element: Element, handler: Handler) {\n  if (!documentEventCounters[eventType]) {\n    documentEventCounters[eventType] = 0;\n    document.addEventListener(eventType, handleEvent);\n  }\n\n  resolveDelegationRegistry(eventType).set(element, handler);\n  resolveDelegatedEventTypes(element).add(eventType);\n  documentEventCounters[eventType]++;\n}\n\nfunction removeDelegatedListener(eventType: string, element: Element) {\n  documentEventCounters[eventType]--;\n  if (!documentEventCounters[eventType]) {\n    // Synchronous deletion on 0 will cause perf degradation in the case of 1 element\n    // which is not a real case, so it's ok to do it this way\n    document.removeEventListener(eventType, handleEvent);\n  }\n\n  delegationRegistryByEventType[eventType].delete(element);\n  delegatedEventTypesByElement.get(element)!.delete(eventType);\n}\n\nexport function removeAllDelegatedListeners(element: Element) {\n  const eventTypes = delegatedEventTypesByElement.get(element);\n  if (!eventTypes) {\n    return;\n  }\n\n  eventTypes.forEach((eventType) => removeDelegatedListener(eventType, element));\n  delegatedEventTypesByElement.delete(element);\n}\n\nfunction handleEvent(realEvent: Event) {\n  const events = delegationRegistryByEventType[realEvent.type];\n\n  if (events) {\n    let furtherCallsPrevented = false;\n    let current: Element = realEvent.target as Element;\n\n    const stopPropagation = () => {\n      furtherCallsPrevented = true;\n    };\n\n    const preventDefault = () => {\n      realEvent.preventDefault();\n    };\n\n    // Proxy is a simplest way to provide an access to the event property\n    const event = new Proxy(realEvent, {\n      get(target, p) {\n        if (p === 'currentTarget') {\n          return current;\n        }\n        if (p === 'stopPropagation' || p === 'stopImmediatePropagation') {\n          return stopPropagation;\n        }\n        if (p === 'preventDefault') {\n          // \"this\" is changed to proxy and one can't call methods via it\n          return preventDefault;\n        }\n        return Reflect.get(target, p);\n      },\n    });\n\n    // This can also be limited by teact root\n    while (current && current !== document.body) {\n      const handler = events.get(current);\n      if (handler) {\n        handler(event);\n        if (furtherCallsPrevented) {\n          return;\n        }\n      }\n\n      current = current.parentNode as Element;\n    }\n  }\n}\n\nfunction resolveDelegationRegistry(eventType: string) {\n  if (!delegationRegistryByEventType[eventType]) {\n    delegationRegistryByEventType[eventType] = new Map();\n  }\n\n  return delegationRegistryByEventType[eventType];\n}\n\nfunction resolveDelegatedEventTypes(element: Element) {\n  const existing = delegatedEventTypesByElement.get(element);\n  if (existing) {\n    return existing;\n  }\n\n  const newSet = new Set<string>();\n  delegatedEventTypesByElement.set(element, newSet);\n\n  return newSet;\n}\n\nif (DEBUG) {\n  document.addEventListener('dblclick', () => {\n    const documentListenersCount = Object.keys(documentEventCounters).length;\n    const delegatedHandlersCount1 = Object.values(documentEventCounters)\n      .reduce((acc, counter) => acc + counter, 0);\n    const delegationRegistriesCount = Object.keys(delegationRegistryByEventType).length;\n    const delegatedHandlersCount2 = Object.values(delegationRegistryByEventType)\n      .reduce((acc, delegationRegistry) => acc + delegationRegistry.size, 0);\n    const delegationElementsCount = delegatedEventTypesByElement.size;\n    const delegatedEventTypesCount = Array.from(delegatedEventTypesByElement.values())\n      .reduce((acc, eventTypes) => acc + eventTypes.size, 0);\n\n    // eslint-disable-next-line no-console\n    console.warn('DELEGATED EVENTS STATS', {\n      delegatedHandlersCount1,\n      delegatedHandlersCount2,\n      delegatedEventTypesCount,\n      delegationRegistriesCount,\n      delegationElementsCount,\n      documentListenersCount,\n    });\n  });\n}\n","import type { ChangeEvent } from 'react';\n\nimport type {\n  VirtualElement,\n  VirtualElementChildren,\n  VirtualElementComponent,\n  VirtualElementFragment,\n  VirtualElementParent,\n  VirtualElementReal,\n  VirtualElementTag,\n} from './teact';\n\nimport { DEBUG } from '../../config';\nimport { unique } from '../../util/iteratees';\nimport { addEventListener, removeAllDelegatedListeners, removeEventListener } from './dom-events';\nimport {\n  captureImmediateEffects,\n  hasElementChanged,\n  isParentElement,\n  mountComponent,\n  MountState,\n  renderComponent,\n  unmountComponent,\n  VirtualType,\n} from './teact';\n\ninterface VirtualDomHead {\n  children: [VirtualElement] | [];\n}\n\ninterface SelectionState {\n  selectionStart: number | null;\n  selectionEnd: number | null;\n  isCaretAtEnd: boolean;\n}\n\ntype DOMElement = HTMLElement | SVGElement;\n\nconst FILTERED_ATTRIBUTES = new Set(['key', 'ref', 'teactFastList', 'teactOrderKey']);\nconst HTML_ATTRIBUTES = new Set(['dir', 'role', 'form']);\nconst CONTROLLABLE_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];\nconst MAPPED_ATTRIBUTES: { [k: string]: string } = {\n  autoPlay: 'autoplay',\n  autoComplete: 'autocomplete',\n  autoCapitalize: 'autocapitalize',\n};\nconst INDEX_KEY_PREFIX = '__indexKey#';\n\nconst headsByElement = new WeakMap<Element, VirtualDomHead>();\nconst extraClasses = new WeakMap<Element, Set<string>>();\nconst extraStyles = new WeakMap<Element, Record<string, string>>();\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nlet DEBUG_virtualTreeSize = 1;\n\nfunction render($element: VirtualElement | undefined, parentEl: HTMLElement) {\n  if (!headsByElement.has(parentEl)) {\n    headsByElement.set(parentEl, { children: [] });\n  }\n\n  const runImmediateEffects = captureImmediateEffects();\n  const $head = headsByElement.get(parentEl)!;\n  const $renderedChild = renderWithVirtual(parentEl, $head.children[0], $element, $head, 0);\n  runImmediateEffects?.();\n\n  $head.children = $renderedChild ? [$renderedChild] : [];\n\n  if (process.env.APP_ENV === 'perf') {\n    DEBUG_virtualTreeSize = 0;\n    DEBUG_addToVirtualTreeSize($head);\n\n    return DEBUG_virtualTreeSize;\n  }\n\n  return undefined;\n}\n\nfunction renderWithVirtual<T extends VirtualElement | undefined>(\n  parentEl: DOMElement,\n  $current: VirtualElement | undefined,\n  $new: T,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n  options: {\n    skipComponentUpdate?: boolean;\n    nextSibling?: ChildNode;\n    forceMoveToEnd?: boolean;\n    fragment?: DocumentFragment;\n    isSvg?: true;\n  } = {},\n): T {\n  const { skipComponentUpdate, fragment } = options;\n  let { nextSibling, isSvg } = options;\n\n  const isCurrentComponent = $current?.type === VirtualType.Component;\n  const isNewComponent = $new?.type === VirtualType.Component;\n  const $newAsReal = $new as VirtualElementReal;\n\n  const isCurrentFragment = !isCurrentComponent && $current?.type === VirtualType.Fragment;\n  const isNewFragment = !isNewComponent && $new?.type === VirtualType.Fragment;\n\n  if ($new?.type === VirtualType.Tag && $new.tag === 'svg') {\n    isSvg = true;\n  }\n\n  if (\n    !skipComponentUpdate\n    && isCurrentComponent && isNewComponent\n    && !hasElementChanged($current!, $new!)\n  ) {\n    $new = updateComponent($current, $new as VirtualElementComponent) as typeof $new;\n  }\n\n  // Parent element may have changed, so we need to update the listener closure.\n  if (\n    !skipComponentUpdate\n    && isNewComponent\n    && ($new as VirtualElementComponent).componentInstance.mountState === MountState.Mounted\n  ) {\n    setupComponentUpdateListener(parentEl, $new as VirtualElementComponent, $parent, index);\n  }\n\n  if ($current === $new) {\n    return $new;\n  }\n\n  if (DEBUG && $new) {\n    const newTarget = 'target' in $new && $new.target;\n    if (newTarget && (!$current || ('target' in $current && newTarget !== $current.target))) {\n      throw new Error('[Teact] Cached virtual element was moved within tree');\n    }\n  }\n\n  if (!$current && $new) {\n    if (isNewComponent || isNewFragment) {\n      if (isNewComponent) {\n        $new = initComponent(parentEl, $new as VirtualElementComponent, $parent, index) as unknown as typeof $new;\n      }\n\n      mountChildren(parentEl, $new as VirtualElementComponent | VirtualElementFragment, {\n        nextSibling, fragment, isSvg,\n      });\n    } else {\n      const canSetTextContent = !fragment\n        && !nextSibling\n        && $newAsReal.type === VirtualType.Text\n        && $parent.children.length === 1\n        && !parentEl.firstChild;\n\n      if (canSetTextContent) {\n        parentEl.textContent = $newAsReal.value;\n        $newAsReal.target = parentEl.firstChild!;\n      } else {\n        const node = createNode($newAsReal, isSvg);\n        $newAsReal.target = node;\n        insertBefore(fragment || parentEl, node, nextSibling);\n\n        if ($newAsReal.type === VirtualType.Tag) {\n          setElementRef($newAsReal, node as DOMElement);\n        }\n      }\n    }\n  } else if ($current && !$new) {\n    remount(parentEl, $current, undefined);\n  } else if ($current && $new) {\n    if (hasElementChanged($current, $new)) {\n      if (!nextSibling) {\n        nextSibling = getNextSibling($current);\n      }\n\n      if (isNewComponent || isNewFragment) {\n        if (isNewComponent) {\n          $new = initComponent(parentEl, $new as VirtualElementComponent, $parent, index) as unknown as typeof $new;\n        }\n\n        remount(parentEl, $current, undefined);\n        mountChildren(parentEl, $new as VirtualElementComponent | VirtualElementFragment, {\n          nextSibling, fragment, isSvg,\n        });\n      } else {\n        const node = createNode($newAsReal, isSvg);\n        $newAsReal.target = node;\n        remount(parentEl, $current, node, nextSibling);\n\n        if ($newAsReal.type === VirtualType.Tag) {\n          setElementRef($newAsReal, node as DOMElement);\n        }\n      }\n    } else {\n      const isComponent = isCurrentComponent && isNewComponent;\n      const isFragment = isCurrentFragment && isNewFragment;\n\n      if (isComponent || isFragment) {\n        renderChildren(\n          $current,\n          $new as VirtualElementComponent | VirtualElementFragment,\n          parentEl,\n          nextSibling,\n          options.forceMoveToEnd,\n        );\n      } else {\n        const $currentAsReal = $current as VirtualElementReal;\n        const currentTarget = $currentAsReal.target!;\n\n        $newAsReal.target = currentTarget;\n        $currentAsReal.target = undefined; // Help GC\n\n        const isTag = $current.type === VirtualType.Tag;\n        if (isTag) {\n          const $newAsTag = $new as VirtualElementTag;\n\n          setElementRef($current, undefined);\n          setElementRef($newAsTag, currentTarget as DOMElement);\n\n          if (nextSibling || options.forceMoveToEnd) {\n            insertBefore(parentEl, currentTarget, nextSibling);\n          }\n\n          updateAttributes($current, $newAsTag, currentTarget as DOMElement, isSvg);\n          renderChildren($current, $newAsTag, currentTarget as DOMElement, undefined, undefined, isSvg);\n        }\n      }\n    }\n  }\n\n  return $new;\n}\n\nfunction initComponent(\n  parentEl: DOMElement,\n  $element: VirtualElementComponent,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n) {\n  const { componentInstance } = $element;\n\n  if (componentInstance.mountState === MountState.New) {\n    $element = mountComponent(componentInstance);\n    setupComponentUpdateListener(parentEl, $element, $parent, index);\n  }\n\n  return $element;\n}\n\nfunction updateComponent($current: VirtualElementComponent, $new: VirtualElementComponent) {\n  $current.componentInstance.props = $new.componentInstance.props;\n\n  return renderComponent($current.componentInstance);\n}\n\nfunction setupComponentUpdateListener(\n  parentEl: DOMElement,\n  $element: VirtualElementComponent,\n  $parent: VirtualElementParent | VirtualDomHead,\n  index: number,\n) {\n  const { componentInstance } = $element;\n\n  componentInstance.onUpdate = () => {\n    $parent.children[index] = renderWithVirtual(\n      parentEl,\n      $parent.children[index],\n      componentInstance.$element,\n      $parent,\n      index,\n      { skipComponentUpdate: true },\n    );\n  };\n}\n\nfunction mountChildren(\n  parentEl: DOMElement,\n  $element: VirtualElementComponent | VirtualElementFragment,\n  options: {\n    nextSibling?: ChildNode;\n    fragment?: DocumentFragment;\n    isSvg?: true;\n  },\n) {\n  const { children } = $element;\n  for (let i = 0, l = children.length; i < l; i++) {\n    const $child = children[i];\n    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $element, i, options);\n    if ($renderedChild !== $child) {\n      children[i] = $renderedChild;\n    }\n  }\n}\n\nfunction unmountChildren(parentEl: DOMElement, $element: VirtualElementComponent | VirtualElementFragment) {\n  for (const $child of $element.children) {\n    renderWithVirtual(parentEl, $child, undefined, $element, -1);\n  }\n}\n\nfunction createNode($element: VirtualElementReal, isSvg?: true): Node {\n  if ($element.type === VirtualType.Empty) {\n    return document.createTextNode('');\n  }\n\n  if ($element.type === VirtualType.Text) {\n    return document.createTextNode($element.value);\n  }\n\n  const { tag, props, children } = $element;\n  const element = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', tag) : document.createElement(tag);\n\n  processControlled(tag, props);\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const key in props) {\n    if (!props.hasOwnProperty(key)) continue;\n\n    if (props[key] !== undefined) {\n      setAttribute(element, key, props[key], isSvg);\n    }\n  }\n\n  processUncontrolledOnMount(element, props);\n\n  for (let i = 0, l = children.length; i < l; i++) {\n    const $child = children[i];\n    const $renderedChild = renderWithVirtual(element, undefined, $child, $element, i, { isSvg });\n    if ($renderedChild !== $child) {\n      children[i] = $renderedChild;\n    }\n  }\n\n  return element;\n}\n\nfunction remount(\n  parentEl: DOMElement,\n  $current: VirtualElement,\n  node: Node | undefined,\n  componentNextSibling?: ChildNode,\n) {\n  const isComponent = $current.type === VirtualType.Component;\n  const isFragment = !isComponent && $current.type === VirtualType.Fragment;\n\n  if (isComponent || isFragment) {\n    if (isComponent) {\n      unmountComponent($current.componentInstance);\n    }\n\n    unmountChildren(parentEl, $current);\n\n    if (node) {\n      insertBefore(parentEl, node, componentNextSibling);\n    }\n  } else {\n    if (node) {\n      parentEl.replaceChild(node, $current.target!);\n    } else {\n      parentEl.removeChild($current.target!);\n    }\n\n    unmountRealTree($current);\n  }\n}\n\nfunction unmountRealTree($element: VirtualElement) {\n  if ($element.type === VirtualType.Component) {\n    unmountComponent($element.componentInstance);\n  } else if ($element.type !== VirtualType.Fragment) {\n    if ($element.type === VirtualType.Tag) {\n      extraClasses.delete($element.target!);\n      setElementRef($element, undefined);\n      removeAllDelegatedListeners($element.target!);\n    }\n\n    $element.target = undefined; // Help GC\n\n    if ($element.type !== VirtualType.Tag) {\n      return;\n    }\n  }\n\n  for (const $child of $element.children) {\n    unmountRealTree($child);\n  }\n}\n\nfunction insertBefore(parentEl: DOMElement | DocumentFragment, node: Node, nextSibling?: ChildNode) {\n  if (nextSibling) {\n    parentEl.insertBefore(node, nextSibling);\n  } else {\n    parentEl.appendChild(node);\n  }\n}\n\nfunction getNextSibling($current: VirtualElement): ChildNode | undefined {\n  if ($current.type === VirtualType.Component || $current.type === VirtualType.Fragment) {\n    const lastChild = $current.children[$current.children.length - 1];\n    return getNextSibling(lastChild);\n  }\n\n  return $current.target!.nextSibling || undefined;\n}\n\nfunction renderChildren(\n  $current: VirtualElementParent,\n  $new: VirtualElementParent,\n  currentEl: DOMElement,\n  nextSibling?: ChildNode,\n  forceMoveToEnd = false,\n  isSvg?: true,\n) {\n  if (DEBUG) {\n    DEBUG_checkKeyUniqueness($new.children);\n  }\n\n  if (('props' in $new) && $new.props.teactFastList) {\n    renderFastListChildren($current, $new, currentEl);\n    return;\n  }\n\n  const currentChildren = $current.children;\n  const newChildren = $new.children;\n\n  const currentChildrenLength = currentChildren.length;\n  const newChildrenLength = newChildren.length;\n  const maxLength = Math.max(currentChildrenLength, newChildrenLength);\n\n  const fragment = newChildrenLength > currentChildrenLength ? document.createDocumentFragment() : undefined;\n  const lastCurrentChild = $current.children[currentChildrenLength - 1];\n  const fragmentNextSibling = fragment && (\n    nextSibling || (lastCurrentChild ? getNextSibling(lastCurrentChild) : undefined)\n  );\n\n  for (let i = 0; i < maxLength; i++) {\n    const $renderedChild = renderWithVirtual(\n      currentEl,\n      currentChildren[i],\n      newChildren[i],\n      $new,\n      i,\n      i >= currentChildrenLength ? { fragment, isSvg } : { nextSibling, forceMoveToEnd, isSvg },\n    );\n\n    if ($renderedChild && $renderedChild !== newChildren[i]) {\n      newChildren[i] = $renderedChild;\n    }\n  }\n\n  if (fragment) {\n    insertBefore(currentEl, fragment, fragmentNextSibling);\n  }\n}\n\n// This function allows to prepend/append a bunch of new DOM nodes to the top/bottom of preserved ones.\n// It also allows to selectively move particular preserved nodes within their DOM list.\nfunction renderFastListChildren($current: VirtualElementParent, $new: VirtualElementParent, currentEl: DOMElement) {\n  const currentChildren = $current.children;\n  const newChildren = $new.children;\n\n  const newKeys = new Set();\n  for (const $newChild of newChildren) {\n    const key = 'props' in $newChild ? $newChild.props.key : undefined;\n\n    if (DEBUG && isParentElement($newChild)) {\n      // eslint-disable-next-line no-null/no-null\n      if (key === undefined || key === null) {\n        // eslint-disable-next-line no-console\n        console.warn('Missing `key` in `teactFastList`');\n      }\n\n      if ($newChild.type === VirtualType.Fragment) {\n        throw new Error('[Teact] Fragment can not be child of container with `teactFastList`');\n      }\n    }\n\n    newKeys.add(key);\n  }\n\n  // Build a collection of old children that also remain in the new list\n  let currentRemainingIndex = 0;\n  const remainingByKey: Record<string, { $element: VirtualElement; index: number; orderKey?: number }> = {};\n  for (let i = 0, l = currentChildren.length; i < l; i++) {\n    const $currentChild = currentChildren[i];\n\n    let key = 'props' in $currentChild ? $currentChild.props.key : undefined;\n    // eslint-disable-next-line no-null/no-null\n    const isKeyPresent = key !== undefined && key !== null;\n\n    // First we process removed children\n    if (isKeyPresent && !newKeys.has(key)) {\n      renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n\n      continue;\n    } else if (!isKeyPresent) {\n      const $newChild = newChildren[i];\n      const newChildKey = ($newChild && 'props' in $newChild) ? $newChild.props.key : undefined;\n      // If a non-key element remains at the same index we preserve it with a virtual `key`\n      if ($newChild && !newChildKey) {\n        key = `${INDEX_KEY_PREFIX}${i}`;\n        // Otherwise, we just remove it\n      } else {\n        renderWithVirtual(currentEl, $currentChild, undefined, $new, -1);\n\n        continue;\n      }\n    }\n\n    // Then we build up info about remaining children\n    remainingByKey[key] = {\n      $element: $currentChild,\n      index: currentRemainingIndex++,\n      orderKey: 'props' in $currentChild ? $currentChild.props.teactOrderKey : undefined,\n    };\n  }\n\n  let fragmentIndex: number | undefined;\n  let fragmentSize: number | undefined;\n\n  let currentPreservedIndex = 0;\n\n  for (let i = 0, l = newChildren.length; i < l; i++) {\n    const $newChild = newChildren[i];\n    const key = 'props' in $newChild ? $newChild.props.key : `${INDEX_KEY_PREFIX}${i}`;\n    const currentChildInfo = remainingByKey[key];\n\n    if (!currentChildInfo) {\n      if (fragmentSize === undefined) {\n        fragmentIndex = i;\n        fragmentSize = 0;\n      }\n\n      fragmentSize++;\n      continue;\n    }\n\n    // This prepends new children to the top\n    if (fragmentSize) {\n      renderFragment(fragmentIndex!, fragmentSize, currentEl, $new);\n      fragmentSize = undefined;\n      fragmentIndex = undefined;\n    }\n\n    // Now we check if a preserved node was moved within preserved list\n    const newOrderKey = 'props' in $newChild ? $newChild.props.teactOrderKey : undefined;\n    // That is indicated by a changed `teactOrderKey` value\n    const shouldMoveNode = (\n      currentChildInfo.index !== currentPreservedIndex && (!newOrderKey || currentChildInfo.orderKey !== newOrderKey)\n    );\n    const isMovingDown = shouldMoveNode && currentPreservedIndex > currentChildInfo.index;\n\n    if (!shouldMoveNode || isMovingDown) {\n      currentPreservedIndex++;\n    }\n\n    const nextSibling = currentEl.childNodes[isMovingDown ? i + 1 : i];\n    const options = shouldMoveNode ? (nextSibling ? { nextSibling } : { forceMoveToEnd: true }) : undefined;\n\n    const $renderedChild = renderWithVirtual(currentEl, currentChildInfo.$element, $newChild, $new, i, options);\n    if ($renderedChild !== $newChild) {\n      newChildren[i] = $renderedChild;\n    }\n  }\n\n  // This appends new children to the bottom\n  if (fragmentSize) {\n    renderFragment(fragmentIndex!, fragmentSize, currentEl, $new);\n  }\n}\n\nfunction renderFragment(\n  fragmentIndex: number, fragmentSize: number, parentEl: DOMElement, $parent: VirtualElementParent,\n) {\n  const nextSibling = parentEl.childNodes[fragmentIndex];\n\n  if (fragmentSize === 1) {\n    const $child = $parent.children[fragmentIndex];\n    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, fragmentIndex, { nextSibling });\n    if ($renderedChild !== $child) {\n      $parent.children[fragmentIndex] = $renderedChild;\n    }\n\n    return;\n  }\n\n  const fragment = document.createDocumentFragment();\n\n  for (let i = fragmentIndex; i < fragmentIndex + fragmentSize; i++) {\n    const $child = $parent.children[i];\n    const $renderedChild = renderWithVirtual(parentEl, undefined, $child, $parent, i, { fragment });\n    if ($renderedChild !== $child) {\n      $parent.children[i] = $renderedChild;\n    }\n  }\n\n  insertBefore(parentEl, fragment, nextSibling);\n}\n\nfunction setElementRef($element: VirtualElementTag, DOMElement: DOMElement | undefined) {\n  const { ref } = $element.props;\n\n  if (typeof ref === 'object') {\n    ref.current = DOMElement;\n  } else if (typeof ref === 'function') {\n    ref(DOMElement);\n  }\n}\n\nfunction processControlled(tag: string, props: AnyLiteral) {\n  // TODO Remove after tests\n  if (!props.teactExperimentControlled) {\n    return;\n  }\n\n  const isValueControlled = props.value !== undefined;\n  const isCheckedControlled = props.checked !== undefined;\n  const isControlled = (isValueControlled || isCheckedControlled) && CONTROLLABLE_TAGS.includes(tag.toUpperCase());\n  if (!isControlled) {\n    return;\n  }\n\n  const {\n    value, checked, onInput, onChange,\n  } = props;\n\n  props.onChange = undefined;\n  props.onInput = (e: ChangeEvent<HTMLInputElement>) => {\n    onInput?.(e);\n    onChange?.(e);\n\n    if (value !== undefined && value !== e.currentTarget.value) {\n      const { selectionStart, selectionEnd } = e.currentTarget;\n      const isCaretAtEnd = selectionStart === selectionEnd && selectionEnd === e.currentTarget.value.length;\n\n      e.currentTarget.value = value;\n\n      if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {\n        e.currentTarget.setSelectionRange(selectionStart, selectionEnd);\n\n        const selectionState: SelectionState = { selectionStart, selectionEnd, isCaretAtEnd };\n        // eslint-disable-next-line no-underscore-dangle\n        e.currentTarget.dataset.__teactSelectionState = JSON.stringify(selectionState);\n      }\n    }\n\n    if (checked !== undefined) {\n      e.currentTarget.checked = checked;\n    }\n  };\n}\n\nfunction processUncontrolledOnMount(element: DOMElement, props: AnyLiteral) {\n  if (!CONTROLLABLE_TAGS.includes(element.tagName)) {\n    return;\n  }\n\n  if (props.defaultValue) {\n    setAttribute(element, 'value', props.defaultValue);\n  }\n\n  if (props.defaultChecked) {\n    setAttribute(element, 'checked', props.defaultChecked);\n  }\n}\n\nfunction updateAttributes($current: VirtualElementTag, $new: VirtualElementTag, element: DOMElement, isSvg?: true) {\n  processControlled(element.tagName, $new.props);\n\n  const currentEntries = Object.entries($current.props);\n  const newEntries = Object.entries($new.props);\n\n  for (const [key, currentValue] of currentEntries) {\n    const newValue = $new.props[key];\n\n    if (\n      currentValue !== undefined\n      && (\n        newValue === undefined\n        || (currentValue !== newValue && key.startsWith('on'))\n      )\n    ) {\n      removeAttribute(element, key, currentValue);\n    }\n  }\n\n  for (const [key, newValue] of newEntries) {\n    const currentValue = $current.props[key];\n\n    if (newValue !== undefined && newValue !== currentValue) {\n      setAttribute(element, key, newValue, isSvg);\n    }\n  }\n}\n\nfunction setAttribute(element: DOMElement, key: string, value: any, isSvg?: true) {\n  if (key === 'className') {\n    updateClassName(element, value, isSvg);\n  } else if (key === 'value') {\n    const inputEl = element as HTMLInputElement;\n\n    if (inputEl.value !== value) {\n      inputEl.value = value;\n\n      // eslint-disable-next-line no-underscore-dangle\n      const selectionStateJson = inputEl.dataset.__teactSelectionState;\n      if (selectionStateJson) {\n        const { selectionStart, selectionEnd, isCaretAtEnd } = JSON.parse(selectionStateJson) as SelectionState;\n\n        if (isCaretAtEnd) {\n          const length = inputEl.value.length;\n          inputEl.setSelectionRange(length, length);\n        } else if (typeof selectionStart === 'number' && typeof selectionEnd === 'number') {\n          inputEl.setSelectionRange(selectionStart, selectionEnd);\n        }\n      }\n    }\n  } else if (key === 'style') {\n    updateStyle(element, value);\n  } else if (key === 'dangerouslySetInnerHTML') {\n    // eslint-disable-next-line no-underscore-dangle\n    element.innerHTML = value.__html;\n  } else if (key.startsWith('on')) {\n    addEventListener(element, key, value, key.endsWith('Capture'));\n  } else if (isSvg || key.startsWith('data-') || key.startsWith('aria-') || HTML_ATTRIBUTES.has(key)) {\n    element.setAttribute(key, value);\n  } else if (!FILTERED_ATTRIBUTES.has(key)) {\n    (element as any)[MAPPED_ATTRIBUTES[key] || key] = value;\n  }\n}\n\nfunction removeAttribute(element: DOMElement, key: string, value: any) {\n  if (key === 'className') {\n    updateClassName(element, '');\n  } else if (key === 'value') {\n    (element as HTMLInputElement).value = '';\n  } else if (key === 'style') {\n    updateStyle(element, '');\n  } else if (key === 'dangerouslySetInnerHTML') {\n    element.innerHTML = '';\n  } else if (key.startsWith('on')) {\n    removeEventListener(element, key, value, key.endsWith('Capture'));\n  } else if (!FILTERED_ATTRIBUTES.has(key)) {\n    element.removeAttribute(key);\n  }\n}\n\nfunction updateClassName(element: DOMElement, value: string, isSvg?: true) {\n  if (isSvg) {\n    element.setAttribute('class', value);\n    return;\n  }\n\n  const htmlElement = element as HTMLElement;\n  const extra = extraClasses.get(element);\n  if (!extra) {\n    htmlElement.className = value;\n    return;\n  }\n\n  const extraArray = Array.from(extra);\n  if (value) {\n    extraArray.push(value);\n  }\n\n  htmlElement.className = extraArray.join(' ');\n}\n\nfunction updateStyle(element: DOMElement, value: string) {\n  element.style.cssText = value;\n\n  const extraObject = extraStyles.get(element);\n  if (extraObject) {\n    applyExtraStyles(element);\n  }\n}\n\nexport function addExtraClass(element: DOMElement, className: string, forceSingle = false) {\n  if (!forceSingle) {\n    const classNames = className.split(' ');\n    if (classNames.length > 1) {\n      for (const cn of classNames) {\n        addExtraClass(element, cn, true);\n      }\n\n      return;\n    }\n  }\n\n  element.classList.add(className);\n\n  const classList = extraClasses.get(element);\n  if (classList) {\n    classList.add(className);\n  } else {\n    extraClasses.set(element, new Set([className]));\n  }\n}\n\nexport function removeExtraClass(element: DOMElement, className: string, forceSingle = false) {\n  if (!forceSingle) {\n    const classNames = className.split(' ');\n    if (classNames.length > 1) {\n      for (const cn of classNames) {\n        removeExtraClass(element, cn, true);\n      }\n\n      return;\n    }\n  }\n\n  element.classList.remove(className);\n\n  const classList = extraClasses.get(element);\n  if (classList) {\n    classList.delete(className);\n\n    if (!classList.size) {\n      extraClasses.delete(element);\n    }\n  }\n}\n\nexport function toggleExtraClass(element: DOMElement, className: string, force?: boolean, forceSingle = false) {\n  if (!forceSingle) {\n    const classNames = className.split(' ');\n    if (classNames.length > 1) {\n      for (const cn of classNames) {\n        toggleExtraClass(element, cn, force, true);\n      }\n\n      return;\n    }\n  }\n\n  element.classList.toggle(className, force);\n\n  if (element.classList.contains(className)) {\n    addExtraClass(element, className);\n  } else {\n    removeExtraClass(element, className);\n  }\n}\n\nexport function setExtraStyles(element: DOMElement, styles: Partial<CSSStyleDeclaration> & AnyLiteral) {\n  extraStyles.set(element, styles);\n  applyExtraStyles(element);\n}\n\nfunction applyExtraStyles(element: DOMElement) {\n  const standardStyles = Object.entries(extraStyles.get(element)!).reduce<Record<string, string>>(\n    (acc, [prop, value]) => {\n      if (prop.startsWith('--')) {\n        element.style.setProperty(prop, value);\n      } else {\n        acc[prop] = value;\n      }\n\n      return acc;\n    },\n    {},\n  );\n\n  Object.assign(element.style, standardStyles);\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction DEBUG_addToVirtualTreeSize($current: VirtualElementParent | VirtualDomHead) {\n  DEBUG_virtualTreeSize += $current.children.length;\n\n  $current.children.forEach(($child) => {\n    if (isParentElement($child)) {\n      DEBUG_addToVirtualTreeSize($child);\n    }\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction DEBUG_checkKeyUniqueness(children: VirtualElementChildren) {\n  const firstChild = children[0];\n  if (firstChild && 'props' in firstChild && firstChild.props.key !== undefined) {\n    const keys = children.reduce((acc: any[], child) => {\n      if ('props' in child && child.props.key) {\n        acc.push(child.props.key);\n      }\n\n      return acc;\n    }, []);\n\n    if (keys.length !== unique(keys).length) {\n      // eslint-disable-next-line no-console\n      console.warn('[Teact] Duplicated keys:', keys.filter((e, i, a) => a.indexOf(e) !== i));\n      throw new Error('[Teact] Children keys are not unique');\n    }\n  }\n}\n\nconst TeactDOM = { render };\nexport default TeactDOM;\n","import type { ReactElement } from 'react';\n\nimport { DEBUG, DEBUG_MORE } from '../../config';\nimport { logUnequalProps } from '../../util/arePropsShallowEqual';\nimport { incrementOverlayCounter } from '../../util/debugOverlay';\nimport { orderBy } from '../../util/iteratees';\nimport safeExec from '../../util/safeExec';\nimport { throttleWith } from '../../util/schedulers';\nimport { isSignal } from '../../util/signals';\nimport { requestMeasure, requestMutation } from '../fasterdom/fasterdom';\n\nexport type Props = AnyLiteral;\nexport type FC<P extends Props = any> = (props: P) => any;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport type FC_withDebug =\n  FC\n  & { DEBUG_contentComponentName?: string };\n\nexport enum VirtualType {\n  Empty,\n  Text,\n  Tag,\n  Component,\n  Fragment,\n}\n\ninterface VirtualElementEmpty {\n  type: VirtualType.Empty;\n  target?: Node;\n}\n\ninterface VirtualElementText {\n  type: VirtualType.Text;\n  target?: Node;\n  value: string;\n}\n\nexport interface VirtualElementTag {\n  type: VirtualType.Tag;\n  target?: HTMLElement | SVGElement;\n  tag: string;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\nexport interface VirtualElementComponent {\n  type: VirtualType.Component;\n  componentInstance: ComponentInstance;\n  props: Props;\n  children: VirtualElementChildren;\n}\n\nexport interface VirtualElementFragment {\n  type: VirtualType.Fragment;\n  children: VirtualElementChildren;\n}\n\nexport type StateHookSetter<T> = (newValue: ((current: T) => T) | T) => void;\n\nexport enum MountState {\n  New,\n  Mounted,\n  Unmounted,\n}\n\ninterface ComponentInstance {\n  id: number;\n  $element: VirtualElementComponent;\n  Component: FC;\n  name: string;\n  props: Props;\n  renderedValue?: any;\n  mountState: MountState;\n  hooks?: {\n    state?: {\n      cursor: number;\n      byCursor: {\n        value: any;\n        nextValue: any;\n        setter: StateHookSetter<any>;\n      }[];\n    };\n    effects?: {\n      cursor: number;\n      byCursor: {\n        dependencies?: readonly any[];\n        schedule: NoneToVoidFunction;\n        cleanup?: NoneToVoidFunction;\n        releaseSignals?: NoneToVoidFunction;\n      }[];\n    };\n    memos?: {\n      cursor: number;\n      byCursor: {\n        value: any;\n        dependencies: any[];\n      }[];\n    };\n    refs?: {\n      cursor: number;\n      byCursor: {\n        current: any;\n      }[];\n    };\n  };\n  prepareForFrame?: () => void;\n  forceUpdate?: () => void;\n  onUpdate?: () => void;\n}\n\nexport type VirtualElement =\n  VirtualElementEmpty\n  | VirtualElementText\n  | VirtualElementTag\n  | VirtualElementComponent\n  | VirtualElementFragment;\nexport type VirtualElementParent =\n  VirtualElementTag\n  | VirtualElementComponent\n  | VirtualElementFragment;\nexport type VirtualElementChildren = VirtualElement[];\nexport type VirtualElementReal = Exclude<VirtualElement, VirtualElementComponent | VirtualElementFragment>;\n\n// Compatibility with JSX types\nexport type TeactNode =\n  ReactElement\n  | string\n  | number\n  | boolean\n  | TeactNode[];\n\ntype Effect = () => (NoneToVoidFunction | void);\ntype EffectCleanup = NoneToVoidFunction;\n\nconst Fragment = Symbol('Fragment');\n\nconst DEBUG_RENDER_THRESHOLD = 7;\nconst DEBUG_EFFECT_THRESHOLD = 7;\nconst DEBUG_SILENT_RENDERS_FOR = new Set(['TeactMemoWrapper', 'TeactNContainer', 'Button', 'ListItem', 'MenuItem']);\n\nlet lastComponentId = 0;\nlet renderingInstance: ComponentInstance;\n\nexport function isParentElement($element: VirtualElement): $element is VirtualElementParent {\n  return (\n    $element.type === VirtualType.Tag\n    || $element.type === VirtualType.Component\n    || $element.type === VirtualType.Fragment\n  );\n}\n\nfunction createElement(\n  source: string | FC | typeof Fragment,\n  props: Props,\n  ...children: any[]\n): VirtualElementParent | VirtualElementChildren {\n  if (source === Fragment) {\n    return buildFragmentElement(children);\n  } else if (typeof source === 'function') {\n    return createComponentInstance(source, props || {}, children);\n  } else {\n    return buildTagElement(source, props || {}, children);\n  }\n}\n\nfunction buildFragmentElement(children: any[]): VirtualElementFragment {\n  return {\n    type: VirtualType.Fragment,\n    children: buildChildren(children, true),\n  };\n}\n\nfunction createComponentInstance(Component: FC, props: Props, children: any[]): VirtualElementComponent {\n  if (children?.length) {\n    props.children = children.length === 1 ? children[0] : children;\n  }\n\n  const componentInstance: ComponentInstance = {\n    id: ++lastComponentId,\n    $element: undefined as unknown as VirtualElementComponent,\n    Component,\n    name: Component.name,\n    props,\n    mountState: MountState.New,\n  };\n\n  componentInstance.$element = buildComponentElement(componentInstance);\n\n  return componentInstance.$element;\n}\n\nfunction buildComponentElement(\n  componentInstance: ComponentInstance,\n  children?: VirtualElementChildren,\n): VirtualElementComponent {\n  return {\n    type: VirtualType.Component,\n    componentInstance,\n    props: componentInstance.props,\n    children: children ? buildChildren(children, true) : [],\n  };\n}\n\nfunction buildTagElement(tag: string, props: Props, children: any[]): VirtualElementTag {\n  return {\n    type: VirtualType.Tag,\n    tag,\n    props,\n    children: buildChildren(children),\n  };\n}\n\nfunction buildChildren(children: any[], noEmpty = false): VirtualElement[] {\n  const cleanChildren = dropEmptyTail(children, noEmpty);\n  const newChildren = [];\n\n  for (let i = 0, l = cleanChildren.length; i < l; i++) {\n    const child = cleanChildren[i];\n    if (Array.isArray(child)) {\n      newChildren.push(...buildChildren(child, noEmpty));\n    } else {\n      newChildren.push(buildChildElement(child));\n    }\n  }\n\n  return newChildren;\n}\n\n// We only need placeholders in the middle of collection (to ensure other elements order).\nfunction dropEmptyTail(children: any[], noEmpty = false) {\n  let i = children.length - 1;\n\n  for (; i >= 0; i--) {\n    if (!isEmptyPlaceholder(children[i])) {\n      break;\n    }\n  }\n\n  if (i === children.length - 1) {\n    return children;\n  }\n\n  if (i === -1 && noEmpty) {\n    return children.slice(0, 1);\n  }\n\n  return children.slice(0, i + 1);\n}\n\nfunction isEmptyPlaceholder(child: any) {\n  return !child && child !== 0;\n}\n\nfunction buildChildElement(child: any): VirtualElement {\n  if (isEmptyPlaceholder(child)) {\n    return { type: VirtualType.Empty };\n  } else if (isParentElement(child)) {\n    return child;\n  } else {\n    return {\n      type: VirtualType.Text,\n      value: String(child),\n    };\n  }\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_components: AnyLiteral = { TOTAL: { name: 'TOTAL', renders: 0 } };\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_memos: Record<string, { key: string; calls: number; misses: number; hitRate: number }> = {};\nconst DEBUG_MEMOS_CALLS_THRESHOLD = 20;\n\ndocument.addEventListener('dblclick', () => {\n  // eslint-disable-next-line no-console\n  console.warn('COMPONENTS', orderBy(\n    Object\n      .values(DEBUG_components)\n      .map(({ avgRenderTime, ...state }) => {\n        return { ...state, ...(avgRenderTime !== undefined && { avgRenderTime: Number(avgRenderTime.toFixed(2)) }) };\n      }),\n    'renders',\n    'desc',\n  ));\n\n  // eslint-disable-next-line no-console\n  console.warn('MEMOS', orderBy(\n    Object\n      .values(DEBUG_memos)\n      .filter(({ calls }) => calls >= DEBUG_MEMOS_CALLS_THRESHOLD)\n      .map((state) => ({ ...state, hitRate: Number(state.hitRate.toFixed(2)) })),\n    'hitRate',\n    'asc',\n  ));\n});\n\nlet instancesPendingUpdate = new Set<ComponentInstance>();\nlet idsToExcludeFromUpdate = new Set<number>();\nlet pendingEffects = new Map<string, Effect>();\nlet pendingCleanups = new Map<string, EffectCleanup>();\nlet pendingLayoutEffects = new Map<string, Effect>();\nlet pendingLayoutCleanups = new Map<string, EffectCleanup>();\nlet areImmediateEffectsCaptured = false;\n\n/*\n  Order:\n  - component effect cleanups\n  - component effects\n  - measure tasks\n  - mutation tasks\n  - component updates\n  - component layout effect cleanups\n  - component layout effects\n  - forced layout measure tasks\n  - forced layout mutation tasks\n */\n\nconst runUpdatePassOnRaf = throttleWith(requestMeasure, () => {\n  const runImmediateEffects = captureImmediateEffects();\n\n  idsToExcludeFromUpdate = new Set();\n  const instancesToUpdate = Array\n    .from(instancesPendingUpdate)\n    .sort((a, b) => a.id - b.id);\n  instancesPendingUpdate = new Set();\n\n  const currentCleanups = pendingCleanups;\n  pendingCleanups = new Map();\n  currentCleanups.forEach((cb) => cb());\n\n  const currentEffects = pendingEffects;\n  pendingEffects = new Map();\n  currentEffects.forEach((cb) => cb());\n\n  requestMutation(() => {\n    instancesToUpdate.forEach(prepareComponentForFrame);\n    instancesToUpdate.forEach((instance) => {\n      if (idsToExcludeFromUpdate!.has(instance.id)) {\n        return;\n      }\n\n      forceUpdateComponent(instance);\n    });\n\n    runImmediateEffects?.();\n  });\n});\n\nexport function captureImmediateEffects() {\n  if (areImmediateEffectsCaptured) {\n    return undefined;\n  }\n\n  areImmediateEffectsCaptured = true;\n  return runCapturedImmediateEffects;\n}\n\nfunction runCapturedImmediateEffects() {\n  const currentLayoutCleanups = pendingLayoutCleanups;\n  pendingLayoutCleanups = new Map();\n  currentLayoutCleanups.forEach((cb) => cb());\n\n  const currentLayoutEffects = pendingLayoutEffects;\n  pendingLayoutEffects = new Map();\n  currentLayoutEffects.forEach((cb) => cb());\n\n  areImmediateEffectsCaptured = false;\n}\n\nexport function renderComponent(componentInstance: ComponentInstance) {\n  idsToExcludeFromUpdate.add(componentInstance.id);\n\n  const { Component, props } = componentInstance;\n  let newRenderedValue: any;\n\n  safeExec(() => {\n    renderingInstance = componentInstance;\n    if (componentInstance.hooks) {\n      if (componentInstance.hooks.state) {\n        componentInstance.hooks.state.cursor = 0;\n      }\n      if (componentInstance.hooks.effects) {\n        componentInstance.hooks.effects.cursor = 0;\n      }\n      if (componentInstance.hooks.memos) {\n        componentInstance.hooks.memos.cursor = 0;\n      }\n      if (componentInstance.hooks.refs) {\n        componentInstance.hooks.refs.cursor = 0;\n      }\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_startAt: number | undefined;\n    if (DEBUG) {\n      const componentName = DEBUG_resolveComponentName(Component);\n      if (!DEBUG_components[componentName]) {\n        DEBUG_components[componentName] = {\n          name: componentName,\n          renders: 0,\n          avgRenderTime: 0,\n        };\n      }\n\n      if (DEBUG_MORE) {\n        if (!DEBUG_SILENT_RENDERS_FOR.has(componentName)) {\n          // eslint-disable-next-line no-console\n          console.log(`[Teact] Render ${componentName}`);\n        }\n      }\n\n      DEBUG_startAt = performance.now();\n    }\n\n    newRenderedValue = Component(props);\n\n    if (DEBUG) {\n      const duration = performance.now() - DEBUG_startAt!;\n      const componentName = DEBUG_resolveComponentName(Component);\n      if (duration > DEBUG_RENDER_THRESHOLD) {\n        // eslint-disable-next-line no-console\n        console.warn(`[Teact] Slow component render: ${componentName}, ${Math.round(duration)} ms`);\n      }\n\n      const { renders, avgRenderTime } = DEBUG_components[componentName];\n      DEBUG_components[componentName].avgRenderTime = (avgRenderTime * renders + duration) / (renders + 1);\n      DEBUG_components[componentName].renders++;\n      DEBUG_components.TOTAL.renders++;\n\n      if (DEBUG_MORE) {\n        incrementOverlayCounter(`${componentName} renders`);\n        incrementOverlayCounter(`${componentName} duration`, duration);\n      }\n    }\n  }, () => {\n    // eslint-disable-next-line no-console\n    console.error(`[Teact] Error while rendering component ${componentInstance.name}`);\n\n    newRenderedValue = componentInstance.renderedValue;\n  });\n\n  if (componentInstance.mountState === MountState.Mounted && newRenderedValue === componentInstance.renderedValue) {\n    return componentInstance.$element;\n  }\n\n  componentInstance.renderedValue = newRenderedValue;\n\n  const children = Array.isArray(newRenderedValue) ? newRenderedValue : [newRenderedValue];\n\n  if (componentInstance.mountState === MountState.New) {\n    componentInstance.$element.children = buildChildren(children, true);\n  } else {\n    componentInstance.$element = buildComponentElement(componentInstance, children);\n  }\n\n  return componentInstance.$element;\n}\n\nexport function hasElementChanged($old: VirtualElement, $new: VirtualElement) {\n  if (typeof $old !== typeof $new) {\n    return true;\n  } else if ($old.type !== $new.type) {\n    return true;\n  } else if ($old.type === VirtualType.Text && $new.type === VirtualType.Text) {\n    return $old.value !== $new.value;\n  } else if ($old.type === VirtualType.Tag && $new.type === VirtualType.Tag) {\n    return ($old.tag !== $new.tag) || ($old.props.key !== $new.props.key);\n  } else if ($old.type === VirtualType.Component && $new.type === VirtualType.Component) {\n    return (\n      $old.componentInstance.Component !== $new.componentInstance.Component\n    ) || (\n      $old.props.key !== $new.props.key\n    );\n  }\n\n  return false;\n}\n\nexport function mountComponent(componentInstance: ComponentInstance) {\n  renderComponent(componentInstance);\n  componentInstance.mountState = MountState.Mounted;\n  return componentInstance.$element;\n}\n\nexport function unmountComponent(componentInstance: ComponentInstance) {\n  if (componentInstance.mountState !== MountState.Mounted) {\n    return;\n  }\n\n  idsToExcludeFromUpdate.add(componentInstance.id);\n\n  if (componentInstance.hooks?.effects) {\n    for (const effect of componentInstance.hooks.effects.byCursor) {\n      if (effect.cleanup) {\n        safeExec(effect.cleanup);\n      }\n\n      effect.cleanup = undefined;\n      effect.releaseSignals?.();\n    }\n  }\n\n  componentInstance.mountState = MountState.Unmounted;\n\n  helpGc(componentInstance);\n}\n\n// We need to remove all references to DOM objects. We also clean all other references, just in case\nfunction helpGc(componentInstance: ComponentInstance) {\n  const {\n    effects, state, memos, refs,\n  } = componentInstance.hooks || {};\n\n  if (effects) {\n    for (const hook of effects.byCursor) {\n      hook.schedule = undefined as any;\n      hook.cleanup = undefined as any;\n      hook.releaseSignals = undefined as any;\n      hook.dependencies = undefined;\n    }\n  }\n\n  if (state) {\n    for (const hook of state.byCursor) {\n      hook.value = undefined;\n      hook.nextValue = undefined;\n      hook.setter = undefined as any;\n    }\n  }\n\n  if (memos) {\n    for (const hook of memos.byCursor) {\n      hook.value = undefined as any;\n      hook.dependencies = undefined as any;\n    }\n  }\n\n  if (refs) {\n    for (const hook of refs.byCursor) {\n      hook.current = undefined as any;\n    }\n  }\n\n  componentInstance.hooks = undefined as any;\n  componentInstance.$element = undefined as any;\n  componentInstance.renderedValue = undefined;\n  componentInstance.Component = undefined as any;\n  componentInstance.props = undefined as any;\n  componentInstance.onUpdate = undefined;\n}\n\nfunction prepareComponentForFrame(componentInstance: ComponentInstance) {\n  if (componentInstance.mountState !== MountState.Mounted) {\n    return;\n  }\n\n  if (componentInstance.hooks?.state) {\n    for (const hook of componentInstance.hooks.state.byCursor) {\n      hook.value = hook.nextValue;\n    }\n  }\n}\n\nfunction forceUpdateComponent(componentInstance: ComponentInstance) {\n  if (componentInstance.mountState !== MountState.Mounted || !componentInstance.onUpdate) {\n    return;\n  }\n\n  const currentElement = componentInstance.$element;\n\n  renderComponent(componentInstance);\n\n  if (componentInstance.$element !== currentElement) {\n    componentInstance.onUpdate();\n  }\n}\n\nexport function useState<T>(): [T | undefined, StateHookSetter<T | undefined>];\nexport function useState<T>(initial: T, debugKey?: string): [T, StateHookSetter<T>];\nexport function useState<T>(initial?: T, debugKey?: string): [T, StateHookSetter<T>] {\n  if (!renderingInstance.hooks) {\n    renderingInstance.hooks = {};\n  }\n  if (!renderingInstance.hooks.state) {\n    renderingInstance.hooks.state = { cursor: 0, byCursor: [] };\n  }\n\n  const { cursor, byCursor } = renderingInstance.hooks.state;\n  const componentInstance = renderingInstance;\n\n  if (byCursor[cursor] === undefined) {\n    byCursor[cursor] = {\n      value: initial,\n      nextValue: initial,\n      setter: (newValue: ((current: T) => T) | T) => {\n        if (componentInstance.mountState === MountState.Unmounted) {\n          return;\n        }\n\n        if (typeof newValue === 'function') {\n          newValue = (newValue as (current: T) => T)(byCursor[cursor].nextValue);\n        }\n\n        if (byCursor[cursor].nextValue === newValue) {\n          return;\n        }\n\n        byCursor[cursor].nextValue = newValue;\n\n        instancesPendingUpdate.add(componentInstance);\n        runUpdatePassOnRaf();\n\n        if (DEBUG_MORE) {\n          // eslint-disable-next-line no-console\n          console.log(\n            '[Teact.useState]',\n            DEBUG_resolveComponentName(componentInstance.Component),\n            `State update at cursor #${cursor}${debugKey ? ` (${debugKey})` : ''}, next value: `,\n            byCursor[cursor].nextValue,\n          );\n        }\n      },\n    };\n  }\n\n  renderingInstance.hooks.state.cursor++;\n\n  return [\n    byCursor[cursor].value,\n    byCursor[cursor].setter,\n  ];\n}\n\nfunction useEffectBase(\n  isLayout: boolean,\n  effect: Effect,\n  dependencies?: readonly any[],\n  debugKey?: string,\n) {\n  if (!renderingInstance.hooks) {\n    renderingInstance.hooks = {};\n  }\n  if (!renderingInstance.hooks.effects) {\n    renderingInstance.hooks.effects = { cursor: 0, byCursor: [] };\n  }\n\n  const { cursor, byCursor } = renderingInstance.hooks.effects;\n  const componentInstance = renderingInstance;\n\n  const runEffectCleanup = () => safeExec(() => {\n    const { cleanup } = byCursor[cursor];\n    if (!cleanup) {\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_startAt: number | undefined;\n    if (DEBUG) {\n      DEBUG_startAt = performance.now();\n    }\n\n    cleanup();\n\n    if (DEBUG) {\n      const duration = performance.now() - DEBUG_startAt!;\n      const componentName = DEBUG_resolveComponentName(componentInstance.Component);\n      if (duration > DEBUG_EFFECT_THRESHOLD) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `[Teact] Slow cleanup at effect cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`,\n        );\n      }\n    }\n  }, () => {\n    // eslint-disable-next-line no-console\n    console.error(`[Teact] Error in effect cleanup at cursor #${cursor} in ${componentInstance.name}`);\n  }, () => {\n    byCursor[cursor].cleanup = undefined;\n  });\n\n  const runEffect = () => safeExec(() => {\n    if (componentInstance.mountState === MountState.Unmounted) {\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    let DEBUG_startAt: number | undefined;\n    if (DEBUG) {\n      DEBUG_startAt = performance.now();\n    }\n\n    const result = effect();\n    if (typeof result === 'function') {\n      byCursor[cursor].cleanup = result;\n    }\n\n    if (DEBUG) {\n      const duration = performance.now() - DEBUG_startAt!;\n      const componentName = DEBUG_resolveComponentName(componentInstance.Component);\n      if (duration > DEBUG_EFFECT_THRESHOLD) {\n        // eslint-disable-next-line no-console\n        console.warn(`[Teact] Slow effect at cursor #${cursor}: ${componentName}, ${Math.round(duration)} ms`);\n      }\n    }\n  }, () => {\n    // eslint-disable-next-line no-console\n    console.error(`[Teact] Error in effect at cursor #${cursor} in ${componentInstance.name}`);\n  });\n\n  function schedule() {\n    const effectId = `${componentInstance.id}_${cursor}`;\n\n    if (isLayout) {\n      pendingLayoutCleanups.set(effectId, runEffectCleanup);\n      pendingLayoutEffects.set(effectId, runEffect);\n    } else {\n      pendingCleanups.set(effectId, runEffectCleanup);\n      pendingEffects.set(effectId, runEffect);\n    }\n\n    runUpdatePassOnRaf();\n  }\n\n  if (dependencies && byCursor[cursor]?.dependencies) {\n    if (dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies![i])) {\n      if (DEBUG && debugKey) {\n        const causedBy = dependencies.reduce((res, newValue, i) => {\n          const prevValue = byCursor[cursor].dependencies![i];\n          if (newValue !== prevValue) {\n            res.push(`${i}: ${prevValue} => ${newValue}`);\n          }\n\n          return res;\n        }, []);\n\n        // eslint-disable-next-line no-console\n        console.log(`[Teact] Effect \"${debugKey}\" caused by dependencies.`, causedBy.join(', '));\n      }\n\n      schedule();\n    }\n  } else {\n    if (debugKey) {\n      // eslint-disable-next-line no-console\n      console.log(`[Teact] Effect \"${debugKey}\" caused by missing dependencies.`);\n    }\n\n    schedule();\n  }\n\n  const isFirstRun = !byCursor[cursor];\n\n  byCursor[cursor] = {\n    ...byCursor[cursor],\n    dependencies,\n    schedule,\n  };\n\n  function setupSignals() {\n    const cleanups = dependencies?.filter(isSignal).map((signal, i) => signal.subscribe(() => {\n      if (debugKey) {\n        // eslint-disable-next-line no-console\n        console.log(`[Teact] Effect \"${debugKey}\" caused by signal #${i} new value:`, signal());\n      }\n\n      byCursor[cursor].schedule();\n    }));\n\n    if (!cleanups?.length) {\n      return undefined;\n    }\n\n    return () => {\n      for (const cleanup of cleanups) {\n        cleanup();\n      }\n    };\n  }\n\n  if (isFirstRun) {\n    byCursor[cursor].releaseSignals = setupSignals();\n  }\n\n  renderingInstance.hooks.effects.cursor++;\n}\n\nexport function useEffect(effect: Effect, dependencies?: readonly any[], debugKey?: string) {\n  return useEffectBase(false, effect, dependencies, debugKey);\n}\n\nexport function useLayoutEffect(effect: Effect, dependencies?: readonly any[], debugKey?: string) {\n  return useEffectBase(true, effect, dependencies, debugKey);\n}\n\nexport function useMemo<T extends any>(\n  resolver: () => T,\n  dependencies: any[],\n  debugKey?: string,\n  debugHitRateKey?: string,\n): T {\n  if (!renderingInstance.hooks) {\n    renderingInstance.hooks = {};\n  }\n  if (!renderingInstance.hooks.memos) {\n    renderingInstance.hooks.memos = { cursor: 0, byCursor: [] };\n  }\n\n  const { cursor, byCursor } = renderingInstance.hooks.memos;\n  let { value } = byCursor[cursor] || {};\n\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  let DEBUG_state: typeof DEBUG_memos[string] | undefined;\n  if (DEBUG && debugHitRateKey) {\n    const instanceKey = `${debugHitRateKey}#${renderingInstance.id}`;\n\n    DEBUG_state = DEBUG_memos[instanceKey];\n    if (!DEBUG_state) {\n      DEBUG_state = {\n        key: instanceKey, calls: 0, misses: 0, hitRate: 0,\n      };\n      DEBUG_memos[instanceKey] = DEBUG_state;\n    }\n\n    DEBUG_state.calls++;\n    DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;\n  }\n\n  if (\n    byCursor[cursor] === undefined\n    || dependencies.length !== byCursor[cursor].dependencies.length\n    || dependencies.some((dependency, i) => dependency !== byCursor[cursor].dependencies[i])\n  ) {\n    if (DEBUG) {\n      if (debugKey) {\n        const msg = `[Teact.useMemo] ${renderingInstance.name} (${debugKey}): Update is caused by:`;\n        if (!byCursor[cursor]) {\n          // eslint-disable-next-line no-console\n          console.log(`${msg} [first render]`);\n        } else {\n          logUnequalProps(byCursor[cursor].dependencies, dependencies, msg, debugKey);\n        }\n      }\n\n      if (DEBUG_state) {\n        DEBUG_state.misses++;\n        DEBUG_state.hitRate = (DEBUG_state.calls - DEBUG_state.misses) / DEBUG_state.calls;\n\n        if (\n          DEBUG_state.calls % 10 === 0\n          && DEBUG_state.calls >= DEBUG_MEMOS_CALLS_THRESHOLD\n          && DEBUG_state.hitRate < 0.25\n        ) {\n          // eslint-disable-next-line no-console\n          console.warn(\n            // eslint-disable-next-line max-len\n            `[Teact] ${DEBUG_state.key}: Hit rate is ${DEBUG_state.hitRate.toFixed(2)} for ${DEBUG_state.calls} calls`,\n          );\n        }\n      }\n    }\n\n    value = resolver();\n  }\n\n  byCursor[cursor] = {\n    value,\n    dependencies,\n  };\n\n  renderingInstance.hooks.memos.cursor++;\n\n  return value;\n}\n\nexport function useCallback<F extends AnyFunction>(newCallback: F, dependencies: any[], debugKey?: string): F {\n  // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n  return useMemo(() => newCallback, dependencies, debugKey);\n}\n\nexport function useRef<T>(initial: T): { current: T };\nexport function useRef<T>(): { current: T | undefined }; // TT way (empty is `undefined`)\nexport function useRef<T>(initial: null): { current: T | null }; // React way (empty is `null`)\n// eslint-disable-next-line no-null/no-null\nexport function useRef<T>(initial?: T | null) {\n  if (!renderingInstance.hooks) {\n    renderingInstance.hooks = {};\n  }\n  if (!renderingInstance.hooks.refs) {\n    renderingInstance.hooks.refs = { cursor: 0, byCursor: [] };\n  }\n\n  const { cursor, byCursor } = renderingInstance.hooks.refs;\n  if (!byCursor[cursor]) {\n    byCursor[cursor] = {\n      current: initial,\n    };\n  }\n\n  renderingInstance.hooks.refs.cursor++;\n\n  return byCursor[cursor];\n}\n\nexport function memo<T extends FC_withDebug>(Component: T, debugKey?: string) {\n  function TeactMemoWrapper(props: Props) {\n    return useMemo(\n      () => createElement(Component, props),\n      // eslint-disable-next-line react-hooks-static-deps/exhaustive-deps\n      Object.values(props),\n      debugKey,\n      DEBUG_MORE ? DEBUG_resolveComponentName(renderingInstance.Component) : undefined,\n    );\n  }\n\n  TeactMemoWrapper.DEBUG_contentComponentName = DEBUG_resolveComponentName(Component);\n\n  return TeactMemoWrapper as T;\n}\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function DEBUG_resolveComponentName(Component: FC_withDebug) {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  const { name, DEBUG_contentComponentName } = Component;\n\n  if (name === 'TeactNContainer') {\n    return `container>${DEBUG_contentComponentName}`;\n  }\n\n  if (name === 'TeactMemoWrapper') {\n    return `memo>${DEBUG_contentComponentName}`;\n  }\n\n  return name + (DEBUG_contentComponentName ? `>${DEBUG_contentComponentName}` : '');\n}\n\nexport default {\n  createElement,\n  Fragment,\n};\n","import type { FC, FC_withDebug, Props } from './teact';\n\nimport { DEBUG, DEBUG_MORE } from '../../config';\nimport arePropsShallowEqual, { logUnequalProps } from '../../util/arePropsShallowEqual';\nimport { handleError } from '../../util/handleError';\nimport { orderBy } from '../../util/iteratees';\nimport { throttleWithTickEnd } from '../../util/schedulers';\nimport { requestMeasure } from '../fasterdom/fasterdom';\nimport React, { DEBUG_resolveComponentName, useEffect } from './teact';\n\nimport useForceUpdate from '../../hooks/useForceUpdate';\nimport { isHeavyAnimating } from '../../hooks/useHeavyAnimationCheck';\nimport useUniqueId from '../../hooks/useUniqueId';\n\nexport default React;\n\ninterface Container {\n  mapStateToProps: MapStateToProps<any>;\n  activationFn?: ActivationFn<any>;\n  stuckTo?: any;\n  ownProps: Props;\n  mappedProps?: Props;\n  forceUpdate: Function;\n  DEBUG_updates: number;\n  DEBUG_componentName: string;\n}\n\ntype GlobalState =\n  AnyLiteral\n  & { DEBUG_capturedId?: number };\ntype ActionNames = string;\ntype ActionPayload = any;\n\nexport interface ActionOptions {\n  forceOnHeavyAnimation?: boolean;\n  // Workaround for iOS gesture history navigation\n  forceSyncOnIOs?: boolean;\n  forceOutdated?: boolean;\n}\n\ntype Actions = Record<ActionNames, (payload?: ActionPayload, options?: ActionOptions) => void>;\n\ntype ActionHandler = (\n  global: GlobalState,\n  actions: Actions,\n  payload: any,\n) => GlobalState | void | Promise<void>;\n\ntype MapStateToProps<OwnProps = undefined> = (global: GlobalState, ownProps: OwnProps) => AnyLiteral;\ntype StickToFirstFn = (value: any) => boolean;\ntype ActivationFn<OwnProps = undefined> = (\n  global: GlobalState, ownProps: OwnProps, stickToFirst: StickToFirstFn,\n) => boolean;\n\nlet currentGlobal = {} as GlobalState;\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nlet DEBUG_currentCapturedId: number | undefined;\n// eslint-disable-next-line @typescript-eslint/naming-convention\nconst DEBUG_releaseCapturedIdThrottled = throttleWithTickEnd(() => {\n  DEBUG_currentCapturedId = undefined;\n});\n\nconst actionHandlers: Record<string, ActionHandler[]> = {};\nconst callbacks: Function[] = [updateContainers];\nconst actions = {} as Actions;\nconst containers = new Map<string, Container>();\n\nconst runCallbacksThrottled = throttleWithTickEnd(runCallbacks);\n\nlet forceOnHeavyAnimation = true;\n\nfunction runCallbacks() {\n  if (forceOnHeavyAnimation) {\n    forceOnHeavyAnimation = false;\n  } else if (isHeavyAnimating()) {\n    requestMeasure(runCallbacksThrottled);\n    return;\n  }\n\n  callbacks.forEach((cb) => cb(currentGlobal));\n}\n\nexport function setGlobal(newGlobal?: GlobalState, options?: ActionOptions) {\n  if (typeof newGlobal === 'object' && newGlobal !== currentGlobal) {\n    if (DEBUG) {\n      if (\n        !options?.forceOutdated\n        && newGlobal.DEBUG_capturedId && newGlobal.DEBUG_capturedId !== DEBUG_currentCapturedId\n      ) {\n        throw new Error('[TeactN.setGlobal] Attempt to set an outdated global');\n      }\n\n      DEBUG_currentCapturedId = undefined;\n    }\n\n    currentGlobal = newGlobal;\n\n    if (options?.forceSyncOnIOs) {\n      forceOnHeavyAnimation = true;\n      runCallbacks();\n    } else {\n      if (options?.forceOnHeavyAnimation) {\n        forceOnHeavyAnimation = true;\n      }\n\n      runCallbacksThrottled();\n    }\n  }\n}\n\nexport function getGlobal() {\n  if (DEBUG) {\n    DEBUG_currentCapturedId = Math.random();\n    currentGlobal = {\n      ...currentGlobal,\n      DEBUG_capturedId: DEBUG_currentCapturedId,\n    };\n    DEBUG_releaseCapturedIdThrottled();\n  }\n\n  return currentGlobal;\n}\n\nexport function getActions() {\n  return actions;\n}\n\nexport function forceOnHeavyAnimationOnce() {\n  forceOnHeavyAnimation = true;\n}\n\nlet actionQueue: NoneToVoidFunction[] = [];\n\nfunction handleAction(name: string, payload?: ActionPayload, options?: ActionOptions) {\n  actionQueue.push(() => {\n    actionHandlers[name]?.forEach((handler) => {\n      const response = handler(DEBUG ? getGlobal() : currentGlobal, actions, payload);\n      if (!response || typeof response.then === 'function') {\n        return;\n      }\n\n      setGlobal(response as GlobalState, options);\n    });\n  });\n\n  if (actionQueue.length === 1) {\n    try {\n      while (actionQueue.length) {\n        actionQueue[0]();\n        actionQueue.shift();\n      }\n    } finally {\n      actionQueue = [];\n    }\n  }\n}\n\nfunction updateContainers() {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  let DEBUG_startAt: number | undefined;\n  if (DEBUG) {\n    DEBUG_startAt = performance.now();\n  }\n\n  // eslint-disable-next-line no-restricted-syntax\n  for (const container of containers.values()) {\n    const {\n      mapStateToProps, ownProps, mappedProps, forceUpdate,\n    } = container;\n\n    if (!activateContainer(container, currentGlobal, ownProps)) {\n      continue;\n    }\n\n    let newMappedProps;\n\n    try {\n      newMappedProps = mapStateToProps(currentGlobal, ownProps);\n    } catch (err: any) {\n      handleError(err);\n\n      return;\n    }\n\n    if (DEBUG) {\n      if (Object.values(newMappedProps).some(Number.isNaN)) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          // eslint-disable-next-line max-len\n          `[TeactN] Some of \\`${container.DEBUG_componentName}\\` mappers contain NaN values. This may cause redundant updates because of incorrect equality check.`,\n        );\n      }\n    }\n\n    if (Object.keys(newMappedProps).length && !arePropsShallowEqual(mappedProps!, newMappedProps)) {\n      if (DEBUG_MORE) {\n        logUnequalProps(\n          mappedProps!,\n          newMappedProps,\n          `[TeactN] Will update ${container.DEBUG_componentName} caused by:`,\n        );\n      }\n\n      container.mappedProps = newMappedProps;\n      container.DEBUG_updates++;\n\n      forceUpdate();\n    }\n  }\n\n  if (DEBUG) {\n    const updateTime = performance.now() - DEBUG_startAt!;\n    if (updateTime > 7) {\n      // eslint-disable-next-line no-console\n      console.warn(`[TeactN] Slow containers update: ${Math.round(updateTime)} ms`);\n    }\n  }\n}\n\nexport function addActionHandler(name: ActionNames, handler: ActionHandler) {\n  if (!actionHandlers[name]) {\n    actionHandlers[name] = [];\n\n    actions[name] = (payload?: ActionPayload, options?: ActionOptions) => {\n      handleAction(name, payload, options);\n    };\n  }\n\n  actionHandlers[name].push(handler);\n}\n\nexport function addCallback(cb: Function) {\n  callbacks.push(cb);\n}\n\nexport function removeCallback(cb: Function) {\n  const index = callbacks.indexOf(cb);\n  if (index !== -1) {\n    callbacks.splice(index, 1);\n  }\n}\n\nexport function withGlobal<OwnProps extends AnyLiteral>(\n  mapStateToProps: MapStateToProps<OwnProps> = () => ({}),\n  activationFn?: ActivationFn<OwnProps>,\n) {\n  return (Component: FC) => {\n    function TeactNContainer(props: OwnProps) {\n      const id = useUniqueId();\n      const forceUpdate = useForceUpdate();\n\n      useEffect(() => {\n        return () => {\n          containers.delete(id);\n        };\n      }, [id]);\n\n      let container = containers.get(id)!;\n      if (!container) {\n        container = {\n          mapStateToProps,\n          activationFn,\n          ownProps: props,\n          forceUpdate,\n          DEBUG_updates: 0,\n          DEBUG_componentName: Component.name,\n        };\n\n        containers.set(id, container);\n      }\n\n      if (!container.mappedProps || (\n        !arePropsShallowEqual(container.ownProps, props) && activateContainer(container, currentGlobal, props)\n      )) {\n        try {\n          container.mappedProps = mapStateToProps(currentGlobal, props);\n        } catch (err: any) {\n          handleError(err);\n        }\n      }\n\n      container.ownProps = props;\n\n      // eslint-disable-next-line react/jsx-props-no-spreading\n      return <Component {...container.mappedProps} {...props} />;\n    }\n\n    (TeactNContainer as FC_withDebug).DEBUG_contentComponentName = DEBUG_resolveComponentName(Component);\n\n    return TeactNContainer;\n  };\n}\n\nfunction activateContainer(container: Container, global: GlobalState, props: Props) {\n  const { activationFn, stuckTo } = container;\n  if (!activationFn) {\n    return true;\n  }\n\n  return activationFn(global, props, (stickTo: any) => {\n    if (stickTo && !stuckTo) {\n      container.stuckTo = stickTo;\n    }\n\n    return stickTo && (!stuckTo || stuckTo === stickTo);\n  });\n}\n\nexport function typify<\n  ProjectGlobalState,\n  ActionPayloads,\n>() {\n  type ProjectActionNames = keyof ActionPayloads;\n\n  // When payload is allowed to be `undefined` we consider it optional\n  type ProjectActions = {\n    [ActionName in ProjectActionNames]:\n    (undefined extends ActionPayloads[ActionName] ? (\n      (payload?: ActionPayloads[ActionName], options?: ActionOptions) => void\n    ) : (\n      (payload: ActionPayloads[ActionName], options?: ActionOptions) => void\n    ))\n  };\n\n  type ActionHandlers = {\n    [ActionName in keyof ActionPayloads]: (\n      global: ProjectGlobalState,\n      actions: ProjectActions,\n      payload: ActionPayloads[ActionName],\n    ) => ProjectGlobalState | void | Promise<void>;\n  };\n\n  return {\n    getGlobal: getGlobal as <T extends ProjectGlobalState>() => T,\n    setGlobal: setGlobal as (state: ProjectGlobalState, options?: ActionOptions) => void,\n    getActions: getActions as () => ProjectActions,\n    addActionHandler: addActionHandler as <ActionName extends ProjectActionNames>(\n      name: ActionName,\n      handler: ActionHandlers[ActionName],\n    ) => void,\n    withGlobal: withGlobal as <OwnProps extends AnyLiteral>(\n      mapStateToProps: (global: ProjectGlobalState, ownProps: OwnProps) => AnyLiteral,\n      activationFn?: (global: ProjectGlobalState, ownProps: OwnProps, stickToFirst: StickToFirstFn) => boolean,\n    ) => (Component: FC) => FC<OwnProps>,\n  };\n}\n\nif (DEBUG) {\n  (window as any).getGlobal = getGlobal;\n  (window as any).setGlobal = setGlobal;\n\n  document.addEventListener('dblclick', () => {\n    // eslint-disable-next-line no-console\n    console.warn(\n      'GLOBAL CONTAINERS',\n      orderBy(\n        Array.from(containers.values())\n          .map(({ DEBUG_componentName, DEBUG_updates }) => ({ DEBUG_componentName, DEBUG_updates })),\n        'DEBUG_updates',\n        'desc',\n      ),\n    );\n  });\n}\n","import { bigintReviver } from './bigint';\nimport generateUniqueId from './generateUniqueId';\nimport { logDebugError } from './logs';\n\nexport interface CancellableCallback {\n  (\n    ...args: any[]\n  ): void;\n\n  isCanceled?: boolean;\n  acceptsBuffer?: boolean;\n}\n\ntype InitData = {\n  channel?: string;\n  type: 'init';\n  messageId?: string;\n  name: 'init';\n  args: any;\n};\n\ntype CallMethodData = {\n  channel?: string;\n  type: 'callMethod';\n  messageId?: string;\n  name: string;\n  args: any;\n  withCallback?: boolean;\n};\n\nexport type OriginMessageData = InitData | CallMethodData | {\n  channel?: string;\n  type: 'cancelProgress';\n  messageId: string;\n};\n\nexport interface OriginMessageEvent {\n  data: OriginMessageData;\n}\n\nexport type ApiUpdate =\n  { type: string }\n  & any;\n\nexport type WorkerMessageData = {\n  channel?: string;\n  type: 'update';\n  update: ApiUpdate;\n} | {\n  channel?: string;\n  type: 'methodResponse';\n  messageId: string;\n  response?: any;\n  error?: { message: string };\n} | {\n  channel?: string;\n  type: 'methodCallback';\n  messageId: string;\n  callbackArgs: any[];\n} | {\n  channel?: string;\n  type: 'unhandledError';\n  error?: { message: string };\n};\n\nexport interface WorkerMessageEvent {\n  data: WorkerMessageData;\n}\n\ninterface RequestStates {\n  messageId: string;\n  resolve: Function;\n  reject: Function;\n  callback: AnyToVoidFunction;\n}\n\ntype InputRequestTypes = Record<string, AnyFunction>;\n\ntype Values<T> = T[keyof T];\nexport type RequestTypes<T extends InputRequestTypes> = Values<{\n  [Name in keyof (T)]: {\n    name: Name & string;\n    args: Parameters<T[Name]>;\n  }\n}>;\n\nclass ConnectorClass<T extends InputRequestTypes> {\n  private requestStates = new Map<string, RequestStates>();\n\n  private requestStatesByCallback = new Map<AnyToVoidFunction, RequestStates>();\n\n  constructor(\n    public target: Worker | Window | chrome.runtime.Port | DedicatedWorkerGlobalScope,\n    private onUpdate?: (update: ApiUpdate) => void,\n    private channel?: string,\n    private shouldUseJson?: boolean,\n    private targetOrigin = '*',\n  ) {\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  public destroy() {\n  }\n\n  init(...args: any[]) {\n    this.postMessage({\n      type: 'init',\n      args,\n    });\n  }\n\n  request(messageData: RequestTypes<T>) {\n    const { requestStates, requestStatesByCallback } = this;\n\n    const messageId = generateUniqueId();\n    const payload: CallMethodData = {\n      type: 'callMethod',\n      messageId,\n      ...messageData,\n    };\n\n    const requestState = { messageId } as RequestStates;\n\n    // Re-wrap type because of `postMessage`\n    const promise: Promise<any> = new Promise((resolve, reject) => {\n      Object.assign(requestState, { resolve, reject });\n    });\n\n    if (typeof payload.args[payload.args.length - 1] === 'function') {\n      payload.withCallback = true;\n\n      const callback = payload.args.pop() as AnyToVoidFunction;\n      requestState.callback = callback;\n      requestStatesByCallback.set(callback, requestState);\n    }\n\n    requestStates.set(messageId, requestState);\n    promise\n      .catch(() => undefined)\n      .finally(() => {\n        requestStates.delete(messageId);\n\n        if (requestState.callback) {\n          requestStatesByCallback.delete(requestState.callback);\n        }\n      });\n\n    this.postMessage(payload);\n\n    return promise;\n  }\n\n  cancelCallback(progressCallback: CancellableCallback) {\n    progressCallback.isCanceled = true;\n\n    const { messageId } = this.requestStatesByCallback.get(progressCallback) || {};\n    if (!messageId) {\n      return;\n    }\n\n    this.postMessage({\n      type: 'cancelProgress',\n      messageId,\n    });\n  }\n\n  onMessage(data: WorkerMessageData | string) {\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data, bigintReviver) as WorkerMessageData;\n      } catch (err: any) {\n        logDebugError('PostMessageConnector: Failed to parse message', err);\n        return;\n      }\n    }\n\n    const { requestStates, channel } = this;\n    if (data.channel !== channel) {\n      return;\n    }\n\n    if (data.type === 'update' && this.onUpdate) {\n      this.onUpdate(data.update);\n    }\n    if (data.type === 'methodResponse') {\n      const requestState = requestStates.get(data.messageId);\n      if (requestState) {\n        if (data.error) {\n          requestState.reject(data.error);\n        } else {\n          requestState.resolve(data.response);\n        }\n      }\n    } else if (data.type === 'methodCallback') {\n      const requestState = requestStates.get(data.messageId);\n      requestState?.callback?.(...data.callbackArgs);\n    } else if (data.type === 'unhandledError') {\n      throw new Error(data.error?.message);\n    }\n  }\n\n  private postMessage(data: AnyLiteral) {\n    data.channel = this.channel;\n\n    let rawData: AnyLiteral | string = data;\n    if (this.shouldUseJson) {\n      rawData = JSON.stringify(data);\n    }\n\n    if ('open' in this.target) { // Is Window\n      this.target.postMessage(rawData, this.targetOrigin);\n    } else {\n      this.target.postMessage(rawData);\n    }\n  }\n}\n\nexport function createConnector<T extends InputRequestTypes>(\n  worker: Worker | Window | DedicatedWorkerGlobalScope,\n  onUpdate?: (update: ApiUpdate) => void,\n  channel?: string,\n  targetOrigin?: string,\n) {\n  const connector = new ConnectorClass<T>(worker, onUpdate, channel, undefined, targetOrigin);\n\n  function handleMessage({ data }: WorkerMessageEvent | MessageEvent) {\n    connector.onMessage(data);\n  }\n\n  worker.addEventListener('message', handleMessage as any); // TS weirdly complains here\n\n  connector.destroy = () => {\n    worker.removeEventListener('message', handleMessage as any);\n  };\n\n  return connector;\n}\n\nexport function createExtensionConnector(\n  name: string,\n  onUpdate?: (update: ApiUpdate) => void,\n  getInitArgs?: () => any,\n  channel?: string,\n) {\n  const connector = new ConnectorClass(connect(), onUpdate, channel, true);\n\n  function connect() {\n    // eslint-disable-next-line no-restricted-globals\n    const port = self.chrome.runtime.connect({ name });\n\n    port.onMessage.addListener((data: string | WorkerMessageData) => {\n      connector.onMessage(data);\n    });\n\n    // For some reason port can suddenly get disconnected\n    port.onDisconnect.addListener(() => {\n      connector.target = connect();\n      connector.init(getInitArgs?.());\n    });\n\n    return port;\n  }\n\n  connector.init(getInitArgs?.());\n\n  return connector;\n}\n\nexport type Connector<T extends InputRequestTypes = InputRequestTypes> = ReturnType<typeof createConnector<T>>;\n","import type { AccountIdParsed, ApiBlockchainKey, ApiNetwork } from '../api/types';\n\nexport function parseAccountId(accountId: string): AccountIdParsed {\n  const [\n    id,\n    blockchain = 'ton', // Handle deprecated case when `accountId = '0'`\n    network = 'mainnet',\n  ] = accountId.split('-');\n  return {\n    id: Number(id),\n    blockchain: blockchain as ApiBlockchainKey,\n    network: network as ApiNetwork,\n  };\n}\n\nexport function buildAccountId(account: AccountIdParsed) {\n  const { id, network, blockchain } = account;\n  return `${id}-${blockchain}-${network}`;\n}\n","import { ACTIVE_TAB_STORAGE_KEY } from '../config';\nimport {\n  IS_DELEGATED_BOTTOM_SHEET, IS_ELECTRON, IS_LEDGER_EXTENSION_TAB,\n} from './windowEnvironment';\n\nconst IS_DISABLED = IS_LEDGER_EXTENSION_TAB || IS_DELEGATED_BOTTOM_SHEET || IS_ELECTRON;\n\nconst INTERVAL = 2000;\n\nconst tabKey = String(Date.now() + Math.random());\n\nif (!IS_DISABLED) {\n  localStorage.setItem(ACTIVE_TAB_STORAGE_KEY, tabKey);\n}\n\nlet callback: NoneToVoidFunction;\n\nconst interval = window.setInterval(() => {\n  if (!IS_DISABLED && callback && localStorage.getItem(ACTIVE_TAB_STORAGE_KEY) !== tabKey) {\n    callback();\n    clearInterval(interval);\n  }\n}, INTERVAL);\n\nexport function setActiveTabChangeListener(_callback: NoneToVoidFunction) {\n  callback = _callback;\n}\n","import { requestMutation } from '../lib/fasterdom/fasterdom';\nimport { animate } from './animation';\n\nconst DEFAULT_DURATION = 300;\n\nconst stopById: Map<string, VoidFunction> = new Map();\n\nexport default function animateHorizontalScroll(container: HTMLElement, left: number, duration = DEFAULT_DURATION) {\n  const isRtl = container.getAttribute('dir') === 'rtl';\n  const {\n    scrollLeft, offsetWidth: containerWidth, scrollWidth, dataset: { scrollId },\n  } = container;\n\n  let path = left - scrollLeft;\n\n  if (path < 0) {\n    const remainingPath = -scrollLeft * (isRtl ? -1 : 1);\n    path = Math.max(path, remainingPath);\n  } else if (path > 0) {\n    const remainingPath = scrollWidth - (scrollLeft + containerWidth);\n    path = Math.min(path, remainingPath);\n  }\n\n  if (path === 0) {\n    return Promise.resolve();\n  }\n\n  if (scrollId && stopById.has(scrollId)) {\n    stopById.get(scrollId)!();\n  }\n\n  const target = scrollLeft + path;\n\n  return new Promise<void>((resolve) => {\n    requestMutation(() => {\n      if (duration === 0) {\n        container.scrollLeft = target;\n        resolve();\n        return;\n      }\n\n      let isStopped = false;\n      const id = Math.random().toString();\n      container.dataset.scrollId = id;\n      stopById.set(id, () => {\n        isStopped = true;\n      });\n\n      container.style.scrollSnapType = 'none';\n\n      const startAt = Date.now();\n\n      animate(() => {\n        if (isStopped) return false;\n\n        const t = Math.min((Date.now() - startAt) / duration, 1);\n\n        const currentPath = path * (1 - transition(t));\n        container.scrollLeft = Math.round(target - currentPath);\n\n        if (t >= 1) {\n          container.style.scrollSnapType = '';\n          delete container.dataset.scrollId;\n          stopById.delete(id);\n          resolve();\n        }\n\n        return t < 1;\n      }, requestMutation);\n    });\n  });\n}\n\nfunction transition(t: number) {\n  return 1 - ((1 - t) ** 3.5);\n}\n","import type { Scheduler } from './schedulers';\n\nimport { requestMeasure } from '../lib/fasterdom/fasterdom';\n\ninterface AnimationInstance {\n  isCancelled: boolean;\n}\n\nlet currentInstance: AnimationInstance | undefined;\n\nexport function animateSingle(tick: Function, schedulerFn: Scheduler, instance?: AnimationInstance) {\n  if (!instance) {\n    if (currentInstance && !currentInstance.isCancelled) {\n      currentInstance.isCancelled = true;\n    }\n\n    instance = { isCancelled: false };\n    currentInstance = instance;\n  }\n\n  if (!instance!.isCancelled && tick()) {\n    schedulerFn(() => {\n      animateSingle(tick, schedulerFn, instance);\n    });\n  }\n}\n\nexport function cancelSingleAnimation() {\n  const dumbScheduler = (cb: AnyFunction) => cb;\n  const dumbCb = () => undefined;\n\n  animateSingle(dumbCb, dumbScheduler);\n}\n\nexport function animate(tick: Function, schedulerFn: Scheduler) {\n  schedulerFn(() => {\n    if (tick()) {\n      animate(tick, schedulerFn);\n    }\n  });\n}\n\nexport function animateInstantly(tick: Function, schedulerFn: Scheduler) {\n  if (tick()) {\n    schedulerFn(() => {\n      animateInstantly(tick, schedulerFn);\n    });\n  }\n}\n\ntype TimingFn = (t: number) => number;\n\ntype AnimateNumberProps<T extends number | number[]> = {\n  to: T;\n  from: T;\n  duration: number;\n  onUpdate: (value: T) => void;\n  timing?: TimingFn;\n  onEnd?: (isCanceled?: boolean) => void;\n};\n\nexport const timingFunctions = {\n  linear: (t: number) => t,\n  easeIn: (t: number) => t ** 1.675,\n  easeOut: (t: number) => -1 * t ** 1.675,\n  easeInOut: (t: number) => 0.5 * (Math.sin((t - 0.5) * Math.PI) + 1),\n  easeInQuad: (t: number) => t * t,\n  easeOutQuad: (t: number) => t * (2 - t),\n  easeInOutQuad: (t: number) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t),\n  easeInCubic: (t: number) => t ** 3,\n  easeOutCubic: (t: number) => (--t) * t * t + 1,\n  easeInOutCubic: (t: number) => (t < 0.5 ? 4 * t ** 3 : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1),\n  easeInQuart: (t: number) => t ** 4,\n  easeOutQuart: (t: number) => 1 - (--t) * t ** 3,\n  easeInOutQuart: (t: number) => (t < 0.5 ? 8 * t ** 4 : 1 - 8 * (--t) * t ** 3),\n  easeInQuint: (t: number) => t ** 5,\n  easeOutQuint: (t: number) => 1 + (--t) * t ** 4,\n  easeInOutQuint: (t: number) => (t < 0.5 ? 16 * t ** 5 : 1 + 16 * (--t) * t ** 4),\n};\n\nexport function animateNumber<T extends number | number[]>({\n  timing = timingFunctions.linear,\n  onUpdate,\n  duration,\n  onEnd,\n  from,\n  to,\n}: AnimateNumberProps<T>) {\n  const t0 = Date.now();\n\n  let isCanceled = false;\n\n  animateInstantly(() => {\n    if (isCanceled) return false;\n\n    const t1 = Date.now();\n    const t = Math.min((t1 - t0) / duration, 1);\n\n    const progress = timing(t);\n    if (typeof from === 'number' && typeof to === 'number') {\n      onUpdate((from + ((to - from) * progress)) as T);\n    } else if (Array.isArray(from) && Array.isArray(to)) {\n      const result = from.map((f, i) => f + ((to[i] - f) * progress));\n      onUpdate(result as T);\n    }\n\n    if (t === 1) {\n      onEnd?.();\n    }\n\n    return t < 1;\n  }, requestMeasure);\n\n  return () => {\n    isCanceled = true;\n    onEnd?.(true);\n  };\n}\n\nexport function applyStyles(element: HTMLElement, css: Record<string, string>) {\n  Object.assign(element.style, css);\n}\n","export function areDeepEqual<T extends any>(value1: T, value2: T): boolean {\n  const type1 = typeof value1;\n  const type2 = typeof value2;\n  if (type1 !== type2) {\n    return false;\n  }\n\n  // eslint-disable-next-line no-null/no-null\n  if (type1 !== 'object' || value1 === null || value2 === null) {\n    return value1 === value2;\n  }\n\n  const isArray1 = Array.isArray(value1);\n  const isArray2 = Array.isArray(value2);\n\n  if (isArray1 !== isArray2) {\n    return false;\n  }\n\n  if (isArray1) {\n    const array1 = value1 as any[];\n    const array2 = value2 as any[];\n\n    if (array1.length !== array2.length) {\n      return false;\n    }\n\n    return array1.every((member1, i) => areDeepEqual(member1, array2[i]));\n  }\n\n  const object1 = value1 as AnyLiteral;\n  const object2 = value2 as AnyLiteral;\n  const keys1 = Object.keys(object1);\n\n  return keys1.every((key1) => areDeepEqual(object1[key1], object2[key1]));\n}\n","export default function arePropsShallowEqual(currentProps: AnyLiteral, newProps: AnyLiteral) {\n  if (currentProps === newProps) {\n    return true;\n  }\n\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    return false;\n  }\n\n  if (currentKeysLength === 0) {\n    return true;\n  }\n\n  for (let i = 0; i < currentKeysLength; i++) {\n    const prop = currentKeys[i];\n    if (currentProps[prop] !== newProps[prop]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function logUnequalProps(currentProps: AnyLiteral, newProps: AnyLiteral, msg: string, debugKey = '') {\n  const currentKeys = Object.keys(currentProps);\n  const currentKeysLength = currentKeys.length;\n  const newKeysLength = Object.keys(newProps).length;\n\n  if (currentKeysLength !== newKeysLength) {\n    // eslint-disable-next-line no-console\n    console.log(`${msg} LENGTH`);\n    return;\n  }\n\n  // eslint-disable-next-line no-console\n  console.log(msg);\n  currentKeys.forEach((prop) => {\n    if (currentProps[prop] !== newProps[prop]) {\n      // eslint-disable-next-line no-console\n      console.log(debugKey, prop, ':', currentProps[prop], '=>', newProps[prop]);\n    }\n  });\n}\n","import { NativeBiometric } from '@capgo/capacitor-native-biometric';\n\nimport type { AuthConfig } from './types';\nimport type { CredentialCreationResult } from './webAuthn';\n\nimport { APP_NAME, NATIVE_BIOMETRICS_SERVER, NATIVE_BIOMETRICS_USERNAME } from '../../config';\nimport { logDebugError } from '../logs';\nimport { randomBytes } from '../random';\nimport webAuthn from './webAuthn';\n\nconst CREDENTIAL_SIZE = 32;\n\nasync function setupBiometrics({ credential }: { credential?: CredentialCreationResult }) {\n  let result: { password: string; config: AuthConfig } | undefined;\n\n  try {\n    if (!credential) {\n      const password = Buffer.from(randomBytes(CREDENTIAL_SIZE)).toString('hex');\n      const encryptedPassword = await window.electron?.encryptPassword(password);\n      if (!encryptedPassword) {\n        return result;\n      }\n\n      result = {\n        password,\n        config: {\n          kind: 'electron-safe-storage',\n          encryptedPassword,\n        },\n      };\n    } else {\n      result = await webAuthn.verify(credential);\n    }\n  } catch (err) {\n    logDebugError('setupBiometrics', err);\n  }\n\n  return result;\n}\n\nasync function setupNativeBiometrics(password: string) {\n  await NativeBiometric.setCredentials({\n    username: NATIVE_BIOMETRICS_USERNAME,\n    password,\n    server: NATIVE_BIOMETRICS_SERVER,\n  });\n\n  return {\n    password,\n    config: {\n      kind: 'native-biometrics',\n    } as AuthConfig,\n  };\n}\n\nfunction removeNativeBiometrics() {\n  return NativeBiometric.deleteCredentials({\n    server: NATIVE_BIOMETRICS_SERVER,\n  });\n}\n\nasync function getPassword(config: AuthConfig) {\n  let password: string | undefined;\n\n  try {\n    if (config.kind === 'webauthn') {\n      password = await webAuthn.getPassword(config);\n    } else if (config.kind === 'electron-safe-storage') {\n      password = await window.electron?.decryptPassword(config.encryptedPassword);\n    } else if (config.kind === 'native-biometrics') {\n      const isVerified = await NativeBiometric.verifyIdentity({\n        title: APP_NAME,\n        subtitle: '',\n      })\n        .then(() => true)\n        .catch(() => false);\n\n      if (!isVerified) return undefined;\n\n      const credentials = await NativeBiometric.getCredentials({\n        server: NATIVE_BIOMETRICS_SERVER,\n      });\n      password = credentials.password;\n    } else {\n      throw new Error('Unexpected auth kind');\n    }\n  } catch (err) {\n    logDebugError('submitTransferPassword', err);\n  }\n\n  return password;\n}\n\nexport default {\n  setupBiometrics,\n  setupNativeBiometrics,\n  removeNativeBiometrics,\n  getPassword,\n  webAuthn,\n};\n","import type { AuthConfig, WebAuthn } from './types';\n\nimport { randomBytes } from '../random';\nimport { pause } from '../schedulers';\n\ndeclare global {\n  interface AuthenticationExtensionsClientInputs {\n    credBlob?: Uint8Array; // max 32 bytes\n    getCredBlob?: boolean;\n    hmacCreateSecret?: boolean;\n    hmacGetSecret?: { salt1: Uint8Array }; // 32-byte random data\n  }\n\n  interface AuthenticationExtensionsClientOutputs {\n    credBlob?: boolean;\n    getCredBlob?: Uint8Array;\n    hmacCreateSecret?: boolean;\n    hmacGetSecret?: { output1: Uint8Array };\n  }\n\n  interface AuthenticatorResponse {\n    getTransports?: () => AuthenticatorTransport[];\n  }\n}\n\nexport interface CredentialCreationResult {\n  type: 'credBlob' | 'userHandle';\n  password: {\n    credBlob: string;\n    userHandle: string;\n  };\n  credential: PublicKeyCredential;\n}\n\nenum PubkeyAlg {\n  Ed25519 = -8,\n  ES256 = -7,\n  RS256 = -257,\n}\n\nconst CREDENTIAL_SIZE = 32;\nconst RP_NAME = 'MyTonWallet';\nconst USER_NAME = 'MyTonWallet';\nconst PAUSE = 300;\nconst CREDENTIAL_TIMEOUT = 120000;\n\nasync function createCredential() {\n  const rpId = window.location.hostname;\n\n  const userHandle = randomBytes(CREDENTIAL_SIZE);\n  const credBlob = randomBytes(CREDENTIAL_SIZE);\n\n  const options: CredentialCreationOptions = {\n    publicKey: {\n      challenge: randomBytes(CREDENTIAL_SIZE),\n      rp: {\n        name: RP_NAME,\n        id: rpId,\n      },\n      user: {\n        id: userHandle,\n        name: USER_NAME,\n        displayName: RP_NAME,\n      },\n      pubKeyCredParams: [\n        {\n          type: 'public-key',\n          alg: PubkeyAlg.ES256,\n        },\n        {\n          type: 'public-key',\n          alg: PubkeyAlg.RS256,\n        },\n        {\n          type: 'public-key',\n          alg: PubkeyAlg.Ed25519,\n        },\n      ],\n      authenticatorSelection: {\n        requireResidentKey: true,\n        userVerification: 'preferred',\n      },\n      extensions: {\n        credBlob,\n        hmacCreateSecret: true,\n      },\n      timeout: CREDENTIAL_TIMEOUT,\n      excludeCredentials: [],\n    },\n  };\n\n  const credential = (await navigator.credentials.create(options)) as PublicKeyCredential;\n\n  if (!credential) {\n    throw new Error('Missing credential');\n  }\n\n  const extensions = credential.getClientExtensionResults();\n  const type = extensions.credBlob ? 'credBlob' : 'userHandle';\n\n  return {\n    type,\n    password: {\n      credBlob: Buffer.from(credBlob).toString('hex'),\n      userHandle: Buffer.from(userHandle).toString('hex'),\n    },\n    credential,\n  } as CredentialCreationResult;\n}\n\nasync function verify({ credential, password, type }: CredentialCreationResult) {\n  await pause(PAUSE);\n\n  const transports = credential.response\n    && credential.response.getTransports\n    && credential.response.getTransports();\n\n  const credentialId = Buffer.from(credential.rawId).toString('hex');\n\n  const options: CredentialRequestOptions = {\n    publicKey: {\n      challenge: randomBytes(CREDENTIAL_SIZE),\n      allowCredentials: [\n        {\n          id: credential.rawId,\n          type: 'public-key',\n          transports,\n        },\n      ],\n      userVerification: 'required',\n      extensions: {\n        getCredBlob: true,\n      },\n    },\n  };\n\n  const assertion = (await navigator.credentials.get(options)) as PublicKeyCredential;\n\n  if (!assertion) {\n    throw new Error('Missing authentication');\n  }\n\n  const response = assertion.response as AuthenticatorAssertionResponse;\n  let result: string | undefined;\n  switch (type) {\n    case 'userHandle': {\n      if (!response.userHandle) {\n        throw new Error('Missing stored userHandle');\n      }\n      if (!Buffer.from(password.userHandle, 'hex').equals(Buffer.from(response.userHandle))) {\n        throw new Error('Stored blob not equals passed blob');\n      }\n      result = password.userHandle;\n      break;\n    }\n  }\n\n  if (!result) {\n    throw new Error('Missing stored blob');\n  }\n\n  const config: WebAuthn = {\n    kind: 'webauthn',\n    type,\n    credentialId,\n    transports,\n  };\n\n  return { config, password: result };\n}\n\nasync function getPassword(config: AuthConfig) {\n  if (config.kind !== 'webauthn') {\n    throw new Error('Unexpected auth kind');\n  }\n\n  const { credentialId, transports, type } = config;\n\n  const controller = new AbortController();\n  const signal = controller.signal;\n\n  const options: CredentialRequestOptions = {\n    publicKey: {\n      challenge: randomBytes(CREDENTIAL_SIZE),\n      allowCredentials: [\n        {\n          id: Buffer.from(credentialId, 'hex'),\n          type: 'public-key',\n          transports,\n        },\n      ],\n      userVerification: 'required',\n      extensions: {\n        getCredBlob: true,\n      },\n    },\n    signal,\n  };\n\n  const assertion = (await navigator.credentials.get(options)) as PublicKeyCredential;\n\n  if (signal.aborted) {\n    throw new Error('Verification canceled');\n  }\n\n  const response = assertion.response as AuthenticatorAssertionResponse;\n\n  const extensions = assertion.getClientExtensionResults();\n  if (type === 'userHandle') {\n    if (!response.userHandle) {\n      throw new Error('missing userHandle');\n    }\n    return Buffer.from(response.userHandle).toString('hex');\n  } else {\n    return Buffer.from(extensions.getCredBlob ?? '').toString('hex');\n  }\n}\n\nexport default {\n  createCredential,\n  verify,\n  getPassword,\n};\n","export function base64ToHex(base64: string): string {\n  const buffer = Buffer.from(base64, 'base64');\n  return buffer.toString('hex');\n}\n","import { animate } from './animation';\nimport { fastRaf } from './schedulers';\nimport { IS_IOS } from './windowEnvironment';\n\nconst TEST_INTERVAL = 5000; // 5 sec\nconst FRAMES_TO_TEST = 10;\nconst REDUCED_FPS = 35;\n\nlet isImproved = false;\n\nexport function betterView() {\n  if (!IS_IOS) return;\n\n  let interval: number | undefined;\n  let lastFocusAt = Date.now();\n\n  function setupInterval() {\n    if (interval || isImproved) return;\n\n    interval = window.setInterval(testAndImprove, TEST_INTERVAL);\n  }\n\n  window.addEventListener('focus', () => {\n    const now = Date.now();\n    if (now - lastFocusAt < 100) return; // iOS triggers two `focus` events for some reason\n    lastFocusAt = now;\n\n    setupInterval();\n    testAndImprove();\n  });\n\n  window.addEventListener('blur', () => {\n    clearInterval(interval);\n    interval = undefined;\n  });\n\n  if (document.hasFocus()) {\n    setupInterval();\n    testAndImprove();\n  }\n}\n\nasync function testAndImprove() {\n  const fps = await testFps();\n  if (fps <= REDUCED_FPS) {\n    improveView();\n  }\n}\n\nfunction testFps() {\n  return new Promise<number>((resolve) => {\n    const frames: number[] = [];\n    let lastFrameAt = performance.now();\n\n    animate(() => {\n      const now = performance.now();\n      frames.push(now - lastFrameAt);\n      lastFrameAt = now;\n\n      if (frames.length === FRAMES_TO_TEST) {\n        const mean = frames.sort()[Math.floor(frames.length / 2)];\n        resolve(Math.round(1000 / mean));\n        return false;\n      }\n\n      return true;\n    }, fastRaf);\n  });\n}\n\nfunction improveView() {\n  isImproved = true;\n\n  const containerEl = document.createElement('div');\n  containerEl.style.cssText = 'position: absolute; top: 0; left: 0; width: 0; height: 100%; overflow: hidden;';\n\n  const boosterEl = document.createElement('div');\n  const height = window.screen.height * 1.5;\n  boosterEl.style.cssText = `width: 0; height: ${height}px; transform: translateX(100%); transition: transform 100ms;`;\n  boosterEl.innerHTML = '&nbsp;';\n\n  containerEl.appendChild(boosterEl);\n  document.body.appendChild(containerEl);\n\n  requestAnimationFrame(() => {\n    boosterEl.addEventListener('transitionend', () => {\n      containerEl.remove();\n    });\n\n    boosterEl.style.transform = '';\n  });\n}\n","import { ONE_TON } from '../config';\nimport { fromDecimal } from './decimals';\nimport { randomBytes } from './random';\n\nexport const BIGINT_PREFIX = 'bigint:';\n\nexport function bigintReviver(this: any, key: string, value: any) {\n  if (typeof value === 'string' && value.startsWith(BIGINT_PREFIX)) {\n    return BigInt(value.slice(7));\n  }\n  return value;\n}\n\nexport function bigintAbs(value: bigint) {\n  return value === -0n || value < 0n ? -value : value;\n}\n\nexport function bigintDivideToNumber(value: bigint, num: number) {\n  return (value * ONE_TON) / fromDecimal(num);\n}\n\nexport function bigintMultiplyToNumber(value: bigint, num: number) {\n  return (value * fromDecimal(num)) / ONE_TON;\n}\n\nexport function bigintRandom(bytes: number) {\n  let value = BigInt(0);\n  for (const randomNumber of randomBytes(bytes)) {\n    const randomBigInt = BigInt(randomNumber);\n    // eslint-disable-next-line no-bitwise\n    value = (value << BigInt(8)) + randomBigInt;\n  }\n  return value;\n}\n\nexport function bigintCountBits(value: bigint) {\n  const binaryString = value.toString(2);\n  return binaryString.length;\n}\n","import { BIGINT_PREFIX } from './bigint';\n\n// Fixes serialization of objects containing `bigint` values.\n// Extracted to a separate file to avoid leaking into Extension Page Script.\n// @ts-ignore\nBigInt.prototype.toJSON = function toJSON() {\n  return `${BIGINT_PREFIX}${this}`;\n};\n","type Parts = (string | false | undefined)[];\ntype PartsWithGlobals = (string | false | undefined | string[])[];\ntype ClassNameBuilder =\n  ((elementName: string, ...modifiers: PartsWithGlobals) => string)\n  & Record<string, string>;\n\nexport default function buildClassName(...parts: Parts) {\n  return parts.filter(Boolean).join(' ');\n}\n\nexport function createClassNameBuilder(componentName: string) {\n  return ((elementName: string, ...modifiers: PartsWithGlobals) => {\n    const baseName = elementName === '&' ? componentName : `${componentName}__${elementName}`;\n\n    return modifiers.reduce<string[]>((acc, modifier) => {\n      if (modifier) {\n        // A bit hacky way to pass global class names\n        if (Array.isArray(modifier)) {\n          acc.push(...modifier);\n        } else {\n          acc.push(`${baseName}--${modifier}`);\n        }\n      }\n\n      return acc;\n    }, [baseName]).join(' ');\n  }) as ClassNameBuilder;\n}\n","type Parts = (string | false | undefined)[];\n\nexport default function buildStyle(...parts: Parts) {\n  return parts.filter(Boolean).join(';');\n}\n","import { ELECTRON_HOST_URL, IS_PACKAGED_ELECTRON } from '../config';\n\n// eslint-disable-next-line no-restricted-globals\nconst cacheApi = self.caches;\n\nexport async function fetch(cacheName: string, key: string) {\n  if (!cacheApi) {\n    return undefined;\n  }\n\n  try {\n    // To avoid the error \"Request scheme 'webdocument' is unsupported\"\n    const request = IS_PACKAGED_ELECTRON\n      ? `${ELECTRON_HOST_URL}/${key.replace(/:/g, '_')}`\n      : new Request(key.replace(/:/g, '_'));\n    const cache = await cacheApi.open(cacheName);\n    const response = await cache.match(request);\n    if (!response) {\n      return undefined;\n    }\n\n    return await response.json();\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err);\n    return undefined;\n  }\n}\n\nexport async function save(cacheName: string, key: string, data: AnyLiteral | Blob | ArrayBuffer | string) {\n  if (!cacheApi) {\n    return undefined;\n  }\n\n  try {\n    const cacheData = typeof data === 'string' || data instanceof Blob || data instanceof ArrayBuffer\n      ? data\n      : JSON.stringify(data);\n    // To avoid the error \"Request scheme 'webdocument' is unsupported\"\n    const request = IS_PACKAGED_ELECTRON\n      ? `${ELECTRON_HOST_URL}/${key.replace(/:/g, '_')}`\n      : new Request(key.replace(/:/g, '_'));\n    const response = new Response(cacheData);\n\n    // To avoid the error \"Request scheme 'chrome-extension' is unsupported\"\n    // https://github.com/iamshaunjp/pwa-tutorial/issues/1\n    if (request instanceof Request && request.url.indexOf('chrome-extension') === 0) {\n      return undefined;\n    }\n\n    const cache = await cacheApi.open(cacheName);\n    return await cache.put(request, response);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err);\n    return undefined;\n  }\n}\n\nexport async function remove(cacheName: string, key: string) {\n  try {\n    if (!cacheApi) {\n      return undefined;\n    }\n\n    const cache = await cacheApi.open(cacheName);\n    return await cache.delete(key);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err);\n    return undefined;\n  }\n}\n\nexport async function clear(cacheName: string) {\n  try {\n    if (!cacheApi) {\n      return undefined;\n    }\n\n    return await cacheApi.delete(cacheName);\n  } catch (err) {\n    // eslint-disable-next-line no-console\n    console.warn(err);\n    return undefined;\n  }\n}\n","import { Big } from '../lib/big.js';\n\nexport function calcChangeValue(currentPrice: number, changeFactor: number) {\n  return currentPrice - currentPrice / (1 + changeFactor);\n}\n\nexport function calcBigChangeValue(currentPrice: Big | string, changeFactor: Big | number) {\n  currentPrice = Big(currentPrice);\n  changeFactor = Big(changeFactor);\n  return currentPrice.minus(currentPrice.div(changeFactor.plus(1)));\n}\n","export function createCallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>() {\n  const callbacks = new Set<T>();\n\n  function addCallback(cb: T) {\n    callbacks.add(cb);\n\n    return () => {\n      removeCallback(cb);\n    };\n  }\n\n  function removeCallback(cb: T) {\n    callbacks.delete(cb);\n  }\n\n  function runCallbacks(...args: Parameters<T>) {\n    callbacks.forEach((callback) => {\n      callback(...args);\n    });\n  }\n\n  function hasCallbacks() {\n    return Boolean(callbacks.size);\n  }\n\n  return {\n    runCallbacks,\n    addCallback,\n    removeCallback,\n    hasCallbacks,\n  };\n}\n\nexport type CallbackManager<T extends AnyToVoidFunction = AnyToVoidFunction>\n  = ReturnType<typeof createCallbackManager<T>>;\n\nexport class EventEmitter {\n  private channels = new Map<string, CallbackManager>();\n\n  on(name: string, handler: AnyToVoidFunction) {\n    this.resolveChannel(name).addCallback(handler);\n    return this;\n  }\n\n  removeListener(name: string, handler: AnyToVoidFunction) {\n    this.resolveChannel(name).removeCallback(handler);\n    return this;\n  }\n\n  emit(name: string, ...args: any) {\n    this.resolveChannel(name).runCallbacks(...args);\n    return this;\n  }\n\n  private resolveChannel(name: string) {\n    let channel = this.channels.get(name);\n    if (!channel) {\n      channel = createCallbackManager();\n      this.channels.set(name, channel);\n    }\n\n    return channel;\n  }\n}\n","import type { URLOpenListenerEvent } from '@capacitor/app';\nimport { App } from '@capacitor/app';\nimport { Capacitor } from '@capacitor/core';\nimport { Haptics, ImpactStyle } from '@capacitor/haptics';\nimport { StatusBar, Style } from '@capacitor/status-bar';\nimport { BiometryType, NativeBiometric } from '@capgo/capacitor-native-biometric';\nimport { NavigationBar } from '@mauricewegner/capacitor-navigation-bar';\nimport { SafeArea } from 'capacitor-plugin-safe-area';\nimport { SplashScreen } from 'capacitor-splash-screen';\n\nimport type { Theme } from '../global/types';\n\nimport { GLOBAL_STATE_CACHE_KEY, IS_CAPACITOR } from '../config';\nimport * as storageMethods from './capacitorStorageProxy/methods';\nimport { processDeeplink } from './deeplink';\nimport { pause } from './schedulers';\nimport { IS_BIOMETRIC_AUTH_SUPPORTED, IS_DELEGATED_BOTTOM_SHEET, IS_IOS } from './windowEnvironment';\n\n// Full list of options can be found at https://github.com/apache/cordova-plugin-inappbrowser#cordovainappbrowseropen\nexport const INAPP_BROWSER_OPTIONS = [\n  `location=${IS_IOS ? 'no' : 'yes'}`,\n  `lefttoright=${IS_IOS ? 'no' : 'yes'}`,\n  'usewkwebview=yes',\n  'clearcache=no',\n  'clearsessioncache=no',\n  'hidden=yes',\n  'toolbarposition=top',\n  'hidenavigationbuttons=yes',\n  'hideurlbar=no',\n  'backbuttoncaption=Back',\n  'allowInlineMediaPlayback=yes',\n].join(',');\nconst IOS_SPLASH_SCREEN_HIDE_DELAY = 500;\nconst IOS_SPLASH_SCREEN_HIDE_DURATION = 600;\nexport const VIBRATE_SUCCESS_END_PAUSE_MS = 1300;\n\nlet launchUrl: string | undefined;\nlet platform: 'ios' | 'android' | undefined;\nlet isNativeBiometricAuthSupported = false;\nlet isFaceIdAvailable = false;\nlet isTouchIdAvailable = false;\nlet statusBarHeight = 0;\n\nexport async function initCapacitor() {\n  platform = Capacitor.getPlatform() as 'ios' | 'android';\n\n  const biometricsAvailableResult = await NativeBiometric.isAvailable();\n\n  isNativeBiometricAuthSupported = biometricsAvailableResult.isAvailable;\n  isFaceIdAvailable = biometricsAvailableResult.biometryType === BiometryType.FACE_ID;\n  isTouchIdAvailable = biometricsAvailableResult.biometryType === BiometryType.TOUCH_ID;\n\n  SafeArea.getStatusBarHeight().then(({ statusBarHeight: height }) => {\n    statusBarHeight = height;\n    document.documentElement.style.setProperty('--status-bar-height', `${height}px`);\n  });\n\n  SafeArea.getSafeAreaInsets().then(({ insets: { bottom } }) => {\n    document.documentElement.style.setProperty('--safe-area-bottom', `${bottom}px`);\n  });\n\n  if (IS_DELEGATED_BOTTOM_SHEET) {\n    void SplashScreen.hide({ fadeOutDuration: 0 });\n    return;\n  }\n\n  if (platform === 'ios') {\n    setTimeout(() => {\n      void SplashScreen.hide({ fadeOutDuration: IOS_SPLASH_SCREEN_HIDE_DURATION });\n    }, IOS_SPLASH_SCREEN_HIDE_DELAY);\n  }\n\n  App.addListener('appUrlOpen', (event: URLOpenListenerEvent) => {\n    processDeeplink(event.url);\n  });\n\n  App.addListener('backButton', ({ canGoBack }) => {\n    if (canGoBack) {\n      window.history.back();\n    } else {\n      App.exitApp();\n    }\n  });\n\n  if (platform === 'android') {\n    // Until this bug is fixed, the `overlay` must be `false`\n    // https://bugs.chromium.org/p/chromium/issues/detail?id=1094366\n    void StatusBar.setOverlaysWebView({ overlay: false });\n    void NavigationBar.setTransparency({ isTransparent: false });\n  }\n\n  await SafeArea.addListener('safeAreaChanged', (data) => {\n    const { insets } = data;\n\n    for (const [key, value] of Object.entries(insets)) {\n      document.documentElement.style.setProperty(\n        `--safe-area-${key}`,\n        `${value}px`,\n      );\n    }\n  });\n\n  launchUrl = (await App.getLaunchUrl())?.url;\n\n  if (launchUrl) {\n    void processDeeplink(launchUrl);\n  }\n}\n\nexport function switchStatusBar(currentAppTheme: Theme, isSystemDark: boolean, forceDarkBackground?: boolean) {\n  if (platform !== 'ios') return;\n\n  const style = forceDarkBackground || currentAppTheme === 'dark'\n    ? Style.Dark\n    : (isSystemDark && currentAppTheme === 'system' ? Style.Dark : Style.Light);\n\n  void StatusBar.setStyle({ style });\n}\n\nexport function getLaunchUrl() {\n  return launchUrl;\n}\n\nexport function clearLaunchUrl() {\n  launchUrl = undefined;\n}\n\nexport function getStatusBarHeight() {\n  return statusBarHeight;\n}\n\nexport async function vibrate() {\n  if (!IS_CAPACITOR) return;\n\n  await Haptics.impact({ style: ImpactStyle.Light });\n}\n\nexport async function vibrateOnError() {\n  if (!IS_CAPACITOR) return;\n\n  await Haptics.impact({ style: ImpactStyle.Medium });\n  await pause(100);\n  await Haptics.impact({ style: ImpactStyle.Medium });\n  await pause(75);\n  await Haptics.impact({ style: ImpactStyle.Light });\n}\n\nexport async function vibrateOnSuccess(withPauseOnEnd = false) {\n  if (!IS_CAPACITOR) return;\n\n  await Haptics.impact({ style: ImpactStyle.Light });\n\n  if (withPauseOnEnd) {\n    await pause(VIBRATE_SUCCESS_END_PAUSE_MS);\n  }\n}\n\nexport function getIsNativeBiometricAuthSupported() {\n  return isNativeBiometricAuthSupported;\n}\n\nexport function getIsBiometricAuthSupported() {\n  return IS_BIOMETRIC_AUTH_SUPPORTED || getIsNativeBiometricAuthSupported();\n}\n\nexport function getIsFaceIdAvailable() {\n  return isFaceIdAvailable;\n}\n\nexport function getIsTouchIdAvailable() {\n  return isTouchIdAvailable;\n}\n\nexport async function fixIosAppStorage() {\n  await storageMethods.init();\n\n  const isLocalStorageDataExists = Boolean(window.localStorage.getItem(GLOBAL_STATE_CACHE_KEY));\n  const isApiStorageDataExists = Boolean(await storageMethods.getItem('accounts'));\n\n  if (isLocalStorageDataExists && !isApiStorageDataExists) {\n    window.localStorage.clear();\n  }\n\n  if (!isLocalStorageDataExists && isApiStorageDataExists) {\n    await storageMethods.clear();\n  }\n}\n","import type { WindowMethods } from './types';\n\nimport { WINDOW_PROVIDER_CHANNEL } from '../../config';\nimport { createPostMessageInterface } from '../createPostMessageInterface';\nimport * as windowMethods from './methods';\n\nexport function createWindowProvider(worker: Worker) {\n  createPostMessageInterface((name: string, origin?: string, ...args: any[]) => {\n    const method = windowMethods[name as keyof WindowMethods];\n\n    // @ts-ignore\n    return method(...args as WindowMethodArgs<keyof WindowMethods>);\n  }, WINDOW_PROVIDER_CHANNEL, worker, true);\n}\n","import type { SecureStoragePluginPlugin } from 'capacitor-secure-storage-plugin';\n\nimport type { StorageKey } from '../../api/storages/types';\n\nlet SecureStoragePlugin: SecureStoragePluginPlugin | undefined;\nlet resolvePromise: AnyFunction;\n\nconst promise = new Promise((resolve) => {\n  resolvePromise = resolve;\n});\n\nexport async function init() {\n  if (SecureStoragePlugin) return;\n  ({ SecureStoragePlugin } = await import(\n    /* webpackChunkName: \"capacitorSecureStorage\" */ 'capacitor-secure-storage-plugin'\n  ));\n  resolvePromise();\n}\n\nexport async function getItem(key: StorageKey) {\n  await promise;\n  return (await SecureStoragePlugin!.get({ key }).catch((err) => {\n    const message = typeof err === 'string' ? err : err.message;\n    if (message.includes('key does not exist')) {\n      return undefined;\n    } else {\n      throw err;\n    }\n  }))?.value;\n}\n\nexport async function setItem(key: StorageKey, value: string) {\n  await promise;\n  return SecureStoragePlugin!.set({ key, value });\n}\n\nexport async function removeItem(key: StorageKey) {\n  await promise;\n  return SecureStoragePlugin!.remove({ key });\n}\n\nexport async function clear() {\n  await promise;\n  return SecureStoragePlugin!.clear();\n}\n\nexport async function keys() {\n  await promise;\n  return SecureStoragePlugin!.keys();\n}\n","import captureKeyboardListener from './captureKeyboardListeners';\n\ntype IHandlerFunction = () => void;\n\nexport default function captureEscKeyListener(handler: IHandlerFunction) {\n  return captureKeyboardListener({ onEsc: handler });\n}\n","import { Lethargy } from './lethargy';\nimport { clamp, round } from './math';\nimport { debounce } from './schedulers';\nimport { IS_IOS, IS_WINDOWS } from './windowEnvironment';\nimport windowSize from './windowSize';\n\nexport enum SwipeDirection {\n  Up,\n  Down,\n  Left,\n  Right,\n}\n\nexport interface MoveOffsets {\n  dragOffsetX: number;\n  dragOffsetY: number;\n}\n\ninterface CaptureOptions {\n  onCapture?: (e: MouseEvent | TouchEvent | WheelEvent) => void;\n  onRelease?: (e: MouseEvent | TouchEvent | WheelEvent) => void;\n  onDrag?: (\n    e: MouseEvent | TouchEvent | WheelEvent,\n    captureEvent: MouseEvent | TouchEvent | WheelEvent,\n    offsets: MoveOffsets,\n    cancelDrag?: (x: boolean, y: boolean) => void,\n  ) => void;\n  onSwipe?: (e: Event, direction: SwipeDirection, offsets: MoveOffsets) => boolean;\n  onZoom?: (e: TouchEvent | WheelEvent, params: {\n    // Absolute zoom level\n    zoom?: number;\n    // Relative zoom factor\n    zoomFactor?: number;\n\n    // center coordinate of the initial pinch\n    initialCenterX: number;\n    initialCenterY: number;\n\n    // offset of the pinch center (current from initial)\n    dragOffsetX: number;\n    dragOffsetY: number;\n\n    // center coordinate of the current pinch\n    currentCenterX: number;\n    currentCenterY: number;\n  }) => void;\n  onClick?: (e: MouseEvent | TouchEvent) => void;\n  onDoubleClick?: (e: MouseEvent | RealTouchEvent | WheelEvent, params: { centerX: number; centerY: number }) => void;\n  excludedClosestSelector?: string;\n  includedClosestSelector?: string;\n  selectorToPreventScroll?: string;\n  withNativeDrag?: boolean;\n  maxZoom?: number;\n  minZoom?: number;\n  doubleTapZoom?: number;\n  initialZoom?: number;\n  isNotPassive?: boolean;\n  withCursor?: boolean;\n  swipeThreshold?: number;\n  withWheelDrag?: boolean;\n}\n\n// https://stackoverflow.com/questions/11287877/how-can-i-get-e-offsetx-on-mobile-ipad\n// Android does not have this value, and iOS has it but as read-only\nexport interface RealTouchEvent extends TouchEvent {\n  pageX?: number;\n  pageY?: number;\n}\n\ntype TSwipeAxis =\n  'x'\n  | 'y'\n  | undefined;\n\nexport const IOS_SCREEN_EDGE_THRESHOLD = 20;\nexport const SWIPE_DIRECTION_THRESHOLD = 10;\nexport const SWIPE_DIRECTION_TOLERANCE = 1.5;\n\nconst MOVE_THRESHOLD = 15;\nconst SWIPE_THRESHOLD_DEFAULT = 20;\nconst RELEASE_WHEEL_ZOOM_DELAY = 150;\nconst RELEASE_WHEEL_DRAG_DELAY = 150;\n\nfunction getDistance(a: Touch, b?: Touch) {\n  if (!b) return 0;\n  return Math.hypot((b.pageX - a.pageX), (b.pageY - a.pageY));\n}\n\nfunction getTouchCenter(a: Touch, b: Touch) {\n  return {\n    x: (a.pageX + b.pageX) / 2,\n    y: (a.pageY + b.pageY) / 2,\n  };\n}\n\nlet lastClickTime = 0;\nconst lethargy = new Lethargy({\n  stability: 5,\n  sensitivity: 25,\n  tolerance: IS_WINDOWS ? 1 : 0.6, // Windows `scrollDelta` does not die down to 0\n  delay: 150,\n});\n\nexport function captureEvents(element: HTMLElement, options: CaptureOptions) {\n  let captureEvent: MouseEvent | RealTouchEvent | WheelEvent | undefined;\n  let hasMoved = false;\n  let hasSwiped = false;\n  let isZooming = false;\n  let initialDistance = 0;\n  let wheelZoom = options.initialZoom ?? 1;\n  let initialDragOffset = {\n    x: 0,\n    y: 0,\n  };\n  let isDragCanceled = {\n    x: false,\n    y: false,\n  };\n  const currentWindowSize = windowSize.get();\n  let initialTouchCenter = {\n    x: currentWindowSize.width / 2,\n    y: currentWindowSize.height / 2,\n  };\n  let initialSwipeAxis: TSwipeAxis | undefined;\n  const minZoom = options.minZoom ?? 1;\n  const maxZoom = options.maxZoom ?? 4;\n\n  function onCapture(e: MouseEvent | RealTouchEvent) {\n    const target = e.target as HTMLElement;\n    const {\n      excludedClosestSelector,\n      includedClosestSelector,\n      withNativeDrag,\n      withCursor,\n      onDrag,\n    } = options;\n\n    if (element !== target && !element.contains(target)) {\n      return;\n    }\n\n    if (target.tagName === 'INPUT' || target.tagName === 'TEXTAREA') {\n      return;\n    }\n\n    if (\n      (excludedClosestSelector && (target.matches(excludedClosestSelector) || target.closest(excludedClosestSelector)))\n      || (\n        includedClosestSelector && !(target.matches(includedClosestSelector) || target.closest(includedClosestSelector))\n      )\n    ) {\n      return;\n    }\n\n    captureEvent = e;\n\n    if (e.type === 'mousedown') {\n      if (!withNativeDrag && onDrag) {\n        e.preventDefault();\n      }\n\n      document.addEventListener('mousemove', onMove);\n      document.addEventListener('mouseup', onRelease);\n    } else if (e.type === 'touchstart') {\n      // We need to always listen on `touchstart` target:\n      // https://stackoverflow.com/questions/33298828/touch-move-event-dont-fire-after-touch-start-target-is-removed\n      target.addEventListener('touchmove', onMove, { passive: true });\n      target.addEventListener('touchend', onRelease, { passive: true });\n      target.addEventListener('touchcancel', onRelease, { passive: true });\n\n      if ('touches' in e) {\n        if (e.pageX === undefined) {\n          e.pageX = e.touches[0].pageX;\n        }\n\n        if (e.pageY === undefined) {\n          e.pageY = e.touches[0].pageY;\n        }\n\n        if (e.touches.length === 2) {\n          initialDistance = getDistance(e.touches[0], e.touches[1]);\n          initialTouchCenter = getTouchCenter(e.touches[0], e.touches[1]);\n        }\n      }\n    }\n\n    if (withCursor) {\n      document.body.classList.add('cursor-grabbing');\n    }\n\n    options.onCapture?.(e);\n  }\n\n  function onRelease(e?: MouseEvent | TouchEvent) {\n    if (captureEvent) {\n      if (options.withCursor) {\n        document.body.classList.remove('cursor-grabbing');\n      }\n\n      document.removeEventListener('mouseup', onRelease);\n      document.removeEventListener('mousemove', onMove);\n      (captureEvent.target as HTMLElement).removeEventListener('touchcancel', onRelease);\n      (captureEvent.target as HTMLElement).removeEventListener('touchend', onRelease);\n      (captureEvent.target as HTMLElement).removeEventListener('touchmove', onMove);\n\n      if (IS_IOS && options.selectorToPreventScroll) {\n        Array.from(document.querySelectorAll<HTMLElement>(options.selectorToPreventScroll))\n          .forEach((scrollable) => {\n            scrollable.style.overflow = '';\n          });\n      }\n\n      if (e) {\n        if (hasMoved) {\n          if (options.onRelease) {\n            options.onRelease(e);\n          }\n        } else if (e.type === 'mouseup') {\n          if (options.onDoubleClick && Date.now() - lastClickTime < 300) {\n            options.onDoubleClick(e, {\n              centerX: captureEvent!.pageX!,\n              centerY: captureEvent!.pageY!,\n            });\n          } else if (options.onClick && (!('button' in e) || e.button === 0)) {\n            options.onClick(e);\n          }\n          lastClickTime = Date.now();\n        }\n      }\n    }\n\n    hasMoved = false;\n    hasSwiped = false;\n    isZooming = false;\n    initialDistance = 0;\n    wheelZoom = clamp(wheelZoom, minZoom, maxZoom);\n    initialSwipeAxis = undefined;\n    initialDragOffset = {\n      x: 0,\n      y: 0,\n    };\n    isDragCanceled = {\n      x: false,\n      y: false,\n    };\n    const newWindowSize = windowSize.get();\n    initialTouchCenter = {\n      x: newWindowSize.width / 2,\n      y: newWindowSize.height / 2,\n    };\n    captureEvent = undefined;\n  }\n\n  function onMove(e: MouseEvent | RealTouchEvent) {\n    if (captureEvent) {\n      if (e.type === 'touchmove' && ('touches' in e)) {\n        if (e.pageX === undefined) {\n          e.pageX = e.touches[0].pageX;\n        }\n\n        if (e.pageY === undefined) {\n          e.pageY = e.touches[0].pageY;\n        }\n\n        if (options.onZoom && initialDistance > 0 && e.touches.length === 2) {\n          const endDistance = getDistance(e.touches[0], e.touches[1]);\n          const touchCenter = getTouchCenter(e.touches[0], e.touches[1]);\n          const dragOffsetX = touchCenter.x - initialTouchCenter.x;\n          const dragOffsetY = touchCenter.y - initialTouchCenter.y;\n          const zoomFactor = endDistance / initialDistance;\n          options.onZoom(e, {\n            zoomFactor,\n            initialCenterX: initialTouchCenter.x,\n            initialCenterY: initialTouchCenter.y,\n            dragOffsetX,\n            dragOffsetY,\n            currentCenterX: touchCenter.x,\n            currentCenterY: touchCenter.y,\n          });\n          if (zoomFactor !== 1) hasMoved = true;\n        }\n      }\n\n      const dragOffsetX = e.pageX! - captureEvent.pageX!;\n      const dragOffsetY = e.pageY! - captureEvent.pageY!;\n\n      if (Math.abs(dragOffsetX) >= MOVE_THRESHOLD || Math.abs(dragOffsetY) >= MOVE_THRESHOLD) {\n        hasMoved = true;\n      }\n\n      let shouldPreventScroll = false;\n\n      if (options.onDrag) {\n        options.onDrag(e, captureEvent, {\n          dragOffsetX,\n          dragOffsetY,\n        });\n        shouldPreventScroll = true;\n      }\n\n      if (options.onSwipe && !hasSwiped) {\n        hasSwiped = onSwipe(e, dragOffsetX, dragOffsetY);\n        shouldPreventScroll = hasSwiped;\n      }\n\n      if (IS_IOS && shouldPreventScroll && options.selectorToPreventScroll) {\n        Array.from(document.querySelectorAll<HTMLElement>(options.selectorToPreventScroll))\n          .forEach((scrollable) => {\n            scrollable.style.overflow = 'hidden';\n          });\n      }\n    }\n  }\n\n  function onSwipe(e: MouseEvent | RealTouchEvent, dragOffsetX: number, dragOffsetY: number) {\n    // Avoid conflicts with swipe-to-back gestures\n    if (IS_IOS) {\n      const x = (e as RealTouchEvent).touches[0].pageX;\n      if (x <= IOS_SCREEN_EDGE_THRESHOLD || x >= windowSize.get().width - IOS_SCREEN_EDGE_THRESHOLD) {\n        return false;\n      }\n    }\n\n    const xAbs = Math.abs(dragOffsetX);\n    const yAbs = Math.abs(dragOffsetY);\n    const threshold = options.swipeThreshold ?? SWIPE_THRESHOLD_DEFAULT;\n\n    let axis: TSwipeAxis | undefined;\n    if (xAbs > yAbs && xAbs >= threshold) {\n      axis = 'x';\n    } else if (yAbs > xAbs && yAbs >= threshold) {\n      axis = 'y';\n    }\n\n    if (!axis) {\n      return false;\n    }\n\n    if (!initialSwipeAxis) {\n      initialSwipeAxis = axis;\n    } else if (initialSwipeAxis !== axis) {\n      // Prevent horizontal swipe after vertical to prioritize scroll\n      return false;\n    }\n\n    return processSwipe(e, axis, dragOffsetX, dragOffsetY, options.onSwipe!);\n  }\n\n  const releaseWheelDrag = debounce(onRelease, RELEASE_WHEEL_DRAG_DELAY, false);\n  const releaseWheelZoom = debounce(onRelease, RELEASE_WHEEL_ZOOM_DELAY, false);\n\n  function onWheelCapture(e: WheelEvent) {\n    if (hasMoved) return;\n    onCapture(e);\n    hasMoved = true;\n    initialTouchCenter = { x: e.x, y: e.y };\n  }\n\n  function onWheelZoom(e: WheelEvent) {\n    if (!options.onZoom) return;\n    onWheelCapture(e);\n    const dragOffsetX = e.x - initialTouchCenter.x;\n    const dragOffsetY = e.y - initialTouchCenter.y;\n    const delta = clamp(e.deltaY, -25, 25);\n    wheelZoom -= delta * 0.01;\n    wheelZoom = clamp(wheelZoom, minZoom * 0.5, maxZoom * 3);\n    isZooming = true;\n    options.onZoom(e, {\n      zoom: round(wheelZoom, 2),\n      initialCenterX: initialTouchCenter.x,\n      initialCenterY: initialTouchCenter.y,\n      dragOffsetX,\n      dragOffsetY,\n      currentCenterX: e.x,\n      currentCenterY: e.y,\n    });\n    releaseWheelZoom(e);\n  }\n\n  function onWheelDrag(e: WheelEvent) {\n    if (!options.onDrag) return;\n    onWheelCapture(e);\n    // Ignore wheel inertia if drag is canceled in this direction\n    if (!isDragCanceled.x || Math.sign(initialDragOffset.x) === Math.sign(e.deltaX)) {\n      initialDragOffset.x -= e.deltaX;\n    }\n    if (!isDragCanceled.y || Math.sign(initialDragOffset.y) === Math.sign(e.deltaY)) {\n      initialDragOffset.y -= e.deltaY;\n    }\n    const { x, y } = initialDragOffset;\n    options.onDrag(e, captureEvent!, {\n      dragOffsetX: x,\n      dragOffsetY: y,\n    }, (dx, dy) => {\n      isDragCanceled = { x: dx, y: dy };\n    });\n    releaseWheelDrag(e);\n  }\n\n  function onWheel(e: WheelEvent) {\n    if (!options.onZoom && !options.onDrag) return;\n    if (options.excludedClosestSelector && (\n      (e.target as HTMLElement).matches(options.excludedClosestSelector)\n      || (e.target as HTMLElement).closest(options.excludedClosestSelector)\n    )) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n    const { doubleTapZoom = 3 } = options;\n    if (options.onDoubleClick && Object.is(e.deltaX, -0) && Object.is(e.deltaY, -0) && e.ctrlKey) {\n      onWheelCapture(e);\n      wheelZoom = wheelZoom > 1 ? 1 : doubleTapZoom;\n      options.onDoubleClick(e, { centerX: e.pageX, centerY: e.pageY });\n      hasMoved = false;\n      return;\n    }\n    const metaKeyPressed = e.metaKey || e.ctrlKey || e.shiftKey;\n    if (metaKeyPressed) {\n      onWheelZoom(e);\n    }\n    if (!metaKeyPressed && !isZooming) {\n      // Check if this event produced by user scroll and not by inertia\n      const isUserEvent = lethargy.check(e);\n      if (wheelZoom !== 1 || isUserEvent) {\n        onWheelDrag(e);\n      }\n    }\n  }\n\n  if (options.withWheelDrag) {\n    element.addEventListener('wheel', onWheel);\n  }\n\n  element.addEventListener('mousedown', onCapture);\n  document.body.addEventListener('touchstart', onCapture, { passive: !options.isNotPassive });\n\n  return () => {\n    onRelease();\n    document.body.removeEventListener('touchstart', onCapture);\n    element.removeEventListener('mousedown', onCapture);\n    element.removeEventListener('wheel', onWheel);\n  };\n}\n\nfunction processSwipe(\n  e: Event,\n  currentSwipeAxis: TSwipeAxis,\n  dragOffsetX: number,\n  dragOffsetY: number,\n  onSwipe: (e: Event, direction: SwipeDirection, offsets: MoveOffsets) => boolean,\n) {\n  const offsets = { dragOffsetX, dragOffsetY };\n\n  if (currentSwipeAxis === 'x') {\n    if (dragOffsetX < 0) {\n      return onSwipe(e, SwipeDirection.Left, offsets);\n    } else {\n      return onSwipe(e, SwipeDirection.Right, offsets);\n    }\n  } else if (currentSwipeAxis === 'y') {\n    if (dragOffsetY < 0) {\n      return onSwipe(e, SwipeDirection.Up, offsets);\n    } else {\n      return onSwipe(e, SwipeDirection.Down, offsets);\n    }\n  }\n\n  return false;\n}\n","type HandlerName = 'onEnter' | 'onBackspace' | 'onDelete' | 'onEsc' | 'onUp' | 'onDown' | 'onLeft' | 'onRight'\n| 'onTab';\ntype Handler = (e: KeyboardEvent) => void;\ntype CaptureOptions = Partial<Record<HandlerName, Handler>>;\n\nconst keyToHandlerName: Record<string, HandlerName> = {\n  Enter: 'onEnter',\n  Backspace: 'onBackspace',\n  Delete: 'onDelete',\n  Esc: 'onEsc',\n  Escape: 'onEsc',\n  ArrowUp: 'onUp',\n  ArrowDown: 'onDown',\n  ArrowLeft: 'onLeft',\n  ArrowRight: 'onRight',\n  Tab: 'onTab',\n};\n\nconst handlers: Record<HandlerName, Handler[]> = {\n  onEnter: [],\n  onDelete: [],\n  onBackspace: [],\n  onEsc: [],\n  onUp: [],\n  onDown: [],\n  onLeft: [],\n  onRight: [],\n  onTab: [],\n};\n\nexport default function captureKeyboardListeners(options: CaptureOptions) {\n  if (!hasActiveHandlers()) {\n    document.addEventListener('keydown', handleKeyDown, true);\n  }\n\n  (Object.keys(options) as Array<HandlerName>).forEach((handlerName) => {\n    const handler = options[handlerName];\n    if (!handler) {\n      return;\n    }\n\n    const currentEventHandlers = handlers[handlerName];\n    if (currentEventHandlers) {\n      currentEventHandlers.push(handler);\n    }\n  });\n\n  return () => {\n    releaseKeyboardListener(options);\n  };\n}\n\nfunction hasActiveHandlers() {\n  return Object.values(handlers).some((keyHandlers) => Boolean(keyHandlers.length));\n}\n\nfunction handleKeyDown(e: KeyboardEvent) {\n  const handlerName = keyToHandlerName[e.key];\n  if (!handlerName) {\n    return;\n  }\n\n  const { length } = handlers[handlerName];\n  if (!length) {\n    return;\n  }\n  e.stopPropagation();\n\n  const handler = handlers[handlerName][length - 1];\n  handler!(e);\n}\n\nfunction releaseKeyboardListener(options: CaptureOptions) {\n  (Object.keys(options) as Array<HandlerName>).forEach((handlerName) => {\n    const handler = options[handlerName];\n    const currentEventHandlers = handlers[handlerName];\n    if (currentEventHandlers) {\n      const index = currentEventHandlers.findIndex((cb) => cb === handler);\n      if (index !== -1) {\n        currentEventHandlers.splice(index, 1);\n      }\n    }\n  });\n\n  if (!hasActiveHandlers()) {\n    document.removeEventListener('keydown', handleKeyDown, false);\n  }\n}\n","import { Clipboard } from '@capacitor/clipboard';\n\nimport { IS_CAPACITOR } from '../config';\nimport { vibrate } from './capacitor';\n\nconst textCopyEl = document.createElement('textarea');\ntextCopyEl.setAttribute('readonly', '');\ntextCopyEl.tabIndex = -1;\ntextCopyEl.className = 'visually-hidden';\n\nexport const copyTextToClipboard = (str: string): Promise<void> => {\n  if (IS_CAPACITOR) {\n    void vibrate();\n    return Clipboard.write({\n      string: str,\n    });\n  }\n  return navigator.clipboard.writeText(str);\n};\n\nexport async function readClipboardContent() {\n  if (IS_CAPACITOR) {\n    const { value, type } = await Clipboard.read();\n    void vibrate();\n    return { text: value, type };\n  } else {\n    const text = await navigator.clipboard.readText();\n    return { text, type: 'text/plain' };\n  }\n}\n","export type RGBColor = [number, number, number];\n\nexport function hex2rgb(param: string): RGBColor {\n  const hex = param.replace('#', '');\n  return [\n    parseInt(hex.substring(0, 2), 16),\n    parseInt(hex.substring(2, 4), 16),\n    parseInt(hex.substring(4, 6), 16),\n  ];\n}\n\nexport function euclideanDistance(color1: RGBColor, color2: RGBColor): number {\n  const r = 0.3 * ((color1[0] - color2[0]) ** 2);\n  const g = 0.59 * ((color1[1] - color2[1]) ** 2);\n  const b = 0.11 * ((color1[2] - color2[2]) ** 2);\n\n  return Math.sqrt(r + g + b);\n}\n\nfunction rgbToLab(rgb: RGBColor): RGBColor {\n  let [r, g, b] = rgb.map((value) => value / 255);\n  [r, g, b] = [r, g, b].map((value) => (value > 0.04045 ? ((value + 0.055) / 1.055) ** 2.4 : value / 12.92));\n\n  let x = r * 0.4124 + g * 0.3576 + b * 0.1805;\n  let y = r * 0.2126 + g * 0.7152 + b * 0.0722;\n  let z = r * 0.0193 + g * 0.1192 + b * 0.9505;\n\n  [x, y, z] = [x / 0.95047, y, z / 1.08883].map(\n    (value) => (value > 0.008856 ? value ** (1 / 3) : (7.787 * value) + 16 / 116),\n  );\n\n  return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)];\n}\n\n/**\n * Calculates the perceptual difference between two RGB colors.\n *\n * Delta E is a metric for understanding how the human eye perceives color difference.\n * The following table provides a general guideline:\n *\n * Delta E  |  Perception\n * ---------|-------------------------------------------\n * <= 1.0   | Not perceptible by human eyes.\n * 1 - 2    | Perceptible through close observation.\n * 2 - 10   | Perceptible at a glance.\n * 11 - 49  | Colors are more similar than opposite.\n * 100      | Colors are exact opposite.\n *\n * @param rgbA The first color as an RGB array.\n * @param rgbB The second color as an RGB array.\n * @returns The Delta E value representing the color difference.\n */\nexport function deltaE(rgbA: RGBColor, rgbB: RGBColor): number {\n  const [l1, a1, b1] = rgbToLab(rgbA);\n  const [l2, a2, b2] = rgbToLab(rgbB);\n\n  const c1 = Math.sqrt(a1 * a1 + b1 * b1);\n  const c2 = Math.sqrt(a2 * a2 + b2 * b2);\n  const deltaC = c1 - c2;\n\n  const deltaL = l1 - l2;\n  const deltaA = a1 - a2;\n  const deltaB = b1 - b2;\n\n  const deltaH = Math.sqrt(deltaA * deltaA + deltaB * deltaB - deltaC * deltaC);\n\n  const sl = 1.0;\n  const sc = 1.0 + 0.045 * c1;\n  const sh = 1.0 + 0.015 * c1;\n\n  const deltaLKlsl = deltaL / sl;\n  const deltaCkcsc = deltaC / sc;\n  const deltaHkhsh = deltaH / sh;\n\n  return Math.sqrt(deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh);\n}\n","import type { ApiActivity } from '../api/types';\n\nexport function compareActivities(a: ApiActivity, b: ApiActivity, isAsc = false) {\n  let value = a.timestamp - b.timestamp;\n  if (value === 0) {\n    value = a.id > b.id ? 1 : a.id < b.id ? -1 : 0;\n  }\n  return isAsc ? value : -value;\n}\n","import type {\n  ApiUpdate,\n  CancellableCallback, OriginMessageData, OriginMessageEvent, WorkerMessageData,\n} from './PostMessageConnector';\n\nimport { DETACHED_TAB_URL } from './ledger/tab';\nimport { bigintReviver } from './bigint';\nimport { logDebugError } from './logs';\n\ndeclare const self: WorkerGlobalScope;\n\nconst callbackState = new Map<string, CancellableCallback>();\n\ntype ApiConfig =\n  ((name: string, ...args: any[]) => any | [any, ArrayBuffer[]])\n  | Record<string, Function>;\ntype SendToOrigin = (data: WorkerMessageData, transferables?: Transferable[]) => void;\n\nexport function createPostMessageInterface(\n  api: ApiConfig,\n  channel?: string,\n  target: DedicatedWorkerGlobalScope | Worker = self as DedicatedWorkerGlobalScope,\n  shouldIgnoreErrors?: boolean,\n) {\n  function sendToOrigin(data: WorkerMessageData, transferables?: Transferable[]) {\n    data.channel = channel;\n\n    if (transferables) {\n      target.postMessage(data, transferables);\n    } else {\n      target.postMessage(data);\n    }\n  }\n\n  if (!shouldIgnoreErrors) {\n    handleErrors(sendToOrigin);\n  }\n\n  target.onmessage = (message: OriginMessageEvent) => {\n    if (message.data?.channel === channel) {\n      onMessage(api, message.data, sendToOrigin);\n    }\n  };\n}\n\nexport function createExtensionInterface(\n  portName: string,\n  api: ApiConfig,\n  channel?: string,\n  cleanUpdater?: (onUpdate: (update: ApiUpdate) => void) => void,\n  withAutoInit = false,\n) {\n  chrome.runtime.onConnect.addListener((port) => {\n    if (port.name !== portName) {\n      return;\n    }\n\n    /**\n     * If the sender's URL includes the DETACHED_TAB_URL, we skip further processing\n     * This condition ensures that we don't interact with tabs that have already been closed.\n     */\n    const url = port.sender?.url;\n    if (url?.includes(DETACHED_TAB_URL)) {\n      return;\n    }\n\n    const origin = url ? new URL(url).origin : undefined;\n\n    const dAppUpdater = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n\n    function sendToOrigin(data: WorkerMessageData) {\n      data.channel = channel;\n      const json = JSON.stringify(data);\n      port.postMessage(json);\n    }\n\n    handleErrors(sendToOrigin);\n\n    port.onMessage.addListener((data: OriginMessageData | string) => {\n      if (typeof data === 'string') {\n        data = JSON.parse(data, bigintReviver) as OriginMessageData;\n      }\n      if (data.channel === channel) {\n        onMessage(api, data, sendToOrigin, dAppUpdater, origin);\n      }\n    });\n\n    port.onDisconnect.addListener(() => {\n      cleanUpdater?.(dAppUpdater);\n    });\n\n    if (withAutoInit) {\n      onMessage(api, { type: 'init', name: 'init', args: [] }, sendToOrigin, dAppUpdater);\n    }\n  });\n}\n\nasync function onMessage(\n  api: ApiConfig,\n  data: OriginMessageData,\n  sendToOrigin: SendToOrigin,\n  onUpdate?: (update: ApiUpdate) => void,\n  origin?: string,\n) {\n  if (!onUpdate) {\n    onUpdate = (update: ApiUpdate) => {\n      sendToOrigin({\n        type: 'update',\n        update,\n      });\n    };\n  }\n\n  switch (data.type) {\n    case 'init': {\n      const { args } = data;\n      const promise = typeof api === 'function'\n        ? api('init', origin, onUpdate, ...args)\n        : api.init?.(onUpdate, ...args);\n      await promise;\n\n      break;\n    }\n    case 'callMethod': {\n      const {\n        messageId, name, args, withCallback,\n      } = data;\n      try {\n        if (messageId && withCallback) {\n          const callback = (...callbackArgs: any[]) => {\n            const lastArg = callbackArgs[callbackArgs.length - 1];\n\n            sendToOrigin({\n              type: 'methodCallback',\n              messageId,\n              callbackArgs,\n            }, isTransferable(lastArg) ? [lastArg] : undefined);\n          };\n\n          callbackState.set(messageId, callback);\n\n          args.push(callback as never);\n        }\n\n        const response = typeof api === 'function'\n          ? await api(name, origin, ...args)\n          : await api[name](...args);\n        const { arrayBuffer } = (typeof response === 'object' && 'arrayBuffer' in response && response) || {};\n\n        if (messageId) {\n          sendToOrigin(\n            {\n              type: 'methodResponse',\n              messageId,\n              response,\n            },\n            arrayBuffer ? [arrayBuffer] : undefined,\n          );\n        }\n      } catch (err: any) {\n        logDebugError(name, err);\n\n        if (messageId) {\n          sendToOrigin({\n            type: 'methodResponse',\n            messageId,\n            error: { message: err.message },\n          });\n        }\n      }\n\n      if (messageId) {\n        callbackState.delete(messageId);\n      }\n\n      break;\n    }\n    case 'cancelProgress': {\n      const callback = callbackState.get(data.messageId);\n      if (callback) {\n        callback.isCanceled = true;\n      }\n\n      break;\n    }\n  }\n}\n\nfunction isTransferable(obj: any) {\n  return obj instanceof ArrayBuffer || obj instanceof ImageBitmap;\n}\n\nfunction handleErrors(sendToOrigin: SendToOrigin) {\n  self.onerror = (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.error?.message || 'Uncaught exception in worker' } });\n  };\n\n  self.addEventListener('unhandledrejection', (e) => {\n    // eslint-disable-next-line no-console\n    console.error(e);\n    sendToOrigin({ type: 'unhandledError', error: { message: e.reason?.message || 'Uncaught rejection in worker' } });\n  });\n}\n","// Sometimes event is fired earlier than animation completes\nconst ANIMATION_END_DELAY = 50;\n\nexport function waitForTransitionEnd(\n  node: Node, handler: NoneToVoidFunction, propertyName?: string, fallbackMs?: number,\n) {\n  return waitForEndEvent('transitionend', node, handler, propertyName, fallbackMs);\n}\n\nexport function waitForAnimationEnd(\n  node: Node, handler: NoneToVoidFunction, animationName?: string, fallbackMs?: number,\n) {\n  return waitForEndEvent('animationend', node, handler, animationName, fallbackMs);\n}\n\nfunction waitForEndEvent(\n  eventType: 'transitionend' | 'animationend',\n  node: Node,\n  handler: NoneToVoidFunction,\n  detailedName?: string,\n  fallbackMs?: number,\n) {\n  let isHandled = false;\n\n  function cleanup() {\n    node.removeEventListener(eventType, handleAnimationEnd);\n  }\n\n  function handleAnimationEnd(e: TransitionEvent | AnimationEvent | Event) {\n    if (isHandled || e.target !== e.currentTarget) {\n      return;\n    }\n\n    if (detailedName && (\n      (e instanceof TransitionEvent && e.propertyName === detailedName)\n      || (e instanceof AnimationEvent && e.animationName === detailedName)\n    )) {\n      return;\n    }\n\n    isHandled = true;\n\n    cleanup();\n\n    setTimeout(() => {\n      handler();\n    }, ANIMATION_END_DELAY);\n  }\n\n  node.addEventListener(eventType, handleAnimationEnd);\n\n  if (fallbackMs) {\n    setTimeout(() => {\n      if (isHandled) return;\n\n      cleanup();\n\n      handler();\n    }, fallbackMs);\n  }\n\n  return cleanup;\n}\n","export default function cssColorToHex(cssColor: string) {\n  if (/^#[0-9A-F]{6}$/i.test(cssColor)) return cssColor;\n\n  return `#${cssColor.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+\\.{0,1}\\d*))?\\)$/)!\n    .slice(1)\n    .map((n: string, i: number) => (i === 3 ? Math.round(parseFloat(n) * 255) : parseFloat(n))\n      .toString(16)\n      .padStart(2, '0')\n      .replace('NaN', ''))\n    .join('')}`;\n}\n","import type { LangCode } from '../global/types';\nimport type { LangFn } from './langProvider';\n\nimport withCache from './withCache';\n\nconst formatDayToStringWithCache = withCache((\n  langCode: LangCode,\n  dayStartAt: number,\n  noYear?: boolean,\n  monthFormat: 'short' | 'long' | 'numeric' | false = 'short',\n  noDay?: boolean,\n  withTime = false,\n) => {\n  return new Date(dayStartAt).toLocaleString(\n    langCode,\n    {\n      year: noYear ? undefined : 'numeric',\n      month: monthFormat || undefined,\n      day: noDay ? undefined : 'numeric',\n      hour: withTime ? 'numeric' : undefined,\n      minute: withTime ? 'numeric' : undefined,\n      hourCycle: 'h23',\n    },\n  );\n});\n\nexport function formatRelativeHumanDateTime(\n  langCode: LangCode = 'en',\n  time: number,\n) {\n  const total = time - Date.now();\n  const minutes = Math.floor((total / 1000 / 60) % 60);\n  const hours = Math.floor((total / (1000 * 3600)) % 24);\n  const days = Math.floor(total / 1000 / 3600 / 24);\n\n  const rtf = new Intl.RelativeTimeFormat(langCode, {\n    localeMatcher: 'best fit',\n    numeric: 'always',\n    style: 'long',\n  });\n\n  const result: string[] = [];\n\n  if (days > 0) {\n    const [daysPlural, daysValue] = rtf.formatToParts(days, 'day').reverse();\n    result.push(`${daysValue.value}${daysPlural.value}`);\n  }\n  if (hours > 0) {\n    const [hoursPlural, hoursValue] = rtf.formatToParts(hours, 'hour').reverse();\n    result.push(`${hoursValue.value}${hoursPlural.value}`);\n  }\n  if (minutes > 0) {\n    const [minutesPlural, minutesValue] = rtf.formatToParts(minutes, 'minute').reverse();\n    result.push(`${minutesValue.value}${minutesPlural.value}`);\n  }\n\n  return result.join(' ');\n}\n\nexport function formatHumanDay(lang: LangFn, datetime: string | number) {\n  if (isToday(datetime)) {\n    return lang('Today');\n  }\n\n  if (isYesterday(datetime)) {\n    return lang('Yesterday');\n  }\n\n  return formatFullDay(lang.code!, datetime);\n}\n\nexport function formatFullDay(langCode: LangCode, datetime: string | number | Date) {\n  const date = new Date(datetime);\n  const dayStartAt = getDayStartAt(date);\n  const today = getDayStart(new Date());\n  const noYear = date.getFullYear() === today.getFullYear();\n\n  return formatDayToStringWithCache(langCode, dayStartAt, noYear, 'long');\n}\n\nexport function formatShortDay(langCode: LangCode, datetime: string | number | Date, withTime = false, noYear = false) {\n  const date = new Date(datetime);\n  const dayStartAt = getDayStartAt(date);\n  const today = getDayStart(new Date());\n  const todayStartAt = getDayStartAt(today);\n  const noDate = withTime && dayStartAt === todayStartAt;\n  const targetAt = withTime ? getMinuteStart(date).getTime() : dayStartAt;\n\n  noYear ||= date.getFullYear() === today.getFullYear();\n\n  return formatDayToStringWithCache(langCode, targetAt, noYear, !noDate && 'short', noDate, withTime);\n}\n\nexport function formatTime(datetime: string | number) {\n  const date = new Date(datetime);\n\n  return `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;\n}\n\nexport function getDayStart(datetime: number | Date) {\n  const date = new Date(datetime);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}\n\nexport function getDayStartAt(datetime: number | Date) {\n  return getDayStart(datetime).getTime();\n}\n\nexport function getMinuteStart(datetime: number | Date) {\n  const date = new Date(datetime);\n  date.setSeconds(0, 0);\n  return date;\n}\n\nfunction isToday(datetime: string | number) {\n  return getDayStartAt(new Date()) === getDayStartAt(new Date(datetime));\n}\n\nfunction isYesterday(datetime: string | number) {\n  const yesterday = new Date();\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  return getDayStartAt(yesterday) === getDayStartAt(new Date(datetime));\n}\n","import { animate } from './animation';\nimport { fastRaf, throttle } from './schedulers';\n\nconst KEYS_TO_IGNORE = new Set([\n  'TeactMemoWrapper renders',\n  'TeactNContainer renders',\n  'Button renders',\n]);\nconst MIN_RENDERS_TO_SHOW = 5;\nconst MIN_DURATION_TO_SHOW = 2;\nconst BG_GREEN = ' style=\"background: lightgreen\"';\n\nlet counters: Record<string, {\n  value: number;\n  lastUpdateAt: number;\n}> = {};\n\nconst renderCountersThrottled = throttle(renderCounters, 500, false);\n\nlet loggerEl: HTMLDivElement;\n\nexport function debugToOverlay(text: string) {\n  if (!loggerEl) {\n    setupOverlay();\n  }\n\n  const date = new Date();\n  const dateFormatted = `${date.toLocaleTimeString()}.${date.getMilliseconds()}`;\n  const wasAtBottom = loggerEl.scrollTop + 10 >= loggerEl.scrollHeight - loggerEl.offsetHeight;\n\n  loggerEl.innerHTML += `${dateFormatted}: ${text}<br/>`;\n\n  if (wasAtBottom) {\n    loggerEl.scrollTop = loggerEl.scrollHeight;\n  }\n}\n\nexport function incrementOverlayCounter(key: string, value = 1) {\n  const now = Date.now();\n  if (!counters[key]) {\n    counters[key] = { value, lastUpdateAt: now };\n  } else {\n    counters[key].value += value;\n    counters[key].lastUpdateAt = now;\n  }\n\n  renderCountersThrottled();\n}\n\nexport function renderCounters() {\n  if (!loggerEl) {\n    setupOverlay();\n  }\n\n  const halfSecondAgo = Date.now() - 500;\n  const [maxRenders, maxDuration] = Object.entries(counters).reduce((acc, [key, { value }]) => {\n    if (KEYS_TO_IGNORE.has(key)) {\n      return acc;\n    }\n\n    if (key.includes('renders') && value > acc[0]) {\n      acc[0] = value;\n    }\n\n    if (key.includes('duration') && value > acc[1]) {\n      acc[1] = value;\n    }\n\n    return acc;\n  }, [0, 0]);\n\n  loggerEl.innerHTML = Object\n    .entries(counters)\n    .filter(([key, { value }]) => (\n      (!KEYS_TO_IGNORE.has(key)) && (\n        (key.includes('renders') && value > MIN_RENDERS_TO_SHOW)\n        || (key.includes('duration') && value > MIN_DURATION_TO_SHOW)\n      )\n    ))\n    .sort((a, b) => (\n      b[1].lastUpdateAt - a[1].lastUpdateAt\n    ))\n    .map(([key, { value, lastUpdateAt }]) => ([\n      `<div style=\"background: #ff0000${factorToHex(value / (key.includes('renders') ? maxRenders : maxDuration))}\">`,\n      `  <span${lastUpdateAt > halfSecondAgo ? BG_GREEN : ''}>${key}: ${Math.round(value)}</span>`,\n      '</div>',\n    ].join('\\n')))\n    .join('\\n');\n}\n\nexport function debugFps() {\n  if (!loggerEl) {\n    setupOverlay();\n  }\n\n  let ticks: number[] = [];\n  let lastFrameAt = performance.now();\n\n  animate(() => {\n    const now = performance.now();\n    ticks.push(now - lastFrameAt);\n    lastFrameAt = now;\n\n    if (ticks.length > 100) {\n      ticks = ticks.slice(-100);\n    }\n\n    const avg = ticks.reduce((acc, t) => acc + t, 0) / ticks.length;\n    loggerEl!.innerHTML = `${Math.round(1000 / avg)} FPS`;\n    return true;\n  }, fastRaf);\n}\n\nfunction setupOverlay() {\n  loggerEl = document.createElement('div');\n  loggerEl.style.cssText = 'position: absolute; left: 0; bottom: 25px; z-index: 9998; width: 260px; height: 200px;'\n    + ' border: 1px solid #555; background: rgba(255, 255, 255, 0.9); overflow: auto; font-size: 50px; color: black;';\n  document.body.appendChild(loggerEl);\n\n  const clearEl = document.createElement('a');\n  clearEl.style.cssText = 'position: absolute; left: 222px; bottom: 198px; z-index: 9999; font-size: 20px; '\n    + 'cursor: pointer;';\n  clearEl.innerText = '';\n  clearEl.addEventListener('click', () => {\n    counters = {};\n    renderCountersThrottled();\n  });\n  document.body.appendChild(clearEl);\n}\n\nfunction factorToHex(factor: number) {\n  return Math.round(255 * factor).toString(16).padStart(2, '0');\n}\n","import { DEFAULT_DECIMAL_PLACES } from '../config';\nimport { Big } from '../lib/big.js';\n\nBig.RM = 0; // RoundDown\nBig.NE = -100000; // Disable exponential form\nBig.PE = 100000; // Disable exponential form\n\nconst ten = Big(10);\n\nexport function fromDecimal(value: string | number, decimals?: number) {\n  return BigInt(Big(value).mul(ten.pow(decimals ?? DEFAULT_DECIMAL_PLACES)).round().toString());\n}\n\nexport function toDecimal(value: bigint | number, decimals?: number, noFloor = false) {\n  return toBig(value, decimals ?? DEFAULT_DECIMAL_PLACES, noFloor).toString();\n}\n\nexport function toBig(value: bigint | number, decimals = DEFAULT_DECIMAL_PLACES, noFloor = false) {\n  return Big(value.toString()).div(ten.pow(decimals)).round(decimals, noFloor ? Big.roundHalfUp : undefined);\n}\n\nexport function roundDecimal(value: string, decimals: number) {\n  return Big(value).round(decimals).toString();\n}\n\nexport function getIsPositiveDecimal(value: string) {\n  return !value.startsWith('-');\n}\n","import { isLiteralObject, unique } from './iteratees';\n\nconst EQUAL = Symbol('EQUAL');\nconst DELETE = { __delete: true };\nconst DELETE_ALL_CHILDREN = { __deleteAllChildren: true };\n\nexport function deepDiff<T extends any>(value1: T, value2: T): Partial<T> | typeof EQUAL | typeof DELETE_ALL_CHILDREN {\n  if (value1 === value2) {\n    return EQUAL;\n  }\n\n  const type1 = typeof value1;\n  const type2 = typeof value2;\n\n  if (type1 !== type2) {\n    return value2;\n  }\n\n  if (Array.isArray(value1) && Array.isArray(value2) && areSortedArraysDeepEqual(value1, value2)) {\n    return EQUAL;\n  }\n\n  if (!isLiteralObject(value1) || !isLiteralObject(value2)) {\n    return value2;\n  }\n\n  const object1 = value1 as AnyLiteral;\n  const object2 = value2 as AnyLiteral;\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (!keys2.length) {\n    return !keys1.length ? EQUAL : DELETE_ALL_CHILDREN;\n  }\n\n  const allKeys = unique(keys1.concat(keys2));\n\n  const diff = allKeys.reduce((acc: any, key) => {\n    const subValue1 = object1[key];\n    const subValue2 = object2[key];\n\n    if (!object2.hasOwnProperty(key)) {\n      acc[key] = DELETE;\n      return acc;\n    }\n\n    if (!object1!.hasOwnProperty(key)) {\n      acc[key] = subValue2;\n      return acc;\n    }\n\n    const subDiff = deepDiff(subValue1, subValue2);\n    if (subDiff !== EQUAL) {\n      acc[key] = subDiff;\n    }\n\n    return acc;\n  }, {});\n\n  if (Object.keys(diff).length === 0) {\n    return EQUAL;\n  }\n\n  return diff;\n}\n\nfunction areSortedArraysDeepEqual<T extends Array<any>>(array1: T, array2: T) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  return array1.every((item, i) => deepDiff(item, array2[i]) === EQUAL);\n}\n","import { isLiteralObject, unique } from './iteratees';\n\nexport function deepMerge<T extends any>(value1: T, value2: T): T {\n  if (value1 === value2) {\n    return value2;\n  }\n\n  if (!isLiteralObject(value2)) {\n    return value2;\n  }\n\n  if (!isLiteralObject(value1)) {\n    return reduceDiff(value2) as T;\n  }\n\n  // eslint-disable-next-line no-underscore-dangle\n  if (value2.__deleteAllChildren) {\n    return {} as T;\n  }\n\n  const allKeys = unique(Object.keys(value1).concat(Object.keys(value2)));\n\n  return allKeys.reduce((acc: AnyLiteral, key) => {\n    const oldValue = value1[key];\n\n    if (!value2.hasOwnProperty(key)) {\n      acc[key] = oldValue;\n    } else {\n      const newValue = value2[key];\n      // eslint-disable-next-line no-underscore-dangle\n      if (!newValue?.__delete) {\n        acc[key] = deepMerge(oldValue, newValue);\n      }\n    }\n\n    return acc;\n  }, {}) as T;\n}\n\nfunction reduceDiff(diff: AnyLiteral) {\n  // eslint-disable-next-line no-underscore-dangle\n  if (diff.__deleteAllChildren) {\n    return {};\n  }\n\n  return Object.entries(diff).reduce((acc: AnyLiteral, [key, value]) => {\n    // eslint-disable-next-line no-underscore-dangle\n    if (!value?.__delete) {\n      // eslint-disable-next-line no-null/no-null\n      acc[key] = isLiteralObject(value) ? reduceDiff(value) : value;\n    }\n\n    return acc;\n  }, {});\n}\n","export const TON_PROTOCOL = 'ton://';\nexport const TONCONNECT_PROTOCOL = 'tc://';\nexport const TONCONNECT_PROTOCOL_SELF = 'mytonwallet-tc://';\nexport const SELF_PROTOCOL = 'mtw://';\nexport const SELF_UNIVERSAL_URLS = ['https://my.tt', 'https://go.mytonwallet.org'];\nexport const TONCONNECT_UNIVERSAL_URL = 'https://connect.mytonwallet.org';\nexport const CHECKIN_URL = 'https://checkin.mytonwallet.org';\n","import { getActions, getGlobal } from '../../global';\n\nimport { ActiveTab } from '../../global/types';\n\nimport { DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG, DEFAULT_SWAP_SECOND_TOKEN_SLUG, TONCOIN_SLUG } from '../../config';\nimport { selectCurrentAccount } from '../../global/selectors';\nimport { callApi } from '../../api';\nimport { isTonAddressOrDomain } from '../isTonAddressOrDomain';\nimport { omitUndefined } from '../iteratees';\nimport { logDebug, logDebugError } from '../logs';\nimport { openUrl } from '../openUrl';\nimport { waitRender } from '../renderPromise';\nimport { tonConnectGetDeviceInfo } from '../tonConnectEnvironment';\nimport {\n  CHECKIN_URL,\n  SELF_PROTOCOL,\n  SELF_UNIVERSAL_URLS,\n  TON_PROTOCOL,\n  TONCONNECT_PROTOCOL,\n  TONCONNECT_PROTOCOL_SELF,\n  TONCONNECT_UNIVERSAL_URL,\n} from './constants';\n\nimport { getIsLandscape, getIsPortrait } from '../../hooks/useDeviceScreen';\n\nenum DeeplinkCommand {\n  CheckinWithR = 'r',\n  Swap = 'swap',\n  BuyWithCrypto = 'buy-with-crypto',\n  BuyWithCard = 'buy-with-card',\n  Stake = 'stake',\n}\n\nlet urlAfterSignIn: string | undefined;\n\nexport function processDeeplinkAfterSignIn() {\n  if (!urlAfterSignIn) return;\n\n  processDeeplink(urlAfterSignIn);\n\n  urlAfterSignIn = undefined;\n}\n\nexport function openDeeplinkOrUrl(url: string, isExternal = false, isFromInAppBrowser = false) {\n  if (isTonDeeplink(url) || isTonConnectDeeplink(url) || isSelfDeeplink(url)) {\n    processDeeplink(url, isFromInAppBrowser);\n  } else {\n    void openUrl(url, isExternal);\n  }\n}\n\nexport function processDeeplink(url: string, isFromInAppBrowser = false) {\n  if (!getGlobal().currentAccountId) {\n    urlAfterSignIn = url;\n  }\n\n  if (isTonConnectDeeplink(url)) {\n    void processTonConnectDeeplink(url, isFromInAppBrowser);\n  } else if (isSelfDeeplink(url)) {\n    processSelfDeeplink(url);\n  } else {\n    void processTonDeeplink(url);\n  }\n}\n\nexport function isTonDeeplink(url: string) {\n  return url.startsWith(TON_PROTOCOL);\n}\n\nasync function processTonDeeplink(url: string) {\n  const params = parseTonDeeplink(url);\n  if (!params) return;\n\n  await waitRender();\n\n  const actions = getActions();\n  const global = getGlobal();\n  if (!global.currentAccountId) {\n    return;\n  }\n\n  const {\n    toAddress, amount, comment, binPayload,\n  } = params;\n\n  const verifiedAddress = isTonAddressOrDomain(toAddress) ? toAddress : undefined;\n\n  actions.startTransfer(omitUndefined({\n    isPortrait: getIsPortrait(),\n    tokenSlug: TONCOIN_SLUG,\n    toAddress: verifiedAddress,\n    amount,\n    comment,\n    binPayload,\n  }));\n\n  if (getIsLandscape()) {\n    actions.setLandscapeActionsActiveTabIndex({ index: ActiveTab.Transfer });\n  }\n}\n\nexport function parseTonDeeplink(value: string | unknown) {\n  if (typeof value !== 'string' || !isTonDeeplink(value) || !value.includes('/transfer/')) {\n    return undefined;\n  }\n\n  try {\n    const url = new URL(value);\n\n    const toAddress = url.pathname.replace(/.*\\//, '');\n    const amount = url.searchParams.get('amount') ?? undefined;\n    const comment = url.searchParams.get('text') ?? undefined;\n    const binPayload = url.searchParams.get('bin') ?? undefined;\n\n    return {\n      toAddress,\n      amount: amount ? BigInt(amount) : undefined,\n      comment,\n      binPayload,\n    };\n  } catch (err) {\n    return undefined;\n  }\n}\n\nfunction isTonConnectDeeplink(url: string) {\n  return url.startsWith(TONCONNECT_PROTOCOL)\n    || url.startsWith(TONCONNECT_PROTOCOL_SELF)\n    || omitProtocol(url).startsWith(omitProtocol(TONCONNECT_UNIVERSAL_URL));\n}\n\nasync function processTonConnectDeeplink(url: string, isFromInAppBrowser = false) {\n  if (!isTonConnectDeeplink(url)) {\n    return;\n  }\n\n  const { openLoadingOverlay, closeLoadingOverlay } = getActions();\n\n  openLoadingOverlay();\n\n  const deviceInfo = tonConnectGetDeviceInfo();\n  const returnUrl = await callApi('startSseConnection', {\n    url,\n    deviceInfo,\n    isFromInAppBrowser,\n  });\n\n  closeLoadingOverlay();\n\n  if (returnUrl) {\n    openUrl(returnUrl, !isFromInAppBrowser);\n  }\n}\n\nexport function isSelfDeeplink(url: string) {\n  return url.startsWith(SELF_PROTOCOL)\n    || SELF_UNIVERSAL_URLS.some((u) => omitProtocol(url).startsWith(omitProtocol(u)));\n}\n\nexport function processSelfDeeplink(deeplink: string) {\n  try {\n    if (deeplink.startsWith(SELF_PROTOCOL)) {\n      deeplink = deeplink.replace(SELF_PROTOCOL, `${SELF_UNIVERSAL_URLS[0]}/`);\n    }\n\n    const { pathname, searchParams } = new URL(deeplink);\n    const command = pathname.split('/').find(Boolean);\n    const actions = getActions();\n    const global = getGlobal();\n    const { isTestnet } = global.settings;\n    const isLedger = selectCurrentAccount(global)?.ledger;\n\n    logDebug('Processing deeplink', deeplink);\n\n    switch (command) {\n      case DeeplinkCommand.CheckinWithR: {\n        const r = pathname.match(/r\\/(.*)$/)?.[1];\n        const url = `${CHECKIN_URL}${r ? `?r=${r}` : ''}`;\n        openUrl(url);\n        break;\n      }\n\n      case DeeplinkCommand.Swap: {\n        if (isTestnet) {\n          actions.showError({ error: 'Swap is not supported in Testnet.' });\n        } else if (isLedger) {\n          actions.showError({ error: 'Swap is not yet supported by Ledger.' });\n        } else {\n          actions.startSwap({\n            tokenInSlug: searchParams.get('in') || TONCOIN_SLUG,\n            tokenOutSlug: searchParams.get('out') || DEFAULT_SWAP_SECOND_TOKEN_SLUG,\n            amountIn: toNumberOrEmptyString(searchParams.get('amount')) || '10',\n          });\n        }\n        break;\n      }\n\n      case DeeplinkCommand.BuyWithCrypto: {\n        if (isTestnet) {\n          actions.showError({ error: 'Swap is not supported in Testnet.' });\n        } else if (isLedger) {\n          actions.showError({ error: 'Swap is not yet supported by Ledger.' });\n        } else {\n          actions.startSwap({\n            tokenInSlug: searchParams.get('in') || DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG,\n            tokenOutSlug: searchParams.get('out') || TONCOIN_SLUG,\n            amountIn: toNumberOrEmptyString(searchParams.get('amount')) || '100',\n          });\n        }\n        break;\n      }\n\n      case DeeplinkCommand.BuyWithCard: {\n        if (isTestnet) {\n          actions.showError({ error: 'Buying with card is not supported in Testnet.' });\n        } else {\n          actions.openOnRampWidgetModal();\n        }\n        break;\n      }\n\n      case DeeplinkCommand.Stake: {\n        if (isTestnet) {\n          actions.showError({ error: 'Staking is not supported in Testnet.' });\n        } else {\n          actions.startStaking();\n        }\n        break;\n      }\n    }\n  } catch (err) {\n    logDebugError('processSelfDeeplink', err);\n  }\n}\n\nfunction omitProtocol(url: string) {\n  return url.replace(/^https?:\\/\\//, '');\n}\n\nfunction toNumberOrEmptyString(input?: string | null) {\n  return String(Number(input) || '');\n}\n","const zonesRegex = {\n  ton: /^([-\\da-z]+\\.){0,2}([-\\da-z]{4,126})\\.ton$/i,\n  't.me': /^([-\\da-z]+\\.){0,2}([-_\\da-z]{4,126})\\.t\\.me$/i,\n  vip: /^(?<base>([-\\da-z]+\\.){0,2}([\\da-z]{1,24}))\\.(ton\\.vip|vip\\.ton|vip)$/i,\n  gram: /^(?<base>([-\\da-z]+\\.){0,2}([\\da-z]{1,24}))\\.(gram)$/i,\n};\n\nfunction isDnsDomain(value: string) {\n  return Object.values(zonesRegex).some((zone) => zone.test(value));\n}\n\nfunction isVipDnsDomain(value: string) {\n  return zonesRegex.vip.test(value);\n}\n\nfunction isGramDnsDomain(value: string) {\n  return zonesRegex.gram.test(value);\n}\n\nfunction removeVipZone(value: string) {\n  value = value.replace(/\\.ton\\.vip$/i, '.vip').replace(/\\.vip\\.ton$/i, '.vip');\n  return value.match(zonesRegex.vip)?.groups?.base;\n}\n\nfunction removeGramZone(value: string) {\n  return value.match(zonesRegex.gram)?.groups?.base;\n}\n\nfunction removeTonZone(value: string) {\n  return value.replace(/\\.ton$/i, '');\n}\n\nexport default {\n  isDnsDomain,\n  isVipDnsDomain,\n  isGramDnsDomain,\n  removeVipZone,\n  removeGramZone,\n  removeTonZone,\n};\n","import { ElectronEvent } from '../electron/types';\n\nimport { processDeeplink } from './deeplink';\n\nexport function initElectron() {\n  window.electron?.on(ElectronEvent.DEEPLINK, ({ url }: { url: string }) => {\n    processDeeplink(url);\n  });\n}\n","import { requestMutation } from '../lib/fasterdom/fasterdom';\n\nexport function forceLoadFonts() {\n  const el = document.createElement('div');\n  el.textContent = '';\n  el.classList.add('visually-hidden');\n  document.body.appendChild(el);\n\n  requestMutation(() => {\n    document.body.removeChild(el);\n  });\n}\n","// Used before applying CSS transition\nexport default function forceReflow(element: HTMLElement) {\n  // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n  element.offsetWidth;\n}\n","import type { ApiBaseCurrency } from '../api/types';\n\nimport {\n  DEFAULT_DECIMAL_PLACES,\n  DEFAULT_PRICE_CURRENCY,\n  SHORT_CURRENCY_SYMBOL_MAP,\n  WHOLE_PART_DELIMITER,\n} from '../config';\nimport { Big } from '../lib/big.js';\nimport { toDecimal } from './decimals';\nimport withCache from './withCache';\n\nconst SHORT_SYMBOLS = new Set(Object.values(SHORT_CURRENCY_SYMBOL_MAP));\n\nexport const formatInteger = withCache((\n  value: number | Big | string,\n  fractionDigits = 2,\n  noRadix = false,\n  noFloor?: boolean,\n) => {\n  value = Big(value);\n  const dp = value.gte(1) || noFloor ? fractionDigits : DEFAULT_DECIMAL_PLACES;\n  let fixed = value.round(dp, noFloor ? Big.roundHalfUp : undefined).toString();\n\n  if (value.lt(1) && countSignificantDigits(fixed) < fractionDigits) {\n    fixed = value.toString();\n  }\n\n  let [wholePart, fractionPart = ''] = fixed.split('.');\n\n  fractionPart = toSignificant(fractionPart, Math.min(fractionDigits, 100)).replace(/0+$/, '');\n  if (fractionPart === '') {\n    wholePart = wholePart.replace(/^-0$/, '0');\n  }\n  if (!noRadix) {\n    wholePart = wholePart.replace(/\\d(?=(\\d{3})+($|\\.))/g, `$&${WHOLE_PART_DELIMITER}`);\n  }\n\n  return [\n    wholePart,\n    fractionPart,\n  ].filter(Boolean).join('.');\n});\n\nexport function formatCurrency(\n  value: number | string | Big,\n  currency: string,\n  fractionDigits?: number,\n  noFloor?: boolean,\n) {\n  const formatted = formatInteger(value, fractionDigits, undefined, noFloor);\n  return addCurrency(formatted, currency);\n}\n\nexport function formatCurrencyExtended(\n  value: number | string, currency: string, noSign = false, fractionDigits?: number,\n) {\n  value = value.toString();\n\n  const prefix = !noSign ? (!value.startsWith('-') ? '+\\u202F' : '\\u2212\\u202F') : '';\n\n  return prefix + formatCurrency(noSign ? value : value.replace('-', ''), currency, fractionDigits);\n}\n\nexport function formatCurrencySimple(value: number | bigint | string, currency: string, decimals?: number) {\n  if (typeof value !== 'string') {\n    value = toDecimal(value, decimals);\n  }\n  return addCurrency(value, currency);\n}\n\nfunction addCurrency(value: number | string, currency: string) {\n  return SHORT_SYMBOLS.has(currency)\n    ? `${currency}${value}`.replace(`${currency}-`, `-${currency}`)\n    : `${value} ${currency}`;\n}\n\nexport function formatCurrencyForBigValue(value: number, currency: string, threshold = 1000) {\n  const formattedValue = formatCurrency(value, currency);\n\n  if (value < threshold) {\n    return formattedValue;\n  }\n\n  const [mainPart] = formattedValue.split('.');\n\n  return mainPart;\n}\n\n/**\n * @example\n * '000012', 2 => '000012'\n * '120012', 2 => '12'\n * '010012', 2 => '01'\n * '001012', 2 => '001'\n * '000112', 2 => '00011'\n * '100012', 2 => '1'\n * @param value fractionPart of number\n * @param fractionDigits number of significant digits after decimal point\n */\nfunction toSignificant(value: string, fractionDigits: number): string {\n  let digitsCount = 0;\n  let digitsLastIndex = 0;\n\n  for (let i = 0; i < value.length; i++) {\n    digitsLastIndex += 1;\n\n    if (value[i] === '0' && digitsCount === 0) {\n      continue;\n    }\n\n    digitsCount += 1;\n\n    if (digitsCount === fractionDigits) {\n      break;\n    }\n  }\n\n  return value.slice(0, digitsLastIndex).replace(/0+$/, '');\n}\n\nfunction countSignificantDigits(value: string): number {\n  const decimalIndex = value.indexOf('.');\n\n  if (decimalIndex === -1) {\n    return 0;\n  }\n\n  const fractionalPart = value.slice(decimalIndex + 1).replace(/^0+/, '');\n  return fractionalPart.length;\n}\n\nexport function getShortCurrencySymbol(currency?: ApiBaseCurrency) {\n  if (!currency) currency = DEFAULT_PRICE_CURRENCY;\n  return SHORT_CURRENCY_SYMBOL_MAP[currency as keyof typeof SHORT_CURRENCY_SYMBOL_MAP] ?? currency;\n}\n","export default function generateUniqueId() {\n  return Date.now().toString(36) + Math.random().toString(36).slice(2);\n}\n","const APP_VERSION_REGEX = /^\\d+\\.\\d+(\\.\\d+)?$/;\n\nexport default function getIsAppUpdateNeeded(remoteVersion: string, appVersion: string, isStrict?: boolean) {\n  const sanitizedRemoteVersion = remoteVersion.trim();\n\n  if (!APP_VERSION_REGEX.test(sanitizedRemoteVersion)) {\n    return false;\n  }\n\n  if (isStrict) {\n    return sanitizedRemoteVersion.localeCompare(appVersion, undefined, { numeric: true, sensitivity: 'base' }) === 1;\n  }\n\n  return sanitizedRemoteVersion !== appVersion;\n}\n","import { APP_ENV, DEBUG_ALERT_MSG } from '../config';\nimport { throttle } from './schedulers';\n\nconst noop = () => {\n};\n\nconst throttledAlert = typeof window !== 'undefined' ? throttle(window.alert, 1000) : noop;\n\n// eslint-disable-next-line no-restricted-globals\nself.addEventListener('error', handleErrorEvent);\n// eslint-disable-next-line no-restricted-globals\nself.addEventListener('unhandledrejection', handleErrorEvent);\n\nfunction handleErrorEvent(e: ErrorEvent | PromiseRejectionEvent) {\n  // https://stackoverflow.com/questions/49384120/resizeobserver-loop-limit-exceeded\n  if (e instanceof ErrorEvent && e.message === 'ResizeObserver loop limit exceeded') {\n    return;\n  }\n\n  e.preventDefault();\n\n  handleError(e instanceof ErrorEvent ? (e.error || e.message) : e.reason);\n}\n\nexport function handleError(err: Error | string) {\n  // eslint-disable-next-line no-console\n  console.error(err);\n\n  const message = typeof err === 'string' ? err : err.message;\n  const stack = typeof err === 'object' ? err.stack : undefined;\n\n  if (message.endsWith('Failed to import rlottie-wasm.js')) {\n    return;\n  }\n\n  if (APP_ENV === 'development' || APP_ENV === 'staging') {\n    throttledAlert(`${DEBUG_ALERT_MSG}\\n\\n${(message) || err}\\n${stack}`);\n  }\n}\n","import windowSize from './windowSize';\n\nexport function isElementInViewport(el: HTMLElement) {\n  if (el.style.display === 'none') {\n    return false;\n  }\n\n  const rect = el.getBoundingClientRect();\n  const { height: windowHeight } = windowSize.get();\n\n  return (rect.top <= windowHeight) && ((rect.top + rect.height) >= 0);\n}\n","import { PRIVATE_KEY_HEX_LENGTH } from '../config';\n\nexport default function isMnemonicPrivateKey(mnemonic: string[]) {\n  return mnemonic.length === 1 && mnemonic[0].length === PRIVATE_KEY_HEX_LENGTH;\n}\n","import { areDeepEqual } from './areDeepEqual';\nimport { pick } from './iteratees';\n\nexport default function isPartialDeepEqual<T extends AnyLiteral>(node: T, newPartial: Partial<T>) {\n  const currentPartial = pick(node, Object.keys(newPartial) as (keyof typeof newPartial)[]);\n\n  return areDeepEqual(currentPartial, newPartial);\n}\n","import dns from './dns';\n\nconst TON_ADDRESS_REGEX = /^[-\\w_]{48}$/i;\nconst TON_RAW_ADDRESS_REGEX = /^0:[\\da-h]{64}$/i;\n\nexport function isTonAddressOrDomain(address?: string) {\n  return (\n    address && (TON_ADDRESS_REGEX.test(address) || TON_RAW_ADDRESS_REGEX.test(address) || dns.isDnsDomain(address))\n  );\n}\n","type CollectionByKey<Member> = Record<number | string, Member>;\ntype GroupedByKey<Member> = Record<number | string, Member[]>;\n\ntype OrderDirection =\n  'asc'\n  | 'desc';\n\ninterface OrderCallback<T> {\n  (member: T): any;\n}\n\nexport function buildCollectionByKey<T extends AnyLiteral>(collection: T[], key: keyof T): CollectionByKey<T> {\n  return collection.reduce((byKey: CollectionByKey<T>, member: T) => {\n    byKey[member[key]] = member;\n\n    return byKey;\n  }, {});\n}\n\nexport function groupBy<T extends AnyLiteral>(collection: T[], key: keyof T): GroupedByKey<T> {\n  return collection.reduce((byKey: GroupedByKey<T>, member: T) => {\n    const groupKey = member[key];\n\n    if (!byKey[groupKey]) {\n      byKey[groupKey] = [member];\n    } else {\n      byKey[groupKey]!.push(member);\n    }\n\n    return byKey;\n  }, {});\n}\n\nexport function mapValues<R extends any, M extends any>(\n  byKey: CollectionByKey<M>,\n  callback: (member: M, key: string, index: number, originalByKey: CollectionByKey<M>) => R,\n): CollectionByKey<R> {\n  return Object.keys(byKey).reduce((newByKey: CollectionByKey<R>, key, index) => {\n    newByKey[key] = callback(byKey[key], key, index, byKey);\n    return newByKey;\n  }, {});\n}\n\nexport function pick<T, K extends keyof T>(object: T, keys: K[]) {\n  return keys.reduce((result, key) => {\n    result[key] = object[key];\n    return result;\n  }, {} as Pick<T, K>);\n}\n\nexport function pickTruthy<T, K extends keyof T>(object: T, keys: K[]) {\n  return keys.reduce((result, key) => {\n    if (object[key]) {\n      result[key] = object[key];\n    }\n\n    return result;\n  }, {} as Pick<T, K>);\n}\n\nexport function omit<T extends object, K extends keyof T>(object: T, keys: K[]): Omit<T, K> {\n  const stringKeys = new Set(keys.map(String));\n  const savedKeys = Object.keys(object)\n    .filter((key) => !stringKeys.has(key)) as Array<Exclude<keyof T, K>>;\n\n  return pick(object, savedKeys);\n}\n\nexport function omitUndefined<T extends object>(object: T): T {\n  return Object.keys(object).reduce((result, stringKey) => {\n    const key = stringKey as keyof T;\n    if (object[key] !== undefined) {\n      result[key as keyof T] = object[key];\n    }\n    return result;\n  }, {} as T);\n}\n\nexport function orderBy<T>(\n  collection: T[],\n  orderRule: (keyof T) | OrderCallback<T> | ((keyof T) | OrderCallback<T>)[],\n  mode: OrderDirection | [OrderDirection, OrderDirection] = 'asc',\n): T[] {\n  function compareValues(a: T, b: T, currentOrderRule: (keyof T) | OrderCallback<T>, isAsc: boolean) {\n    const aValue = (typeof currentOrderRule === 'function' ? currentOrderRule(a) : a[currentOrderRule]) || 0;\n    const bValue = (typeof currentOrderRule === 'function' ? currentOrderRule(b) : b[currentOrderRule]) || 0;\n\n    if (aValue === bValue) return 0;\n\n    const condition = isAsc ? aValue > bValue : aValue < bValue;\n    return condition ? 1 : -1;\n  }\n\n  if (Array.isArray(orderRule)) {\n    const [mode1, mode2] = Array.isArray(mode) ? mode : [mode, mode];\n    const [orderRule1, orderRule2] = orderRule;\n    const isAsc1 = mode1 === 'asc';\n    const isAsc2 = mode2 === 'asc';\n\n    return collection.sort((a, b) => {\n      return compareValues(a, b, orderRule1, isAsc1) || compareValues(a, b, orderRule2, isAsc2);\n    });\n  }\n\n  const isAsc = mode === 'asc';\n  return collection.sort((a, b) => {\n    return compareValues(a, b, orderRule, isAsc);\n  });\n}\n\nexport function unique<T extends any>(array: T[]): T[] {\n  return Array.from(new Set(array));\n}\n\nexport function compact<T extends any>(array: T[]) {\n  return array.filter(Boolean);\n}\n\nexport function areSortedArraysEqual(array1: any[], array2: any[]) {\n  if (array1.length !== array2.length) {\n    return false;\n  }\n\n  return array1.every((item, i) => item === array2[i]);\n}\n\nexport function split<T extends any>(array: T[], chunkSize: number) {\n  const result: T[][] = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n\n  return result;\n}\n\nexport function cloneDeep<T>(value: T): T {\n  if (!isObject(value)) {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(cloneDeep) as typeof value;\n  }\n\n  return Object.keys(value).reduce((acc, key) => {\n    acc[key as keyof T] = cloneDeep(value[key as keyof T]);\n    return acc;\n  }, {} as T);\n}\n\nexport function isLiteralObject(value: any): value is AnyLiteral {\n  return isObject(value) && !Array.isArray(value);\n}\n\nfunction isObject(value: any): value is object {\n  // eslint-disable-next-line no-null/no-null\n  return typeof value === 'object' && value !== null;\n}\n\nexport function findLast<T>(array: Array<T>, predicate: (value: T, index: number, obj: T[]) => boolean): T | undefined {\n  let cursor = array.length;\n\n  while (cursor--) {\n    if (predicate(array[cursor], cursor, array)) {\n      return array[cursor];\n    }\n  }\n\n  return undefined;\n}\n\nexport function range(start: number, end: number) {\n  const arr: number[] = [];\n  for (let i = start; i < end;) {\n    arr.push(i++);\n  }\n  return arr;\n}\n\nexport function fromKeyValueArrays<T>(keys: string[], values: T[] | T) {\n  return keys.reduce((acc, key, index) => {\n    acc[key] = Array.isArray(values) ? values[index] : values;\n    return acc;\n  }, {} as Record<string, T>);\n}\n\nexport function extractKey<T, K extends keyof T>(array: T[], key: K): T[K][] {\n  return array.map((value) => value[key]);\n}\n\nexport function findDifference<T>(array1: T[], array2: T[]): T[] {\n  const set2 = new Set(array2);\n\n  return array1.filter((element) => !set2.has(element));\n}\n","import type { TeactNode } from '../lib/teact/teact';\n\nimport type { LangCode, LangPack, LangString } from '../global/types';\n\nimport { IS_PACKAGED_ELECTRON, LANG_CACHE_NAME, LANG_LIST } from '../config';\nimport renderText from '../global/helpers/renderText';\n// @ts-ignore this file is autogenerated\nimport defaultLangPackJson from '../i18n/en.json';\nimport * as cacheApi from './cacheApi';\nimport { createCallbackManager } from './callbacks';\nimport { formatInteger } from './formatNumber';\nimport { DEFAULT_LANG_CODE } from './windowEnvironment';\n\nconst defaultLangPack: LangPack = defaultLangPackJson;\n\nexport interface LangFn {\n  (key: string): string;\n\n  (key: string, value: any, format?: 'i', pluralValue?: number): string | TeactNode[];\n\n  isRtl?: boolean;\n  code?: LangCode;\n  langName?: string;\n}\n\nconst {\n  addCallback,\n  removeCallback,\n  runCallbacks,\n} = createCallbackManager();\n\nexport { addCallback, removeCallback };\n\nconst SUBSTITUTION_REGEX = /%\\d?\\$?[sdf@]/g;\nconst cache = new Map<string, string>();\nlet langPack: LangPack | undefined;\nlet currentLangCode: string | undefined;\n\nfunction createLangFn() {\n  return ((key: string, value?: any, format?: 'i', pluralValue?: number) => {\n    if (value !== undefined && (typeof value !== 'object' || Array.isArray(value))) {\n      const cacheValue = Array.isArray(value) ? JSON.stringify(value) : value;\n      const cached = cache.get(`${key}_${cacheValue}_${format}${pluralValue ? `_${pluralValue}` : ''}`);\n      if (cached) {\n        return cached;\n      }\n    }\n\n    if (!langPack && !defaultLangPack) {\n      return key;\n    }\n\n    const langString = (langPack?.[key]) || (defaultLangPack?.[key]) || key;\n\n    return processTranslation(langString, key, value, format, pluralValue);\n  }) as LangFn;\n}\n\n// eslint-disable-next-line import/no-mutable-exports\nexport let getTranslation: LangFn = createLangFn();\n\nexport async function setLanguage(langCode: LangCode, callback?: NoneToVoidFunction) {\n  if (langPack && langCode === currentLangCode) {\n    if (callback) {\n      callback();\n    }\n\n    return;\n  }\n\n  let newLangPack = await cacheApi.fetch(LANG_CACHE_NAME, langCode);\n\n  if (!newLangPack) {\n    newLangPack = await fetchRemote(langCode);\n    if (!newLangPack) {\n      return;\n    }\n  }\n\n  cache.clear();\n\n  currentLangCode = langCode;\n  langPack = newLangPack;\n  document.documentElement.lang = langCode;\n\n  const langInfo = LANG_LIST?.find((l) => l.langCode === langCode);\n  getTranslation = createLangFn();\n  getTranslation.isRtl = Boolean(langInfo?.rtl);\n  getTranslation.code = langCode.replace('-raw', '') as LangCode;\n  getTranslation.langName = langInfo?.nativeName;\n\n  if (callback) {\n    callback();\n  }\n\n  runCallbacks();\n}\n\nexport function clearPreviousLangpacks() {\n  const langCachePrefix = LANG_CACHE_NAME.replace(/\\d+$/, '');\n  const langCacheVersion = Number((LANG_CACHE_NAME.match(/\\d+$/) || [0])[0]);\n  for (let i = 0; i < langCacheVersion; i++) {\n    void cacheApi.clear(`${langCachePrefix}${i === 0 ? '' : i}`);\n  }\n}\n\nasync function fetchRemote(langCode: string): Promise<LangPack | undefined> {\n  if (langCode === DEFAULT_LANG_CODE) {\n    return defaultLangPack;\n  }\n\n  const response = await fetch(`${IS_PACKAGED_ELECTRON ? '.' : '..'}/i18n/${langCode}.json`);\n\n  if (!response.ok) {\n    const message = `An error has occured: ${response.status}`;\n    throw new Error(message);\n  }\n\n  const remote = await response.json();\n\n  if (remote) {\n    await cacheApi.save(LANG_CACHE_NAME, langCode, remote);\n    return remote;\n  }\n\n  return undefined;\n}\n\nfunction processTemplate(template: string, value: any) {\n  value = Array.isArray(value) ? value : [value];\n  const translationSlices = template.split(SUBSTITUTION_REGEX);\n  const initialValue = translationSlices.shift();\n\n  return translationSlices.reduce((result, str, index) => {\n    return `${result}${String(value[index] ?? '')}${str}`;\n  }, initialValue || '');\n}\n\nfunction processTemplateJsx(template: string, value: Record<string, TeactNode>) {\n  return template.split('%')\n    .reduce((acc, slice) => acc.concat(value[slice] ? [value[slice]] : renderText(slice)), [] as TeactNode[]);\n}\n\nfunction processTranslation(\n  langString: LangString | string | undefined, key: string, value?: any, format?: 'i', pluralValue?: number,\n) {\n  const template = typeof langString === 'string' ? langString : langString?.value;\n  if (!template || !template.trim() || value === undefined) {\n    return template;\n  }\n\n  const formattedValue = format === 'i' ? formatInteger(value) : value;\n  const result = typeof value === 'object' && !Array.isArray(value)\n    ? processTemplateJsx(template, formattedValue)\n    : processTemplate(template, formattedValue);\n  if (typeof value !== 'object' && typeof result === 'string') {\n    const cacheValue = Array.isArray(value) ? JSON.stringify(value) : value;\n    cache.set(`${key}_${cacheValue}_${format}${pluralValue ? `_${pluralValue}` : ''}`, result);\n  }\n\n  return result;\n}\n","export const DETACHED_TAB_URL = '#detached';\n\nlet ledgerTabId: number | undefined;\n\nexport function openLedgerTab() {\n  return createLedgerTab();\n}\n\nexport async function closeLedgerTab() {\n  if (!ledgerTabId) return;\n\n  await chrome.tabs.query({ active: true }, () => {\n    if (!ledgerTabId) return;\n\n    chrome.tabs.remove(ledgerTabId);\n  });\n}\n\nexport function onLedgerTabClose(id: number, onClose: () => void) {\n  chrome.tabs.onRemoved.addListener((closedTabId: number) => {\n    if (closedTabId !== id) {\n      return;\n    }\n\n    ledgerTabId = undefined;\n\n    onClose();\n  });\n}\n\nasync function createLedgerTab() {\n  const tab = await chrome.tabs.create({ url: `index.html${DETACHED_TAB_URL}`, active: true });\n  await chrome.windows.update(tab.windowId!, { focused: true });\n\n  ledgerTabId = tab.id!;\n\n  return ledgerTabId;\n}\n","/**\n * Lethargy help distinguish between scroll events initiated by the user, and those by inertial scrolling.\n * Lethargy does not have external dependencies.\n *\n * @param stability - Specifies the length of the rolling average.\n * In effect, the larger the value, the smoother the curve will be.\n * This attempts to prevent anomalies from firing 'real' events. Valid values are all positive integers,\n * but in most cases, you would need to stay between 5 and around 30.\n *\n * @param sensitivity - Specifies the minimum value for wheelDelta for it to register as a valid scroll event.\n * Because the tail of the curve have low wheelDelta values,\n * this will stop them from registering as valid scroll events.\n * The unofficial standard wheelDelta is 120, so valid values are positive integers below 120.\n *\n * @param tolerance - Prevent small fluctuations from affecting results.\n * Valid values are decimals from 0, but should ideally be between 0.05 and 0.3.\n *\n * Based on https://github.com/d4nyll/lethargy\n */\n\nexport type LethargyConfig = {\n  stability?: number;\n  sensitivity?: number;\n  tolerance?: number;\n  delay?: number;\n};\n\nexport class Lethargy {\n  stability: number;\n\n  sensitivity: number;\n\n  tolerance: number;\n\n  delay: number;\n\n  lastUpDeltas: Array<number>;\n\n  lastDownDeltas: Array<number>;\n\n  deltasTimestamp: Array<number>;\n\n  constructor({\n    stability = 8,\n    sensitivity = 100,\n    tolerance = 1.1,\n    delay = 150,\n  }: LethargyConfig = {}) {\n    this.stability = stability;\n    this.sensitivity = sensitivity;\n    this.tolerance = tolerance;\n    this.delay = delay;\n    this.lastUpDeltas = new Array(this.stability * 2).fill(0);\n    this.lastDownDeltas = new Array(this.stability * 2).fill(0);\n    this.deltasTimestamp = new Array(this.stability * 2).fill(0);\n  }\n\n  check(e: any) {\n    let lastDelta;\n    e = e.originalEvent || e;\n    if (e.wheelDelta !== undefined) {\n      lastDelta = e.wheelDelta;\n    } else if (e.deltaY !== undefined) {\n      lastDelta = e.deltaY * -40;\n    } else if (e.detail !== undefined || e.detail === 0) {\n      lastDelta = e.detail * -40;\n    }\n    this.deltasTimestamp.push(Date.now());\n    this.deltasTimestamp.shift();\n    if (lastDelta > 0) {\n      this.lastUpDeltas.push(lastDelta);\n      this.lastUpDeltas.shift();\n      return this.isInertia(1);\n    } else {\n      this.lastDownDeltas.push(lastDelta);\n      this.lastDownDeltas.shift();\n      return this.isInertia(-1);\n    }\n  }\n\n  isInertia(direction: number) {\n    const lastDeltas = direction === -1 ? this.lastDownDeltas : this.lastUpDeltas;\n    if (lastDeltas[0] === undefined) return direction;\n    if (\n      this.deltasTimestamp[this.stability * 2 - 2] + this.delay > Date.now()\n      && lastDeltas[0] === lastDeltas[this.stability * 2 - 1]\n    ) {\n      return false;\n    }\n    const lastDeltasOld = lastDeltas.slice(0, this.stability);\n    const lastDeltasNew = lastDeltas.slice(this.stability, this.stability * 2);\n    const oldSum = lastDeltasOld.reduce((t, s) => t + s);\n    const newSum = lastDeltasNew.reduce((t, s) => t + s);\n    const oldAverage = oldSum / lastDeltasOld.length;\n    const newAverage = newSum / lastDeltasNew.length;\n    return Math.abs(oldAverage) < Math.abs(newAverage * this.tolerance)\n      && this.sensitivity < Math.abs(newAverage);\n  }\n}\n","import { DEBUG } from '../config';\n\nexport function logDebugError(message: string, ...args: any[]) {\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.error(`[DEBUG][${message}]`, ...args);\n  }\n}\n\nexport function logDebug(message: any, ...args: any[]) {\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log(`[DEBUG] ${message}`, ...args);\n  }\n}\n","export const clamp = (num: number, min: number, max: number) => (Math.min(max, Math.max(min, num)));\nexport const isBetween = (num: number, min: number, max: number) => (num >= min && num <= max);\nexport const round = (num: number, decimals: number = 0) => Math.round(num * 10 ** decimals) / 10 ** decimals;\nexport const lerp = (start: number, end: number, interpolationRatio: number) => {\n  return (1 - interpolationRatio) * start + interpolationRatio * end;\n};\n\n// Fractional values cause blurry text & canvas. Round to even to keep whole numbers while centering\nexport function roundToNearestEven(value: number) {\n  return Math.round(value / 2) * 2;\n}\n","export const MEMO_EMPTY_ARRAY = [];\n","import { areSortedArraysEqual } from './iteratees';\n\nconst cache = new WeakMap<AnyFunction, {\n  lastArgs: any[];\n  lastResult: any;\n  lastTime: number;\n  isDisabledUntil?: number;\n}>();\n\nexport default function memoized<T extends AnyFunction>(fn: T, ttlSeconds?: number) {\n  const wrapper = (...args: Parameters<T>): ReturnType<T> => {\n    const cached = cache.get(fn);\n    const now = Date.now();\n\n    if (cached) {\n      const isCacheDisabled = cached.isDisabledUntil && cached.isDisabledUntil > now;\n      const isStale = ttlSeconds && cached.lastTime + (ttlSeconds * 1000) < now;\n\n      if (!isCacheDisabled && !isStale && areSortedArraysEqual(cached.lastArgs, args)) {\n        return cached.lastResult;\n      }\n    }\n\n    const result = fn(...args);\n    cache.set(fn, {\n      ...cached,\n      lastArgs: args,\n      lastResult: result,\n      lastTime: now,\n    });\n    return result;\n  };\n\n  wrapper.disableCache = (seconds: number) => {\n    const cached = cache.get(fn);\n    if (cached) {\n      cached.isDisabledUntil = Date.now() + (seconds * 1000);\n    }\n  };\n\n  return wrapper;\n}\n","let counter = 0;\n\nexport function disableSwipeToClose() {\n  counter += 1;\n}\n\nexport function enableSwipeToClose() {\n  counter -= 1;\n}\n\nexport function getIsSwipeToCloseDisabled() {\n  return counter > 0;\n}\n","import { addCallback } from '../lib/teact/teactn';\nimport { getActions, getGlobal, setGlobal } from '../global';\n\nimport type { ActionPayloads, GlobalState } from '../global/types';\n\nimport { MULTITAB_DATA_CHANNEL_NAME } from '../config';\nimport { deepDiff } from './deepDiff';\nimport { deepMerge } from './deepMerge';\nimport { omit } from './iteratees';\nimport { IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET, IS_MULTITAB_SUPPORTED } from './windowEnvironment';\n\nimport { isBackgroundModeActive } from '../hooks/useBackgroundMode';\n\ninterface BroadcastChannelGlobalDiff {\n  type: 'globalDiffUpdate';\n  diff: any;\n}\n\ninterface BroadcastChannelCallActionInMain<K extends keyof ActionPayloads> {\n  type: 'callActionInMain';\n  name: K;\n  options?: ActionPayloads[K];\n}\n\ninterface BroadcastChannelCallActionInNative<K extends keyof ActionPayloads> {\n  type: 'callActionInNative';\n  name: K;\n  options?: ActionPayloads[K];\n}\n\ntype BroadcastChannelMessage = BroadcastChannelGlobalDiff\n| BroadcastChannelCallActionInMain<keyof ActionPayloads>\n| BroadcastChannelCallActionInNative<keyof ActionPayloads>;\ntype EventListener = (type: 'message', listener: (event: { data: BroadcastChannelMessage }) => void) => void;\n\nexport type TypedBroadcastChannel = {\n  postMessage: (message: BroadcastChannelMessage) => void;\n  addEventListener: EventListener;\n  removeEventListener: EventListener;\n};\n\nconst channel = IS_MULTITAB_SUPPORTED\n  ? new BroadcastChannel(MULTITAB_DATA_CHANNEL_NAME) as TypedBroadcastChannel\n  : undefined;\n\nlet currentGlobal = getGlobal();\n\nexport function initMultitab({ noPubGlobal }: { noPubGlobal?: boolean } = {}) {\n  if (!channel) return;\n\n  if (!noPubGlobal) {\n    addCallback(handleGlobalChange);\n  }\n\n  channel.addEventListener('message', handleMultitabMessage);\n}\n\nfunction handleGlobalChange(global: GlobalState) {\n  if (global === currentGlobal) return;\n\n  if (isBackgroundModeActive()) {\n    currentGlobal = global;\n    return;\n  }\n\n  const diff = deepDiff(omitLocalOnlyKeys(currentGlobal), omitLocalOnlyKeys(global));\n\n  if (typeof diff !== 'symbol') {\n    channel!.postMessage({\n      type: 'globalDiffUpdate',\n      diff,\n    });\n  }\n\n  currentGlobal = global;\n}\n\nfunction omitLocalOnlyKeys(global: GlobalState) {\n  return omit(global, ['DEBUG_capturedId']);\n}\n\nfunction handleMultitabMessage({ data }: { data: BroadcastChannelMessage }) {\n  switch (data.type) {\n    case 'globalDiffUpdate': {\n      if (IS_DELEGATED_BOTTOM_SHEET) return;\n\n      currentGlobal = deepMerge(getGlobal(), data.diff);\n\n      setGlobal(currentGlobal);\n\n      break;\n    }\n\n    case 'callActionInMain': {\n      if (!IS_DELEGATING_BOTTOM_SHEET) return;\n\n      const { name, options } = data;\n\n      getActions()[name](options as never);\n      break;\n    }\n\n    case 'callActionInNative': {\n      if (!IS_DELEGATED_BOTTOM_SHEET) return;\n\n      const { name, options } = data;\n\n      getActions()[name](options as never);\n      break;\n    }\n  }\n}\n\nexport function callActionInMain<K extends keyof ActionPayloads>(name: K, options?: ActionPayloads[K]) {\n  channel!.postMessage({\n    type: 'callActionInMain',\n    name,\n    options,\n  });\n}\n\nexport function callActionInNative<K extends keyof ActionPayloads>(name: K, options?: ActionPayloads[K]) {\n  channel!.postMessage({\n    type: 'callActionInNative',\n    name,\n    options,\n  });\n}\n","import { NativeAudio } from '@capgo/native-audio';\n\nimport { IS_CAPACITOR } from '../config';\nimport { logDebug, logDebugError } from './logs';\nimport { debounce } from './schedulers';\nimport { IS_DELEGATED_BOTTOM_SHEET } from './windowEnvironment';\n\nimport incomingTransactionSound from '../assets/incoming-transaction.mp3';\n\nconst DEBOUNCE_MS = 1000;\n\nconst AudioContextConstructor = window.AudioContext || window.webkitAudioContext;\nconst audioContext = new AudioContextConstructor();\nlet audioBuffer: AudioBuffer | undefined;\nlet isSoundInitialized = IS_CAPACITOR || audioContext.state === 'running';\n\n// Workaround: this function is called once on the first user interaction.\n// After that, it will be possible to play the notification without problems.\n// https://developer.chrome.com/blog/autoplay?hl=ru#webaudio\nexport function initializeSounds() {\n  if (isSoundInitialized) return;\n\n  audioContext\n    .resume()\n    .then(() => {\n      isSoundInitialized = true;\n    })\n    .catch((err: any) => {\n      logDebugError('appSounds:initializeSounds', err);\n    });\n}\n\nfunction loadSound() {\n  if (IS_CAPACITOR) {\n    NativeAudio.preload({\n      assetId: 'incomingTransactionSound',\n      assetPath: 'public/incoming-transaction.mp3',\n      audioChannelNum: 1,\n      isUrl: false,\n    }).catch((err : any) => {\n      logDebugError('appSounds:loadSound', err);\n    });\n  } else {\n    fetch(incomingTransactionSound)\n      .then((response) => response.arrayBuffer())\n      .then((arrayBuffer) => audioContext.decodeAudioData(arrayBuffer))\n      .then((decodedAudioBuffer) => {\n        audioBuffer = decodedAudioBuffer;\n      })\n      .catch((err: any) => {\n        logDebugError('appSounds:loadSound', err);\n      });\n  }\n}\n\nloadSound();\n\nexport const playIncomingTransactionSound = debounce(() => {\n  if (IS_DELEGATED_BOTTOM_SHEET) return;\n\n  if (!isSoundInitialized) {\n    logDebug('appSounds:playIncomingTransactionSound', 'sound is not initialized');\n    return;\n  }\n\n  if (IS_CAPACITOR) {\n    NativeAudio\n      .play({\n        assetId: 'incomingTransactionSound',\n      })\n      .catch((err: any) => {\n        logDebugError('appSounds:playIncomingTransactionSound', err);\n      });\n    return;\n  }\n\n  if (!audioBuffer) {\n    logDebug('playIncomingTransactionSound', 'audioBuffer is not loaded');\n    return;\n  }\n\n  const source = audioContext.createBufferSource();\n  source.buffer = audioBuffer;\n  source.connect(audioContext.destination);\n  source.start(0);\n}, DEBOUNCE_MS, true, false);\n","import { AppLauncher } from '@capacitor/app-launcher';\nimport { getActions } from '../global';\n\nimport { IS_CAPACITOR } from '../config';\n\nexport async function openUrl(url: string, isExternal?: boolean, title?: string, subtitle?: string) {\n  if (IS_CAPACITOR && !isExternal && url.startsWith('http')) {\n    getActions().openBrowser({ url, title, subtitle });\n  } else {\n    const couldOpenApp = IS_CAPACITOR && await openAppSafe(url);\n    if (!couldOpenApp) {\n      window.open(url, '_blank', 'noopener');\n    }\n  }\n}\n\nexport function handleOpenUrl(e: React.MouseEvent<HTMLAnchorElement, MouseEvent>) {\n  e.preventDefault();\n  openUrl(e.currentTarget.href);\n}\n\nasync function openAppSafe(url: string) {\n  try {\n    return (await AppLauncher.openUrl({ url })).completed;\n  } catch (err) {\n    return false;\n  }\n}\n","export const preloadedImageUrls = new Set();\n\nexport function preloadImage(url: string): Promise<HTMLImageElement> {\n  return new Promise((resolve, reject) => {\n    const img = new Image();\n    img.onload = () => {\n      preloadedImageUrls.add(url);\n      resolve(img);\n    };\n    img.onerror = reject;\n    img.src = url;\n  });\n}\n","export function random(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function sample<T extends any>(arr: T[]) {\n  return arr[random(0, arr.length - 1)];\n}\n\nexport function randomBytes(size: number) {\n  // eslint-disable-next-line no-restricted-globals\n  return self.crypto.getRandomValues(new Uint8Array(size));\n}\n","let resolveRenderPromise: Function;\nconst renderPromise = new Promise((resolve) => {\n  resolveRenderPromise = resolve;\n});\n\nexport function resolveRender() {\n  resolveRenderPromise();\n}\n\nexport function waitRender() {\n  return renderPromise;\n}\n","import { IS_IOS } from './windowEnvironment';\n\nconst resetScroll = (container: HTMLDivElement, scrollTop?: number) => {\n  if (IS_IOS) {\n    container.style.overflow = 'hidden';\n  }\n\n  if (scrollTop !== undefined) {\n    container.scrollTop = scrollTop;\n  }\n\n  if (IS_IOS) {\n    container.style.overflow = '';\n  }\n};\n\nexport default resetScroll;\n","import { IS_ANDROID, IS_IOS } from './windowEnvironment';\n\nexport default function resolveModalTransitionName() {\n  return IS_ANDROID ? 'slideFadeAndroid' : IS_IOS ? 'slideLayers' : 'slideFade';\n}\n","import type { RoundingMode } from '../lib/big.js';\n\nimport { Big } from '../lib/big.js';\n\nexport function round(value: number | string, precision = 0, roundingMode: RoundingMode = Big.roundHalfUp) {\n  const bn = new Big(value);\n\n  return bn.round(precision, roundingMode).toNumber();\n}\n\nexport function floor(value: number | string, precision = 0) {\n  return round(value, precision, Big.roundDown);\n}\n\nexport function ceil(value: number | string, precision = 0) {\n  return round(value, precision, Big.roundUp);\n}\n","import { DEBUG_MORE } from '../config';\nimport { handleError } from './handleError';\n\nconst SAFE_EXEC_ENABLED = !DEBUG_MORE;\n\nexport default function safeExec(cb: Function, rescue?: (err: Error) => void, always?: NoneToVoidFunction) {\n  if (!SAFE_EXEC_ENABLED) {\n    return cb();\n  }\n\n  try {\n    return cb();\n  } catch (err: any) {\n    rescue?.(err);\n    handleError(err);\n    return undefined;\n  } finally {\n    always?.();\n  }\n}\n","export function saveCaretPosition(context: HTMLElement, decimals: number) {\n  const selection = window.getSelection();\n  if (!selection || selection.rangeCount === 0) {\n    return undefined;\n  }\n\n  const range = selection.getRangeAt(0);\n  range.setStart(context, 0);\n  const clearedValue = range.toString().match(new RegExp(`(\\\\d+(?:[.,]\\\\d{0,${decimals}})?)`));\n  const len = clearedValue?.[0]?.length || range.toString().length || 0;\n\n  return function restore() {\n    try {\n      const { node, position } = getTextNodeAtPosition(context, len);\n\n      selection.removeAllRanges();\n      const newRange = new Range();\n      newRange.setStart(node, position);\n      newRange.setEnd(node, position);\n      selection.addRange(newRange);\n    } catch (e) {\n      // ignore\n    }\n  };\n}\n\nfunction getTextNodeAtPosition(root: HTMLElement, index: number) {\n  const NODE_TYPE = NodeFilter.SHOW_TEXT;\n  const treeWalker = document.createTreeWalker(root, NODE_TYPE, (elem) => {\n    if (index > elem.textContent!.length) {\n      index -= elem.textContent!.length;\n      return NodeFilter.FILTER_REJECT;\n    }\n\n    return NodeFilter.FILTER_ACCEPT;\n  });\n\n  const node = treeWalker.nextNode();\n\n  return {\n    node: node || root,\n    position: index,\n  };\n}\n","export type Scheduler = typeof requestAnimationFrame | typeof onTickEnd;\n\nexport function debounce<F extends AnyToVoidFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n  shouldRunLast = true,\n) {\n  let waitingTimeout: number | undefined;\n\n  return (...args: Parameters<F>) => {\n    if (waitingTimeout) {\n      clearTimeout(waitingTimeout);\n      waitingTimeout = undefined;\n    } else if (shouldRunFirst) {\n      fn(...args);\n    }\n\n    // eslint-disable-next-line no-restricted-globals\n    waitingTimeout = self.setTimeout(() => {\n      if (shouldRunLast) {\n        fn(...args);\n      }\n\n      waitingTimeout = undefined;\n    }, ms);\n  };\n}\n\nexport function throttle<F extends AnyToVoidFunction>(\n  fn: F,\n  ms: number,\n  shouldRunFirst = true,\n) {\n  let interval: number | undefined;\n  let isPending: boolean;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    isPending = true;\n    args = _args;\n\n    if (!interval) {\n      if (shouldRunFirst) {\n        isPending = false;\n        fn(...args);\n      }\n\n      // eslint-disable-next-line no-restricted-globals\n      interval = self.setInterval(() => {\n        if (!isPending) {\n          // eslint-disable-next-line no-restricted-globals\n          self.clearInterval(interval!);\n          interval = undefined;\n          return;\n        }\n\n        isPending = false;\n        fn(...args);\n      }, ms);\n    }\n  };\n}\n\nexport function throttleWithTickEnd<F extends AnyToVoidFunction>(fn: F) {\n  return throttleWith(onTickEnd, fn);\n}\n\nexport function throttleWith<F extends AnyToVoidFunction>(schedulerFn: Scheduler, fn: F) {\n  let waiting = false;\n  let args: Parameters<F>;\n\n  return (..._args: Parameters<F>) => {\n    args = _args;\n\n    if (!waiting) {\n      waiting = true;\n\n      schedulerFn(() => {\n        waiting = false;\n        fn(...args);\n      });\n    }\n  };\n}\n\nexport function onIdle(cb: NoneToVoidFunction, timeout?: number) {\n  // eslint-disable-next-line no-restricted-globals\n  if (self.requestIdleCallback) {\n    // eslint-disable-next-line no-restricted-globals\n    self.requestIdleCallback(cb, { timeout });\n  } else {\n    onTickEnd(cb);\n  }\n}\n\nexport const pause = (ms: number) => new Promise<void>((resolve) => {\n  setTimeout(() => resolve(), ms);\n});\n\nexport function rafPromise() {\n  return new Promise<void>((resolve) => {\n    fastRaf(resolve);\n  });\n}\n\nconst FAST_RAF_TIMEOUT_FALLBACK_MS = 35; // < 30 FPS\n\nlet fastRafCallbacks: Set<NoneToVoidFunction> | undefined;\nlet fastRafFallbackCallbacks: Set<NoneToVoidFunction> | undefined;\nlet fastRafFallbackTimeout: number | undefined;\n\n// May result in an immediate execution if called from another RAF callback which was scheduled\n// (and therefore is executed) earlier than RAF callback scheduled by `fastRaf`\nexport function fastRaf(callback: NoneToVoidFunction, withTimeoutFallback = false) {\n  if (!fastRafCallbacks) {\n    fastRafCallbacks = new Set([callback]);\n\n    requestAnimationFrame(() => {\n      const currentCallbacks = fastRafCallbacks!;\n\n      fastRafCallbacks = undefined;\n      fastRafFallbackCallbacks = undefined;\n\n      if (fastRafFallbackTimeout) {\n        clearTimeout(fastRafFallbackTimeout);\n        fastRafFallbackTimeout = undefined;\n      }\n\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else {\n    fastRafCallbacks.add(callback);\n  }\n\n  if (withTimeoutFallback) {\n    if (!fastRafFallbackCallbacks) {\n      fastRafFallbackCallbacks = new Set([callback]);\n    } else {\n      fastRafFallbackCallbacks.add(callback);\n    }\n\n    if (!fastRafFallbackTimeout) {\n      fastRafFallbackTimeout = window.setTimeout(() => {\n        const currentTimeoutCallbacks = fastRafFallbackCallbacks!;\n\n        if (fastRafCallbacks) {\n          currentTimeoutCallbacks.forEach(fastRafCallbacks.delete, fastRafCallbacks);\n        }\n        fastRafFallbackCallbacks = undefined;\n\n        if (fastRafFallbackTimeout) {\n          clearTimeout(fastRafFallbackTimeout);\n          fastRafFallbackTimeout = undefined;\n        }\n\n        currentTimeoutCallbacks.forEach((cb) => cb());\n      }, FAST_RAF_TIMEOUT_FALLBACK_MS);\n    }\n  }\n}\n\nlet onTickEndCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onTickEnd(callback: NoneToVoidFunction) {\n  if (!onTickEndCallbacks) {\n    onTickEndCallbacks = [callback];\n\n    Promise.resolve().then(() => {\n      const currentCallbacks = onTickEndCallbacks!;\n      onTickEndCallbacks = undefined;\n      currentCallbacks.forEach((cb) => cb());\n    });\n  } else {\n    onTickEndCallbacks.push(callback);\n  }\n}\n\nlet beforeUnloadCallbacks: NoneToVoidFunction[] | undefined;\n\nexport function onBeforeUnload(callback: NoneToVoidFunction, isLast = false) {\n  if (!beforeUnloadCallbacks) {\n    beforeUnloadCallbacks = [];\n    // eslint-disable-next-line no-restricted-globals\n    self.addEventListener('beforeunload', () => {\n      beforeUnloadCallbacks!.forEach((cb) => cb());\n    });\n  }\n\n  if (isLast) {\n    beforeUnloadCallbacks.push(callback);\n  } else {\n    beforeUnloadCallbacks.unshift(callback);\n  }\n\n  return () => {\n    beforeUnloadCallbacks = beforeUnloadCallbacks!.filter((cb) => cb !== callback);\n  };\n}\n\nexport async function waitFor(cb: () => boolean, interval: number, attempts: number) {\n  let i = 0;\n  let result = cb();\n\n  while (!result && i < attempts) {\n    await pause(interval);\n\n    i++;\n    result = cb();\n  }\n\n  return result;\n}\n","import withCache from './withCache';\n\nconst DEFAULT_SHIFT = 6;\nconst FILLER = '...';\nconst FILLER_LENGTH = FILLER.length;\n\nexport const shortenAddress = withCache((address: string, shift = DEFAULT_SHIFT, fromRight = shift) => {\n  if (!address) return undefined;\n\n  if (address.length <= shift + fromRight + FILLER_LENGTH) return address;\n\n  return `${address.slice(0, shift)}${FILLER}${address.slice(-fromRight)}`;\n});\n","import type { CallbackManager } from './callbacks';\n\nimport { createCallbackManager } from './callbacks';\n\ninterface SignalState<T> {\n  value: T;\n  effects: CallbackManager;\n}\n\nconst SIGNAL_MARK = Symbol('SIGNAL_MARK');\n\nexport type Signal<T = any> = ((() => T) & {\n  readonly [SIGNAL_MARK]: symbol;\n  subscribe: (cb: AnyToVoidFunction) => NoneToVoidFunction;\n});\n\nexport function isSignal(obj: any): obj is Signal {\n  return typeof obj === 'function' && SIGNAL_MARK in obj;\n}\n\n// A shorthand to unsubscribe effect from all signals\nconst unsubscribesByEffect = new Map<NoneToVoidFunction, Set<NoneToVoidFunction>>();\n\nlet currentEffect: NoneToVoidFunction | undefined;\n\nexport function createSignal<T>(defaultValue?: T) {\n  const state: SignalState<typeof defaultValue> = {\n    value: defaultValue,\n    effects: createCallbackManager(),\n  };\n\n  function subscribe(effect: NoneToVoidFunction) {\n    const unsubscribe = state.effects.addCallback(effect);\n\n    if (!unsubscribesByEffect.has(effect)) {\n      unsubscribesByEffect.set(effect, new Set([unsubscribe]));\n    } else {\n      unsubscribesByEffect.get(effect)!.add(unsubscribe);\n    }\n\n    return () => {\n      unsubscribe();\n\n      const unsubscribes = unsubscribesByEffect.get(effect)!;\n      unsubscribes.delete(unsubscribe);\n      if (!unsubscribes.size) {\n        unsubscribesByEffect.delete(effect);\n      }\n    };\n  }\n\n  function getter() {\n    if (currentEffect) {\n      subscribe(currentEffect);\n    }\n\n    return state.value;\n  }\n\n  function setter(newValue: T) {\n    if (state.value === newValue) {\n      return;\n    }\n\n    state.value = newValue;\n    state.effects.runCallbacks();\n  }\n\n  const signal = Object.assign(getter as Signal<T>, {\n    [SIGNAL_MARK]: SIGNAL_MARK,\n    subscribe,\n  });\n\n  return [signal, setter] as const;\n}\n\nexport function cleanupEffect(effect: NoneToVoidFunction) {\n  unsubscribesByEffect.get(effect)?.forEach((unsubscribe) => {\n    unsubscribe();\n  });\n  unsubscribesByEffect.delete(effect);\n}\n","import type React from '../lib/teact/teact';\n\nconst stopEvent = (e: React.UIEvent | Event | React.FormEvent) => {\n  e.stopPropagation();\n  e.preventDefault();\n};\n\nexport default stopEvent;\n","export function buildSwapId(backendId: string) {\n  return `swap:${backendId}`;\n}\n","import avalancheBlockchainIcon from '../../assets/blockchain/chain_avalanche.png';\nimport bitcoinBlockchainIcon from '../../assets/blockchain/chain_bitcoin.png';\nimport bitcoincashBlockchainIcon from '../../assets/blockchain/chain_bitcoincash.png';\nimport bnbBlockchainIcon from '../../assets/blockchain/chain_bnb.png';\nimport cardanoBlockchainIcon from '../../assets/blockchain/chain_cardano.png';\nimport cosmosBlockchainIcon from '../../assets/blockchain/chain_cosmos.png';\nimport dashBlockchainIcon from '../../assets/blockchain/chain_dash.png';\nimport dogeBlockchainIcon from '../../assets/blockchain/chain_doge.png';\nimport eosBlockchainIcon from '../../assets/blockchain/chain_eos.png';\nimport ethereumBlockchainIcon from '../../assets/blockchain/chain_ethereum.png';\nimport ethereumclassicBlockchainIcon from '../../assets/blockchain/chain_ethereumclassic.png';\nimport internetcomputerBlockchainIcon from '../../assets/blockchain/chain_internetcomputer.png';\nimport iotaBlockchainIcon from '../../assets/blockchain/chain_iota.png';\nimport litecoinBlockchainIcon from '../../assets/blockchain/chain_litecoin.png';\nimport moneroBlockchainIcon from '../../assets/blockchain/chain_monero.png';\nimport polkadotBlockchainIcon from '../../assets/blockchain/chain_polkadot.png';\nimport rippleBlockchainIcon from '../../assets/blockchain/chain_ripple.png';\nimport solanaBlockchainIcon from '../../assets/blockchain/chain_solana.png';\nimport stellarBlockchainIcon from '../../assets/blockchain/chain_stellar.png';\nimport tonBlockchainIcon from '../../assets/blockchain/chain_ton.png';\nimport tronBlockchainIcon from '../../assets/blockchain/chain_tron.png';\nimport zcashBlockchainIcon from '../../assets/blockchain/chain_zcash.png';\n\nconst BLOCKCHAIN_ICON_MAP: Record<string, string> = {\n  avalanche: avalancheBlockchainIcon,\n  bitcoin: bitcoinBlockchainIcon,\n  bitcoin_cash: bitcoincashBlockchainIcon,\n  binance_smart_chain: bnbBlockchainIcon,\n  binance_dex: bnbBlockchainIcon,\n  cardano: cardanoBlockchainIcon,\n  cosmos: cosmosBlockchainIcon,\n  dash: dashBlockchainIcon,\n  doge: dogeBlockchainIcon,\n  eos: eosBlockchainIcon,\n  ethereum: ethereumBlockchainIcon,\n  ethereum_classic: ethereumclassicBlockchainIcon,\n  internet_computer: internetcomputerBlockchainIcon,\n  iota: iotaBlockchainIcon,\n  litecoin: litecoinBlockchainIcon,\n  monero: moneroBlockchainIcon,\n  polkadot: polkadotBlockchainIcon,\n  ripple: rippleBlockchainIcon,\n  solana: solanaBlockchainIcon,\n  stellar: stellarBlockchainIcon,\n  ton: tonBlockchainIcon,\n  tron: tronBlockchainIcon,\n  zcash: zcashBlockchainIcon,\n};\nexport default function getBlockchainNetworkIcon(networkName?: string) {\n  if (!networkName) return '';\n\n  return BLOCKCHAIN_ICON_MAP[networkName] ?? networkName;\n}\n","const NETWORK_NAMES_EXCEPTIONS: Record<string, string> = {\n  binance_smart_chain: 'Binance Smart Chain',\n  internet_computer: 'Internet Computer',\n  ethereum_classic: 'Ethereum Classic',\n  bitcoin_cash: 'Bitcoin Cash',\n  binance_dex: 'Binance Dex',\n  ton: 'TON',\n  bitcoin: 'Bitcoin',\n  ethereum: 'Ethereum',\n  solana: 'Solana',\n  tron: 'TRON',\n  stellar: 'Stellar',\n  doge: 'DOGE',\n  eos: 'EOS',\n  avalanche: 'Avalanche',\n  cardano: 'Cardano',\n  monero: 'Monero',\n  dash: 'Dash',\n  ripple: 'Ripple',\n  cosmos: 'Cosmos',\n  litecoin: 'Litecoin',\n  zcash: 'Zcash',\n  polkadot: 'Polkadot',\n  iota: 'IOTA',\n};\n\nexport default function getBlockchainNetworkName(networkName?: string) {\n  if (!networkName) return '';\n\n  return NETWORK_NAMES_EXCEPTIONS[networkName] ?? networkName;\n}\n","import type { ApiSwapAsset } from '../../api/types';\n\nimport { TON_SYMBOL } from '../../config';\nimport { Big } from '../../lib/big.js';\nimport { formatInteger } from '../formatNumber';\n\nconst BTC = new Set(['jWBTC', 'oWBTC', 'BTC']);\nconst USD = new Set(['jUSDT', 'oUSDT', 'USDT', 'jUSDC', 'oUSDC', 'USDC', 'USD']);\nconst FIAT = new Set(['USD', 'RUB', 'EUR', 'CNY']);\n\nconst LARGE_NUMBER = 1000;\n\nfunction getCurrencyPriority(symbol: string) {\n  if (FIAT.has(symbol)) return 5;\n  if (USD.has(symbol)) return 4;\n  if (BTC.has(symbol)) return 3;\n  if (symbol === TON_SYMBOL) return 2;\n\n  return 1;\n}\n\nexport default function getSwapRate(\n  fromAmount?: string,\n  toAmount?: string,\n  fromToken?: ApiSwapAsset,\n  toToken?: ApiSwapAsset,\n  shouldTrimLargeNumber = false,\n) {\n  if (!fromAmount || !toAmount || !fromToken || !toToken) {\n    return undefined;\n  }\n\n  let firstCurrencySymbol = fromToken.symbol;\n  let secondCurrencySymbol = toToken.symbol;\n  let price: string;\n  const fromAmountBig = new Big(fromAmount);\n  const toAmountBig = new Big(toAmount);\n\n  if (fromAmountBig.eq(0) || toAmountBig.eq(0)) {\n    return undefined;\n  }\n\n  const fromPriority = getCurrencyPriority(firstCurrencySymbol);\n  const toPriority = getCurrencyPriority(secondCurrencySymbol);\n\n  if (toPriority < fromPriority) {\n    firstCurrencySymbol = toToken.symbol;\n    secondCurrencySymbol = fromToken.symbol;\n    const ratio = fromAmountBig.div(toAmount);\n    const isLargeNumber = shouldTrimLargeNumber && ratio.gte(LARGE_NUMBER);\n    price = formatInteger(ratio.toNumber(), isLargeNumber ? 0 : 4);\n  } else {\n    const ratio = toAmountBig.div(fromAmount);\n    const isLargeNumber = shouldTrimLargeNumber && ratio.gte(LARGE_NUMBER);\n    price = formatInteger(ratio.toNumber(), isLargeNumber ? 0 : 4);\n  }\n\n  return {\n    firstCurrencySymbol,\n    secondCurrencySymbol,\n    price,\n  };\n}\n","import type { MoveOffsets } from './captureEvents';\n\nimport { requestMeasure, requestMutation } from '../lib/fasterdom/fasterdom';\nimport { animateNumber, timingFunctions } from './animation';\nimport { captureEvents, SwipeDirection } from './captureEvents';\nimport { waitForAnimationEnd } from './cssAnimationEndListeners';\nimport { clamp } from './math';\nimport { IS_IOS } from './windowEnvironment';\n\nconst INERTIA_DURATION = 300;\nconst INERTIA_EASING = timingFunctions.easeOutCubic;\n\nlet isSwipeActive = false;\nlet swipeOffsets: MoveOffsets | undefined;\nlet onDrag: ((offsets: MoveOffsets) => void) | undefined;\nlet onRelease: ((onCancel: NoneToVoidFunction) => void) | undefined;\nlet cancelCurrentReleaseAnimation: NoneToVoidFunction | undefined;\n\nexport function captureControlledSwipe(\n  element: HTMLElement, options: {\n    onSwipeLeftStart?: NoneToVoidFunction;\n    onSwipeRightStart?: NoneToVoidFunction;\n    onCancel: NoneToVoidFunction;\n  },\n) {\n  return captureEvents(element, {\n    swipeThreshold: 10,\n\n    onSwipe(e, direction, offsets) {\n      if (direction === SwipeDirection.Left) {\n        options.onSwipeLeftStart?.();\n      } else if (direction === SwipeDirection.Right) {\n        options.onSwipeRightStart?.();\n      } else {\n        return false;\n      }\n\n      if (IS_IOS) {\n        isSwipeActive = true;\n        swipeOffsets = offsets;\n      }\n\n      return true;\n    },\n\n    onDrag(e, captureEvent, offsets) {\n      if (!isSwipeActive) return;\n\n      onDrag?.(offsets);\n    },\n\n    onRelease() {\n      if (!isSwipeActive) return;\n\n      isSwipeActive = false;\n\n      onRelease?.(options.onCancel);\n\n      onDrag = undefined;\n      onRelease = undefined;\n    },\n  });\n}\n\nexport function allowSwipeControlForTransition(\n  currentSlide: HTMLElement,\n  nextSlide: HTMLElement,\n  onCancelForTransition: NoneToVoidFunction,\n) {\n  cancelCurrentReleaseAnimation?.();\n\n  if (!isSwipeActive) return;\n\n  const targetPosition = extractAnimationEndPosition(currentSlide);\n  if (!targetPosition) return;\n\n  currentSlide.getAnimations().forEach((a) => a.pause());\n  nextSlide.getAnimations().forEach((a) => a.pause());\n\n  currentSlide.style.animationTimingFunction = 'linear';\n  nextSlide.style.animationTimingFunction = 'linear';\n\n  let currentDirection: 1 | -1 | undefined;\n\n  requestMeasure(() => {\n    const computedStyle = getComputedStyle(currentSlide);\n    const initialPositionPx = extractPositionFromMatrix(computedStyle.transform, targetPosition.axis);\n    const targetPositionPx = targetPosition.units === 'px'\n      ? targetPosition.value\n      : ((targetPosition.value / 100) * (\n        targetPosition.axis === 'X' ? currentSlide.offsetWidth : currentSlide.offsetHeight\n      ));\n    const distance = targetPositionPx - initialPositionPx;\n\n    let progress = 0;\n\n    onDrag = ({ dragOffsetX, dragOffsetY }) => {\n      const dragOffset = targetPosition.axis === 'X'\n        ? dragOffsetX - swipeOffsets!.dragOffsetX\n        : dragOffsetY - swipeOffsets!.dragOffsetY;\n\n      const newProgress = clamp(dragOffset / distance, 0, 1);\n      currentDirection = newProgress > progress ? 1 : -1;\n      progress = newProgress;\n\n      updateAnimationProgress([currentSlide, nextSlide], progress);\n    };\n\n    onRelease = (onCancelForClient: NoneToVoidFunction) => {\n      const isRevertSwipe = currentDirection === -1;\n\n      function cleanup() {\n        currentSlide.getAnimations().forEach((a) => a.cancel());\n        nextSlide.getAnimations().forEach((a) => a.cancel());\n\n        requestMutation(() => {\n          currentSlide.style.animationTimingFunction = '';\n          nextSlide.style.animationTimingFunction = '';\n        });\n      }\n\n      if (!isRevertSwipe) {\n        // For some reason animations are not cleared when CSS class is removed\n        waitForAnimationEnd(currentSlide, cleanup);\n      }\n\n      cancelCurrentReleaseAnimation = animateNumber({\n        from: progress,\n        to: isRevertSwipe ? 0 : 1,\n        duration: INERTIA_DURATION,\n        timing: INERTIA_EASING,\n        onUpdate(releaseProgress) {\n          updateAnimationProgress([currentSlide, nextSlide], releaseProgress);\n        },\n        onEnd(isCanceled = false) {\n          cancelCurrentReleaseAnimation = undefined;\n\n          if (isCanceled || isRevertSwipe) {\n            cleanup();\n            onCancelForTransition();\n            onCancelForClient();\n          }\n        },\n      });\n    };\n  });\n}\n\nfunction updateAnimationProgress(elements: HTMLElement[], progress: number) {\n  elements.map((e) => e.getAnimations()).flat().forEach((animation) => {\n    animation.currentTime = (animation.effect!.getTiming().duration as number) * progress;\n  });\n}\n\nfunction extractAnimationEndPosition(element: HTMLElement) {\n  for (const animation of element.getAnimations()) {\n    if (!(animation.effect instanceof KeyframeEffect)) continue;\n\n    for (const keyframe of animation.effect.getKeyframes()) {\n      if (keyframe.offset !== 1 || !keyframe.transform) continue;\n\n      const position = extractPositionFromTransform(keyframe.transform as string);\n      if (position) {\n        return position;\n      }\n    }\n  }\n\n  return undefined;\n}\n\nfunction extractPositionFromTransform(transformRule: string) {\n  const match = transformRule.match(/([XY])\\((-?\\d+)(%|px)\\)/);\n  if (!match) return undefined;\n\n  return {\n    axis: match[1] as 'X' | 'Y',\n    value: Number(match[2]),\n    units: match[3],\n  };\n}\n\nfunction extractPositionFromMatrix(transform: string, axis: 'X' | 'Y') {\n  const matrix = transform.slice(7, -1).split(',').map(Number);\n  return matrix[axis === 'X' ? 4 : 5];\n}\n","import type { AnimationLevel } from '../global/types';\n\nimport { ANIMATION_LEVEL_MAX, ANIMATION_LEVEL_MED, ANIMATION_LEVEL_MIN } from '../config';\n\nconst ANIMATION_LEVEL_OPTIONS = [\n  ANIMATION_LEVEL_MIN,\n  ANIMATION_LEVEL_MED,\n  ANIMATION_LEVEL_MAX,\n];\n\nexport default function switchAnimationLevel(level: AnimationLevel) {\n  const levelClassName = `animation-level-${level}`;\n  if (document.documentElement.classList.contains(levelClassName)) {\n    return;\n  }\n\n  ANIMATION_LEVEL_OPTIONS.forEach((currentLevel) => {\n    document.documentElement.classList.toggle(`animation-level-${currentLevel}`, currentLevel === level);\n  });\n}\n","import type { Theme } from '../global/types';\n\nimport { IS_CAPACITOR } from '../config';\nimport { requestMeasure } from '../lib/fasterdom/fasterdom';\nimport { switchStatusBar } from './capacitor';\n\nconst prefersDark = window.matchMedia('(prefers-color-scheme: dark)');\nlet currentTheme: Theme;\n\nexport default function switchTheme(theme: Theme) {\n  currentTheme = theme;\n\n  setThemeValue();\n  setThemeColor();\n}\n\nfunction setThemeValue() {\n  document.documentElement.classList.toggle(\n    'theme-dark',\n    currentTheme === 'dark' || (currentTheme === 'system' && prefersDark.matches),\n  );\n}\n\nfunction handlePrefersColorSchemeChange() {\n  setThemeValue();\n  setStatusBarStyle();\n}\n\nfunction setThemeColor() {\n  requestMeasure(() => {\n    const color = getComputedStyle(document.documentElement)\n      .getPropertyValue('--color-background-second');\n\n    document\n      .querySelector('meta[name=\"theme-color\"]')\n      ?.setAttribute('content', color);\n  });\n}\n\nexport function setStatusBarStyle(forceDarkBackground?: boolean) {\n  if (!IS_CAPACITOR) return;\n\n  switchStatusBar(currentTheme, prefersDark.matches, forceDarkBackground);\n}\n\nprefersDark.addEventListener('change', handlePrefersColorSchemeChange);\n","// https://github.com/toncenter/tonweb/blob/944455da2effaa307a2030d00e19a37e6e94897c/src/utils/index.js#L94-L109\nexport default function formatTransferUrl(address: string, amount?: bigint, text?: string) {\n  const url = `ton://transfer/${address}`;\n\n  const params = [];\n\n  if (amount) {\n    params.push(`amount=${amount}`);\n  }\n  if (text) {\n    params.push(`text=${encodeURIComponent(text)}`);\n  }\n\n  if (params.length === 0) return url;\n\n  return `${url}?${params.join('&')}`;\n}\n","import type { DeviceInfo } from '@tonconnect/protocol';\n\nimport { APP_NAME, IS_CAPACITOR, TONCONNECT_PROTOCOL_VERSION } from '../config';\nimport packageJson from '../../package.json';\nimport { IS_ELECTRON } from './windowEnvironment';\n\ntype DevicePlatform = DeviceInfo['platform'];\n\nexport function tonConnectGetDeviceInfo(): DeviceInfo {\n  return {\n    platform: getPlatform()!,\n    appName: APP_NAME,\n    appVersion: packageJson.version,\n    maxProtocolVersion: TONCONNECT_PROTOCOL_VERSION,\n    features: [\n      'SendTransaction', // TODO DEPRECATED\n      { name: 'SendTransaction', maxMessages: 4 },\n    ],\n  };\n}\n\nfunction getPlatform(): DevicePlatform {\n  const { userAgent } = window.navigator;\n  const platform = window.navigator.platform || window.navigator?.userAgentData?.platform || '';\n\n  const macosPlatforms = ['macOS', 'Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  const iphonePlatforms = ['iPhone'];\n  const ipadPlatforms = ['iPad', 'iPod'];\n\n  let devicePlatform: DevicePlatform | undefined;\n\n  if (!IS_CAPACITOR && !IS_ELECTRON) {\n    devicePlatform = 'browser';\n  } else if (/Android/.test(userAgent)) {\n    devicePlatform = 'android';\n  } else if (iphonePlatforms.indexOf(platform) !== -1) {\n    devicePlatform = 'iphone';\n  } else if (ipadPlatforms.indexOf(platform) !== -1) {\n    devicePlatform = 'ipad';\n  } else if (macosPlatforms.indexOf(platform) !== -1) {\n    devicePlatform = 'mac';\n  } else if (windowsPlatforms.indexOf(platform) !== -1) {\n    devicePlatform = 'windows';\n  } else if (/Linux/.test(platform)) {\n    devicePlatform = 'linux';\n  } else {\n    devicePlatform = 'browser';\n  }\n\n  return devicePlatform;\n}\n","export default function trapFocus(element: HTMLElement) {\n  function handleKeyDown(e: KeyboardEvent) {\n    if (e.key !== 'Tab') {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const focusableElements = Array.from(\n      element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'),\n    ) as HTMLElement[];\n    if (!focusableElements.length) {\n      return;\n    }\n\n    const currentFocusedIndex = focusableElements.findIndex((em) => em.isSameNode(document.activeElement));\n    let newFocusedIndex = 0;\n    if (currentFocusedIndex >= 0) {\n      if (e.shiftKey) {\n        newFocusedIndex = currentFocusedIndex > 0\n          ? currentFocusedIndex - 1\n          : focusableElements.length - 1;\n      } else {\n        newFocusedIndex = currentFocusedIndex < focusableElements.length - 1\n          ? currentFocusedIndex + 1\n          : 0;\n      }\n    }\n\n    focusableElements[newFocusedIndex].focus();\n  }\n\n  document.addEventListener('keydown', handleKeyDown, false);\n\n  return () => {\n    document.removeEventListener('keydown', handleKeyDown, false);\n  };\n}\n","import {\n  EMPTY_HASH_VALUE,\n  TOKEN_EXPLORER_MAINNET_URL,\n  TOKEN_EXPLORER_TESTNET_URL,\n  TON_EXPLORER_BASE_MAINNET_URL,\n  TON_EXPLORER_BASE_TESTNET_URL,\n} from '../config';\nimport { base64ToHex } from './base64toHex';\nimport { logDebugError } from './logs';\n\n// Regexp from https://stackoverflow.com/a/3809435\nconst URL_REGEX = /[-a-z0-9@:%._+~#=]{1,256}\\.[a-z0-9()]{1,6}\\b([-a-z0-9()@:%_+.~#?&/=]*)/gi;\nconst VALID_PROTOCOLS = new Set(['http:', 'https:']);\n\nexport function isValidUrl(url: string, validProtocols = VALID_PROTOCOLS) {\n  try {\n    const match = url.match(URL_REGEX);\n    if (!match) return false;\n\n    const urlObject = new URL(url);\n\n    return validProtocols.has(urlObject.protocol);\n  } catch (e) {\n    logDebugError('isValidUrl', e);\n    return false;\n  }\n}\n\nexport function getHostnameFromUrl(url: string) {\n  try {\n    const urlObject = new URL(url);\n\n    return urlObject.hostname;\n  } catch (e) {\n    logDebugError('getHostnameFromUrl', e);\n    return url;\n  }\n}\n\nfunction getTonExplorerBaseUrl(isTestnet = false) {\n  return isTestnet ? TON_EXPLORER_BASE_TESTNET_URL : TON_EXPLORER_BASE_MAINNET_URL;\n}\n\nfunction getTokenExplorerBaseUrl(isTestnet = false) {\n  return isTestnet ? TOKEN_EXPLORER_TESTNET_URL : TOKEN_EXPLORER_MAINNET_URL;\n}\n\nexport function getTonExplorerTransactionUrl(transactionHash: string | undefined, isTestnet?: boolean) {\n  if (!transactionHash || transactionHash === EMPTY_HASH_VALUE) return undefined;\n\n  return `${getTonExplorerBaseUrl(isTestnet)}transaction/${base64ToHex(transactionHash)}`;\n}\n\nexport function getTonExplorerAddressUrl(address?: string, isTestnet?: boolean) {\n  if (!address) return undefined;\n\n  return `${getTonExplorerBaseUrl(isTestnet)}${address}`;\n}\n\nexport function getTonExplorerNftCollectionUrl(nftCollectionAddress?: string, isTestnet?: boolean) {\n  if (!nftCollectionAddress) return undefined;\n\n  return `${getTonExplorerBaseUrl(isTestnet)}${nftCollectionAddress}?section=overview`;\n}\n\nexport function getTonExplorerNftUrl(nftAddress?: string, isTestnet?: boolean) {\n  if (!nftAddress) return undefined;\n\n  return `${getTonExplorerBaseUrl(isTestnet)}${nftAddress}?section=nft`;\n}\n\nexport function getTonExplorerTokenUrl(slug?: string, address?: string, isTestnet?: boolean) {\n  if (!slug && !address) return undefined;\n\n  return address\n    ? getTokenExplorerBaseUrl(isTestnet).replace('{address}', address)\n    : `https://coinmarketcap.com/currencies/${slug}/`;\n}\n","import type { LangCode } from '../global/types';\n\nimport {\n  IS_CAPACITOR, IS_EXTENSION, IS_FIREFOX_EXTENSION, LANG_LIST,\n} from '../config';\nimport { requestForcedReflow } from '../lib/fasterdom/fasterdom';\n\nexport function getPlatform() {\n  const { userAgent, platform } = window.navigator;\n\n  if (/Android/.test(userAgent)) return 'Android';\n\n  if (/Linux/.test(platform)) return 'Linux';\n\n  const iosPlatforms = ['iPhone', 'iPad', 'iPod'];\n  if (\n    iosPlatforms.indexOf(platform) !== -1\n    // For new IPads with M1 chip and IPadOS platform returns \"MacIntel\"\n    || (platform === 'MacIntel' && ('maxTouchPoints' in navigator && navigator.maxTouchPoints > 2))\n  ) {\n    return 'iOS';\n  }\n\n  const macosPlatforms = ['Macintosh', 'MacIntel', 'MacPPC', 'Mac68K'];\n  if (macosPlatforms.indexOf(platform) !== -1) return 'macOS';\n\n  const windowsPlatforms = ['Win32', 'Win64', 'Windows', 'WinCE'];\n  if (windowsPlatforms.indexOf(platform) !== -1) return 'Windows';\n\n  return undefined;\n}\n\nfunction isIPad() {\n  const { userAgent, platform } = window.navigator;\n  return platform === 'iPad'\n    || userAgent.includes('iPad')\n    || (platform === 'MacIntel' && ('maxTouchPoints' in navigator && navigator.maxTouchPoints > 2));\n}\n\nfunction getBrowserLanguage(): LangCode {\n  const { language } = navigator;\n  const lang = language.startsWith('zh')\n    ? (language.endsWith('TW') || language.endsWith('HK') ? 'zh-Hant' : 'zh-Hans')\n    : language.substring(0, 2);\n\n  return (LANG_LIST.some(({ langCode }) => langCode === lang) ? lang : 'en') as LangCode;\n}\n\nexport const IS_PWA = (\n  window.matchMedia('(display-mode: standalone)').matches\n  || (window.navigator as any).standalone\n  || document.referrer.includes('android-app://')\n);\n\nexport const PLATFORM_ENV = getPlatform();\nexport const IS_MAC_OS = PLATFORM_ENV === 'macOS';\nexport const IS_WINDOWS = PLATFORM_ENV === 'Windows';\nexport const IS_LINUX = PLATFORM_ENV === 'Linux';\nexport const IS_IOS = PLATFORM_ENV === 'iOS';\nexport const IS_ANDROID = PLATFORM_ENV === 'Android';\nexport const IS_SAFARI = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\nexport const IS_OPERA = navigator.userAgent.includes(' OPR/');\nexport const IS_FIREFOX = navigator.userAgent.includes('Firefox/');\nexport const IS_TOUCH_ENV = window.matchMedia('(pointer: coarse)').matches;\nexport const IS_CHROME_EXTENSION = Boolean(window.chrome?.system);\nexport const IS_ELECTRON = Boolean(window.electron);\nexport const IS_WEB = !IS_CAPACITOR && !IS_ELECTRON && !IS_EXTENSION;\nexport const DEFAULT_LANG_CODE = 'en';\nexport const USER_AGENT_LANG_CODE = getBrowserLanguage();\nexport const DPR = window.devicePixelRatio || 1;\nexport const IS_LEDGER_SUPPORTED = !(IS_IOS || (IS_ANDROID && IS_CAPACITOR) || IS_FIREFOX_EXTENSION);\nexport const IS_LEDGER_EXTENSION_TAB = global.location.hash.startsWith('#detached');\n// Disable biometric auth on electron for now until this issue is fixed:\n// https://github.com/electron/electron/issues/24573\nexport const IS_BIOMETRIC_AUTH_SUPPORTED = Boolean(\n  !IS_CAPACITOR && window.navigator.credentials && (!IS_ELECTRON || IS_MAC_OS),\n);\nexport const IS_DELEGATED_BOTTOM_SHEET = IS_CAPACITOR && global.location.search.startsWith('?bottom-sheet');\nexport const IS_DELEGATING_BOTTOM_SHEET = IS_CAPACITOR && IS_IOS && !IS_DELEGATED_BOTTOM_SHEET && !isIPad();\nexport const IS_MULTITAB_SUPPORTED = 'BroadcastChannel' in window && !IS_LEDGER_EXTENSION_TAB;\nexport const IS_DAPP_SUPPORTED = IS_EXTENSION || IS_ELECTRON || IS_CAPACITOR;\nexport const IS_IOS_APP = IS_IOS && IS_CAPACITOR;\nexport const IS_ANDROID_APP = IS_ANDROID && IS_CAPACITOR;\n\nexport function setScrollbarWidthProperty() {\n  const el = document.createElement('div');\n  el.style.cssText = 'overflow-x: hidden; overflow-y: scroll; visibility:hidden; position:absolute;';\n  el.classList.add('custom-scroll');\n  document.body.appendChild(el);\n\n  requestForcedReflow(() => {\n    const width = el.offsetWidth - el.clientWidth;\n\n    return () => {\n      document.documentElement.style.setProperty('--scrollbar-width', `${width}px`);\n      el.remove();\n    };\n  });\n}\n\nexport const REM = parseInt(getComputedStyle(document.documentElement).fontSize, 10);\n","import { IS_CAPACITOR } from '../config';\nimport { requestMutation } from '../lib/fasterdom/fasterdom';\nimport { throttle } from './schedulers';\nimport { IS_ANDROID, IS_IOS } from './windowEnvironment';\n\nconst WINDOW_RESIZE_THROTTLE_MS = 250;\nconst WINDOW_ORIENTATION_CHANGE_THROTTLE_MS = IS_IOS ? 350 : 250;\nconst SAFE_AREA_INITIALIZATION_DELAY = 1000;\n\nconst initialHeight = window.innerHeight;\n\nlet currentWindowSize = updateSizes();\n\nwindow.addEventListener('orientationchange', throttle(() => {\n  currentWindowSize = updateSizes();\n}, WINDOW_ORIENTATION_CHANGE_THROTTLE_MS, false));\n\nif (!IS_IOS) {\n  window.addEventListener('resize', throttle(() => {\n    currentWindowSize = updateSizes();\n  }, WINDOW_RESIZE_THROTTLE_MS, true));\n}\n\nif ('visualViewport' in window && (IS_IOS || IS_ANDROID)) {\n  window.visualViewport!.addEventListener('resize', throttle((e: Event) => {\n    const target = e.target as VisualViewport;\n    currentWindowSize = {\n      width: window.innerWidth,\n      height: target.height,\n      screenHeight: window.screen.height,\n      safeAreaTop: getSafeAreaTop(),\n      safeAreaBottom: getSafeAreaBottom(),\n    };\n  }, WINDOW_RESIZE_THROTTLE_MS, true));\n}\n\nexport function updateSizes() {\n  patchVh();\n  patchSafeAreaProperty();\n\n  return {\n    width: window.innerWidth,\n    height: window.innerHeight,\n    screenHeight: window.screen.height,\n    safeAreaTop: getSafeAreaTop(),\n    safeAreaBottom: getSafeAreaBottom(),\n  };\n}\n\nexport default {\n  get: () => currentWindowSize,\n  getIsKeyboardVisible: () => initialHeight > currentWindowSize.height,\n};\n\nfunction patchVh() {\n  if (!(IS_IOS || IS_ANDROID) || IS_CAPACITOR) return;\n\n  const height = IS_IOS ? window.visualViewport!.height + window.visualViewport!.pageTop : window.innerHeight;\n\n  requestMutation(() => {\n    const vh = height * 0.01;\n    document.documentElement.style.setProperty('--vh', `${vh}px`);\n  });\n}\n\nfunction patchSafeAreaProperty() {\n  const { documentElement } = document;\n\n  // WebKit has issues with this property on page load\n  // https://bugs.webkit.org/show_bug.cgi?id=191872\n  setTimeout(() => {\n    const { safeAreaTop, safeAreaBottom } = currentWindowSize;\n\n    if (!Number.isNaN(safeAreaTop) && safeAreaTop > 0) {\n      requestMutation(() => {\n        documentElement.classList.add('with-safe-area-top');\n      });\n    }\n    if (!Number.isNaN(safeAreaBottom) && safeAreaBottom > 0) {\n      requestMutation(() => {\n        documentElement.classList.add('with-safe-area-bottom');\n      });\n    }\n  }, SAFE_AREA_INITIALIZATION_DELAY);\n}\n\nfunction getSafeAreaTop() {\n  const value = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-top-value'), 10);\n\n  return Number.isNaN(value) ? 0 : value;\n}\n\nfunction getSafeAreaBottom() {\n  const value = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--safe-area-bottom-value'), 10);\n\n  return Number.isNaN(value) ? 0 : value;\n}\n","const cache = new WeakMap<AnyFunction, Map<string, any>>();\n\nexport default function withCache<T extends AnyFunction>(fn: T) {\n  return (...args: Parameters<T>): ReturnType<T> => {\n    let fnCache = cache.get(fn);\n    const cacheKey = args.map(String).join('_');\n\n    if (fnCache) {\n      const cached = fnCache.get(cacheKey);\n      if (cached) {\n        return cached;\n      }\n    } else {\n      fnCache = new Map();\n      cache.set(fn, fnCache);\n    }\n\n    const newValue = fn(...args);\n\n    fnCache.set(cacheKey, newValue);\n\n    return newValue;\n  };\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","export var AndroidSettings;\n(function (AndroidSettings) {\n    /**\n     * Show settings for accessibility modules\n     */\n    AndroidSettings[\"Accessibility\"] = \"accessibility\";\n    /**\n     * Show add account screen for creating a new account\n     */\n    AndroidSettings[\"Account\"] = \"account\";\n    /**\n     * Show settings to allow entering/exiting airplane mode\n     */\n    AndroidSettings[\"AirplaneMode\"] = \"airplane_mode\";\n    /**\n     * Show settings to allow configuration of APNs\n     */\n    AndroidSettings[\"Apn\"] = \"apn\";\n    /**\n     * Show screen of details about a particular application\n     */\n    AndroidSettings[\"ApplicationDetails\"] = \"application_details\";\n    /**\n     * Show settings to allow configuration of application development-related settings\n     */\n    AndroidSettings[\"ApplicationDevelopment\"] = \"application_development\";\n    /**\n     * Show settings to allow configuration of application-related settings\n     */\n    AndroidSettings[\"Application\"] = \"application\";\n    /**\n     * Show settings to allow configuration of application-specific notifications\n     */\n    AndroidSettings[\"AppNotification\"] = \"app_notification\";\n    /**\n     * Show screen for controlling which apps can ignore battery optimizations\n     */\n    AndroidSettings[\"BatteryOptimization\"] = \"battery_optimization\";\n    /**\n     * Show settings to allow configuration of Bluetooth\n     */\n    AndroidSettings[\"Bluetooth\"] = \"bluetooth\";\n    /**\n     * Show settings for video captioning\n     */\n    AndroidSettings[\"Captioning\"] = \"captioning\";\n    /**\n     * Show settings to allow configuration of cast endpoints\n     */\n    AndroidSettings[\"Cast\"] = \"cast\";\n    /**\n     * Show settings for selection of 2G/3G/4G\n     */\n    AndroidSettings[\"DataRoaming\"] = \"data_roaming\";\n    /**\n     * Show settings to allow configuration of date and time\n     */\n    AndroidSettings[\"Date\"] = \"date\";\n    /**\n     * Show settings to allow configuration of display\n     */\n    AndroidSettings[\"Display\"] = \"display\";\n    /**\n     * Show Daydream settings\n     */\n    AndroidSettings[\"Dream\"] = \"dream\";\n    /**\n     * Show Home selection settings\n     */\n    AndroidSettings[\"Home\"] = \"home\";\n    /**\n     *    Show settings to configure input methods, in particular allowing the user to enable input methods\n     */\n    AndroidSettings[\"Keyboard\"] = \"keyboard\";\n    /**\n     * Show settings to enable/disable input method subtypes\n     */\n    AndroidSettings[\"KeyboardSubType\"] = \"keyboard_subtype\";\n    /**\n     * Show settings to allow configuration of locale\n     */\n    AndroidSettings[\"Locale\"] = \"locale\";\n    /**\n     * Show settings to allow configuration of current location sources\n     */\n    AndroidSettings[\"Location\"] = \"location\";\n    /**\n     *    Show settings to manage installed applications\n     */\n    AndroidSettings[\"ManageApplications\"] = \"manage_applications\";\n    /**\n     * Show settings to manage all applications\n     */\n    AndroidSettings[\"ManageAllApplications\"] = \"manage_all_applications\";\n    /**\n     * Show settings for memory card storage\n     */\n    AndroidSettings[\"MemoryCard\"] = \"memory_card\";\n    /**\n     * Show settings for selecting the network operator\n     */\n    AndroidSettings[\"Network\"] = \"network\";\n    /**\n     * Show NFC Sharing settings\n     */\n    AndroidSettings[\"NfcSharing\"] = \"nfcsharing\";\n    /**\n     * Show NFC Tap & Pay settings\n     */\n    AndroidSettings[\"NfcPayment\"] = \"nfc_payment\";\n    /**\n     * Show NFC settings\n     */\n    AndroidSettings[\"NfcSettings\"] = \"nfc_settings\";\n    /**\n     * Show the top level print settings\n     */\n    AndroidSettings[\"Print\"] = \"print\";\n    /**\n     * Show settings to allow configuration of privacy options\n     */\n    AndroidSettings[\"Privacy\"] = \"privacy\";\n    /**\n     * Show settings to allow configuration of quick launch shortcuts\n     */\n    AndroidSettings[\"QuickLaunch\"] = \"quick_launch\";\n    /**\n     * Show settings for global search\n     */\n    AndroidSettings[\"Search\"] = \"search\";\n    /**\n     * Show settings to allow configuration of security and location privacy\n     */\n    AndroidSettings[\"Security\"] = \"security\";\n    /**\n     * Show system settings\n     */\n    AndroidSettings[\"Settings\"] = \"settings\";\n    /**\n     * Show the regulatory information screen for the device\n     */\n    AndroidSettings[\"ShowRegulatoryInfo\"] = \"show_regulatory_info\";\n    /**\n     * Show settings to a llow configuration of sound and volume\n     */\n    AndroidSettings[\"Sound\"] = \"sound\";\n    /**\n     * Show settings for internal storage\n     */\n    AndroidSettings[\"Storage\"] = \"storage\";\n    /**\n     * Show settings to allow configuration of sync settings\n     */\n    AndroidSettings[\"Sync\"] = \"sync\";\n    /**\n     * Show settings to control access to usage information\n     */\n    AndroidSettings[\"Usage\"] = \"usage\";\n    /**\n     * Show settings to manage the user input dictionary\n     */\n    AndroidSettings[\"UserDictionary\"] = \"user_dictionary\";\n    /**\n     * Show settings to configure input methods, in particular allowing the user to enable input methods\n     */\n    AndroidSettings[\"VoiceInput\"] = \"voice_input\";\n    /**\n     * Show settings to allow configuration of Wi-Fi\n     */\n    AndroidSettings[\"Wifi\"] = \"wifi\";\n    /**\n     * Show settings to allow configuration of a static IP address for Wi-Fi\n     */\n    AndroidSettings[\"WifiIp\"] = \"wifi_ip\";\n    /**\n     * Show settings to allow configuration of wireless controls such as Wi-Fi, Bluetooth and Mobile networks\n     */\n    AndroidSettings[\"Wireless\"] = \"wireless\";\n})(AndroidSettings || (AndroidSettings = {}));\nexport var IOSSettings;\n(function (IOSSettings) {\n    /**\n     * Settings > About page\n     */\n    IOSSettings[\"About\"] = \"about\";\n    /**\n     * Opens your app-specific settings screen. Note that this is the only officially supported settings screen by Apple.\n     */\n    IOSSettings[\"App\"] = \"app\";\n    /**\n     * Used to set if and when the screen should be automatically locked.\n     */\n    IOSSettings[\"AutoLock\"] = \"autoLock\";\n    /**\n     * Bluetooth settings. Allows the users to enable/disable bluetooth and to search for devices.\n     */\n    IOSSettings[\"Bluetooth\"] = \"bluetooth\";\n    /**\n     * Date and time settings.\n     */\n    IOSSettings[\"DateTime\"] = \"dateTime\";\n    /**\n     * FaceTime settings.\n     */\n    IOSSettings[\"FaceTime\"] = \"facetime\";\n    /**\n     * Opens iOS general settings screen.\n     */\n    IOSSettings[\"General\"] = \"general\";\n    /**\n     * Keyboard settings.\n     */\n    IOSSettings[\"Keyboard\"] = \"keyboard\";\n    /**\n     * iCloud settings.\n     */\n    IOSSettings[\"ICloud\"] = \"iCloud\";\n    /**\n     * iCloud Storage and Backup settings.\n     */\n    IOSSettings[\"ICloudStorageBackup\"] = \"iCloudStorageBackup\";\n    /**\n     * Language and region settings.\n     */\n    IOSSettings[\"International\"] = \"international\";\n    /**\n     * Show settings to allow configuration of current location sources\n     */\n    IOSSettings[\"LocationServices\"] = \"locationServices\";\n    /**\n     * Music settings.\n     */\n    IOSSettings[\"Music\"] = \"music\";\n    /**\n     * Notes settings.\n     */\n    IOSSettings[\"Notes\"] = \"notes\";\n    /**\n     * Notifications settings.\n     */\n    IOSSettings[\"Notifications\"] = \"notifications\";\n    /**\n     * Phone settings.\n     */\n    IOSSettings[\"Phone\"] = \"phone\";\n    /**\n     * Photos settings.\n     */\n    IOSSettings[\"Photos\"] = \"photos\";\n    /**\n     * Allows the user to manage configuration profiles that are installed on the phone.\n     */\n    IOSSettings[\"ManagedConfigurationList\"] = \"managedConfigurationList\";\n    /**\n     * Screen where the user can reset the phone to factory settings.\n     */\n    IOSSettings[\"Reset\"] = \"reset\";\n    /**\n     * Ringtone settings.\n     */\n    IOSSettings[\"Ringtone\"] = \"ringtone\";\n    /**\n     * Used to set phone volume, vibration settings, etc.\n     */\n    IOSSettings[\"Sounds\"] = \"sounds\";\n    /**\n     * Software update screen.\n     */\n    IOSSettings[\"SoftwareUpdate\"] = \"softwareUpdate\";\n    /**\n     * Store settings.\n     */\n    IOSSettings[\"Store\"] = \"store\";\n    /**\n     * Tracking settings.\n     */\n    IOSSettings[\"Tracking\"] = \"tracking\";\n    /**\n     * Wallpaper settings.\n     */\n    IOSSettings[\"Wallpaper\"] = \"wallpaper\";\n    /**\n     * WiFi settings.\n     */\n    IOSSettings[\"WiFi\"] = \"wifi\";\n    /**\n     * Tethering settings (used to create a hotspot with mobile data).\n     */\n    IOSSettings[\"Tethering\"] = \"tethering\";\n    /**\n     * Do Not Disturb settings.\n     */\n    IOSSettings[\"DoNotDisturb\"] = \"doNotDisturb\";\n    /**\n     * Touch id passcode settings.\n     */\n    IOSSettings[\"TouchIdPasscode\"] = \"touchIdPasscode\";\n})(IOSSettings || (IOSSettings = {}));\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst NativeSettings = registerPlugin('NativeSettings', {\n    web: () => import('./web').then(m => new m.NativeSettingsWeb()),\n});\nexport * from './definitions';\nexport { NativeSettings };\n//# sourceMappingURL=index.js.map","export {};\n//# sourceMappingURL=definitions.js.map","import { registerPlugin } from '@capacitor/core';\nconst SafeArea = registerPlugin('SafeArea', {\n    web: () => import('./web').then(m => new m.SafeAreaWeb()),\n});\nexport * from './definitions';\nexport { SafeArea };\n//# sourceMappingURL=index.js.map","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"App-module__is-ios\",\"isIos\":\"App-module__is-ios\",\"is-android\":\"App-module__is-android\",\"isAndroid\":\"App-module__is-android\",\"containerInner\":\"App-module__containerInner\",\"appSlide\":\"App-module__appSlide\",\"appSlideTransparent\":\"App-module__appSlideTransparent\",\"appSlideContent\":\"App-module__appSlideContent\",\"transitionContainer\":\"App-module__transitionContainer\",\"loading\":\"App-module__loading\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AppInactive-module__root\",\"content\":\"AppInactive-module__content\",\"actions\":\"AppInactive-module__actions\",\"title\":\"AppInactive-module__title\",\"description\":\"AppInactive-module__description\",\"img\":\"AppInactive-module__img\",\"button\":\"AppInactive-module__button\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"AddBuyModal-module__is-ios\",\"isIos\":\"AddBuyModal-module__is-ios\",\"is-android\":\"AddBuyModal-module__is-android\",\"isAndroid\":\"AddBuyModal-module__is-android\",\"actionSheetDialog\":\"AddBuyModal-module__actionSheetDialog\",\"content\":\"AddBuyModal-module__content\",\"actionButtons\":\"AddBuyModal-module__actionButtons\",\"actionButtonStatic\":\"AddBuyModal-module__actionButtonStatic\",\"actionButton\":\"AddBuyModal-module__actionButton\",\"cancelButton\":\"AddBuyModal-module__cancelButton\",\"actionIcon\":\"AddBuyModal-module__actionIcon\",\"iconChevronRight\":\"AddBuyModal-module__iconChevronRight\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Auth-module__is-ios\",\"isIos\":\"Auth-module__is-ios\",\"is-android\":\"Auth-module__is-android\",\"isAndroid\":\"Auth-module__is-android\",\"wrapper\":\"Auth-module__wrapper\",\"transitionContainer\":\"Auth-module__transitionContainer\",\"transitionSlide\":\"Auth-module__transitionSlide\",\"container\":\"Auth-module__container\",\"container_scrollable\":\"Auth-module__container_scrollable\",\"containerScrollable\":\"Auth-module__container_scrollable\",\"container_password\":\"Auth-module__container_password\",\"containerPassword\":\"Auth-module__container_password\",\"containerFullSize\":\"Auth-module__containerFullSize\",\"logo\":\"Auth-module__logo\",\"appName\":\"Auth-module__appName\",\"title\":\"Auth-module__title\",\"title_afterSmallSticker\":\"Auth-module__title_afterSmallSticker\",\"titleAfterSmallSticker\":\"Auth-module__title_afterSmallSticker\",\"titleSmallMargin\":\"Auth-module__titleSmallMargin\",\"infoBlock\":\"Auth-module__infoBlock\",\"text\":\"Auth-module__text\",\"informationCheckbox\":\"Auth-module__informationCheckbox\",\"informationCheckboxContent\":\"Auth-module__informationCheckboxContent\",\"info\":\"Auth-module__info\",\"info_push\":\"Auth-module__info_push\",\"infoPush\":\"Auth-module__info_push\",\"info__space\":\"Auth-module__info__space\",\"infoSpace\":\"Auth-module__info__space\",\"infoPull\":\"Auth-module__infoPull\",\"infoSmallFont\":\"Auth-module__infoSmallFont\",\"counter\":\"Auth-module__counter\",\"counterTitle\":\"Auth-module__counterTitle\",\"counterDigit\":\"Auth-module__counterDigit\",\"small\":\"Auth-module__small\",\"sticker\":\"Auth-module__sticker\",\"stickerAndTitle\":\"Auth-module__stickerAndTitle\",\"backupNotice\":\"Auth-module__backupNotice\",\"backupNoticeButtons\":\"Auth-module__backupNoticeButtons\",\"modalSticker\":\"Auth-module__modalSticker\",\"form\":\"Auth-module__form\",\"formWidgets\":\"Auth-module__formWidgets\",\"checkMnemonicInput\":\"Auth-module__checkMnemonicInput\",\"passwordForm\":\"Auth-module__passwordForm\",\"errors\":\"Auth-module__errors\",\"passwordRules\":\"Auth-module__passwordRules\",\"passwordRule\":\"Auth-module__passwordRule\",\"valid\":\"Auth-module__valid\",\"error\":\"Auth-module__error\",\"buttons\":\"Auth-module__buttons\",\"buttons__inner\":\"Auth-module__buttons__inner\",\"buttonsInner\":\"Auth-module__buttons__inner\",\"footerButton\":\"Auth-module__footerButton\",\"btn\":\"Auth-module__btn\",\"btn_push\":\"Auth-module__btn_push\",\"btnPush\":\"Auth-module__btn_push\",\"btn_text\":\"Auth-module__btn_text\",\"btnText\":\"Auth-module__btn_text\",\"btn_about\":\"Auth-module__btn_about\",\"btnAbout\":\"Auth-module__btn_about\",\"btn_wide\":\"Auth-module__btn_wide\",\"btnWide\":\"Auth-module__btn_wide\",\"btn_mini\":\"Auth-module__btn_mini\",\"btnMini\":\"Auth-module__btn_mini\",\"btn_single\":\"Auth-module__btn_single\",\"btnSingle\":\"Auth-module__btn_single\",\"btnHalfWidth\":\"Auth-module__btnHalfWidth\",\"modalDialog\":\"Auth-module__modalDialog\",\"mnemonicContainer\":\"Auth-module__mnemonicContainer\",\"words\":\"Auth-module__words\",\"word\":\"Auth-module__word\",\"privateKey\":\"Auth-module__privateKey\",\"importingContent\":\"Auth-module__importingContent\",\"footerError\":\"Auth-module__footerError\",\"importButtonsBlock\":\"Auth-module__importButtonsBlock\",\"importText\":\"Auth-module__importText\",\"importButtons\":\"Auth-module__importButtons\",\"biometricsStep\":\"Auth-module__biometricsStep\",\"biometricsError\":\"Auth-module__biometricsError\",\"stepTransition\":\"Auth-module__stepTransition\",\"passwordFormContainer\":\"Auth-module__passwordFormContainer\",\"pinPadHeader\":\"Auth-module__pinPadHeader\",\"headerBack\":\"Auth-module__headerBack\",\"iconChevron\":\"Auth-module__iconChevron\",\"biometricsIcon\":\"Auth-module__biometricsIcon\",\"biometricsTitle\":\"Auth-module__biometricsTitle\",\"biometricsSubtitle\":\"Auth-module__biometricsSubtitle\",\"disclaimerBackupDialog\":\"Auth-module__disclaimerBackupDialog\"};","// extracted by mini-css-extract-plugin\nexport default {\"time\":\"Countdown-module__time\",\"timeWarning\":\"Countdown-module__timeWarning\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InputMnemonic-module__wrapper\",\"wrapper_focus\":\"InputMnemonic-module__wrapper_focus\",\"wrapperFocus\":\"InputMnemonic-module__wrapper_focus\",\"wrapper_error\":\"InputMnemonic-module__wrapper_error\",\"wrapperError\":\"InputMnemonic-module__wrapper_error\",\"input\":\"InputMnemonic-module__input\",\"label\":\"InputMnemonic-module__label\"};","// extracted by mini-css-extract-plugin\nexport default {\"sticker\":\"SwapResult-module__sticker\",\"buttons\":\"SwapResult-module__buttons\",\"button\":\"SwapResult-module__button\",\"changellyInfoBlock\":\"SwapResult-module__changellyInfoBlock\",\"changellyDescription\":\"SwapResult-module__changellyDescription\",\"changellyDescriptionBold\":\"SwapResult-module__changellyDescriptionBold\",\"changellyTextField\":\"SwapResult-module__changellyTextField\"};","// extracted by mini-css-extract-plugin\nexport default {\"infoBlock\":\"SwapTokensInfo-module__infoBlock\",\"infoRow\":\"SwapTokensInfo-module__infoRow\",\"infoRowIcon\":\"SwapTokensInfo-module__infoRowIcon\",\"infoRowToken\":\"SwapTokensInfo-module__infoRowToken\",\"infoRowText\":\"SwapTokensInfo-module__infoRowText\",\"infoRowTextCenter\":\"SwapTokensInfo-module__infoRowTextCenter\",\"infoRowTextRight\":\"SwapTokensInfo-module__infoRowTextRight\",\"infoRowTitle\":\"SwapTokensInfo-module__infoRowTitle\",\"infoRowDescription\":\"SwapTokensInfo-module__infoRowDescription\",\"infoRowAmount\":\"SwapTokensInfo-module__infoRowAmount\",\"infoRowAmountGreen\":\"SwapTokensInfo-module__infoRowAmountGreen\",\"infoRowAmountError\":\"SwapTokensInfo-module__infoRowAmountError\",\"infoRowCurrency\":\"SwapTokensInfo-module__infoRowCurrency\",\"infoRowCurrencyValue\":\"SwapTokensInfo-module__infoRowCurrencyValue\",\"infoSeparator\":\"SwapTokensInfo-module__infoSeparator\",\"infoSeparatorIcon\":\"SwapTokensInfo-module__infoSeparatorIcon\",\"infoSeparatorIconError\":\"SwapTokensInfo-module__infoSeparatorIconError\"};","// extracted by mini-css-extract-plugin\nexport default {\"tokenSelectInputWrapper\":\"TokenSelector-module__tokenSelectInputWrapper\",\"tokenSelectSearchIcon\":\"TokenSelector-module__tokenSelectSearchIcon\",\"tokenSelectSearchResetWrapper\":\"TokenSelector-module__tokenSelectSearchResetWrapper\",\"tokenSelectSearchReset\":\"TokenSelector-module__tokenSelectSearchReset\",\"tokenSelectSearchResetIcon\":\"TokenSelector-module__tokenSelectSearchResetIcon\",\"tokenSelectInput\":\"TokenSelector-module__tokenSelectInput\",\"tokenSelectContent\":\"TokenSelector-module__tokenSelectContent\",\"tokenGroupContainer\":\"TokenSelector-module__tokenGroupContainer\",\"tokenGroupHeader\":\"TokenSelector-module__tokenGroupHeader\",\"tokenGroupTitle\":\"TokenSelector-module__tokenGroupTitle\",\"tokenGroupAdditionalTitle\":\"TokenSelector-module__tokenGroupAdditionalTitle\",\"tokenContainer\":\"TokenSelector-module__tokenContainer\",\"tokenContainerDisabled\":\"TokenSelector-module__tokenContainerDisabled\",\"tokenLogoContainer\":\"TokenSelector-module__tokenLogoContainer\",\"logoContainer\":\"TokenSelector-module__logoContainer\",\"tokenLogo\":\"TokenSelector-module__tokenLogo\",\"tokenLogoSkeleton\":\"TokenSelector-module__tokenLogoSkeleton\",\"tokenLogoSymbol\":\"TokenSelector-module__tokenLogoSymbol\",\"tokenLogoDisabled\":\"TokenSelector-module__tokenLogoDisabled\",\"tokenNetworkLogo\":\"TokenSelector-module__tokenNetworkLogo\",\"tokenNetworkLogoSkeleton\":\"TokenSelector-module__tokenNetworkLogoSkeleton\",\"tokenNetworkLogoDisabled\":\"TokenSelector-module__tokenNetworkLogoDisabled\",\"nameContainer\":\"TokenSelector-module__nameContainer\",\"tokenPriceContainer\":\"TokenSelector-module__tokenPriceContainer\",\"tokenName\":\"TokenSelector-module__tokenName\",\"tokenAmount\":\"TokenSelector-module__tokenAmount\",\"tokenNetwork\":\"TokenSelector-module__tokenNetwork\",\"tokenValue\":\"TokenSelector-module__tokenValue\",\"tokenNameSkeleton\":\"TokenSelector-module__tokenNameSkeleton\",\"tokenValueSkeleton\":\"TokenSelector-module__tokenValueSkeleton\",\"tokenNotFound\":\"TokenSelector-module__tokenNotFound\",\"tokenNotFoundTitle\":\"TokenSelector-module__tokenNotFoundTitle\",\"tokenNotFoundDesc\":\"TokenSelector-module__tokenNotFoundDesc\",\"tokenTextDisabled\":\"TokenSelector-module__tokenTextDisabled\"};","// extracted by mini-css-extract-plugin\nexport default {\"amount\":\"TransactionAmount-module__amount\",\"withStatus\":\"TransactionAmount-module__withStatus\",\"status\":\"TransactionAmount-module__status\",\"amountSymbol\":\"TransactionAmount-module__amountSymbol\",\"amountFraction\":\"TransactionAmount-module__amountFraction\",\"operationPositive\":\"TransactionAmount-module__operationPositive\",\"operationScam\":\"TransactionAmount-module__operationScam\",\"balanceChange\":\"TransactionAmount-module__balanceChange\",\"wrapper\":\"TransactionAmount-module__wrapper\"};","// extracted by mini-css-extract-plugin\nexport default {\"sticker\":\"TransferResult-module__sticker\",\"balanceChange\":\"TransferResult-module__balanceChange\",\"amount\":\"TransferResult-module__amount\",\"amount_purple\":\"TransferResult-module__amount_purple\",\"amountPurple\":\"TransferResult-module__amount_purple\",\"amount_green\":\"TransferResult-module__amount_green\",\"amountGreen\":\"TransferResult-module__amount_green\",\"amountSymbol\":\"TransferResult-module__amountSymbol\",\"amountFraction\":\"TransferResult-module__amountFraction\",\"buttons\":\"TransferResult-module__buttons\",\"buttonsAfterNft\":\"TransferResult-module__buttonsAfterNft\",\"button\":\"TransferResult-module__button\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"Dapp-module__modalDialog\",\"modalDialogExtraHeight\":\"Dapp-module__modalDialogExtraHeight\",\"dapp\":\"Dapp-module__dapp\",\"dapp_first\":\"Dapp-module__dapp_first\",\"dappFirst\":\"Dapp-module__dapp_first\",\"dapp_push\":\"Dapp-module__dapp_push\",\"dappPush\":\"Dapp-module__dapp_push\",\"dappIcon\":\"Dapp-module__dappIcon\",\"dappLogo\":\"Dapp-module__dappLogo\",\"dappLogo_icon\":\"Dapp-module__dappLogo_icon\",\"dappLogoIcon\":\"Dapp-module__dappLogo_icon\",\"transactionAccount\":\"Dapp-module__transactionAccount\",\"dappInfo\":\"Dapp-module__dappInfo\",\"dappName\":\"Dapp-module__dappName\",\"dappUrl\":\"Dapp-module__dappUrl\",\"dappDisconnect\":\"Dapp-module__dappDisconnect\",\"label\":\"Dapp-module__label\",\"accounts\":\"Dapp-module__accounts\",\"accounts_two\":\"Dapp-module__accounts_two\",\"accountsTwo\":\"Dapp-module__accounts_two\",\"account\":\"Dapp-module__account\",\"account_current\":\"Dapp-module__account_current\",\"accountCurrent\":\"Dapp-module__account_current\",\"account_disabled\":\"Dapp-module__account_disabled\",\"accountDisabled\":\"Dapp-module__account_disabled\",\"account_inactive\":\"Dapp-module__account_inactive\",\"accountInactive\":\"Dapp-module__account_inactive\",\"accounts_single\":\"Dapp-module__accounts_single\",\"accountsSingle\":\"Dapp-module__accounts_single\",\"accountName\":\"Dapp-module__accountName\",\"button_current\":\"Dapp-module__button_current\",\"buttonCurrent\":\"Dapp-module__button_current\",\"accountFooter\":\"Dapp-module__accountFooter\",\"accountCurrencyIcon\":\"Dapp-module__accountCurrencyIcon\",\"iconLedger\":\"Dapp-module__iconLedger\",\"accountAddress\":\"Dapp-module__accountAddress\",\"description\":\"Dapp-module__description\",\"footer\":\"Dapp-module__footer\",\"buttons\":\"Dapp-module__buttons\",\"button\":\"Dapp-module__button\",\"dataField\":\"Dapp-module__dataField\",\"receivingAddress\":\"Dapp-module__receivingAddress\",\"payloadField\":\"Dapp-module__payloadField\",\"payloadField_expanded\":\"Dapp-module__payloadField_expanded\",\"payloadFieldExpanded\":\"Dapp-module__payloadField_expanded\",\"payloadFieldExpand\":\"Dapp-module__payloadFieldExpand\",\"transactionList\":\"Dapp-module__transactionList\",\"transactionRow\":\"Dapp-module__transactionRow\",\"transactionRowAmount\":\"Dapp-module__transactionRowAmount\",\"currencySymbol\":\"Dapp-module__currencySymbol\",\"transactionRowAddress\":\"Dapp-module__transactionRowAddress\",\"transactionRowChevron\":\"Dapp-module__transactionRowChevron\",\"scam\":\"Dapp-module__scam\",\"scamImage\":\"Dapp-module__scamImage\",\"transactionDirection\":\"Dapp-module__transactionDirection\",\"accountTitle\":\"Dapp-module__accountTitle\",\"accountBalance\":\"Dapp-module__accountBalance\",\"transactionDapp\":\"Dapp-module__transactionDapp\",\"sticker\":\"Dapp-module__sticker\",\"sticker_sizeSmall\":\"Dapp-module__sticker_sizeSmall\",\"stickerSizeSmall\":\"Dapp-module__sticker_sizeSmall\",\"descriptionContent\":\"Dapp-module__descriptionContent\",\"dappInfoSkeleton\":\"Dapp-module__dappInfoSkeleton\",\"accountWrapperSkeleton\":\"Dapp-module__accountWrapperSkeleton\",\"dappInfoIconSkeleton\":\"Dapp-module__dappInfoIconSkeleton\",\"shimmer\":\"Dapp-module__shimmer\",\"transactionDappIconSkeleton\":\"Dapp-module__transactionDappIconSkeleton\",\"dappInfoTextSkeleton\":\"Dapp-module__dappInfoTextSkeleton\",\"nameSkeleton\":\"Dapp-module__nameSkeleton\",\"descSkeleton\":\"Dapp-module__descSkeleton\",\"nameDappSkeleton\":\"Dapp-module__nameDappSkeleton\",\"descDappSkeleton\":\"Dapp-module__descDappSkeleton\",\"transactionDirectionLeftSkeleton\":\"Dapp-module__transactionDirectionLeftSkeleton\",\"transactionDirectionRightSkeleton\":\"Dapp-module__transactionDirectionRightSkeleton\",\"dappInfoDataSkeleton\":\"Dapp-module__dappInfoDataSkeleton\",\"rowContainerSkeleton\":\"Dapp-module__rowContainerSkeleton\",\"rowContainerLargeSkeleton\":\"Dapp-module__rowContainerLargeSkeleton\",\"rowSkeleton\":\"Dapp-module__rowSkeleton\",\"rowLargeSkeleton\":\"Dapp-module__rowLargeSkeleton\",\"rowTextSkeleton\":\"Dapp-module__rowTextSkeleton\",\"rowTextLargeSkeleton\":\"Dapp-module__rowTextLargeSkeleton\",\"skeletonTransitionWrapper\":\"Dapp-module__skeletonTransitionWrapper\",\"contentWithBackground\":\"Dapp-module__contentWithBackground\",\"warningForPayload\":\"Dapp-module__warningForPayload\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"ElectronHeader-module__container\",\"wrapper\":\"ElectronHeader-module__wrapper\",\"applicationName\":\"ElectronHeader-module__applicationName\",\"buttons\":\"ElectronHeader-module__buttons\",\"windowsButtons\":\"ElectronHeader-module__windowsButtons\",\"windowsButton\":\"ElectronHeader-module__windowsButton\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"UpdateApp-module__container\",\"icon\":\"UpdateApp-module__icon\",\"disabled\":\"UpdateApp-module__disabled\",\"icon-wrapper\":\"UpdateApp-module__icon-wrapper\",\"iconWrapper\":\"UpdateApp-module__icon-wrapper\",\"text\":\"UpdateApp-module__text\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"LedgerModal-module__modalDialog\",\"slide\":\"LedgerModal-module__slide\",\"container\":\"LedgerModal-module__container\",\"content\":\"LedgerModal-module__content\",\"iconBlock\":\"LedgerModal-module__iconBlock\",\"iconBlock_base\":\"LedgerModal-module__iconBlock_base\",\"iconBlockBase\":\"LedgerModal-module__iconBlock_base\",\"iconBlock_success\":\"LedgerModal-module__iconBlock_success\",\"iconBlockSuccess\":\"LedgerModal-module__iconBlock_success\",\"textBlock\":\"LedgerModal-module__textBlock\",\"textBlock_gap\":\"LedgerModal-module__textBlock_gap\",\"textBlockGap\":\"LedgerModal-module__textBlock_gap\",\"textBlock_success\":\"LedgerModal-module__textBlock_success\",\"textBlockSuccess\":\"LedgerModal-module__textBlock_success\",\"textBlock_small\":\"LedgerModal-module__textBlock_small\",\"textBlockSmall\":\"LedgerModal-module__textBlock_small\",\"textIcon\":\"LedgerModal-module__textIcon\",\"text\":\"LedgerModal-module__text\",\"text_failed\":\"LedgerModal-module__text_failed\",\"textFailed\":\"LedgerModal-module__text_failed\",\"text_connected\":\"LedgerModal-module__text_connected\",\"textConnected\":\"LedgerModal-module__text_connected\",\"text_success\":\"LedgerModal-module__text_success\",\"textSuccess\":\"LedgerModal-module__text_success\",\"actionBlock\":\"LedgerModal-module__actionBlock\",\"actionBlock_single\":\"LedgerModal-module__actionBlock_single\",\"actionBlockSingle\":\"LedgerModal-module__actionBlock_single\",\"button\":\"LedgerModal-module__button\",\"button_single\":\"LedgerModal-module__button_single\",\"buttonSingle\":\"LedgerModal-module__button_single\",\"accounts\":\"LedgerModal-module__accounts\",\"accounts_two\":\"LedgerModal-module__accounts_two\",\"accountsTwo\":\"LedgerModal-module__accounts_two\",\"account\":\"LedgerModal-module__account\",\"account_current\":\"LedgerModal-module__account_current\",\"accountCurrent\":\"LedgerModal-module__account_current\",\"addAccountContainer\":\"LedgerModal-module__addAccountContainer\",\"addAccountIcon\":\"LedgerModal-module__addAccountIcon\",\"accountName\":\"LedgerModal-module__accountName\",\"accountFooter\":\"LedgerModal-module__accountFooter\",\"accountCurrencyIcon\":\"LedgerModal-module__accountCurrencyIcon\",\"accountAddress\":\"LedgerModal-module__accountAddress\",\"accountCheckMark\":\"LedgerModal-module__accountCheckMark\",\"accountCheckMark_active\":\"LedgerModal-module__accountCheckMark_active\",\"accountCheckMarkActive\":\"LedgerModal-module__accountCheckMark_active\",\"sticker\":\"LedgerModal-module__sticker\",\"declinedLabel\":\"LedgerModal-module__declinedLabel\",\"declinedLabelDetailed\":\"LedgerModal-module__declinedLabelDetailed\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Main-module__is-ios\",\"isIos\":\"Main-module__is-ios\",\"is-android\":\"Main-module__is-android\",\"isAndroid\":\"Main-module__is-android\",\"portraitContainer\":\"Main-module__portraitContainer\",\"head\":\"Main-module__head\",\"landscapeContainer\":\"Main-module__landscapeContainer\",\"sidebar\":\"Main-module__sidebar\",\"main\":\"Main-module__main\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"AddAccountModal-module__modalDialog\",\"modalText\":\"AddAccountModal-module__modalText\",\"button\":\"AddAccountModal-module__button\",\"button_single\":\"AddAccountModal-module__button_single\",\"buttonSingle\":\"AddAccountModal-module__button_single\",\"modalButtons\":\"AddAccountModal-module__modalButtons\",\"importText\":\"AddAccountModal-module__importText\",\"importButtons\":\"AddAccountModal-module__importButtons\",\"importButtonsWithMargin\":\"AddAccountModal-module__importButtonsWithMargin\",\"sticker\":\"AddAccountModal-module__sticker\",\"ledgerButton\":\"AddAccountModal-module__ledgerButton\",\"walletVersionBlock\":\"AddAccountModal-module__walletVersionBlock\",\"walletVersionText\":\"AddAccountModal-module__walletVersionText\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"BackupModal-module__modalDialog\"};","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"DeleteSavedAddressModal-module__text\"};","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"DeleteTokenModal-module__content\",\"description\":\"DeleteTokenModal-module__description\"};","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"DisconnectDappModal-module__content\",\"description\":\"DisconnectDappModal-module__description\",\"buttons\":\"DisconnectDappModal-module__buttons\",\"button\":\"DisconnectDappModal-module__button\"};","// extracted by mini-css-extract-plugin\nexport default {\"checkbox\":\"LogOutModal-module__checkbox\",\"warning\":\"LogOutModal-module__warning\",\"accountLink\":\"LogOutModal-module__accountLink\",\"accountLink_inner\":\"LogOutModal-module__accountLink_inner\",\"accountLinkInner\":\"LogOutModal-module__accountLink_inner\",\"penultimate\":\"LogOutModal-module__penultimate\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"OnRampWidgetModal-module__is-ios\",\"isIos\":\"OnRampWidgetModal-module__is-ios\",\"is-android\":\"OnRampWidgetModal-module__is-android\",\"isAndroid\":\"OnRampWidgetModal-module__is-android\",\"modalDialog\":\"OnRampWidgetModal-module__modalDialog\",\"modalDialogExtraHeight\":\"OnRampWidgetModal-module__modalDialogExtraHeight\",\"content\":\"OnRampWidgetModal-module__content\",\"loaderContainer\":\"OnRampWidgetModal-module__loaderContainer\",\"fadeOut\":\"OnRampWidgetModal-module__fadeOut\",\"fade-out-opacity\":\"OnRampWidgetModal-module__fade-out-opacity\",\"fadeOutOpacity\":\"OnRampWidgetModal-module__fade-out-opacity\",\"fadeIn\":\"OnRampWidgetModal-module__fadeIn\",\"fade-in-opacity\":\"OnRampWidgetModal-module__fade-in-opacity\",\"fadeInOpacity\":\"OnRampWidgetModal-module__fade-in-opacity\",\"inactive\":\"OnRampWidgetModal-module__inactive\"};","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"QrScannerModal-module__title\",\"square\":\"QrScannerModal-module__square\",\"squareInner\":\"QrScannerModal-module__squareInner\",\"closeButton\":\"QrScannerModal-module__closeButton\",\"flashLightButton\":\"QrScannerModal-module__flashLightButton\",\"flashLightButtonEnabled\":\"QrScannerModal-module__flashLightButtonEnabled\",\"documentRoot\":\"QrScannerModal-module__documentRoot\",\"scanner\":\"QrScannerModal-module__scanner\",\"scannerStarted\":\"QrScannerModal-module__scannerStarted\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"SignatureModal-module__modalDialog\",\"error\":\"SignatureModal-module__error\",\"sticker\":\"SignatureModal-module__sticker\",\"description\":\"SignatureModal-module__description\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"TransactionModal-module__modalDialog\",\"unstakeModal\":\"TransactionModal-module__unstakeModal\",\"passwordFormContent\":\"TransactionModal-module__passwordFormContent\",\"passwordFormContentInModal\":\"TransactionModal-module__passwordFormContentInModal\",\"sticker\":\"TransactionModal-module__sticker\",\"footer\":\"TransactionModal-module__footer\",\"copyButtonWrapper\":\"TransactionModal-module__copyButtonWrapper\",\"comment\":\"TransactionModal-module__comment\",\"button\":\"TransactionModal-module__button\",\"buttonWide\":\"TransactionModal-module__buttonWide\",\"tonExplorer\":\"TransactionModal-module__tonExplorer\",\"unstakeTime\":\"TransactionModal-module__unstakeTime\",\"unstakeTimeIcon\":\"TransactionModal-module__unstakeTimeIcon\",\"scamImage\":\"TransactionModal-module__scamImage\",\"scamAddress\":\"TransactionModal-module__scamAddress\",\"transactionHeader\":\"TransactionModal-module__transactionHeader\",\"headerTitle\":\"TransactionModal-module__headerTitle\",\"headerDate\":\"TransactionModal-module__headerDate\",\"infoBlock\":\"TransactionModal-module__infoBlock\",\"textFieldWrapper\":\"TransactionModal-module__textFieldWrapper\",\"textFieldWrapperFullWidth\":\"TransactionModal-module__textFieldWrapperFullWidth\",\"changellyTextField\":\"TransactionModal-module__changellyTextField\",\"swapSupportBlock\":\"TransactionModal-module__swapSupportBlock\",\"textFieldLabel\":\"TransactionModal-module__textFieldLabel\",\"textField\":\"TransactionModal-module__textField\",\"advancedTooltip\":\"TransactionModal-module__advancedTooltip\",\"advancedTooltipContainer\":\"TransactionModal-module__advancedTooltipContainer\",\"errorCexBlock\":\"TransactionModal-module__errorCexBlock\",\"errorCexMessage\":\"TransactionModal-module__errorCexMessage\",\"errorCexEmail\":\"TransactionModal-module__errorCexEmail\",\"changellyInfoBlock\":\"TransactionModal-module__changellyInfoBlock\",\"changellyDescription\":\"TransactionModal-module__changellyDescription\",\"changellyDescriptionBold\":\"TransactionModal-module__changellyDescriptionBold\",\"qrCode\":\"TransactionModal-module__qrCode\",\"qrCodeHidden\":\"TransactionModal-module__qrCodeHidden\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"LandscapeActions-module__container\",\"tabs\":\"LandscapeActions-module__tabs\",\"notAllTabs\":\"LandscapeActions-module__notAllTabs\",\"tab\":\"LandscapeActions-module__tab\",\"active\":\"LandscapeActions-module__active\",\"tab_purple\":\"LandscapeActions-module__tab_purple\",\"tabPurple\":\"LandscapeActions-module__tab_purple\",\"tab_purpleText\":\"LandscapeActions-module__tab_purpleText\",\"tabPurpleText\":\"LandscapeActions-module__tab_purpleText\",\"tabDelimiter\":\"LandscapeActions-module__tabDelimiter\",\"tabDecoration\":\"LandscapeActions-module__tabDecoration\",\"tabIcon\":\"LandscapeActions-module__tabIcon\",\"tabText\":\"LandscapeActions-module__tabText\",\"contentHeader\":\"LandscapeActions-module__contentHeader\",\"firstActive\":\"LandscapeActions-module__firstActive\",\"contentHeaderInner\":\"LandscapeActions-module__contentHeaderInner\",\"lastActive\":\"LandscapeActions-module__lastActive\",\"contentBg\":\"LandscapeActions-module__contentBg\",\"contentFooter\":\"LandscapeActions-module__contentFooter\",\"contentSlideStaked\":\"LandscapeActions-module__contentSlideStaked\",\"tab-0\":\"LandscapeActions-module__tab-0\",\"tab0\":\"LandscapeActions-module__tab-0\",\"tab-1\":\"LandscapeActions-module__tab-1\",\"tab1\":\"LandscapeActions-module__tab-1\",\"slideContent\":\"LandscapeActions-module__slideContent\",\"transitionContent\":\"LandscapeActions-module__transitionContent\",\"slideContentTransfer\":\"LandscapeActions-module__slideContentTransfer\",\"slideContentInner\":\"LandscapeActions-module__slideContentInner\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"PortraitActions-module__container\",\"buttons\":\"PortraitActions-module__buttons\",\"button\":\"PortraitActions-module__button\",\"button_purple\":\"PortraitActions-module__button_purple\",\"buttonPurple\":\"PortraitActions-module__button_purple\",\"buttonIcon\":\"PortraitActions-module__buttonIcon\"};","// extracted by mini-css-extract-plugin\nexport default {\"accountTitle\":\"AccountSelector-module__accountTitle\",\"accountTitleInner\":\"AccountSelector-module__accountTitleInner\",\"accountTitleShort\":\"AccountSelector-module__accountTitleShort\",\"arrowIcon\":\"AccountSelector-module__arrowIcon\",\"menuButton\":\"AccountSelector-module__menuButton\",\"menuButtonFirst\":\"AccountSelector-module__menuButtonFirst\",\"edit\":\"AccountSelector-module__edit\",\"inputContainer\":\"AccountSelector-module__inputContainer\",\"input\":\"AccountSelector-module__input\",\"saveButton\":\"AccountSelector-module__saveButton\",\"container\":\"AccountSelector-module__container\",\"dialog\":\"AccountSelector-module__dialog\",\"backdrop\":\"AccountSelector-module__backdrop\",\"dialog_compact\":\"AccountSelector-module__dialog_compact\",\"dialogCompact\":\"AccountSelector-module__dialog_compact\",\"actionIcon\":\"AccountSelector-module__actionIcon\",\"button\":\"AccountSelector-module__button\",\"button_current\":\"AccountSelector-module__button_current\",\"buttonCurrent\":\"AccountSelector-module__button_current\",\"accountName\":\"AccountSelector-module__accountName\",\"accountAddressBlock\":\"AccountSelector-module__accountAddressBlock\",\"createAccountButton\":\"AccountSelector-module__createAccountButton\",\"createAccountIcon\":\"AccountSelector-module__createAccountIcon\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Card-module__is-ios\",\"isIos\":\"Card-module__is-ios\",\"is-android\":\"Card-module__is-android\",\"isAndroid\":\"Card-module__is-android\",\"containerWrapper\":\"Card-module__containerWrapper\",\"isLoading\":\"Card-module__isLoading\",\"center\":\"Card-module__center\",\"container\":\"Card-module__container\",\"backstage\":\"Card-module__backstage\",\"tokenCard\":\"Card-module__tokenCard\",\"balanceTransition\":\"Card-module__balanceTransition\",\"primaryValue\":\"Card-module__primaryValue\",\"primaryFractionPart\":\"Card-module__primaryFractionPart\",\"iconCaret\":\"Card-module__iconCaret\",\"iconCaretSmall\":\"Card-module__iconCaretSmall\",\"iconCaretFraction\":\"Card-module__iconCaretFraction\",\"currencySwitcher\":\"Card-module__currencySwitcher\",\"addressContainer\":\"Card-module__addressContainer\",\"address\":\"Card-module__address\",\"icon\":\"Card-module__icon\",\"tonExplorerButton\":\"Card-module__tonExplorerButton\",\"change\":\"Card-module__change\",\"changeCourseUp\":\"Card-module__changeCourseUp\",\"changeCourseDown\":\"Card-module__changeCourseDown\",\"tokenInfo\":\"Card-module__tokenInfo\",\"tokenLogo\":\"Card-module__tokenLogo\",\"tokenAmount\":\"Card-module__tokenAmount\",\"tokenName\":\"Card-module__tokenName\",\"tokenPrice\":\"Card-module__tokenPrice\",\"tokenHistoryPrice\":\"Card-module__tokenHistoryPrice\",\"tokenCurrentPrice\":\"Card-module__tokenCurrentPrice\",\"tokenChange\":\"Card-module__tokenChange\",\"tokenPriceDate\":\"Card-module__tokenPriceDate\",\"apy\":\"Card-module__apy\",\"tokenTonExplorerButton\":\"Card-module__tokenTonExplorerButton\",\"chart\":\"Card-module__chart\",\"chartImg\":\"Card-module__chartImg\",\"backButton\":\"Card-module__backButton\",\"periodChooser\":\"Card-module__periodChooser\",\"periodChooserHidden\":\"Card-module__periodChooserHidden\",\"periodItem\":\"Card-module__periodItem\",\"periodItem_active\":\"Card-module__periodItem_active\",\"periodItemActive\":\"Card-module__periodItem_active\",\"periodInput\":\"Card-module__periodInput\",\"dapp\":\"Card-module__dapp\",\"dappIcon\":\"Card-module__dappIcon\",\"loadingDotsContainer\":\"Card-module__loadingDotsContainer\"};","// extracted by mini-css-extract-plugin\nexport default {\"menuWrapper\":\"ChartHistorySwitcher-module__menuWrapper\",\"menu\":\"ChartHistorySwitcher-module__menu\",\"menuItem\":\"ChartHistorySwitcher-module__menuItem\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"StickyCard-module__root\",\"background\":\"StickyCard-module__background\",\"content\":\"StickyCard-module__content\",\"account\":\"StickyCard-module__account\",\"menuButton\":\"StickyCard-module__menuButton\",\"balance\":\"StickyCard-module__balance\",\"balanceFractionPart\":\"StickyCard-module__balanceFractionPart\",\"iconCaret\":\"StickyCard-module__iconCaret\",\"iconCaretFraction\":\"StickyCard-module__iconCaretFraction\",\"currencySwitcher\":\"StickyCard-module__currencySwitcher\"};","// extracted by mini-css-extract-plugin\nexport default {\"emptyList\":\"Activities-module__emptyList\",\"emptyListTitle\":\"Activities-module__emptyListTitle\",\"emptyListLoading\":\"Activities-module__emptyListLoading\",\"greeting\":\"Activities-module__greeting\",\"sticker\":\"Activities-module__sticker\",\"loaderThreshold\":\"Activities-module__loaderThreshold\",\"itemLoading\":\"Activities-module__itemLoading\",\"date\":\"Activities-module__date\",\"date_withLoadingDots\":\"Activities-module__date_withLoadingDots\",\"dateWithLoadingDots\":\"Activities-module__date_withLoadingDots\",\"loadingDots\":\"Activities-module__loadingDots\",\"dateContainer\":\"Activities-module__dateContainer\",\"dateSlide\":\"Activities-module__dateSlide\",\"listItem\":\"Activities-module__listItem\",\"listGroup\":\"Activities-module__listGroup\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Assets-module__wrapper\",\"wrapperLoading\":\"Assets-module__wrapperLoading\",\"emptyList\":\"Assets-module__emptyList\",\"emptyListSeparate\":\"Assets-module__emptyListSeparate\"};","// extracted by mini-css-extract-plugin\nexport default {\"contentPanel\":\"Content-module__contentPanel\",\"landscapeContentPanel\":\"Content-module__landscapeContentPanel\",\"container\":\"Content-module__container\",\"landscapeContainer\":\"Content-module__landscapeContainer\",\"assetsPanel\":\"Content-module__assetsPanel\",\"portraitContainer\":\"Content-module__portraitContainer\",\"tabsContainer\":\"Content-module__tabsContainer\",\"tabs\":\"Content-module__tabs\",\"tab\":\"Content-module__tab\",\"slides\":\"Content-module__slides\",\"slide\":\"Content-module__slide\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Explore-module__wrapper\",\"list\":\"Explore-module__list\",\"landscapeList\":\"Explore-module__landscapeList\",\"suggestions\":\"Explore-module__suggestions\",\"suggestionsMenu\":\"Explore-module__suggestionsMenu\",\"suggestion\":\"Explore-module__suggestion\",\"suggestionIcon\":\"Explore-module__suggestionIcon\",\"suggestionAddress\":\"Explore-module__suggestionAddress\",\"clearSuggestion\":\"Explore-module__clearSuggestion\",\"item\":\"Explore-module__item\",\"image\":\"Explore-module__image\",\"imageWrapper\":\"Explore-module__imageWrapper\",\"infoWrapper\":\"Explore-module__infoWrapper\",\"title\":\"Explore-module__title\",\"description\":\"Explore-module__description\",\"emptyList\":\"Explore-module__emptyList\",\"emptyListLoading\":\"Explore-module__emptyListLoading\",\"searchWrapper\":\"Explore-module__searchWrapper\",\"searchIcon\":\"Explore-module__searchIcon\",\"searchInput\":\"Explore-module__searchInput\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"NewWalletGreeting-module__container\",\"panel\":\"NewWalletGreeting-module__panel\",\"emptyList\":\"NewWalletGreeting-module__emptyList\",\"text\":\"NewWalletGreeting-module__text\",\"header\":\"NewWalletGreeting-module__header\",\"description\":\"NewWalletGreeting-module__description\"};","// extracted by mini-css-extract-plugin\nexport default {\"emptyList\":\"Nft-module__emptyList\",\"emptyListTitle\":\"Nft-module__emptyListTitle\",\"emptyListText\":\"Nft-module__emptyListText\",\"emptyListLoading\":\"Nft-module__emptyListLoading\",\"emptyListButton\":\"Nft-module__emptyListButton\",\"sticker\":\"Nft-module__sticker\",\"list\":\"Nft-module__list\",\"landscapeList\":\"Nft-module__landscapeList\",\"item\":\"Nft-module__item\",\"image\":\"Nft-module__image\",\"item_onSale\":\"Nft-module__item_onSale\",\"itemOnSale\":\"Nft-module__item_onSale\",\"nonInteractive\":\"Nft-module__nonInteractive\",\"itemWithMenu\":\"Nft-module__itemWithMenu\",\"imageWrapper\":\"Nft-module__imageWrapper\",\"warning\":\"Nft-module__warning\",\"imageSelected\":\"Nft-module__imageSelected\",\"fullImage\":\"Nft-module__fullImage\",\"infoWrapper\":\"Nft-module__infoWrapper\",\"title\":\"Nft-module__title\",\"collection\":\"Nft-module__collection\",\"radio\":\"Nft-module__radio\",\"notcoinVoucherButton\":\"Nft-module__notcoinVoucherButton\",\"notcoinVoucherIcon\":\"Nft-module__notcoinVoucherIcon\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NftCollectionHeader-module__root\",\"backButton\":\"NftCollectionHeader-module__backButton\",\"backIcon\":\"NftCollectionHeader-module__backIcon\",\"content\":\"NftCollectionHeader-module__content\",\"title\":\"NftCollectionHeader-module__title\",\"amount\":\"NftCollectionHeader-module__amount\",\"menuButton\":\"NftCollectionHeader-module__menuButton\",\"menu\":\"NftCollectionHeader-module__menu\",\"menuItem\":\"NftCollectionHeader-module__menuItem\",\"sendAllButton\":\"NftCollectionHeader-module__sendAllButton\",\"burnAllButton\":\"NftCollectionHeader-module__burnAllButton\",\"buttonIcon\":\"NftCollectionHeader-module__buttonIcon\"};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"NftMenu-module__button\",\"icon\":\"NftMenu-module__icon\",\"menu\":\"NftMenu-module__menu\",\"item\":\"NftMenu-module__item\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Token-module__is-ios\",\"isIos\":\"Token-module__is-ios\",\"is-android\":\"Token-module__is-android\",\"isAndroid\":\"Token-module__is-android\",\"container\":\"Token-module__container\",\"vestingIcon\":\"Token-module__vestingIcon\",\"percent\":\"Token-module__percent\",\"active\":\"Token-module__active\",\"iconArrow\":\"Token-module__iconArrow\",\"iconChevron\":\"Token-module__iconChevron\",\"icon\":\"Token-module__icon\",\"primaryCell\":\"Token-module__primaryCell\",\"secondaryCell\":\"Token-module__secondaryCell\",\"subtitle\":\"Token-module__subtitle\",\"amountChange\":\"Token-module__amountChange\",\"name\":\"Token-module__name\",\"name_withApy\":\"Token-module__name_withApy\",\"nameWithApy\":\"Token-module__name_withApy\",\"secondaryValue\":\"Token-module__secondaryValue\",\"secondaryValue_staked\":\"Token-module__secondaryValue_staked\",\"secondaryValueStaked\":\"Token-module__secondaryValue_staked\",\"change\":\"Token-module__change\",\"change_up\":\"Token-module__change_up\",\"changeUp\":\"Token-module__change_up\",\"change_down\":\"Token-module__change_down\",\"changeDown\":\"Token-module__change_down\",\"dot\":\"Token-module__dot\",\"apy\":\"Token-module__apy\",\"apy_staked\":\"Token-module__apy_staked\",\"apyStaked\":\"Token-module__apy_staked\",\"secondaryValue_vesting\":\"Token-module__secondaryValue_vesting\",\"secondaryValueVesting\":\"Token-module__secondaryValue_vesting\",\"secondaryValue_vestingUnfreeze\":\"Token-module__secondaryValue_vestingUnfreeze\",\"secondaryValueVestingUnfreeze\":\"Token-module__secondaryValue_vestingUnfreeze\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Transaction-module__is-ios\",\"isIos\":\"Transaction-module__is-ios\",\"is-android\":\"Transaction-module__is-android\",\"isAndroid\":\"Transaction-module__is-android\",\"item\":\"Transaction-module__item\",\"withNft\":\"Transaction-module__withNft\",\"withNftAndComment\":\"Transaction-module__withNftAndComment\",\"active\":\"Transaction-module__active\",\"itemLast\":\"Transaction-module__itemLast\",\"iconArrow\":\"Transaction-module__iconArrow\",\"icon\":\"Transaction-module__icon\",\"icon_staking\":\"Transaction-module__icon_staking\",\"iconStaking\":\"Transaction-module__icon_staking\",\"icon_operationPositive\":\"Transaction-module__icon_operationPositive\",\"iconOperationPositive\":\"Transaction-module__icon_operationPositive\",\"icon_purple\":\"Transaction-module__icon_purple\",\"iconPurple\":\"Transaction-module__icon_purple\",\"icon_error\":\"Transaction-module__icon_error\",\"iconError\":\"Transaction-module__iconError\",\"icon_swap\":\"Transaction-module__icon_swap\",\"iconSwap\":\"Transaction-module__icon_swap\",\"iconWaiting\":\"Transaction-module__iconWaiting\",\"iconWaitingSwap\":\"Transaction-module__iconWaitingSwap\",\"iconWaitingStake\":\"Transaction-module__iconWaitingStake\",\"leftBlock\":\"Transaction-module__leftBlock\",\"amount\":\"Transaction-module__amount\",\"operationName\":\"Transaction-module__operationName\",\"address\":\"Transaction-module__address\",\"swapPrice\":\"Transaction-module__swapPrice\",\"date\":\"Transaction-module__date\",\"apyValue\":\"Transaction-module__apyValue\",\"addressValue\":\"Transaction-module__addressValue\",\"swapPriceValue\":\"Transaction-module__swapPriceValue\",\"amountWrapper\":\"Transaction-module__amountWrapper\",\"amount_operationPositive\":\"Transaction-module__amount_operationPositive\",\"amountOperationPositive\":\"Transaction-module__amount_operationPositive\",\"amount_operationNegative\":\"Transaction-module__amount_operationNegative\",\"amountOperationNegative\":\"Transaction-module__amount_operationNegative\",\"amount_stake\":\"Transaction-module__amount_stake\",\"amountStake\":\"Transaction-module__amount_stake\",\"commentIcon\":\"Transaction-module__commentIcon\",\"comment\":\"Transaction-module__comment\",\"comment_incoming\":\"Transaction-module__comment_incoming\",\"commentIncoming\":\"Transaction-module__comment_incoming\",\"comment_outgoing\":\"Transaction-module__comment_outgoing\",\"commentOutgoing\":\"Transaction-module__comment_outgoing\",\"scamImage\":\"Transaction-module__scamImage\",\"swapAmount\":\"Transaction-module__swapAmount\",\"swapArrowRight\":\"Transaction-module__swapArrowRight\",\"swapBuy\":\"Transaction-module__swapBuy\",\"swapError\":\"Transaction-module__swapError\",\"swapSell\":\"Transaction-module__swapSell\",\"swapHold\":\"Transaction-module__swapHold\",\"isSwapErrorMessage\":\"Transaction-module__isSwapErrorMessage\",\"nft\":\"Transaction-module__nft\",\"received\":\"Transaction-module__received\",\"nftWithComment\":\"Transaction-module__nftWithComment\",\"nftImage\":\"Transaction-module__nftImage\",\"nftData\":\"Transaction-module__nftData\",\"nftName\":\"Transaction-module__nftName\",\"nftCollection\":\"Transaction-module__nftCollection\"};","// extracted by mini-css-extract-plugin\nexport default {\"portraitContainer\":\"Warnings-module__portraitContainer\",\"container\":\"Warnings-module__container\",\"testnetWarning\":\"Warnings-module__testnetWarning\",\"wrapper\":\"Warnings-module__wrapper\",\"wrapper_landscape\":\"Warnings-module__wrapper_landscape\",\"wrapperLandscape\":\"Warnings-module__wrapper_landscape\",\"icon\":\"Warnings-module__icon\",\"text\":\"Warnings-module__text\",\"closeButton\":\"Warnings-module__closeButton\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"MediaViewer-module__is-ios\",\"isIos\":\"MediaViewer-module__is-ios\",\"is-android\":\"MediaViewer-module__is-android\",\"isAndroid\":\"MediaViewer-module__is-android\",\"root\":\"MediaViewer-module__root\",\"header\":\"MediaViewer-module__header\",\"headerTransition\":\"MediaViewer-module__headerTransition\",\"actions\":\"MediaViewer-module__actions\",\"actionButton\":\"MediaViewer-module__actionButton\",\"actionIcon\":\"MediaViewer-module__actionIcon\",\"menuButton\":\"MediaViewer-module__menuButton\",\"menuButton_active\":\"MediaViewer-module__menuButton_active\",\"menuButtonActive\":\"MediaViewer-module__menuButton_active\",\"menuItem\":\"MediaViewer-module__menuItem\",\"slides\":\"MediaViewer-module__slides\",\"slide\":\"MediaViewer-module__slide\",\"slide_active\":\"MediaViewer-module__slide_active\",\"slideActive\":\"MediaViewer-module__slide_active\",\"slide_moving\":\"MediaViewer-module__slide_moving\",\"slideMoving\":\"MediaViewer-module__slide_moving\",\"content\":\"MediaViewer-module__content\",\"image\":\"MediaViewer-module__image\",\"contentDescription\":\"MediaViewer-module__contentDescription\",\"contentTextWrapper\":\"MediaViewer-module__contentTextWrapper\",\"contentText\":\"MediaViewer-module__contentText\",\"navigation\":\"MediaViewer-module__navigation\",\"portraitContainer\":\"MediaViewer-module__portraitContainer\",\"navigation_prev\":\"MediaViewer-module__navigation_prev\",\"navigationPrev\":\"MediaViewer-module__navigation_prev\",\"navigation_next\":\"MediaViewer-module__navigation_next\",\"navigationNext\":\"MediaViewer-module__navigation_next\",\"mediaInfo\":\"MediaViewer-module__mediaInfo\",\"mediaInfoTitle\":\"MediaViewer-module__mediaInfoTitle\",\"mediaInfoDescription\":\"MediaViewer-module__mediaInfoDescription\",\"descriptionText\":\"MediaViewer-module__descriptionText\",\"tooltip\":\"MediaViewer-module__tooltip\",\"ghost\":\"MediaViewer-module__ghost\",\"ghost_roundedOpening\":\"MediaViewer-module__ghost_roundedOpening\",\"ghostRoundedOpening\":\"MediaViewer-module__ghost_roundedOpening\",\"ghost_roundedClosing\":\"MediaViewer-module__ghost_roundedClosing\",\"ghostRoundedClosing\":\"MediaViewer-module__ghost_roundedClosing\",\"ghostImage\":\"MediaViewer-module__ghostImage\",\"scamImage\":\"MediaViewer-module__scamImage\"};","// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ReceiveModal-module__content\",\"contentTitle\":\"ReceiveModal-module__contentTitle\",\"qrCode\":\"ReceiveModal-module__qrCode\",\"qrCodeHidden\":\"ReceiveModal-module__qrCodeHidden\",\"label\":\"ReceiveModal-module__label\",\"labelForInvoice\":\"ReceiveModal-module__labelForInvoice\",\"copyButtonStatic\":\"ReceiveModal-module__copyButtonStatic\",\"invoiceButton\":\"ReceiveModal-module__invoiceButton\",\"tokenDropdown\":\"ReceiveModal-module__tokenDropdown\",\"invoiceComment\":\"ReceiveModal-module__invoiceComment\",\"dottedLink\":\"ReceiveModal-module__dottedLink\",\"actionButtons\":\"ReceiveModal-module__actionButtons\",\"actionButton\":\"ReceiveModal-module__actionButton\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Settings-module__wrapper\",\"slide\":\"Settings-module__slide\",\"transitionContainer\":\"Settings-module__transitionContainer\",\"transitionSlide\":\"Settings-module__transitionSlide\",\"developerTitle\":\"Settings-module__developerTitle\",\"developerCloseButton\":\"Settings-module__developerCloseButton\",\"header\":\"Settings-module__header\",\"languageHeader\":\"Settings-module__languageHeader\",\"headerBack\":\"Settings-module__headerBack\",\"iconChevron\":\"Settings-module__iconChevron\",\"headerBackInContent\":\"Settings-module__headerBackInContent\",\"headerTitle\":\"Settings-module__headerTitle\",\"modalHeader\":\"Settings-module__modalHeader\",\"content\":\"Settings-module__content\",\"content_noScroll\":\"Settings-module__content_noScroll\",\"contentNoScroll\":\"Settings-module__content_noScroll\",\"contentFullSize\":\"Settings-module__contentFullSize\",\"blockTitle\":\"Settings-module__blockTitle\",\"menuIcon\":\"Settings-module__menuIcon\",\"themeWrapper\":\"Settings-module__themeWrapper\",\"blockAbout\":\"Settings-module__blockAbout\",\"theme\":\"Settings-module__theme\",\"theme_active\":\"Settings-module__theme_active\",\"themeActive\":\"Settings-module__theme_active\",\"themeIcon\":\"Settings-module__themeIcon\",\"themeIcon_active\":\"Settings-module__themeIcon_active\",\"themeIconActive\":\"Settings-module__themeIcon_active\",\"themeImg\":\"Settings-module__themeImg\",\"block\":\"Settings-module__block\",\"settingsBlockWithDescription\":\"Settings-module__settingsBlockWithDescription\",\"settingsBlock\":\"Settings-module__settingsBlock\",\"iconChevronRight\":\"Settings-module__iconChevronRight\",\"item\":\"Settings-module__item\",\"draggable\":\"Settings-module__draggable\",\"item_red\":\"Settings-module__item_red\",\"itemRed\":\"Settings-module__item_red\",\"item_small\":\"Settings-module__item_small\",\"itemSmall\":\"Settings-module__item_small\",\"item_lang\":\"Settings-module__item_lang\",\"itemLang\":\"Settings-module__item_lang\",\"item_wallet_version\":\"Settings-module__item_wallet_version\",\"itemWalletVersion\":\"Settings-module__item_wallet_version\",\"item_token\":\"Settings-module__item_token\",\"itemToken\":\"Settings-module__item_token\",\"itemInfo\":\"Settings-module__itemInfo\",\"small\":\"Settings-module__small\",\"version\":\"Settings-module__version\",\"languageMain\":\"Settings-module__languageMain\",\"languageNative\":\"Settings-module__languageNative\",\"iconQuestion\":\"Settings-module__iconQuestion\",\"blockWithTooltip\":\"Settings-module__blockWithTooltip\",\"tooltip\":\"Settings-module__tooltip\",\"tooltip_wide\":\"Settings-module__tooltip_wide\",\"tooltipWide\":\"Settings-module__tooltip_wide\",\"disconnectButton\":\"Settings-module__disconnectButton\",\"blockDescription\":\"Settings-module__blockDescription\",\"emptyList\":\"Settings-module__emptyList\",\"emptyListTitle\":\"Settings-module__emptyListTitle\",\"dapp\":\"Settings-module__dapp\",\"backButton\":\"Settings-module__backButton\",\"logo\":\"Settings-module__logo\",\"stickerNativeBiometric\":\"Settings-module__stickerNativeBiometric\",\"pinPadHeader\":\"Settings-module__pinPadHeader\",\"pinPadTitle\":\"Settings-module__pinPadTitle\",\"title\":\"Settings-module__title\",\"titleLink\":\"Settings-module__titleLink\",\"heading\":\"Settings-module__heading\",\"text\":\"Settings-module__text\",\"github\":\"Settings-module__github\",\"telegram\":\"Settings-module__telegram\",\"tokenIcon\":\"Settings-module__tokenIcon\",\"tokenSortIcon\":\"Settings-module__tokenSortIcon\",\"tokenTitle\":\"Settings-module__tokenTitle\",\"tokenDescription\":\"Settings-module__tokenDescription\",\"dot\":\"Settings-module__dot\",\"dotLarge\":\"Settings-module__dotLarge\",\"contentRelative\":\"Settings-module__contentRelative\",\"sortableContainer\":\"Settings-module__sortableContainer\",\"modalDialog\":\"Settings-module__modalDialog\",\"modalDialogWeb\":\"Settings-module__modalDialogWeb\",\"modalContent\":\"Settings-module__modalContent\",\"deleteText\":\"Settings-module__deleteText\",\"languageInfo\":\"Settings-module__languageInfo\",\"tokenInfo\":\"Settings-module__tokenInfo\",\"stickerAndTitle\":\"Settings-module__stickerAndTitle\",\"sideTitle\":\"Settings-module__sideTitle\",\"aboutFooterWrapper\":\"Settings-module__aboutFooterWrapper\",\"aboutFooterContent\":\"Settings-module__aboutFooterContent\",\"blockWalletVersionText\":\"Settings-module__blockWalletVersionText\",\"walletVersionInfo\":\"Settings-module__walletVersionInfo\",\"walletVersionInfoRight\":\"Settings-module__walletVersionInfoRight\",\"walletVersionTitle\":\"Settings-module__walletVersionTitle\",\"walletVersionTokens\":\"Settings-module__walletVersionTokens\",\"walletVersionAddress\":\"Settings-module__walletVersionAddress\",\"walletVersionAmount\":\"Settings-module__walletVersionAmount\",\"blockWalletVersionReadMore\":\"Settings-module__blockWalletVersionReadMore\",\"nftPrimaryCell\":\"Settings-module__nftPrimaryCell\",\"nftName\":\"Settings-module__nftName\",\"nftCollection\":\"Settings-module__nftCollection\",\"nftImage\":\"Settings-module__nftImage\",\"nftButtonUnhide\":\"Settings-module__nftButtonUnhide\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"Biometrics-module__modalDialog\",\"sticker\":\"Biometrics-module__sticker\",\"stickerHuge\":\"Biometrics-module__stickerHuge\",\"error\":\"Biometrics-module__error\",\"step\":\"Biometrics-module__step\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"Staking-module__modalDialog\",\"welcome\":\"Staking-module__welcome\",\"welcome_static\":\"Staking-module__welcome_static\",\"welcomeStatic\":\"Staking-module__welcome_static\",\"welcomeInformation\":\"Staking-module__welcomeInformation\",\"welcomeInformation_static\":\"Staking-module__welcomeInformation_static\",\"welcomeInformationStatic\":\"Staking-module__welcomeInformation_static\",\"stakingApy\":\"Staking-module__stakingApy\",\"textButton\":\"Staking-module__textButton\",\"sticker\":\"Staking-module__sticker\",\"sticker_static\":\"Staking-module__sticker_static\",\"stickerStatic\":\"Staking-module__sticker_static\",\"stakingSafeDialog\":\"Staking-module__stakingSafeDialog\",\"ton\":\"Staking-module__ton\",\"tonIcon\":\"Staking-module__tonIcon\",\"tonName\":\"Staking-module__tonName\",\"amountTopRight\":\"Staking-module__amountTopRight\",\"amountTopRight_static\":\"Staking-module__amountTopRight_static\",\"amountTopRightStatic\":\"Staking-module__amountTopRight_static\",\"amountTopRight_slide\":\"Staking-module__amountTopRight_slide\",\"amountTopRightSlide\":\"Staking-module__amountTopRight_slide\",\"Transition\":\"Staking-module__Transition\",\"transition\":\"Staking-module__Transition\",\"Transition_slide-from\":\"Staking-module__Transition_slide-from\",\"transitionSlideFrom\":\"Staking-module__Transition_slide-from\",\"Transition_slide-to\":\"Staking-module__Transition_slide-to\",\"transitionSlideTo\":\"Staking-module__Transition_slide-to\",\"amountBottomWrapper\":\"Staking-module__amountBottomWrapper\",\"amountBottomWrapper_static\":\"Staking-module__amountBottomWrapper_static\",\"amountBottomWrapperStatic\":\"Staking-module__amountBottomWrapper_static\",\"amountBottom\":\"Staking-module__amountBottom\",\"amountBottomRight\":\"Staking-module__amountBottomRight\",\"amountBottomRight_error\":\"Staking-module__amountBottomRight_error\",\"amountBottomRightError\":\"Staking-module__amountBottomRight_error\",\"amountBottomRight_slide\":\"Staking-module__amountBottomRight_slide\",\"amountBottomRightSlide\":\"Staking-module__amountBottomRight_slide\",\"animating\":\"Staking-module__animating\",\"from\":\"Staking-module__from\",\"to\":\"Staking-module__to\",\"balanceError\":\"Staking-module__balanceError\",\"minAmountValue\":\"Staking-module__minAmountValue\",\"amountInCurrency\":\"Staking-module__amountInCurrency\",\"notEnoughBalanceTextBold\":\"Staking-module__notEnoughBalanceTextBold\",\"historyTotalValue\":\"Staking-module__historyTotalValue\",\"balanceContainer\":\"Staking-module__balanceContainer\",\"balance\":\"Staking-module__balance\",\"balanceLink\":\"Staking-module__balanceLink\",\"stakingBalance\":\"Staking-module__stakingBalance\",\"amountInput\":\"Staking-module__amountInput\",\"inputStatic\":\"Staking-module__inputStatic\",\"inputRichStatic\":\"Staking-module__inputRichStatic\",\"balanceResultWrapper\":\"Staking-module__balanceResultWrapper\",\"balanceResultInput\":\"Staking-module__balanceResultInput\",\"balanceResultLabel\":\"Staking-module__balanceResultLabel\",\"balanceStakedLabel\":\"Staking-module__balanceStakedLabel\",\"balanceStakedResult\":\"Staking-module__balanceStakedResult\",\"balanceResult\":\"Staking-module__balanceResult\",\"stakingInfoModal\":\"Staking-module__stakingInfo_modal\",\"stakingInfoModal_withHistory\":\"Staking-module__stakingInfoModal_withHistory\",\"stakingInfoModalWithHistory\":\"Staking-module__stakingInfoModal_withHistory\",\"stakingInfo\":\"Staking-module__stakingInfo\",\"stakingInfo_modal\":\"Staking-module__stakingInfo_modal\",\"stakingInfoNoHistory\":\"Staking-module__stakingInfoNoHistory\",\"stakingInfoModalContent\":\"Staking-module__stakingInfoModalContent\",\"history\":\"Staking-module__history\",\"historyList\":\"Staking-module__historyList\",\"stakingInfoLoading\":\"Staking-module__stakingInfoLoading\",\"stakingInfoClose\":\"Staking-module__stakingInfoClose\",\"stakingInfoButtons\":\"Staking-module__stakingInfoButtons\",\"stakingInfoButton\":\"Staking-module__stakingInfoButton\",\"insufficientBalance\":\"Staking-module__insufficientBalance\",\"unstakeTime\":\"Staking-module__unstakeTime\",\"unstakeTime_purple\":\"Staking-module__unstakeTime_purple\",\"unstakeTimePurple\":\"Staking-module__unstakeTime_purple\",\"unstakeTimeIcon\":\"Staking-module__unstakeTimeIcon\",\"history_static\":\"Staking-module__history_static\",\"historyStatic\":\"Staking-module__history_static\",\"historyTotal\":\"Staking-module__historyTotal\",\"historyTitle\":\"Staking-module__historyTitle\",\"historyList_static\":\"Staking-module__historyList_static\",\"historyListStatic\":\"Staking-module__historyList_static\",\"stakingShortInfo\":\"Staking-module__stakingShortInfo\",\"unstake\":\"Staking-module__unstake\",\"stakingShortInfoInsidePasswordForm\":\"Staking-module__stakingShortInfoInsidePasswordForm\",\"tokenIcon\":\"Staking-module__tokenIcon\",\"unstakeInfo\":\"Staking-module__unstakeInfo\",\"notEnoughBalanceContent\":\"Staking-module__notEnoughBalanceContent\",\"notEnoughBalanceText\":\"Staking-module__notEnoughBalanceText\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"StakingProfileItem-module__item\",\"icon\":\"StakingProfileItem-module__icon\",\"leftBlock\":\"StakingProfileItem-module__leftBlock\",\"amount\":\"StakingProfileItem-module__amount\",\"operationName\":\"StakingProfileItem-module__operationName\",\"date\":\"StakingProfileItem-module__date\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"Swap-module__modalDialog\",\"scrollContent\":\"Swap-module__scrollContent\",\"amountInput\":\"Swap-module__amountInput\",\"amountInputBuy\":\"Swap-module__amountInputBuy\",\"inputLabel\":\"Swap-module__inputLabel\",\"amountInputInner\":\"Swap-module__amountInputInner\",\"balanceContainer\":\"Swap-module__balanceContainer\",\"advancedSlippageContainer\":\"Swap-module__advancedSlippageContainer\",\"balance\":\"Swap-module__balance\",\"balanceLink\":\"Swap-module__balanceLink\",\"content\":\"Swap-module__content\",\"inputContainer\":\"Swap-module__inputContainer\",\"slippageLabel\":\"Swap-module__slippageLabel\",\"tokenSelectorWrapper\":\"Swap-module__tokenSelectorWrapper\",\"tokenSelectorSlide\":\"Swap-module__tokenSelectorSlide\",\"tokenSelector\":\"Swap-module__tokenSelector\",\"tokenSelectorIcon\":\"Swap-module__tokenSelectorIcon\",\"tokenIcon\":\"Swap-module__tokenIcon\",\"tokenBlockchainIcon\":\"Swap-module__tokenBlockchainIcon\",\"tokenContent\":\"Swap-module__tokenContent\",\"swapButtonWrapper\":\"Swap-module__swapButtonWrapper\",\"swapButtonWrapperStatic\":\"Swap-module__swapButtonWrapperStatic\",\"swapButton\":\"Swap-module__swapButton\",\"feeWrapper\":\"Swap-module__feeWrapper\",\"feeContent\":\"Swap-module__feeContent\",\"feeContentClickable\":\"Swap-module__feeContentClickable\",\"tokenPrice\":\"Swap-module__tokenPrice\",\"feeText\":\"Swap-module__feeText\",\"feeIcon\":\"Swap-module__feeIcon\",\"footerBlock\":\"Swap-module__footerBlock\",\"footerBlockStatic\":\"Swap-module__footerBlockStatic\",\"dot\":\"Swap-module__dot\",\"advancedTitle\":\"Swap-module__advancedTitle\",\"advancedBlock\":\"Swap-module__advancedBlock\",\"advancedRow\":\"Swap-module__advancedRow\",\"advancedDescription\":\"Swap-module__advancedDescription\",\"advancedTooltip\":\"Swap-module__advancedTooltip\",\"advancedTooltipContainer\":\"Swap-module__advancedTooltipContainer\",\"advancedTooltipMessage\":\"Swap-module__advancedTooltipMessage\",\"advancedValue\":\"Swap-module__advancedValue\",\"advancedSlippageError\":\"Swap-module__advancedSlippageError\",\"advancedSlippage\":\"Swap-module__advancedSlippage\",\"advancedInput\":\"Swap-module__advancedInput\",\"advancedInputValue\":\"Swap-module__advancedInputValue\",\"isEmpty\":\"Swap-module__isEmpty\",\"advancedError\":\"Swap-module__advancedError\",\"footerButtonWrapper\":\"Swap-module__footerButtonWrapper\",\"footerButton\":\"Swap-module__footerButton\",\"swapArrowIcon\":\"Swap-module__swapArrowIcon\",\"priceImpact\":\"Swap-module__priceImpact\",\"priceImpactSticker\":\"Swap-module__priceImpactSticker\",\"priceImpactContent\":\"Swap-module__priceImpactContent\",\"priceImpactTitle\":\"Swap-module__priceImpactTitle\",\"priceImpactArrow\":\"Swap-module__priceImpactArrow\",\"priceImpactDescription\":\"Swap-module__priceImpactDescription\",\"swapCornerTop\":\"Swap-module__swapCornerTop\",\"swapCornerBottom\":\"Swap-module__swapCornerBottom\",\"swapCornerStaticTop\":\"Swap-module__swapCornerStaticTop\",\"swapCornerStaticBottom\":\"Swap-module__swapCornerStaticBottom\",\"selectBlockchainBlock\":\"Swap-module__selectBlockchainBlock\",\"inputAddressWrapper\":\"Swap-module__inputAddressWrapper\",\"inputAddress\":\"Swap-module__inputAddress\",\"blockchainHintWrapper\":\"Swap-module__blockchainHintWrapper\",\"changellyDescription\":\"Swap-module__changellyDescription\",\"blockchainHintText\":\"Swap-module__blockchainHintText\",\"blockchainHintTextError\":\"Swap-module__blockchainHintTextError\",\"inputButton\":\"Swap-module__inputButton\",\"inputButtonShifted\":\"Swap-module__inputButtonShifted\",\"changellyInfo\":\"Swap-module__changellyInfo\",\"changellyInfoStatic\":\"Swap-module__changellyInfoStatic\",\"priceImpactStatic\":\"Swap-module__priceImpactStatic\",\"changellyInfoContent\":\"Swap-module__changellyInfoContent\",\"changellyInfoTitle\":\"Swap-module__changellyInfoTitle\",\"changellyInfoDescription\":\"Swap-module__changellyInfoDescription\",\"changellyIcon\":\"Swap-module__changellyIcon\",\"changellyInfoBlock\":\"Swap-module__changellyInfoBlock\",\"blockchainButtons\":\"Swap-module__blockchainButtons\",\"changellyTextField\":\"Swap-module__changellyTextField\",\"textFieldWrapperFullWidth\":\"Swap-module__textFieldWrapperFullWidth\",\"changellyImportantRed\":\"Swap-module__changellyImportantRed\",\"tokenIconWrapper\":\"Swap-module__tokenIconWrapper\",\"arrowContainer\":\"Swap-module__arrowContainer\",\"arrowContainerInverted\":\"Swap-module__arrowContainerInverted\",\"arrow\":\"Swap-module__arrow\",\"arrowNew\":\"Swap-module__arrowNew\",\"arrowOld\":\"Swap-module__arrowOld\",\"animateDisappear\":\"Swap-module__animateDisappear\",\"arrow-disappear\":\"Swap-module__arrow-disappear\",\"arrowDisappear\":\"Swap-module__arrow-disappear\",\"animateAppear\":\"Swap-module__animateAppear\",\"arrow-appear\":\"Swap-module__arrow-appear\",\"arrowAppear\":\"Swap-module__arrow-appear\",\"swapShortInfo\":\"Swap-module__swapShortInfo\",\"swapShortInfoInsidePasswordForm\":\"Swap-module__swapShortInfoInsidePasswordForm\",\"swapShortAmount\":\"Swap-module__swapShortAmount\",\"changellyDescriptionBold\":\"Swap-module__changellyDescriptionBold\",\"swapShortValue\":\"Swap-module__swapShortValue\",\"swapShortInfoTokenIcon\":\"Swap-module__swapShortInfoTokenIcon\",\"swapShortInfoBlockchainIcon\":\"Swap-module__swapShortInfoBlockchainIcon\",\"qrCode\":\"Swap-module__qrCode\",\"qrCodeHidden\":\"Swap-module__qrCodeHidden\",\"textFieldLabel\":\"Swap-module__textFieldLabel\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NftChips-module__root\",\"static\":\"NftChips-module__static\",\"nft\":\"NftChips-module__nft\",\"image\":\"NftChips-module__image\",\"name\":\"NftChips-module__name\",\"expander\":\"NftChips-module__expander\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"NftInfo-module__root\",\"icon\":\"NftInfo-module__icon\",\"rootStatic\":\"NftInfo-module__rootStatic\",\"thumbnail\":\"NftInfo-module__thumbnail\",\"info\":\"NftInfo-module__info\",\"title\":\"NftInfo-module__title\",\"description\":\"NftInfo-module__description\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"Transfer-module__modalDialog\",\"inputButton\":\"Transfer-module__inputButton\",\"inputButtonClear\":\"Transfer-module__inputButtonClear\",\"inputButtonTransition\":\"Transfer-module__inputButtonTransition\",\"inputButtonShifted\":\"Transfer-module__inputButtonShifted\",\"amountInput\":\"Transfer-module__amountInput\",\"help\":\"Transfer-module__help\",\"label\":\"Transfer-module__label\",\"amountBottomWrapper\":\"Transfer-module__amountBottomWrapper\",\"amountBottom\":\"Transfer-module__amountBottom\",\"amountBottomRight\":\"Transfer-module__amountBottomRight\",\"amountBottomRight_slide\":\"Transfer-module__amountBottomRight_slide\",\"amountBottomRightSlide\":\"Transfer-module__amountBottomRight_slide\",\"Transition\":\"Transfer-module__Transition\",\"transition\":\"Transfer-module__Transition\",\"Transition_slide-from\":\"Transfer-module__Transition_slide-from\",\"transitionSlideFrom\":\"Transfer-module__Transition_slide-from\",\"Transition_slide-to\":\"Transfer-module__Transition_slide-to\",\"transitionSlideTo\":\"Transfer-module__Transition_slide-to\",\"amountBottomRight_static\":\"Transfer-module__amountBottomRight_static\",\"amountBottomRightStatic\":\"Transfer-module__amountBottomRight_static\",\"balanceError\":\"Transfer-module__balanceError\",\"feeValue\":\"Transfer-module__feeValue\",\"balanceContainer\":\"Transfer-module__balanceContainer\",\"balance\":\"Transfer-module__balance\",\"balanceLink\":\"Transfer-module__balanceLink\",\"amountInCurrency\":\"Transfer-module__amountInCurrency\",\"description\":\"Transfer-module__description\",\"error\":\"Transfer-module__error\",\"addressWidget\":\"Transfer-module__addressWidget\",\"inputReadOnly\":\"Transfer-module__inputReadOnly\",\"inputReadOnly_words\":\"Transfer-module__inputReadOnly_words\",\"inputReadOnlyWords\":\"Transfer-module__inputReadOnly_words\",\"currencySymbol\":\"Transfer-module__currencySymbol\",\"commentInputWrapper\":\"Transfer-module__commentInputWrapper\",\"sticker\":\"Transfer-module__sticker\",\"sticker_sizeSmall\":\"Transfer-module__sticker_sizeSmall\",\"stickerSizeSmall\":\"Transfer-module__sticker_sizeSmall\",\"buttonLoading\":\"Transfer-module__buttonLoading\",\"buttonText\":\"Transfer-module__buttonText\",\"button-loading-spinner\":\"Transfer-module__button-loading-spinner\",\"buttonLoadingSpinner\":\"Transfer-module__button-loading-spinner\",\"savedAddressBubble\":\"Transfer-module__savedAddressBubble\",\"savedAddressItem\":\"Transfer-module__savedAddressItem\",\"savedAddressName\":\"Transfer-module__savedAddressName\",\"iconLedger\":\"Transfer-module__iconLedger\",\"savedAddressAddress\":\"Transfer-module__savedAddressAddress\",\"savedAddressDelete\":\"Transfer-module__savedAddressDelete\",\"savedAddressDeleteInner\":\"Transfer-module__savedAddressDeleteInner\",\"savedAddressDeleteIcon\":\"Transfer-module__savedAddressDeleteIcon\",\"tokenDropdown\":\"Transfer-module__tokenDropdown\",\"inputStatic\":\"Transfer-module__inputStatic\",\"inputRichStatic\":\"Transfer-module__inputRichStatic\",\"inputWithIcon\":\"Transfer-module__inputWithIcon\",\"commentLabel\":\"Transfer-module__commentLabel\",\"buttons\":\"Transfer-module__buttons\",\"button\":\"Transfer-module__button\",\"warningTooltipContainer\":\"Transfer-module__warningTooltipContainer\",\"transferShortInfo\":\"Transfer-module__transferShortInfo\",\"transferShortInfoText\":\"Transfer-module__transferShortInfoText\",\"transferShortInfoInsidePasswordForm\":\"Transfer-module__transferShortInfoInsidePasswordForm\",\"bold\":\"Transfer-module__bold\",\"tokenIcon\":\"Transfer-module__tokenIcon\",\"infoBox\":\"Transfer-module__infoBox\",\"burnWarning\":\"Transfer-module__burnWarning\",\"spinner\":\"Transfer-module__spinner\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AmountWithFeeTextField-module__root\",\"suffix\":\"AmountWithFeeTextField-module__suffix\",\"label\":\"AmountWithFeeTextField-module__label\",\"feeLabel\":\"AmountWithFeeTextField-module__feeLabel\",\"feeConfirm\":\"AmountWithFeeTextField-module__feeConfirm\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AnimatedCounter-module__root\",\"character-container\":\"AnimatedCounter-module__character-container\",\"characterContainer\":\"AnimatedCounter-module__character-container\",\"character\":\"AnimatedCounter-module__character\",\"character-old\":\"AnimatedCounter-module__character-old\",\"characterOld\":\"AnimatedCounter-module__character-old\",\"character-disappear\":\"AnimatedCounter-module__character-disappear\",\"characterDisappear\":\"AnimatedCounter-module__character-disappear\",\"character-new\":\"AnimatedCounter-module__character-new\",\"characterNew\":\"AnimatedCounter-module__character-new\",\"character-appear\":\"AnimatedCounter-module__character-appear\",\"characterAppear\":\"AnimatedCounter-module__character-appear\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"AnimatedIconWithPreview-module__root\",\"preview\":\"AnimatedIconWithPreview-module__preview\"};","// extracted by mini-css-extract-plugin\nexport default {\"is-ios\":\"Button-module__is-ios\",\"isIos\":\"Button-module__is-ios\",\"is-android\":\"Button-module__is-android\",\"isAndroid\":\"Button-module__is-android\",\"button\":\"Button-module__button\",\"loadingInit\":\"Button-module__loadingInit\",\"clicked\":\"Button-module__clicked\",\"isSimple\":\"Button-module__isSimple\",\"isText\":\"Button-module__isText\",\"primary\":\"Button-module__primary\",\"transparent\":\"Button-module__transparent\",\"disabled\":\"Button-module__disabled\",\"destructive\":\"Button-module__destructive\",\"sizeSmall\":\"Button-module__sizeSmall\",\"round\":\"Button-module__round\",\"loadingStart\":\"Button-module__loadingStart\",\"loadingDots\":\"Button-module__loadingDots\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Checkbox-module__wrapper\",\"input\":\"Checkbox-module__input\",\"content\":\"Checkbox-module__content\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"ConfettiContainer-module__root\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Draggable-module__container\",\"isDragging\":\"Draggable-module__isDragging\",\"knob\":\"Draggable-module__knob\"};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Dropdown-module__button\",\"item\":\"Dropdown-module__item\",\"wide\":\"Dropdown-module__wide\",\"interactive\":\"Dropdown-module__interactive\",\"label\":\"Dropdown-module__label\",\"light\":\"Dropdown-module__light\",\"disabled\":\"Dropdown-module__disabled\",\"dangerous\":\"Dropdown-module__dangerous\",\"separator\":\"Dropdown-module__separator\",\"buttonIcon\":\"Dropdown-module__buttonIcon\",\"item_selected\":\"Dropdown-module__item_selected\",\"itemSelected\":\"Dropdown-module__item_selected\",\"item_with_icon\":\"Dropdown-module__item_with_icon\",\"itemWithIcon\":\"Dropdown-module__item_with_icon\",\"itemIcon\":\"Dropdown-module__itemIcon\",\"fontIcon\":\"Dropdown-module__fontIcon\",\"itemName\":\"Dropdown-module__itemName\",\"itemDescription\":\"Dropdown-module__itemDescription\",\"dropdownButtonWrapper\":\"Dropdown-module__dropdownButtonWrapper\",\"spinner\":\"Dropdown-module__spinner\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Emoji-module__root\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"IconWithTooltip-module__wrapper\",\"container\":\"IconWithTooltip-module__container\",\"tooltip\":\"IconWithTooltip-module__tooltip\",\"arrow\":\"IconWithTooltip-module__arrow\",\"icon\":\"IconWithTooltip-module__icon\"};","// extracted by mini-css-extract-plugin\nexport default {\"browserShown\":\"InAppBrowser-module__browserShown\",\"browserOpen\":\"InAppBrowser-module__browserOpen\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Input-module__wrapper\",\"input\":\"Input-module__input\",\"input_rich\":\"Input-module__input_rich\",\"inputRich\":\"Input-module__input_rich\",\"error\":\"Input-module__error\",\"input_password\":\"Input-module__input_password\",\"inputPassword\":\"Input-module__input_password\",\"isEmpty\":\"Input-module__isEmpty\",\"disabled\":\"Input-module__disabled\",\"isLoading\":\"Input-module__isLoading\",\"inputWrapperStatic\":\"Input-module__inputWrapperStatic\",\"input__wrapper\":\"Input-module__input__wrapper\",\"inputWrapper\":\"Input-module__input__wrapper\",\"input__wrapper_hasFocus\":\"Input-module__input__wrapper_hasFocus\",\"inputWrapperHasFocus\":\"Input-module__input__wrapper_hasFocus\",\"visibilityToggle\":\"Input-module__visibilityToggle\",\"visibilityToggle_push\":\"Input-module__visibilityToggle_push\",\"visibilityTogglePush\":\"Input-module__visibilityToggle_push\",\"fractional\":\"Input-module__fractional\",\"label\":\"Input-module__label\",\"label_error\":\"Input-module__label_error\",\"labelError\":\"Input-module__label_error\",\"label_forPassword\":\"Input-module__label_forPassword\",\"labelForPassword\":\"Input-module__label_forPassword\",\"label_errorUnderInput\":\"Input-module__label_errorUnderInput\",\"labelErrorUnderInput\":\"Input-module__label_errorUnderInput\",\"label_errorBottom\":\"Input-module__label_errorBottom\",\"labelErrorBottom\":\"Input-module__label_errorBottom\",\"swapCorner\":\"Input-module__swapCorner\",\"swapCorner_error\":\"Input-module__swapCorner_error\",\"swapCornerError\":\"Input-module__swapCorner_error\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"InteractiveTextField-module__wrapper\",\"button\":\"InteractiveTextField-module__button\",\"button_spoiler\":\"InteractiveTextField-module__button_spoiler\",\"buttonSpoiler\":\"InteractiveTextField-module__button_spoiler\",\"icon\":\"InteractiveTextField-module__icon\",\"iconStar\":\"InteractiveTextField-module__iconStar\",\"nameInput\":\"InteractiveTextField-module__nameInput\",\"shortAddress\":\"InteractiveTextField-module__shortAddress\",\"scam\":\"InteractiveTextField-module__scam\",\"revealSpoiler\":\"InteractiveTextField-module__revealSpoiler\",\"scamImage\":\"InteractiveTextField-module__scamImage\"};","// extracted by mini-css-extract-plugin\nexport default {\"spinner\":\"Loading-module__spinner\",\"inner\":\"Loading-module__inner\",\"spin\":\"Loading-module__spin\",\"withBackground\":\"Loading-module__withBackground\",\"dark\":\"Loading-module__dark\",\"light\":\"Loading-module__light\",\"white\":\"Loading-module__white\",\"blue\":\"Loading-module__blue\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"LoadingDots-module__root\",\"dot\":\"LoadingDots-module__dot\",\"dots\":\"LoadingDots-module__dots\",\"doubled\":\"LoadingDots-module__doubled\",\"dots-doubled\":\"LoadingDots-module__dots-doubled\",\"dotsDoubled\":\"LoadingDots-module__dots-doubled\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"LoadingOverlay-module__root\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Menu-module__wrapper\",\"inPortal\":\"Menu-module__inPortal\",\"bubble\":\"Menu-module__bubble\",\"top\":\"Menu-module__top\",\"bottom\":\"Menu-module__bottom\",\"left\":\"Menu-module__left\",\"right\":\"Menu-module__right\",\"backdrop\":\"Menu-module__backdrop\",\"menu\":\"Menu-module__menu\",\"suggestion\":\"Menu-module__suggestion\",\"dropdown\":\"Menu-module__dropdown\"};","// extracted by mini-css-extract-plugin\nexport default {\"menuItem\":\"MenuItem-module__menuItem\",\"menuItem_separator\":\"MenuItem-module__menuItem_separator\",\"menuItemSeparator\":\"MenuItem-module__menuItem_separator\",\"destructive\":\"MenuItem-module__destructive\"};","// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"Modal-module__modal\",\"error\":\"Modal-module__error\",\"dialog\":\"Modal-module__dialog\",\"backdrop\":\"Modal-module__backdrop\",\"delegatingToNative\":\"Modal-module__delegatingToNative\",\"slideUpAnimation\":\"Modal-module__slideUpAnimation\",\"container\":\"Modal-module__container\",\"forceBottomSheet\":\"Modal-module__forceBottomSheet\",\"noBackdrop\":\"Modal-module__noBackdrop\",\"content\":\"Modal-module__content\",\"compact\":\"Modal-module__compact\",\"header\":\"Modal-module__header\",\"header_noClose\":\"Modal-module__header_noClose\",\"headerNoClose\":\"Modal-module__header_noClose\",\"title\":\"Modal-module__title\",\"header_wideContent\":\"Modal-module__header_wideContent\",\"headerWideContent\":\"Modal-module__header_wideContent\",\"header_back\":\"Modal-module__header_back\",\"headerBack\":\"Modal-module__header_back\",\"header_backIcon\":\"Modal-module__header_backIcon\",\"headerBackIcon\":\"Modal-module__header_backIcon\",\"closeButton\":\"Modal-module__closeButton\",\"closeIcon\":\"Modal-module__closeIcon\",\"singleTitle\":\"Modal-module__singleTitle\",\"contentCompact\":\"Modal-module__contentCompact\",\"text\":\"Modal-module__text\",\"text_centered\":\"Modal-module__text_centered\",\"textCentered\":\"Modal-module__text_centered\",\"text_noExtraMargin\":\"Modal-module__text_noExtraMargin\",\"textNoExtraMargin\":\"Modal-module__text_noExtraMargin\",\"buttons\":\"Modal-module__buttons\",\"footerButtons\":\"Modal-module__footerButtons\",\"buttonsInsideContentWithScroll\":\"Modal-module__buttonsInsideContentWithScroll\",\"buttonsNoExtraSpace\":\"Modal-module__buttonsNoExtraSpace\",\"button\":\"Modal-module__button\",\"buttonHalfWidth\":\"Modal-module__buttonHalfWidth\",\"shortButton\":\"Modal-module__shortButton\",\"transition\":\"Modal-module__transition\",\"transitionSlide\":\"Modal-module__transitionSlide\",\"transitionContentWrapper\":\"Modal-module__transitionContentWrapper\",\"transitionContent\":\"Modal-module__transitionContent\",\"transitionContent_simple\":\"Modal-module__transitionContent_simple\",\"transitionContentSimple\":\"Modal-module__transitionContent_simple\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Notification-module__container\",\"container_electron\":\"Notification-module__container_electron\",\"containerElectron\":\"Notification-module__container_electron\",\"notification\":\"Notification-module__notification\",\"content\":\"Notification-module__content\",\"icon\":\"Notification-module__icon\"};","// extracted by mini-css-extract-plugin\nexport default {\"sticker\":\"PasswordForm-module__sticker\",\"label\":\"PasswordForm-module__label\",\"title\":\"PasswordForm-module__title\",\"errorMessage\":\"PasswordForm-module__errorMessage\",\"verify\":\"PasswordForm-module__verify\",\"error\":\"PasswordForm-module__error\",\"pinPadHeader\":\"PasswordForm-module__pinPadHeader\",\"closeButton\":\"PasswordForm-module__closeButton\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"PinPad-module__root\",\"title\":\"PinPad-module__title\",\"dots\":\"PinPad-module__dots\",\"dotsError\":\"PinPad-module__dotsError\",\"shakeAnimation\":\"PinPad-module__shakeAnimation\",\"dotsLoading\":\"PinPad-module__dotsLoading\",\"spin\":\"PinPad-module__spin\",\"appear\":\"PinPad-module__appear\",\"dot\":\"PinPad-module__dot\",\"dotLoadingAnimation\":\"PinPad-module__dotLoadingAnimation\",\"firstDotLoadingAnimation\":\"PinPad-module__firstDotLoadingAnimation\",\"secondDotLoadingAnimation\":\"PinPad-module__secondDotLoadingAnimation\",\"thirdDotLoadingAnimation\":\"PinPad-module__thirdDotLoadingAnimation\",\"fourthDotLoadingAnimation\":\"PinPad-module__fourthDotLoadingAnimation\",\"dotFilled\":\"PinPad-module__dotFilled\",\"scaleAnimation\":\"PinPad-module__scaleAnimation\",\"grid\":\"PinPad-module__grid\",\"button\":\"PinPad-module__button\",\"buttonActive\":\"PinPad-module__buttonActive\",\"buttonHidden\":\"PinPad-module__buttonHidden\",\"error\":\"PinPad-module__error\",\"success\":\"PinPad-module__success\"};","// extracted by mini-css-extract-plugin\nexport default {\"root\":\"Radio-module__root\",\"checked\":\"Radio-module__checked\"};","// extracted by mini-css-extract-plugin\nexport default {\"suggestions\":\"SuggestionList-module__suggestions\",\"bottom\":\"SuggestionList-module__bottom\",\"top\":\"SuggestionList-module__top\",\"suggestion\":\"SuggestionList-module__suggestion\",\"active\":\"SuggestionList-module__active\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Switcher-module__container\",\"input\":\"Switcher-module__input\",\"widget\":\"Switcher-module__widget\"};","// extracted by mini-css-extract-plugin\nexport default {\"Tab\":\"Tab-module__Tab\",\"tab\":\"Tab-module__Tab\",\"Tab_active\":\"Tab-module__Tab_active\",\"tabActive\":\"Tab-module__Tab_active\",\"content\":\"Tab-module__content\",\"interactive\":\"Tab-module__interactive\",\"platform\":\"Tab-module__platform\",\"platform_animate\":\"Tab-module__platform_animate\",\"platformAnimate\":\"Tab-module__platform_animate\",\"menuItem\":\"Tab-module__menuItem\"};","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"TabList-module__container\",\"big\":\"TabList-module__big\"};","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"UpdateAvailable-module__wrapper\",\"icon\":\"UpdateAvailable-module__icon\"};","// extracted by mini-css-extract-plugin\nexport default {\"modalDialog\":\"VestingModal-module__modalDialog\",\"modalHeader\":\"VestingModal-module__modalHeader\",\"passwordModalDialog\":\"VestingModal-module__passwordModalDialog\",\"amountWrapper\":\"VestingModal-module__amountWrapper\",\"close\":\"VestingModal-module__close\",\"inputWrapper\":\"VestingModal-module__inputWrapper\",\"inputLabel\":\"VestingModal-module__inputLabel\",\"inputValue\":\"VestingModal-module__inputValue\",\"unfreezeInput\":\"VestingModal-module__unfreezeInput\",\"unfreezeResult\":\"VestingModal-module__unfreezeResult\",\"buttons\":\"VestingModal-module__buttons\",\"button\":\"VestingModal-module__button\",\"unfreezeTime\":\"VestingModal-module__unfreezeTime\",\"unfreezeTimeIcon\":\"VestingModal-module__unfreezeTimeIcon\",\"actions\":\"VestingModal-module__actions\",\"actionsTitle\":\"VestingModal-module__actionsTitle\",\"actionsList\":\"VestingModal-module__actionsList\",\"block\":\"VestingModal-module__block\",\"vestingInfo\":\"VestingModal-module__vestingInfo\",\"blockTitle\":\"VestingModal-module__blockTitle\",\"blockSubtitle\":\"VestingModal-module__blockSubtitle\",\"part\":\"VestingModal-module__part\",\"partInteractive\":\"VestingModal-module__partInteractive\",\"active\":\"VestingModal-module__active\",\"partIcon\":\"VestingModal-module__partIcon\",\"partValue\":\"VestingModal-module__partValue\",\"operationInfo\":\"VestingModal-module__operationInfo\",\"operationInfoWithGap\":\"VestingModal-module__operationInfoWithGap\",\"operationInfoText\":\"VestingModal-module__operationInfoText\",\"tokenIcon\":\"VestingModal-module__tokenIcon\",\"operationInfoFee\":\"VestingModal-module__operationInfoFee\",\"operationInfoFeeWithGap\":\"VestingModal-module__operationInfoFeeWithGap\",\"partName\":\"VestingModal-module__partName\",\"bold\":\"VestingModal-module__bold\",\"date\":\"VestingModal-module__date\"};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + {\"capacitorSecureStorage\":\"b8bb00be07dd80c43a63\",\"vendors-node_modules_ton_core_dist_dict_parseDict_js-node_modules_ton_core_dist_dict_serializ-1afbe3\":\"e3b1155847c2dfd0685c\",\"vendors-node_modules_ledgerhq_hw-transport-webhid_lib-es_TransportWebHID_js-node_modules_ledg-b68bfa\":\"3bbed3be4b73b0955183\",\"src_api_blockchains_ton_contracts_DnsItem_ts-src_api_blockchains_ton_contracts_JettonMaster_t-0a00c7\":\"07b8bdbe20fdfd918f15\",\"src_util_fetch_ts-src_util_ledger_index_ts\":\"10d7315e7af5701fb98e\",\"node_modules_capgo_capacitor-native-biometric_dist_esm_web_js\":\"f19cb5e32bf5d8d55435\",\"node_modules_capacitor_app_dist_esm_web_js\":\"778ce1cbaed32733873d\",\"node_modules_capacitor_haptics_dist_esm_web_js\":\"8e8400b3f45c9d1452a6\",\"node_modules_mauricewegner_capacitor-navigation-bar_dist_esm_web_js\":\"ecaf92def784abb6f27f\",\"node_modules_capacitor-plugin-safe-area_dist_esm_web_js\":\"56cdbf41a95ef86b8695\",\"mobile_plugins_capacitor-splash-screen_dist_esm_web_js\":\"61d1c981f952e4a30b1f\",\"node_modules_capacitor_app-launcher_dist_esm_web_js\":\"5ae5aa698219caeba10f\",\"node_modules_capgo_native-audio_dist_esm_web_js\":\"de05f9db2e21e387e52b\",\"node_modules_capacitor-mlkit_barcode-scanning_dist_esm_web_js\":\"45c88ea162304d935696\",\"src_lib_rlottie_RLottie_ts\":\"5cd0a0c8292efa021862\",\"mobile_plugins_native-dialog_dist_esm_web_js\":\"115605cd50c17e118bdd\",\"vendors-node_modules_qr-code-styling_lib_qr-code-styling_js\":\"0f334bf838df638e3981\",\"node_modules_capacitor_action-sheet_dist_esm_web_js\":\"21693f4a66e06b062f17\",\"node_modules_capacitor-native-settings_dist_esm_web_js\":\"b9fd292bcef365405cd1\",\"node_modules_capacitor-secure-storage-plugin_dist_esm_web_js\":\"1dbfcf6d9d19d94d7882\",\"worker\":\"4c2da0b4666077f26228\",\"src_lib_mediaWorker_index_worker_ts-src_util_bigint_ts-src_util_logs_ts\":\"8a06b0f5948fdd7152c4\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var inProgress = {};\nvar dataWebpackPrefix = \"mytonwallet:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"main\": 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkmytonwallet\"] = self[\"webpackChunkmytonwallet\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","import './global/actions';\nimport './global/init';\nimport './util/handleError';\nimport './util/bigintPatch';\n\nimport React from './lib/teact/teact';\nimport TeactDOM from './lib/teact/teact-dom';\nimport { getActions, getGlobal } from './global';\n\nimport {\n  DEBUG, IS_CAPACITOR, STRICTERDOM_ENABLED,\n} from './config';\nimport { requestMutation } from './lib/fasterdom/fasterdom';\nimport { enableStrict } from './lib/fasterdom/stricterdom';\nimport { betterView } from './util/betterView';\nimport { fixIosAppStorage, initCapacitor } from './util/capacitor';\nimport { initElectron } from './util/electron';\nimport { forceLoadFonts } from './util/fonts';\nimport { initMultitab } from './util/multitab';\nimport {\n  IS_DELEGATED_BOTTOM_SHEET, IS_DELEGATING_BOTTOM_SHEET, IS_ELECTRON, IS_IOS_APP,\n} from './util/windowEnvironment';\n\nimport App from './components/App';\n\nimport './styles/index.scss';\n\nif (DEBUG) {\n  // eslint-disable-next-line no-console\n  console.log('>>> INIT');\n}\n\nif (STRICTERDOM_ENABLED) {\n  enableStrict();\n}\n\nif (IS_CAPACITOR) {\n  void initCapacitor();\n}\n\nif (IS_ELECTRON) {\n  void initElectron();\n}\n\nif (IS_DELEGATING_BOTTOM_SHEET) {\n  initMultitab({ noPubGlobal: true });\n} else if (IS_DELEGATED_BOTTOM_SHEET) {\n  initMultitab();\n}\n\n(async () => {\n  if (IS_IOS_APP) {\n    await fixIosAppStorage();\n  }\n\n  await window.electron?.restoreStorage();\n\n  getActions().init();\n  getActions().initApi();\n\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log('>>> START INITIAL RENDER');\n  }\n\n  requestMutation(() => {\n    TeactDOM.render(\n      <App />,\n      document.getElementById('root')!,\n    );\n\n    forceLoadFonts();\n    betterView();\n  });\n\n  if (DEBUG) {\n    // eslint-disable-next-line no-console\n    console.log('>>> FINISH INITIAL RENDER');\n  }\n\n  document.addEventListener('dblclick', () => {\n    // eslint-disable-next-line no-console\n    console.warn('GLOBAL STATE', getGlobal());\n  });\n\n  if (window.top === window) {\n    const selfXssWarnings: AnyLiteral = {\n      en: 'WARNING! This console can be a way for bad people to take over your crypto wallet through something called '\n        + 'a Self-XSS attack. So, don\\'t put in or paste code you don\\'t understand. Stay safe!',\n      ru: '!             '\n        + '  Self-XSS.       ,    .  !',\n      es: 'ADVERTENCIA! Esta consola puede ser una forma en que las personas malintencionadas se apoderen de su '\n        + 'billetera de criptomonedas mediante un ataque llamado Self-XSS. Por lo tanto, '\n        + 'no introduzca ni pegue cdigo que no comprenda. Cudese!',\n      zh: 'Self-XSS',\n    };\n\n    const langCode = navigator.language.split('-')[0];\n    const text = selfXssWarnings[langCode] || selfXssWarnings.en;\n\n    // eslint-disable-next-line no-console\n    console.log('%c%s', 'color: red; background: yellow; font-size: 18px;', text);\n  }\n})();\n"],"names":["registerPlugin","SplashScreen","web","then","m","SplashScreenWeb","BottomSheet","Dialog","DialogWeb","Workchain","TOKEN_TRANSFER_TONCOIN_AMOUNT","TOKEN_TRANSFER_TONCOIN_FORWARD_AMOUNT","NFT_TRANSFER_TONCOIN_AMOUNT","NFT_TRANSFER_TONCOIN_FORWARD_AMOUNT","STAKE_COMMENT","UNSTAKE_COMMENT","ATTEMPTS","DEFAULT_DECIMALS","DEFAULT_IS_BOUNCEABLE","WALLET_IS_BOUNCEABLE","FEE_FACTOR","ALL_WALLET_VERSIONS","WORKCHAIN","BaseChain","TRANSFER_TIMEOUT_SEC","OpCode","JettonOpCode","NftOpCode","LiquidStakingOpCode","VestingV1OpCode","SingleNominatorOpCode","DnsOpCode","OtherOpCode","ContractType","DnsCategory","DNS_CATEGORY_HASH_MAP","dns_next_resolver","wallet","site","storage","DNS_ZONES_MAP","KnownContracts","simpleR1","name","hash","type","Wallet","simpleR2","simpleR3","v2R1","v2R2","v3R1","v3R2","v4R1","v4R2","W5","highloadV2","nominatorPool","Staking","multisig","multisigV2","vesting","multisigNew","dedustPool","isSwapAllowed","dedustVaultNative","dedustVaultJetton","stonPtonWallet","stonRouter","megatonWtonMaster","megatonRouter","ApiCommonError","ApiTransactionError","ApiBaseError","Error","constructor","message","displayError","ApiUserRejectsError","arguments","length","undefined","ApiServerError","statusCode","ServerError","ApiUnsupportedVersionError","UnsupportedVersion","ApiHardwareBlindSigningNotEnabled","HardwareBlindSigningNotEnabled","AbortOperationError","maybeApiErrors","fn","err","handleServerError","error","initApi","callApi","IS_CAPACITOR","createWindowProvider","logDebugError","createConnector","pause","IS_IOS","HEALTH_CHECK_TIMEOUT","HEALTH_CHECK_MIN_DELAY","updateCallback","worker","connector","isInitialized","onUpdate","initArgs","Worker","URL","import","meta","url","setupIosHealthCheck","args","init","fnName","_len","Array","_key","request","callApiWithThrow","_len2","_key2","startedAt","Date","now","window","addEventListener","ensureWorkerPing","setTimeout","isResolved","Promise","race","reject","console","_worker","terminate","CONNECT_EVENT_ERROR_CODES","SEND_TRANSACTION_ERROR_CODES","SIGN_DATA_ERROR_CODES","ApiTransactionDraftError","ApiLiquidUnstakeMode","React","memo","useEffect","useLayoutEffect","getActions","withGlobal","AppState","INACTIVE_MARKER","IS_ANDROID_DIRECT","setActiveTabChangeListener","buildClassName","resolveRender","IS_ANDROID","IS_DELEGATED_BOTTOM_SHEET","IS_DELEGATING_BOTTOM_SHEET","IS_ELECTRON","IS_LINUX","updateSizes","useBackgroundMode","useDeviceScreen","useFlag","useInterval","useSyncEffect","useTimeout","AppInactive","Auth","DappConnectModal","DappTransferModal","Dialogs","ElectronHeader","LedgerModal","Main","AddAccountModal","BackupModal","OnRampWidgetModal","QrScannerModal","SignatureModal","SwapActivityModal","TransactionModal","UnhideNftModal","Notifications","MediaViewer","Settings","SettingsModal","SwapModal","TransferModal","ConfettiContainer","InAppBrowser","LoadingOverlay","Transition","styles","APP_UPDATE_INTERVAL","PRERENDER_MAIN_DELAY","mainKey","App","_ref","appState","accountId","isBackupWalletModalOpen","isHardwareModalOpen","isQrScannerOpen","areSettingsOpen","isMediaViewerOpen","closeBackupWalletModal","closeHardwareWalletModal","closeSettings","cancelCaching","closeQrScanner","checkAppVersion","isPortrait","areSettingsInModal","isInactive","markInactive","canPrerenderMain","prerenderMain","renderingKey","Inactive","document","title","documentElement","classList","add","renderContent","isActive","isFrom","currentKey","createElement","slideFullClassName","appSlide","appSlideContent","activeKey","shouldCleanup","nextKey","slideClassName","key","Ledger","isOpen","onClose","handleCloseBrowserTab","Fragment","withTitle","className","transitionContainer","isInsideModal","global","currentAccountId","Boolean","mediaViewer","mediaId","tab","chrome","tabs","getCurrent","remove","id","renderText","useLang","useLastCallback","Button","appInactivePathPng","appInactivePathWebP","lang","handleReload","location","reload","root","content","img","src","alt","description","actions","isText","button","onClick","pick","Modal","modalStyles","_dialog$title","dialogs","dismissDialog","isModalOpen","openModal","closeModal","dialog","alert","isCompact","onCloseAnimationEnd","footerButtons","AddBuyStatic","AddBuyModal","isTestnet","isLedgerWallet","isSwapDisabled","isOnRampDisabled","hasCloseButton","dialogClassName","actionSheetDialog","isLedger","DEFAULT_CEX_SWAP_SECOND_TOKEN_SLUG","TONCOIN_SLUG","isStatic","startSwap","openOnRampWidgetModal","openReceiveModal","isOnRampAllowed","handleBuyFiat","handleSwapClick","tokenInSlug","tokenOutSlug","amountIn","handleReceiveClick","contentClassName","actionButtons","actionButtonStatic","renderActions","actionButton","actionIcon","iconChevronRight","cancelButton","useState","AuthState","useCurrentOrPrev","SettingsAbout","AuthBackupWalletModal","AuthCheckPassword","AuthConfirmBiometrics","AuthConfirmPin","AuthCreateBackup","AuthCreateBiometrics","AuthCreateNativeBiometrics","AuthCreatePassword","AuthCreatePin","AuthCreatingWallet","AuthDisclaimer","AuthImportMnemonic","AuthStart","RENDER_COUNT","Object","keys","_useCurrentOrPrev","state","biometricsStep","isLoading","mnemonic","mnemonicCheckIndexes","isBackupModalOpen","method","closeAbout","renderingAuthState","ready","prevKey","setPrevKey","setNextKey","updateRenderingKeys","confirmPin","createPin","renderAuthScreen","none","createWallet","checkPassword","createBiometrics","confirmBiometrics","createNativeBiometrics","createPassword","createBackup","disclaimerAndBackup","importWallet","importWalletCreatePin","importWalletConfirmPin","importWalletCheckPassword","disclaimer","isImport","importWalletCreateNativeBiometrics","importWalletCreatePassword","importWalletCreateBiometrics","importWalletConfirmBiometrics","about","handleBackClick","renderCount","transitionSlide","onStop","shouldWrap","checkIndexes","auth","resolveModalTransitionName","MnemonicCheck","MnemonicList","SafetyRules","SLIDE_ANIMATION_DURATION_MS","BackupState","restartCheckMnemonicIndexes","closeAuthBackupWalletModal","setRenderingKey","Accept","View","handleModalClose","handleMnemonicView","Confirm","handleRestartCheckMnemonic","handleShowMnemonicCheck","handleMnemonicCheckSubmit","isBackupCreated","renderModalContent","isScreenActive","currentScreenKey","onSubmit","onNext","buttonLabel","onCancel","modalDialog","nativeBottomSheetKey","transition","IS_PRODUCTION","AuthBackupWarning","onSkip","openAuthBackupWalletModal","canSkipMnemonicCheck","forceBottomSheet","disclaimerBackupDialog","backupNotice","backupNoticeButtons","isPrimary","btn","btn_wide","btn_single","isDestructive","btn_mini","PasswordForm","resetAuth","cleanAuthError","addAccount","isImporting","handleSubmit","password","isAuthFlow","container","container_scrollable","containerClassName","passwordForm","submitLabel","cancelLabel","ANIMATED_STICKERS_PATHS","useHistoryBack","AnimatedIconWithPreview","START_BIOMETRICS_CONFIRMATION_DELAY_MS","afterCreateBiometrics","cancelCreateBiometrics","shouldRenderSteps","shouldRenderError","renderingError","onBack","play","tgsUrl","guard","previewUrl","guardPreview","noLoop","nonInteractive","sticker","biometricsError","buttons","buttons__inner","isDisabled","btnHalfWidth","PIN_LENGTH","PinPad","SUBMIT_PAUSE_MS","pin","cancelConfirmPin","pinConfirm","setPinConfirm","setError","isConfirmed","setIsConfirmed","handleChange","value","containerFullSize","isSimple","headerBack","iconChevron","pinPadHeader","onChange","skipCheckMnemonic","wrapper","snitch","snitchPreview","info","info__space","btn_push","startCreatingBiometrics","skipCreateBiometrics","happy","happyPreview","btn_text","getIsFaceIdAvailable","getIsTouchIdAvailable","touchIdSvg","faceIdSvg","afterCreateNativeBiometrics","skipCreateNativeBiometrics","isFaceId","isTouchId","biometricsIcon","biometricsTitle","biometricsSubtitle","getIsBiometricAuthSupported","CreatePasswordForm","afterCreatePassword","formId","getFormId","withDescription","isPasswordNumeric","titleSmallMargin","setPin","useMediaTransition","START_DELAY","INTERVAL","one","markOne","two","markTwo","three","markThree","oneClassNames","twoClassNames","threeClassNames","hello","helloPreview","counter","counterTitle","counterDigit","ANIMATED_STICKER_MIDDLE_SIZE_PX","useOpenFromMainBottomSheet","useShowTransition","Checkbox","confirmDisclaimer","cancelDisclaimer","isInformationConfirmed","markInformationConfirmed","unmarkInformationConfirmed","shouldRender","shouldRenderStartButton","transitionClassNames","startButtonTransitionClassNames","setIsInformationConfirmed","handleCloseBackupWarningModal","handleSkipMnemonic","stickerAndTitle","size","infoBlock","text","checked","informationCheckbox","informationCheckboxContent","useMemo","ANIMATED_STICKER_SMALL_SIZE_PX","MNEMONIC_COUNT","PRIVATE_KEY_HEX_LENGTH","captureKeyboardListeners","isMnemonicPrivateKey","compact","useClipboardPaste","InputMnemonic","MNEMONIC_INPUTS","map","_","index","label","MAX_LENGTH","afterImportMnemonic","setMnemonic","handleMnemonicSet","pastedMnemonic","_document$activeEleme","requestAnimationFrame","activeElement","startsWith","blur","handlePasteMnemonic","pastedText","_document$activeEleme2","parsePastedText","event","Event","dispatchEvent","isSubmitDisabled","mnemonicValues","values","handleSetWord","toLowerCase","handleCancel","onEnter","title_afterSmallSticker","infoSmallFont","infoPull","importingContent","_ref2","nextId","labelText","suggestionsPosition","getSuggestPosition","inputArg","onInput","footerError","footerButton","str","replace","trim","split","w","slice","APP_NAME","IS_LEDGER_SUPPORTED","logoPath","hasAccounts","startCreatingWallet","startImportingWallet","openAbout","openHardwareWalletModal","isLogoReady","markLogoReady","logo","onLoad","appName","btn_about","importButtonsBlock","importText","importButtons","MNEMONIC_CHECK_COUNT","areSortedArraysEqual","ModalHeader","_checkIndexes$map","isInModal","words","setWords","hasMnemonicError","setHasMnemonicError","e","preventDefault","answer","transitionContentWrapper","transitionContent","small","n","join","i","checkMnemonicInput","forFormId","Emoji","mnemonicContainer","from","word","privateKeyHex","privateKey","writedownAccepted","setWritedownAccepted","openWalletAccepted","setOpenWalletAccepted","canBeStolenAccepted","setCanBeStolenAccepted","canSubmit","bill","billPreview","modalSticker","WARNING_TIME","SECOND","Countdown","timestamp","deadline","onCompleted","initialSeconds","Math","floor","secondsLeft","setSecondsLeft","max","shouldShowWarning","timerId","clearTimeout","time","timeWarning","formatTime","seconds","pad","num","toString","padStart","hours","minutes","remainingSeconds","formattedTime","requestMeasure","SuggestionList","SUGGESTION_WORDS_COUNT","hasFocus","markFocus","unmarkFocus","hasError","setHasError","filteredSuggestions","setFilteredSuggestions","activeSuggestionIndex","setActiveSuggestionIndex","areSuggestionsShown","setAreSuggestionsShown","wordlist","setWordlist","shouldRenderSuggestions","noError","isCorrectMnemonic","processSuggestions","userInput","unLinked","filter","suggestion","target","handlePaste","pastedValue","clipboardData","getData","handleKeyDown","code","shiftKey","ctrlKey","altKey","metaKey","nextInput","getElementById","focus","select","handleClick","handleFocus","handleBlur","wrapper_focus","wrapper_error","suggestions","activeIndex","position","onSelect","htmlFor","input","touched","autoComplete","onKeyDown","onFocus","onBlur","onPaste","tabIndex","includes","SwapType","getBlockchainNetworkName","InteractiveTextField","SwapTokensInfo","SwapResult","tokenIn","tokenOut","amountOut","playAnimation","firstButtonText","secondButtonText","swapType","toAddress","onFirstButtonClick","onSecondButtonClick","renderButtons","renderSticker","CrosschainFromToncoin","thumbUp","thumbUpPreview","renderChangellyInfo","changellyInfoBlock","changellyDescription","blockchain","changellyDescriptionBold","address","copyNotification","noSavedAddress","noExplorer","changellyTextField","formatCurrencyExtended","getSwapRate","ASSET_LOGO_PATHS","isError","renderTokenInfo","token","_token$image","_token$symbol","amount","isReceived","image","symbol","amountWithSign","infoRow","infoRowToken","infoRowIcon","infoRowText","infoRowTextCenter","infoRowTitle","infoRowDescription","infoRowTextRight","infoRowAmount","infoRowAmountGreen","infoRowAmountError","renderCurrency","infoSeparator","infoSeparatorIcon","infoSeparatorIconError","fromToken","toToken","rate","infoRowCurrency","firstCurrencySymbol","infoRowCurrencyValue","price","secondCurrencySymbol","IS_SMOOTH","PATH_SMOOTHING","MIN_CHART_HEIGHT","TokenPriceChart","width","height","prices","selectedIndex","imgClassName","onSelectIndex","isUpdating","boundingPoints","priceValues","min","points","scaleX","scaleY","_ref3","y","x","getBasisPoint","indexesCount","point","ratio","tangent","firstPoint","distance","getCurvePath","pCurrent","pMinus1","pMinus2","x1","y1","x2","y2","x3","y3","getLinePath","getPath","d","reduce","acc","partialPath","renderSvg","activePoint","svg","handleMouseMove","containerX","containerWidth","currentTarget","getBoundingClientRect","clientX","touches","segmentHalfWidth","nextIndex","round","handleMouseLeave","onMouseMove","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","useCallback","useRef","SettingsState","TON_BLOCKCHAIN","selectAvailableUserForSwapTokens","selectCurrentAccountState","selectPopularTokens","selectSwapTokens","toDecimal","formatCurrency","getShortCurrencySymbol","isTonAddressOrDomain","disableSwipeToClose","enableSwipeToClose","getBlockchainNetworkIcon","useFocusAfterAnimation","useScrolledState","SearchState","EMPTY_ARRAY","TokenSelector","userTokens","swapTokens","popularTokens","shouldFilter","isInsideSettings","baseCurrency","pairsBySlug","balancesBySlug","shouldHideMyTokens","importToken","resetImportToken","openSettingsWithState","setSwapTokenIn","setSwapTokenOut","addToken","addSwapToken","shortBaseSymbol","scrollContainerRef","searchInputRef","handleScroll","handleContentScroll","searchValue","setSearchValue","isResetButtonVisible","setIsResetButtonVisible","Initial","searchTokenList","setSearchTokenList","filterTokens","tokens","filterAndSortTokens","allUnimportedTonTokens","popularToken","userTokensWithFilter","popularTokensWithFilter","swapTokensWithFilter","currentUserTokens","currentSwapTokens","currentPopularTokens","filteredPopularTokens","filteredUserTokens","filteredSwapTokens","filteredTokenList","_tokensToFilter$filte","tokensToFilter","untrimmedSearchValue","lowerCaseSearchValue","filteredTokens","keywords","isName","isSymbol","isKeyword","some","sortFactors","searchResultToken","factors","tickerExactMatch","tickerMatchLength","nameMatchLength","tokenSymbol","tokenName","slug","sort","a","b","factorA","factorB","comparisonResult","compareTokens","Number","resetSearch","isValidAddress","newRenderingKey","Loading","Token","Search","Empty","isSwap","current","scrollTop","handleTokenClick","selectedToken","_searchInputRef$curre","isTokenUnimported","setToken","tokenSlug","handleOpenSettings","Assets","renderSearch","tokenSelectInputWrapper","tokenSelectSearchIcon","ref","tokenSelectInput","placeholder","tokenSelectSearchResetWrapper","tokenSelectSearchReset","tokenSelectSearchResetIcon","renderToken","currentToken","_ASSET_LOGO_PATHS","isAvailable","canSwap","descriptionText","tokenPrice","tokenContainer","tokenContainerDisabled","tokenLogoContainer","logoContainer","tokenLogo","tokenLogoDisabled","tokenNetworkLogo","tokenNetworkLogoDisabled","nameContainer","tokenTextDisabled","tokenNetwork","tokenPriceContainer","tokenAmount","decimals","tokenValue","renderTokenGroup","shouldShowSettings","tokenGroupContainer","tokenGroupHeader","tokenGroupTitle","tokenGroupAdditionalTitle","renderAllTokens","renderTokenSkeleton","tokenLogoSkeleton","tokenNetworkLogoSkeleton","tokenNameSkeleton","tokenValueSkeleton","rotateSkeleton","renderNotFound","shouldPlay","tokenNotFound","noData","noDataPreview","tokenNotFoundTitle","tokenNotFoundDesc","renderSearchResults","tokenToImport","renderTokenGroups","isContentActive","onBackButtonClick","tokenSelectContent","onScroll","_selectCurrentAccount","_global$settings$impo","_global$currentSwap","balances","settings","pairs","currentSwap","bySlug","_pairsBySlug$tokenInS","DEFAULT_DECIMAL_PLACES","TON_SYMBOL","TransactionAmount","isIncoming","isScam","to","status","amountString","wholePart","fractionPart","withBalanceChange","renderAmount","withStatus","operationPositive","operationScam","amountFraction","amountSymbol","balanceChange","TransferResult","precision","noSign","color","balance","operationAmount","fee","finalBalance","DappConnectState","selectNetworkAccounts","shortenAddress","useModalTransitionKeys","LedgerConfirmOperation","LedgerConnect","DappInfo","DappPassword","HARDWARE_ACCOUNT_ADDRESS_SHIFT","ACCOUNT_ADDRESS_SHIFT","ACCOUNT_ADDRESS_SHIFT_END","hasConnectRequest","dapp","requiredPermissions","requiredProof","accounts","hardwareState","isLedgerConnected","isTonAppConnected","submitDappConnectRequestConfirm","submitDappConnectRequestConfirmHardware","cancelDappConnectRequestConfirm","setDappConnectRequestState","selectedAccount","setSelectedAccount","isConfirmOpen","openConfirm","closeConfirm","iterableAccounts","entries","shouldRenderAccounts","iconUrl","isHardware","isPasswordRequired","isAddressRequired","ConnectHardware","Password","handlePasswordCancel","Info","submitDappConnectRequestHardware","handlePasswordSubmit","renderAccount","fullClassName","account","account_current","account_disabled","accountName","accountFooter","iconLedger","accountAddress","renderAccounts","accounts_single","accounts_two","renderDappInfo","dapp_first","dapp_push","footer","renderWaitForConnection","dappInfoSkeleton","dappInfoIconSkeleton","dappInfoTextSkeleton","nameSkeleton","descSkeleton","accountWrapperSkeleton","renderDappInfoWithSkeleton","skeletonTransitionWrapper","onConnected","ConfirmHardware","onTryAgain","forceFullNative","dappname","_global$dappConnectRe","dappConnectRequest","permissions","proof","hardware","origin","onDisconnect","shouldShowDisconnect","handleDisconnect","renderIcon","dappLogo","dappLogo_icon","dappIcon","dappInfo","dappName","dappUrl","host","isSmall","dappDisconnect","TransferState","DappLedgerWarning","tonToken","currentAccount","cancelDappTransfer","setDappTransferScreen","handleAgree","renderDapp","transactionDirection","transactionAccount","accountTitle","accountBalance","transactionDapp","descriptionContent","isSubmit","currentDappTransfer","clearDappConnectRequestError","withCloseButton","BIGINT_PREFIX","formatCurrencySimple","AmountWithFeeTextField","FRACTION_DIGITS","DappTransfer","_transaction$payload","_transaction$payload2","transaction","isPayloadExpanded","expandPayload","isNftTransfer","payload","shouldRenderPayloadWarning","renderFeeForNft","payloadField","currencySymbol","renderPayload","rawPayload","comment","_token$decimals","destination","find","_token$decimals2","_token$symbol2","record","category","swapId","votingAddress","vote","JSON","stringify","renderPayloadLabel","dataField","receivingAddress","labelClassName","payloadField_expanded","payloadFieldExpand","warningForPayload","SHORT_FRACTION_DIGITS","Big","selectCurrentAccountTokens","NftInfo","scamImg","DappTransferInitial","_renderingTransaction","transactions","showDappTransfer","submitDappTransferConfirm","isSingleTransaction","renderingTransactions","nft","hasScamAddresses","totalAmountText","feeDecimal","tonAmount","cost","bySymbol","amountDecimal","plus","priceUsd","_ref4","_acc$symbol","tokenAmountDecimal","_ref5","amountBig","renderTransaction","renderTransactionRow","extraText","_ref6","transactionRow","transactionIdx","scamImage","transactionRowAmount","scam","transactionRowAddress","transactionRowChevron","renderTransactions","transactionList","contentWithBackground","_renderingTransaction2","viewTransactionOnIdx","clearDappTransferError","submitDappTransferPassword","submitDappTransferHardware","closeDappTransfer","None","setForceFullNative","updateNextKey","isDappLoading","withPayloadWarning","handleTransferPasswordSubmit","handleLedgerConnect","handleResetTransfer","renderSingleTransaction","sticker_sizeSmall","renderPassword","renderRow","isLarge","rowContainerSkeleton","rowContainerLargeSkeleton","rowTextSkeleton","rowTextLargeSkeleton","rowSkeleton","rowLargeSkeleton","transactionDirectionLeftSkeleton","nameDappSkeleton","descDappSkeleton","transactionDirectionRightSkeleton","transactionDappIconSkeleton","dappInfoDataSkeleton","renderTransferInitialWithSkeleton","WarningHardware","noBackdropClose","modalDialogExtraHeight","IS_WINDOWS","useElectronDrag","UpdateApp","children","containerRef","handleMinimize","_window$electron","electron","minimize","handleMaximize","_window$electron2","getIsMaximized","_window$electron3","unmaximize","_window$electron4","maximize","handleClose","_window$electron5","close","handleDoubleClick","_window$electron6","onDoubleClick","applicationName","windowsButtons","windowsButton","ElectronEvent","PRODUCTION_URL","isAppUpdateAvailable","isElectronUpdateDownloaded","setIsElectronUpdateDownloaded","isElectronAutoUpdateEnabled","setIsElectronAutoUpdateEnabled","disable","removeUpdateErrorListener","on","UPDATE_ERROR","removeUpdateDownloadedListener","UPDATE_DOWNLOADED","getIsAutoUpdateEnabled","open","installUpdate","disabled","iconWrapper","icon","vibrate","openUrl","getHostnameFromUrl","Image","Site","isExternal","item","role","imageWrapper","imageClassName","infoWrapper","TONCONNECT_WALLET_JSBRIDGE_KEY","WebViewBridgeMessageType","objectToInjection","obj","timeout","funcKeys","funcs","funcName","invokeCapFunc","functionResponse","getInjectableJsMessage","getGlobal","TONCONNECT_PROTOCOL_VERSION","tonConnectGetDeviceInfo","useWebViewBridge","useDappBridge","endpoint","inAppBrowserRef","requestId","setRequestId","bridgeObject","deviceInfo","protocolVersion","isWalletBrowser","connect","_inAppBrowserRef$curr","_inAppBrowserRef$curr2","buildConnectError","BAD_REQUEST_ERROR","verifyConnectRequest","hide","enable","response","buildDappRequest","show","device","_inAppBrowserRef$curr3","UNKNOWN_ERROR","restoreConnection","disconnect","params","send","_getGlobal$settings$d","isConnected","dapps","UNKNOWN_APP_ERROR","dappRequest","_inAppBrowserRef$curr4","_inAppBrowserRef$curr5","callResponse","applyScrollPatch","_inAppBrowserRef$curr6","_inAppBrowserRef$curr7","_inAppBrowserRef$curr8","bridgeInjectionCode","onMessage","sendEvent","msg","_request$items","manifestUrl","items","openDeeplinkOrUrl","bridgeObj","postMessage","executeScript","data","parse","result","methodName","invocationId","ANIMATED_STICKER_BIG_SIZE_PX","ConfirmTransactionState","activeState","setActiveState","Waiting","renderWaitingConfirm","isActiveSlide","holdTon","holdTonPreview","textBlock","textBlock_small","actionBlock","actionBlock_single","renderTryAgain","isErrorDetailed","declinedLabel","declinedLabelDetailed","slide","HardwareConnectState","closeLedgerTab","NEXT_SLIDE_DELAY","isRemoteTab","connectHardwareWallet","resetHardwareWalletConnect","initializeHardwareWalletConnection","isLedgerFailed","isTonAppFailed","ConnectedWithSingleWallet","ConnectedWithSeveralWallets","isWaitingForBrowser","WaitingForBrowser","shouldCloseOnCancel","handleConnected","isSingleWallet","handleCloseWithBrowserTab","closeAction","isConnecting","Connecting","isFailed","Failed","button_single","renderWaitingForBrowser","iconBlock","iconBlock_base","textBlock_gap","textIcon","renderConnect","iconBlock_success","textBlock_success","text_failed","text_connected","text_success","LedgerSelectWallets","LedgerModalState","hardwareWallets","afterSelectHardwareWallets","currentSlide","setCurrentSlide","Connect","SelectWallets","handleAddLedgerWallet","hardwareSelectedIndices","handleLedgerModalClose","ACCOUNT_BALANCE_DECIMALS","loadMoreHardwareWallets","selectedAccountIndices","setSelectedAccountIndices","handleAccountToggle","concat","handleAddLedgerWallets","alreadyConnectedList","handleAddWalletClick","_list$index","_list","list","lastIndex","renderAddAccount","addAccountContainer","addAccountIcon","isActiveAccount","accountCurrencyIcon","accountCheckMark","accountCheckMark_active","areAccountsSelected","ActiveTab","ContentTab","selectCurrentAccount","getStatusBarHeight","captureEvents","SwipeDirection","setStatusBarStyle","IS_TOUCH_ENV","REM","windowSize","isBackgroundModeActive","useEffectOnce","usePreventPinchZoomGesture","ReceiveModal","StakeModal","StakingInfoModal","UnstakeModal","UpdateAvailable","VestingModal","VestingPasswordModal","LandscapeActions","PortraitActions","Card","StickyCard","Content","Warnings","STICKY_CARD_INTERSECTION_THRESHOLD","UPDATE_SWAPS_INTERVAL_NOT_FOCUSED","UPDATE_SWAPS_INTERVAL","currentTokenSlug","isStakingActive","isUnstakeRequested","isStakingInfoModalOpen","selectToken","startStaking","openBackupWalletModal","setActiveContentTab","openStakingInfo","closeStakingInfo","setLandscapeActionsActiveTabIndex","loadExploreSites","updatePendingSwaps","cardRef","portraitContainerRef","canRenderStickyCard","setCanRenderStickyCard","shouldRenderDarkStatusBar","setShouldRenderDarkStatusBar","safeAreaTop","get","isFocused","markIsFocused","unmarkIsFocused","shouldRenderStickyCard","stickyCardTransitionClassNames","rootMarginTop","observer","IntersectionObserver","isIntersecting","boundingClientRect","left","rootMargin","cardTopSideObserver","threshold","cardElement","observe","unobserve","handleTokenCardClose","excludedClosestSelector","onSwipe","direction","Right","handleEarnClick","Stake","renderPortraitLayout","portraitContainer","head","onOpenBackupWallet","forceCloseAccountSelector","onTokenCardClose","onApyClick","classNames","hasStaking","onEarnClick","onStakedTokenClick","renderLandscapeLayout","landscapeContainer","sidebar","main","_accountState$staking","_accountState$staking2","_global$mediaViewer","accountState","restrictions","staking","ledger","stickToFirst","Notification","notifications","dismissNotification","onDismiss","calcVestingAmountByStatus","statuses","currentVesting","parts","currentAcc","part","deltaE","hex2rgb","TOKEN_CARD_COLORS","green","orange","pink","purple","red","sea","tegro","blue","TOKEN_EXCEPTION_COLORS","DISTANCE_THRESHOLD","calculateTokenCardColor","closestColor","smallestDistance","Infinity","tokenRgbColor","forEach","colorName","colorValue","selectFirstNonHardwareAccount","AddAccountPasswordModal","RenderingState","firstNonHardwareAccount","isOtherVersionsExist","clearAccountError","closeAddAccountModal","showError","clearAccountLoading","isNewAccountImporting","setIsNewAccountImporting","isCheckingApiAvailability","markCheckingApiAvailability","unmarkCheckingApiAvailability","handleNewAccountClick","isApiAvailable","handleImportAccountClick","handleImportHardwareWalletClick","handleHardwareWalletConnected","SelectAccountsHardware","handleOpenSettingWalletVersion","WalletVersion","renderSelector","forge","forgePreview","modalText","modalButtons","importButtonsWithMargin","ledgerButton","walletVersionBlock","action","walletVersionText","onClearError","_global$walletVersion","_global$accounts","_global$accounts2","byId","versionById","walletVersions","versions","isAddAccountModalOpen","operationType","selectMnemonicForCheck","vibrateOnError","vibrateOnSuccess","MnemonicPrivateKey","SLIDES","setIsBackupRequired","setIsPinAccepted","clearIsPinAccepted","confirm","setCheckIndexes","setIsLoading","mnemonicRef","noResetFullNativeOnBlur","handleSafetyConfirm","check","handleBackupErrorUpdate","handleCheckMnemonic","handleCheckMnemonicSubmit","isMnemonicChecked","DeleteSavedAddressModal","removeFromSavedAddress","showNotification","handleDeleteSavedAddress","DeleteTokenModal","deleteToken","setIsOpen","handleDeleteToken","DisconnectDappModal","deleteAllDapps","deleteDapp","handleDeleteAllDapps","handleDeleteDapp","HideNftModal","selectedNftsToHide","addNftsToBlacklist","closeNftCollection","closeHideNftModal","handleHide","addresses","isCollection","number","IS_IOS_APP","LogOutModal","hasManyAccounts","accountStates","isBackupRequired","signOut","switchAccount","isLogOutFromAllAccounts","setIsLogOutFromAllAccounts","accountsWithoutBackups","_accountStates$id","push","handleSwitchAccount","handleLogOut","isFromAllAccounts","renderAccountLink","idx","accountLink","penultimate","href","accountLink_inner","renderBackupWarning","warning","renderBackupForAccountsWarning","links","shouldRenderWarningForAnotherAccounts","shouldRenderWarningForCurrentAccount","cancelButtonClassNames","shortButton","text_noExtraMargin","checkbox","currentAccountState","accountIds","byAccountId","selectAccount","INITIAL_AMOUNT_USD","ANIMATION_TIMEOUT","countryCode","closeOnRampWidgetModal","animationTimeoutRef","isAnimationInProgress","setIsAnimationInProgress","withExtraHeight","iframeUrl","getIframeUrl","onIframeLoaded","loaderContainer","fadeOut","inactive","fadeIn","frameBorder","isOnRampWidgetModalOpen","counryCode","BarcodeFormat","BarcodeScanner","addExtraClass","removeExtraClass","DPR","useEffectWithPrevDeps","START_SCAN_DELAY_MS","MODAL_ANIMATION_DURATION_MS","DESTROY_SCANNER_DELAY_MS","handleQrCode","isFlashlightAvailable","setIsFlashlightAvailable","isFlashlightEnabled","setIsFlashlightEnabled","isScannerStarted","setIsScannerStarted","scanSquareRef","isTorchAvailable","available","isTorchEnabled","enabled","documentRoot","stopScan","startScan","options","formats","QrCode","scanAreaCoordinates","getDomNodeDimensions","removeAllListeners","listener","addListener","cornerPoints","qrCodeCoordinates","barcode","sortCoordinatesClockwise","isQrCodeOutsideScanArea","rawValue","prevIsOpen","startScanTimeoutId","documentClassModifyTimeoutId","handleFlashlightClick","disableTorch","enableTorch","flashlightButtonClassName","flashLightButton","flashLightButtonEnabled","scanner","scannerStarted","closeButton","closeIcon","square","squareInner","coordinates","topHalf","bottomHalf","node","scanSquareRect","scaledRect","right","top","bottom","scanArea","transferStyles","dataHex","isSigned","submitSignature","clearSignatureError","cancelSignature","complete","handleConfirm","renderConfirm","inputReadOnly","renderPasswordForm","renderComplete","transitionContent_simple","currentSignature","ANIMATION_END_DELAY","ANIMATION_LEVEL_MIN","CHANGELLY_LIVE_CHAT_URL","CHANGELLY_SECURITY_EMAIL","CHANGELLY_SUPPORT_EMAIL","CHANGELLY_WAITING_DEADLINE","TON_EXPLORER_NAME","formatFullDay","getTonExplorerTransactionUrl","usePrevDuringAnimation","useQrCode","CLOSE_DURATION","CLOSE_DURATION_PORTRAIT","CHANGELLY_EXPIRE_CHECK_STATUSES","Set","CHANGELLY_PENDING_STATUSES","CHANGELLY_ERROR_STATUSES","ONCHAIN_ERROR_STATUSES","activity","tokensBySlug","closeActivityInfo","animationLevel","animationDuration","renderedActivity","tonExplorerTitle","ton_explorer_name","txIds","networkFee","fromAmount","toAmount","isPending","isCexSwap","isCexError","isCexHold","isCexWaiting","isCexPending","isExpired","cexTransactionId","cexErrorMessage","isFromToncoin","isCountdownFinished","cex","has","transactionId","_renderedActivity$cex","cexStatus","transactionHash","transactionUrl","payinAddress","payoutAddress","payinExtraId","shouldShowQrCode","qrCodeRef","qrCodeHidden","renderHeader","transactionHeader","headerTitle","clockIcon","headerDate","renderFooterButton","isButtonVisible","buttonText","_renderedActivity$cex2","renderCexInformation","textFieldWrapperFullWidth","email","swapSupportBlock","errorCexMessage","livechat","rel","renderMemo","textFieldLabel","renderFee","textFieldWrapper","textField","renderAddress","_toToken","_fromToken","renderSwapInfo","_fromToken$symbol","_fromToken2","_fromToken3","qrCode","shouldRenderFee","tonExplorer","_accountState$activit","_global$swapTokenInfo","currentActivityId","activities","kind","swapTokenInfo","STAKING_CYCLE_DURATION_MS","getIsTxIdLocal","selectCurrentAccountStakingStatus","bigintAbs","formatRelativeHumanDateTime","handleOpenUrl","_transaction$metadata","_transaction$metadata2","savedAddresses","startOfStakingCycle","endOfStakingCycle","isLongUnstakeRequested","stakingStatus","startTransfer","initial","renderedTransaction","unstakeDate","setUnstakeDate","fromAddress","encryptedComment","isStaking","isUnstaking","addressName","metadata","decryptedComment","setDecryptedComment","passwordError","setPasswordError","withUnstakeTimer","setWithUnstakeTimer","shouldDisplayTimer","shouldRenderUnstakeTimer","unstakeTimerClassNames","clearPasswordError","openPasswordSlide","closePasswordSlide","openHiddenComment","handleSendClick","handleStartStakingClick","handleUnstakeMoreClick","getTitle","isLocal","header","header_wideContent","isRound","ariaLabel","currency","renderComment","spoiler","spoilerRevealText","spoilerCallback","copyButtonWrapper","textClassName","renderUnstakeTimer","unstakeTime","unstakeTimeIcon","renderTransactionContent","withTonExplorer","scamAddress","buttonWide","passwordFormContent","passwordFormContentInModal","unstakeModal","_global$tokenInfo","txId","start","end","tokenInfo","nftAddress","nftName","addNftsToWhitelist","closeUnhideNftModal","handleUnhide","isUnhideNftModalOpen","selectedNftToUnhide","DEFAULT_LANDSCAPE_ACTION_TAB_ID","requestMutation","selectAccountState","StakingInfoContent","StakingInitial","SwapInitial","TransferInitial","ACTIVE_SLIDE_CLASS_NAME","TO_SLIDE_CLASS_NAME","TABS","Receive","Transfer","Swap","activeTransferKey","activeTabIndex","nfts","setActiveTabIndex","renderedBgHelpers","transitionRef","handleTransitionStart","useTabHeightAnimation","slideContent","contentSlideStaked","isStakingAllowed","areNotAllTabs","isLastTab","transferKey","renderCurrentTab","isPrev","slideContentTransfer","slideContentInner","onCommentChange","handleSelectTab","forceOnHeavyAnimation","notAllTabs","active","tabIcon","tabText","tabDecoration","tabDelimiter","tab_purple","tab_purpleText","contentHeader","firstActive","lastActive","contentHeaderInner","contentBackgroundClassName","contentBgRef","contentFooterRef","lastHeightRef","suffix","query","adjustBg","_transitionRef$curren","noTransition","querySelector","rect","shouldRenderWithoutTransition","contentBgStyle","style","contentFooterStyle","transform","componentObserver","ResizeObserver","contentBg","contentFooter","_selectAccountState","currentTransfer","landscapeActionsActiveTabIndex","ActionSheet","ActionSheetButtonStyle","isAddBuyModalOpened","openAddBuyModal","closeAddBuyModal","handleStartSwap","handleStartSwapWidget","handleStartTransfer","handleAddBuyClick","_actionByIndex$result","Cancel","actionByIndex","showActions","call","buttonIcon","button_purple","default","captureEscKeyListener","trapFocus","useQrScannerSupport","ACCOUNTS_AMOUNT_FOR_COMPACT_DIALOG","AccountSelector","canEdit","forceClose","accountClassName","accountSelectorClassName","menuButtonClassName","noSettingsButton","noAccountSelector","isInsideSticky","shouldForceAccountEdit","currentWalletVersion","renameAccount","openAddAccountModal","openSettings","requestOpenQrScanner","modalRef","inputRef","openAccountSelector","closeAccountSelector","isEdit","openEdit","closeEdit","inputValue","setInputValue","isQrScannerSupported","noSettingsOrQrSupported","withAddW5Button","accountsAmount","handleOpenAccountSelector","handleEditClick","stopPropagation","handleSaveClick","handleAddV5WalletClick","handleInputKeyDown","handleQrScanClick","renderButton","button_current","accountAddressBlock","edit","accountTitleClassName","accountTitleShort","settingsButtonClassName","menuButton","menuButtonFirst","renderCurrentAccount","accountTitleInner","arrowIcon","renderInput","inputContainer","saveButton","renderAccountsChooser","dialogFullClassName","dialog_compact","backdrop","createAccountButton","createAccountIcon","currentVersion","IS_EXTENSION","selectCurrentNetwork","copyTextToClipboard","getTonExplorerAddressUrl","IS_SAFARI","calculateFullBalance","useUpdateIndicator","AnimatedCounter","LoadingDots","CurrencySwitcher","TokenCard","activeDappOrigin","stakingBalance","balanceUpdateStartedAt","addressUrl","isCurrencyMenuOpen","openCurrencyMenu","closeCurrencyMenu","renderedToken","shouldRenderTokenCard","tokenCardTransitionClassNames","dappDomain","hostname","renderingDappDomain","shouldRenderDappElement","dappClassNames","shouldRenderDapp","handleCopyAddress","primaryValue","primaryWholePart","primaryFractionPart","changeClassName","changePrefix","changePercent","changeValue","renderLoader","center","renderBalance","iconCaretClassNames","iconCaretFraction","iconCaret","noAnimationCounter","balanceTransition","currencySwitcher","change","abs","containerWrapper","loadingDotsContainer","isDoubled","backstage","addressContainer","tonExplorerButton","HISTORY_PERIODS","DropdownMenu","ITEMS","ChartHistorySwitcher","currentPeriod","setCurrentTokenPeriod","handlePeriodChange","period","menuWrapper","bubbleClassName","menu","buttonClassName","menuItem","selectedValue","menuPositionHorizontal","currentTokenPeriod","CURRENCY_LIST","currentCurrency","excludedCurrency","changeBaseCurrency","currencyList","handleBaseCurrencyChange","shouldTranslateOptions","IS_MAC_OS","background","balanceFractionPart","DEFAULT_PRICE_CURRENCY","TOKEN_EXPLORER_NAME","formatShortDay","toBig","getTonExplorerTokenUrl","useForceUpdate","tonUrl","OFFLINE_TIMEOUT","CHART_DIMENSIONS","DEFAULT_PERIOD","_selectedHistoryPoint","apyValue","historyPeriods","minterAddress","loadPriceHistory","forceUpdate","isHistoryMenuOpen","openHistoryMenu","closeHistoryMenu","shouldUseDefaultCurrency","chartCurrency","selectedHistoryIndex","setSelectedHistoryIndex","prevHistoryIndex","lastPrice","refreshHistory","newPeriod","handleCurrencyChange","history","tokenLastUpdatedAt","tokenLastHistoryPrice","selectedHistoryPoint","dateStr","initialPrice","_history$find","mul","withChange","historyStartDay","withTonExplorerButton","cmcSlug","shouldHideChartPeriodSwitcher","renderTonExplorerLink","tokenTonExplorerButton","tokenCard","backButton","apy","iconCaretSmall","tokenChange","indexOf","chart","chartImg","tokenHistoryPrice","tokenPriceDate","periodChooser","periodChooserHidden","tokenCurrentPrice","ownProps","_global$tokenInfo$byS","tokenPriceHistory","calcBigChangeValue","formatInteger","stakingAmount","totalValue","change24h","toNumber","changeCourseUp","changeCourseDown","setExtraStyles","MIN_ASSETS_TAB_VIEW","getIsSwapId","getIsTinyOrScamTransaction","selectAccountSettings","selectEnabledTokensCountMemoized","selectIsNewWallet","compareActivities","formatHumanDay","getDayStartAt","findLast","unique","useInfiniteScroll","useThrottledCallback","InfiniteScroll","NewWalletGreeting","Transaction","FURTHER_SLICE","THROTTLE_TIME","DATE_HEADER_HEIGHT","TRANSACTION_COMMENT_HEIGHT","TRANSACTION_NFT_HEIGHT","TRANSACTION_HEIGHT","TIME_BETWEEN_SWAP_AND_TX","Activities","isNewWallet","idsBySlug","swapTokensBySlug","areTinyTransfersHidden","isMainHistoryEndReached","isHistoryEndReachedBySlug","exceptionSlugs","activitiesUpdateStartedAt","fetchTokenTransactions","fetchAllTransactions","showActivityInfo","isLandscape","ids","idList","_bySlug$slug","lastTokenTxId","lastTokenTxTimestamp","_bySlug$TONCOIN_SLUG","lastTonTxId","flat","activityList","allActivities","shouldHide","activityIds","activitiesById","activityIdList","activityMap","isHistoryEndReached","loadMore","limit","shouldLoadWithBudget","throttledLoadMore","viewportIds","getMore","resetScroll","isActivitiesEmpty","activityOffsetInfoById","offsetMap","dateCount","nftCount","commentCount","lastActivityDayStart","_activity$metadata","offset","offsetNext","date","offsetTop","calculateOffset","activityDayStart","isNewDay","canCountComment","currentContainerHeight","_activityOffsetInfoBy","lastViewportId","handleActivityClick","renderActivity","isLast","isActivityActive","renderDate","dateValue","isFirst","formattedDate","dateWithLoader","date_withLoadingDots","loadingDots","dateContainer","dateSlide","renderHistory","activityInfo","nextActivityId","nextActivity","nextActivityDayStart","listItem","greeting","mode","emptyList","emptyListTitle","emptyListLoading","listGroup","scrollContainerClosest","preloadBackwards","withAbsolutePositioning","maxHeight","onLoadMore","accountSettings","tokensCount","shouldShowSeparateAssetsPanel","activeContentTab","Activity","commentOffset","dateOffset","nftOffset","selectMycoin","buildCollectionByKey","useVesting","LIST_SLICE","TOKEN_HEIGHT_REM","isInvestorViewEnabled","isSeparatePanel","onTokenClick","mycoin","renderedTokens","renderedMycoin","toncoin","userMycoin","shouldShowGreeting","shouldRenderStakedToken","stakedTokenClassNames","shouldRenderVestingToken","vestingTokenClassNames","vestingAmount","vestingStatus","unfreezeEndDate","onVestingTokenClick","tokenSlugs","viewportSlugs","viewportIndex","renderVestingToken","isInvestorView","renderStakedToken","indexInViewport","wrapperLoading","itemSelector","emptyListSeparate","_accountState$vesting","DEFAULT_SWAP_SECOND_TOKEN_SLUG","NOTCOIN_VOUCHERS_ADDRESS","TabList","Explore","NftCollectionHeader","Nfts","NftSelectionHeader","activeNftKey","currentCollectionAddress","selectedAddresses","blacklistedNftAddresses","whitelistedNftAddresses","setDefaultSwapParams","changeTransferToken","openNftCollection","hasNftSelection","handleNftCollectionClick","handleNftsMenuButtonClick","HiddenNfts","nftCollections","blacklistedNftAddressesSet","whitelistedNftAddressesSet","collections","isHidden","collectionAddress","collectionName","collentionAddresses","localeCompare","shouldRenderHiddenNftsSection","blacklistedAddressesSet","Nft","menuItems","withSeparator","onMenuItemClick","NotcoinVouchers","findIndex","handleSwitchTab","includedClosestSelector","Left","handleClickAsset","renderTabsPanel","activeTab","onSwitchTab","tabsContainer","slides","assetsPanel","contentPanel","landscapeContentPanel","_selectCurrentAccount2","byAddress","stopEvent","isValidUrl","IS_ANDROID_APP","Menu","MenuItem","SUGGESTIONS_OPEN_DELAY","GOOGLE_SEARCH_URL","sites","shouldRestrict","browserHistory","getDapps","addSiteToBrowserHistory","removeSiteFromBrowserHistory","suggestionsTimeoutRef","isSuggestionsVisible","showSuggestions","hideSuggestions","filteredBrowserHistory","renderingBrowserHistory","openSite","originalUrl","encodeURIComponent","handleSiteClick","currentUrl","handleSiteClear","handleMenuClose","_inputRef$current","searchWrapper","searchIcon","searchInput","autoCapitalize","renderSearchSuggestions","noBackdrop","suggestionsMenu","clickArg","suggestionIcon","suggestionAddress","clearSuggestion","onMouseDown","landscapeList","canBeRestricted","exploreSites","isLimitedRegion","MediaType","preloadImage","Radio","NftMenu","openMediaViewer","selectNfts","clearNftSelection","menuPosition","setMenuPosition","isSelectionEnabled","isSelected","isMenuOpen","shouldRenderWarning","warningTransitionClassNames","isOnSale","item_onSale","itemWithMenu","mediaType","handleOpenMenu","handleCloseMenu","handleIntersect","catch","isChecked","radio","onOpen","thumbnail","imageSelected","onIntersect","collection","GETGEMS_BASE_MAINNET_URL","GETGEMS_BASE_TESTNET_URL","getTonExplorerNftCollectionUrl","getIsPortrait","useMenuPosition","MENU_ITEMS","fontIcon","isDangerous","burnNfts","openHideNftModal","nftFromCurrentCollection","renderedNft","renderedAmount","getTriggerElement","getRootElement","body","getMenuElement","getLayout","withPortal","positionY","transformOriginX","transformOriginY","menuStyle","handleMenuItemClick","collectionNfts","getgemsBaseUrl","handleMenuOpen","backIcon","useNftMenu","isNftBlackListed","isNftWhiteListed","handleMenuItemSelect","handleButtonClick","_selectedAddresses$le","clearNftsSelection","_map","handleBurnClick","_map2","handleHideClick","GETGEMS_ENABLED","orderedAddresses","hasSelection","handleBurnNotcoinVouchersClick","emptyListText","emptyListButton","notcoinVoucherButton","notcoinVoucherIcon","xmlns","viewBox","fill","WHOLE_PART_DELIMITER","CHANGELLY_EXPIRED_STATUSES","_cex$status","_cex$status2","isHold","swapIconClass","icon_swap","icon_error","iconFullClass","amountSwapClass","swapAmount","amountWrapper","swapSell","swapError","swapArrowRight","swapHold","swapBuy","renderErrorMessage","isSwapErrorMessage","renderTitle","itemLast","iconWaiting","iconWaitingSwap","iconError","leftBlock","operationName","iconArrow","swapPrice","swapPriceValue","calcChangeValue","DAY","UNFREEZE_DANGER_DURATION","isVesting","change_up","change_down","withApy","shouldRenderApy","renderApyClassNames","renderApy","apy_staked","renderChangeIcon","renderInvestorView","percent","vestingIcon","primaryCell","name_withApy","subtitle","dot","secondaryCell","secondaryValue","secondaryValue_staked","secondaryValue_vesting","secondaryValue_vestingUnfreeze","String","renderDefaultView","totalAmount","canRenderApy","gt","isStake","isUnstake","isUnstakeRequest","handleNftClick","getOperationName","renderNft","received","nftWithComment","nftImage","nftData","nftCollection","comment_incoming","comment_outgoing","commentIcon","stakeIconClass","icon_purple","icon_staking","icon_operationPositive","amountOtherClass","amount_operationPositive","amount_stake","amount_operationNegative","addressValue","apy_value","waitingIconClassName","iconWaitingStake","withNft","withNftAndComment","useBrowserUiColor","UI_BG_RED_LIGHT","UI_BG_RED_DARK","BackupWarning","isRequired","theme","currentTheme","lightColor","darkColor","wrapper_landscape","MY_TON_WALLET_PROMO_URL","SecurityWarning","isSecurityWarningHidden","closeSecurityWarning","IS_UNSAFE_WEB","testnetWarning","Actions","openMenu","closeMenu","handleSelect","menuButton_active","Media","whitelistedMediaIds","element","setProperty","contentDescription","contentTextWrapper","contentText","dir","MediaInfo","descriptionUrl","mediaInfo","mediaInfoTitle","mediaInfoDescription","tooltip","MEMO_EMPTY_ARRAY","animateClosing","animateOpening","ANIMATION_DURATION","dispatchHeavyAnimationEvent","usePrevious","ShowTransition","Slides","mediaIds","mediaUrl","withAnimation","mediaByIds","blacklistedIds","hiddenNfts","noGhostAnimation","closeMediaViewer","prevMediaId","prevTxId","prevHiddenNfts","prevNoGhostAnimation","headerAnimation","shouldAnimateOpening","shouldAnimateClosing","renderedMediaIds","media","selectedMediaIndex","getMediaId","fromId","selectMedia","toggle","shouldAnimateFirstRender","isCustom","isRtl","headerTransition","_global$settings","animateNumber","timingFunctions","IOS_SCREEN_EDGE_THRESHOLD","SWIPE_DIRECTION_THRESHOLD","SWIPE_DIRECTION_TOLERANCE","clamp","isBetween","debounce","useDebouncedCallback","useDerivedState","useSignal","useSignalRef","useWindowSize","useZoomChange","SWIPE_X_THRESHOLD","SWIPE_Y_THRESHOLD","SLIDES_GAP","DEBOUNCE_SELECT_MEDIA","DEBOUNCE_SWIPE","DOUBLE_TAP_ZOOM","CLICK_Y_THRESHOLD","MAX_ZOOM","MIN_ZOOM","easeOutCubic","easeOutQuart","cancelAnimation","cancelZoomAnimation","activeSlideRef","leftSlideRef","rightSlideRef","lastTransformRef","scale","swipeDirectionRef","initialContentRectRef","isReleasedRef","getZoomChange","prevZoomChangeRef","isMouseDown","setIsMouseDown","getTransform","setTransform","transformRef","getActiveMediaId","setActiveMediaId","activeMediaIdRef","isScaled","activeMediaId","windowHeight","windowWidth","isResizing","shouldBeReplaced","selectMediaDebounced","clearSwipeDirectionDebounced","clickXThreshold","getTransformStyle","changeSlide","dryRun","lastTransform","mId","duration","timing","handleNextSlide","handlePrevSlide","lastDragOffset","lastZoomCenter","panDelta","lastGestureTime","setLastGestureTime","changeSlideOnClick","pageY","pageX","hasNextSlide","isInThreshold","calculateOffsetBoundaries","initialContentRect","inBoundsX","inBoundsY","centerX","centerY","minOffsetX","maxOffsetX","minOffsetY","maxOffsetY","onRelease","absX","absY","s1","scaleFactor","k","Vx","Vy","dirX","cleanup","isNotPassive","withNativeDrag","minZoom","maxZoom","doubleTapZoom","withWheelDrag","onCapture","onDrag","captureEvent","cancelDrag","dragOffsetX","dragOffsetY","absOffsetX","absOffsetY","Vertical","Horizontal","onZoom","zoom","zoomFactor","initialCenterX","initialCenterY","currentCenterX","currentCenterY","offsetX","offsetY","scaledCenterX","scaledCenterY","scaleOffsetX","scaleOffsetY","removeEventListener","zoomChange","hasZoomChanged","steps","prevValue","delta","wheelEvent","WheelEvent","deltaY","nextMediaId","hasPrev","hasNext","isMoving","slide_active","slide_moving","navigation","navigation_prev","navigation_next","toFixed","MOBILE_SCREEN_MAX_WIDTH","applyStyles","isElementInViewport","OCCUPIED_HEIGHT","fromImage","getNode","mediaWidth","mediaHeight","getImageDimension","availableHeight","toWidth","toHeight","calculateDimensions","toLeft","toTop","fromTop","fromLeft","fromWidth","fromHeight","fromTranslateX","fromTranslateY","fromScaleX","fromScaleY","ghost","createGhost","applyShape","appendChild","clearShape","contains","removeChild","toImage","targetTop","existingGhost","ghostStyles","transformOrigin","_container","source","ghostImage","draggable","oncontextmenu","availableWidth","aspectRatio","calculatedWidth","calculatedHeight","isOpening","ghost_roundedOpening","ghost_roundedClosing","resolve","onload","TON_DNS_COLLECTION","getTonExplorerNftUrl","ON_SALE_ITEM","TON_DNS_ITEM","SEND_ITEM","FRAGMENT_ITEM","GETGEMS_ITEM","TON_EXPLORER_ITEM","COLLECTION_ITEM","HIDE_ITEM","NOT_SCAM","UNHIDE","BURN_ITEM","SELECT_ITEM","isNftBlacklisted","isNftWhitelisted","openUnhideNftModal","getgemsUrl","_collectionName","_name","_name2","substring","isOnFragment","createSignal","setZoomChange","onInvoiceModalOpen","verifyHardwareAddress","handleVerify","contentTitle","copyButtonStatic","dottedLink","invoiceButton","fromDecimal","formatTransferUrl","Dropdown","Input","RichNumberInput","InvoiceModal","setAmount","setComment","hasAmountError","setHasAmountError","invoiceUrl","dropdownItems","handleAmountInput","stringValue","renderTokens","tokenDropdown","wrapperClassName","invoiceComment","labelForInvoice","invoiceLinkField","_selectAccount","useOpenFromNativeBottomSheet","closeReceiveModal","isInvoiceModalOpen","openInvoiceModal","closeInvoiceModal","handleOpenInvoiceModal","openInMain","isReceiveModalOpen","AndroidSettings","IOSSettings","NativeSettings","APP_ENV_MARKER","APP_VERSION","LANG_LIST","PROXY_HOSTS","SUPPORT_USERNAME","TELEGRAM_WEB_URL","selectIsHardwareAccount","selectIsPasswordPresent","getIsNativeBiometricAuthSupported","captureControlledSwipe","IS_BIOMETRIC_AUTH_SUPPORTED","IS_DAPP_SUPPORTED","IS_WEB","usePrevious2","useStateRef","Switcher","Biometrics","NativeBiometricsToggle","SettingsNativeBiometricsTurnOn","SettingsAppearance","SettingsAssets","SettingsDapps","SettingsDeveloperOptions","SettingsDisclaimer","SettingsHiddenNfts","SettingsLanguage","SettingsTokenList","SettingsWalletVersion","aboutImg","appearanceImg","assetsActivityImg","backupSecretImg","biometricsImg","connectedDappsImg","disclaimerImg","exitImg","installAppImg","installDesktopImg","installMobileImg","languageImg","ledgerImg","supportImg","telegramImg","tonLinksImg","tonMagicImg","tonProxyImg","walletVersionImg","AMOUNT_OF_CLICKS_FOR_DEVELOPERS_MODE","SUPPORT_ACCOUNTS_COUNT_DEFAULT","canPlaySounds","langCode","isTonProxyEnabled","isTonMagicEnabled","isDeeplinkHookEnabled","areTokensWithNoCostHidden","isSortByValueEnabled","orderedSlugs","isBiometricAuthEnabled","isPasswordPresent","isHardwareAccount","isCopyStorageEnabled","supportAccountsCount","setSettingsState","toggleDeeplinkHook","toggleTonProxy","toggleTonMagic","initTokensOrder","openBiometricsTurnOn","openBiometricsTurnOffWarning","clicksAmount","setClicksAmount","prevRenderingKeyRef","isDeveloperModalOpen","openDeveloperModal","closeDeveloperModal","isLogOutModalOpened","openLogOutModal","closeLogOutModal","activeLang","l","shouldRenderNativeBiometrics","wallets","_versions$map","v","_tonToken$symbol","_tonToken$price","tonBalance","balanceInCurrency","accountTokens","version","totalBalance","telegramLinkClassNames","isTelegramLinkRendered","isScrolled","handleSlideAnimationStop","NativeBiometricsTurnOn","handleCloseSettings","handleConnectedDappsOpen","Dapps","handleAppearanceOpen","Appearance","handleAssetsOpen","handleLanguageOpen","Language","handleAboutOpen","About","handleDisclaimerOpen","Disclaimer","handleNativeBiometricsTurnOnOpen","warningDescription","okButtonTitle","cancelButtonTitle","optionAndroid","ApplicationDetails","optionIOS","handleBackClickToAssets","handleOpenWalletVersion","handleDeeplinkHookToggle","isEnabled","handleTonProxyToggle","handleTonMagicToggle","handleBiometricAuthToggle","handleClickInstallApp","handleClickInstallOnDesktop","handleClickInstallOnMobile","handleOpenBackupWallet","isTrayIconEnabled","setIsTrayIconEnabled","getIsTrayIconEnabled","handleTrayIconEnabledToggle","isAutoUpdateEnabled","setIsAutoUpdateEnabled","handleAutoUpdateEnabledToggle","handleBackOrCloseAction","handleCloseLogOutModal","shouldCloseSettings","handleOpenHardwareModal","handleMultipleClick","onSwipeRightStart","renderHandleDeeplinkButton","menuIcon","menuSwitcher","renderSettings","withNotch","modalHeader","block","onEnable","handleOpenTelegramWeb","itemInfo","item_red","onTrayIconEnabledToggle","onAutoUpdateEnabledToggle","SelectTokenList","withSwipeControl","_selectAccountSetting","authConfig","versionsById","APP_REPO_URL","logoSrc","content_noScroll","titleLink","blockAbout","heading","ninja","unicorn","extension_link","github","github_link","telegram","community_link","aboutFooterWrapper","aboutFooterContent","dotLarge","ANIMATION_LEVEL_MAX","switchAnimationLevel","switchTheme","darkThemeImg","lightThemeImg","systemThemeImg","SWITCH_THEME_DURATION_MS","setTheme","setAnimationLevel","toggleCanPlaySounds","THEME_OPTIONS","handleThemeChange","newTheme","handleAnimationLevelToggle","level","handleCanPlaySoundToggle","renderThemes","theme_active","themeIcon","themeIcon_active","themeImg","blockTitle","settingsBlock","themeWrapper","item_small","TINY_TRANSFER_MAX_COST","IconWithTooltip","SettingsTokens","nftsByAddress","toggleTinyTransfersHidden","toggleInvestorView","toggleTokensWithNoCost","toggleSortByValue","handleTinyTransfersHiddenToggle","handleInvestorViewToggle","handleOpenHiddenNfts","handleTokensWithNoPriceToggle","handleSortByValueToggle","localBaseCurrency","setLocalBaseCurrency","hiddenNftsCount","whitelistedAddressesSet","blockWithTooltip","tooltipClassName","iconClassName","iconQuestion","tooltip_wide","parentContainer","isDisconnectModalOpen","openDisconnectModal","closeDisconnectModal","dappToDelete","setDappToDelete","handleDisconnectDapp","handleDisconnectAll","renderDapps","dappList","disconnectAllBlock","disconnectButton","blockDescription","renderEmptyDappsMessage","isPlaying","NETWORK_OPTIONS","startChangingNetwork","copyStorageData","currentNetwork","handleNetworkChange","newNetwork","network","developerTitle","arrow","developerCloseButton","sideTitle","HiddenByUserNft","ProbablyScamNft","hiddenByUserNfts","probablyScamNfts","renderHiddenByUserNfts","renderProbablyScamNfts","settingsBlockWithDescription","isWhitelisted","_selectCurrentAccount3","setLanguage","checkmarkImg","changeLanguage","handleLanguageChange","newLangCode","renderLanguages","nativeName","lc","item_lang","languageInfo","languageMain","languageNative","languageHeader","fullDialogClassName","modalDialogWeb","modalContent","bigintMultiplyToNumber","Draggable","TOKEN_HEIGHT_PX","TOP_OFFSET","_tokens$length","sortTokens","toggleExceptionToken","tokensRef","sortableContainerRef","tokenToDelete","setTokenToDelete","setState","orderedTokenSlugs","dragOrderTokenSlugs","draggedIndex","arraysAreEqual","handleOpenAddTokenPage","handleDrag","translation","_state$orderedTokenSl","_state$orderedTokenSl2","_state$orderedTokenSl3","_orderedSlugs$length","dragOrderTokens","splice","handleDragEnd","handleExceptionToken","isToncoin","isDragged","draggedTop","getOffsetByIndex","getOffsetBySlug","knobStyle","isDeleteButtonVisible","isDragDisabled","onDragEnd","item_token","parentRef","scrollRef","tokenIcon","tokenTitle","tokenDescription","deleteText","contentRelative","sortableContainer","arr1","arr2","every","realIndex","importAccountByVersion","handleAddWallet","renderWallets","item_wallet_version","walletVersionInfo","walletVersionTitle","walletVersionAddress","walletVersionInfoRight","walletVersionTokens","walletVersionAmount","blockWalletVersionText","blockWalletVersionReadMore","ton_link","BiometricsState","BiometricsTurnOff","BiometricsTurnOffWarning","BiometricsTurnOn","closeBiometricSettings","isTurnOnBiometricsOpened","TurnOnPasswordConfirmation","TurnOnRegistration","TurnOnVerification","TurnOnComplete","isTurnOffBiometricsOpened","TurnOffBiometricConfirmation","TurnOffCreatePassword","TurnOffComplete","isTurnOffBiometricsWarningOpened","TurnOffWarning","biometrics","faceIdImg","disableNativeBiometrics","isWarningModalOpen","openWarningModal","closeWarningModal","switcherTitle","warningTitle","handleConfirmDisableBiometrics","finally","renderDisableNativeBiometricsWarning","stakingSafeDialog","isPinAccepted","isNativeBiometricsEnabled","enableNativeBiometrics","clearNativeBiometricsError","isSmallHeight","pinPadType","pinTitle","prevIsEnabled","contentFullSize","headerBackInContent","stickerNativeBiometric","pinPadTitle","nativeBiometricsError","ANIMATED_STICKER_HUGE_SIZE_PX","STICKER_SIZE","TurnOff","disableBiometrics","step","customSubmitButton","yeee","yeeePreview","stickerHuge","TurnOffWaning","openBiometricsTurnOff","buttonsNoExtraSpace","TurnOn","enableBiometrics","localError","setLocalError","shouldDisablePasswordForm","handleClearError","help","customCancelButton","removeNftSpecialStatus","isNftHidden","unmarkNftHidden","nftPrimaryCell","nftButtonUnhide","shouldStopPropagation","handleSwitcherClick","StakingState","IS_OPEN_STATES","StakeInitial","StakePassword","StakeConnectHardware","StakeConfirmHardware","StakeComplete","setStakingScreen","cancelStaking","clearStakingError","submitStakingPassword","submitStakingHardware","renderedStakingAmount","setRenderedStakingAmount","handleTransferSubmit","handleViewStakingInfoClick","renderStakingShortInfo","stakingInfoClassName","stakingShortInfo","stakingShortInfoInsidePasswordForm","_tonToken$amount","RichNumberField","STAKING_DECIMAL","StakingProfitItem","UPDATE_UNSTAKE_DATE_INTERVAL_MS","HISTORY_SCROLL_APPEARANCE_HEIGHT_PX","totalProfit","stakingHistory","fetchStakingHistory","hasHistory","shouldRenderSpinner","spinnerClassNames","handleStakeClick","handleUnstakeClick","stakingResult","balanceResult","renderUnstakeDescription","unstakeTime_purple","history_static","historyTotal","historyTotalValue","historyTitle","historyList","historyList_static","profit","stakingInfo","stakingInfo_modal","stakingInfoNoHistory","closeClassName","stakingInfoClose","zeroValue","balanceStakedLabel","valueClassName","balanceStakedResult","stakingInfoLoading","inputClassName","balanceResultInput","stakingInfoButtons","stakingInfoButton","_accountState$staking3","_accountState$staking4","_accountState$staking5","_accountState$staking6","stakingInfoModalContent","DEFAULT_FEE","NOMINATORS_STAKING_MIN_AMOUNT","ONE_TON","STAKING_MIN_AMOUNT","throttle","ACTIVE_STATES","runThrottled","cb","TWO_TON","MINIMUM_REQUIRED_AMOUNT_TON","apiError","shouldUseNominators","submitStakingInitial","fetchStakingFee","openStakingInfoModal","closeStakingInfoModal","isNotEnough","setIsNotEnough","isInsufficientBalance","setIsInsufficientBalance","isInsufficientFee","setIsInsufficientFee","isBelowMinimumAmount","setIsBelowMinimumAmount","shouldUseAllBalance","setShouldUseAllBalance","calculatedFee","minAmount","shouldRenderBalanceWithSmallFee","availableBalance","validateAndSetAmount","newAmount","noReset","isNaN","handleAmountBlur","handleMaxAmountClick","handleAmountChange","getError","minAmountValue","renderTopRight","hasBalance","balanceButton","balanceLink","amountTopRight","amountTopRight_static","amountTopRight_slide","balanceContainer","renderBottomRight","amountBottomRight","amountBottomRight_error","amountBottomRight_slide","balanceError","renderStakingSafeModal","renderStakingResult","balanceResultWrapper","inputRichStatic","balanceResultLabel","welcome","welcome_static","sticker_static","wait","waitPreview","welcomeInformation","welcomeInformation_static","stakingApy","textButton","onPressEnter","amountInput","ton","tonIcon","tonName","amountBottomWrapper","amountBottomWrapper_static","amountBottom","MIN_BALANCE_FOR_UNSTAKE","UnstakeInitial","UnstakePassword","UnstakeConnectHardware","UnstakeConfirmHardware","UnstakeComplete","NotEnoughBalance","FULL_SIZE_NBS_STATES","stakingType","renderedBalance","setRenderedBalance","isLongUnstake","setIsLongUnstake","unstakeAmount","setUnstakeAmount","successUnstakeAmount","setSuccessUnstakeAmount","_stakingInfo$liquid$i","_stakingInfo$liquid","isInstantUnstake","liquid","instantAvailable","hasBalanceForUnstake","amountInCurrency","roundHalfUp","renderingAmountInCurrency","isUnstakeDisabled","shouldRenderCurrency","currencyClassNames","refreshUnstakeDate","handleStartUnstakeClick","handleGetTon","renderUnstakingShortInfo","unstake","renderCurrencyValue","_stakingInfo$liquid2","insufficientBalanceText","insufficientFeeText","instantAvailableText","renderUnstakeInfo","shouldShowInfo","unstakeInfo","renderNotEnoughBalance","notEnoughBalanceContent","notEnoughBalanceText","notEnoughBalanceTextBold","renderInitial","_currentAccountState$","_currentAccountState$2","_currentAccountState$3","SwapState","IS_FIREFOX_EXTENSION","readClipboardContent","IS_FIREFOX","SHORT_ADDRESS_SHIFT","MIN_ADDRESS_LENGTH_TO_SHORTEN","SwapBlockchain","cancelSwap","setSwapCexAddress","setSwapScreen","toAddressRef","shouldRenderPasteButton","setShouldRenderPasteButton","isAddressFocused","markAddressFocused","unmarkAddressFocused","hasToAddressError","setHasToAddressError","canContinue","setCanContinue","withPasteButton","toAddressShort","handleCancelClick","handleAddressFocus","el","caretPosition","selectionStart","newCaretPosition","setSelectionRange","scrollLeft","scrollWidth","clientWidth","validateToAddress","handleAddressBlur","handleAddressInput","newToAddress","handlePasteClick","submitPassword","renderInfo","blockchainHintWrapper","blockchainHintText","blockchainHintTextError","renderInputAddress","inputAddress","inputAddressWrapper","inputButton","inputButtonShifted","scrollContent","selectBlockchainBlock","blockchainButtons","buttonHalfWidth","SwapComplete","onInfoClick","onStartSwap","SwapInputSource","ANIMATED_STICKER_TINY_SIZE_PX","CHANGELLY_AML_KYC","CHANGELLY_PRIVACY_POLICY","CHANGELLY_TERMS_OF_USE","DIESEL_TOKENS","SwapSelectToken","SwapSubmitButton","SwapSettingsModal","MAX_PRICE_IMPACT_VALUE","ESTIMATE_REQUEST_INTERVAL","SET_AMOUNT_DEBOUNCE_TIME","DEFAULT_SWAP_FEE","errorType","isEstimating","shouldEstimate","realNetworkFee","priceImpact","inputSource","limits","isSettingsModalOpen","dieselStatus","swapFee","setSwapAmountIn","setSwapAmountOut","switchSwapTokens","estimateSwap","estimateSwapCex","loadSwapPairs","setSwapType","toggleSwapSettingsModal","authorizeDiesel","inputInRef","inputOutRef","estimateIntervalId","hasAmountInError","setHasAmountInError","currentTokenInSlug","currentTokenOutSlug","tokenInTransitionKey","useTokenTransitionKey","accountIdPrev","_tokens$find","isToncoinIn","totalToncoinAmount","amountInBig","amountOutBig","tokenInAmountBig","_tokenIn$amount","isErrorExist","isEnoughToncoin","isDieselSwap","OnChain","isCorrectAmountIn","lte","CrosschainToToncoin","isEnoughFee","isCorrectAmountOut","isPriceImpactError","isCrosschain","isReverseProhibited","_pairs$bySlug","handleEstimateSwap","shouldBlock","throttledEstimateSwap","debounceSetAmountIn","debounceSetAmountOut","createEstimateTimer","setInterval","clearEstimateTimer","clearInterval","shouldForceUpdate","validateAmountIn","lt","handleAmountInChange","handleAmountOutChange","amountWithFee","Blockchain","handleSwitchTokens","openSettingsModal","closeSettingsModal","isBalanceVisible","renderPrice","isPriceVisible","shouldBeRendered","tokenPriceBold","renderPriceImpactWarning","priceImpactStatic","run","runPreview","priceImpactSticker","priceImpactContent","priceImpactTitle","priceImpactArrow","priceImpactDescription","changellyInfo","changellyInfoStatic","changellyInfoContent","changellyInfoTitle","changellyIcon","changellyInfoDescription","terms","policy","kyc","isFeeEqualZero","feeBlock","feeText","priceBlock","feeWrapper","feeContent","feeContentClickable","feeIcon","Out","inputLabel","amountInputInner","cornerClassName","swapCornerTop","swapCornerStaticTop","swapButtonWrapper","swapButtonWrapperStatic","AnimatedArrows","amountInputBuy","In","swapCornerBottom","swapCornerStaticBottom","footerBlock","footerBlockStatic","isSending","transitionKeyRef","shouldAnimate","hasAnimation","startAnimation","stopAnimation","renderArrow","isInverted","arrowContainer","arrowContainerInverted","arrowOld","animateDisappear","arrowNew","animateAppear","swapButton","SwapPassword","SwapWaitTokens","activityId","activityById","submitSwap","submitSwapCexFromToncoin","submitSwapCexToToncoin","renderedSwapType","setRenderedSwapType","renderedTransactionAmountIn","setRenderedTransactionAmountIn","renderedTransactionAmountOut","setRenderedTransactionAmountOut","renderedTransactionTokenIn","setRenderedTransactionTokenIn","renderedTransactionTokenOut","setRenderedTransactionTokenOut","setRenderedActivity","_activity$cex","Complete","SelectTokenTo","SelectTokenFrom","handleTransactionInfoClick","shouldReset","handleModalCloseWithReset","renderSwapShortInfo","_tokenIn$image","_tokenOut$image","_tokenIn$symbol","_tokenOut$symbol","logoIn","logoOut","swapInfoClassName","swapShortInfo","swapShortInfoInsidePasswordForm","tokenIconWrapper","swapShortInfoTokenIcon","swapShortInfoBlockchainIcon","swapShortValue","amount_from","swapShortAmount","amount_to","WaitTokens","clearSwapError","SLIPPAGE_VALUES","MAX_SLIPPAGE_VALUE","slippage","amountOutMin","setSlippage","isSlippageFocused","markSlippageFocused","unmarkSlippageFocused","currentSlippage","setCurrentSlippage","priceImpactError","slippageError","handleSave","resetModal","handleInputChange","renderSlippageValues","slippageList","advancedSlippageContainer","advancedSlippage","renderSlippageError","advancedSlippageError","renderSlippageLabel","advancedTooltipMessage","advancedTooltipContainer","advancedTooltip","advancedError","advancedTitle","advancedInput","slippageLabel","advancedBlock","advancedRow","advancedDescription","advancedValue","setIsExpired","handleTimeout","changellyImportantRed","useSelectorWidth","handleOpenSelectTokenModal","buttonTransitionKeyRef","buttonStateStr","tokenToRender","_tokenToRender$blockc","tokenSelectorWrapper","tokenSelectorSlide","tokenSelector","tokenBlockchainIcon","tokenContent","tokenSelectorIcon","BUTTON_WIDTH","CHARACTER_WIDTH","symbolWidth","minWidth","SwapErrorType","useThrottledSignal","useDerivedSignal","BUTTON_ANIMATION_DURATION","_limits$fromMin","_limits$fromMax","_tokenIn$symbol2","shouldSendingBeVisible","errorMsgByType","UnexpectedError","InvalidPair","NotEnoughLiquidity","ChangellyMinSwap","fromMin","ChangellyMaxSwap","fromMax","NotEnoughForFee","TooSmallAmount","isTouched","textStr","isArray","shouldShowError","render","renderedText","swapArrowIcon","footerButtonWrapper","renderThrottled","rendered","LIMIT","NftChips","isCollapsed","expand","shouldRenderExpander","renderedNfts","static","expander","handleClickInfo","rootStatic","AMOUNT_PRECISION","TransferComplete","handleTransactionRepeatClick","buttonsAfterNft","BURN_ADDRESS","BURN_CHUNK_DURATION_APPROX_SEC","NFT_BATCH_SIZE","NOTCOIN_EXCHANGERS","TransferConfirm","resolvedAddress","shouldEncrypt","promiseId","toAddressName","isToNewAddress","binPayload","withDiesel","dieselAmount","submitTransferConfirm","isBurning","isNotcoinBurning","renderNfts","totalFee","BigInt","ceil","renderFeeWithDiesel","feeSymbol","addressWidget","inputReadOnly_words","commentInputWrapper","burningDurationMin","emoji","warningTooltipContainer","burnWarning","buttonsInsideContentWithScroll","dns","SAVED_ADDRESS_OPEN_DELAY","COMMENT_MAX_SIZE_BYTES","COMMENT_DROPDOWN_ITEMS","STAKED_TOKEN_SLUG","AUTHORIZE_DIESEL_INTERVAL_MS","INPUT_CLEAR_BUTTON_ID","isEncryptedCommentSupported","isMemoRequired","isDieselAuthorizationStarted","submitTransferInitial","fetchFee","fetchNftFee","setTransferAmount","setTransferToAddress","setTransferComment","setTransferShouldEncrypt","cancelTransfer","showDialog","fetchDieselState","addressBookTimeoutRef","isAddressBookOpen","openAddressBook","closeAddressBook","savedAddressForDeletion","setSavedAddressForDeletion","isAddressValid","otherAccountIds","shouldUseAddressBook","isTonFullBalance","shouldDisableClearButton","renderingFee","withAddressClearButton","additionalAmount","isDieselAvailable","isDieselNotAuthorized","isEnoughDiesel","authorizeDieselInterval","updateDieselState","dropDownItems","nftAddresses","handleTokenChange","handleAddressBookClose","_e$relatedTarget","relatedTarget","isDnsDomain","handleAddressClearClick","handleClear","handleAddressBookItemClick","handleDeleteSavedAddressClick","closeDeleteSavedAddressModal","handleCommentChange","trimStringByMaxBytes","isCommentRequired","hasCommentError","requiredAmount","handleCommentOptionsChange","option","renderedSavedAddresses","renderAddressItem","deleteLabel","onDeleteClick","renderedOtherAccounts","addressesToBeIgnored","renderAddressBook","positionX","savedAddressBubble","withFee","insufficientDieselText","feeValue","amountBottomRight_static","renderInputActions","inputButtonTransition","inputButtonClear","renderCommentLabel","commentLabel","withButton","renderButtonText","inputStatic","inputWithIcon","isControlled","isMultiline","maxBytes","decoder","TextDecoder","encoded","TextEncoder","encode","decode","isSavedAddress","handleDeleteClick","savedAddressItem","savedAddressName","savedAddressDelete","savedAddressDeleteInner","savedAddressAddress","savedAddressDeleteIcon","TransferMultiNftProcess","TransferPassword","SCREEN_HEIGHT_FOR_FORCE_FULLSIZE_NBS","sentNftsCount","submitTransferPassword","submitTransferHardware","setTransferScreen","screenHeight","renderedTokenBalance","setRenderedTokenBalance","renderedTransactionAmount","renderTransferShortInfo","_2","transferInfoClassName","transferShortInfo","transferShortInfoInsidePasswordForm","transferShortInfoText","bold","isInProgress","spinner","infoBox","clearTransferError","feeLabel","feeConfirm","throttleWithTickEnd","ANIMATION_TIME","MAX_SIMULTANEOUS_ANIMATIONS","scheduledAnimationsCounter","resetCounterOnTickEnd","prevText","scheduleAnimation","characters","renderAnimatedCharacters","timeoutId","condition","_prevText$length","elements","textLength","prevTextLength","charIndex","prevTextCharIndex","_text$charIndex","_text$charIndex2","unshift","characterContainer","character","characterOld","characterNew","_text$charIndex3","AnimatedSticker","AnimatedIcon","props","otherProps","isAnimationLoaded","markAnimationLoaded","handleLoad","playKey","setPlayKey","random","_extends","buildStyle","loadedPreviewUrls","DEFAULT_SIZE","thumbDataUri","noAnimation","isPreviewLoaded","markPreviewLoaded","isAnimationReady","markAnimationReady","markAnimationNotReady","handlePreviewLoad","preview","ensureRLottie","getRLottie","generateUniqueId","useHeavyAnimationCheck","isHeavyAnimating","usePriorityPlaybackCheck","isPriorityPlaybackActive","useSharedIntersectionObserver","useUniqueId","THROTTLE_MS","renderId","playSegment","speed","quality","isLowPriority","forceInBackground","sharedCanvas","sharedCanvasCoords","onEnded","onLoop","viewId","animation","setAnimation","animationRef","isFirstRender","playRef","playSegmentRef","rgbColor","isUnmountedRef","offsetWidth","offsetHeight","newAnimation","coords","setSpeed","throttledInit","setColor","_animationRef$current","removeView","shouldRestart","isFrozen","playAnimationOnRaf","pauseAnimation","prevNoLoop","setNoLoop","prevSharedCanvasCoords","setSharedCanvasCoords","changeData","CLICKED_TIMEOUT","isClicked","setIsClicked","loadingClassName","loadingInit","loadingStart","sizeSmall","primary","destructive","clicked","form","CONFETTI_FADEOUT_TIMEOUT","DEFAULT_CONFETTI_SIZE","CONFETTI_COLORS","lastRequestedAt","canvasRef","confettiRef","isRafStartedRef","defaultConfettiAmount","invokeGenerateConfetti","h","generateConfetti","updateCanvas","canvas","ctx","getContext","canvasWidth","canvasHeight","clearRect","confettiToRemove","c","pos","velocity","flicker","flickerFrequency","rotation","lastDrawnAt","frameCount","diff","newPos","newVelocity","newFlicker","sin","newRotation","PI","newFrameCount","newLastDrawnAt","shouldRemove","fillStyle","beginPath","ellipse","prevConfettiTime","hideTimeout","confettiRequestedAt","leftSide","randomX","randomY","randomColor","usePasswordValidation","isMobile","firstInputRef","isJustSubmitted","setIsJustSubmitted","firstPassword","setFirstPassword","secondPassword","setSecondPassword","isPasswordFocused","markPasswordFocused","unmarkPasswordFocused","isWeakPasswordModalOpen","openWeakPasswordModal","closeWeakPasswordModal","isPasswordsNotEqual","setIsPasswordsNotEqual","isSecondPasswordFocused","markSecondPasswordFocused","unmarkSecondPasswordFocused","validation","isOnlyNumbers","requiredLength","noEqual","invalidLength","handleFirstPasswordChange","handleSecondPasswordChange","isWeakPassword","rule","renderErrors","errors","noUpperCase","noLowerCase","noNumber","noSpecialChar","passwordRules","getValidationRuleClass","formWidgets","inputMode","maxLength","ruleHasError","passwordRule","valid","invalid","ZERO_POINT","DEFAULT_OFFSET","EDGE_THRESHOLD","externalStyle","buttonRef","scrollIntervalId","isDragging","lastMousePosition","updateDraggablePosition","calculateConstrainedTranslation","stopContinuousScroll","cancelAnimationFrame","startContinuousScroll","scrollContainer","animateScroll","scrollBy","setInitialState","_scrollRef$current$sc","_scrollRef$current","_ref$current","_ref$current2","getClientCoordinate","handleMouseDown","handleTouchStart","clearScrollPatch","scrollRect","distanceFromTop","distanceFromBottom","scaledEase","handleMouseUp","dragButtonRef","passive","cssStyles","knob","clientY","lastScrollTop","draggableElement","parentElement","parentRect","draggableRect","minX","offsetLeft","maxX","minY","maxY","DEFAULT_ARROW","DEFAULT_MENU_POSITION_HORIZONTAL","selectedItem","buttonArrowIcon","withMenu","isFullyInteractive","interactive","wide","buttonFullClassName","itemIcon","itemName","handleItemClick","fullButtonClassName","item_with_icon","dangerous","separator","item_selected","itemDescription","PATH_BY_EMOJI","loadedImages","isLoaded","markLoaded","Portal","ARROW_WIDTH","GAP","iconRef","tooltipRef","tooltipStyle","arrowStyle","randomTooltipKey","handleClickOutside","closest","tooltipWidth","tooltipHeight","tooltipCenter","innerWidth","arrowPosition","horizontalOffset","tooltipVerticalStyle","tooltipHorizontalStyle","arrowHorizontalStyle","arrowVerticalStyle","onMouseEnter","preloadedImageUrls","useIntersectionObserver","useOnIntersect","INTERSECTION_THROTTLE","ImageComponent","loading","markIsLoaded","rootRef","throttleMs","entry","referrerPolicy","INAPP_BROWSER_OPTIONS","inAppBrowser","hideCompletionResolves","closeBrowser","hasOpenClass","hasShownClass","handleError","handleHideCompletion","handleBrowserClose","openBrowser","browserTitle","browserSubtitle","ADDITIONAL_INAPP_BROWSER_OPTIONS","cordova","originalHide","_hideCompletionResolv","browserShown","browserOpen","currentBrowserOptions","getInAppBrowser","LoadMoreDirection","requestForcedReflow","useLayoutEffectWithPrevDeps","DEFAULT_LIST_SELECTOR","DEFAULT_PRELOAD_BACKWARDS","DEFAULT_SENSITIVE_AREA","sensitiveArea","noScrollRestore","noScrollRestoreOnTop","noFastList","cacheBuster","beforeChildren","onWheel","onDragOver","onDragLeave","stateRef","loadMoreBackwards","loadMoreForwards","Backwards","Forwards","scrollHeight","clientHeight","prevItems","listItemElements","querySelectorAll","newScrollTop","currentAnchor","newAnchorTop","currentAnchorTop","nextAnchor","isScrollTopJustUpdated","listLength","isNearTop","isNearBottom","isUpdated","nextAnchorTop","offsetParent","isMovingUp","isMovingDown","closestScrollContainer","handleNativeScroll","teactFastList","isPasswordVisible","setIsPasswordVisible","handleInput","handleTogglePasswordVisibility","finalType","inputFullClass","input_password","labelFullClass","label_forPassword","label_error","required","teactExperimentControlled","visibilityToggle","visibilityToggle_push","label_errorBottom","SAVED_ADDRESS_NAME_MAX_LENGTH","isAddressAlreadySaved","addSavedAddress","addressNameRef","isSaveAddressModalOpen","openSaveAddressModal","closeSaveAddressModal","isDeleteSavedAddressModalOpen","openDeletedSavedAddressModal","setSavedAddressName","isConcealedWithSpoiler","revealSpoiler","handleSaveAddressSubmit","handleCopy","handleRevealSpoiler","renderContentOrSpoiler","isConcealed","commentContainer","button_spoiler","shortAddress","renderSaveAddressModal","nameInput","iconStar","_accountState$savedAd","backgroundColor","withBackground","inner","doubled","closeLoadingOverlay","isDpppModalOpen","isLoadingOverlayOpen","useVirtualBackdrop","autoClose","shouldSkipTransition","noCloseOnBackdrop","menuRef","fullBubbleClassName","bubble","transformOriginYStyle","transformOriginXStyle","inPortal","isSeparator","menuItem_separator","getIsSwipeToCloseDisabled","freezeWhenClosed","useDelegatedBottomSheet","useDelegatingBottomSheet","useHideBrowser","SCROLL_CONTENT_CHECK_THRESHOLD_MS","dialogRef","localDialogRef","swipeDownDateRef","isSlideUp","toggleSelfFullSize","isFullSize","onEsc","Down","getCanCloseModal","isBrowserHidden","setIsBrowserHidden","browser","isDelegatingToNative","header_noClose","singleTitle","modal","slideUpAnimation","delegatingToNative","backdropFullClass","contentFullClassName","contentCompact","lastScrollRef","getIsKeyboardVisible","scrollEl","header_back","header_backIcon","DURATION_MS","containerId","timerRef","closeAndDismiss","handleMouseEnter","container_electron","notification","authApi","APPEAR_ANIMATION_DURATION_MS","isNativeBiometricAuthEnabled","stickerSize","passwordRef","setPassword","handleBiometrics","biometricPassword","getPassword","getPinPadTitle","actionName","onBiometricsClick","renderBiometricPrompt","verify","errorMessage","PinPadButton","DEFAULT_PIN_LENGTH","RESET_STATE_DELAY_MS","canRenderBackspace","isSuccess","prevIsPinAccepted","arePinButtonsDisabled","titleClassName","success","prevIsActive","char","newValue","handleBackspaceClick","renderDots","dotsClassName","dots","dotsError","dotsLoading","dotFilled","grid","buttonHidden","CLICKED_TIMEOUT_MS","buttonActive","TeactDOM","elementRef","cssText","buildContentHtml","getInputRegex","contentRef","prevValueRef","renderValue","noFallbackToPrev","contentEl","valueRegex","match","innerText","innerHTML","withRadix","inputWrapperFullClass","input__wrapper","input_rich","labelTextClassName","forceMeasure","saveCaretPosition","MIN_LENGTH_FOR_SHRINK","MIN_SIZE_SCALE","measureEl","markHasFocus","unmarkHasFocus","isContentEditable","setContentEditable","isFontShrinkedRef","updateFontScale","handleLoadingHtml","newHtml","handleNumberHtml","restoreCaretPosition","updateHtml","textContent","isEmpty","getParts","clearValue","inputWrapperStatic","input__wrapper_hasFocus","cornerFullClass","swapCorner","swapCorner_error","contentEditable","regex","RegExp","_value$replace$replac","_value$replace$replac2","dotPart","fractionStr","suffixStr","fractional","noCloseTransition","prevChildren","fromChildrenRef","suggest","embedded","onCheck","widget","forceReflow","Tab","previousActiveTab","tabRef","hasMenu","Tab_active","tabEl","prevTabEl","platformEl","platform","prevPlatformEl","shiftLeft","platform_animate","animateHorizontalScroll","useHorizontalScroll","TAB_SCROLL_THRESHOLD_PX","SCROLL_DURATION","big","activeTabElement","childNodes","activeTabOffsetLeft","activeTabOffsetWidth","newLeft","toggleExtraClass","waitForAnimationEnd","waitForTransitionEnd","allowSwipeControlForTransition","FALLBACK_ANIMATION_END","CLASSES","shouldRestoreHeight","cleanupExceptionKey","wrapExceptionKey","onStart","currentKeyRef","shouldDisableAnimation","rendersRef","prevActiveKey","isAnimatingRef","isSwipeJustCancelledRef","hasActiveKeyChanged","isBackwards","preservedRender","isSlideOptimized","prevActiveIndex","childElements","childElement","performSlideOptimized","HTMLElement","dispatchHeavyAnimationStop","onAnimationEnd","watchedNode","giveUpAnimationEnd","flexBasis","asFastList","renders","renderKeys","contents","teactOrderKey","toSlide","fromSlide","newAppVersion","latestAppVersion","btc","MY_TOKEN_SYMBOL","isUnfreezeRequested","closeVestingModal","startClaimingVesting","currentlyFrozenAmount","currentlyReadyToUnfreezeAmount","isDisabledUnfreeze","handleStartClaimingVesting","renderUnfrozenDescription","unfreezeTime","unfreezeTimeIcon","renderVestingInfo","vestingInfo","blockSubtitle","volume","initialAmount","isInteractive","endsAt","timeEnd","partInteractive","partIcon","partName","partValue","renderVestingSchedule","actionsTitle","actionsList","inputWrapper","unfreezeInput","unfreezeResult","unfreezeRequestedIds","isVestingModalOpen","VestingUnfreezeState","CLAIM_AMOUNT","submitClaimingVesting","submitClaimingVestingHardware","cancelClaimingVesting","clearVestingError","claimAmount","withModalHeader","handleHardwareSubmit","operationInfo","operationInfoWithGap","operationInfoText","operationInfoFee","operationInfoFeeWithGap","passwordModalDialog","isConfirmRequested","unfreezeState","APP_ENV","process","env","DEBUG","DEBUG_MORE","IS_TEST","IS_PERF","IS_PACKAGED_ELECTRON","ELECTRON_HOST_URL","BETA_URL","BASE_URL","BOT_USERNAME","SWAP_FEE_ADDRESS","STRICTERDOM_ENABLED","DEBUG_ALERT_MSG","NATIVE_BIOMETRICS_USERNAME","NATIVE_BIOMETRICS_SERVER","ANIMATED_STICKER_DEFAULT_PX","DEFAULT_SLIPPAGE_VALUE","GLOBAL_STATE_CACHE_DISABLED","GLOBAL_STATE_CACHE_KEY","ANIMATION_LEVEL_MED","ANIMATION_LEVEL_DEFAULT","THEME_DEFAULT","MAIN_ACCOUNT_ID","TONHTTPAPI_MAINNET_URL","TONHTTPAPI_MAINNET_API_KEY","ELECTRON_TONHTTPAPI_MAINNET_API_KEY","TONHTTPAPI_V3_MAINNET_API_URL","TONHTTPAPI_V3_MAINNET_API_KEY","TONAPIIO_MAINNET_URL","TONHTTPAPI_TESTNET_URL","TONHTTPAPI_TESTNET_API_KEY","ELECTRON_TONHTTPAPI_TESTNET_API_KEY","TONHTTPAPI_V3_TESTNET_API_URL","TONHTTPAPI_V3_TESTNET_API_KEY","TONAPIIO_TESTNET_URL","BRILLIANT_API_BASE_URL","TON_EXPLORER_BASE_MAINNET_URL","TON_EXPLORER_BASE_TESTNET_URL","TOKEN_EXPLORER_MAINNET_URL","TOKEN_EXPLORER_TESTNET_URL","EMPTY_HASH_VALUE","LANG_CACHE_NAME","rtl","VALIDATION_PERIOD_MS","STAKING_FORWARD_AMOUNT","STAKING_POOLS","LIQUID_POOL","LIQUID_JETTON","NFT_FRAGMENT_COLLECTIONS","MYCOIN_TOKEN","MYCOIN_SLUG","MYCOIN_TOKEN_TESTNET","MYCOIN_SLUG_TESTNET","TOKEN_INFO","quote","percentChange24h","INIT_SWAP_ASSETS","isPopular","contract","MULTITAB_DATA_CHANNEL_NAME","ACTIVE_TAB_STORAGE_KEY","INDEXED_DB_NAME","INDEXED_DB_STORE_NAME","WINDOW_PROVIDER_CHANNEL","SHORT_CURRENCY_SYMBOL_MAP","USD","EUR","RUB","CNY","DEFAULT_WALLET_VERSION","POPULAR_WALLET_VERSIONS","DEFAULT_TIMEOUT","DEFAULT_RETRIES","DEFAULT_ERROR_PAUSE","BROWSER_HISTORY_LIMIT","NOTCOIN_FORWARD_TON_AMOUNT","CLAIM_ADDRESS","CLAIM_COMMENT","RE_LINK_TEMPLATE","RE_TG_BOT_MENTION","DIESEL_ADDRESS","ElectronAction","NativeBiometric","parseAccountId","webAuthn","cloneDeep","getTranslation","callActionInMain","addActionHandler","setGlobal","INITIAL_STATE","clearCurrentSwap","clearCurrentTransfer","createAccount","updateAuth","updateBiometrics","updateCurrentAccountId","updateCurrentAccountState","updateHardware","updateSettings","selectAccountIdByAddress","selectAccounts","selectAllHardwareAccounts","selectIsOneAccount","selectLedgerAccountIndexToImport","selectNetworkAccountsMemoized","selectNewestTxIds","CREATING_DURATION","NATIVE_BIOMETRICS_PAUSE_MS","_selectAccounts","isFirstAccount","nextAuthState","checkResult","blockchainKey","promiseCalls","all","requestConfetti","createHardwareAccounts","withCredential","credential","createCredential","setupBiometrics","config","setupNativeBiometrics","afterConfirmDisclaimer","_selectAccounts2","ledgerApi","importLedgerWallet","updatedGlobal","currentGlobal","walletInfo","driver","afterSignIn","resetApiSettings","rnd","_ref7","changeNetwork","newestTxIds","connectLedger","waitLedgerTonApp","_selectAllHardwareAcc","currentHardwareAccounts","currentHardwareAddresses","getNextLedgerWallets","nextHardwareState","_ref8","_global$hardware$hard","oldHardwareWallets","_ref9","_ref10","_ref11","oldPassword","_ref12","isVerified","verifyIdentity","afterCheckMnemonic","accountConfigJson","storageData","reduceGlobalForDebug","Unexpected","_ref13","_global$accounts$byId","existAccountId","currentWalletTitle","reduced","_ref14","areDeepEqual","waitFor","clearConnectedDapps","clearCurrentDappTransfer","clearDappConnectRequest","removeConnectedDapp","updateConnectedDapps","updateCurrentDappTransfer","updateDappConnectRequest","GET_DAPPS_PAUSE","connectAccountId","signature","signLedgerProof","vestingAddress","signedMessages","signLedgerTransactions","isTonConnect","currentPromiseId","closeDuration","connectionType","isSse","apiUpdate","isElectron","isNativeBottomSheet","isIosApp","isAndroidApp","isDefaultEnabled","areAllDisabled","findDifference","NBS_INIT_TIMEOUT","isNotcoinVouchers","clearStaking","updateAccountState","updateStaking","_accountState$balance","_accountState$balance2","isNotEnoughBalance","_global$stakingInfo$l","_global$stakingInfo$l2","submitLedgerUnstake","submitLedgerStake","SwapFeeSource","getIsPositiveDecimal","roundDecimal","callActionInNative","buildSwapId","updateCurrentSwap","selectCurrentToncoinBalance","PAIRS_CACHE","CACHE_DURATION","WAIT_FOR_CHANGELLY","CLOSING_BOTTOM_SHEET_DURATION","isEstimateSwapBeingExecuted","isEstimateCexSwapBeingExecuted","SERVER_ERRORS_MAP","buildSwapBuildRequest","dexLabel","shouldTryDiesel","toMinAmount","_global$swapTokenInfo2","isToTon","requiredState","requiredTokenInSlug","requiredTokenOutSlug","transactionFee","currentSwapId","swapBuildRequest","buildResult","swapHistoryItem","transfers","swapItem","asset","transferOptions","swap","transfer","newSwapType","isFilled","newTokenIn","newTokenOut","_global$currentSwap$p","_global$currentSwap$p2","_global$currentSwap$a","_global$currentSwap$a2","resetParams","estimateAmount","estimate","impact","feeSource","_global$currentSwap$p3","_global$currentSwap$p4","_global$currentSwap$a3","navigator","onLine","matchedAmount","isLessThanMin","isBiggerThanMax","_global$currentSwap$a4","_txDraft$fee","txDraft","_global$swapTokenInfo3","_global$currentSwap$p6","symbolOrMinter","cache","isCacheValid","_global$currentSwap$p5","pair","_selectAccountState2","_activities","_ref15","swaps","updateTokenPriceHistory","updateVesting","selectTokenAddress","selectVestingPartsReadyToUnfreeze","openVestingModal","tokenAddress","submitLedgerTransfer","mapValues","onTickEnd","updateActivitiesIsHistoryEndReached","updateActivitiesIsLoading","updateBalances","updateCurrentSignature","updateCurrentTransfer","updateCurrentTransferByCheckResult","updateCurrentTransferFee","updateSendingLoading","updateTokenInfo","selectLastTxIds","IMPORT_TOKEN_PAUSE","rest","newToken","_result","_result2","InsufficientBalance","_result3","isToAddressNew","isBase64Data","chunks","chunk","batchResult","_result4","parsedPayload","stateInit","signedMessage","currentResult","submitLedgerNftTransfer","shouldFetchMore","fetchedActivities","tokenIds","offsetId","filteredResult","tx","newById","newOrderedIds","currentActivities","_selectAccountState3","_idsBySlug$TONCOIN_SL","lastTxIds","_token$price","_token$priceUsd","_token$change24h","deletedSlugs","existingToken","apiToken","exceptionSlugsCopy","deletedSlugsCopy","_selectAccountState$b","_selectAccountState4","shouldUpdateBalance","userToken","reconnectLedger","verifyAddress","isAlreadyExist","apiSwapAsset","groupBy","playIncomingTransactionSound","addLocalTransaction","addNewActivities","assignRemoteTxId","removeLocalTransaction","updateActivitiesIsLoadingByAccount","updateActivity","selectLocalTransactions","TX_AGE_TO_PLAY_SOUND","update","_selectLocalTransacti","_groups$localUpdates","noForward","localTransactions","withLocalIndex","localIndex","groupName","normalizedAddress","inMsgHash","groups","localUpdates","localTransaction","localTxId","newActivities","shouldPlaySound","processDeeplink","clearCurrentSignature","apiUpdateDappConnect","apiUpdateDappLoading","apiUpdateDappCloseLoading","apiUpdateDappSendTransaction","addNft","removeNft","updateAccount","updateAccountStakingState","updateNft","updateRestrictions","updateStakingInfo","updateSwapTokens","updateTokens","updateVestingInfo","balancesToUpdate","updateDeletionListForActiveTokens","_selectAccountState$s","stakingCommonData","stakingState","backendStakingState","oldBalance","unstakeRequestedAmount","nominatorsPool","isPrevRoundUnlocked","prevRound","unlock","unstakeRequestAmount","shouldOpenStakingInfo","currentNfts","partial","isLimited","isIncorrectTimeNotificationReceived","showIncorrectTimeError","newUnfreezeRequestedIds","newHistory","_accountState$browser","processDeeplinkAfterSignIn","omit","clearPreviousLangpacks","initializeSounds","IS_OPERA","setScrollbarWidthProperty","ANIMATION_DELAY_MS","afterInit","once","_global$settings$auth","removeNativeBiometrics","newDialogs","existingMessageIndex","pop","InvalidAmount","InvalidToAddress","DomainNotResolved","WalletNotInitialized","InvalidAddressFormat","PartialTransactionFailure","IncorrectDeviceTime","UnsuccesfulTransfer","InactiveContract","NotSupportedHardwareOperation","DebugError","newNotifications","existingNotificationIndex","toggleDeeplinkHandler","otherNetwork","otherNetworkAccountIds","nextAccountId","accountsById","afterSignOut","prevAccountId","nextNewestTxIds","isTonDeeplink","parseTonDeeplink","getIsAppUpdateNeeded","omitUndefined","onLedgerTabClose","openLedgerTab","updateAccounts","OPEN_LEDGER_TAB_DELAY","APP_VERSION_URL","isMnemonicImport","addAccount2","authState","startConnection","popup","windows","focused","newHardwareState","_ref16","_ref17","_selectAccountSetting2","newSlugs","_ref18","updatedSlugs","_selectAccountSetting3","_selectCurrentAccount4","_accountSettings$dele","_balances$bySlug","updatedDeletedSlugs","updatedBalancesBySlug","fromEntries","_ref19","_ref20","_ref21","_selectAccountSetting4","slugIndexInAvailable","_ref22","_selectAccountSetting5","_accountSettings$orde","_accountSettings$exce","_accountSettings$dele2","deleted","bySlugCopy","s","fetch","currentQrScan","camera","requestPermissions","isGranted","_ref23","linkParams","_currentTransfer$nfts","_ref24","_ref25","addToSelectedAddresses","removeFromSelectedAddresses","addCallback","prevGlobal","prevSettings","removeCallback","buildAccountId","bigintReviver","pickTruthy","onBeforeUnload","onIdle","STATE_VERSION","selectAccountTokens","UPDATE_THROTTLE","ACTIVITIES_LIMIT","ACTIVITY_TOKENS_LIMIT","updateCacheThrottled","updateCache","updateCacheForced","isCaching","unsubscribeFromBeforeUnload","preloadedData","initCache","setupCaching","clearCaching","localStorage","removeItem","_unsubscribeFromBefor","loadCache","initialState","json","getItem","cached","migrateCache","stateVersion","backupWallet","_cached$tokenInfo","oldId","newId","testnetAccountId","clearActivities","areTokensWithNoBalanceHidden","areTokensWithNoPriceHidden","force","reducedGlobal","reduceByAccountId","setItem","reduceAccountActivities","newestTransactionsBySlug","reducedSlugs","reducedIdsBySlug","visibleIdCount","reducedNewestTransactionsBySlug","reducedIds","reducedById","_token$quote$priceUsd","SIMPLE_MARKDOWN_REGEX","filters","replaceSimpleMarkdown","addLineBreaks","textParts","entities","entityResult","entity","splittenParts","line","trimmedLine","trimStart","indentLength","fromCharCode","repeat","typify","typed","IS_LEDGER_EXTENSION_TAB","selectHasSession","initLedgerPage","USER_AGENT_LANG_CODE","fromTokenIds","toTokenIds","newestTx","tokenTxIds","_activities2","_activities3","_activities4","newIdsBySlug","buildActivityIdsBySlug","replacedIdsBySlug","newIds","currentActivityIds","newTxs","newTxsBySlug","newNewestTxsBySlug","txs","newTxId","replacedActivity","updatedIdsBySlug","indexOfTxId","updatedByTxId","_activities$localTran","_activities$byId","_activities$localTran2","_activities$byId2","_update$dapps","isPartialDeepEqual","authUpdate","titlePostfix","_partial","accountAmount","isMainnet","titlePrefix","postfix","_partial$title","withDeepCompare","currentTokens","_currentTokens$token$","_currentTokens$token$2","hardwareUpdate","settingsUpdate","biometricsUpdate","_nfts$orderedAddresse","_nfts$orderedAddresse2","_nfts$selectedAddress","_nfts$byAddress","removedNft","_nfts$selectedAddress2","_nfts$selectedAddress3","currentState","updateAccountStakingStatePartial","isReached","_activities$isHistory","baseFee","compositeFee","updatedBalance","memoized","HIDDEN_TOKENS_COST","selectAccountTokensMemoized","balanceBig","hasCost","gte","isExcepted","isMycoinWithBalance","tokenA","tokenB","indexA","indexB","createTokenList","sortFn","filterFn","_balancesBySlug$slug","selectPopularTokensMemoized","popularTokenOrder","orderMap","Map","orderIndexA","orderIndexB","selectSwapTokensMemoized","selectAccountTokensForSwapMemoized","_selectCurrentAccount5","hardwareAccounts","hardwareAccountIndexes","_global$byAccountId","requiredAccount","partId","Component","ComponentWrapper","newProps","useThrottledResolver","resolver","deps","msOrSchedulerFn","noFirst","setValue","getValue","ms","throttledResolver","useDebouncedResolver","noLast","useDebouncedSignal","debouncedResolver","createCallbackManager","blurCallbacks","focusCallbacks","runCallbacks","lastOnBlur","lastOnFocus","metaElementLight","getThemeColorMetaElement","metaElementDark","lightContent","darkContent","setAttribute","isLight","metaThemeColor","getElementsByTagName","MAX_MESSAGE_LENGTH","shouldSkipUndefined","shouldForceCurrent","prev","fnMemo","SafeArea","forceOnHeavyAnimationOnce","cssColorToHex","BLUR_TIMEOUT","COMPACT_MODAL_CSS_SELECTOR","controlledByMain","textInputTypes","safeAreaCache","safeArePromise","getSafeAreaInsets","insets","_controlledByMain$get","globalJson","forceOutdated","forceSyncOnIOs","noResetHeightOnBlur","dialogEl","openSelf","getComputedStyle","closeSelf","isDelegatedAndOpen","safeArea","setSafeArea","prevForceFullNative","blurTimeout","isInput","preventScrollOnFocus","isInCompactModal","set","delete","tagName","matches","opacity","RACE_TIMEOUT","CLOSING_DURATION","controlledByNative","prepare","_controlledByNative$g","lastOpenCall","closeCurrent","isDelegating","shouldOpen","prevShouldOpen","_closeCurrent","closeNext","delegate","release","useSignalEffect","resolverOrDependency","dependencies","_dependencies","isAsync","resolverRef","runCurrentResolver","currentResolver","resolverOrSignal","valueRef","isSync","useMediaQuery","screen","getIsLandscape","effect","debugKey","prevDepsRef","prevDeps","DRAG_DISTANCE_THRESHOLD","screenX","screenY","handleMousedown","sqrt","setTrue","setFalse","DEFAULT_DURATION","setTrigger","trigger","AUTO_END_TIMEOUT","startCallbacks","endCallbacks","isAnimating","onEnd","lastOnStart","lastOnEnd","PATH_BASE","pathname","search","historyUniqueSessionId","historyState","historyCursor","isAlteringHistory","deferredHistoryOperations","deferredPopstateOperations","TEST_getHistoryState","TEST_getHistoryCursor","applyDeferredHistoryOperations","goOperations","op","stateOperations","goCount","go","processStateOperations","deferHistoryOperation","historyOperation","resetHistory","back","replaceState","cleanupClosed","alreadyClosedCount","countClosed","isClosed","cleanupTrashedState","_historyState$i$onBac","_historyState$i","previousUniqueSessionId","_historyState$i$onBac2","_historyState$i2","lastOnBack","indexRef","wasReplaced","pushState","forceReplace","shouldReplace","previousRecord","_previousRecord$markR","markReplaced","processBack","shouldPreventDefault","deltaX","DEFAULT_LIST_SLICE","listIds","_currentStateRef$curr","listSlice","withResetOnInactive","requestParamsRef","currentStateRef","newViewportIds","newIsOnTop","getViewportSlice","isOnTop","prevSlug","prevListIds","prevIsDisabled","currentMiddleId","defaultOffsetId","areSomeLocal","areAllLocal","sourceIds","isForwards","indexForDirection","throttleWith","rootCallback","throttleScheduler","debounceMs","shouldSkipFirst","margin","controllerRef","rootCallbackRef","freezeFlagsRef","onUnfreezeRef","freeze","unfreeze","callbacks","clear","initController","entriesAccumulator","observerCallback","observerCallbackSync","callback","targetCallback","controller","targetRef","lastCallback","useIsIntersecting","setIsIntersecting","delay","langProvider","queriesMap","createQueryEntry","mql","matchMedia","dispatchers","querySubscribe","queryUnsubscribe","removeListener","getInitialState","_options$initializeWi","initializeWithValue","mediaData","isMediaReady","MENU_POSITION_VISUAL_COMFORT_SPACE_PX","MENU_POSITION_BOTTOM_MARGIN","EMPTY_RECT","anchor","setPositionX","setPositionY","setTransformOriginX","setTransformOriginY","withScroll","setWithScroll","setStyle","setMenuStyle","triggerEl","anchorX","anchorY","menuEl","rootEl","marginTop","parseInt","menuElWidth","menuElHeight","menuRect","rootRect","horizontalPosition","verticalPosition","triggerRect","addedYForPortalPositioning","addedXForPortalPositioning","leftWithPossibleNegative","menuMaxHeight","SPECIAL_CHARS_REGEX","requiredMinLength","setInvalidLength","setNoNumber","setNoUpperCase","setNoLowerCase","setNoSpecialChar","setNoEqual","isInvalidLength","toUpperCase","test","timeoutRef","isCurrentPresent","isPrevPresent","IS_PWA","metaViewport","defaultViewportContent","getAttribute","allowedZoomViewportContent","next","prevRef","lastRef","dispatchPriorityPlaybackEvent","QR_SIZE","hiddenClassName","hideLogo","withFormatTransferUrl","setIsInitialized","QrCodeStyling","dotsOptions","cornersSquareOptions","imageOptions","imageSize","crossOrigin","qrOptions","errorCorrectionLevel","_qrCode","append","_options","isSupported","supported","THRESHOLD","isAtBeginning","setIsAtBeginning","isAtEnd","setIsAtEnd","elementObserverMap","refOrElement","onIntersectionChange","onIntersectionChangeRef","callbackManager","hasCallbacks","onCloseTransitionEnd","noFirstOpenTransition","noOpenTransition","setIsClosed","closeTimeoutRef","hasOpenClassName","setHasOpenClassName","exec","shouldHaveOpenClassName","isClosing","_signalRef$current","signalRef","cleanupEffect","isSignal","isFirstRun","dependency","subscribe","cleanupRef","_cleanupRef$current","_effect","_cleanupRef$current2","savedCallback","idRef","ONE_SECOND","SHOW_INDICATOR_DELAY_MS","updateStartedAt","setIsUpdating","timeElapsedSinceLastUpdateStarted","loadMycoin","hasVesting","isMycoinLoaded","getTime","handleEvent","THROTTLE","initialWidth","initialHeight","initialScreenHeight","setWidth","setHeight","setScreenHeight","setIsResizing","setIsResizingDebounced","throttledSetIsResizing","throttledSetSize","newWidth","newHeight","newScreenHeight","handleResize","DP","RM","MAX_DP","MAX_POWER","NE","PE","STRICT","NAME","INVALID","INVALID_DP","INVALID_RM","DIV_BY_ZERO","P","UNDEFINED","NUMERIC","_Big_","strict","TypeError","prototype","roundDown","roundHalfEven","roundUp","nl","charAt","sd","rm","more","xc","doExponential","isNonzero","cmp","isneg","yc","j","div","dp","bl","bt","ri","bz","ai","al","r","rl","q","qc","qi","p","shift","eq","minus","sub","t","xlty","xe","ye","reverse","mod","ygtx","times","neg","pow","prec","half","toExponential","Symbol","for","toJSON","toPrecision","valueOf","safeExec","fastRaf","setPhase","pendingMeasureTasks","pendingMutationTasks","pendingForceReflowTasks","runUpdatePassOnRaf","throttleWithRafFallback","currentMeasureTasks","task","currentMutationTasks","pendingForceReflowMutationTasks","mutationTask","requestNextMutation","throttledFn","Element","methods","VisualViewport","Document","HTMLInputElement","MouseEvent","Range","LAYOUT_CAUSES","DEFAULT_ERROR_HANDLER","onError","nativeMethods","phase","isStrict","newPhase","getPhase","enableStrict","setupLayoutDetectors","setupMutationObserver","disableStrict","clearMutationObserver","clearLayoutDetectors","forcedMutationAllowedFor","forceMutation","nodes","setHandler","handler","causes","prop","_Object$getOwnPropert","nativeGetter","getOwnPropertyDescriptor","defineProperty","onMeasure","nativeMethod","apply","MutationObserver","mutations","attributeName","childList","attributes","subtree","characterData","_observer","propName","promise","RLottie","LOTTIE_LOAD_DELAY","module","NON_BUBBLEABLE_EVENTS","documentEventCounters","delegationRegistryByEventType","delegatedEventTypesByElement","asCapture","eventType","resolveEventType","canUseEventDelegation","addDelegatedListener","removeDelegatedListener","realEventType","resolveDelegationRegistry","resolveDelegatedEventTypes","removeAllDelegatedListeners","eventTypes","realEvent","events","furtherCallsPrevented","Proxy","Reflect","parentNode","existing","newSet","documentListenersCount","delegatedHandlersCount1","delegationRegistriesCount","delegatedHandlersCount2","delegationRegistry","delegationElementsCount","delegatedEventTypesCount","warn","captureImmediateEffects","hasElementChanged","isParentElement","mountComponent","MountState","renderComponent","unmountComponent","VirtualType","FILTERED_ATTRIBUTES","HTML_ATTRIBUTES","CONTROLLABLE_TAGS","MAPPED_ATTRIBUTES","autoPlay","INDEX_KEY_PREFIX","headsByElement","WeakMap","extraClasses","extraStyles","DEBUG_virtualTreeSize","$element","parentEl","runImmediateEffects","$head","$renderedChild","renderWithVirtual","DEBUG_addToVirtualTreeSize","$current","$new","$parent","_$new","_$new2","_$new3","skipComponentUpdate","fragment","nextSibling","isSvg","isCurrentComponent","isNewComponent","$newAsReal","isCurrentFragment","isNewFragment","Tag","tag","updateComponent","componentInstance","mountState","Mounted","setupComponentUpdateListener","newTarget","initComponent","mountChildren","canSetTextContent","Text","firstChild","createNode","insertBefore","setElementRef","remount","getNextSibling","isComponent","isFragment","renderChildren","forceMoveToEnd","$currentAsReal","isTag","$newAsTag","updateAttributes","New","$child","unmountChildren","createTextNode","createElementNS","processControlled","hasOwnProperty","processUncontrolledOnMount","componentNextSibling","replaceChild","unmountRealTree","lastChild","currentEl","DEBUG_checkKeyUniqueness","renderFastListChildren","currentChildren","newChildren","currentChildrenLength","newChildrenLength","createDocumentFragment","lastCurrentChild","fragmentNextSibling","newKeys","$newChild","currentRemainingIndex","remainingByKey","$currentChild","isKeyPresent","newChildKey","orderKey","fragmentIndex","fragmentSize","currentPreservedIndex","currentChildInfo","renderFragment","newOrderKey","shouldMoveNode","DOMElement","isValueControlled","isCheckedControlled","selectionEnd","isCaretAtEnd","selectionState","dataset","__teactSelectionState","defaultValue","defaultChecked","currentEntries","newEntries","currentValue","removeAttribute","updateClassName","inputEl","selectionStateJson","updateStyle","__html","endsWith","htmlElement","extra","extraArray","extraObject","applyExtraStyles","forceSingle","cn","standardStyles","assign","child","logUnequalProps","incrementOverlayCounter","orderBy","DEBUG_RENDER_THRESHOLD","DEBUG_EFFECT_THRESHOLD","DEBUG_SILENT_RENDERS_FOR","lastComponentId","renderingInstance","buildFragmentElement","createComponentInstance","buildTagElement","buildChildren","buildComponentElement","noEmpty","cleanChildren","dropEmptyTail","buildChildElement","isEmptyPlaceholder","DEBUG_components","TOTAL","DEBUG_memos","DEBUG_MEMOS_CALLS_THRESHOLD","avgRenderTime","calls","hitRate","instancesPendingUpdate","idsToExcludeFromUpdate","pendingEffects","pendingCleanups","pendingLayoutEffects","pendingLayoutCleanups","areImmediateEffectsCaptured","instancesToUpdate","currentCleanups","currentEffects","prepareComponentForFrame","instance","forceUpdateComponent","runCapturedImmediateEffects","currentLayoutCleanups","currentLayoutEffects","newRenderedValue","hooks","cursor","effects","memos","refs","DEBUG_startAt","componentName","DEBUG_resolveComponentName","log","performance","renderedValue","$old","_componentInstance$ho","byCursor","_effect$releaseSignal","releaseSignals","Unmounted","helpGc","hook","schedule","nextValue","setter","_componentInstance$ho2","currentElement","useEffectBase","isLayout","_byCursor$cursor","runEffectCleanup","runEffect","effectId","causedBy","res","setupSignals","cleanups","signal","debugHitRateKey","DEBUG_state","instanceKey","misses","newCallback","TeactMemoWrapper","DEBUG_contentComponentName","arePropsShallowEqual","DEBUG_currentCapturedId","DEBUG_releaseCapturedIdThrottled","actionHandlers","updateContainers","containers","runCallbacksThrottled","newGlobal","DEBUG_capturedId","actionQueue","handleAction","_actionHandlers$name","mapStateToProps","mappedProps","activateContainer","newMappedProps","DEBUG_componentName","DEBUG_updates","updateTime","activationFn","TeactNContainer","stuckTo","stickTo","ConnectorClass","channel","shouldUseJson","targetOrigin","_defineProperty","destroy","messageData","requestStates","requestStatesByCallback","messageId","requestState","withCallback","cancelCallback","progressCallback","isCanceled","_requestState$callbac","callbackArgs","_data$error","rawData","handleMessage","createExtensionConnector","getInitArgs","port","self","runtime","IS_DISABLED","tabKey","interval","_callback","animate","stopById","scrollId","path","remainingPath","isStopped","scrollSnapType","startAt","currentPath","currentInstance","animateSingle","tick","schedulerFn","isCancelled","cancelSingleAnimation","dumbScheduler","dumbCb","animateInstantly","linear","easeIn","easeOut","easeInOut","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeInOutCubic","easeInQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","t0","t1","progress","f","css","value1","value2","type1","type2","isArray1","isArray2","array1","array2","member1","object1","object2","keys1","key1","currentProps","currentKeys","currentKeysLength","newKeysLength","randomBytes","CREDENTIAL_SIZE","Buffer","encryptedPassword","encryptPassword","setCredentials","username","server","deleteCredentials","decryptPassword","credentials","getCredentials","PubkeyAlg","RP_NAME","USER_NAME","PAUSE","CREDENTIAL_TIMEOUT","rpId","userHandle","credBlob","publicKey","challenge","rp","user","displayName","pubKeyCredParams","alg","ES256","RS256","Ed25519","authenticatorSelection","requireResidentKey","userVerification","extensions","hmacCreateSecret","excludeCredentials","create","getClientExtensionResults","transports","getTransports","credentialId","rawId","allowCredentials","getCredBlob","assertion","equals","AbortController","aborted","_extensions$getCredBl","base64ToHex","base64","buffer","TEST_INTERVAL","FRAMES_TO_TEST","REDUCED_FPS","isImproved","betterView","lastFocusAt","setupInterval","testAndImprove","fps","testFps","improveView","frames","lastFrameAt","mean","containerEl","boosterEl","bigintDivideToNumber","bigintRandom","bytes","randomNumber","randomBigInt","bigintCountBits","binaryString","createClassNameBuilder","elementName","baseName","modifiers","modifier","cacheApi","caches","cacheName","Request","save","cacheData","Blob","ArrayBuffer","Response","put","currentPrice","changeFactor","EventEmitter","resolveChannel","emit","channels","Capacitor","Haptics","ImpactStyle","StatusBar","Style","BiometryType","NavigationBar","storageMethods","IOS_SPLASH_SCREEN_HIDE_DELAY","IOS_SPLASH_SCREEN_HIDE_DURATION","VIBRATE_SUCCESS_END_PAUSE_MS","launchUrl","isNativeBiometricAuthSupported","isFaceIdAvailable","isTouchIdAvailable","statusBarHeight","initCapacitor","_await$App$getLaunchU","getPlatform","biometricsAvailableResult","biometryType","FACE_ID","TOUCH_ID","fadeOutDuration","canGoBack","exitApp","setOverlaysWebView","overlay","setTransparency","isTransparent","getLaunchUrl","switchStatusBar","currentAppTheme","isSystemDark","forceDarkBackground","Dark","Light","clearLaunchUrl","Medium","withPauseOnEnd","fixIosAppStorage","isLocalStorageDataExists","isApiStorageDataExists","createPostMessageInterface","windowMethods","SecureStoragePlugin","resolvePromise","_await$get$catch","captureKeyboardListener","Lethargy","MOVE_THRESHOLD","SWIPE_THRESHOLD_DEFAULT","RELEASE_WHEEL_ZOOM_DELAY","RELEASE_WHEEL_DRAG_DELAY","getDistance","hypot","getTouchCenter","lastClickTime","lethargy","stability","sensitivity","tolerance","_options$initialZoom","_options$minZoom","_options$maxZoom","hasMoved","hasSwiped","isZooming","initialDistance","wheelZoom","initialZoom","initialDragOffset","isDragCanceled","currentWindowSize","initialTouchCenter","initialSwipeAxis","_options$onCapture","withCursor","onMove","selectorToPreventScroll","scrollable","overflow","newWindowSize","endDistance","touchCenter","shouldPreventScroll","_options$swipeThresho","xAbs","yAbs","swipeThreshold","axis","processSwipe","releaseWheelDrag","releaseWheelZoom","onWheelCapture","onWheelZoom","onWheelDrag","sign","dx","dy","is","metaKeyPressed","isUserEvent","currentSwipeAxis","offsets","Up","keyToHandlerName","Enter","Backspace","Delete","Esc","Escape","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","handlers","onDelete","onBackspace","onUp","onDown","onLeft","onRight","onTab","hasActiveHandlers","handlerName","currentEventHandlers","releaseKeyboardListener","keyHandlers","Clipboard","textCopyEl","write","string","clipboard","writeText","read","readText","param","hex","euclideanDistance","color1","color2","g","rgbToLab","rgb","z","rgbA","rgbB","l1","a1","b1","l2","a2","b2","c1","c2","deltaC","deltaL","deltaA","deltaB","deltaH","sl","sc","sh","deltaLKlsl","deltaCkcsc","deltaHkhsh","isAsc","DETACHED_TAB_URL","callbackState","api","shouldIgnoreErrors","sendToOrigin","transferables","handleErrors","onmessage","_message$data","createExtensionInterface","portName","cleanUpdater","withAutoInit","onConnect","_port$sender","sender","dAppUpdater","_api$init","lastArg","isTransferable","arrayBuffer","ImageBitmap","onerror","_e$error","_e$reason","reason","propertyName","fallbackMs","waitForEndEvent","animationName","detailedName","isHandled","handleAnimationEnd","TransitionEvent","AnimationEvent","cssColor","parseFloat","withCache","formatDayToStringWithCache","dayStartAt","noYear","monthFormat","noDay","withTime","toLocaleString","year","month","day","hour","minute","hourCycle","total","days","rtf","Intl","RelativeTimeFormat","localeMatcher","numeric","daysPlural","daysValue","formatToParts","hoursPlural","hoursValue","minutesPlural","minutesValue","datetime","isToday","isYesterday","today","getDayStart","getFullYear","todayStartAt","noDate","targetAt","getMinuteStart","getHours","getMinutes","setHours","setSeconds","yesterday","setDate","getDate","KEYS_TO_IGNORE","MIN_RENDERS_TO_SHOW","MIN_DURATION_TO_SHOW","BG_GREEN","counters","renderCountersThrottled","renderCounters","loggerEl","debugToOverlay","setupOverlay","dateFormatted","toLocaleTimeString","getMilliseconds","wasAtBottom","lastUpdateAt","halfSecondAgo","maxRenders","maxDuration","factorToHex","debugFps","ticks","avg","clearEl","factor","ten","noFloor","isLiteralObject","EQUAL","DELETE","__delete","DELETE_ALL_CHILDREN","__deleteAllChildren","deepDiff","areSortedArraysDeepEqual","keys2","allKeys","subValue1","subValue2","subDiff","deepMerge","reduceDiff","oldValue","TON_PROTOCOL","TONCONNECT_PROTOCOL","TONCONNECT_PROTOCOL_SELF","SELF_PROTOCOL","SELF_UNIVERSAL_URLS","TONCONNECT_UNIVERSAL_URL","CHECKIN_URL","logDebug","waitRender","DeeplinkCommand","urlAfterSignIn","isFromInAppBrowser","isTonConnectDeeplink","isSelfDeeplink","processTonConnectDeeplink","processSelfDeeplink","processTonDeeplink","verifiedAddress","_url$searchParams$get","_url$searchParams$get2","_url$searchParams$get3","searchParams","omitProtocol","openLoadingOverlay","returnUrl","u","deeplink","command","CheckinWithR","_pathname$match","toNumberOrEmptyString","BuyWithCrypto","BuyWithCard","zonesRegex","vip","gram","zone","isVipDnsDomain","isGramDnsDomain","removeVipZone","_value$match","base","removeGramZone","_value$match2","removeTonZone","initElectron","DEEPLINK","forceLoadFonts","SHORT_SYMBOLS","fractionDigits","noRadix","fixed","countSignificantDigits","toSignificant","formatted","addCurrency","prefix","formatCurrencyForBigValue","formattedValue","mainPart","digitsCount","digitsLastIndex","decimalIndex","fractionalPart","_SHORT_CURRENCY_SYMBO","APP_VERSION_REGEX","remoteVersion","appVersion","sanitizedRemoteVersion","noop","throttledAlert","handleErrorEvent","ErrorEvent","stack","display","newPartial","currentPartial","TON_ADDRESS_REGEX","TON_RAW_ADDRESS_REGEX","byKey","member","groupKey","newByKey","object","stringKeys","savedKeys","stringKey","orderRule","compareValues","currentOrderRule","aValue","bValue","mode1","mode2","orderRule1","orderRule2","isAsc1","isAsc2","array","chunkSize","isObject","predicate","range","arr","fromKeyValueArrays","extractKey","set2","defaultLangPackJson","DEFAULT_LANG_CODE","defaultLangPack","SUBSTITUTION_REGEX","langPack","currentLangCode","createLangFn","format","pluralValue","_langPack","cacheValue","langString","processTranslation","newLangPack","fetchRemote","langInfo","langName","langCachePrefix","langCacheVersion","ok","remote","processTemplate","template","translationSlices","initialValue","_value$index","processTemplateJsx","ledgerTabId","createLedgerTab","onRemoved","closedTabId","windowId","lastUpDeltas","lastDownDeltas","deltasTimestamp","lastDelta","originalEvent","wheelDelta","detail","isInertia","lastDeltas","lastDeltasOld","lastDeltasNew","oldSum","newSum","oldAverage","newAverage","lerp","interpolationRatio","roundToNearestEven","ttlSeconds","isCacheDisabled","isDisabledUntil","isStale","lastTime","lastArgs","lastResult","disableCache","IS_MULTITAB_SUPPORTED","BroadcastChannel","initMultitab","noPubGlobal","handleGlobalChange","handleMultitabMessage","omitLocalOnlyKeys","NativeAudio","incomingTransactionSound","DEBOUNCE_MS","AudioContextConstructor","AudioContext","webkitAudioContext","audioContext","audioBuffer","isSoundInitialized","resume","loadSound","preload","assetId","assetPath","audioChannelNum","isUrl","decodeAudioData","decodedAudioBuffer","createBufferSource","AppLauncher","couldOpenApp","openAppSafe","completed","sample","crypto","getRandomValues","Uint8Array","resolveRenderPromise","renderPromise","roundingMode","bn","SAFE_EXEC_ENABLED","rescue","always","context","_clearedValue$","selection","getSelection","rangeCount","getRangeAt","setStart","clearedValue","len","restore","getTextNodeAtPosition","removeAllRanges","newRange","setEnd","addRange","NODE_TYPE","NodeFilter","SHOW_TEXT","treeWalker","createTreeWalker","elem","FILTER_REJECT","FILTER_ACCEPT","nextNode","shouldRunFirst","shouldRunLast","waitingTimeout","_args","waiting","_len3","_key3","requestIdleCallback","rafPromise","FAST_RAF_TIMEOUT_FALLBACK_MS","fastRafCallbacks","fastRafFallbackCallbacks","fastRafFallbackTimeout","withTimeoutFallback","currentCallbacks","currentTimeoutCallbacks","onTickEndCallbacks","beforeUnloadCallbacks","attempts","DEFAULT_SHIFT","FILLER","FILLER_LENGTH","fromRight","SIGNAL_MARK","unsubscribesByEffect","currentEffect","unsubscribe","unsubscribes","getter","_unsubscribesByEffect","backendId","avalancheBlockchainIcon","bitcoinBlockchainIcon","bitcoincashBlockchainIcon","bnbBlockchainIcon","cardanoBlockchainIcon","cosmosBlockchainIcon","dashBlockchainIcon","dogeBlockchainIcon","eosBlockchainIcon","ethereumBlockchainIcon","ethereumclassicBlockchainIcon","internetcomputerBlockchainIcon","iotaBlockchainIcon","litecoinBlockchainIcon","moneroBlockchainIcon","polkadotBlockchainIcon","rippleBlockchainIcon","solanaBlockchainIcon","stellarBlockchainIcon","tonBlockchainIcon","tronBlockchainIcon","zcashBlockchainIcon","BLOCKCHAIN_ICON_MAP","avalanche","bitcoin","bitcoin_cash","binance_smart_chain","binance_dex","cardano","cosmos","dash","doge","eos","ethereum","ethereum_classic","internet_computer","iota","litecoin","monero","polkadot","ripple","solana","stellar","tron","zcash","networkName","_BLOCKCHAIN_ICON_MAP$","NETWORK_NAMES_EXCEPTIONS","_NETWORK_NAMES_EXCEPT","BTC","FIAT","LARGE_NUMBER","getCurrencyPriority","shouldTrimLargeNumber","fromAmountBig","toAmountBig","fromPriority","toPriority","isLargeNumber","INERTIA_DURATION","INERTIA_EASING","isSwipeActive","swipeOffsets","cancelCurrentReleaseAnimation","_options$onSwipeLeftS","onSwipeLeftStart","_options$onSwipeRight","_onDrag","_onRelease","nextSlide","onCancelForTransition","_cancelCurrentRelease","targetPosition","extractAnimationEndPosition","getAnimations","animationTimingFunction","currentDirection","computedStyle","initialPositionPx","extractPositionFromMatrix","targetPositionPx","units","dragOffset","newProgress","updateAnimationProgress","onCancelForClient","isRevertSwipe","cancel","releaseProgress","currentTime","getTiming","KeyframeEffect","keyframe","getKeyframes","extractPositionFromTransform","transformRule","matrix","ANIMATION_LEVEL_OPTIONS","levelClassName","currentLevel","prefersDark","setThemeValue","setThemeColor","handlePrefersColorSchemeChange","_document$querySelect","getPropertyValue","packageJson","maxProtocolVersion","features","maxMessages","_window$navigator","userAgent","userAgentData","macosPlatforms","windowsPlatforms","iphonePlatforms","ipadPlatforms","devicePlatform","focusableElements","currentFocusedIndex","em","isSameNode","newFocusedIndex","URL_REGEX","VALID_PROTOCOLS","validProtocols","urlObject","protocol","getTonExplorerBaseUrl","getTokenExplorerBaseUrl","nftCollectionAddress","iosPlatforms","maxTouchPoints","isIPad","getBrowserLanguage","language","standalone","referrer","PLATFORM_ENV","IS_CHROME_EXTENSION","_window$chrome","system","devicePixelRatio","fontSize","WINDOW_RESIZE_THROTTLE_MS","WINDOW_ORIENTATION_CHANGE_THROTTLE_MS","SAFE_AREA_INITIALIZATION_DELAY","innerHeight","visualViewport","getSafeAreaTop","safeAreaBottom","getSafeAreaBottom","patchVh","patchSafeAreaProperty","pageTop","vh","fnCache","cacheKey","restoreStorage","selfXssWarnings","en","ru","es","zh"],"sourceRoot":""}